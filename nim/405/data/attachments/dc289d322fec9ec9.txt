[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-10-24_11-32-22__5ecc0cff-803a-4b29-ab29-41e36f717df1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-24_11-32-22__5ecc0cff-803a-4b29-ab29-41e36f717df1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.140.153
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11622', '11623', '11624', '11625', '11626']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11622:11622 -p 11623:11623 -p 11624:11624 -p 11625:11625 -p 11626:11626 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11624 --rest-port=11622 --tcp-port=11623 --discv5-udp-port=11625 --rest-address=0.0.0.0 --nat=extip:172.18.140.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=66fc9fb563fc0a615ef2da8dffaa676fdf6ee9cd8ca4de3099ace4c85cdb368e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11626 --metrics-logging=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 859f9f392592. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.140.153 waku 69e414ddeb5e1dc8a334427386404e11d312e9fb1efe72f94eadf640a22ec456
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 69e414ddeb5e. Setting up logs at ./log/docker/node1_2024-10-24_11-32-22__5ecc0cff-803a-4b29-ab29-41e36f717df1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11622
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11622/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11622/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.140.153/tcp/11623/p2p/16Uiu2HAmVbPjmnjNJYngjRG14X8XZ1yzfk4CmeFtLVnoyVmFRCzB","/ip4/172.18.140.153/tcp/11624/ws/p2p/16Uiu2HAmVbPjmnjNJYngjRG14X8XZ1yzfk4CmeFtLVnoyVmFRCzB"],"enrUri":"enr:-LO4QBzR9Qqz8KPXnmwoH_rV1j3_fNByc6eueG-UAB_B2jDicm99shFwVOfHf71KYE3ME0Xgo1piKyuZAM71KT59O6UBgmlkgnY0gmlwhKwSjJmKbXVsdGlhZGRyc4wACgSsEoyZBi1o3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP7qsyLWDWegg5cO-j3l-QfIPZsVGRDsPHTqNJE1iGyoIN0Y3CCLWeDdWRwgi1phXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-24_11-32-22__5ecc0cff-803a-4b29-ab29-41e36f717df1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.142.27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29809', '29810', '29811', '29812', '29813']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29809:29809 -p 29810:29810 -p 29811:29811 -p 29812:29812 -p 29813:29813 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29811 --rest-port=29809 --tcp-port=29810 --discv5-udp-port=29812 --rest-address=0.0.0.0 --nat=extip:172.18.142.27 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=79f123ba105c5cfd21ddad8e7ab7dd1ab88426d1f59ebe4ae6ca316eedf49fc7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29813 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBzR9Qqz8KPXnmwoH_rV1j3_fNByc6eueG-UAB_B2jDicm99shFwVOfHf71KYE3ME0Xgo1piKyuZAM71KT59O6UBgmlkgnY0gmlwhKwSjJmKbXVsdGlhZGRyc4wACgSsEoyZBi1o3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP7qsyLWDWegg5cO-j3l-QfIPZsVGRDsPHTqNJE1iGyoIN0Y3CCLWeDdWRwgi1phXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.142.27 waku b32be578cc8d64356ac922c6847f7593a7602a501a2d6ff5431f6bd6dadc6fa2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b32be578cc8d. Setting up logs at ./log/docker/node2_2024-10-24_11-32-22__5ecc0cff-803a-4b29-ab29-41e36f717df1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 29809
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29809/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29809/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.142.27/tcp/29810/p2p/16Uiu2HAmCTtAzNxnXFhwwELpQMEg2pWq3oG5HpChQihU5bMiFLfg","/ip4/172.18.142.27/tcp/29811/ws/p2p/16Uiu2HAmCTtAzNxnXFhwwELpQMEg2pWq3oG5HpChQihU5bMiFLfg"],"enrUri":"enr:-LO4QCdw5R8EbYuBsNnVTN_cVL31DzaZr7R6QQ-VveiQAc2mB6VLK3bY4mELF71Xa2mgMIhDwQKXQbCi0ei3SMcQieMBgmlkgnY0gmlwhKwSjhuKbXVsdGlhZGRyc4wACgSsEo4bBnRz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL9J6BHJZ2rnhbUg64UQhqmhVEy_WVS2ZfZLTyByk5eL4N0Y3CCdHKDdWRwgnR0hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29809/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.140.153/tcp/11623/p2p/16Uiu2HAmVbPjmnjNJYngjRG14X8XZ1yzfk4CmeFtLVnoyVmFRCzB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-24_11-32-22__5ecc0cff-803a-4b29-ab29-41e36f717df1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.109.97
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61090', '61091', '61092', '61093', '61094']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61090:61090 -p 61091:61091 -p 61092:61092 -p 61093:61093 -p 61094:61094 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61092 --rest-port=61090 --tcp-port=61091 --discv5-udp-port=61093 --rest-address=0.0.0.0 --nat=extip:172.18.109.97 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c504bbaaf6ebe00e4fa0ca75df98cf081a6689bde348d46c4d4761bccb03be6e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61094 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBzR9Qqz8KPXnmwoH_rV1j3_fNByc6eueG-UAB_B2jDicm99shFwVOfHf71KYE3ME0Xgo1piKyuZAM71KT59O6UBgmlkgnY0gmlwhKwSjJmKbXVsdGlhZGRyc4wACgSsEoyZBi1o3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP7qsyLWDWegg5cO-j3l-QfIPZsVGRDsPHTqNJE1iGyoIN0Y3CCLWeDdWRwgi1phXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.109.97 waku b0b7487876111def802d160fe49610fa04257da897d6ca51f9d35d0634806d59
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b0b748787611. Setting up logs at ./log/docker/node3_2024-10-24_11-32-22__5ecc0cff-803a-4b29-ab29-41e36f717df1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61090
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61090/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61090/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.109.97/tcp/61091/p2p/16Uiu2HAkzX9gLbCQCQT5XoVMaiR7ZJFKn3MWDiHfrNYNG3isCLxd","/ip4/172.18.109.97/tcp/61092/ws/p2p/16Uiu2HAkzX9gLbCQCQT5XoVMaiR7ZJFKn3MWDiHfrNYNG3isCLxd"],"enrUri":"enr:-LO4QDXTnE3JGfW-VweVIh9-Sg5p7Ig8b3c8iHkZV0mGpLHmMLmfUnDkjYmXCb5qwJI55PdE9ZT0k9CFYmToVDxXvtoBgmlkgnY0gmlwhKwSbWGKbXVsdGlhZGRyc4wACgSsEm1hBu6k3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJLsah49sjJ_dP0WCB52R2DoMhj0Ip1KTUUa9fu4lAqvoN0Y3CC7qODdWRwgu6lhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61090/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.140.153/tcp/11623/p2p/16Uiu2HAmVbPjmnjNJYngjRG14X8XZ1yzfk4CmeFtLVnoyVmFRCzB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-24_11-32-22__5ecc0cff-803a-4b29-ab29-41e36f717df1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.225.164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32340', '32341', '32342', '32343', '32344']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32340:32340 -p 32341:32341 -p 32342:32342 -p 32343:32343 -p 32344:32344 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32342 --rest-port=32340 --tcp-port=32341 --discv5-udp-port=32343 --rest-address=0.0.0.0 --nat=extip:172.18.225.164 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eb46c9be0df79c7dd56abd8cd0a7d823e5cfcc39d12fc97f1abef033cbecfc84 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32344 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBzR9Qqz8KPXnmwoH_rV1j3_fNByc6eueG-UAB_B2jDicm99shFwVOfHf71KYE3ME0Xgo1piKyuZAM71KT59O6UBgmlkgnY0gmlwhKwSjJmKbXVsdGlhZGRyc4wACgSsEoyZBi1o3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP7qsyLWDWegg5cO-j3l-QfIPZsVGRDsPHTqNJE1iGyoIN0Y3CCLWeDdWRwgi1phXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.225.164 waku d0943be06685e51b0452b8ad609fdce5b9255e49625c158b59623f03e99d519b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d0943be06685. Setting up logs at ./log/docker/node4_2024-10-24_11-32-22__5ecc0cff-803a-4b29-ab29-41e36f717df1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32340
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32340/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32340/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.164/tcp/32341/p2p/16Uiu2HAkxgoTiRPaLaWwW1JnKhfnMW47sxwNstLN3KwvLBAoWKhH","/ip4/172.18.225.164/tcp/32342/ws/p2p/16Uiu2HAkxgoTiRPaLaWwW1JnKhfnMW47sxwNstLN3KwvLBAoWKhH"],"enrUri":"enr:-LO4QPImZWfiY4ztA9xEPjv2bDVkECOcyJt9MXLx3AtxqSWaVkk3fsxgCjBazcRpcVFbjuvSbUw6AZ6x1ach2aWxzHUBgmlkgnY0gmlwhKwS4aSKbXVsdGlhZGRyc4wACgSsEuGkBn5W3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIwcztvOebZO13RqQQ4mEzVdxT9h9skG4SlrRIH0-JGsIN0Y3CCflWDdWRwgn5XhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32340/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.140.153/tcp/11623/p2p/16Uiu2HAmVbPjmnjNJYngjRG14X8XZ1yzfk4CmeFtLVnoyVmFRCzB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-24_11-32-22__5ecc0cff-803a-4b29-ab29-41e36f717df1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.162.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37199', '37200', '37201', '37202', '37203']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37199:37199 -p 37200:37200 -p 37201:37201 -p 37202:37202 -p 37203:37203 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37201 --rest-port=37199 --tcp-port=37200 --discv5-udp-port=37202 --rest-address=0.0.0.0 --nat=extip:172.18.162.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=329e2695564ad406f0c51c2aeeeb47d5f88b55cbcb8db00eaeb4d23ffdecec7f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37203 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBzR9Qqz8KPXnmwoH_rV1j3_fNByc6eueG-UAB_B2jDicm99shFwVOfHf71KYE3ME0Xgo1piKyuZAM71KT59O6UBgmlkgnY0gmlwhKwSjJmKbXVsdGlhZGRyc4wACgSsEoyZBi1o3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP7qsyLWDWegg5cO-j3l-QfIPZsVGRDsPHTqNJE1iGyoIN0Y3CCLWeDdWRwgi1phXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.162.159 waku 1d62da6b06e953e3cce890e62e9f575c7be7795cb870d3bdbfb802e540ae0c94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1d62da6b06e9. Setting up logs at ./log/docker/node5_2024-10-24_11-32-22__5ecc0cff-803a-4b29-ab29-41e36f717df1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 37199
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37199/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37199/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.162.159/tcp/37200/p2p/16Uiu2HAmMpxQdKNGSZQNFTQcRSyWysxjVzacR4uMLNUxdpt6WHiQ","/ip4/172.18.162.159/tcp/37201/ws/p2p/16Uiu2HAmMpxQdKNGSZQNFTQcRSyWysxjVzacR4uMLNUxdpt6WHiQ"],"enrUri":"enr:-LO4QAq8HU2IF0VUV1duDVMzmhosOHC4gwSrwettnp7Ix_Q3Lojr-EU_YxgVQp8wGHeI0bjIE7nz8EDE9Bv4ehLtI2QBgmlkgnY0gmlwhKwSop-KbXVsdGlhZGRyc4wACgSsEqKfBpFR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOIRstIn9VsDyvZu0TLfQs3_RriSruiYGje7vgV5OajGYN0Y3CCkVCDdWRwgpFShXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37199/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.140.153/tcp/11623/p2p/16Uiu2HAmVbPjmnjNJYngjRG14X8XZ1yzfk4CmeFtLVnoyVmFRCzB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11622/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29809/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61090/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32340/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37199/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729769551045166848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29809/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729769551045166848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61090/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729769551045166848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32340/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729769551045166848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729769551045166848,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729769551193465344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29809/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729769551193465344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61090/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729769551193465344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32340/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729769551193465344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729769551193465344,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 69e414ddeb5e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b32be578cc8d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 69e414ddeb5e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b0b748787611
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b32be578cc8d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d0943be06685
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b0b748787611. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1d62da6b06e9
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d0943be06685. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.