[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_end_time_now with id: 2024-10-24_11-53-25__c28f3767-96d0-4ec4-8b53-712508d48162
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-24_11-53-25__c28f3767-96d0-4ec4-8b53-712508d48162__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.105.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40427', '40428', '40429', '40430', '40431']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40427:40427 -p 40428:40428 -p 40429:40429 -p 40430:40430 -p 40431:40431 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40429 --rest-port=40427 --tcp-port=40428 --discv5-udp-port=40430 --rest-address=0.0.0.0 --nat=extip:172.18.105.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eaa6fd0d5b0b6d53fdaddf8ada9ec0cea5aea8ed0ac3305da0a8bd3ad1efa050 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40431 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.160.85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10880', '10881', '10882', '10883', '10884']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10880:10880 -p 10881:10881 -p 10882:10882 -p 10883:10883 -p 10884:10884 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10882 --rest-port=10880 --tcp-port=10881 --discv5-udp-port=10883 --rest-address=0.0.0.0 --nat=extip:172.18.160.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b6a3dd035f2e84dcfc2e2ee7eeedc8ee449fbc143cbea3289bdc2f1d15de50f0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10884 --metrics-logging=true --store=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 95efbbe45612. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.160.85 waku 07d56cc35e636adedbaa30728c959c7e80ec714810911afba645bd9df160f16d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 07d56cc35e63. Setting up logs at ./log/docker/publishing_node1_2024-10-24_11-53-25__c28f3767-96d0-4ec4-8b53-712508d48162__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 10880
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10880/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10880/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.85/tcp/10881/p2p/16Uiu2HAmQkT6xDakfKUVYSZ4Df4VMLpTHzyF3ES1HZC1Y71vAFWh","/ip4/172.18.160.85/tcp/10882/ws/p2p/16Uiu2HAmQkT6xDakfKUVYSZ4Df4VMLpTHzyF3ES1HZC1Y71vAFWh"],"enrUri":"enr:-LO4QKaxWt_Nv8hl1pnhImtctXFnkpaEyiZ92PxMgJTC9WdNdokwgORM1nReO1E4qA4pVDKvID-dQxhIRh0DPJ-N2VoBgmlkgnY0gmlwhKwSoFWKbXVsdGlhZGRyc4wACgSsEqBVBiqC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOzsmWLf_Cslw1TmZab1-1p_Bu7WIJhj9TuspkKWg4HaoN0Y3CCKoGDdWRwgiqDhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-24_11-53-25__c28f3767-96d0-4ec4-8b53-712508d48162__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.116.187
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7393', '7394', '7395', '7396', '7397']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7393:7393 -p 7394:7394 -p 7395:7395 -p 7396:7396 -p 7397:7397 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7395 --rest-port=7393 --tcp-port=7394 --discv5-udp-port=7396 --rest-address=0.0.0.0 --nat=extip:172.18.116.187 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2e2a514cc38f5b62fdbe8a010f42fe6c596c3c6eb0a358640f12e3493c6f0d5e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7397 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKaxWt_Nv8hl1pnhImtctXFnkpaEyiZ92PxMgJTC9WdNdokwgORM1nReO1E4qA4pVDKvID-dQxhIRh0DPJ-N2VoBgmlkgnY0gmlwhKwSoFWKbXVsdGlhZGRyc4wACgSsEqBVBiqC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOzsmWLf_Cslw1TmZab1-1p_Bu7WIJhj9TuspkKWg4HaoN0Y3CCKoGDdWRwgiqDhXdha3UyAw --storenode=/ip4/172.18.160.85/tcp/10881/p2p/16Uiu2HAmQkT6xDakfKUVYSZ4Df4VMLpTHzyF3ES1HZC1Y71vAFWh --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.116.187 waku e655cea6213dfd876034303a6694120531013f0a10f3968ee4eca5558fa59f60
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e655cea6213d. Setting up logs at ./log/docker/store_node1_2024-10-24_11-53-25__c28f3767-96d0-4ec4-8b53-712508d48162__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7393
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7393/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7393/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.187/tcp/7394/p2p/16Uiu2HAmUgarCTPvGpHpZJnkbJaVD4ovz7HWG28PVYzTgqa9fBEU","/ip4/172.18.116.187/tcp/7395/ws/p2p/16Uiu2HAmUgarCTPvGpHpZJnkbJaVD4ovz7HWG28PVYzTgqa9fBEU"],"enrUri":"enr:-LO4QLcpjCY8Lj0307GXfo9IiswJ4qzUqVQAYIKih_AO-5mACNd46WxnyR_9U37bPM-Y2QoqUg1vYGE-NsbX6Lvy0lQBgmlkgnY0gmlwhKwSdLuKbXVsdGlhZGRyc4wACgSsEnS7Bhzj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPuI5RBOAmHjlwERblTLf1oUKPTW47YHqTaiuyL5zJgBYN0Y3CCHOKDdWRwghzkhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7393/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.160.85/tcp/10881/p2p/16Uiu2HAmQkT6xDakfKUVYSZ4Df4VMLpTHzyF3ES1HZC1Y71vAFWh"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10880/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7393/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:196 inquering stored messages with start time 1729770802950481920 after end time 1729770819668308992
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10880/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1729770802950481920&endTime=1729770819668308992&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"oC2iFiJyiAi9UTBTsEuoZ2Ss07stHYWafbFHEU8Buj4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729770802950481920,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"S5/+2TtcWAGr2t8Wjt8NvBB44vRzKyiyG15z5bDpiaM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729770804950488064,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"FljKrm2SC7eGAUZ9Y61Ir/io+NX6qQsu5PIBkJcxhUY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729770805850490112,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"9D8O1lslgVWjWxphli8Qp0GSul6CRDnRYFceX9t8GMg=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729770807950494976,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"mBfXtGESrW2gOKqIXUDota5aGGik1Xl9W3oYvfyp6RQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729770815950496000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:199 number of messages stored for start time 1729770802950481920 and end time = 1729770819668308992 is  5
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 07d56cc35e63
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e655cea6213d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 07d56cc35e63. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-10-24_11-53-25__c28f3767-96d0-4ec4-8b53-712508d48162__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-10-24_11-53-25__c28f3767-96d0-4ec4-8b53-712508d48162__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_end_time_now with id: 2024-10-24_11-53-43__4a0f1c4d-d01a-4c22-8ac0-dfcdc15a4f24
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-24_11-53-43__4a0f1c4d-d01a-4c22-8ac0-dfcdc15a4f24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.254.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33162', '33163', '33164', '33165', '33166']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33162:33162 -p 33163:33163 -p 33164:33164 -p 33165:33165 -p 33166:33166 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33164 --rest-port=33162 --tcp-port=33163 --discv5-udp-port=33165 --rest-address=0.0.0.0 --nat=extip:172.18.254.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=00e434ebfca7df08397d5aa1b2db3796babfccd51e561ec03ac3592e4b148fba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33166 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.254.221 waku 3fe8cf7cfa4b142edbc78e219de26a2a8bbf5d88c530bd1db81d02a6dd8a81a2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3fe8cf7cfa4b. Setting up logs at ./log/docker/publishing_node1_2024-10-24_11-53-43__4a0f1c4d-d01a-4c22-8ac0-dfcdc15a4f24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33162
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e655cea6213d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33162/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33162/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.254.221/tcp/33163/p2p/16Uiu2HAmUP5sdiEoWjmgZijd9o1qK6UGagDqT6Thjcms95wMVpJN","/ip4/172.18.254.221/tcp/33164/ws/p2p/16Uiu2HAmUP5sdiEoWjmgZijd9o1qK6UGagDqT6Thjcms95wMVpJN"],"enrUri":"enr:-LO4QJV0aAHjrnGV2_Um_feiktJ9QyW7S3mK6NbbZ9UtlSUbORPVd3dT-fykhtfHTSoyaGCUVcuM4IdPqaABIE_lh2QBgmlkgnY0gmlwhKwS_t2KbXVsdGlhZGRyc4wACgSsEv7dBoGM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPpp_Fk27LsIZnKR_urjTBZQF9gLEyCmXVl_MG8utvx64N0Y3CCgYuDdWRwgoGNhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-24_11-53-43__4a0f1c4d-d01a-4c22-8ac0-dfcdc15a4f24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.82.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4902', '4903', '4904', '4905', '4906']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4902:4902 -p 4903:4903 -p 4904:4904 -p 4905:4905 -p 4906:4906 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4904 --rest-port=4902 --tcp-port=4903 --discv5-udp-port=4905 --rest-address=0.0.0.0 --nat=extip:172.18.82.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=18cffad56fac65ab30ba7b58fa453bc1a724c8d644aecfdfa6fe74accdbdff3e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4906 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJV0aAHjrnGV2_Um_feiktJ9QyW7S3mK6NbbZ9UtlSUbORPVd3dT-fykhtfHTSoyaGCUVcuM4IdPqaABIE_lh2QBgmlkgnY0gmlwhKwS_t2KbXVsdGlhZGRyc4wACgSsEv7dBoGM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPpp_Fk27LsIZnKR_urjTBZQF9gLEyCmXVl_MG8utvx64N0Y3CCgYuDdWRwgoGNhXdha3UyAw --storenode=/ip4/172.18.254.221/tcp/33163/p2p/16Uiu2HAmUP5sdiEoWjmgZijd9o1qK6UGagDqT6Thjcms95wMVpJN --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.82.82 waku d8b72c110ba4b251da0e3ca302f8bb8b3749a0f6683a5ceb8402c41b56a0886b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d8b72c110ba4. Setting up logs at ./log/docker/store_node1_2024-10-24_11-53-43__4a0f1c4d-d01a-4c22-8ac0-dfcdc15a4f24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4902
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4902/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4902/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.82/tcp/4903/p2p/16Uiu2HAm9Nqj5BfydsFM2TQHKKjL1rawBVQA4ABdnkX8bSzvHDU1","/ip4/172.18.82.82/tcp/4904/ws/p2p/16Uiu2HAm9Nqj5BfydsFM2TQHKKjL1rawBVQA4ABdnkX8bSzvHDU1"],"enrUri":"enr:-LO4QEFq_xw28qkwXWtaUjjNENbExypRfQhX9KFq5JaXpMW3Q_z0DQ1wLUDfLcyaWTMHM_4hy5tsjrBcsXeMO9IURqEBgmlkgnY0gmlwhKwSUlKKbXVsdGlhZGRyc4wACgSsElJSBhMo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLPSeUEoyN4cT0yA8_dEjV66smVWRg2BVRV0kKCEFvzfoN0Y3CCEyeDdWRwghMphXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4902/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.254.221/tcp/33163/p2p/16Uiu2HAmUP5sdiEoWjmgZijd9o1qK6UGagDqT6Thjcms95wMVpJN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33162/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4902/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:196 inquering stored messages with start time 1729770820043369984 after end time 1729770836529943040
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33162/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1729770820043369984&endTime=1729770836529943040&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"sPYVoRlL3TUzrrKdFdYEMuL2PUAF/+7bXEl8I8l9az4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729770820043369984,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"VbXQLh0d7sRnVYML0/07aabrn3FRH9ixFmWq//PxrQ0=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729770822043375104,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"1RRaDUltAejPQ7brIozX6g1hiS4lA1ChW3mXs01+VlM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729770822943376896,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"vf2U1Dgpjh1S5I/NuSxi/+v7JHIpdE1DE+4m7xhjaIU=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729770825043380992,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"grlvN8p7PLiLsMtNYtuqkLBUQbbLL+LYMAUjqeJQfe8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729770833043382784,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:199 number of messages stored for start time 1729770820043369984 and end time = 1729770836529943040 is  5
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3fe8cf7cfa4b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d8b72c110ba4
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3fe8cf7cfa4b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-10-24_11-53-43__4a0f1c4d-d01a-4c22-8ac0-dfcdc15a4f24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-10-24_11-53-43__4a0f1c4d-d01a-4c22-8ac0-dfcdc15a4f24__wakuorg_nwaku:latest.log