[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_subscribe_with_invalid_pubsub_topic_format with id: 2024-08-27_07-07-33__2c6ef510-9a0f-43a3-94f0-4ac805cb0434
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-27_07-07-33__2c6ef510-9a0f-43a3-94f0-4ac805cb0434__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.180.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['55029', '55030', '55031', '55032', '55033']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 55029:55029 -p 55030:55030 -p 55031:55031 -p 55032:55032 -p 55033:55033 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55031 --rest-port=55029 --tcp-port=55030 --discv5-udp-port=55032 --rest-address=0.0.0.0 --nat=extip:172.18.180.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bce5c1893df55a9d06a7a9eecc8223aa9ed3aaf03d2ae0d0e53a1ea1a91b2b8c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55033 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.180.136 waku 1d7bf4591b0fe464cec3616b4004386327fe98129f8999dd37e001042f4c1b17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1d7bf4591b0f. Setting up logs at ./log/docker/node1_2024-08-27_07-07-33__2c6ef510-9a0f-43a3-94f0-4ac805cb0434__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55029
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55029/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55029/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.180.136/tcp/55030/p2p/16Uiu2HAm4B1vVfsiXijJa7xJCuwn7QKyjDzMQkNhQv1dUsPf8rwu","/ip4/172.18.180.136/tcp/55031/ws/p2p/16Uiu2HAm4B1vVfsiXijJa7xJCuwn7QKyjDzMQkNhQv1dUsPf8rwu"],"enrUri":"enr:-LO4QK9bA5tWwMkX3vAvv8jVX19d48apP2yEwZXmqrBoyNxKMQT864qyAgW8-G_SI3xjsBSLPE1RoV4ze4moQqVW4DgBgmlkgnY0gmlwhKwStIiKbXVsdGlhZGRyc4wACgSsErSIBtb33QOCcnOFAAMBAACJc2VjcDI1NmsxoQKB-AUc2adeMVeEq37dre_5Anpn-UO0m-qyYYc_4CI3jIN0Y3CC1vaDdWRwgtb4hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-27_07-07-33__2c6ef510-9a0f-43a3-94f0-4ac805cb0434__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.103.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48514', '48515', '48516', '48517', '48518']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48514:48514 -p 48515:48515 -p 48516:48516 -p 48517:48517 -p 48518:48518 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48516 --rest-port=48514 --tcp-port=48515 --discv5-udp-port=48517 --rest-address=0.0.0.0 --nat=extip:172.18.103.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b882b635a3fadfa5faaef123d5ab4b0d6e9cee41aff8bcd9f2ecbffbffcfc4d3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48518 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QK9bA5tWwMkX3vAvv8jVX19d48apP2yEwZXmqrBoyNxKMQT864qyAgW8-G_SI3xjsBSLPE1RoV4ze4moQqVW4DgBgmlkgnY0gmlwhKwStIiKbXVsdGlhZGRyc4wACgSsErSIBtb33QOCcnOFAAMBAACJc2VjcDI1NmsxoQKB-AUc2adeMVeEq37dre_5Anpn-UO0m-qyYYc_4CI3jIN0Y3CC1vaDdWRwgtb4hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.103.94 waku e477992c53986c4aa7b6068585922c9a410eb6f0a5e42bd6ba4f8880f2868b84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e477992c5398. Setting up logs at ./log/docker/node2_2024-08-27_07-07-33__2c6ef510-9a0f-43a3-94f0-4ac805cb0434__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48514
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48514/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48514/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.94/tcp/48515/p2p/16Uiu2HAmPdn28yHN4piJx2ut7PWZgT9PVD6vuTU2r4x3VHUxojRw","/ip4/172.18.103.94/tcp/48516/ws/p2p/16Uiu2HAmPdn28yHN4piJx2ut7PWZgT9PVD6vuTU2r4x3VHUxojRw"],"enrUri":"enr:-LO4QH89XmDwyWuECrlicjkYcpAOaSHU6T8auJ_vtFqJ__XvClzOBcdbkLmiJ7GqI72cwnSMphffnp6CtoVipikDy1cBgmlkgnY0gmlwhKwSZ16KbXVsdGlhZGRyc4wACgSsEmdeBr2E3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOjIQiYmOFVlEBF6tN6r-IuntnpgrvAnt0yrmit6g99DoN0Y3CCvYODdWRwgr2FhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48514/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.180.136/tcp/55030/p2p/16Uiu2HAm4B1vVfsiXijJa7xJCuwn7QKyjDzMQkNhQv1dUsPf8rwu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:37 Running test with payload /test/2/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55029/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:55029/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:37 Running test with payload /waku/3/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55029/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:55029/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:37 Running test with payload /waku/2/test/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55029/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:55029/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:37 Running test with payload /waku/2/rs/3/b
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55029/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:55029/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:37 Running test with payload /waku/2/rs/0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55029/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:55029/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1d7bf4591b0f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e477992c5398
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.