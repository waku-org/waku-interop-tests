[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_combination_of_different_nodes with id: 2024-08-27_06-57-17__a4df8f57-4166-4114-8635-8a71ff542378
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-27_06-57-17__a4df8f57-4166-4114-8635-8a71ff542378__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.95.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44327', '44328', '44329', '44330', '44331']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44327:44327 -p 44328:44328 -p 44329:44329 -p 44330:44330 -p 44331:44331 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44329 --rest-port=44327 --tcp-port=44328 --discv5-udp-port=44330 --rest-address=0.0.0.0 --nat=extip:172.18.95.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d8505b15fa5decd316391e78bbfdd2ead31c13ee1ee8b54fedf9643c8b7dfd7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44331 --metrics-logging=true --lightpush=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.95.68 waku 8ef57d449d010129bd8ae4faa6587c270d92d030f5d0dc52404d011de4a276bf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8ef57d449d01. Setting up logs at ./log/docker/receiving_node1_2024-08-27_06-57-17__a4df8f57-4166-4114-8635-8a71ff542378__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44327
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44327/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44327/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.68/tcp/44328/p2p/16Uiu2HAmD98E4uvpURZUt9G4HLV75xy9cLphtq6fmLQn1Rpzv7qh","/ip4/172.18.95.68/tcp/44329/ws/p2p/16Uiu2HAmD98E4uvpURZUt9G4HLV75xy9cLphtq6fmLQn1Rpzv7qh"],"enrUri":"enr:-LO4QDBDvq61EwsnNbpDJwU-nNe2dM1WSdliKEV9ktTplhwdX3uQ_846HO4S7F8nM97McLVooH8qt_6k-WO39e8ROzEBgmlkgnY0gmlwhKwSX0SKbXVsdGlhZGRyc4wACgSsEl9EBq0p3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMHNSrhME3U0j38vlKfijQTxNMpQjGd10QPM4-bKGZqGIN0Y3CCrSiDdWRwgq0qhXdha3UyDQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-27_06-57-17__a4df8f57-4166-4114-8635-8a71ff542378__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.76.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['5947', '5948', '5949', '5950', '5951']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 5947:5947 -p 5948:5948 -p 5949:5949 -p 5950:5950 -p 5951:5951 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5949 --rest-port=5947 --tcp-port=5948 --discv5-udp-port=5950 --rest-address=0.0.0.0 --nat=extip:172.18.76.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f17a426fcea0ed46de7c688ae617246e8faa7d219c06bdd8c9bdda107ea8be8f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5951 --metrics-logging=true --lightpush=false --relay=false --filternode=/ip4/172.18.95.68/tcp/44328/p2p/16Uiu2HAmD98E4uvpURZUt9G4HLV75xy9cLphtq6fmLQn1Rpzv7qh
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.76.207 waku 6880b6040e332fc2c1f8018f0e7752310fd6b187769767fa7f0c3331cbed4d00
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6880b6040e33. Setting up logs at ./log/docker/receiving_node2_2024-08-27_06-57-17__a4df8f57-4166-4114-8635-8a71ff542378__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5947
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5947/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5947/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.207/tcp/5948/p2p/16Uiu2HAmAsQc1PoVUp2uUo15RSHkLoyD4yA6oL2ttEq6jQMQAfqX","/ip4/172.18.76.207/tcp/5949/ws/p2p/16Uiu2HAmAsQc1PoVUp2uUo15RSHkLoyD4yA6oL2ttEq6jQMQAfqX"],"enrUri":"enr:-LO4QOni7EsrqveCnuQgUFp6Aq5Vrz813bEj-ZFGSmZki8p8cIzeEY5tRpDZlkdtuJo_eHO4F4Xaxl7_SeURLzvGuCwBgmlkgnY0gmlwhKwSTM-KbXVsdGlhZGRyc4wACgSsEkzPBhc93QOCcnOFAAMBAACJc2VjcDI1NmsxoQLldwUIoomoiCeBCyERG20N4LTyfniLNXzSPq-5MUjQboN0Y3CCFzyDdWRwghc-hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5947/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.95.68/tcp/44328/p2p/16Uiu2HAmD98E4uvpURZUt9G4HLV75xy9cLphtq6fmLQn1Rpzv7qh"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-27_06-57-17__a4df8f57-4166-4114-8635-8a71ff542378__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.73.109
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['14050', '14051', '14052', '14053', '14054']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 14050:14050 -p 14051:14051 -p 14052:14052 -p 14053:14053 -p 14054:14054 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14052 --rest-port=14050 --tcp-port=14051 --discv5-udp-port=14053 --rest-address=0.0.0.0 --nat=extip:172.18.73.109 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0a0cacb6fecf232d6ba38b7eadde98be0ddef5487a7b5f9245ebad976bc2ad46 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14054 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDBDvq61EwsnNbpDJwU-nNe2dM1WSdliKEV9ktTplhwdX3uQ_846HO4S7F8nM97McLVooH8qt_6k-WO39e8ROzEBgmlkgnY0gmlwhKwSX0SKbXVsdGlhZGRyc4wACgSsEl9EBq0p3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMHNSrhME3U0j38vlKfijQTxNMpQjGd10QPM4-bKGZqGIN0Y3CCrSiDdWRwgq0qhXdha3UyDQ --lightpushnode=/ip4/172.18.95.68/tcp/44328/p2p/16Uiu2HAmD98E4uvpURZUt9G4HLV75xy9cLphtq6fmLQn1Rpzv7qh --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.73.109 waku 4f06262dbb04832f2c5dfe7372a703ccd3d72b225e58e8284455589585f83aff
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4f06262dbb04. Setting up logs at ./log/docker/lightpush_node1_2024-08-27_06-57-17__a4df8f57-4166-4114-8635-8a71ff542378__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 14050
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14050/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14050/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.109/tcp/14051/p2p/16Uiu2HAmG8AV63f8t6dNyLspxHCfax23nRKEB8Upk4jtSNtnAUkf","/ip4/172.18.73.109/tcp/14052/ws/p2p/16Uiu2HAmG8AV63f8t6dNyLspxHCfax23nRKEB8Upk4jtSNtnAUkf"],"enrUri":"enr:-LO4QIFguQBJfMHOg0-vUSW31Lg6ANpzn7TurKsqZpApq-HGJuwFydrRq-WDjKomEUJjhgXlMexLnNkoj8CyG2VaFqUBgmlkgnY0gmlwhKwSSW2KbXVsdGlhZGRyc4wACgSsEkltBjbk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMziTOhTeKcNxO0usdgmlHxHQcgeK7E-DOVzAroVQZniIN0Y3CCNuODdWRwgjblhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14050/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.95.68/tcp/44328/p2p/16Uiu2HAmD98E4uvpURZUt9G4HLV75xy9cLphtq6fmLQn1Rpzv7qh"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14050/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.76.207/tcp/5948/p2p/16Uiu2HAmAsQc1PoVUp2uUo15RSHkLoyD4yA6oL2ttEq6jQMQAfqX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-27_06-57-17__a4df8f57-4166-4114-8635-8a71ff542378__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.254.11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['41267', '41268', '41269', '41270', '41271']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 41267:41267 -p 41268:41268 -p 41269:41269 -p 41270:41270 -p 41271:41271 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41269 --rest-port=41267 --tcp-port=41268 --discv5-udp-port=41270 --rest-address=0.0.0.0 --nat=extip:172.18.254.11 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e470fe996765afa020c3069ece1bcfdec5be963dcae4ba45da97bb5d96026fca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41271 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDBDvq61EwsnNbpDJwU-nNe2dM1WSdliKEV9ktTplhwdX3uQ_846HO4S7F8nM97McLVooH8qt_6k-WO39e8ROzEBgmlkgnY0gmlwhKwSX0SKbXVsdGlhZGRyc4wACgSsEl9EBq0p3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMHNSrhME3U0j38vlKfijQTxNMpQjGd10QPM4-bKGZqGIN0Y3CCrSiDdWRwgq0qhXdha3UyDQ --lightpushnode=/ip4/172.18.95.68/tcp/44328/p2p/16Uiu2HAmD98E4uvpURZUt9G4HLV75xy9cLphtq6fmLQn1Rpzv7qh --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.254.11 waku 953bc86561740ddb01b2720d60b1950d027adba66a013d53f2ceb4775f0621e7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 953bc8656174. Setting up logs at ./log/docker/lightpush_node2_2024-08-27_06-57-17__a4df8f57-4166-4114-8635-8a71ff542378__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 41267
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41267/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41267/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.254.11/tcp/41268/p2p/16Uiu2HAmUTHqSwApvFZHbESjFAKbja9tbYXTJ9kcyr216AtBViVs","/ip4/172.18.254.11/tcp/41269/ws/p2p/16Uiu2HAmUTHqSwApvFZHbESjFAKbja9tbYXTJ9kcyr216AtBViVs"],"enrUri":"enr:-LO4QF7VL2Pb6HPBMMWiPn82g8EtuVkyDOrCGFt1R8RS6IPHdOQJlIcCFcliGLtS39JDQ_fvEcau95gf4SfbupFKI5sBgmlkgnY0gmlwhKwS_guKbXVsdGlhZGRyc4wACgSsEv4LBqE13QOCcnOFAAMBAACJc2VjcDI1NmsxoQPqu8rBVwu_KyIz9EZ1GgXOfAqwcP5j_Jube5uqclXJ7oN0Y3CCoTSDdWRwgqE2hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41267/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.95.68/tcp/44328/p2p/16Uiu2HAmD98E4uvpURZUt9G4HLV75xy9cLphtq6fmLQn1Rpzv7qh"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41267/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.76.207/tcp/5948/p2p/16Uiu2HAmAsQc1PoVUp2uUo15RSHkLoyD4yA6oL2ttEq6jQMQAfqX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44327/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41267/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5947/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/myapp/1/latest/proto"], "pubsubTopic": "/waku/2/rs/3/0"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14050/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724741854247856128}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44327/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741854247856128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41267/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741854247856128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41267/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724741854370927104}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44327/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741854370927104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41267/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741854370927104,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5947/filter/v2/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741854247856128,"ephemeral":false},{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741854370927104,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8ef57d449d01
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6880b6040e33
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4f06262dbb04
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 953bc8656174
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'oom': ['INF 2024-08-27 06:57:19.620+00:00 DNS: discoverable ENR                      topics="waku node" tid=1 file=waku_node.nim:1302 enr=enr:-LO4QOni7EsrqveCnuQgUFp6Aq5Vrz813bEj-ZFGSmZki8p8cIzeEY5tRpDZlkdtuJo_eHO4F4Xaxl7_SeURLzvGuCwBgmlkgnY0gmlwhKwSTM-KbXVsdGlhZGRyc4wACgSsEkzPBhc93QOCcnOFAAMBAACJc2VjcDI1NmsxoQLldwUIoomoiCeBCyERG20N4LTyfniLNXzSPq-5MUjQboN0Y3CCFzyDdWRwghc-hXdha3UyAA', 'INF 2024-08-27 06:57:19.620+00:00 Discv5: discoverable ENR                   topics="waku discv5" tid=1 file=waku_discv5.nim:317 enr=enr:-LO4QOni7EsrqveCnuQgUFp6Aq5Vrz813bEj-ZFGSmZki8p8cIzeEY5tRpDZlkdtuJo_eHO4F4Xaxl7_SeURLzvGuCwBgmlkgnY0gmlwhKwSTM-KbXVsdGlhZGRyc4wACgSsEkzPBhc93QOCcnOFAAMBAACJc2VjcDI1NmsxoQLldwUIoomoiCeBCyERG20N4LTyfniLNXzSPq-5MUjQboN0Y3CCFzyDdWRwghc-hXdha3UyAA']
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_combination_of_different_nodes with id: 2024-08-27_06-57-46__cb538c21-12bb-4370-be38-705974a9875a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-27_06-57-46__cb538c21-12bb-4370-be38-705974a9875a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.42.195
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['28739', '28740', '28741', '28742', '28743']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 28739:28739 -p 28740:28740 -p 28741:28741 -p 28742:28742 -p 28743:28743 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28741 --rest-port=28739 --tcp-port=28740 --discv5-udp-port=28742 --rest-address=0.0.0.0 --nat=extip:172.18.42.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d3fba3cce9ebeebdc0a67eca70ca68fadcdfa4bcb3a23fb3ccd1aed5bbeb2c16 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28743 --metrics-logging=true --lightpush=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.42.195 waku b4190d6bb51ef10b668cb744dd7b6891ec965ee8b809946e39c9db73c486850d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b4190d6bb51e. Setting up logs at ./log/docker/receiving_node1_2024-08-27_06-57-46__cb538c21-12bb-4370-be38-705974a9875a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28739
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28739/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28739/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.42.195/tcp/28740/p2p/16Uiu2HAmGzhAc2rqYRrGFV11sLZF8fRhwzqzxqNL7hqNk6AsawGE","/ip4/172.18.42.195/tcp/28741/ws/p2p/16Uiu2HAmGzhAc2rqYRrGFV11sLZF8fRhwzqzxqNL7hqNk6AsawGE"],"enrUri":"enr:-LO4QPc0r8DWEFS76Eq7mgcp0dqZZOaYQZkqwvAv3hduDcogeKSNtpb-OekxYYtLBJ6PwRufDVdgcuJFiN02fzaRWPYBgmlkgnY0gmlwhKwSKsOKbXVsdGlhZGRyc4wACgSsEirDBnBF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNAeu8B0w_GZbok975wCL2g0vN-lHmnPpiZrTtMwFyPs4N0Y3CCcESDdWRwgnBGhXdha3UyDQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-27_06-57-46__cb538c21-12bb-4370-be38-705974a9875a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.121.173
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32760', '32761', '32762', '32763', '32764']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32760:32760 -p 32761:32761 -p 32762:32762 -p 32763:32763 -p 32764:32764 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32762 --rest-port=32760 --tcp-port=32761 --discv5-udp-port=32763 --rest-address=0.0.0.0 --nat=extip:172.18.121.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bea968dddcedbab4ce5de1778e1b5cf4b49e5bc95b3ec1ffbfd1f0fb449dfe55 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32764 --metrics-logging=true --lightpush=false --relay=false --filternode=/ip4/172.18.42.195/tcp/28740/p2p/16Uiu2HAmGzhAc2rqYRrGFV11sLZF8fRhwzqzxqNL7hqNk6AsawGE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.121.173 waku 51a4160872849b8567c910e31edfac30fc2e103aedd59830df00b03c087893f9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 51a416087284. Setting up logs at ./log/docker/receiving_node2_2024-08-27_06-57-46__cb538c21-12bb-4370-be38-705974a9875a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32760
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32760/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32760/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.173/tcp/32761/p2p/16Uiu2HAm9j6hCDW2jt3ZRfXF1Xh1WXSkNXcaRojQ3Pn8fe76SXuB","/ip4/172.18.121.173/tcp/32762/ws/p2p/16Uiu2HAm9j6hCDW2jt3ZRfXF1Xh1WXSkNXcaRojQ3Pn8fe76SXuB"],"enrUri":"enr:-LO4QCFiiWqXZa8GNZYA3LPALV48CzqHoJmYO_piFHHGL4RQZR615_2Lcaet15ogHnwmSXdXTrwCKTrrTodvF3hX6bUBgmlkgnY0gmlwhKwSea2KbXVsdGlhZGRyc4wACgSsEnmtBn_63QOCcnOFAAMBAACJc2VjcDI1NmsxoQLUem9JPDG129ZFgPOV_PV65KqAY9XKwoRGoEH6bnruQoN0Y3CCf_mDdWRwgn_7hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32760/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.42.195/tcp/28740/p2p/16Uiu2HAmGzhAc2rqYRrGFV11sLZF8fRhwzqzxqNL7hqNk6AsawGE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-27_06-57-46__cb538c21-12bb-4370-be38-705974a9875a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.246.135
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['43323', '43324', '43325', '43326', '43327']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 43323:43323 -p 43324:43324 -p 43325:43325 -p 43326:43326 -p 43327:43327 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43325 --rest-port=43323 --tcp-port=43324 --discv5-udp-port=43326 --rest-address=0.0.0.0 --nat=extip:172.18.246.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8e3306c2a304c0bfcc8fdcac3273234310da8e4fe19a2824e5375840dc45a4e3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43327 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPc0r8DWEFS76Eq7mgcp0dqZZOaYQZkqwvAv3hduDcogeKSNtpb-OekxYYtLBJ6PwRufDVdgcuJFiN02fzaRWPYBgmlkgnY0gmlwhKwSKsOKbXVsdGlhZGRyc4wACgSsEirDBnBF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNAeu8B0w_GZbok975wCL2g0vN-lHmnPpiZrTtMwFyPs4N0Y3CCcESDdWRwgnBGhXdha3UyDQ --lightpushnode=/ip4/172.18.42.195/tcp/28740/p2p/16Uiu2HAmGzhAc2rqYRrGFV11sLZF8fRhwzqzxqNL7hqNk6AsawGE --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.246.135 waku fc567fab0e2109abcda5f31b78bf837953cda9c2a337fd05853ced55c06a6678
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fc567fab0e21. Setting up logs at ./log/docker/lightpush_node1_2024-08-27_06-57-46__cb538c21-12bb-4370-be38-705974a9875a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43323
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43323/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43323/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.135/tcp/43324/p2p/16Uiu2HAmPHqDxD17KpZXKX4e48KH5MqU5hLADYRQTQhAPCDR5ina","/ip4/172.18.246.135/tcp/43325/ws/p2p/16Uiu2HAmPHqDxD17KpZXKX4e48KH5MqU5hLADYRQTQhAPCDR5ina"],"enrUri":"enr:-LO4QLAOFbRhh9oBOdJETc6H2JhmqMZRSJcuTUd0CSaw1Y5CcmSlawTY_jmuNLDTm6kgmb11dnvbf4TTqqb7rRlrv_4BgmlkgnY0gmlwhKwS9oeKbXVsdGlhZGRyc4wACgSsEvaHBqk93QOCcnOFAAMBAACJc2VjcDI1NmsxoQOeBQoyNbIFXbLR9HenOaRNjZNpdXUzrows9wjtOb_Ld4N0Y3CCqTyDdWRwgqk-hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43323/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.42.195/tcp/28740/p2p/16Uiu2HAmGzhAc2rqYRrGFV11sLZF8fRhwzqzxqNL7hqNk6AsawGE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43323/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.121.173/tcp/32761/p2p/16Uiu2HAm9j6hCDW2jt3ZRfXF1Xh1WXSkNXcaRojQ3Pn8fe76SXuB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-27_06-57-46__cb538c21-12bb-4370-be38-705974a9875a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.67.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['41423', '41424', '41425', '41426', '41427']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 41423:41423 -p 41424:41424 -p 41425:41425 -p 41426:41426 -p 41427:41427 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41425 --rest-port=41423 --tcp-port=41424 --discv5-udp-port=41426 --rest-address=0.0.0.0 --nat=extip:172.18.67.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=77da0eff1bbc8cecebac8d8da238e6ed46953ed42cdeb6427f3ffcda029a16b2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41427 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPc0r8DWEFS76Eq7mgcp0dqZZOaYQZkqwvAv3hduDcogeKSNtpb-OekxYYtLBJ6PwRufDVdgcuJFiN02fzaRWPYBgmlkgnY0gmlwhKwSKsOKbXVsdGlhZGRyc4wACgSsEirDBnBF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNAeu8B0w_GZbok975wCL2g0vN-lHmnPpiZrTtMwFyPs4N0Y3CCcESDdWRwgnBGhXdha3UyDQ --lightpushnode=/ip4/172.18.42.195/tcp/28740/p2p/16Uiu2HAmGzhAc2rqYRrGFV11sLZF8fRhwzqzxqNL7hqNk6AsawGE --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.67.82 waku 907b9e6761fb5657bc186176672cc32f37846d38f6287476f480a2260d5b7372
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 907b9e6761fb. Setting up logs at ./log/docker/lightpush_node2_2024-08-27_06-57-46__cb538c21-12bb-4370-be38-705974a9875a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 41423
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41423/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41423/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.67.82/tcp/41424/p2p/16Uiu2HAmAWmyQKfq72r5Xy91NgMQJZnjo1hBw45fd7q9zpD2otEM","/ip4/172.18.67.82/tcp/41425/ws/p2p/16Uiu2HAmAWmyQKfq72r5Xy91NgMQJZnjo1hBw45fd7q9zpD2otEM"],"enrUri":"enr:-LO4QGFkWAvyXmmxK_WlJn6Ga2MdcVBDnN70mudhGTsTHtm8FE4N0SPGo6N2igRyNYyndCTHSjShjgt_zSox9pF5zbABgmlkgnY0gmlwhKwSQ1KKbXVsdGlhZGRyc4wACgSsEkNSBqHR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLgLfwLT8ov1kDAcE-fIelbvbqB6tZxu3bfY57PWOfBMoN0Y3CCodCDdWRwgqHShXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41423/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.42.195/tcp/28740/p2p/16Uiu2HAmGzhAc2rqYRrGFV11sLZF8fRhwzqzxqNL7hqNk6AsawGE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41423/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.121.173/tcp/32761/p2p/16Uiu2HAm9j6hCDW2jt3ZRfXF1Xh1WXSkNXcaRojQ3Pn8fe76SXuB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28739/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41423/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32760/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/myapp/1/latest/proto"], "pubsubTopic": "/waku/2/rs/3/0"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43323/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724741883213760768}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28739/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741883213760768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41423/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741883213760768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41423/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724741883338958848}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28739/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741883338958848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41423/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741883338958848,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32760/filter/v2/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741883213760768,"ephemeral":false},{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741883338958848,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b4190d6bb51e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 51a416087284
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fc567fab0e21
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 907b9e6761fb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.