[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_after_node_pauses_and_pauses with id: 2024-08-27_06-52-50__5ee30e91-a6bd-4acb-96f3-ac7e97d9735d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-27_06-52-50__5ee30e91-a6bd-4acb-96f3-ac7e97d9735d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.162.183
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3074', '3075', '3076', '3077', '3078']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3074:3074 -p 3075:3075 -p 3076:3076 -p 3077:3077 -p 3078:3078 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3076 --rest-port=3074 --tcp-port=3075 --discv5-udp-port=3077 --rest-address=0.0.0.0 --nat=extip:172.18.162.183 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5e5aeeef7efb9fb92b8a32b64d6372dcecccbfced39cdb2e3e81f1dd280bbe06 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3078 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.162.183 waku d30f6ab59bbbbc82213b0b97e5309907460fe647da2db92596cf9239a24ca100
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d30f6ab59bbb. Setting up logs at ./log/docker/node1_2024-08-27_06-52-50__5ee30e91-a6bd-4acb-96f3-ac7e97d9735d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3074
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3074/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3074/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.162.183/tcp/3075/p2p/16Uiu2HAmFRGM1NmM7BfR9rKev47N3ngEaJYJQPH7LxDCL7EDYBzU","/ip4/172.18.162.183/tcp/3076/ws/p2p/16Uiu2HAmFRGM1NmM7BfR9rKev47N3ngEaJYJQPH7LxDCL7EDYBzU"],"enrUri":"enr:-LO4QP-Rg8qeBNmCSXZYbybcBSwznmRKA0I745ZoaDhtmUf4MLrPiopg1r3N4bF6a_66LELIQoqo1rHKh5FsfjH9fLMBgmlkgnY0gmlwhKwSoreKbXVsdGlhZGRyc4wACgSsEqK3BgwE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMpDwPkMC5ld7pDsGtVvL2wUeJ0-3XhgtFX67e40s11JYN0Y3CCDAODdWRwggwFhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-27_06-52-50__5ee30e91-a6bd-4acb-96f3-ac7e97d9735d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.35.166
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16798', '16799', '16800', '16801', '16802']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16798:16798 -p 16799:16799 -p 16800:16800 -p 16801:16801 -p 16802:16802 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16800 --rest-port=16798 --tcp-port=16799 --discv5-udp-port=16801 --rest-address=0.0.0.0 --nat=extip:172.18.35.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f2575fe6eecb78bf1fabd0c4c89558fba03cb8eeffd86ecdf82ec164528d3faf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16802 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QP-Rg8qeBNmCSXZYbybcBSwznmRKA0I745ZoaDhtmUf4MLrPiopg1r3N4bF6a_66LELIQoqo1rHKh5FsfjH9fLMBgmlkgnY0gmlwhKwSoreKbXVsdGlhZGRyc4wACgSsEqK3BgwE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMpDwPkMC5ld7pDsGtVvL2wUeJ0-3XhgtFX67e40s11JYN0Y3CCDAODdWRwggwFhXdha3UyBQ --filternode=/ip4/172.18.162.183/tcp/3075/p2p/16Uiu2HAmFRGM1NmM7BfR9rKev47N3ngEaJYJQPH7LxDCL7EDYBzU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.35.166 waku fb0a52de8d56b6841404c781ac30aa2c069d13937f09adcffcbc59dcbc0e3133
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fb0a52de8d56. Setting up logs at ./log/docker/node2_2024-08-27_06-52-50__5ee30e91-a6bd-4acb-96f3-ac7e97d9735d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16798
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16798/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16798/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.166/tcp/16799/p2p/16Uiu2HAm41aM6MTDshQvePWosrEebxHETi9gcdzW2XVNXZgdZJjH","/ip4/172.18.35.166/tcp/16800/ws/p2p/16Uiu2HAm41aM6MTDshQvePWosrEebxHETi9gcdzW2XVNXZgdZJjH"],"enrUri":"enr:-LO4QNT2YpQ7MFWbGbUUng_f2x8FhMdBDfhlLoNx51bOZfLRWlItjOEiECa-PsbL0RDWSWJSx5TyssXG_AD7K5PUK5EBgmlkgnY0gmlwhKwSI6aKbXVsdGlhZGRyc4wACgSsEiOmBkGg3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ_jN-57iqg_8ZNcQImkPF0kshlymSWzslVlu5XsShPmIN0Y3CCQZ-DdWRwgkGhhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16798/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.162.183/tcp/3075/p2p/16Uiu2HAmFRGM1NmM7BfR9rKev47N3ngEaJYJQPH7LxDCL7EDYBzU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3074/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16798/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b48c0ba4-5819-49d3-8ce8-5ce6238ae8b8", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b48c0ba4-5819-49d3-8ce8-5ce6238ae8b8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3074/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16798/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724741574103481088,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:249 Pausing container with id d30f6ab59bbb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:254 Unpause container with id d30f6ab59bbb
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3074/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TTE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16798/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TTE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724741574236132864,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:249 Pausing container with id fb0a52de8d56
[35mDEBUG   [0m src.node.waku_node:waku_node.py:254 Unpause container with id fb0a52de8d56
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3074/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TTI=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16798/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TTI=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724741574377385472,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d30f6ab59bbb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fb0a52de8d56
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.