[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-08-27_07-00-57__b3782c80-fc43-47a2-b4ac-0c2449083fb1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-27_07-00-57__b3782c80-fc43-47a2-b4ac-0c2449083fb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.33.223
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44046', '44047', '44048', '44049', '44050']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44046:44046 -p 44047:44047 -p 44048:44048 -p 44049:44049 -p 44050:44050 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44048 --rest-port=44046 --tcp-port=44047 --discv5-udp-port=44049 --rest-address=0.0.0.0 --nat=extip:172.18.33.223 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c048d5fdd8321d9c8b39dbf40dcdb9b6ba8ddbd1d2afac610dbb7b22df88b582 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44050 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.33.223 waku aa0fda1a5c7ce478ce2093b88a21c7929ecfb5cac2a6f23621cadfdc56b932dc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID aa0fda1a5c7c. Setting up logs at ./log/docker/node1_2024-08-27_07-00-57__b3782c80-fc43-47a2-b4ac-0c2449083fb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44046
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44046/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44046/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.223/tcp/44047/p2p/16Uiu2HAm98cLoFyb3eJN3hDLsomyjVr47ZrXp5wGLt9cbdu9RtKz","/ip4/172.18.33.223/tcp/44048/ws/p2p/16Uiu2HAm98cLoFyb3eJN3hDLsomyjVr47ZrXp5wGLt9cbdu9RtKz"],"enrUri":"enr:-LO4QMti1Ux4NbMMgWd6F4-dvBJWMTCqat1D-QA0lQPL9n-DNfoOC74yWxIYLNPhFXBdVHl2o3Y0Gz_IXDtc_jzW5CgBgmlkgnY0gmlwhKwSId-KbXVsdGlhZGRyc4wACgSsEiHfBqwQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLLpKFAT69ogIncYpg0k0aub7FPf2pk_Qcx9jZVqGQQOYN0Y3CCrA-DdWRwgqwRhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-27_07-00-57__b3782c80-fc43-47a2-b4ac-0c2449083fb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.141.205
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40487', '40488', '40489', '40490', '40491']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40487:40487 -p 40488:40488 -p 40489:40489 -p 40490:40490 -p 40491:40491 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40489 --rest-port=40487 --tcp-port=40488 --discv5-udp-port=40490 --rest-address=0.0.0.0 --nat=extip:172.18.141.205 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff62a91daeab67e9a5ce4ac2e1cf328b8a6588e9e2e4f0cbf096e3facbbbadfb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40491 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QMti1Ux4NbMMgWd6F4-dvBJWMTCqat1D-QA0lQPL9n-DNfoOC74yWxIYLNPhFXBdVHl2o3Y0Gz_IXDtc_jzW5CgBgmlkgnY0gmlwhKwSId-KbXVsdGlhZGRyc4wACgSsEiHfBqwQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLLpKFAT69ogIncYpg0k0aub7FPf2pk_Qcx9jZVqGQQOYN0Y3CCrA-DdWRwgqwRhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.141.205 waku cf50c04cf0e8077e371fa473154ba8916c8c7aa0dd158695d0466abd94db5f9c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cf50c04cf0e8. Setting up logs at ./log/docker/node2_2024-08-27_07-00-57__b3782c80-fc43-47a2-b4ac-0c2449083fb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40487
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40487/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40487/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.205/tcp/40488/p2p/16Uiu2HAkvY1U6qWfHt13z1wxgEBmibhgHdhcyQtWxn3MR2Woi9L2","/ip4/172.18.141.205/tcp/40489/ws/p2p/16Uiu2HAkvY1U6qWfHt13z1wxgEBmibhgHdhcyQtWxn3MR2Woi9L2"],"enrUri":"enr:-LO4QNFq00swq5oQhOpNkHU5XfqOFM34GKzh3-XnC1h8mMc8XGSpZOVAGJJG9HsvAkGvdvf4D71Vmm7e6fpEEw54x8ABgmlkgnY0gmlwhKwSjc2KbXVsdGlhZGRyc4wACgSsEo3NBp4p3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIQezT-jjSNQNdxw_Lgsncpvi9Ymg4497Mwt13NgnowF4N0Y3CCniiDdWRwgp4qhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40487/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.223/tcp/44047/p2p/16Uiu2HAm98cLoFyb3eJN3hDLsomyjVr47ZrXp5wGLt9cbdu9RtKz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-08-27_07-00-57__b3782c80-fc43-47a2-b4ac-0c2449083fb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.198.16
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['31205', '31206', '31207', '31208', '31209']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 31205:31205 -p 31206:31206 -p 31207:31207 -p 31208:31208 -p 31209:31209 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31207 --rest-port=31205 --tcp-port=31206 --discv5-udp-port=31208 --rest-address=0.0.0.0 --nat=extip:172.18.198.16 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=127b1c6ccffc7eeaf19c8ea97abd49193dfebc829fb8ecefbd29efc1c2d9f5bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31209 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QMti1Ux4NbMMgWd6F4-dvBJWMTCqat1D-QA0lQPL9n-DNfoOC74yWxIYLNPhFXBdVHl2o3Y0Gz_IXDtc_jzW5CgBgmlkgnY0gmlwhKwSId-KbXVsdGlhZGRyc4wACgSsEiHfBqwQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLLpKFAT69ogIncYpg0k0aub7FPf2pk_Qcx9jZVqGQQOYN0Y3CCrA-DdWRwgqwRhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.198.16 waku b52529b3aae3bd9d2428723f5f0cf7fc46ee9b5f01764cfbf6adad1fc018db1b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b52529b3aae3. Setting up logs at ./log/docker/node3_2024-08-27_07-00-57__b3782c80-fc43-47a2-b4ac-0c2449083fb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 31205
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31205/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31205/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.198.16/tcp/31206/p2p/16Uiu2HAmSVP2g3Bp5B2tDutWBPiRnUfPTtk3cNZMvN4e2ywyitBi","/ip4/172.18.198.16/tcp/31207/ws/p2p/16Uiu2HAmSVP2g3Bp5B2tDutWBPiRnUfPTtk3cNZMvN4e2ywyitBi"],"enrUri":"enr:-LO4QL4MeNAqIGehvP9b6YRmIglY533T9-bewE0i9saeLpj4cGHh_lT40TPvuc5TxxPuNt3267k30YX6JBfpIfP3fdYBgmlkgnY0gmlwhKwSxhCKbXVsdGlhZGRyc4wACgSsEsYQBnnn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPNjXO_uqhyEFkWl3iBgQ6ULoAsbrLT5aLO-RBj3h9TwYN0Y3CCeeaDdWRwgnnohXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31205/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.223/tcp/44047/p2p/16Uiu2HAm98cLoFyb3eJN3hDLsomyjVr47ZrXp5wGLt9cbdu9RtKz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-08-27_07-00-57__b3782c80-fc43-47a2-b4ac-0c2449083fb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.120.188
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16420', '16421', '16422', '16423', '16424']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16420:16420 -p 16421:16421 -p 16422:16422 -p 16423:16423 -p 16424:16424 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16422 --rest-port=16420 --tcp-port=16421 --discv5-udp-port=16423 --rest-address=0.0.0.0 --nat=extip:172.18.120.188 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e0fe072d7f834c8de99cc83babe650d4f3597b097c3eefdbb32f0b27dea3eac1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16424 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QMti1Ux4NbMMgWd6F4-dvBJWMTCqat1D-QA0lQPL9n-DNfoOC74yWxIYLNPhFXBdVHl2o3Y0Gz_IXDtc_jzW5CgBgmlkgnY0gmlwhKwSId-KbXVsdGlhZGRyc4wACgSsEiHfBqwQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLLpKFAT69ogIncYpg0k0aub7FPf2pk_Qcx9jZVqGQQOYN0Y3CCrA-DdWRwgqwRhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.120.188 waku ec365a27dd7a82cd3a4e4c7b924c10c91821655754c070900d0ab084b2574e8f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ec365a27dd7a. Setting up logs at ./log/docker/node4_2024-08-27_07-00-57__b3782c80-fc43-47a2-b4ac-0c2449083fb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16420
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16420/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16420/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.120.188/tcp/16421/p2p/16Uiu2HAmLiQgd4rNUzHp2x1PJoABYTDD2mttYxXpQsodwEvBw3Sn","/ip4/172.18.120.188/tcp/16422/ws/p2p/16Uiu2HAmLiQgd4rNUzHp2x1PJoABYTDD2mttYxXpQsodwEvBw3Sn"],"enrUri":"enr:-LO4QGKfqTb8xuUt9iKSmL5tg3CiZTX7BKWMcYWxCSSmqCpWPy8-7o6ETmhAoJ4YRn5sC7kusyNA1aj7UDoUmGhBy78BgmlkgnY0gmlwhKwSeLyKbXVsdGlhZGRyc4wACgSsEni8BkAm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN3vcBp1Q3S2WVSGqHZ7VaX2CPoimU6sg4nRz-gKNvJj4N0Y3CCQCWDdWRwgkAnhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16420/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.223/tcp/44047/p2p/16Uiu2HAm98cLoFyb3eJN3hDLsomyjVr47ZrXp5wGLt9cbdu9RtKz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-08-27_07-00-57__b3782c80-fc43-47a2-b4ac-0c2449083fb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.172.36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48741', '48742', '48743', '48744', '48745']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48741:48741 -p 48742:48742 -p 48743:48743 -p 48744:48744 -p 48745:48745 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48743 --rest-port=48741 --tcp-port=48742 --discv5-udp-port=48744 --rest-address=0.0.0.0 --nat=extip:172.18.172.36 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3cd59f00dd9fa2a9fda0a88a2ae7eedf46cfb48436ddeb8cdc4a1c92760abdae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48745 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QMti1Ux4NbMMgWd6F4-dvBJWMTCqat1D-QA0lQPL9n-DNfoOC74yWxIYLNPhFXBdVHl2o3Y0Gz_IXDtc_jzW5CgBgmlkgnY0gmlwhKwSId-KbXVsdGlhZGRyc4wACgSsEiHfBqwQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLLpKFAT69ogIncYpg0k0aub7FPf2pk_Qcx9jZVqGQQOYN0Y3CCrA-DdWRwgqwRhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.172.36 waku 584fc2e3b5e46a95f0e7bbaf179429d5217644ef8139cf8d720eaa24b58ff249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 584fc2e3b5e4. Setting up logs at ./log/docker/node5_2024-08-27_07-00-57__b3782c80-fc43-47a2-b4ac-0c2449083fb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48741
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48741/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48741/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.36/tcp/48742/p2p/16Uiu2HAmCQCvWoR9Uee2m3HwF9E8j9g4BHze4brkeHPaooceHkRB","/ip4/172.18.172.36/tcp/48743/ws/p2p/16Uiu2HAmCQCvWoR9Uee2m3HwF9E8j9g4BHze4brkeHPaooceHkRB"],"enrUri":"enr:-LO4QPGfhNbSC1E083ZgQCsPbjLFv9cPX4tgmakEHha70DElIj7uauGrzT2qvXHmogWAjRSG45-bdqNCpV_3gD0ZoysBgmlkgnY0gmlwhKwSrCSKbXVsdGlhZGRyc4wACgSsEqwkBr5n3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL8NoEHcBEF0qVQb7CccqsGwtc-ACCm9vGoMym8GEtMtoN0Y3CCvmaDdWRwgr5ohXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48741/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.223/tcp/44047/p2p/16Uiu2HAm98cLoFyb3eJN3hDLsomyjVr47ZrXp5wGLt9cbdu9RtKz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44046/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40487/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31205/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16420/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48741/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724742065743902720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724742065743902720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31205/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724742065743902720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724742065743902720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48741/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724742065743902720,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724742065883781376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724742065883781376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31205/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724742065883781376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724742065883781376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48741/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724742065883781376,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id aa0fda1a5c7c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cf50c04cf0e8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b52529b3aae3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ec365a27dd7a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 584fc2e3b5e4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.