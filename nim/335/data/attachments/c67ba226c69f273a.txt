[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.6.122
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['64190', '64191', '64192', '64193', '64194']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 64190:64190 -p 64191:64191 -p 64192:64192 -p 64193:64193 -p 64194:64194 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64192 --rest-port=64190 --tcp-port=64191 --discv5-udp-port=64193 --rest-address=0.0.0.0 --nat=extip:172.18.6.122 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aadee049e5b5daea3ef97fdcd1de9fd7fddffb43b8e1c9f8dbdfdb2f66a22906 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64194 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.6.122 waku 6916a3533d3374f03def2dc7ca22bc01a22ce2a717119361668bf4a5cc4335ac
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6916a3533d33. Setting up logs at ./log/docker/receiving_node1_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 64190
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64190/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64190/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.6.122/tcp/64191/p2p/16Uiu2HAkxGyRWPR6FnBeTDGF3CcwJgMwhhHesLZqSp7iT8uf3S3e","/ip4/172.18.6.122/tcp/64192/ws/p2p/16Uiu2HAkxGyRWPR6FnBeTDGF3CcwJgMwhhHesLZqSp7iT8uf3S3e"],"enrUri":"enr:-LO4QAm_20Q9WR_QlWg6bpSb2KyPubWPIIBrYdlq8lo5qBwWUUDcCfdaT4tSPRD9Fofha0FXYKOM4g_6Dotg7MWgrEMBgmlkgnY0gmlwhKwSBnqKbXVsdGlhZGRyc4wACgSsEgZ6BvrA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqWI6HIx0PWqVcJzZKXTNOoK-seyNfKS_3eqFhN9yYDYN0Y3CC-r-DdWRwgvrBhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.48.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['43886', '43887', '43888', '43889', '43890']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 43886:43886 -p 43887:43887 -p 43888:43888 -p 43889:43889 -p 43890:43890 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43888 --rest-port=43886 --tcp-port=43887 --discv5-udp-port=43889 --rest-address=0.0.0.0 --nat=extip:172.18.48.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9103a1f866e7bae609ab6de50fe5bcc57d9ded9dabfc52e2e93f610acedf5d25 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43890 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.48.221 waku ddbdb2191deaa5e8d4a8643cd85fae31f4c16c11fc07d1b2952e8699fb56cb85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ddbdb2191dea. Setting up logs at ./log/docker/receiving_node2_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43886
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43886/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43886/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.48.221/tcp/43887/p2p/16Uiu2HAmTvrSRAb8H8We1s2bN5ij9tNjFnJT6wPeT4TTkjd6rCB4","/ip4/172.18.48.221/tcp/43888/ws/p2p/16Uiu2HAmTvrSRAb8H8We1s2bN5ij9tNjFnJT6wPeT4TTkjd6rCB4"],"enrUri":"enr:-LO4QNes7ONOmZCgn1s6SPOvljZW_plX0iFOIERmin1w7mqFVNnb5fvKAdAbGeKasde0GsVlKOorpwxcTZ7VT7xB8S4BgmlkgnY0gmlwhKwSMN2KbXVsdGlhZGRyc4wACgSsEjDdBqtw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPi76azS5SakkHDwlm8o2hPu1_2V7xEWI4WP-SLWjUUS4N0Y3CCq2-DdWRwgqtxhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43886/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.122/tcp/64191/p2p/16Uiu2HAkxGyRWPR6FnBeTDGF3CcwJgMwhhHesLZqSp7iT8uf3S3e"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.104.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['34510', '34511', '34512', '34513', '34514']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 34510:34510 -p 34511:34511 -p 34512:34512 -p 34513:34513 -p 34514:34514 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34512 --rest-port=34510 --tcp-port=34511 --discv5-udp-port=34513 --rest-address=0.0.0.0 --nat=extip:172.18.104.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cf440acdfc99c582377efa186d02aa7c028e985e31202b276ccb39fb9aaa67a0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34514 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QAm_20Q9WR_QlWg6bpSb2KyPubWPIIBrYdlq8lo5qBwWUUDcCfdaT4tSPRD9Fofha0FXYKOM4g_6Dotg7MWgrEMBgmlkgnY0gmlwhKwSBnqKbXVsdGlhZGRyc4wACgSsEgZ6BvrA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqWI6HIx0PWqVcJzZKXTNOoK-seyNfKS_3eqFhN9yYDYN0Y3CC-r-DdWRwgvrBhXdha3UyCQ --lightpushnode=/ip4/172.18.6.122/tcp/64191/p2p/16Uiu2HAkxGyRWPR6FnBeTDGF3CcwJgMwhhHesLZqSp7iT8uf3S3e --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.104.50 waku 947012a0196db232023c7235416efb41c9b4732436c1ff7b3fb05f83f2ae8644
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 947012a0196d. Setting up logs at ./log/docker/lightpush_node1_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 34510
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34510/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34510/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.50/tcp/34511/p2p/16Uiu2HAkwhi1EYPBAzBUSLKuKDGCXc88dCzj2qrbWf4jd3aMYiv2","/ip4/172.18.104.50/tcp/34512/ws/p2p/16Uiu2HAkwhi1EYPBAzBUSLKuKDGCXc88dCzj2qrbWf4jd3aMYiv2"],"enrUri":"enr:-LO4QB3a2uNBVRxux2cebpSyeoa4bBvVXuZyPkne3hLd8zPpKknyinbgbV5Tm6rGByBnsXZVvLBFu31_lt1Na8oJ2BQBgmlkgnY0gmlwhKwSaDKKbXVsdGlhZGRyc4wACgSsEmgyBobQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIh0vTPmRBpLIMtM2v3oHOKj3Tq4ecIefBk8mkHouoe_4N0Y3CChs-DdWRwgobRhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34510/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.122/tcp/64191/p2p/16Uiu2HAkxGyRWPR6FnBeTDGF3CcwJgMwhhHesLZqSp7iT8uf3S3e"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34510/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.221/tcp/43887/p2p/16Uiu2HAmTvrSRAb8H8We1s2bN5ij9tNjFnJT6wPeT4TTkjd6rCB4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.190.195
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['26501', '26502', '26503', '26504', '26505']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 26501:26501 -p 26502:26502 -p 26503:26503 -p 26504:26504 -p 26505:26505 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26503 --rest-port=26501 --tcp-port=26502 --discv5-udp-port=26504 --rest-address=0.0.0.0 --nat=extip:172.18.190.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3d4fffab3bb2b1bf3f9b3e3e23ae2f9aeaa653d3f1acb2bbb1f1aa89f5baced5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26505 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QAm_20Q9WR_QlWg6bpSb2KyPubWPIIBrYdlq8lo5qBwWUUDcCfdaT4tSPRD9Fofha0FXYKOM4g_6Dotg7MWgrEMBgmlkgnY0gmlwhKwSBnqKbXVsdGlhZGRyc4wACgSsEgZ6BvrA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqWI6HIx0PWqVcJzZKXTNOoK-seyNfKS_3eqFhN9yYDYN0Y3CC-r-DdWRwgvrBhXdha3UyCQ --lightpushnode=/ip4/172.18.6.122/tcp/64191/p2p/16Uiu2HAkxGyRWPR6FnBeTDGF3CcwJgMwhhHesLZqSp7iT8uf3S3e --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.190.195 waku a74c1c14f48cabb4c479e029589c1176e9baffe4a50083c1cd8ca8c41ec398e5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a74c1c14f48c. Setting up logs at ./log/docker/lightpush_node2_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 26501
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26501/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26501/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.195/tcp/26502/p2p/16Uiu2HAm8MMwW7SWRz3y1At45DghD4c9VGMX3h7B7axDRjNimb9m","/ip4/172.18.190.195/tcp/26503/ws/p2p/16Uiu2HAm8MMwW7SWRz3y1At45DghD4c9VGMX3h7B7axDRjNimb9m"],"enrUri":"enr:-LO4QOqJcYv6mxEH1vgxqKMd0GRwLU4bCo5ctBATSyFs2D1TI7XpiV02MY9R38aI-7MgUzj2kRICI01d-ztweWCN1UYBgmlkgnY0gmlwhKwSvsOKbXVsdGlhZGRyc4wACgSsEr7DBmeH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLADTWgqam2DgYJNYIjG3gz1dN4SrD6kA4HLuCJ6jRV1IN0Y3CCZ4aDdWRwgmeIhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26501/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.122/tcp/64191/p2p/16Uiu2HAkxGyRWPR6FnBeTDGF3CcwJgMwhhHesLZqSp7iT8uf3S3e"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26501/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.221/tcp/43887/p2p/16Uiu2HAmTvrSRAb8H8We1s2bN5ij9tNjFnJT6wPeT4TTkjd6rCB4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.33.54
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47119', '47120', '47121', '47122', '47123']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47119:47119 -p 47120:47120 -p 47121:47121 -p 47122:47122 -p 47123:47123 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47121 --rest-port=47119 --tcp-port=47120 --discv5-udp-port=47122 --rest-address=0.0.0.0 --nat=extip:172.18.33.54 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a1ea91bf405fff1ac1b4937d9ca3c2975ee11172cbe48fc9aed6f5e43ddabc07 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47123 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QAm_20Q9WR_QlWg6bpSb2KyPubWPIIBrYdlq8lo5qBwWUUDcCfdaT4tSPRD9Fofha0FXYKOM4g_6Dotg7MWgrEMBgmlkgnY0gmlwhKwSBnqKbXVsdGlhZGRyc4wACgSsEgZ6BvrA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqWI6HIx0PWqVcJzZKXTNOoK-seyNfKS_3eqFhN9yYDYN0Y3CC-r-DdWRwgvrBhXdha3UyCQ --lightpushnode=/ip4/172.18.6.122/tcp/64191/p2p/16Uiu2HAkxGyRWPR6FnBeTDGF3CcwJgMwhhHesLZqSp7iT8uf3S3e --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.33.54 waku 3269a884c3a16051c3b5035686a224f1b34ce5a54df17231972d68ef992cf814
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3269a884c3a1. Setting up logs at ./log/docker/lightpush_node3_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47119
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47119/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47119/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.54/tcp/47120/p2p/16Uiu2HAmTqMUKHjst48XV3dXXmHXb8GryUzBrDtZ63E7fn6YB9qU","/ip4/172.18.33.54/tcp/47121/ws/p2p/16Uiu2HAmTqMUKHjst48XV3dXXmHXb8GryUzBrDtZ63E7fn6YB9qU"],"enrUri":"enr:-LO4QI1SwEjP7iejCtnK_Eg0bHz4BvtV2G6_S343xf7du06vO1m_5kuQw3Bb_IojvUWS0Owy_A0zSOvF9wXkMPuQ_JQBgmlkgnY0gmlwhKwSITaKbXVsdGlhZGRyc4wACgSsEiE2BrgR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPhhv5lm8bYRoYKdMDaIVbh43tSVukYcwTYs7igZbSq-4N0Y3CCuBCDdWRwgrgShXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47119/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.122/tcp/64191/p2p/16Uiu2HAkxGyRWPR6FnBeTDGF3CcwJgMwhhHesLZqSp7iT8uf3S3e"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47119/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.221/tcp/43887/p2p/16Uiu2HAmTvrSRAb8H8We1s2bN5ij9tNjFnJT6wPeT4TTkjd6rCB4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.190.252
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20000', '20001', '20002', '20003', '20004']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20000:20000 -p 20001:20001 -p 20002:20002 -p 20003:20003 -p 20004:20004 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20002 --rest-port=20000 --tcp-port=20001 --discv5-udp-port=20003 --rest-address=0.0.0.0 --nat=extip:172.18.190.252 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2df0dcacdcb2fca96b4ccd2f88afb358baa8fce55a8cc2c7bbd96fb793daef01 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20004 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QAm_20Q9WR_QlWg6bpSb2KyPubWPIIBrYdlq8lo5qBwWUUDcCfdaT4tSPRD9Fofha0FXYKOM4g_6Dotg7MWgrEMBgmlkgnY0gmlwhKwSBnqKbXVsdGlhZGRyc4wACgSsEgZ6BvrA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqWI6HIx0PWqVcJzZKXTNOoK-seyNfKS_3eqFhN9yYDYN0Y3CC-r-DdWRwgvrBhXdha3UyCQ --lightpushnode=/ip4/172.18.6.122/tcp/64191/p2p/16Uiu2HAkxGyRWPR6FnBeTDGF3CcwJgMwhhHesLZqSp7iT8uf3S3e --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.190.252 waku 6aec969a93ea4ea6d9d08961a41271855cf2469ff60f2b18f66c51c677d4cece
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6aec969a93ea. Setting up logs at ./log/docker/lightpush_node4_2024-08-27_06-57-24__a1806829-e267-430a-90ed-3a9a0613a99b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20000
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20000/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20000/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.252/tcp/20001/p2p/16Uiu2HAmG51MVL7Da2ThdziX33ptGh5HAjqFCTHAC2RXX6BRmUnd","/ip4/172.18.190.252/tcp/20002/ws/p2p/16Uiu2HAmG51MVL7Da2ThdziX33ptGh5HAjqFCTHAC2RXX6BRmUnd"],"enrUri":"enr:-LO4QBZn2kv0rFVTXMfz6kFVm2_JiobCOVyNKecgWQcX6RGQev77t9Fx87b1YUmGrHlQA47aSBu_lt166y9ShCuYBpYBgmlkgnY0gmlwhKwSvvyKbXVsdGlhZGRyc4wACgSsEr78Bk4i3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMyuiKBbC9lmp8wyyYrRtAMS2csQf1TpyFPYOAaIeGyAoN0Y3CCTiGDdWRwgk4jhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20000/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.122/tcp/64191/p2p/16Uiu2HAkxGyRWPR6FnBeTDGF3CcwJgMwhhHesLZqSp7iT8uf3S3e"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20000/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.221/tcp/43887/p2p/16Uiu2HAmTvrSRAb8H8We1s2bN5ij9tNjFnJT6wPeT4TTkjd6rCB4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64190/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43886/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34510/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724741853777682688}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64190/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741853777682688,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43886/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741853777682688,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26501/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724741853895708160}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64190/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741853895708160,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43886/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741853895708160,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47119/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724741854013728512}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64190/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741854013728512,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43886/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741854013728512,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20000/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724741854133609728}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64190/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741854133609728,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43886/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724741854133609728,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6916a3533d33
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ddbdb2191dea
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 947012a0196d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a74c1c14f48c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3269a884c3a1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6aec969a93ea
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.