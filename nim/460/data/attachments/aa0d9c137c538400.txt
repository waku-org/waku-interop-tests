[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-24_04-18-18__ad06be7b-9a54-4e02-997c-11e2263e6903
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-24_04-18-18__ad06be7b-9a54-4e02-997c-11e2263e6903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.75.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45218', '45219', '45220', '45221', '45222']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45218:45218 -p 45219:45219 -p 45220:45220 -p 45221:45221 -p 45222:45222 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45220 --rest-port=45218 --tcp-port=45219 --discv5-udp-port=45221 --rest-address=0.0.0.0 --nat=extip:172.18.75.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ae687fee0319d9c550eb6e0b06faca2b724cbf00938af673af03445559f036e9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45222 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.75.17 waku 16ba85d6a5ad0a6b371649a8ae6fc19e7cd01403c32af2f04d416e9c6ddf2d7f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 16ba85d6a5ad. Setting up logs at ./log/docker/node1_2024-11-24_04-18-18__ad06be7b-9a54-4e02-997c-11e2263e6903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 45218
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 980c82c0158f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45218/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45218/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.17/tcp/45219/p2p/16Uiu2HAmB4HBJYu9zekjvfjm924WzrayTCLbXjzDKKmdkPbztnPM","/ip4/172.18.75.17/tcp/45220/ws/p2p/16Uiu2HAmB4HBJYu9zekjvfjm924WzrayTCLbXjzDKKmdkPbztnPM"],"enrUri":"enr:-L24QBBmZ2X9POjwDJ8lBsk6SpEGtJ6eVT0AaWojU1Obsv1_KofnEsDdrRI0LD-Cg4Fl79oa8Zq_5cpVMgwoOeym8CICgmlkgnY0gmlwhKwSSxGKbXVsdGlhZGRyc5YACASsEksRBrCjAAoErBJLEQawpN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6EADFIkfDvDDuWqGhLrU2Asbl2IM6OkebZHDWitmkyyDdGNwgrCjg3VkcIKwpYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-24_04-18-18__ad06be7b-9a54-4e02-997c-11e2263e6903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.181.109
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31046', '31047', '31048', '31049', '31050']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31046:31046 -p 31047:31047 -p 31048:31048 -p 31049:31049 -p 31050:31050 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31048 --rest-port=31046 --tcp-port=31047 --discv5-udp-port=31049 --rest-address=0.0.0.0 --nat=extip:172.18.181.109 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c5a59dbee9bfbf07c14a4b9e1e6eb9aa23fbda8e1eddad4484c4fce9ddb3ccad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31050 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBBmZ2X9POjwDJ8lBsk6SpEGtJ6eVT0AaWojU1Obsv1_KofnEsDdrRI0LD-Cg4Fl79oa8Zq_5cpVMgwoOeym8CICgmlkgnY0gmlwhKwSSxGKbXVsdGlhZGRyc5YACASsEksRBrCjAAoErBJLEQawpN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6EADFIkfDvDDuWqGhLrU2Asbl2IM6OkebZHDWitmkyyDdGNwgrCjg3VkcIKwpYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.181.109 waku f1178a9f3f5504d228b39e0cc30db7f7fe1a76aa1e5292b02ac0f1ba726e361c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f1178a9f3f55. Setting up logs at ./log/docker/node2_2024-11-24_04-18-18__ad06be7b-9a54-4e02-997c-11e2263e6903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 31046
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31046/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31046/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.181.109/tcp/31047/p2p/16Uiu2HAmVQzp2aUMunH7qKarNqu4WD1TNmarXPQTqvtRBeW6E9zP","/ip4/172.18.181.109/tcp/31048/ws/p2p/16Uiu2HAmVQzp2aUMunH7qKarNqu4WD1TNmarXPQTqvtRBeW6E9zP"],"enrUri":"enr:-L24QGM1i9zzqTN1-P2Ja_-C_G5ks3-uPVAY00pO1YUgtL9xTKiC28kBACCo8mRKbsECqB3xCHyL8umggoEf0AVcBlYCgmlkgnY0gmlwhKwStW2KbXVsdGlhZGRyc5YACASsErVtBnlHAAoErBK1bQZ5SN0DgnJzhQADAQAAiXNlY3AyNTZrMaED-QERU1Y73g-T5yjIPNRd3zr7lDqM0wjslayIIngiKNiDdGNwgnlHg3VkcIJ5SYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31046/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.17/tcp/45219/p2p/16Uiu2HAmB4HBJYu9zekjvfjm924WzrayTCLbXjzDKKmdkPbztnPM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-24_04-18-18__ad06be7b-9a54-4e02-997c-11e2263e6903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.222.182
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28231', '28232', '28233', '28234', '28235']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28231:28231 -p 28232:28232 -p 28233:28233 -p 28234:28234 -p 28235:28235 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28233 --rest-port=28231 --tcp-port=28232 --discv5-udp-port=28234 --rest-address=0.0.0.0 --nat=extip:172.18.222.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4ee0684eaaccf09fda9a37bea3f6ce7d45ef199bc5cda5dda355e1d5ce012bce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28235 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBBmZ2X9POjwDJ8lBsk6SpEGtJ6eVT0AaWojU1Obsv1_KofnEsDdrRI0LD-Cg4Fl79oa8Zq_5cpVMgwoOeym8CICgmlkgnY0gmlwhKwSSxGKbXVsdGlhZGRyc5YACASsEksRBrCjAAoErBJLEQawpN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6EADFIkfDvDDuWqGhLrU2Asbl2IM6OkebZHDWitmkyyDdGNwgrCjg3VkcIKwpYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.222.182 waku 9094a1c8ca6f979033a868fc1b82920b0ddeaaaffc5ed831a1e3da3865dcb10e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9094a1c8ca6f. Setting up logs at ./log/docker/node3_2024-11-24_04-18-18__ad06be7b-9a54-4e02-997c-11e2263e6903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 28231
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28231/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28231/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.222.182/tcp/28232/p2p/16Uiu2HAmPjvDjTV3QP1PzkdP8DUhZH4ZhCgG57kjyTXqEvVSPME7","/ip4/172.18.222.182/tcp/28233/ws/p2p/16Uiu2HAmPjvDjTV3QP1PzkdP8DUhZH4ZhCgG57kjyTXqEvVSPME7"],"enrUri":"enr:-L24QKY3w835qrCKN7OeDVwCoLrrk3vY56ySGoIej7Rl6KcdJ2eIPjnUrrsmQ3NxjNmR9Iyuq-QWpti-kLvR1iRGTF8CgmlkgnY0gmlwhKwS3raKbXVsdGlhZGRyc5YACASsEt62Bm5IAAoErBLetgZuSd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpLPKQ8vrvWOS66IDVCPJdHNzVepoHN_L-5YLOCryxQiDdGNwgm5Ig3VkcIJuSoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28231/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.17/tcp/45219/p2p/16Uiu2HAmB4HBJYu9zekjvfjm924WzrayTCLbXjzDKKmdkPbztnPM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-24_04-18-18__ad06be7b-9a54-4e02-997c-11e2263e6903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.242.106
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2044', '2045', '2046', '2047', '2048']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2044:2044 -p 2045:2045 -p 2046:2046 -p 2047:2047 -p 2048:2048 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2046 --rest-port=2044 --tcp-port=2045 --discv5-udp-port=2047 --rest-address=0.0.0.0 --nat=extip:172.18.242.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0f5d8fbbe074a377be49b0dcdcd9e79df45aa9f1cecea7f6972704eccfc3e377 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2048 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBBmZ2X9POjwDJ8lBsk6SpEGtJ6eVT0AaWojU1Obsv1_KofnEsDdrRI0LD-Cg4Fl79oa8Zq_5cpVMgwoOeym8CICgmlkgnY0gmlwhKwSSxGKbXVsdGlhZGRyc5YACASsEksRBrCjAAoErBJLEQawpN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6EADFIkfDvDDuWqGhLrU2Asbl2IM6OkebZHDWitmkyyDdGNwgrCjg3VkcIKwpYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.242.106 waku a050281778a4c32fc0b94aed043259e54e9dcba2da5a30976fb8298688fd0fde
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a050281778a4. Setting up logs at ./log/docker/node4_2024-11-24_04-18-18__ad06be7b-9a54-4e02-997c-11e2263e6903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 2044
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2044/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2044/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.106/tcp/2045/p2p/16Uiu2HAm9LzTSJL7V8x9PgkdiTTgzLxGqmgmh5T187aHWummwkYB","/ip4/172.18.242.106/tcp/2046/ws/p2p/16Uiu2HAm9LzTSJL7V8x9PgkdiTTgzLxGqmgmh5T187aHWummwkYB"],"enrUri":"enr:-L24QBLFXLQEJTs_RrDz-U56O343FdGFsqPwtaBLonADcOepGJx2EID68GjXCBqN4XYhM0hU9qXZ7FTn7Y-tWQJL5OMCgmlkgnY0gmlwhKwS8mqKbXVsdGlhZGRyc5YACASsEvJqBgf9AAoErBLyagYH_t0DgnJzhQADAQAAiXNlY3AyNTZrMaECztCawDGPu0F1dR0-kiJK_-xWMQIBTpM0RQGXCFy8BkyDdGNwggf9g3VkcIIH_4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2044/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.17/tcp/45219/p2p/16Uiu2HAmB4HBJYu9zekjvfjm924WzrayTCLbXjzDKKmdkPbztnPM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-24_04-18-18__ad06be7b-9a54-4e02-997c-11e2263e6903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.76.108
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57739', '57740', '57741', '57742', '57743']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57739:57739 -p 57740:57740 -p 57741:57741 -p 57742:57742 -p 57743:57743 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57741 --rest-port=57739 --tcp-port=57740 --discv5-udp-port=57742 --rest-address=0.0.0.0 --nat=extip:172.18.76.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b6b97c12ed6600d8be0c0e21ccdeb9dd21899cf56a8499ee65abab90dcfcc46d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57743 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBBmZ2X9POjwDJ8lBsk6SpEGtJ6eVT0AaWojU1Obsv1_KofnEsDdrRI0LD-Cg4Fl79oa8Zq_5cpVMgwoOeym8CICgmlkgnY0gmlwhKwSSxGKbXVsdGlhZGRyc5YACASsEksRBrCjAAoErBJLEQawpN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6EADFIkfDvDDuWqGhLrU2Asbl2IM6OkebZHDWitmkyyDdGNwgrCjg3VkcIKwpYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.76.108 waku 69a899bceb562d99469795d4097a9b87fc608cc8dbdbf6e3b51365ec2bad2f20
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 69a899bceb56. Setting up logs at ./log/docker/node5_2024-11-24_04-18-18__ad06be7b-9a54-4e02-997c-11e2263e6903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 57739
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57739/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57739/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.108/tcp/57740/p2p/16Uiu2HAmSUtENDevvmPT1sbvArBUheiy2kXebS4HMVb1JQKzVWWN","/ip4/172.18.76.108/tcp/57741/ws/p2p/16Uiu2HAmSUtENDevvmPT1sbvArBUheiy2kXebS4HMVb1JQKzVWWN"],"enrUri":"enr:-L24QJmpyhMMKUXoyxscuHfdVXfd_02S-A0MXm-NM4IgUf0ETbghcZMl5O-kcd9S2vLcCq_XZbPyDX6WOl-11rUK2X0CgmlkgnY0gmlwhKwSTGyKbXVsdGlhZGRyc5YACASsEkxsBuGMAAoErBJMbAbhjd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzWzjwqf3Hb0lra4fbg1zKOi8G9f3b6glpmauuF4DVCuDdGNwguGMg3VkcILhjoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57739/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.17/tcp/45219/p2p/16Uiu2HAmB4HBJYu9zekjvfjm924WzrayTCLbXjzDKKmdkPbztnPM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45218/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31046/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28231/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2044/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57739/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45218/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45218/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421906725229056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421906725229056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28231/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421906725229056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2044/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421906725229056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57739/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421906725229056,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57739/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45218/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421906876423936,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421906876423936,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28231/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421906876423936,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2044/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421906876423936,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57739/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421906876423936,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 16ba85d6a5ad
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f1178a9f3f55
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 16ba85d6a5ad. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 9094a1c8ca6f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f1178a9f3f55. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id a050281778a4
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9094a1c8ca6f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 69a899bceb56
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a050281778a4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.