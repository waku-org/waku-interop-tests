[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_sync_nodes_are_relay with id: 2024-11-24_04-41-32__6529f708-2140-4ccc-9cd3-212feb3e8660
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-24_04-41-32__6529f708-2140-4ccc-9cd3-212feb3e8660__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-24_04-41-32__6529f708-2140-4ccc-9cd3-212feb3e8660__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-24_04-41-32__6529f708-2140-4ccc-9cd3-212feb3e8660__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.224.255
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44751', '44752', '44753', '44754', '44755']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44751:44751 -p 44752:44752 -p 44753:44753 -p 44754:44754 -p 44755:44755 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44753 --rest-port=44751 --tcp-port=44752 --discv5-udp-port=44754 --rest-address=0.0.0.0 --nat=extip:172.18.224.255 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=edb9b6fdf45be88cde9bda66f6bdb61afedef0cc7f46bad64cebbfcfb8a4a38e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44755 --metrics-logging=true --store=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c97a179b4789. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.224.255 waku 280b389ebc1a895f9a55ac25fd7aa1e2bf440f586515456dbf92d19e16cc5ef6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 280b389ebc1a. Setting up logs at ./log/docker/node1_2024-11-24_04-41-32__6529f708-2140-4ccc-9cd3-212feb3e8660__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 44751
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44751/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44751/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.224.255/tcp/44752/p2p/16Uiu2HAm8h2ePguGVeDFkFUAVAHpondgGohkNx1oqoi7cJoDUaJZ","/ip4/172.18.224.255/tcp/44753/ws/p2p/16Uiu2HAm8h2ePguGVeDFkFUAVAHpondgGohkNx1oqoi7cJoDUaJZ"],"enrUri":"enr:-L24QERbV00zp7GywlXaBpUfX86YTwgG4-9AbGxNd-NtZ7RnKlQmKZtsTzQrlAbjVk3zQJrPYWCdXxmMMCuT1YQzhHsCgmlkgnY0gmlwhKwS4P-KbXVsdGlhZGRyc5YACASsEuD_Bq7QAAoErBLg_wau0d0DgnJzhQADAQAAiXNlY3AyNTZrMaECxRcCO7gCV_iDwR4nykCbNOK4Djvlbhr8BJJC3wtsGRaDdGNwgq7Qg3VkcIKu0oV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.152.174
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29405', '29406', '29407', '29408', '29409']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29405:29405 -p 29406:29406 -p 29407:29407 -p 29408:29408 -p 29409:29409 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29407 --rest-port=29405 --tcp-port=29406 --discv5-udp-port=29408 --rest-address=0.0.0.0 --nat=extip:172.18.152.174 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=84c5ab9aa7efb8badb613dde06bc879bd00f1fefde66f0fec99fd62bad5ff6ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29409 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-L24QERbV00zp7GywlXaBpUfX86YTwgG4-9AbGxNd-NtZ7RnKlQmKZtsTzQrlAbjVk3zQJrPYWCdXxmMMCuT1YQzhHsCgmlkgnY0gmlwhKwS4P-KbXVsdGlhZGRyc5YACASsEuD_Bq7QAAoErBLg_wau0d0DgnJzhQADAQAAiXNlY3AyNTZrMaECxRcCO7gCV_iDwR4nykCbNOK4Djvlbhr8BJJC3wtsGRaDdGNwgq7Qg3VkcIKu0oV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.152.174 waku a57382566e93b86666f1e7f129447c26b3d04a3da1e43c3875ec32f4339b0503
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a57382566e93. Setting up logs at ./log/docker/node2_2024-11-24_04-41-32__6529f708-2140-4ccc-9cd3-212feb3e8660__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 29405
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29405/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29405/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.174/tcp/29406/p2p/16Uiu2HAkviLrkqdi5nQqo3kjMKHrkHjTRmDH1R9GZL65pMHeHqDo","/ip4/172.18.152.174/tcp/29407/ws/p2p/16Uiu2HAkviLrkqdi5nQqo3kjMKHrkHjTRmDH1R9GZL65pMHeHqDo"],"enrUri":"enr:-L24QEmm0AeRcuiP2wraXq_iDCZVW85P1q_7lFLiusShjbIZN4bMcZcNlEKWQ5N468f47U4A1WqEmvKLtCx1fI2raiICgmlkgnY0gmlwhKwSmK6KbXVsdGlhZGRyc5YACASsEpiuBnLeAAoErBKYrgZy390DgnJzhQADAQAAiXNlY3AyNTZrMaECEyDwrE9Z8m55B2yclvM4OJMG6ZJXpKDwqWmPsII8xfaDdGNwgnLeg3VkcIJy4IV3YWt1MhE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.248.172
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17230', '17231', '17232', '17233', '17234']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17230:17230 -p 17231:17231 -p 17232:17232 -p 17233:17233 -p 17234:17234 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17232 --rest-port=17230 --tcp-port=17231 --discv5-udp-port=17233 --rest-address=0.0.0.0 --nat=extip:172.18.248.172 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ab8edd5947a92f5e84e843e3efd6c75dbea2be1f27cab97b08bcaceba61cffa9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17234 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-L24QEmm0AeRcuiP2wraXq_iDCZVW85P1q_7lFLiusShjbIZN4bMcZcNlEKWQ5N468f47U4A1WqEmvKLtCx1fI2raiICgmlkgnY0gmlwhKwSmK6KbXVsdGlhZGRyc5YACASsEpiuBnLeAAoErBKYrgZy390DgnJzhQADAQAAiXNlY3AyNTZrMaECEyDwrE9Z8m55B2yclvM4OJMG6ZJXpKDwqWmPsII8xfaDdGNwgnLeg3VkcIJy4IV3YWt1MhE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.248.172 waku 8355ff53dfdbc85093e59a7d353fcf53b80bb85ac1cc55f04b4dd0a8ded6bfc5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8355ff53dfdb. Setting up logs at ./log/docker/node3_2024-11-24_04-41-32__6529f708-2140-4ccc-9cd3-212feb3e8660__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 17230
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17230/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17230/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.248.172/tcp/17231/p2p/16Uiu2HAmTjCRqgDz1q7DGUQxSejYrPErnUt9EPK1L2p3yx4cft35","/ip4/172.18.248.172/tcp/17232/ws/p2p/16Uiu2HAmTjCRqgDz1q7DGUQxSejYrPErnUt9EPK1L2p3yx4cft35"],"enrUri":"enr:-L24QPf1Zu_HYtxQ4Vi3-y3yWxzSfWD327o3cd-bPjPF3E3eFuO6OcHcLHDnHeXBIPdNJoG11f4-i6Z40S5x-vwWEiYCgmlkgnY0gmlwhKwS-KyKbXVsdGlhZGRyc5YACASsEvisBkNPAAoErBL4rAZDUN0DgnJzhQADAQAAiXNlY3AyNTZrMaED3_NIxpbAr3xQky_z2RXX_oVd6rXENnfiEdSMYzMNEmSDdGNwgkNPg3VkcIJDUYV3YWt1MhE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29405/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.224.255/tcp/44752/p2p/16Uiu2HAm8h2ePguGVeDFkFUAVAHpondgGohkNx1oqoi7cJoDUaJZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17230/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.152.174/tcp/29406/p2p/16Uiu2HAkviLrkqdi5nQqo3kjMKHrkHjTRmDH1R9GZL65pMHeHqDo"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44751/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29405/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17230/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44751/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"O2Mlrb9CDePIX0eXWcT2FPQ1biRdIderXIFs9u10B8I="},{"messageHash":"kGi50hSxeGPx0a3d858M/GDAzsj6MxQ76Rdeb4lf+h4="},{"messageHash":"YIGYYmFbrG3RCzV+37ZauCsXrxcWsgGMwhp079lAbNc="},{"messageHash":"0o7kcs5ZcJpguQhs/YhBBuOID7ZZrAPYyTu+m3hx0XE="},{"messageHash":"xua6f3LNFE9LPP3lTZER7bDFEzUTts2+NeBj/b8k4rg="},{"messageHash":"IfjVHIhYpxSjv9VDJzaJ8UIcgZTSEhMfegzZngwdP4o="},{"messageHash":"FHb4dbt7xaWCk2kDgCeDmfWDAxOfx+SmMd1YRbM8Fsc="},{"messageHash":"n8kZBj9UrAcBnxhx/c2IOwyxMHAKFpNNfGK3zUq/JLg="},{"messageHash":"Qje/R6yUkizaIjWb6adFqWkOcRh7Yx51voxyv1ou53M="},{"messageHash":"Ho6qzrFWvt5/5yC/bh29YpNcrJpQa84lhGdVTK+xVdA="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29405/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"98c083e84b792a7a488a","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"O2Mlrb9CDePIX0eXWcT2FPQ1biRdIderXIFs9u10B8I="},{"messageHash":"kGi50hSxeGPx0a3d858M/GDAzsj6MxQ76Rdeb4lf+h4="},{"messageHash":"YIGYYmFbrG3RCzV+37ZauCsXrxcWsgGMwhp079lAbNc="},{"messageHash":"0o7kcs5ZcJpguQhs/YhBBuOID7ZZrAPYyTu+m3hx0XE="},{"messageHash":"xua6f3LNFE9LPP3lTZER7bDFEzUTts2+NeBj/b8k4rg="},{"messageHash":"IfjVHIhYpxSjv9VDJzaJ8UIcgZTSEhMfegzZngwdP4o="},{"messageHash":"FHb4dbt7xaWCk2kDgCeDmfWDAxOfx+SmMd1YRbM8Fsc="},{"messageHash":"n8kZBj9UrAcBnxhx/c2IOwyxMHAKFpNNfGK3zUq/JLg="},{"messageHash":"Qje/R6yUkizaIjWb6adFqWkOcRh7Yx51voxyv1ou53M="},{"messageHash":"Ho6qzrFWvt5/5yC/bh29YpNcrJpQa84lhGdVTK+xVdA="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17230/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 412 Client Error: Precondition Failed for url: http://127.0.0.1:17230/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true. Response content: b'No suitable service peer & none discovered'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 280b389ebc1a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id a57382566e93
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 280b389ebc1a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8355ff53dfdb
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a57382566e93. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2024-11-24_04-41-32__6529f708-2140-4ccc-9cd3-212feb3e8660__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-24_04-41-32__6529f708-2140-4ccc-9cd3-212feb3e8660__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-24_04-41-32__6529f708-2140-4ccc-9cd3-212feb3e8660__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_sync_nodes_are_relay with id: 2024-11-24_04-41-48__71f8608c-b06b-457f-9262-3d3e1c774d4c
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-24_04-41-48__71f8608c-b06b-457f-9262-3d3e1c774d4c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-24_04-41-48__71f8608c-b06b-457f-9262-3d3e1c774d4c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-24_04-41-48__71f8608c-b06b-457f-9262-3d3e1c774d4c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.40.173
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49438', '49439', '49440', '49441', '49442']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49438:49438 -p 49439:49439 -p 49440:49440 -p 49441:49441 -p 49442:49442 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49440 --rest-port=49438 --tcp-port=49439 --discv5-udp-port=49441 --rest-address=0.0.0.0 --nat=extip:172.18.40.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=71dd8bab5f94e338e41defdcffbdd7ea3fdd4f7fd8bb6bdc30eefe7ca3b47e2b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49442 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.40.173 waku c9a88bd7c97eaa320f223a3e5e188d2036698f27253475b1cff3ebbe9c03d0df
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8355ff53dfdb. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c9a88bd7c97e. Setting up logs at ./log/docker/node1_2024-11-24_04-41-48__71f8608c-b06b-457f-9262-3d3e1c774d4c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 49438
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49438/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49438/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.40.173/tcp/49439/p2p/16Uiu2HAmPkiS8nBtuA4qjWQcS35tv2joYU1UKCsnAmBqvwz7CJ43","/ip4/172.18.40.173/tcp/49440/ws/p2p/16Uiu2HAmPkiS8nBtuA4qjWQcS35tv2joYU1UKCsnAmBqvwz7CJ43"],"enrUri":"enr:-L24QLdh0BPZ96PUpTrG-WJuKKBSozsnL1pgqoMbMSLtyy2pKU738lGegTATToMWZrpxiYr3eDMG-_CmcRvVUO11cowCgmlkgnY0gmlwhKwSKK2KbXVsdGlhZGRyc5YACASsEiitBsEfAAoErBIorQbBIN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpOgLU1pbtwsMYLwG4dH9zQjUcH7i6bIErer4J2lrWMyDdGNwgsEfg3VkcILBIYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.34.144
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11832', '11833', '11834', '11835', '11836']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11832:11832 -p 11833:11833 -p 11834:11834 -p 11835:11835 -p 11836:11836 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11834 --rest-port=11832 --tcp-port=11833 --discv5-udp-port=11835 --rest-address=0.0.0.0 --nat=extip:172.18.34.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad44c7a04e6274aeda2cd44e2ae73abf2eb0ceaef849e442ecaf6c94f0d1cddd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11836 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-L24QLdh0BPZ96PUpTrG-WJuKKBSozsnL1pgqoMbMSLtyy2pKU738lGegTATToMWZrpxiYr3eDMG-_CmcRvVUO11cowCgmlkgnY0gmlwhKwSKK2KbXVsdGlhZGRyc5YACASsEiitBsEfAAoErBIorQbBIN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpOgLU1pbtwsMYLwG4dH9zQjUcH7i6bIErer4J2lrWMyDdGNwgsEfg3VkcILBIYV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.34.144 waku 0553d84b13e968cf2bdab7135dfb3d4af367275c9ffccd66a608f651f28a507d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0553d84b13e9. Setting up logs at ./log/docker/node2_2024-11-24_04-41-48__71f8608c-b06b-457f-9262-3d3e1c774d4c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 11832
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11832/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11832/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.34.144/tcp/11833/p2p/16Uiu2HAm9weqrg7t6A1mRwPg2yFh6EjSqBitAseeCNkW3v2Zknxu","/ip4/172.18.34.144/tcp/11834/ws/p2p/16Uiu2HAm9weqrg7t6A1mRwPg2yFh6EjSqBitAseeCNkW3v2Zknxu"],"enrUri":"enr:-L24QNFvbuNERlJjenTtblgLxFxvjDNvhhivfuRSZoZtbuuiRPRW7BucfEBh7QKUEs9F9-dO26WwDxEXkn3THmwlKVwCgmlkgnY0gmlwhKwSIpCKbXVsdGlhZGRyc5YACASsEiKQBi45AAoErBIikAYuOt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC17HBfYJf-O5KBXaD7IkQyXrioMsaUtsjNpnRYgkLz5aDdGNwgi45g3VkcIIuO4V3YWt1MhE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.255.83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21127', '21128', '21129', '21130', '21131']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21127:21127 -p 21128:21128 -p 21129:21129 -p 21130:21130 -p 21131:21131 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21129 --rest-port=21127 --tcp-port=21128 --discv5-udp-port=21130 --rest-address=0.0.0.0 --nat=extip:172.18.255.83 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eb629ddfb4ad2e9323de4bad4fd9d5bdbc849ff99dbe30c0aac2b89daeb1c6c7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21131 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-L24QNFvbuNERlJjenTtblgLxFxvjDNvhhivfuRSZoZtbuuiRPRW7BucfEBh7QKUEs9F9-dO26WwDxEXkn3THmwlKVwCgmlkgnY0gmlwhKwSIpCKbXVsdGlhZGRyc5YACASsEiKQBi45AAoErBIikAYuOt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC17HBfYJf-O5KBXaD7IkQyXrioMsaUtsjNpnRYgkLz5aDdGNwgi45g3VkcIIuO4V3YWt1MhE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.255.83 waku b23499b6893c3db900865ec128519e660a0e20f193204e95f625183c463037f1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b23499b6893c. Setting up logs at ./log/docker/node3_2024-11-24_04-41-48__71f8608c-b06b-457f-9262-3d3e1c774d4c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 21127
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21127/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21127/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.255.83/tcp/21128/p2p/16Uiu2HAmNJshVGW8SPbSsQLw8weT5tZy89prgyT3MRPVdXyH3VcG","/ip4/172.18.255.83/tcp/21129/ws/p2p/16Uiu2HAmNJshVGW8SPbSsQLw8weT5tZy89prgyT3MRPVdXyH3VcG"],"enrUri":"enr:-L24QKB3STDVOfGXRkCNKIIhBANOpeqOBVHOL2JVosr-zWgBW2mRk3tB07hDXRhwK9RM4ze7Nrho_NrDAPyAPiPCDfQCgmlkgnY0gmlwhKwS_1OKbXVsdGlhZGRyc5YACASsEv9TBlKIAAoErBL_UwZSid0DgnJzhQADAQAAiXNlY3AyNTZrMaEDj227XyVeuicKwy5ihaZ4wk4IVL_kC5K6MOTlU4qH5b2DdGNwglKIg3VkcIJSioV3YWt1MhE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11832/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.40.173/tcp/49439/p2p/16Uiu2HAmPkiS8nBtuA4qjWQcS35tv2joYU1UKCsnAmBqvwz7CJ43"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21127/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.34.144/tcp/11833/p2p/16Uiu2HAm9weqrg7t6A1mRwPg2yFh6EjSqBitAseeCNkW3v2Zknxu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49438/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11832/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21127/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49438/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"6sblao4QNZy1QRtXg8W/NylP4CunLS0pQTeCzkgsxJo="},{"messageHash":"246GkAyJNewLZYt4sQzzRTN4jTU04ZmkmlM7yUqTRNg="},{"messageHash":"5fDkRXSmcn38mTcJlFzYS8+C+jy6IqEhhx6MZBOzy78="},{"messageHash":"QDeXdzefkA7tItCILRFs1Z5qlMlHm9gj9DQWfeS0v1g="},{"messageHash":"c2vllc789JBJgUHz+hezGsa4HsfUJ8iOqDBCer1il98="},{"messageHash":"/DpR1q1E8/aCjXjzpkEFTQlt2zKwviit9dIUBTEXkoM="},{"messageHash":"jDZkL7mwFz6aOujQmqSqtXkDLGL2oWuEjPARnHDO5Hk="},{"messageHash":"CXUQvqN+geyUcy/d8Lq0QefO0/U+7aYvCP3CQRFb51o="},{"messageHash":"04eduk4uarSk+bFnko8+KSzhyBxhG9+MgL3dGH+rCnM="},{"messageHash":"yvlfb0LGHr7ePvp3O2NCDjjTVnwihd9hKXjrk9Sy1do="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11832/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c4ee5090e46c58929609","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"6sblao4QNZy1QRtXg8W/NylP4CunLS0pQTeCzkgsxJo="},{"messageHash":"246GkAyJNewLZYt4sQzzRTN4jTU04ZmkmlM7yUqTRNg="},{"messageHash":"5fDkRXSmcn38mTcJlFzYS8+C+jy6IqEhhx6MZBOzy78="},{"messageHash":"QDeXdzefkA7tItCILRFs1Z5qlMlHm9gj9DQWfeS0v1g="},{"messageHash":"c2vllc789JBJgUHz+hezGsa4HsfUJ8iOqDBCer1il98="},{"messageHash":"/DpR1q1E8/aCjXjzpkEFTQlt2zKwviit9dIUBTEXkoM="},{"messageHash":"jDZkL7mwFz6aOujQmqSqtXkDLGL2oWuEjPARnHDO5Hk="},{"messageHash":"CXUQvqN+geyUcy/d8Lq0QefO0/U+7aYvCP3CQRFb51o="},{"messageHash":"04eduk4uarSk+bFnko8+KSzhyBxhG9+MgL3dGH+rCnM="},{"messageHash":"yvlfb0LGHr7ePvp3O2NCDjjTVnwihd9hKXjrk9Sy1do="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21127/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"24b4a051db47e53008e4","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"6sblao4QNZy1QRtXg8W/NylP4CunLS0pQTeCzkgsxJo="},{"messageHash":"246GkAyJNewLZYt4sQzzRTN4jTU04ZmkmlM7yUqTRNg="},{"messageHash":"5fDkRXSmcn38mTcJlFzYS8+C+jy6IqEhhx6MZBOzy78="},{"messageHash":"QDeXdzefkA7tItCILRFs1Z5qlMlHm9gj9DQWfeS0v1g="},{"messageHash":"c2vllc789JBJgUHz+hezGsa4HsfUJ8iOqDBCer1il98="},{"messageHash":"/DpR1q1E8/aCjXjzpkEFTQlt2zKwviit9dIUBTEXkoM="},{"messageHash":"jDZkL7mwFz6aOujQmqSqtXkDLGL2oWuEjPARnHDO5Hk="},{"messageHash":"CXUQvqN+geyUcy/d8Lq0QefO0/U+7aYvCP3CQRFb51o="},{"messageHash":"04eduk4uarSk+bFnko8+KSzhyBxhG9+MgL3dGH+rCnM="},{"messageHash":"yvlfb0LGHr7ePvp3O2NCDjjTVnwihd9hKXjrk9Sy1do="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c9a88bd7c97e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 0553d84b13e9
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c9a88bd7c97e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id b23499b6893c
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0553d84b13e9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.