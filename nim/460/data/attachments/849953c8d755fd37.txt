[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-11-24_04-18-38__d0d2c30c-1b0c-4057-8764-7615e08b55c0
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-24_04-18-38__d0d2c30c-1b0c-4057-8764-7615e08b55c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.4.11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59402', '59403', '59404', '59405', '59406']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59402:59402 -p 59403:59403 -p 59404:59404 -p 59405:59405 -p 59406:59406 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59404 --rest-port=59402 --tcp-port=59403 --discv5-udp-port=59405 --rest-address=0.0.0.0 --nat=extip:172.18.4.11 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=717aca0c564d60fedecb483b3bf0b95ea0318eceaeaf83dc5bb687f3b92deb98 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59406 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.4.11 waku 602692a43e3807b1fbde14e0f827fa3001b5655eb4768170690c4980aa344f5a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 602692a43e38. Setting up logs at ./log/docker/node1_2024-11-24_04-18-38__d0d2c30c-1b0c-4057-8764-7615e08b55c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 59402
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 69a899bceb56. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59402/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59402/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.4.11/tcp/59403/p2p/16Uiu2HAmJHTLJSqDrtSkxNssYUp5tFwLnwKGQZqwZuMcyoTTe2UY","/ip4/172.18.4.11/tcp/59404/ws/p2p/16Uiu2HAmJHTLJSqDrtSkxNssYUp5tFwLnwKGQZqwZuMcyoTTe2UY"],"enrUri":"enr:-L24QNUqxNNZE8X_ql_m4pMXq4taReiXaETUUZ55brX_kfNNDrq7UPKhfVy84LUeHhExO58xftr5e3obapqUxg19BDYCgmlkgnY0gmlwhKwSBAuKbXVsdGlhZGRyc5YACASsEgQLBugLAAoErBIECwboDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDU6HafkiOkrACbfzNiJG-qABDFEJSwtCgSCxMv00vJ4mDdGNwgugLg3VkcILoDYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-24_04-18-38__d0d2c30c-1b0c-4057-8764-7615e08b55c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.243.210
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19896', '19897', '19898', '19899', '19900']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19896:19896 -p 19897:19897 -p 19898:19898 -p 19899:19899 -p 19900:19900 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19898 --rest-port=19896 --tcp-port=19897 --discv5-udp-port=19899 --rest-address=0.0.0.0 --nat=extip:172.18.243.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1bafb6fbe50ca54ac3bbdadd55fbe9b5ca36ffbfe5c89dfa3cf2ef6f9e4bce5b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19900 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNUqxNNZE8X_ql_m4pMXq4taReiXaETUUZ55brX_kfNNDrq7UPKhfVy84LUeHhExO58xftr5e3obapqUxg19BDYCgmlkgnY0gmlwhKwSBAuKbXVsdGlhZGRyc5YACASsEgQLBugLAAoErBIECwboDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDU6HafkiOkrACbfzNiJG-qABDFEJSwtCgSCxMv00vJ4mDdGNwgugLg3VkcILoDYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.243.210 waku 1a41586439807d4e3be93cfc322415b0ab29a08d41fea80fbe83b589ab5642fd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1a4158643980. Setting up logs at ./log/docker/node2_2024-11-24_04-18-38__d0d2c30c-1b0c-4057-8764-7615e08b55c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 19896
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19896/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19896/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.243.210/tcp/19897/p2p/16Uiu2HAmULjpXw5VnGqRkmsqDFgghrjuawfZVGqvGT37tPCakdDE","/ip4/172.18.243.210/tcp/19898/ws/p2p/16Uiu2HAmULjpXw5VnGqRkmsqDFgghrjuawfZVGqvGT37tPCakdDE"],"enrUri":"enr:-L24QAU73I-Qw4isxofk46XMEs9NOCT2nnui2NMP7nMYI-W3XQZnHGwh1bXHo-fEpvdL2RLRjQ2vM37kE1YId9AyUZsCgmlkgnY0gmlwhKwS89KKbXVsdGlhZGRyc5YACASsEvPSBk25AAoErBLz0gZNut0DgnJzhQADAQAAiXNlY3AyNTZrMaED6Q4bWRSAumkFTqzusoP4Pbco76bpa5WQxX1M4CkjiH2DdGNwgk25g3VkcIJNu4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19896/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.4.11/tcp/59403/p2p/16Uiu2HAmJHTLJSqDrtSkxNssYUp5tFwLnwKGQZqwZuMcyoTTe2UY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-24_04-18-38__d0d2c30c-1b0c-4057-8764-7615e08b55c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.216.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56201', '56202', '56203', '56204', '56205']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56201:56201 -p 56202:56202 -p 56203:56203 -p 56204:56204 -p 56205:56205 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56203 --rest-port=56201 --tcp-port=56202 --discv5-udp-port=56204 --rest-address=0.0.0.0 --nat=extip:172.18.216.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3fad0abea9c49f00bcbcbebb61deb9cd359c6a95cc9c0cea78fa6a749dacca61 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56205 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNUqxNNZE8X_ql_m4pMXq4taReiXaETUUZ55brX_kfNNDrq7UPKhfVy84LUeHhExO58xftr5e3obapqUxg19BDYCgmlkgnY0gmlwhKwSBAuKbXVsdGlhZGRyc5YACASsEgQLBugLAAoErBIECwboDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDU6HafkiOkrACbfzNiJG-qABDFEJSwtCgSCxMv00vJ4mDdGNwgugLg3VkcILoDYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.216.230 waku 2d785da2015a41cfe6a80b1aa5eab523c566c0b88c500e8b702b21ffca67b736
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2d785da2015a. Setting up logs at ./log/docker/node3_2024-11-24_04-18-38__d0d2c30c-1b0c-4057-8764-7615e08b55c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 56201
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56201/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56201/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.230/tcp/56202/p2p/16Uiu2HAm5pt138KssswvUxMgXcReMiZt9BNB8YHhGDMEwwJxZdXa","/ip4/172.18.216.230/tcp/56203/ws/p2p/16Uiu2HAm5pt138KssswvUxMgXcReMiZt9BNB8YHhGDMEwwJxZdXa"],"enrUri":"enr:-L24QBEyjyfvPdWu7J0zP9GdVlkKpkkbv3wGqFsjDmWF4Uu8Vw9xiaJAYIjcWgw1BUlmhNBJpGyZRk54W9Tpy8xyS7sCgmlkgnY0gmlwhKwS2OaKbXVsdGlhZGRyc5YACASsEtjmBtuKAAoErBLY5gbbi90DgnJzhQADAQAAiXNlY3AyNTZrMaECmobSEKMj2QbpBMlu8x3gO3HUN__ykMI3mAPVcYmLaI2DdGNwgtuKg3VkcILbjIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56201/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.4.11/tcp/59403/p2p/16Uiu2HAmJHTLJSqDrtSkxNssYUp5tFwLnwKGQZqwZuMcyoTTe2UY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-24_04-18-38__d0d2c30c-1b0c-4057-8764-7615e08b55c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.198.32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14669', '14670', '14671', '14672', '14673']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14669:14669 -p 14670:14670 -p 14671:14671 -p 14672:14672 -p 14673:14673 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14671 --rest-port=14669 --tcp-port=14670 --discv5-udp-port=14672 --rest-address=0.0.0.0 --nat=extip:172.18.198.32 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2ae5e37b6068afdcfc3e1e54c0e51f5fa0d6af15d262ff4bba3ab1c63ff3add5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14673 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNUqxNNZE8X_ql_m4pMXq4taReiXaETUUZ55brX_kfNNDrq7UPKhfVy84LUeHhExO58xftr5e3obapqUxg19BDYCgmlkgnY0gmlwhKwSBAuKbXVsdGlhZGRyc5YACASsEgQLBugLAAoErBIECwboDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDU6HafkiOkrACbfzNiJG-qABDFEJSwtCgSCxMv00vJ4mDdGNwgugLg3VkcILoDYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.198.32 waku 5b384cca3251fb8cd740b5188522aff4f7e56ca62b8870df77fac0f1c45f1ab4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5b384cca3251. Setting up logs at ./log/docker/node4_2024-11-24_04-18-38__d0d2c30c-1b0c-4057-8764-7615e08b55c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 14669
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14669/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14669/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.198.32/tcp/14670/p2p/16Uiu2HAmR69LtJAKm8nsDcXZF1gRcvSNSQCu1nhCMQUMmY7vxZWx","/ip4/172.18.198.32/tcp/14671/ws/p2p/16Uiu2HAmR69LtJAKm8nsDcXZF1gRcvSNSQCu1nhCMQUMmY7vxZWx"],"enrUri":"enr:-L24QMkFLNG3WDIpnwaGuFxX5FLd0cRbldM2LYA7L_VpU9AOd_oShOuZWwAfR7E2IFNp_HIVFW1o2LGh9iobK9iVt-kCgmlkgnY0gmlwhKwSxiCKbXVsdGlhZGRyc5YACASsEsYgBjlOAAoErBLGIAY5T90DgnJzhQADAQAAiXNlY3AyNTZrMaEDuL3uiZdppGO4vwIQIbqpYDMYwusYj20Nt7D50V6CrbGDdGNwgjlOg3VkcII5UIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14669/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.4.11/tcp/59403/p2p/16Uiu2HAmJHTLJSqDrtSkxNssYUp5tFwLnwKGQZqwZuMcyoTTe2UY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-24_04-18-38__d0d2c30c-1b0c-4057-8764-7615e08b55c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.42.208
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14163', '14164', '14165', '14166', '14167']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14163:14163 -p 14164:14164 -p 14165:14165 -p 14166:14166 -p 14167:14167 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14165 --rest-port=14163 --tcp-port=14164 --discv5-udp-port=14166 --rest-address=0.0.0.0 --nat=extip:172.18.42.208 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4d53ec90df163f0ff3acc730d89a8f2a3d657bfab3c3e06a09e40f9d5800108b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14167 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNUqxNNZE8X_ql_m4pMXq4taReiXaETUUZ55brX_kfNNDrq7UPKhfVy84LUeHhExO58xftr5e3obapqUxg19BDYCgmlkgnY0gmlwhKwSBAuKbXVsdGlhZGRyc5YACASsEgQLBugLAAoErBIECwboDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDU6HafkiOkrACbfzNiJG-qABDFEJSwtCgSCxMv00vJ4mDdGNwgugLg3VkcILoDYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.42.208 waku 5ae257130491f01127e0baa520283fed2d0b5061ab3ddf26a13690fcdcd6425b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5ae257130491. Setting up logs at ./log/docker/node5_2024-11-24_04-18-38__d0d2c30c-1b0c-4057-8764-7615e08b55c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 14163
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14163/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14163/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.42.208/tcp/14164/p2p/16Uiu2HAmLAn4oGMBGu5RSsPDkBvS4bHpdmVTAGDLyjGSbcfk4WTD","/ip4/172.18.42.208/tcp/14165/ws/p2p/16Uiu2HAmLAn4oGMBGu5RSsPDkBvS4bHpdmVTAGDLyjGSbcfk4WTD"],"enrUri":"enr:-L24QLTSXH8Wt7Y9IpoV3K42Nh7ygBgB3wBRyobZUgicBUGOeo8Zd6hHXTY46T550cgLIxqyDcBm9pgB05kQ-ftsal8CgmlkgnY0gmlwhKwSKtCKbXVsdGlhZGRyc5YACASsEirQBjdUAAoErBIq0AY3Vd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDb6NXwsKmlMRxdF1916tlKCWOy0BcTuq-wwhJ52oFz6yDdGNwgjdUg3VkcII3VoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14163/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.4.11/tcp/59403/p2p/16Uiu2HAmJHTLJSqDrtSkxNssYUp5tFwLnwKGQZqwZuMcyoTTe2UY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59402/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19896/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56201/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14669/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14163/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59402/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59402/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421927294120192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19896/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421927294120192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56201/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421927294120192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14669/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421927294120192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14163/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421927294120192,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59402/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59402/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421927434043392,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19896/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421927434043392,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56201/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421927434043392,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14669/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421927434043392,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14163/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421927434043392,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 1a4158643980
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59402/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56201/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421929313134336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14669/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421929313134336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14163/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732421929313134336,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 602692a43e38
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1a4158643980. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 2d785da2015a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 602692a43e38. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 5b384cca3251
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2d785da2015a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 5ae257130491
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5b384cca3251. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.