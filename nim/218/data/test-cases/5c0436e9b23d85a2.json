{"uid":"5c0436e9b23d85a2","name":"test_passing_non_base64_cursor","fullName":"tests.store.test_cursor.TestCursor#test_passing_non_base64_cursor","historyId":"9d91a83bd829b8b07043916698d32f25","time":{"start":1716897604168,"stop":1716897604231,"duration":63},"status":"skipped","statusMessage":"XFAIL Bug reported: https://github.com/waku-org/nwaku/issues/2716\n\nException: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:20732/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&cursor=test&pageSize=100&ascending=true with response: b'waku message hash parsing error: invalid hash length: 3'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http://127.0.0.1:20732/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&cursor=test&pageSize=100&ascending=true\n\nDuring handling of the above exception, another exception occurred:\ntests/store/test_cursor.py:103: in test_passing_non_base64_cursor\n    store_response = self.get_messages_from_store(node, page_size=100, cursor=cursor)\nsrc/steps/store.py:160: in get_messages_from_store\n    store_response = node.get_store_messages(\nsrc/node/waku_node.py:324: in get_store_messages\n    return self._api.get_store_messages(\nsrc/node/api_clients/rest.py:130: in get_store_messages\n    get_messages_response = self.rest_call(\"get\", base_url)\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:20732/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&cursor=test&pageSize=100&ascending=true with response: b'waku message hash parsing error: invalid hash length: 3'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1716896781625,"stop":1716896781625,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1716897592290,"stop":1716897592290,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1716897592290,"stop":1716897592290,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1716897592290,"stop":1716897592290,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1716897592290,"stop":1716897592290,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1716897592291,"stop":1716897592291,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1716897592291,"stop":1716897592291,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"node_setup","time":{"start":1716897592291,"stop":1716897604168,"duration":11877},"status":"passed","steps":[{"name":"setup_first_publishing_node","time":{"start":1716897592291,"stop":1716897593775,"duration":1484},"status":"passed","steps":[{"name":"start_publishing_node","time":{"start":1716897592291,"stop":1716897593775,"duration":1484},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1716897593775,"stop":1716897593775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_cursor.TestCursor object at 0x7fe99909bad0>, <src.node.waku_node.WakuNode object at 0x7fe993ee6ae0>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"nodekey","value":"'30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_store_node","time":{"start":1716897593775,"stop":1716897604144,"duration":10369},"status":"passed","steps":[{"name":"setup_store_node","time":{"start":1716897593776,"stop":1716897604144,"duration":10368},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1716897595199,"stop":1716897604144,"duration":8945},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_cursor.TestCursor object at 0x7fe99909bad0>, <src.node.waku_node.WakuNode object at 0x7fe993c09850>, ['/ip4/172.18.23.29/tcp/20733/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1716897604144,"stop":1716897604168,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL Bug reported: https://github.com/waku-org/nwaku/issues/2716\n\nException: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:20732/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&cursor=test&pageSize=100&ascending=true with response: b'waku message hash parsing error: invalid hash length: 3'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http://127.0.0.1:20732/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&cursor=test&pageSize=100&ascending=true\n\nDuring handling of the above exception, another exception occurred:\ntests/store/test_cursor.py:103: in test_passing_non_base64_cursor\n    store_response = self.get_messages_from_store(node, page_size=100, cursor=cursor)\nsrc/steps/store.py:160: in get_messages_from_store\n    store_response = node.get_store_messages(\nsrc/node/waku_node.py:324: in get_store_messages\n    return self._api.get_store_messages(\nsrc/node/api_clients/rest.py:130: in get_store_messages\n    get_messages_response = self.rest_call(\"get\", base_url)\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:20732/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&cursor=test&pageSize=100&ascending=true with response: b'waku message hash parsing error: invalid hash length: 3'","steps":[{"name":"create_message","time":{"start":1716897604169,"stop":1716897604169,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'TWVzc2FnZV8w'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1716897604169,"stop":1716897604184,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TWVzc2FnZV8w', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1716897604168683776}"},{"name":"message_propagation_delay","value":"0.01"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1716897604184,"stop":1716897604184,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'TWVzc2FnZV8x'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1716897604185,"stop":1716897604199,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TWVzc2FnZV8x', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1716897604184459008}"},{"name":"message_propagation_delay","value":"0.01"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1716897604199,"stop":1716897604199,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'TWVzc2FnZV8y'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1716897604199,"stop":1716897604213,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TWVzc2FnZV8y', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1716897604198691840}"},{"name":"message_propagation_delay","value":"0.01"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1716897604213,"stop":1716897604213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'TWVzc2FnZV8z'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1716897604213,"stop":1716897604228,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TWVzc2FnZV8z', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1716897604213110016}"},{"name":"message_propagation_delay","value":"0.01"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"10bdcca6d5d58ec0","name":"log","source":"10bdcca6d5d58ec0.txt","type":"text/plain","size":12520}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1716897604300,"stop":1716897604305,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1716897604305,"stop":1716897608755,"duration":4450},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1716897608756,"stop":1716897608756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1716897851843,"stop":1716897851843,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.xfail(True, reason='Bug reported: https://github.com/waku-org/nwaku/issues/2716')"},{"name":"tag","value":"@pytest.mark.usefixtures('node_setup')"},{"name":"parentSuite","value":"tests.store"},{"name":"suite","value":"test_cursor"},{"name":"subSuite","value":"TestCursor"},{"name":"host","value":"fv-az736-443"},{"name":"thread","value":"2041-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.store.test_cursor"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":9,"passed":0,"unknown":0,"total":9},"items":[{"uid":"afbe7f9e8f7d11","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/217//#testresult/afbe7f9e8f7d11","status":"skipped","statusDetails":"XFAIL Bug reported: https://github.com/waku-org/nwaku/issues/2716\n\nException: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:27260/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&cursor=test&pageSize=100&ascending=true with response: b'waku message hash parsing error: invalid hash length: 3'","time":{"start":1716883988980,"stop":1716883989042,"duration":62}},{"uid":"18d121c630ad8aba","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/215//#testresult/18d121c630ad8aba","status":"skipped","statusDetails":"XFAIL Bug reported: https://github.com/waku-org/nwaku/issues/2716\n\nAssertionError: Message count mismatch\nassert 4 == 0\n +  where 4 = len([{'messageHash': 'EHOOL5uy5Xr8MBo9gkHo7f1mmctx+w5H9F0rEZ4PCFM='}, {'messageHash': 'emkqOQKVTc2ESIlVHWrdb2AqGrcBG1Yq+lZyqRwiIsk='}, {'messageHash': 'aZtXNnrAYZbeLE1UnUdvOC5FkdyHao6YRS0E7aQuQ+I='}, {'messageHash': 'YP8wo/nbq6M8xeuhHDtQU/WysbMLlSsqqYt9xZWVCUM='}])\n +    where [{'messageHash': 'EHOOL5uy5Xr8MBo9gkHo7f1mmctx+w5H9F0rEZ4PCFM='}, {'messageHash': 'emkqOQKVTc2ESIlVHWrdb2AqGrcBG1Yq+lZyqRwiIsk='}, {'messageHash': 'aZtXNnrAYZbeLE1UnUdvOC5FkdyHao6YRS0E7aQuQ+I='}, {'messageHash': 'YP8wo/nbq6M8xeuhHDtQU/WysbMLlSsqqYt9xZWVCUM='}] = <src.node.store_response.StoreResponse object at 0x7fa1c088f8c0>.messages","time":{"start":1716821154184,"stop":1716821154249,"duration":65}},{"uid":"d61ae64745b3289a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/210//#testresult/d61ae64745b3289a","status":"skipped","statusDetails":"XFAIL Bug reported: https://github.com/waku-org/nwaku/issues/2716\n\nAssertionError: Message count mismatch\nassert 4 == 0\n +  where 4 = len([{'messageHash': '8Z++cGwMOlQ8caYxJrmFbeID+U/kaJVBwX36MT7kmvE='}, {'messageHash': 'i/f2uFh9A4OtfJw87D/yjM+V7+s3NUCOugq5yJMDEW4='}, {'messageHash': 'NBij5bqTcAtqkG0mSAjlvQ/DNb8oRDtC6FZENXkLLco='}, {'messageHash': '2h4gTK+3m2tem8OM2Otjrfsdq6z4fzdnGM3GnLwq30I='}])\n +    where [{'messageHash': '8Z++cGwMOlQ8caYxJrmFbeID+U/kaJVBwX36MT7kmvE='}, {'messageHash': 'i/f2uFh9A4OtfJw87D/yjM+V7+s3NUCOugq5yJMDEW4='}, {'messageHash': 'NBij5bqTcAtqkG0mSAjlvQ/DNb8oRDtC6FZENXkLLco='}, {'messageHash': '2h4gTK+3m2tem8OM2Otjrfsdq6z4fzdnGM3GnLwq30I='}] = <src.node.store_response.StoreResponse object at 0x7fcc65247830>.messages","time":{"start":1716545360287,"stop":1716545360350,"duration":63}},{"uid":"39c44fb48471b19","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/205//#testresult/39c44fb48471b19","status":"skipped","statusDetails":"XFAIL Bug reported: https://github.com/waku-org/nwaku/issues/2716\n\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))","time":{"start":1716393888671,"stop":1716393888848,"duration":177}},{"uid":"ea2153b78addff66","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/201//#testresult/ea2153b78addff66","status":"skipped","statusDetails":"XFAIL Bug reported: https://github.com/waku-org/nwaku/issues/2717\n\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))","time":{"start":1716317252994,"stop":1716317253158,"duration":164}},{"uid":"c7dbbdb9aa341020","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/200//#testresult/c7dbbdb9aa341020","status":"skipped","statusDetails":"XFAIL Bug reported: https://github.com/waku-org/nwaku/issues/2717\n\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))","time":{"start":1716302342355,"stop":1716302342553,"duration":198}},{"uid":"f49c981ab1a492d3","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/199//#testresult/f49c981ab1a492d3","status":"skipped","statusDetails":"XFAIL Bug reported: https://github.com/waku-org/nwaku/issues/2717\n\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))","time":{"start":1716290496506,"stop":1716290496703,"duration":197}},{"uid":"46c7fa15f06414f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/198//#testresult/46c7fa15f06414f","status":"skipped","statusDetails":"XFAIL Bug reported: https://github.com/waku-org/nwaku/issues/2717\n\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))","time":{"start":1716289080781,"stop":1716289080979,"duration":198}}]},"tags":["@pytest.mark.usefixtures('node_setup')","@pytest.mark.xfail(True, reason='Bug reported: https://github.com/waku-org/nwaku/issues/2716')"]},"source":"5c0436e9b23d85a2.json","parameterValues":[]}