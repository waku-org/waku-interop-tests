2025-02-11 15:08:19.059 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:08:19.060 DEBUG [tests.conftest] Running test: test_invalid_pagination_cursor_param with id: 2025-02-11_15-08-19__dcf5e68c-bfbc-4a2a-815d-98b547e4d4af
2025-02-11 15:08:19.060 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:08:19.060 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 15:08:19.060 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 15:08:19.067 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:08:19.067 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_15-08-19__dcf5e68c-bfbc-4a2a-815d-98b547e4d4af__wakuorg_nwaku:latest.log
2025-02-11 15:08:19.067 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:08:19.067 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:08:19.068 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:08:19.069 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.206.159
2025-02-11 15:08:19.069 DEBUG [src.node.docker_mananger] Generated ports ['39868', '39869', '39870', '39871', '39872']
2025-02-11 15:08:19.069 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:08:19.069 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:08:19.069 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:08:19.069 DEBUG [src.node.docker_mananger] docker run -i -t -p 39868:39868 -p 39869:39869 -p 39870:39870 -p 39871:39871 -p 39872:39872 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39870 --rest-port=39868 --tcp-port=39869 --discv5-udp-port=39871 --rest-address=0.0.0.0 --nat=extip:172.18.206.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4e53eab0cda9af48fed3a3c6e6af18e941b47da687eba9a9e861c145a50c58e9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39872 --metrics-logging=true --store=true --relay=true
2025-02-11 15:08:19.303 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.206.159 waku 417bb9801a63d3be41903a30abee1515d2609d607bd60e4c5c1d35431dfaca13
2025-02-11 15:08:19.352 DEBUG [src.node.docker_mananger] Container started with ID 417bb9801a63. Setting up logs at ./log/docker/publishing_node1_2025-02-11_15-08-19__dcf5e68c-bfbc-4a2a-815d-98b547e4d4af__wakuorg_nwaku:latest.log
2025-02-11 15:08:19.356 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 39868
2025-02-11 15:08:19.356 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:08:19.852 ERROR [src.node.docker_mananger] Max retries reached for container ccca1ab8a961. Exiting log stream.
2025-02-11 15:08:20.357 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39868/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:08:20.360 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:08:20.360 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:08:20.361 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39868/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:08:20.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.206.159/tcp/39869/p2p/16Uiu2HAkycZ4jTMaf3Tk81bBwzbYbrkRtFF5N6o4Kc7T6n33dCED","/ip4/172.18.206.159/tcp/39870/ws/p2p/16Uiu2HAkycZ4jTMaf3Tk81bBwzbYbrkRtFF5N6o4Kc7T6n33dCED"],"enrUri":"enr:-L24QKHsJEEec6zp8Pk7Ir2RMX-x3t-5-tt8OT7sNT65_6e5FWQrhCdomFTG3RJH1IOdZuHwY9fmXqqNIAYmxP-SdfkCgmlkgnY0gmlwhKwSzp-KbXVsdGlhZGRyc5YACASsEs6fBpu9AAoErBLOnwabvt0DgnJzhQADAQAAiXNlY3AyNTZrMaECPjhRZoS9wyrRo37oALZ_vfPAO98ra5JQ169E1yK2tkqDdGNwgpu9g3VkcIKbv4V3YWt1MgM"}'
2025-02-11 15:08:20.364 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:08:20.372 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:08:20.372 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_15-08-19__dcf5e68c-bfbc-4a2a-815d-98b547e4d4af__wakuorg_nwaku:latest.log
2025-02-11 15:08:20.372 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:08:20.373 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:08:20.374 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:08:20.374 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.22.58
2025-02-11 15:08:20.374 DEBUG [src.node.docker_mananger] Generated ports ['56037', '56038', '56039', '56040', '56041']
2025-02-11 15:08:20.375 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:08:20.375 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:08:20.375 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:08:20.375 DEBUG [src.node.docker_mananger] docker run -i -t -p 56037:56037 -p 56038:56038 -p 56039:56039 -p 56040:56040 -p 56041:56041 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56039 --rest-port=56037 --tcp-port=56038 --discv5-udp-port=56040 --rest-address=0.0.0.0 --nat=extip:172.18.22.58 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c4c22be4b4e2da80f378d39b2fbad6950fd9055be1b65b8ca8ac14db25fe685d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56041 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QKHsJEEec6zp8Pk7Ir2RMX-x3t-5-tt8OT7sNT65_6e5FWQrhCdomFTG3RJH1IOdZuHwY9fmXqqNIAYmxP-SdfkCgmlkgnY0gmlwhKwSzp-KbXVsdGlhZGRyc5YACASsEs6fBpu9AAoErBLOnwabvt0DgnJzhQADAQAAiXNlY3AyNTZrMaECPjhRZoS9wyrRo37oALZ_vfPAO98ra5JQ169E1yK2tkqDdGNwgpu9g3VkcIKbv4V3YWt1MgM --storenode=/ip4/172.18.206.159/tcp/39869/p2p/16Uiu2HAkycZ4jTMaf3Tk81bBwzbYbrkRtFF5N6o4Kc7T6n33dCED --store=true --relay=true
2025-02-11 15:08:20.622 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.22.58 waku b7b05681bca460b79f84eaa10e440f4b976bc6e0aa4ae771010b8df79b6e8b1f
2025-02-11 15:08:20.672 DEBUG [src.node.docker_mananger] Container started with ID b7b05681bca4. Setting up logs at ./log/docker/store_node1_2025-02-11_15-08-19__dcf5e68c-bfbc-4a2a-815d-98b547e4d4af__wakuorg_nwaku:latest.log
2025-02-11 15:08:20.672 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 56037
2025-02-11 15:08:20.674 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:08:21.674 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56037/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:08:21.677 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:08:21.677 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:08:21.678 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56037/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:08:21.680 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.58/tcp/56038/p2p/16Uiu2HAmSUaARFgPoUnw7npMLkg2X4C6VfCGZJTVdQumqFD3a2f8","/ip4/172.18.22.58/tcp/56039/ws/p2p/16Uiu2HAmSUaARFgPoUnw7npMLkg2X4C6VfCGZJTVdQumqFD3a2f8"],"enrUri":"enr:-L24QG-WfsTjYxjH3xwmSn48shqRcpZkT7cOUgsKNRwa7RkKNLOfqpmQVoj0V4R0zDj1XFmsck8oFTTdeTUEsrq84c0CgmlkgnY0gmlwhKwSFjqKbXVsdGlhZGRyc5YACASsEhY6BtrmAAoErBIWOgba590DgnJzhQADAQAAiXNlY3AyNTZrMaEDzVh1xstsL6Y6vidGVADbxz-RDGRNS-ZAzicFZk3RUg-DdGNwgtrmg3VkcILa6IV3YWt1MgM"}'
2025-02-11 15:08:21.680 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:08:21.680 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56037/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.206.159/tcp/39869/p2p/16Uiu2HAkycZ4jTMaf3Tk81bBwzbYbrkRtFF5N6o4Kc7T6n33dCED"]'
2025-02-11 15:08:21.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:08:21.683 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39868/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:08:21.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:08:21.686 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56037/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:08:21.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:08:21.689 DEBUG [src.steps.store] Relaying message
2025-02-11 15:08:21.689 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:08:21.694 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:08:21.695 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:08:21.895 DEBUG [src.steps.store] Relaying message
2025-02-11 15:08:21.896 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:08:21.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:08:21.902 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:08:22.103 DEBUG [src.steps.store] Relaying message
2025-02-11 15:08:22.103 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:08:22.109 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:08:22.109 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:08:22.310 DEBUG [src.steps.store] Relaying message
2025-02-11 15:08:22.311 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:08:22.318 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:08:22.318 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:08:22.519 DEBUG [src.steps.store] Relaying message
2025-02-11 15:08:22.519 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39868/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:08:22.525 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:08:22.526 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:08:22.726 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39868/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:08:22.730 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x803b2ae21a5d7d8fbf2c4717a19edea57256cc2195bd949763c3fd9e060abf97"},{"messageHash":"0x45f609cd53713f29914a3ea725c5e808f1d05ab5b6892efda0dedcbfbe20638e"},{"messageHash":"0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95"}],"paginationCursor":"0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95"}'
2025-02-11 15:08:22.730 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39868/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true&paginationCursor=0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:08:22.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x803b2ae21a5d7d8fbf2c4717a19edea57256cc2195bd949763c3fd9e060abf97"},{"messageHash":"0x45f609cd53713f29914a3ea725c5e808f1d05ab5b6892efda0dedcbfbe20638e"},{"messageHash":"0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95"}],"paginationCursor":"0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95"}'
2025-02-11 15:08:22.733 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39868/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:08:22.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd514593022506fb5afa720dd22e887fc9bdbfb3ae3c874e4a014642ccf99d6d5"},{"messageHash":"0xbafc07d101c542160aa9beef68e09d8e31881336a237e353e4bab1e83dcef6c9"}]}'
2025-02-11 15:08:22.737 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56037/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:08:22.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x803b2ae21a5d7d8fbf2c4717a19edea57256cc2195bd949763c3fd9e060abf97"},{"messageHash":"0x45f609cd53713f29914a3ea725c5e808f1d05ab5b6892efda0dedcbfbe20638e"},{"messageHash":"0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95"}],"paginationCursor":"0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95"}'
2025-02-11 15:08:22.740 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56037/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true&paginationCursor=0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:08:22.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x803b2ae21a5d7d8fbf2c4717a19edea57256cc2195bd949763c3fd9e060abf97"},{"messageHash":"0x45f609cd53713f29914a3ea725c5e808f1d05ab5b6892efda0dedcbfbe20638e"},{"messageHash":"0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95"}],"paginationCursor":"0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95"}'
2025-02-11 15:08:22.743 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56037/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x47dd79cbc18a6c24a9de94e348f2aeddbdc095078f77483b039ab9ed9eefaf95&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:08:22.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd514593022506fb5afa720dd22e887fc9bdbfb3ae3c874e4a014642ccf99d6d5"},{"messageHash":"0xbafc07d101c542160aa9beef68e09d8e31881336a237e353e4bab1e83dcef6c9"}]}'
2025-02-11 15:08:22.747 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:08:22.748 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:08:22.749 DEBUG [src.node.waku_node] Stopping container with id 417bb9801a63
2025-02-11 15:08:23.879 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:08:23.880 DEBUG [src.node.waku_node] Stopping container with id b7b05681bca4
2025-02-11 15:08:24.616 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:08:24.617 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:08:24.630 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:08:24.637 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
