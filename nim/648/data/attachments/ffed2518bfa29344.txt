2025-02-11 15:04:27.424 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:04:27.424 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2025-02-11_15-04-27__a66a61ce-5350-45c6-b15f-7e71cb1280f4
2025-02-11 15:04:27.424 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:04:27.424 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 15:04:27.425 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 15:04:27.432 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:27.432 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-04-27__a66a61ce-5350-45c6-b15f-7e71cb1280f4__wakuorg_nwaku:latest.log
2025-02-11 15:04:27.432 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:27.432 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:27.434 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:27.434 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.71.206
2025-02-11 15:04:27.434 DEBUG [src.node.docker_mananger] Generated ports ['3118', '3119', '3120', '3121', '3122']
2025-02-11 15:04:27.434 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:27.434 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:27.434 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:27.434 DEBUG [src.node.docker_mananger] docker run -i -t -p 3118:3118 -p 3119:3119 -p 3120:3120 -p 3121:3121 -p 3122:3122 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3120 --rest-port=3118 --tcp-port=3119 --discv5-udp-port=3121 --rest-address=0.0.0.0 --nat=extip:172.18.71.206 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=31aa8b9dcb04d3793e662fe73fadc8ef1d57adefa611ac1aebefe83bfa34fa34 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3122 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-11 15:04:27.655 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.71.206 waku 6aa3a670ee6f8b2b420579e73ecd6a97dedfcaf46fa8a9354907a3d1c43e306d
2025-02-11 15:04:27.701 DEBUG [src.node.docker_mananger] Container started with ID 6aa3a670ee6f. Setting up logs at ./log/docker/node1_2025-02-11_15-04-27__a66a61ce-5350-45c6-b15f-7e71cb1280f4__wakuorg_nwaku:latest.log
2025-02-11 15:04:27.702 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 3118
2025-02-11 15:04:27.702 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:28.230 ERROR [src.node.docker_mananger] Max retries reached for container 75e0f3ad144f. Exiting log stream.
2025-02-11 15:04:28.703 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:28.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:28.706 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:28.706 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:28.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.71.206/tcp/3119/p2p/16Uiu2HAm7TJSwshiwPh1K66FBcrpfzXjPPeUezLB626L8tg7QJqn","/ip4/172.18.71.206/tcp/3120/ws/p2p/16Uiu2HAm7TJSwshiwPh1K66FBcrpfzXjPPeUezLB626L8tg7QJqn"],"enrUri":"enr:-L24QGmnM8BlesDoFruuNJL8CeaTmQ-W7MS7rjBsb-G6mE-lKrYPTN0NMCJ0STHpz2dMOfyGrZMksNs9zl7mcXxV--sCgmlkgnY0gmlwhKwSR86KbXVsdGlhZGRyc5YACASsEkfOBgwvAAoErBJHzgYMMN0DgnJzhQACAQAAiXNlY3AyNTZrMaECsrcPAOp-Tk4gGymqxinlN6PvhZY1dGVDz3MFk1SP5wmDdGNwggwvg3VkcIIMMYV3YWt1MgU"}'
2025-02-11 15:04:28.709 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:28.715 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:28.716 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-04-27__a66a61ce-5350-45c6-b15f-7e71cb1280f4__wakuorg_nwaku:latest.log
2025-02-11 15:04:28.716 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:28.716 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:28.717 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:28.717 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.166.235
2025-02-11 15:04:28.717 DEBUG [src.node.docker_mananger] Generated ports ['64654', '64655', '64656', '64657', '64658']
2025-02-11 15:04:28.717 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:28.718 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:28.718 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:28.718 DEBUG [src.node.docker_mananger] docker run -i -t -p 64654:64654 -p 64655:64655 -p 64656:64656 -p 64657:64657 -p 64658:64658 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64656 --rest-port=64654 --tcp-port=64655 --discv5-udp-port=64657 --rest-address=0.0.0.0 --nat=extip:172.18.166.235 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=9aa1cde1e7ba7ac6de40b361fd9a7fd6a5ea6ffcd4e6fcb1fc50d1eafead2bb2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64658 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGmnM8BlesDoFruuNJL8CeaTmQ-W7MS7rjBsb-G6mE-lKrYPTN0NMCJ0STHpz2dMOfyGrZMksNs9zl7mcXxV--sCgmlkgnY0gmlwhKwSR86KbXVsdGlhZGRyc5YACASsEkfOBgwvAAoErBJHzgYMMN0DgnJzhQACAQAAiXNlY3AyNTZrMaECsrcPAOp-Tk4gGymqxinlN6PvhZY1dGVDz3MFk1SP5wmDdGNwggwvg3VkcIIMMYV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-11 15:04:28.947 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.166.235 waku 067125ec6d052b9613e50b3372ffeff67000d47f3cd499b5f4488eac7c31bb0d
2025-02-11 15:04:28.993 DEBUG [src.node.docker_mananger] Container started with ID 067125ec6d05. Setting up logs at ./log/docker/node2_2025-02-11_15-04-27__a66a61ce-5350-45c6-b15f-7e71cb1280f4__wakuorg_nwaku:latest.log
2025-02-11 15:04:28.994 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64654
2025-02-11 15:04:28.995 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:29.995 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.005 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:30.006 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:30.008 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.166.235/tcp/64655/p2p/16Uiu2HAmNiPnkXgS4jBZWEdMVpkQUtrtffyDv7hMwiaiZQzRbk91","/ip4/172.18.166.235/tcp/64656/ws/p2p/16Uiu2HAmNiPnkXgS4jBZWEdMVpkQUtrtffyDv7hMwiaiZQzRbk91"],"enrUri":"enr:-L24QJo94FXiSUmHxIulwqmQ_UYNJR9ia9FiEtmiVUzqRXjGWK_3z3u2SjPOwW0w6NxlLdMNma2LhYC-UkQhw2Rh-g4CgmlkgnY0gmlwhKwSpuuKbXVsdGlhZGRyc5YACASsEqbrBvyPAAoErBKm6wb8kN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDlXQdPvBMwgN8hd-gVQ_gDWHIfvEZp7CuS1xjLWKU0QyDdGNwgvyPg3VkcIL8kYV3YWt1MgE"}'
2025-02-11 15:04:30.011 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:30.012 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64654/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.71.206/tcp/3119/p2p/16Uiu2HAm7TJSwshiwPh1K66FBcrpfzXjPPeUezLB626L8tg7QJqn"]'
2025-02-11 15:04:30.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.015 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 15:04:30.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.025 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64654/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 15:04:30.044 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.045 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:30.056 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.056 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:30.156 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.157 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286270045114112,"ephemeral":false}]'
2025-02-11 15:04:30.161 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.161 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286270045114112,"ephemeral":false}]'
2025-02-11 15:04:30.165 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:30.170 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.170 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:30.270 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.271 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739286270165122816,"ephemeral":false}]'
2025-02-11 15:04:30.275 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.275 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.278 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739286270165122816,"ephemeral":false}]'
2025-02-11 15:04:30.279 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:30.285 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.285 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:30.386 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.386 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.389 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739286270279585792,"ephemeral":false}]'
2025-02-11 15:04:30.390 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.390 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739286270279585792,"ephemeral":false}]'
2025-02-11 15:04:30.394 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:30.399 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.399 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:30.499 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.500 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739286270394401024,"ephemeral":false}]'
2025-02-11 15:04:30.504 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.504 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739286270394401024,"ephemeral":false}]'
2025-02-11 15:04:30.508 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:30.512 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.513 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:30.613 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.613 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739286270507938304,"ephemeral":false}]'
2025-02-11 15:04:30.618 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.618 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739286270507938304,"ephemeral":false}]'
2025-02-11 15:04:30.622 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:30.626 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.628 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:30.728 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.728 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.732 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739286270622139392,"ephemeral":false}]'
2025-02-11 15:04:30.733 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.733 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739286270622139392,"ephemeral":false}]'
2025-02-11 15:04:30.737 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:30.742 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.743 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:30.844 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739286270737772544,"ephemeral":false}]'
2025-02-11 15:04:30.848 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.848 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.850 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739286270737772544,"ephemeral":false}]'
2025-02-11 15:04:30.852 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:30.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.858 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:30.959 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.959 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739286270851932416,"ephemeral":false}]'
2025-02-11 15:04:30.964 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:30.965 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:30.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739286270851932416,"ephemeral":false}]'
2025-02-11 15:04:30.968 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:3118/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-11 15:04:30.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.979 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:64654/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-11 15:04:30.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.987 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:30.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:30.990 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:31.090 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.090 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.092 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:3118/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-11 15:04:31.094 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:31.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:31.097 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:31.197 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.198 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.200 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:3118/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-11 15:04:31.202 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:31.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:31.205 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:31.305 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.305 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.308 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:3118/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-11 15:04:31.310 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:31.314 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:31.314 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:31.415 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.415 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.421 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739286271309932544,"ephemeral":false}]'
2025-02-11 15:04:31.423 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.423 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.425 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739286271309932544,"ephemeral":false}]'
2025-02-11 15:04:31.427 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:31.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:31.432 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:31.532 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.533 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.535 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739286271427206400,"ephemeral":false}]'
2025-02-11 15:04:31.537 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.537 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739286271427206400,"ephemeral":false}]'
2025-02-11 15:04:31.541 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:31.545 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:31.546 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:31.647 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.647 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.650 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739286271541345536,"ephemeral":false}]'
2025-02-11 15:04:31.651 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.651 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.653 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739286271541345536,"ephemeral":false}]'
2025-02-11 15:04:31.655 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:31.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:31.661 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:31.761 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.761 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.764 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739286271655375104,"ephemeral":false}]'
2025-02-11 15:04:31.765 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.766 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.768 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739286271655375104,"ephemeral":false}]'
2025-02-11 15:04:31.770 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:31.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:31.775 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:31.875 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3118/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.878 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739286271770036480,"ephemeral":false}]'
2025-02-11 15:04:31.880 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:31.880 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64654/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:31.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739286271770036480,"ephemeral":false}]'
2025-02-11 15:04:31.885 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:04:31.886 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:04:31.886 DEBUG [src.node.waku_node] Stopping container with id 6aa3a670ee6f
2025-02-11 15:04:33.179 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:04:33.180 DEBUG [src.node.waku_node] Stopping container with id 067125ec6d05
2025-02-11 15:04:33.911 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:04:33.912 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:04:33.922 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:04:33.934 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
