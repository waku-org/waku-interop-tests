2025-02-11 15:05:27.499 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:05:27.500 DEBUG [tests.conftest] Running test: test_invalid_hash_param with id: 2025-02-11_15-05-27__b18283b0-d303-401a-b7ed-7a4e6cc87f4b
2025-02-11 15:05:27.500 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:05:27.500 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 15:05:27.501 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 15:05:27.510 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:05:27.510 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_15-05-27__b18283b0-d303-401a-b7ed-7a4e6cc87f4b__wakuorg_nwaku:latest.log
2025-02-11 15:05:27.510 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:05:27.510 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:05:27.513 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:05:27.514 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.56.120
2025-02-11 15:05:27.514 DEBUG [src.node.docker_mananger] Generated ports ['6069', '6070', '6071', '6072', '6073']
2025-02-11 15:05:27.514 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:05:27.515 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:05:27.515 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:05:27.515 DEBUG [src.node.docker_mananger] docker run -i -t -p 6069:6069 -p 6070:6070 -p 6071:6071 -p 6072:6072 -p 6073:6073 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6071 --rest-port=6069 --tcp-port=6070 --discv5-udp-port=6072 --rest-address=0.0.0.0 --nat=extip:172.18.56.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddb5cda2f1c14f8b75221a2d5dbca0ea3c7a3244bfe3f735a880cc4fa5eee47f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6073 --metrics-logging=true --store=true --relay=true
2025-02-11 15:05:27.751 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.56.120 waku 739996cbcf05df977bf67c81716250a18b6f643e3c0cadc55acae91db7cc8c4d
2025-02-11 15:05:27.805 DEBUG [src.node.docker_mananger] Container started with ID 739996cbcf05. Setting up logs at ./log/docker/publishing_node1_2025-02-11_15-05-27__b18283b0-d303-401a-b7ed-7a4e6cc87f4b__wakuorg_nwaku:latest.log
2025-02-11 15:05:27.806 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 6069
2025-02-11 15:05:27.806 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:05:28.333 ERROR [src.node.docker_mananger] Max retries reached for container 3d206498a2de. Exiting log stream.
2025-02-11 15:05:28.807 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6069/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:28.810 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:05:28.810 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:05:28.810 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6069/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:28.812 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.120/tcp/6070/p2p/16Uiu2HAm9yVWiRHvUv3XrxTMiBLdsX3MYv9xCAcBSkdJWAP9ZF4a","/ip4/172.18.56.120/tcp/6071/ws/p2p/16Uiu2HAm9yVWiRHvUv3XrxTMiBLdsX3MYv9xCAcBSkdJWAP9ZF4a"],"enrUri":"enr:-L24QDaVuPDOxxyVlxqBBo3IsveTQ9M9PNnVsYpEgnsHVMUkR8VC6rhUU1UrGDWfxh44wfAbrGwsdhU-ZkhiyUcga2YCgmlkgnY0gmlwhKwSOHiKbXVsdGlhZGRyc5YACASsEjh4Bhe2AAoErBI4eAYXt90DgnJzhQADAQAAiXNlY3AyNTZrMaEC2CpeMJ1MzrlLi3w4pouYHXQBzU-HLM4Zt-s7xxiCN8eDdGNwghe2g3VkcIIXuIV3YWt1MgM"}'
2025-02-11 15:05:28.813 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:05:28.819 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:05:28.819 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_15-05-27__b18283b0-d303-401a-b7ed-7a4e6cc87f4b__wakuorg_nwaku:latest.log
2025-02-11 15:05:28.820 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:05:28.820 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:05:28.821 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:05:28.821 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.252.23
2025-02-11 15:05:28.821 DEBUG [src.node.docker_mananger] Generated ports ['5994', '5995', '5996', '5997', '5998']
2025-02-11 15:05:28.822 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:05:28.822 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:05:28.822 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:05:28.822 DEBUG [src.node.docker_mananger] docker run -i -t -p 5994:5994 -p 5995:5995 -p 5996:5996 -p 5997:5997 -p 5998:5998 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5996 --rest-port=5994 --tcp-port=5995 --discv5-udp-port=5997 --rest-address=0.0.0.0 --nat=extip:172.18.252.23 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8ff5f8bd1aeddacffd7d72eea5fb81d84e2bbdc1edcdade36e1c38aed34f4bb7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5998 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QDaVuPDOxxyVlxqBBo3IsveTQ9M9PNnVsYpEgnsHVMUkR8VC6rhUU1UrGDWfxh44wfAbrGwsdhU-ZkhiyUcga2YCgmlkgnY0gmlwhKwSOHiKbXVsdGlhZGRyc5YACASsEjh4Bhe2AAoErBI4eAYXt90DgnJzhQADAQAAiXNlY3AyNTZrMaEC2CpeMJ1MzrlLi3w4pouYHXQBzU-HLM4Zt-s7xxiCN8eDdGNwghe2g3VkcIIXuIV3YWt1MgM --storenode=/ip4/172.18.56.120/tcp/6070/p2p/16Uiu2HAm9yVWiRHvUv3XrxTMiBLdsX3MYv9xCAcBSkdJWAP9ZF4a --store=true --relay=true
2025-02-11 15:05:29.050 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.252.23 waku c990525c5e1252d5441cd10756990bfeb3ec2bccf4b04bb40f7a7a9517d9ca94
2025-02-11 15:05:29.106 DEBUG [src.node.docker_mananger] Container started with ID c990525c5e12. Setting up logs at ./log/docker/store_node1_2025-02-11_15-05-27__b18283b0-d303-401a-b7ed-7a4e6cc87f4b__wakuorg_nwaku:latest.log
2025-02-11 15:05:29.106 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5994
2025-02-11 15:05:29.107 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:05:30.107 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5994/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:30.110 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:05:30.110 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:05:30.110 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5994/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:30.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.23/tcp/5995/p2p/16Uiu2HAmSjr5RTTENkywzfqQVHczwE1vC3wY44ksUb2DGLH3EaTM","/ip4/172.18.252.23/tcp/5996/ws/p2p/16Uiu2HAmSjr5RTTENkywzfqQVHczwE1vC3wY44ksUb2DGLH3EaTM"],"enrUri":"enr:-L24QHpjWoTKN5hMgsd5bFn7uDCwGTMf3XHWDNV31L1O2XoWcVeuXzBm42SiwX1kiSLMvvdU4xhDEc4D7oZZ2gcK0o8CgmlkgnY0gmlwhKwS_BeKbXVsdGlhZGRyc5YACASsEvwXBhdrAAoErBL8FwYXbN0DgnJzhQADAQAAiXNlY3AyNTZrMaED0UIqgmWJZAV1ezWX_eycQCyMHpEVUW19eRzyYcUROgSDdGNwghdrg3VkcIIXbYV3YWt1MgM"}'
2025-02-11 15:05:30.113 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:05:30.113 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5994/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.120/tcp/6070/p2p/16Uiu2HAm9yVWiRHvUv3XrxTMiBLdsX3MYv9xCAcBSkdJWAP9ZF4a"]'
2025-02-11 15:05:39.103 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:39.104 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6069/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:05:39.106 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:39.107 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5994/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:05:39.109 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:39.110 DEBUG [src.steps.store] Relaying message
2025-02-11 15:05:39.110 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6069/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:39.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:39.116 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:05:39.316 DEBUG [src.steps.store] Relaying message
2025-02-11 15:05:39.317 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6069/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:39.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:39.324 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:05:39.525 DEBUG [src.steps.store] Relaying message
2025-02-11 15:05:39.525 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6069/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:39.530 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:39.531 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:05:39.732 DEBUG [src.steps.store] Relaying message
2025-02-11 15:05:39.732 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6069/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:39.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:39.740 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:05:39.941 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6069/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=0xcd45491439b3707ce1a1331af853ce0d451e1da5f8a60167461ec72f6ac540a8&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:39.944 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xcd45491439b3707ce1a1331af853ce0d451e1da5f8a60167461ec72f6ac540a8"}]}'
2025-02-11 15:05:39.945 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6069/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&ascending=true&hash=0xcd45491439b3707ce1a1331af853ce0d451e1da5f8a60167461ec72f6ac540a8" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:39.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xb85f8d9920b2cc94d3797044fb6354e33580d2c404673102be37b753b79c5379"},{"messageHash":"0x72ff671291e85868c3d4f6768fafa64b5dd8d0c3a7065e98fb472b90f5546a6c"},{"messageHash":"0xcd45491439b3707ce1a1331af853ce0d451e1da5f8a60167461ec72f6ac540a8"},{"messageHash":"0xac719d3b072d336a8f98333377530b40d66187b6906744c88ce0e4bbcbdda05b"}]}'
2025-02-11 15:05:39.948 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5994/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=0xcd45491439b3707ce1a1331af853ce0d451e1da5f8a60167461ec72f6ac540a8&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:39.951 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xcd45491439b3707ce1a1331af853ce0d451e1da5f8a60167461ec72f6ac540a8"}]}'
2025-02-11 15:05:39.951 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5994/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&ascending=true&hash=0xcd45491439b3707ce1a1331af853ce0d451e1da5f8a60167461ec72f6ac540a8" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:39.954 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xb85f8d9920b2cc94d3797044fb6354e33580d2c404673102be37b753b79c5379"},{"messageHash":"0x72ff671291e85868c3d4f6768fafa64b5dd8d0c3a7065e98fb472b90f5546a6c"},{"messageHash":"0xcd45491439b3707ce1a1331af853ce0d451e1da5f8a60167461ec72f6ac540a8"},{"messageHash":"0xac719d3b072d336a8f98333377530b40d66187b6906744c88ce0e4bbcbdda05b"}]}'
2025-02-11 15:05:39.956 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:05:39.956 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:05:39.957 DEBUG [src.node.waku_node] Stopping container with id 739996cbcf05
2025-02-11 15:05:40.735 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:05:40.735 DEBUG [src.node.waku_node] Stopping container with id c990525c5e12
2025-02-11 15:05:41.565 ERROR [src.node.docker_mananger] Max retries reached for container 739996cbcf05. Exiting log stream.
2025-02-11 15:05:42.091 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:05:42.092 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:05:42.107 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:05:42.115 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
