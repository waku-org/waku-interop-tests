2025-02-11 15:06:21.219 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:06:21.220 DEBUG [tests.conftest] Running test: test_time_filter_matches_no_message with id: 2025-02-11_15-06-21__0d146c62-2c44-4900-b8a3-8a57613f2aac
2025-02-11 15:06:21.220 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:06:21.220 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 15:06:21.220 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 15:06:21.227 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:06:21.228 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_15-06-21__0d146c62-2c44-4900-b8a3-8a57613f2aac__wakuorg_nwaku:latest.log
2025-02-11 15:06:21.228 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:06:21.228 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:06:21.230 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:06:21.230 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.11.168
2025-02-11 15:06:21.230 DEBUG [src.node.docker_mananger] Generated ports ['58066', '58067', '58068', '58069', '58070']
2025-02-11 15:06:21.230 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:06:21.230 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:06:21.230 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:06:21.231 DEBUG [src.node.docker_mananger] docker run -i -t -p 58066:58066 -p 58067:58067 -p 58068:58068 -p 58069:58069 -p 58070:58070 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58068 --rest-port=58066 --tcp-port=58067 --discv5-udp-port=58069 --rest-address=0.0.0.0 --nat=extip:172.18.11.168 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7d5e07bb1a3bafca4cc925a0baceca163553f98ea363eace13932b1c5db2e1c6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58070 --metrics-logging=true --store=true --relay=true
2025-02-11 15:06:21.465 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.11.168 waku df98e21d8dc0b8e6acc3464d57bcf3c6784c83e6f45f927ab974e5d73f2049b0
2025-02-11 15:06:21.518 DEBUG [src.node.docker_mananger] Container started with ID df98e21d8dc0. Setting up logs at ./log/docker/publishing_node1_2025-02-11_15-06-21__0d146c62-2c44-4900-b8a3-8a57613f2aac__wakuorg_nwaku:latest.log
2025-02-11 15:06:21.520 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58066
2025-02-11 15:06:21.520 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:06:22.026 ERROR [src.node.docker_mananger] Max retries reached for container 6e284dacdf9d. Exiting log stream.
2025-02-11 15:06:22.521 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58066/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:06:22.524 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:06:22.524 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:06:22.524 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58066/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:06:22.527 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.168/tcp/58067/p2p/16Uiu2HAmFzHWJ2DKdpwSrPeH4VLEJ85a2ESXqVW7VWmKQECCPZcq","/ip4/172.18.11.168/tcp/58068/ws/p2p/16Uiu2HAmFzHWJ2DKdpwSrPeH4VLEJ85a2ESXqVW7VWmKQECCPZcq"],"enrUri":"enr:-L24QFXR7NViv6BcPDm7E799J5dEenYkRcfzRdd2vnIJp2wUSnVHs198tD1M5otlLbF9UQvjQhfIekJPuM2Pp6iOsMUCgmlkgnY0gmlwhKwSC6iKbXVsdGlhZGRyc5YACASsEguoBuLTAAoErBILqAbi1N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMYR-YATRnOPvHWI2qaikj5pSvx-dtJup2ecd8BvH6l6DdGNwguLTg3VkcILi1YV3YWt1MgM"}'
2025-02-11 15:06:22.527 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:06:22.537 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:06:22.537 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_15-06-21__0d146c62-2c44-4900-b8a3-8a57613f2aac__wakuorg_nwaku:latest.log
2025-02-11 15:06:22.537 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:06:22.537 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:06:22.540 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:06:22.540 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.2.241
2025-02-11 15:06:22.540 DEBUG [src.node.docker_mananger] Generated ports ['46713', '46714', '46715', '46716', '46717']
2025-02-11 15:06:22.540 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:06:22.540 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:06:22.540 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:06:22.541 DEBUG [src.node.docker_mananger] docker run -i -t -p 46713:46713 -p 46714:46714 -p 46715:46715 -p 46716:46716 -p 46717:46717 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46715 --rest-port=46713 --tcp-port=46714 --discv5-udp-port=46716 --rest-address=0.0.0.0 --nat=extip:172.18.2.241 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c42cd8cb6c8e2fc192febacd7fcc79aa4fb6ddca3e57bbffe9a15ad2fdc2a219 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46717 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QFXR7NViv6BcPDm7E799J5dEenYkRcfzRdd2vnIJp2wUSnVHs198tD1M5otlLbF9UQvjQhfIekJPuM2Pp6iOsMUCgmlkgnY0gmlwhKwSC6iKbXVsdGlhZGRyc5YACASsEguoBuLTAAoErBILqAbi1N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMYR-YATRnOPvHWI2qaikj5pSvx-dtJup2ecd8BvH6l6DdGNwguLTg3VkcILi1YV3YWt1MgM --storenode=/ip4/172.18.11.168/tcp/58067/p2p/16Uiu2HAmFzHWJ2DKdpwSrPeH4VLEJ85a2ESXqVW7VWmKQECCPZcq --store=true --relay=true
2025-02-11 15:06:22.787 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.2.241 waku dce62a4f7568ff2670f07e2de0e1062e9f36766fe17dc929df6c173159f26e0a
2025-02-11 15:06:22.842 DEBUG [src.node.docker_mananger] Container started with ID dce62a4f7568. Setting up logs at ./log/docker/store_node1_2025-02-11_15-06-21__0d146c62-2c44-4900-b8a3-8a57613f2aac__wakuorg_nwaku:latest.log
2025-02-11 15:06:22.842 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 46713
2025-02-11 15:06:22.842 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:06:23.843 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46713/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:06:23.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:06:23.846 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:06:23.847 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46713/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:06:23.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.2.241/tcp/46714/p2p/16Uiu2HAkvVed6R9uqGEJyaNQTdK3pwT5orCVSZXUeE3nyuDcSrfv","/ip4/172.18.2.241/tcp/46715/ws/p2p/16Uiu2HAkvVed6R9uqGEJyaNQTdK3pwT5orCVSZXUeE3nyuDcSrfv"],"enrUri":"enr:-L24QITTgd_U5j7Ec3jtXwTaAlKIH5fTtTjNPTRPcQyxCXLrWp9Mj1wMGZiOKciqaAmGw6isyTtWPrWCbYr7Z49zYtECgmlkgnY0gmlwhKwSAvGKbXVsdGlhZGRyc5YACASsEgLxBrZ6AAoErBIC8Qa2e90DgnJzhQADAQAAiXNlY3AyNTZrMaECD-B51m5fs4TMQrmCFws7Rr4Z_IBj8b-SIBdaMiHvhU2DdGNwgrZ6g3VkcIK2fIV3YWt1MgM"}'
2025-02-11 15:06:23.849 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:06:23.849 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46713/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.11.168/tcp/58067/p2p/16Uiu2HAmFzHWJ2DKdpwSrPeH4VLEJ85a2ESXqVW7VWmKQECCPZcq"]'
2025-02-11 15:06:32.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:06:32.838 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58066/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:06:32.841 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:06:32.841 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46713/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:06:32.844 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:06:32.845 DEBUG [src.steps.store] Relaying message
2025-02-11 15:06:32.845 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:06:32.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:06:32.852 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:06:33.052 DEBUG [src.steps.store] Relaying message
2025-02-11 15:06:33.053 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:06:33.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:06:33.059 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:06:33.260 DEBUG [src.steps.store] Relaying message
2025-02-11 15:06:33.260 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:06:33.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:06:33.267 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:06:33.468 DEBUG [src.steps.store] Relaying message
2025-02-11 15:06:33.469 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:06:33.478 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:06:33.479 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:06:33.679 DEBUG [src.steps.store] Relaying message
2025-02-11 15:06:33.680 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:06:33.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:06:33.687 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:06:33.887 DEBUG [src.steps.store] Relaying message
2025-02-11 15:06:33.888 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:06:33.894 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:06:33.894 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:06:34.095 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58066/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1739286389845385824&endTime=1739286389845485724&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:06:34.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2025-02-11 15:06:34.099 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46713/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1739286389845385824&endTime=1739286389845485724&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:06:34.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2025-02-11 15:06:34.104 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:06:34.105 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:06:34.105 DEBUG [src.node.waku_node] Stopping container with id df98e21d8dc0
2025-02-11 15:06:35.031 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:06:35.031 DEBUG [src.node.waku_node] Stopping container with id dce62a4f7568
2025-02-11 15:06:35.845 ERROR [src.node.docker_mananger] Max retries reached for container df98e21d8dc0. Exiting log stream.
2025-02-11 15:06:36.452 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:06:36.453 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:06:36.462 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:06:36.470 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
