2025-02-11 15:11:13.156 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:11:13.156 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics_one_by_one with id: 2025-02-11_15-11-13__da448262-6676-4214-b0a6-d780c465ea83
2025-02-11 15:11:13.157 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:11:13.157 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 15:11:13.157 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 15:11:13.164 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:11:13.164 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-11-13__da448262-6676-4214-b0a6-d780c465ea83__wakuorg_nwaku:latest.log
2025-02-11 15:11:13.164 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:11:13.164 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:11:13.165 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:11:13.166 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.67.39
2025-02-11 15:11:13.166 DEBUG [src.node.docker_mananger] Generated ports ['7893', '7894', '7895', '7896', '7897']
2025-02-11 15:11:13.166 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:11:13.166 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:11:13.166 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:11:13.166 DEBUG [src.node.docker_mananger] docker run -i -t -p 7893:7893 -p 7894:7894 -p 7895:7895 -p 7896:7896 -p 7897:7897 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7895 --rest-port=7893 --tcp-port=7894 --discv5-udp-port=7896 --rest-address=0.0.0.0 --nat=extip:172.18.67.39 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=97f29e65dbdf0fa77e5b1afeb2dc359881e0b80131e0e8fed58bafeccdd32fdf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7897 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-11 15:11:13.405 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.67.39 waku 2c9ffef2b87693771a536bdbc42d0cf29997759d99fb393215e7b2366ee9d83b
2025-02-11 15:11:13.453 DEBUG [src.node.docker_mananger] Container started with ID 2c9ffef2b876. Setting up logs at ./log/docker/node1_2025-02-11_15-11-13__da448262-6676-4214-b0a6-d780c465ea83__wakuorg_nwaku:latest.log
2025-02-11 15:11:13.454 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 7893
2025-02-11 15:11:13.455 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:11:13.963 ERROR [src.node.docker_mananger] Max retries reached for container f158fc50556a. Exiting log stream.
2025-02-11 15:11:14.455 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:14.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:11:14.458 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:11:14.458 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:14.460 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.67.39/tcp/7894/p2p/16Uiu2HAmH8RZP7STXvNptSSepknxLoESZQEQqfSZn8METjaNufi9","/ip4/172.18.67.39/tcp/7895/ws/p2p/16Uiu2HAmH8RZP7STXvNptSSepknxLoESZQEQqfSZn8METjaNufi9"],"enrUri":"enr:-L24QENM5Ge4_ltDEtqHgdj7q8RMB4BvCFpPtMjy6-nKCTGzFR9qOFsNNTSpF1rTYShVPno41ZoaQf4oC7cGTLDbWQkCgmlkgnY0gmlwhKwSQyeKbXVsdGlhZGRyc5YACASsEkMnBh7WAAoErBJDJwYe190DgnJzhQACAQAAiXNlY3AyNTZrMaEDQnXu0PWzcp9dkfgD7qQckfaRyUg2dSMVsu9VtqFk2TqDdGNwgh7Wg3VkcIIe2IV3YWt1MgU"}'
2025-02-11 15:11:14.461 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:11:14.467 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:11:14.467 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-11-13__da448262-6676-4214-b0a6-d780c465ea83__wakuorg_nwaku:latest.log
2025-02-11 15:11:14.467 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:11:14.467 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:11:14.469 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:11:14.469 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.232.11
2025-02-11 15:11:14.469 DEBUG [src.node.docker_mananger] Generated ports ['57160', '57161', '57162', '57163', '57164']
2025-02-11 15:11:14.469 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:11:14.469 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:11:14.469 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:11:14.469 DEBUG [src.node.docker_mananger] docker run -i -t -p 57160:57160 -p 57161:57161 -p 57162:57162 -p 57163:57163 -p 57164:57164 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57162 --rest-port=57160 --tcp-port=57161 --discv5-udp-port=57163 --rest-address=0.0.0.0 --nat=extip:172.18.232.11 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=317fb0d2ddc0ca953b3a5ce4c0f6ce6c0cafbacffdabb3a37ed9f1eb7c672ff7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57164 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QENM5Ge4_ltDEtqHgdj7q8RMB4BvCFpPtMjy6-nKCTGzFR9qOFsNNTSpF1rTYShVPno41ZoaQf4oC7cGTLDbWQkCgmlkgnY0gmlwhKwSQyeKbXVsdGlhZGRyc5YACASsEkMnBh7WAAoErBJDJwYe190DgnJzhQACAQAAiXNlY3AyNTZrMaEDQnXu0PWzcp9dkfgD7qQckfaRyUg2dSMVsu9VtqFk2TqDdGNwgh7Wg3VkcIIe2IV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-11 15:11:14.697 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.232.11 waku f16802c312d0be36b768d36f5e37f29151aeff83fd169100ae9c7edfc0009e35
2025-02-11 15:11:14.749 DEBUG [src.node.docker_mananger] Container started with ID f16802c312d0. Setting up logs at ./log/docker/node2_2025-02-11_15-11-13__da448262-6676-4214-b0a6-d780c465ea83__wakuorg_nwaku:latest.log
2025-02-11 15:11:14.749 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57160
2025-02-11 15:11:14.749 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:11:15.750 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57160/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:15.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:11:15.758 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:11:15.759 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57160/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:15.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.232.11/tcp/57161/p2p/16Uiu2HAmLQ2Cj8tawqj7Dwth7YhkaNLwkUk55P99ej4EAk4WeiYk","/ip4/172.18.232.11/tcp/57162/ws/p2p/16Uiu2HAmLQ2Cj8tawqj7Dwth7YhkaNLwkUk55P99ej4EAk4WeiYk"],"enrUri":"enr:-L24QIIgnCMNSqbBxZFHZRYAipAy17MK2W9zKm6bl1ZRGYyUNANIW3Z-snJ6otIprctpJylto7_GjsFm8VHfptBqAIkCgmlkgnY0gmlwhKwS6AuKbXVsdGlhZGRyc5YACASsEugLBt9JAAoErBLoCwbfSt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDcwfgtJRBpJV-JuTFcQftEC5vLoLI9SGjOYPRct4YO62DdGNwgt9Jg3VkcILfS4V3YWt1MgE"}'
2025-02-11 15:11:15.762 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:11:15.763 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57160/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.67.39/tcp/7894/p2p/16Uiu2HAmH8RZP7STXvNptSSepknxLoESZQEQqfSZn8METjaNufi9"]'
2025-02-11 15:11:15.765 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:15.766 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 15:11:15.776 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:15.776 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57160/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 15:11:15.796 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:15.797 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:15.807 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:15.808 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:15.908 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:15.908 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:15.911 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286675797603072,"ephemeral":false}]'
2025-02-11 15:11:15.912 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:15.913 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57160/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:15.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286675797603072,"ephemeral":false}]'
2025-02-11 15:11:15.916 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:15.921 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:15.921 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:16.022 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.022 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.024 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739286675916669184,"ephemeral":false}]'
2025-02-11 15:11:16.026 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.026 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57160/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.028 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739286675916669184,"ephemeral":false}]'
2025-02-11 15:11:16.030 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:16.035 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.035 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:16.135 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.136 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.138 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739286676030337280,"ephemeral":false}]'
2025-02-11 15:11:16.140 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.140 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57160/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739286676030337280,"ephemeral":false}]'
2025-02-11 15:11:16.144 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:16.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.150 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:16.250 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.251 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739286676144261888,"ephemeral":false}]'
2025-02-11 15:11:16.255 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.255 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57160/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.257 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739286676144261888,"ephemeral":false}]'
2025-02-11 15:11:16.259 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:16.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.264 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:16.364 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739286676259086848,"ephemeral":false}]'
2025-02-11 15:11:16.368 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.368 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57160/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739286676259086848,"ephemeral":false}]'
2025-02-11 15:11:16.372 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:16.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.377 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:16.478 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.478 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.480 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739286676372302848,"ephemeral":false}]'
2025-02-11 15:11:16.482 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.482 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57160/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.484 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739286676372302848,"ephemeral":false}]'
2025-02-11 15:11:16.486 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:16.490 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.491 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:16.592 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.592 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739286676485960448,"ephemeral":false}]'
2025-02-11 15:11:16.596 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.596 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57160/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739286676485960448,"ephemeral":false}]'
2025-02-11 15:11:16.600 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:16.606 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.606 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:16.706 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.707 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739286676600307968,"ephemeral":false}]'
2025-02-11 15:11:16.711 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.712 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57160/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.714 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739286676600307968,"ephemeral":false}]'
2025-02-11 15:11:16.716 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7893/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-11 15:11:16.720 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.721 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57160/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-11 15:11:16.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.726 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7893/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-11 15:11:16.730 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.731 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57160/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-11 15:11:16.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.736 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7893/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-11 15:11:16.740 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.741 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57160/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-11 15:11:16.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.746 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7893/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-11 15:11:16.751 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.751 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57160/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-11 15:11:16.756 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.757 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7893/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-11 15:11:16.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.762 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57160/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-11 15:11:16.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.767 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7893/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-11 15:11:16.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.773 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57160/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-11 15:11:16.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.778 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7893/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-11 15:11:16.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.783 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57160/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-11 15:11:16.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.788 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7893/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-11 15:11:16.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.793 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57160/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-11 15:11:16.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.801 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:16.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.804 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:16.904 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:16.904 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:16.907 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:7893/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-11 15:11:16.909 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:16.911 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:16.912 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:17.012 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:17.012 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:17.014 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:7893/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-11 15:11:17.016 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:17.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:17.019 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:17.119 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:17.119 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:17.122 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-11 15:11:17.124 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:17.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:17.127 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:17.227 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:17.227 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:17.230 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:7893/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-11 15:11:17.231 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:17.234 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:17.234 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:17.334 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:17.335 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:17.337 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:7893/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-11 15:11:17.339 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:17.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:17.341 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:17.442 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:17.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:17.444 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-11 15:11:17.446 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:17.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:17.448 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:17.549 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:17.549 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:17.551 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-11 15:11:17.553 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7893/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:17.555 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:17.556 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:17.656 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:17.656 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:17.658 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:7893/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-11 15:11:17.661 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:11:17.662 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:11:17.662 DEBUG [src.node.waku_node] Stopping container with id 2c9ffef2b876
2025-02-11 15:11:18.339 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:11:18.340 DEBUG [src.node.waku_node] Stopping container with id f16802c312d0
2025-02-11 15:11:19.152 ERROR [src.node.docker_mananger] Max retries reached for container 2c9ffef2b876. Exiting log stream.
2025-02-11 15:11:19.749 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:11:19.751 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:11:19.767 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:11:19.779 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
