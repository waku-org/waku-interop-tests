2025-02-11 15:05:39.375 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:05:39.376 DEBUG [tests.conftest] Running test: test_filter_static_sharding_multiple_shards with id: 2025-02-11_15-05-39__77249deb-4b8e-4772-98d2-5166c2eaffb0
2025-02-11 15:05:39.376 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:05:39.376 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 15:05:39.376 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 15:05:39.383 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:05:39.383 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-05-39__77249deb-4b8e-4772-98d2-5166c2eaffb0__wakuorg_nwaku:latest.log
2025-02-11 15:05:39.384 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:05:39.384 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:05:39.385 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:05:39.385 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.10.11
2025-02-11 15:05:39.385 DEBUG [src.node.docker_mananger] Generated ports ['27029', '27030', '27031', '27032', '27033']
2025-02-11 15:05:39.385 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-11 15:05:39.386 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:05:39.386 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:05:39.386 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:05:39.386 DEBUG [src.node.docker_mananger] docker run -i -t -p 27029:27029 -p 27030:27030 -p 27031:27031 -p 27032:27032 -p 27033:27033 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27031 --rest-port=27029 --tcp-port=27030 --discv5-udp-port=27032 --rest-address=0.0.0.0 --nat=extip:172.18.10.11 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=354c8b2b15edd6ec8afa525846fc1aa5dcb88fcdf2a19ba5cc9fa93d78d4c9bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27033 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 15:05:39.628 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.10.11 waku 5f57f9dc2b4525f4c7588a270568d2fd410d53fb5e7ddc836b7722e7ce3d3551
2025-02-11 15:05:39.681 DEBUG [src.node.docker_mananger] Container started with ID 5f57f9dc2b45. Setting up logs at ./log/docker/node1_2025-02-11_15-05-39__77249deb-4b8e-4772-98d2-5166c2eaffb0__wakuorg_nwaku:latest.log
2025-02-11 15:05:39.682 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 27029
2025-02-11 15:05:39.682 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:05:40.176 ERROR [src.node.docker_mananger] Max retries reached for container 6b54ceb1516a. Exiting log stream.
2025-02-11 15:05:40.682 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27029/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:40.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:05:40.686 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:05:40.686 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27029/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:40.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.10.11/tcp/27030/p2p/16Uiu2HAmRUCPhB4GL9VJt4SSobgHZBQ2k3psX5GQ8RY6KtrjKmjK","/ip4/172.18.10.11/tcp/27031/ws/p2p/16Uiu2HAmRUCPhB4GL9VJt4SSobgHZBQ2k3psX5GQ8RY6KtrjKmjK"],"enrUri":"enr:-Mu4QCSHDDsoMBSBD2YID3odUC7EqFmWWHEhwJMHiVkFxhFhewFh4wkiYi4uagxxPXx_-HXdEcI8Hk4yJICIBx17qXECgmlkgnY0gmlwhKwSCguKbXVsdGlhZGRyc5YACASsEgoLBmmWAAoErBIKCwZpl90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQO-ZCgMsKjTqIcz5z5oiyBP8CRMov2hwAUAdLedURtZloN0Y3CCaZaDdWRwgmmYhXdha3UyBQ"}'
2025-02-11 15:05:40.688 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:05:40.695 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:05:40.695 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-05-39__77249deb-4b8e-4772-98d2-5166c2eaffb0__wakuorg_nwaku:latest.log
2025-02-11 15:05:40.695 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:05:40.695 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:05:40.696 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:05:40.697 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.143.79
2025-02-11 15:05:40.697 DEBUG [src.node.docker_mananger] Generated ports ['41943', '41944', '41945', '41946', '41947']
2025-02-11 15:05:40.697 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-11 15:05:40.697 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:05:40.697 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:05:40.697 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:05:40.697 DEBUG [src.node.docker_mananger] docker run -i -t -p 41943:41943 -p 41944:41944 -p 41945:41945 -p 41946:41946 -p 41947:41947 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41945 --rest-port=41943 --tcp-port=41944 --discv5-udp-port=41946 --rest-address=0.0.0.0 --nat=extip:172.18.143.79 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ca5bceefce2fa66decb0d0beb9dbc33e1ab35fb02ff8c668314d9dab4fed88ee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41947 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-Mu4QCSHDDsoMBSBD2YID3odUC7EqFmWWHEhwJMHiVkFxhFhewFh4wkiYi4uagxxPXx_-HXdEcI8Hk4yJICIBx17qXECgmlkgnY0gmlwhKwSCguKbXVsdGlhZGRyc5YACASsEgoLBmmWAAoErBIKCwZpl90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQO-ZCgMsKjTqIcz5z5oiyBP8CRMov2hwAUAdLedURtZloN0Y3CCaZaDdWRwgmmYhXdha3UyBQ --filternode=/ip4/172.18.10.11/tcp/27030/p2p/16Uiu2HAmRUCPhB4GL9VJt4SSobgHZBQ2k3psX5GQ8RY6KtrjKmjK --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 15:05:40.931 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.143.79 waku 8fb8c4b5aeec3de50f132f089bd1a91b3a0537516d829ba2e431c7cbe98ea3ad
2025-02-11 15:05:40.984 DEBUG [src.node.docker_mananger] Container started with ID 8fb8c4b5aeec. Setting up logs at ./log/docker/node2_2025-02-11_15-05-39__77249deb-4b8e-4772-98d2-5166c2eaffb0__wakuorg_nwaku:latest.log
2025-02-11 15:05:40.984 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 41943
2025-02-11 15:05:40.985 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:05:41.985 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41943/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:41.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:05:41.989 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:05:41.989 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41943/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:41.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.143.79/tcp/41944/p2p/16Uiu2HAmRrC6BVRqpZbWaBsq4fkNSW2GJnpqkSPMA4vwDXBZHonV","/ip4/172.18.143.79/tcp/41945/ws/p2p/16Uiu2HAmRrC6BVRqpZbWaBsq4fkNSW2GJnpqkSPMA4vwDXBZHonV"],"enrUri":"enr:-Mu4QBzGNedglhSjtd7uFUy-4VYApmYgpFWYzUs-hTBJVEN0QQHYvRdUdK7J3LSl-oy8FL6RB6l12UbQhjQF9_6FA8ICgmlkgnY0gmlwhKwSj0-KbXVsdGlhZGRyc5YACASsEo9PBqPYAAoErBKPTwaj2d0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQPEBpfFN-_7BEcq6NvWFHspktkwS4uVHiSGtLwjE-GJBoN0Y3CCo9iDdWRwgqPahXdha3UyAA"}'
2025-02-11 15:05:41.991 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:05:41.992 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41943/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.10.11/tcp/27030/p2p/16Uiu2HAmRUCPhB4GL9VJt4SSobgHZBQ2k3psX5GQ8RY6KtrjKmjK"]'
2025-02-11 15:05:42.029 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:42.030 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27029/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 15:05:42.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:42.050 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41943/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "699c46aa-34e5-4c00-a80d-1b707c21b5bf", "contentFilters": ["/myapp/1/latest/proto"], "pubsubTopic": "/waku/2/rs/2/0"}'
2025-02-11 15:05:42.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"699c46aa-34e5-4c00-a80d-1b707c21b5bf","statusDesc":"OK"}'
2025-02-11 15:05:42.061 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41943/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7454cf0a-1365-4885-be8e-195bf03f4fc9", "contentFilters": ["/waku/2/content/test.js"], "pubsubTopic": "/waku/2/rs/2/1"}'
2025-02-11 15:05:42.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"7454cf0a-1365-4885-be8e-195bf03f4fc9","statusDesc":"OK"}'
2025-02-11 15:05:42.070 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41943/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0dc65ced-9da6-4f14-84d6-14b280539924", "contentFilters": ["/app/22/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/2"}'
2025-02-11 15:05:42.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"0dc65ced-9da6-4f14-84d6-14b280539924","statusDesc":"OK"}'
2025-02-11 15:05:42.079 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41943/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "33f8764e-3cc3-40fa-9623-89f2309a40df", "contentFilters": ["/toychat/2/huilong/proto"], "pubsubTopic": "/waku/2/rs/2/3"}'
2025-02-11 15:05:42.088 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"33f8764e-3cc3-40fa-9623-89f2309a40df","statusDesc":"OK"}'
2025-02-11 15:05:42.089 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41943/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "62d0af83-f0b6-446d-ac66-4db1d3b9e395", "contentFilters": ["/statusim/1/community/cbor"], "pubsubTopic": "/waku/2/rs/2/4"}'
2025-02-11 15:05:42.098 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"62d0af83-f0b6-446d-ac66-4db1d3b9e395","statusDesc":"OK"}'
2025-02-11 15:05:42.098 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41943/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2409172c-53b4-41c1-ad34-c63e5f6a33d7", "contentFilters": ["/app/27/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/5"}'
2025-02-11 15:05:42.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"2409172c-53b4-41c1-ad34-c63e5f6a33d7","statusDesc":"OK"}'
2025-02-11 15:05:42.107 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41943/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e8ee4fff-9041-4489-bc73-c65ff6876357", "contentFilters": ["/app/29/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/6"}'
2025-02-11 15:05:42.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"e8ee4fff-9041-4489-bc73-c65ff6876357","statusDesc":"OK"}'
2025-02-11 15:05:42.116 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41943/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e5c51223-1dd2-4bd5-9fd3-edca78b01a0f", "contentFilters": ["/app/20/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/7"}'
2025-02-11 15:05:42.125 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"e5c51223-1dd2-4bd5-9fd3-edca78b01a0f","statusDesc":"OK"}'
2025-02-11 15:05:42.125 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:42.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:42.135 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:05:42.235 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:05:42.236 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41943/filter/v2/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:42.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286342125788160,"ephemeral":false}]'
2025-02-11 15:05:42.240 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:42.246 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:42.247 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:05:42.347 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:05:42.347 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41943/filter/v2/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:42.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739286342240672512,"ephemeral":false}]'
2025-02-11 15:05:42.352 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:42.357 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:42.358 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:05:42.458 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:05:42.459 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41943/filter/v2/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:42.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739286342352270592,"ephemeral":false}]'
2025-02-11 15:05:42.463 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:42.469 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:42.470 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:05:42.570 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:05:42.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41943/filter/v2/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:42.573 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739286342463668992,"ephemeral":false}]'
2025-02-11 15:05:42.575 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:42.581 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:42.581 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:05:42.681 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:05:42.682 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41943/filter/v2/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:42.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739286342575268352,"ephemeral":false}]'
2025-02-11 15:05:42.686 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:42.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:42.692 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:05:42.793 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:05:42.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41943/filter/v2/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:42.796 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739286342686610944,"ephemeral":false}]'
2025-02-11 15:05:42.798 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:42.804 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:42.804 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:05:42.904 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:05:42.905 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41943/filter/v2/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:42.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739286342798045696,"ephemeral":false}]'
2025-02-11 15:05:42.909 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:05:42.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:05:42.915 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:05:43.015 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:05:43.016 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41943/filter/v2/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:05:43.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739286342909473024,"ephemeral":false}]'
2025-02-11 15:05:43.022 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:05:43.023 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:05:43.023 DEBUG [src.node.waku_node] Stopping container with id 5f57f9dc2b45
2025-02-11 15:05:44.310 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:05:44.310 DEBUG [src.node.waku_node] Stopping container with id 8fb8c4b5aeec
2025-02-11 15:05:45.123 ERROR [src.node.docker_mananger] Max retries reached for container 5f57f9dc2b45. Exiting log stream.
2025-02-11 15:05:45.830 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:05:45.831 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:05:45.840 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:05:45.847 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
