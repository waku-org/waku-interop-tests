2025-02-11 15:04:55.709 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:04:55.709 DEBUG [tests.conftest] Running test: test_multiple_content_topics_different_shard with id: 2025-02-11_15-04-55__0b1ac9c8-8086-4bcf-93a7-901796766b76
2025-02-11 15:04:55.709 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:04:55.710 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 15:04:55.710 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 15:04:55.716 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:55.717 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-04-55__0b1ac9c8-8086-4bcf-93a7-901796766b76__wakuorg_nwaku:latest.log
2025-02-11 15:04:55.717 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:55.717 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:55.718 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:55.718 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.234.74
2025-02-11 15:04:55.718 DEBUG [src.node.docker_mananger] Generated ports ['16818', '16819', '16820', '16821', '16822']
2025-02-11 15:04:55.719 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:55.719 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:55.719 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:55.719 DEBUG [src.node.docker_mananger] docker run -i -t -p 16818:16818 -p 16819:16819 -p 16820:16820 -p 16821:16821 -p 16822:16822 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16820 --rest-port=16818 --tcp-port=16819 --discv5-udp-port=16821 --rest-address=0.0.0.0 --nat=extip:172.18.234.74 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=cfd0fceddae1ae0ccfd53d609bcdefbad4dd2badcb34ec1ffe166a5f38bfea49 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16822 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding
2025-02-11 15:04:55.958 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.234.74 waku 63d46c84924f37f6b2af2fd71c96bad9ded3a051a7e9147eac4c46797f2e832a
2025-02-11 15:04:56.008 DEBUG [src.node.docker_mananger] Container started with ID 63d46c84924f. Setting up logs at ./log/docker/node1_2025-02-11_15-04-55__0b1ac9c8-8086-4bcf-93a7-901796766b76__wakuorg_nwaku:latest.log
2025-02-11 15:04:56.008 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 16818
2025-02-11 15:04:56.009 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:56.515 ERROR [src.node.docker_mananger] Max retries reached for container bdd0a016f45d. Exiting log stream.
2025-02-11 15:04:57.010 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16818/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.013 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:57.013 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:57.013 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16818/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.015 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.234.74/tcp/16819/p2p/16Uiu2HAm7yRjdxWgJtCwMSEuptgsGuHt45BxHfz9GwsxfxL5RR9X","/ip4/172.18.234.74/tcp/16820/ws/p2p/16Uiu2HAm7yRjdxWgJtCwMSEuptgsGuHt45BxHfz9GwsxfxL5RR9X"],"enrUri":"enr:-L24QBszeUDYA9u-mBJh0rkpHjBXSQjE-4uCaAS9JyWPHwmIf-KtUKPsfYHykNzZS9THTW1-4LJ-yvh0bzSVKOFZGZMCgmlkgnY0gmlwhKwS6kqKbXVsdGlhZGRyc5YACASsEupKBkGzAAoErBLqSgZBtN0DgnJzhQACAQAAiXNlY3AyNTZrMaECum65I2CwrcqsbamYU4RiZNsGN8WCKOpIBuIjyYnp4e6DdGNwgkGzg3VkcIJBtYV3YWt1MgU"}'
2025-02-11 15:04:57.015 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:57.021 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:57.021 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-04-55__0b1ac9c8-8086-4bcf-93a7-901796766b76__wakuorg_nwaku:latest.log
2025-02-11 15:04:57.022 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:57.022 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:57.023 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:57.023 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.169.15
2025-02-11 15:04:57.023 DEBUG [src.node.docker_mananger] Generated ports ['44961', '44962', '44963', '44964', '44965']
2025-02-11 15:04:57.023 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:57.023 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:57.024 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:57.024 DEBUG [src.node.docker_mananger] docker run -i -t -p 44961:44961 -p 44962:44962 -p 44963:44963 -p 44964:44964 -p 44965:44965 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44963 --rest-port=44961 --tcp-port=44962 --discv5-udp-port=44964 --rest-address=0.0.0.0 --nat=extip:172.18.169.15 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=8eef87b0b91dbb2bde2fdfc6db8bff2dd58b38a0afd4e2d6ba7d4bab5958f4d7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44965 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBszeUDYA9u-mBJh0rkpHjBXSQjE-4uCaAS9JyWPHwmIf-KtUKPsfYHykNzZS9THTW1-4LJ-yvh0bzSVKOFZGZMCgmlkgnY0gmlwhKwS6kqKbXVsdGlhZGRyc5YACASsEupKBkGzAAoErBLqSgZBtN0DgnJzhQACAQAAiXNlY3AyNTZrMaECum65I2CwrcqsbamYU4RiZNsGN8WCKOpIBuIjyYnp4e6DdGNwgkGzg3VkcIJBtYV3YWt1MgU --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding
2025-02-11 15:04:57.254 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.169.15 waku 7722182d8b35fb1b86abafbc6a6cf0334565d1a5abd642bfc6f85829db6e7e00
2025-02-11 15:04:57.307 DEBUG [src.node.docker_mananger] Container started with ID 7722182d8b35. Setting up logs at ./log/docker/node2_2025-02-11_15-04-55__0b1ac9c8-8086-4bcf-93a7-901796766b76__wakuorg_nwaku:latest.log
2025-02-11 15:04:57.307 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44961
2025-02-11 15:04:57.307 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:58.309 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44961/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:58.326 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:58.326 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44961/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.169.15/tcp/44962/p2p/16Uiu2HAmEE1o7FKeEPfbdipWyr5PmdbnJVep7nhbaovE9fnzUYBU","/ip4/172.18.169.15/tcp/44963/ws/p2p/16Uiu2HAmEE1o7FKeEPfbdipWyr5PmdbnJVep7nhbaovE9fnzUYBU"],"enrUri":"enr:-L24QD0Z580GJcZ8BX3yiPcALjnyrHmusyyTZ8-l8RBrNNKfVAhS7nH9xipBx-0uCJwMb3ClNE5BfRPB3rLfW8WuZDoCgmlkgnY0gmlwhKwSqQ-KbXVsdGlhZGRyc5YACASsEqkPBq-iAAoErBKpDwavo90DgnJzhQACAQAAiXNlY3AyNTZrMaEDF1F811tpr8JzngikmjAvr8ABgJB1zy1h1F_-9kOZYiODdGNwgq-ig3VkcIKvpIV3YWt1MgE"}'
2025-02-11 15:04:58.351 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:58.352 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44961/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.234.74/tcp/16819/p2p/16Uiu2HAm7yRjdxWgJtCwMSEuptgsGuHt45BxHfz9GwsxfxL5RR9X"]'
2025-02-11 15:04:58.357 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:58.357 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16818/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 15:04:58.360 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:58.360 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44961/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 15:04:58.362 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:58.363 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16818/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:58.368 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:58.369 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:58.469 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:58.470 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16818/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286298363374592,"ephemeral":false}]'
2025-02-11 15:04:58.473 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:58.474 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44961/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.476 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286298363374592,"ephemeral":false}]'
2025-02-11 15:04:58.478 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16818/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:58.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:58.483 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:58.584 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:58.584 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16818/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739286298477900544,"ephemeral":false}]'
2025-02-11 15:04:58.588 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:58.589 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44961/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739286298477900544,"ephemeral":false}]'
2025-02-11 15:04:58.593 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16818/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:58.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:58.598 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:58.698 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:58.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16818/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739286298593051136,"ephemeral":false}]'
2025-02-11 15:04:58.703 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:58.703 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44961/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.705 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739286298593051136,"ephemeral":false}]'
2025-02-11 15:04:58.707 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16818/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:58.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:58.712 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:58.813 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:58.813 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16818/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739286298707243008,"ephemeral":false}]'
2025-02-11 15:04:58.817 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:58.817 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44961/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739286298707243008,"ephemeral":false}]'
2025-02-11 15:04:58.821 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16818/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:58.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:58.826 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:58.926 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:58.927 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16818/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739286298821204224,"ephemeral":false}]'
2025-02-11 15:04:58.930 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:58.931 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44961/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:58.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739286298821204224,"ephemeral":false}]'
2025-02-11 15:04:58.934 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16818/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:58.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:58.939 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:59.040 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:59.040 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16818/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:59.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739286298934794496,"ephemeral":false}]'
2025-02-11 15:04:59.044 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:59.044 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44961/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:59.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739286298934794496,"ephemeral":false}]'
2025-02-11 15:04:59.048 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16818/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:59.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:59.053 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:59.154 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:59.154 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16818/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:59.157 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739286299048468736,"ephemeral":false}]'
2025-02-11 15:04:59.158 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:59.159 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44961/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:59.161 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739286299048468736,"ephemeral":false}]'
2025-02-11 15:04:59.162 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16818/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:59.167 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:59.167 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:59.268 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:59.268 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16818/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:59.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739286299162590976,"ephemeral":false}]'
2025-02-11 15:04:59.274 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:59.274 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44961/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:59.276 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739286299162590976,"ephemeral":false}]'
2025-02-11 15:04:59.279 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:04:59.280 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:04:59.280 DEBUG [src.node.waku_node] Stopping container with id 63d46c84924f
2025-02-11 15:05:00.482 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:05:00.482 DEBUG [src.node.waku_node] Stopping container with id 7722182d8b35
2025-02-11 15:05:01.294 ERROR [src.node.docker_mananger] Max retries reached for container 63d46c84924f. Exiting log stream.
2025-02-11 15:05:01.971 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:05:01.972 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:05:01.983 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:05:01.992 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
