2025-02-11 15:11:01.591 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:11:01.591 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_from_some_pubsub_topics with id: 2025-02-11_15-11-01__d38c6025-62b9-473d-ab01-90bbbfe0f813
2025-02-11 15:11:01.592 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:11:01.592 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 15:11:01.592 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-11 15:11:01.598 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:11:01.599 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-11-01__d38c6025-62b9-473d-ab01-90bbbfe0f813__wakuorg_nwaku:latest.log
2025-02-11 15:11:01.599 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:11:01.599 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:11:01.600 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:11:01.600 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.240.190
2025-02-11 15:11:01.600 DEBUG [src.node.docker_mananger] Generated ports ['33660', '33661', '33662', '33663', '33664']
2025-02-11 15:11:01.601 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:11:01.601 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:11:01.601 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:11:01.601 DEBUG [src.node.docker_mananger] docker run -i -t -p 33660:33660 -p 33661:33661 -p 33662:33662 -p 33663:33663 -p 33664:33664 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33662 --rest-port=33660 --tcp-port=33661 --discv5-udp-port=33663 --rest-address=0.0.0.0 --nat=extip:172.18.240.190 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dc6ef08efe8abfeef6ebdaaeb4aefb8cbc30badbac20dfdbba50610cf97db0ba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33664 --metrics-logging=true --relay=true
2025-02-11 15:11:01.827 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.240.190 waku a9af7ce0313cf43f3a1feb61b2c5d41378fdbbc89f4e69f1b163e5cd74f50e75
2025-02-11 15:11:01.880 DEBUG [src.node.docker_mananger] Container started with ID a9af7ce0313c. Setting up logs at ./log/docker/node1_2025-02-11_15-11-01__d38c6025-62b9-473d-ab01-90bbbfe0f813__wakuorg_nwaku:latest.log
2025-02-11 15:11:01.881 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 33660
2025-02-11 15:11:01.882 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:11:02.379 ERROR [src.node.docker_mananger] Max retries reached for container 845c51f60c32. Exiting log stream.
2025-02-11 15:11:02.883 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33660/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:02.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:11:02.886 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:11:02.886 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33660/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:02.888 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.190/tcp/33661/p2p/16Uiu2HAmH5jzwRso22G16vKwr1qcozmhy3rZqjVbzjbbG6AK5b7Z","/ip4/172.18.240.190/tcp/33662/ws/p2p/16Uiu2HAmH5jzwRso22G16vKwr1qcozmhy3rZqjVbzjbbG6AK5b7Z"],"enrUri":"enr:-L24QCWy8txjXq5IvvvQS46cHIJT3VKFOsDY6PGiS8oCO-TqFtbKmfrojawdWyQrBnY5tV0BQVUZO26STQ8OmOdvDuICgmlkgnY0gmlwhKwS8L6KbXVsdGlhZGRyc5YACASsEvC-BoN9AAoErBLwvgaDft0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQcYKldEWU8ux4idobh0HwnaXJXDJM44np33Pv9N_-WSDdGNwgoN9g3VkcIKDf4V3YWt1MgE"}'
2025-02-11 15:11:02.888 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:11:02.895 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:11:02.895 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-11-01__d38c6025-62b9-473d-ab01-90bbbfe0f813__wakuorg_nwaku:latest.log
2025-02-11 15:11:02.895 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:11:02.895 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:11:02.896 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:11:02.897 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.78.170
2025-02-11 15:11:02.897 DEBUG [src.node.docker_mananger] Generated ports ['26724', '26725', '26726', '26727', '26728']
2025-02-11 15:11:02.897 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:11:02.897 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:11:02.897 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:11:02.897 DEBUG [src.node.docker_mananger] docker run -i -t -p 26724:26724 -p 26725:26725 -p 26726:26726 -p 26727:26727 -p 26728:26728 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26726 --rest-port=26724 --tcp-port=26725 --discv5-udp-port=26727 --rest-address=0.0.0.0 --nat=extip:172.18.78.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5adbec3f52da7dfca59ceb0b98bbfaff2b915dcfadcf5ec7b5ebbca5a0b0ade2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26728 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCWy8txjXq5IvvvQS46cHIJT3VKFOsDY6PGiS8oCO-TqFtbKmfrojawdWyQrBnY5tV0BQVUZO26STQ8OmOdvDuICgmlkgnY0gmlwhKwS8L6KbXVsdGlhZGRyc5YACASsEvC-BoN9AAoErBLwvgaDft0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQcYKldEWU8ux4idobh0HwnaXJXDJM44np33Pv9N_-WSDdGNwgoN9g3VkcIKDf4V3YWt1MgE
2025-02-11 15:11:03.128 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.78.170 waku 1cec3da809ec6b606e7efe1d70b49f9737bb73e015b7335fbcae9a220e8b8a6e
2025-02-11 15:11:03.178 DEBUG [src.node.docker_mananger] Container started with ID 1cec3da809ec. Setting up logs at ./log/docker/node2_2025-02-11_15-11-01__d38c6025-62b9-473d-ab01-90bbbfe0f813__wakuorg_nwaku:latest.log
2025-02-11 15:11:03.178 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 26724
2025-02-11 15:11:03.179 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:11:04.179 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26724/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:11:04.187 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:11:04.187 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26724/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.189 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.170/tcp/26725/p2p/16Uiu2HAmBivnjowrp3TQCkEAsYoLoUDdK45UmUqPp71CYnEGmn3t","/ip4/172.18.78.170/tcp/26726/ws/p2p/16Uiu2HAmBivnjowrp3TQCkEAsYoLoUDdK45UmUqPp71CYnEGmn3t"],"enrUri":"enr:-L24QLyoPT8j_8Xc__OOBF1ZU-ERm1FwbtRqOHgMpTmO_CwHE2GKSMw7uhBpxm1PHRpJF0598qlbXjSIp6aK40Dm-UQCgmlkgnY0gmlwhKwSTqqKbXVsdGlhZGRyc5YACASsEk6qBmhlAAoErBJOqgZoZt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC8iacECnUEL06WmTrCiRQH-BGyoPDVsgRoQ68FObkxauDdGNwgmhlg3VkcIJoZ4V3YWt1MgE"}'
2025-02-11 15:11:04.189 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:11:04.190 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26724/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.190/tcp/33661/p2p/16Uiu2HAmH5jzwRso22G16vKwr1qcozmhy3rZqjVbzjbbG6AK5b7Z"]'
2025-02-11 15:11:04.192 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.193 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33660/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 15:11:04.199 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.199 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26724/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 15:11:04.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.215 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:04.222 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.223 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:04.323 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.323 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.326 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664215351296,"ephemeral":false}]'
2025-02-11 15:11:04.327 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.327 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26724/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664215351296,"ephemeral":false}]'
2025-02-11 15:11:04.331 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:04.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.336 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:04.436 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.436 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.438 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664331335680,"ephemeral":false}]'
2025-02-11 15:11:04.440 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26724/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.442 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664331335680,"ephemeral":false}]'
2025-02-11 15:11:04.444 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:04.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.448 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:04.549 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.549 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664443938048,"ephemeral":false}]'
2025-02-11 15:11:04.553 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.553 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26724/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.555 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664443938048,"ephemeral":false}]'
2025-02-11 15:11:04.557 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:04.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.562 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:04.663 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.663 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.666 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664557502976,"ephemeral":false}]'
2025-02-11 15:11:04.667 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.667 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26724/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.669 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664557502976,"ephemeral":false}]'
2025-02-11 15:11:04.671 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:04.676 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.676 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:04.777 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.777 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664671352832,"ephemeral":false}]'
2025-02-11 15:11:04.781 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.781 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26724/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664671352832,"ephemeral":false}]'
2025-02-11 15:11:04.784 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:33660/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-11 15:11:04.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.793 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:26724/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-11 15:11:04.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.800 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:04.803 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/0'
2025-02-11 15:11:04.803 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:04.805 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/1'
2025-02-11 15:11:04.806 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:04.808 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/9'
2025-02-11 15:11:04.808 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:04.812 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.812 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:04.913 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.913 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664808708864,"ephemeral":false}]'
2025-02-11 15:11:04.917 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:04.917 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26724/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:04.919 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664808708864,"ephemeral":false}]'
2025-02-11 15:11:04.921 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:11:04.925 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:11:04.926 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:11:05.026 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:05.026 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:05.029 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664921087232,"ephemeral":false}]'
2025-02-11 15:11:05.030 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:11:05.030 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26724/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:11:05.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286664921087232,"ephemeral":false}]'
2025-02-11 15:11:05.035 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:11:05.036 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:11:05.036 DEBUG [src.node.waku_node] Stopping container with id a9af7ce0313c
2025-02-11 15:11:06.350 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:11:06.350 DEBUG [src.node.waku_node] Stopping container with id 1cec3da809ec
2025-02-11 15:11:07.162 ERROR [src.node.docker_mananger] Max retries reached for container a9af7ce0313c. Exiting log stream.
2025-02-11 15:11:07.851 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:11:07.853 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:11:07.863 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:11:07.871 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
