2025-02-11 15:04:08.976 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:04:08.976 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2025-02-11_15-04-08__a0b0a73d-66ea-4f52-a4d8-2d48c79d77f2
2025-02-11 15:04:08.976 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:04:08.977 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-11 15:04:08.977 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-11 15:04:08.983 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:08.983 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-04-08__a0b0a73d-66ea-4f52-a4d8-2d48c79d77f2__wakuorg_nwaku:latest.log
2025-02-11 15:04:08.983 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:08.983 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:08.984 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:08.984 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.146.36
2025-02-11 15:04:08.984 DEBUG [src.node.docker_mananger] Generated ports ['20152', '20153', '20154', '20155', '20156']
2025-02-11 15:04:08.985 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:08.985 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:08.985 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:08.985 DEBUG [src.node.docker_mananger] docker run -i -t -p 20152:20152 -p 20153:20153 -p 20154:20154 -p 20155:20155 -p 20156:20156 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20154 --rest-port=20152 --tcp-port=20153 --discv5-udp-port=20155 --rest-address=0.0.0.0 --nat=extip:172.18.146.36 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f93fcded60fb1ff6ce7d1a8cde2feaac2f581cb613ef8949a5ab4ebf7a3a3ac6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20156 --metrics-logging=true --relay=true --filter=true
2025-02-11 15:04:09.220 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.146.36 waku 6ab0a52dcf34cfb6b0d29d34af6bd12102b9df32e602a0f61e25dd94305c30d3
2025-02-11 15:04:09.268 DEBUG [src.node.docker_mananger] Container started with ID 6ab0a52dcf34. Setting up logs at ./log/docker/node1_2025-02-11_15-04-08__a0b0a73d-66ea-4f52-a4d8-2d48c79d77f2__wakuorg_nwaku:latest.log
2025-02-11 15:04:09.268 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 20152
2025-02-11 15:04:09.268 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:09.782 ERROR [src.node.docker_mananger] Max retries reached for container c128ee1184c3. Exiting log stream.
2025-02-11 15:04:10.269 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20152/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:10.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:10.272 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:10.272 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20152/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:10.274 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.36/tcp/20153/p2p/16Uiu2HAkvYL6iME5U7BoFSUEuzMvvD8sbc2o36zamjbp4BkkAfep","/ip4/172.18.146.36/tcp/20154/ws/p2p/16Uiu2HAkvYL6iME5U7BoFSUEuzMvvD8sbc2o36zamjbp4BkkAfep"],"enrUri":"enr:-L24QFJFbFs3Sm08Ahw_wuINhlBCuCdrLH147T88sCURmHnbANQA0fy1HLBY7Zo1Y3TRAdg3cR77F9NZEhzPutzIDLgCgmlkgnY0gmlwhKwSkiSKbXVsdGlhZGRyc5YACASsEpIkBk65AAoErBKSJAZOut0DgnJzhQADAQAAiXNlY3AyNTZrMaECEJBF_0cb03q2Q88V7pJykQyA3eCepeMmcDFvhhJ40-GDdGNwgk65g3VkcIJOu4V3YWt1MgU"}'
2025-02-11 15:04:10.274 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:10.275 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-11 15:04:10.281 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:10.281 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-04-08__a0b0a73d-66ea-4f52-a4d8-2d48c79d77f2__wakuorg_nwaku:latest.log
2025-02-11 15:04:10.281 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:10.281 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:10.283 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:10.283 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.75.51
2025-02-11 15:04:10.283 DEBUG [src.node.docker_mananger] Generated ports ['29400', '29401', '29402', '29403', '29404']
2025-02-11 15:04:10.283 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:10.283 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:10.283 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:10.283 DEBUG [src.node.docker_mananger] docker run -i -t -p 29400:29400 -p 29401:29401 -p 29402:29402 -p 29403:29403 -p 29404:29404 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29402 --rest-port=29400 --tcp-port=29401 --discv5-udp-port=29403 --rest-address=0.0.0.0 --nat=extip:172.18.75.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=befba46c45ccb2d58be91f18ecca06c3acc85d0e8acdef65e04e4cda8c2df9ba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29404 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QFJFbFs3Sm08Ahw_wuINhlBCuCdrLH147T88sCURmHnbANQA0fy1HLBY7Zo1Y3TRAdg3cR77F9NZEhzPutzIDLgCgmlkgnY0gmlwhKwSkiSKbXVsdGlhZGRyc5YACASsEpIkBk65AAoErBKSJAZOut0DgnJzhQADAQAAiXNlY3AyNTZrMaECEJBF_0cb03q2Q88V7pJykQyA3eCepeMmcDFvhhJ40-GDdGNwgk65g3VkcIJOu4V3YWt1MgU --filternode=/ip4/172.18.146.36/tcp/20153/p2p/16Uiu2HAkvYL6iME5U7BoFSUEuzMvvD8sbc2o36zamjbp4BkkAfep
2025-02-11 15:04:10.519 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.75.51 waku d5bc190171eff2aca749488a207c7ac3dd3c4713941c7b1ee0a573fb071ac922
2025-02-11 15:04:10.567 DEBUG [src.node.docker_mananger] Container started with ID d5bc190171ef. Setting up logs at ./log/docker/node2_2025-02-11_15-04-08__a0b0a73d-66ea-4f52-a4d8-2d48c79d77f2__wakuorg_nwaku:latest.log
2025-02-11 15:04:10.567 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29400
2025-02-11 15:04:10.568 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:11.568 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29400/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:11.571 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:11.571 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29400/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.574 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.51/tcp/29401/p2p/16Uiu2HAmCgkWRZtxtSSG2NMiDVDAHMAxyvHkiD42KX8XQPC3DSvW","/ip4/172.18.75.51/tcp/29402/ws/p2p/16Uiu2HAmCgkWRZtxtSSG2NMiDVDAHMAxyvHkiD42KX8XQPC3DSvW"],"enrUri":"enr:-L24QPnwdO_HgzISx7f4Qjy7qUnWuQu_SKlgmWhQPjvYuMZzB06GVb1VPrP5SWtEEi0ZkitpgCpngeXTZqoYZoZNwgoCgmlkgnY0gmlwhKwSSzOKbXVsdGlhZGRyc5YACASsEkszBnLZAAoErBJLMwZy2t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDAHOChSLNLYfdAv4JQCY0JUQ5_CpIBtBUDlaLU61U_YODdGNwgnLZg3VkcIJy24V3YWt1MgA"}'
2025-02-11 15:04:11.574 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:11.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29400/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.36/tcp/20153/p2p/16Uiu2HAkvYL6iME5U7BoFSUEuzMvvD8sbc2o36zamjbp4BkkAfep"]'
2025-02-11 15:04:11.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:11.612 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-11 15:04:11.612 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20152/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 15:04:11.630 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:11.631 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29400/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c2778fec-1b5d-4545-ab9c-c4e909cbfd2c", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-11 15:04:11.642 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"c2778fec-1b5d-4545-ab9c-c4e909cbfd2c","statusDesc":"OK"}'
2025-02-11 15:04:11.643 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:29400/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
2025-02-11 15:04:11.646 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29400/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
2025-02-11 15:04:11.649 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:04:11.650 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:04:11.650 DEBUG [src.node.waku_node] Stopping container with id 6ab0a52dcf34
2025-02-11 15:04:12.740 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:04:12.740 DEBUG [src.node.waku_node] Stopping container with id d5bc190171ef
2025-02-11 15:04:13.553 ERROR [src.node.docker_mananger] Max retries reached for container 6ab0a52dcf34. Exiting log stream.
2025-02-11 15:04:14.239 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:04:14.243 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:04:14.248 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:04:14.253 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
