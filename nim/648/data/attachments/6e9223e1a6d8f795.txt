2025-02-11 15:04:54.256 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:04:54.257 DEBUG [tests.conftest] Running test: test_multiple_content_topics_same_shard[content_topic_list0] with id: 2025-02-11_15-04-54__c032107b-63e6-489a-8fb4-4fbf13579ee4
2025-02-11 15:04:54.257 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:04:54.257 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 15:04:54.258 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 15:04:54.265 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:54.265 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-04-54__c032107b-63e6-489a-8fb4-4fbf13579ee4__wakuorg_nwaku:latest.log
2025-02-11 15:04:54.265 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:54.265 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:54.267 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:54.267 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.140.80
2025-02-11 15:04:54.267 DEBUG [src.node.docker_mananger] Generated ports ['62676', '62677', '62678', '62679', '62680']
2025-02-11 15:04:54.267 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:54.267 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:54.267 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:54.268 DEBUG [src.node.docker_mananger] docker run -i -t -p 62676:62676 -p 62677:62677 -p 62678:62678 -p 62679:62679 -p 62680:62680 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62678 --rest-port=62676 --tcp-port=62677 --discv5-udp-port=62679 --rest-address=0.0.0.0 --nat=extip:172.18.140.80 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=beb9b34343cdbb4ae2ec2552ed4ca3c5737ac88f14dcbe19bca0a2564c13ca9c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62680 --metrics-logging=true --relay=true --filter=true --content-topic=/newsService/1.0/weekly/protobuf --content-topic=/newsService/1.0/alerts/xml --content-topic=/newsService/1.0/updates/json --content-topic=/newsService/2.0/alerts/json --content-topic=/newsService/2.0/summaries/xml --content-topic=/newsService/2.0/highlights/yaml --content-topic=/newsService/3.0/weekly/json --content-topic=/newsService/3.0/summaries/xml
2025-02-11 15:04:54.491 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.140.80 waku b8a78c18478f4603bdee7bba836003b1aebef9b4c1dffdb47f0a40e44e3cd5a7
2025-02-11 15:04:54.546 DEBUG [src.node.docker_mananger] Container started with ID b8a78c18478f. Setting up logs at ./log/docker/node1_2025-02-11_15-04-54__c032107b-63e6-489a-8fb4-4fbf13579ee4__wakuorg_nwaku:latest.log
2025-02-11 15:04:54.546 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 62676
2025-02-11 15:04:54.546 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:55.063 ERROR [src.node.docker_mananger] Max retries reached for container 207baf6eec6c. Exiting log stream.
2025-02-11 15:04:55.547 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62676/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:55.550 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:55.550 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:55.550 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62676/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:55.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.140.80/tcp/62677/p2p/16Uiu2HAkx6ZPST1V3sd2ii3uJEuzEUKHy6Cbsu8cKXgpBjBu5PRs","/ip4/172.18.140.80/tcp/62678/ws/p2p/16Uiu2HAkx6ZPST1V3sd2ii3uJEuzEUKHy6Cbsu8cKXgpBjBu5PRs"],"enrUri":"enr:-L24QMWKlW07LjtgmEuTEbgz_xbHq8qXaSeczBCQqOoDBhP0UBG4pKzfOe9e2QnRQLAVv17JsA41c34BOa5fNX1Fm4MCgmlkgnY0gmlwhKwSjFCKbXVsdGlhZGRyc5YACASsEoxQBvTVAAoErBKMUAb01t0DgnJzhQACAQAAiXNlY3AyNTZrMaECJ62SSyBEiIlh_kwWnxygPyo5HgSWpxFAiZigTyaJ-1qDdGNwgvTVg3VkcIL014V3YWt1MgU"}'
2025-02-11 15:04:55.552 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:55.559 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:55.559 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-04-54__c032107b-63e6-489a-8fb4-4fbf13579ee4__wakuorg_nwaku:latest.log
2025-02-11 15:04:55.559 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:55.559 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:55.561 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:55.561 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.167.179
2025-02-11 15:04:55.561 DEBUG [src.node.docker_mananger] Generated ports ['30211', '30212', '30213', '30214', '30215']
2025-02-11 15:04:55.561 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:55.561 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:55.562 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:55.562 DEBUG [src.node.docker_mananger] docker run -i -t -p 30211:30211 -p 30212:30212 -p 30213:30213 -p 30214:30214 -p 30215:30215 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30213 --rest-port=30211 --tcp-port=30212 --discv5-udp-port=30214 --rest-address=0.0.0.0 --nat=extip:172.18.167.179 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=a0c0c3b91e58cf0ceb05521bfb12dfbbb6a9f5aeff00b5bb9dca50ddcbcfb77f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30215 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMWKlW07LjtgmEuTEbgz_xbHq8qXaSeczBCQqOoDBhP0UBG4pKzfOe9e2QnRQLAVv17JsA41c34BOa5fNX1Fm4MCgmlkgnY0gmlwhKwSjFCKbXVsdGlhZGRyc5YACASsEoxQBvTVAAoErBKMUAb01t0DgnJzhQACAQAAiXNlY3AyNTZrMaECJ62SSyBEiIlh_kwWnxygPyo5HgSWpxFAiZigTyaJ-1qDdGNwgvTVg3VkcIL014V3YWt1MgU --content-topic=/newsService/1.0/weekly/protobuf --content-topic=/newsService/1.0/alerts/xml --content-topic=/newsService/1.0/updates/json --content-topic=/newsService/2.0/alerts/json --content-topic=/newsService/2.0/summaries/xml --content-topic=/newsService/2.0/highlights/yaml --content-topic=/newsService/3.0/weekly/json --content-topic=/newsService/3.0/summaries/xml
2025-02-11 15:04:55.795 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.167.179 waku c63be3523b156728a8805a7b664384c2bb3e51a85d765127f4edfa9d5334267e
2025-02-11 15:04:55.842 DEBUG [src.node.docker_mananger] Container started with ID c63be3523b15. Setting up logs at ./log/docker/node2_2025-02-11_15-04-54__c032107b-63e6-489a-8fb4-4fbf13579ee4__wakuorg_nwaku:latest.log
2025-02-11 15:04:55.842 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 30211
2025-02-11 15:04:55.842 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:56.843 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30211/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:56.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:56.848 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:56.851 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30211/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:56.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.167.179/tcp/30212/p2p/16Uiu2HAmEEuxTLXjJuXPTmFh2mGatnU47g3y7pM73kkUQ3oBMyPu","/ip4/172.18.167.179/tcp/30213/ws/p2p/16Uiu2HAmEEuxTLXjJuXPTmFh2mGatnU47g3y7pM73kkUQ3oBMyPu"],"enrUri":"enr:-L24QJTvNHvkbuPw4V4R22naXUlmyN0OVTUW1AweDI2cIArDaTCQOeafqTuGRy8xTKFNpCSHLd633dQ8D25B82ne6x8CgmlkgnY0gmlwhKwSp7OKbXVsdGlhZGRyc5YACASsEqezBnYEAAoErBKnswZ2Bd0DgnJzhQACAQAAiXNlY3AyNTZrMaEDF4x3aZn_KkMthiUktWqkt9YVEGsbhL7ktcZx87rKaJCDdGNwgnYEg3VkcIJ2BoV3YWt1MgE"}'
2025-02-11 15:04:56.859 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:56.861 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30211/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.140.80/tcp/62677/p2p/16Uiu2HAkx6ZPST1V3sd2ii3uJEuzEUKHy6Cbsu8cKXgpBjBu5PRs"]'
2025-02-11 15:04:56.867 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:56.868 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62676/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-11 15:04:56.872 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:56.873 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30211/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-11 15:04:56.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:56.876 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62676/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:56.880 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:56.880 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:56.981 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:56.981 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62676/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:56.984 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739286296875913728,"ephemeral":false}]'
2025-02-11 15:04:56.985 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:56.986 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30211/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:56.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739286296875913728,"ephemeral":false}]'
2025-02-11 15:04:56.989 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62676/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:56.994 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:56.994 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:57.095 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.095 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62676/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.098 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739286296989874944,"ephemeral":false}]'
2025-02-11 15:04:57.100 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.100 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30211/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739286296989874944,"ephemeral":false}]'
2025-02-11 15:04:57.104 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62676/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:57.109 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:57.110 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:57.210 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.211 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62676/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739286297104284160,"ephemeral":false}]'
2025-02-11 15:04:57.215 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.215 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30211/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.217 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739286297104284160,"ephemeral":false}]'
2025-02-11 15:04:57.219 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62676/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:57.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:57.224 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:57.324 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.325 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62676/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.327 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739286297219241472,"ephemeral":false}]'
2025-02-11 15:04:57.329 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.329 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30211/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739286297219241472,"ephemeral":false}]'
2025-02-11 15:04:57.333 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62676/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:57.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:57.339 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:57.439 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62676/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.443 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739286297333496320,"ephemeral":false}]'
2025-02-11 15:04:57.444 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.444 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30211/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739286297333496320,"ephemeral":false}]'
2025-02-11 15:04:57.448 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62676/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:57.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:57.454 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:57.554 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.555 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62676/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.557 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739286297448663040,"ephemeral":false}]'
2025-02-11 15:04:57.559 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.559 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30211/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739286297448663040,"ephemeral":false}]'
2025-02-11 15:04:57.563 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62676/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:57.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:57.569 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:57.669 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.669 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62676/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.672 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739286297563785728,"ephemeral":false}]'
2025-02-11 15:04:57.674 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.674 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30211/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.677 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739286297563785728,"ephemeral":false}]'
2025-02-11 15:04:57.678 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62676/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:04:57.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:57.683 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:57.784 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.784 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62676/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739286297678476288,"ephemeral":false}]'
2025-02-11 15:04:57.789 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:04:57.789 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30211/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:57.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739286297678476288,"ephemeral":false}]'
2025-02-11 15:04:57.795 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:04:57.796 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:04:57.796 DEBUG [src.node.waku_node] Stopping container with id b8a78c18478f
2025-02-11 15:04:59.044 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:04:59.044 DEBUG [src.node.waku_node] Stopping container with id c63be3523b15
2025-02-11 15:04:59.856 ERROR [src.node.docker_mananger] Max retries reached for container b8a78c18478f. Exiting log stream.
2025-02-11 15:05:00.289 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:05:00.291 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:05:00.298 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:05:00.304 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
