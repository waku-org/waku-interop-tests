2025-02-11 15:03:35.048 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:03:35.048 DEBUG [tests.conftest] Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2025-02-11_15-03-35__8ea20599-9b17-47bd-bf8c-8e4c1f08a57e
2025-02-11 15:03:35.048 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:03:35.049 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-11 15:03:35.055 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:03:35.055 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-11_15-03-35__8ea20599-9b17-47bd-bf8c-8e4c1f08a57e__wakuorg_nwaku:latest.log
2025-02-11 15:03:35.055 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:03:35.055 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:03:35.057 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:03:35.057 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.156.59
2025-02-11 15:03:35.057 DEBUG [src.node.docker_mananger] Generated ports ['42325', '42326', '42327', '42328', '42329']
2025-02-11 15:03:35.057 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:03:35.057 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:03:35.058 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:03:35.058 DEBUG [src.node.docker_mananger] docker run -i -t -p 42325:42325 -p 42326:42326 -p 42327:42327 -p 42328:42328 -p 42329:42329 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42327 --rest-port=42325 --tcp-port=42326 --discv5-udp-port=42328 --rest-address=0.0.0.0 --nat=extip:172.18.156.59 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff2738d7d70dc2c328b4fd87bfecc8aaadd9643b9419ffbebdede106dfcb3a31 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42329 --metrics-logging=true --lightpush=true --relay=true
2025-02-11 15:03:35.290 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.156.59 waku 1ace5e5a20356c1c2e0d6e2d389ef21e8ac3c20a031e3d6c7cdf43a155d6a066
2025-02-11 15:03:35.340 DEBUG [src.node.docker_mananger] Container started with ID 1ace5e5a2035. Setting up logs at ./log/docker/receiving_node1_2025-02-11_15-03-35__8ea20599-9b17-47bd-bf8c-8e4c1f08a57e__wakuorg_nwaku:latest.log
2025-02-11 15:03:35.341 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42325
2025-02-11 15:03:35.341 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:03:35.863 ERROR [src.node.docker_mananger] Max retries reached for container 286749e3d83a. Exiting log stream.
2025-02-11 15:03:36.343 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42325/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:36.346 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:03:36.346 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:03:36.346 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42325/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:36.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.156.59/tcp/42326/p2p/16Uiu2HAky7kni4C7eiYqvwEBC2a7jBfZpvWxAanGjQ9rbJ3iPY7m","/ip4/172.18.156.59/tcp/42327/ws/p2p/16Uiu2HAky7kni4C7eiYqvwEBC2a7jBfZpvWxAanGjQ9rbJ3iPY7m"],"enrUri":"enr:-L24QOSKt_oDdVVn5rWLpR1Hl7VAcQKPi6QYK0H72yt4e-zeDKRxxQ9A-rHXJhxUe7zEWV3G9cp_j9AEGDnHCJShhiwCgmlkgnY0gmlwhKwSnDuKbXVsdGlhZGRyc5YACASsEpw7BqVWAAoErBKcOwalV90DgnJzhQADAQAAiXNlY3AyNTZrMaECNte7Bh1SATU0i5jS3OgCW5KkF-XE5wPg1yBq9SaiJ2SDdGNwgqVWg3VkcIKlWIV3YWt1Mgk"}'
2025-02-11 15:03:36.349 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:03:36.356 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:03:36.356 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-11_15-03-35__8ea20599-9b17-47bd-bf8c-8e4c1f08a57e__wakuorg_nwaku:latest.log
2025-02-11 15:03:36.356 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:03:36.356 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:03:36.357 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:03:36.357 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.7.49
2025-02-11 15:03:36.357 DEBUG [src.node.docker_mananger] Generated ports ['38104', '38105', '38106', '38107', '38108']
2025-02-11 15:03:36.358 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:03:36.358 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:03:36.358 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:03:36.358 DEBUG [src.node.docker_mananger] docker run -i -t -p 38104:38104 -p 38105:38105 -p 38106:38106 -p 38107:38107 -p 38108:38108 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38106 --rest-port=38104 --tcp-port=38105 --discv5-udp-port=38107 --rest-address=0.0.0.0 --nat=extip:172.18.7.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5d7bdfaebce0e61dbd19a8f1e9b0b6cee09799a9642f273c042d43fafd5de1b8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38108 --metrics-logging=true --lightpush=false --relay=true
2025-02-11 15:03:36.583 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.7.49 waku 4c7e62b5d14ae4e8274be986e045f238b6f2798bc4c4682c96a7d9b00b9e952e
2025-02-11 15:03:36.636 DEBUG [src.node.docker_mananger] Container started with ID 4c7e62b5d14a. Setting up logs at ./log/docker/receiving_node2_2025-02-11_15-03-35__8ea20599-9b17-47bd-bf8c-8e4c1f08a57e__wakuorg_nwaku:latest.log
2025-02-11 15:03:36.636 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 38104
2025-02-11 15:03:36.637 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:03:37.637 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38104/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:37.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:03:37.640 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:03:37.640 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38104/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:37.642 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.49/tcp/38105/p2p/16Uiu2HAmGB2ZPoJdvccES3Jn5MhmaT283M1HFxz9HxC2guAGixeT","/ip4/172.18.7.49/tcp/38106/ws/p2p/16Uiu2HAmGB2ZPoJdvccES3Jn5MhmaT283M1HFxz9HxC2guAGixeT"],"enrUri":"enr:-L24QCNfNhkdBbkh9E0Et1-T4zOTZmfUSvQP1-XGGYyViAsVAoP2vMODEykDfpY1aSoNVpZJ1gCfnHfDhBX7BPiFdmUCgmlkgnY0gmlwhKwSBzGKbXVsdGlhZGRyc5YACASsEgcxBpTZAAoErBIHMQaU2t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDNET7gDPHydFKIzRPzIAleT5Lk7qwada5za4kI23oK7CDdGNwgpTZg3VkcIKU24V3YWt1MgE"}'
2025-02-11 15:03:37.643 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:03:37.643 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38104/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.59/tcp/42326/p2p/16Uiu2HAky7kni4C7eiYqvwEBC2a7jBfZpvWxAanGjQ9rbJ3iPY7m"]'
2025-02-11 15:03:37.684 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:37.692 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:03:37.692 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-11_15-03-35__8ea20599-9b17-47bd-bf8c-8e4c1f08a57e__wakuorg_nwaku:latest.log
2025-02-11 15:03:37.693 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:03:37.693 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:03:37.694 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:03:37.694 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.70.250
2025-02-11 15:03:37.694 DEBUG [src.node.docker_mananger] Generated ports ['43849', '43850', '43851', '43852', '43853']
2025-02-11 15:03:37.695 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:03:37.695 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:03:37.695 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:03:37.695 DEBUG [src.node.docker_mananger] docker run -i -t -p 43849:43849 -p 43850:43850 -p 43851:43851 -p 43852:43852 -p 43853:43853 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43851 --rest-port=43849 --tcp-port=43850 --discv5-udp-port=43852 --rest-address=0.0.0.0 --nat=extip:172.18.70.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aa83ab65d6fee8dafadc2bcb2bcf9203741f6a5c14f170ff304b513a936073da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43853 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QOSKt_oDdVVn5rWLpR1Hl7VAcQKPi6QYK0H72yt4e-zeDKRxxQ9A-rHXJhxUe7zEWV3G9cp_j9AEGDnHCJShhiwCgmlkgnY0gmlwhKwSnDuKbXVsdGlhZGRyc5YACASsEpw7BqVWAAoErBKcOwalV90DgnJzhQADAQAAiXNlY3AyNTZrMaECNte7Bh1SATU0i5jS3OgCW5KkF-XE5wPg1yBq9SaiJ2SDdGNwgqVWg3VkcIKlWIV3YWt1Mgk --lightpushnode=/ip4/172.18.156.59/tcp/42326/p2p/16Uiu2HAky7kni4C7eiYqvwEBC2a7jBfZpvWxAanGjQ9rbJ3iPY7m --lightpush=true --relay=false
2025-02-11 15:03:37.931 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.70.250 waku 123e4df9abc898804ae88f9d081bc9073fdf793953861960f330c18d9086bfba
2025-02-11 15:03:37.977 DEBUG [src.node.docker_mananger] Container started with ID 123e4df9abc8. Setting up logs at ./log/docker/lightpush_node1_2025-02-11_15-03-35__8ea20599-9b17-47bd-bf8c-8e4c1f08a57e__wakuorg_nwaku:latest.log
2025-02-11 15:03:37.978 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 43849
2025-02-11 15:03:37.978 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:03:38.978 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43849/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:38.981 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:03:38.981 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:03:38.981 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43849/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:38.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.70.250/tcp/43850/p2p/16Uiu2HAmGYuPpQACCkWpHiw8PvuvDPDRBewDJ8e69iPwcx1cY5sm","/ip4/172.18.70.250/tcp/43851/ws/p2p/16Uiu2HAmGYuPpQACCkWpHiw8PvuvDPDRBewDJ8e69iPwcx1cY5sm"],"enrUri":"enr:-L24QC2eUuOZLXXsPW0_g57-_i75CI9K0rK7tokt4W8Q9L0ZL_k9Gx77NrOz8ew9w8UpBA5_O5vHM8Nd3zhxQlxGyZQCgmlkgnY0gmlwhKwSRvqKbXVsdGlhZGRyc5YACASsEkb6BqtKAAoErBJG-garS90DgnJzhQADAQAAiXNlY3AyNTZrMaEDOd-om0aU0BgZYbcJue9Lrmk3Qh-e9P-Pp4bb7f-KYViDdGNwgqtKg3VkcIKrTIV3YWt1Mgg"}'
2025-02-11 15:03:38.984 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:03:38.984 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43849/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.59/tcp/42326/p2p/16Uiu2HAky7kni4C7eiYqvwEBC2a7jBfZpvWxAanGjQ9rbJ3iPY7m"]'
2025-02-11 15:03:39.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:39.021 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43849/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.7.49/tcp/38105/p2p/16Uiu2HAmGB2ZPoJdvccES3Jn5MhmaT283M1HFxz9HxC2guAGixeT"]'
2025-02-11 15:03:39.048 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:39.051 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42325/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:03:39.060 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:39.062 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38104/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:03:39.066 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:39.070 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42325/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 15:03:39.078 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:39.079 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38104/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 15:03:39.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:39.094 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43849/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739286219094843904}}'
2025-02-11 15:03:39.106 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:39.106 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:39.206 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42325/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:39.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-11 15:03:39.210 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:03:39.211 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:03:39.211 DEBUG [src.node.waku_node] Stopping container with id 1ace5e5a2035
2025-02-11 15:03:39.817 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:03:39.818 DEBUG [src.node.waku_node] Stopping container with id 4c7e62b5d14a
2025-02-11 15:03:40.630 ERROR [src.node.docker_mananger] Max retries reached for container 1ace5e5a2035. Exiting log stream.
2025-02-11 15:03:41.341 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:03:41.341 DEBUG [src.node.waku_node] Stopping container with id 123e4df9abc8
2025-02-11 15:03:42.153 ERROR [src.node.docker_mananger] Max retries reached for container 4c7e62b5d14a. Exiting log stream.
2025-02-11 15:03:42.845 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:03:42.846 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:03:42.855 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:03:42.863 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:03:42.869 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
