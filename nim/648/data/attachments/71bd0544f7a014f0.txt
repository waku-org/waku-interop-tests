2025-02-11 15:03:49.563 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:03:49.563 DEBUG [tests.conftest] Running test: test_multiple_pubsub_topics_same_cluster with id: 2025-02-11_15-03-49__b9c0ebcf-8908-4e21-8d1a-a899b4818e59
2025-02-11 15:03:49.564 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:03:49.564 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 15:03:49.564 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 15:03:49.572 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:03:49.572 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-03-49__b9c0ebcf-8908-4e21-8d1a-a899b4818e59__wakuorg_nwaku:latest.log
2025-02-11 15:03:49.572 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:03:49.572 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:03:49.574 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:03:49.574 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.113.51
2025-02-11 15:03:49.574 DEBUG [src.node.docker_mananger] Generated ports ['43517', '43518', '43519', '43520', '43521']
2025-02-11 15:03:49.574 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-11 15:03:49.574 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:03:49.574 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:03:49.574 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:03:49.575 DEBUG [src.node.docker_mananger] docker run -i -t -p 43517:43517 -p 43518:43518 -p 43519:43519 -p 43520:43520 -p 43521:43521 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43519 --rest-port=43517 --tcp-port=43518 --discv5-udp-port=43520 --rest-address=0.0.0.0 --nat=extip:172.18.113.51 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ef4e2bfbe5c50fa82aff5bbec1beebd97df63fabbb48fea7d04281ed0afcbcfd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43521 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 15:03:49.814 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.113.51 waku bdf42e474b80b66f5dc275a44dc91e32855f879b23cc367590f577cc8c540658
2025-02-11 15:03:49.864 DEBUG [src.node.docker_mananger] Container started with ID bdf42e474b80. Setting up logs at ./log/docker/node1_2025-02-11_15-03-49__b9c0ebcf-8908-4e21-8d1a-a899b4818e59__wakuorg_nwaku:latest.log
2025-02-11 15:03:49.865 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 43517
2025-02-11 15:03:49.866 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:03:50.367 ERROR [src.node.docker_mananger] Max retries reached for container b48aea4f971d. Exiting log stream.
2025-02-11 15:03:50.867 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43517/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:50.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:03:50.870 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:03:50.870 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43517/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:50.872 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.113.51/tcp/43518/p2p/16Uiu2HAmJgwDtjFsAdJR94uLjFwAmMmNk83JkgLSS8y18UDp2ok2","/ip4/172.18.113.51/tcp/43519/ws/p2p/16Uiu2HAmJgwDtjFsAdJR94uLjFwAmMmNk83JkgLSS8y18UDp2ok2"],"enrUri":"enr:-Mu4QJdrCNgV2jXVgi-bSTQ6qjdgaP_0cidSO3g4B6fZbEJRJ5wPPSxbwdUkBP3HGkeVNN5rxyLR-BkJ_TBE_2ksQXUCgmlkgnY0gmlwhKwScTOKbXVsdGlhZGRyc5YACASsEnEzBqn-AAoErBJxMwap_90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQNZpb8yF28GPtGXzIx9_wW_BwtwWX32HbjeQdj7FV0gD4N0Y3CCqf6DdWRwgqoAhXdha3UyBQ"}'
2025-02-11 15:03:50.873 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:03:50.880 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:03:50.880 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-03-49__b9c0ebcf-8908-4e21-8d1a-a899b4818e59__wakuorg_nwaku:latest.log
2025-02-11 15:03:50.880 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:03:50.880 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:03:50.882 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:03:50.882 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.84.4
2025-02-11 15:03:50.882 DEBUG [src.node.docker_mananger] Generated ports ['58392', '58393', '58394', '58395', '58396']
2025-02-11 15:03:50.882 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-11 15:03:50.882 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:03:50.882 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:03:50.882 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:03:50.882 DEBUG [src.node.docker_mananger] docker run -i -t -p 58392:58392 -p 58393:58393 -p 58394:58394 -p 58395:58395 -p 58396:58396 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58394 --rest-port=58392 --tcp-port=58393 --discv5-udp-port=58395 --rest-address=0.0.0.0 --nat=extip:172.18.84.4 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=d2c6bfff97eb8fa4a50be5e7e15fe10c6ac7e8c0db2d27d4f79f3f2d34a7c47a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58396 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QJdrCNgV2jXVgi-bSTQ6qjdgaP_0cidSO3g4B6fZbEJRJ5wPPSxbwdUkBP3HGkeVNN5rxyLR-BkJ_TBE_2ksQXUCgmlkgnY0gmlwhKwScTOKbXVsdGlhZGRyc5YACASsEnEzBqn-AAoErBJxMwap_90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQNZpb8yF28GPtGXzIx9_wW_BwtwWX32HbjeQdj7FV0gD4N0Y3CCqf6DdWRwgqoAhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 15:03:51.123 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.84.4 waku 2a0e1e22400e678794befa47bf9a8fe83b50c1fd7c868b0816341fd3cf60d7af
2025-02-11 15:03:51.170 DEBUG [src.node.docker_mananger] Container started with ID 2a0e1e22400e. Setting up logs at ./log/docker/node2_2025-02-11_15-03-49__b9c0ebcf-8908-4e21-8d1a-a899b4818e59__wakuorg_nwaku:latest.log
2025-02-11 15:03:51.170 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58392
2025-02-11 15:03:51.171 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:03:52.171 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58392/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.188 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:03:52.190 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:03:52.191 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58392/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.84.4/tcp/58393/p2p/16Uiu2HAmALJiXCERP7QJASEpvmtrC8jJk56DWATM9PxM8Pxxjw5k","/ip4/172.18.84.4/tcp/58394/ws/p2p/16Uiu2HAmALJiXCERP7QJASEpvmtrC8jJk56DWATM9PxM8Pxxjw5k"],"enrUri":"enr:-Mu4QA8oCm9VC5aEUxgUkPooeUfEbQY4pcQHPH-6E6M4-Nq6fg7eqTcN_NjwMm_zuInrQgi2FjiCOuBSbtL4WZQMVRkCgmlkgnY0gmlwhKwSVASKbXVsdGlhZGRyc5YACASsElQEBuQZAAoErBJUBAbkGt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQLdf1t7BW4QJHugTV9-ATpQlGn-7xj4w0sNPq90mPvaC4N0Y3CC5BmDdWRwguQbhXdha3UyAQ"}'
2025-02-11 15:03:52.208 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:03:52.208 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58392/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.51/tcp/43518/p2p/16Uiu2HAmJgwDtjFsAdJR94uLjFwAmMmNk83JkgLSS8y18UDp2ok2"]'
2025-02-11 15:03:52.214 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:52.215 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43517/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 15:03:52.219 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:52.220 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58392/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 15:03:52.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:52.223 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:52.228 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:52.229 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:52.329 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.330 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.332 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232223748096,"ephemeral":false}]'
2025-02-11 15:03:52.334 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.334 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58392/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.337 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232223748096,"ephemeral":false}]'
2025-02-11 15:03:52.338 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:52.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:52.344 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:52.445 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.445 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232338719232,"ephemeral":false}]'
2025-02-11 15:03:52.449 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.449 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58392/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.452 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232338719232,"ephemeral":false}]'
2025-02-11 15:03:52.453 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:52.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:52.460 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:52.560 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.561 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.564 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232453793024,"ephemeral":false}]'
2025-02-11 15:03:52.565 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.565 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58392/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232453793024,"ephemeral":false}]'
2025-02-11 15:03:52.569 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:52.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:52.576 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:52.677 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.677 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.680 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232569679104,"ephemeral":false}]'
2025-02-11 15:03:52.682 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.682 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58392/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.684 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232569679104,"ephemeral":false}]'
2025-02-11 15:03:52.686 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:52.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:52.692 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:52.792 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.796 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232686295808,"ephemeral":false}]'
2025-02-11 15:03:52.797 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.798 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58392/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.801 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232686295808,"ephemeral":false}]'
2025-02-11 15:03:52.802 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:52.808 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:52.808 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:52.908 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.909 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.912 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232802664448,"ephemeral":false}]'
2025-02-11 15:03:52.913 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:52.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58392/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232802664448,"ephemeral":false}]'
2025-02-11 15:03:52.918 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:52.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:52.924 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:53.025 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.025 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.029 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232918356992,"ephemeral":false}]'
2025-02-11 15:03:53.030 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.031 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58392/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286232918356992,"ephemeral":false}]'
2025-02-11 15:03:53.035 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:53.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:53.041 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:53.141 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.141 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286233035076608,"ephemeral":false}]'
2025-02-11 15:03:53.146 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.146 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58392/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286233035076608,"ephemeral":false}]'
2025-02-11 15:03:53.152 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:03:53.153 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:03:53.153 DEBUG [src.node.waku_node] Stopping container with id bdf42e474b80
2025-02-11 15:03:54.348 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:03:54.349 DEBUG [src.node.waku_node] Stopping container with id 2a0e1e22400e
2025-02-11 15:03:55.162 ERROR [src.node.docker_mananger] Max retries reached for container bdf42e474b80. Exiting log stream.
2025-02-11 15:03:55.837 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:03:55.838 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:03:55.848 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:03:55.857 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
