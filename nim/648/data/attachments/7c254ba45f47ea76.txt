2025-02-11 15:04:06.915 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:04:06.916 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-11_15-04-06__5bf0c109-3fd9-4dc1-8adf-8d933a29caef
2025-02-11 15:04:06.917 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:04:06.917 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-11 15:04:06.926 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:06.926 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-11_15-04-06__5bf0c109-3fd9-4dc1-8adf-8d933a29caef__wakuorg_nwaku:latest.log
2025-02-11 15:04:06.926 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:06.927 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:06.928 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:06.929 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.136.185
2025-02-11 15:04:06.929 DEBUG [src.node.docker_mananger] Generated ports ['12345', '12346', '12347', '12348', '12349']
2025-02-11 15:04:06.929 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:06.929 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:06.929 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:06.930 DEBUG [src.node.docker_mananger] docker run -i -t -p 12345:12345 -p 12346:12346 -p 12347:12347 -p 12348:12348 -p 12349:12349 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12347 --rest-port=12345 --tcp-port=12346 --discv5-udp-port=12348 --rest-address=0.0.0.0 --nat=extip:172.18.136.185 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c8d4dbffa587ded8e82450d496ee019e0baa7bcd65165ddae8a2e85dbdb7bcf3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12349 --metrics-logging=true --lightpush=true --relay=true
2025-02-11 15:04:07.173 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.136.185 waku f80338652ca9de5cb6d1131e7d6d8c35cf867c7cfe63d570c0886387c8aff92f
2025-02-11 15:04:07.225 DEBUG [src.node.docker_mananger] Container started with ID f80338652ca9. Setting up logs at ./log/docker/receiving_node1_2025-02-11_15-04-06__5bf0c109-3fd9-4dc1-8adf-8d933a29caef__wakuorg_nwaku:latest.log
2025-02-11 15:04:07.226 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 12345
2025-02-11 15:04:07.226 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:07.749 ERROR [src.node.docker_mananger] Max retries reached for container 9967378cf3af. Exiting log stream.
2025-02-11 15:04:08.226 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:08.230 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:08.230 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:08.230 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:08.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.136.185/tcp/12346/p2p/16Uiu2HAmQ46xWDb28STMsN1AZBgcdRn8KFna1LiWdsU5rKHSx2Bh","/ip4/172.18.136.185/tcp/12347/ws/p2p/16Uiu2HAmQ46xWDb28STMsN1AZBgcdRn8KFna1LiWdsU5rKHSx2Bh"],"enrUri":"enr:-L24QEhLXMcOfeQ9Ys9IAO-ujhXRKRw-VHONTPlm21HZQl36BD8-iD2y4MuZAtrKpozsQjQ_qgUokm87-FahIeFxhiUCgmlkgnY0gmlwhKwSiLmKbXVsdGlhZGRyc5YACASsEoi5BjA6AAoErBKIuQYwO90DgnJzhQADAQAAiXNlY3AyNTZrMaEDqVxisd6PW6ry6-9wJRxy_WUF_harT-tbzIB6zu-Xm7iDdGNwgjA6g3VkcIIwPIV3YWt1Mgk"}'
2025-02-11 15:04:08.233 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:08.239 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:08.240 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-11_15-04-06__5bf0c109-3fd9-4dc1-8adf-8d933a29caef__wakuorg_nwaku:latest.log
2025-02-11 15:04:08.240 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:08.240 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:08.241 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:08.241 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.157.158
2025-02-11 15:04:08.242 DEBUG [src.node.docker_mananger] Generated ports ['38719', '38720', '38721', '38722', '38723']
2025-02-11 15:04:08.242 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:08.242 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:08.242 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:08.242 DEBUG [src.node.docker_mananger] docker run -i -t -p 38719:38719 -p 38720:38720 -p 38721:38721 -p 38722:38722 -p 38723:38723 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38721 --rest-port=38719 --tcp-port=38720 --discv5-udp-port=38722 --rest-address=0.0.0.0 --nat=extip:172.18.157.158 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=94d2ffe6ca0e96aebbee55c3976c8b8b109b30a0b4755baed3ccd192878ef2b5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38723 --metrics-logging=true --lightpush=false --relay=true
2025-02-11 15:04:08.480 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.157.158 waku 6c7d5805c15b5ab1cb1943637e76bc57bcccdeb40c648bf844b2e275fb4edf67
2025-02-11 15:04:08.528 DEBUG [src.node.docker_mananger] Container started with ID 6c7d5805c15b. Setting up logs at ./log/docker/receiving_node2_2025-02-11_15-04-06__5bf0c109-3fd9-4dc1-8adf-8d933a29caef__wakuorg_nwaku:latest.log
2025-02-11 15:04:08.528 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 38719
2025-02-11 15:04:08.528 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:09.529 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:09.531 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:09.532 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:09.532 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:09.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.157.158/tcp/38720/p2p/16Uiu2HAkyb63x4reHYX5QyYtXmkXrEGUyvNgVVov2XyuQuWdCUjh","/ip4/172.18.157.158/tcp/38721/ws/p2p/16Uiu2HAkyb63x4reHYX5QyYtXmkXrEGUyvNgVVov2XyuQuWdCUjh"],"enrUri":"enr:-L24QH3-6OMCkLcd_ndiW76assOo7Qb8tD4qDJTs6RRfbmjESDD48tneHnzRGb-EUSAsnwt0XBcMq5_T8e51XWORFpkCgmlkgnY0gmlwhKwSnZ6KbXVsdGlhZGRyc5YACASsEp2eBpdAAAoErBKdngaXQd0DgnJzhQADAQAAiXNlY3AyNTZrMaECPdgxYnJRnVsoofaOlmWVBlN7JZ98KH80ByK3wI7tgBCDdGNwgpdAg3VkcIKXQoV3YWt1MgE"}'
2025-02-11 15:04:09.534 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:09.534 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38719/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.136.185/tcp/12346/p2p/16Uiu2HAmQ46xWDb28STMsN1AZBgcdRn8KFna1LiWdsU5rKHSx2Bh"]'
2025-02-11 15:04:09.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:09.580 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:09.580 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-11_15-04-06__5bf0c109-3fd9-4dc1-8adf-8d933a29caef__wakuorg_nwaku:latest.log
2025-02-11 15:04:09.580 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:09.580 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:09.582 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:09.582 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.191.113
2025-02-11 15:04:09.582 DEBUG [src.node.docker_mananger] Generated ports ['55778', '55779', '55780', '55781', '55782']
2025-02-11 15:04:09.582 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:09.582 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:09.582 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:09.582 DEBUG [src.node.docker_mananger] docker run -i -t -p 55778:55778 -p 55779:55779 -p 55780:55780 -p 55781:55781 -p 55782:55782 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55780 --rest-port=55778 --tcp-port=55779 --discv5-udp-port=55781 --rest-address=0.0.0.0 --nat=extip:172.18.191.113 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4bef1f520c2cff58e76dae2470fcaaf916ae7edeb2fdf784fd9ac6ddd2bb6eaa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55782 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QEhLXMcOfeQ9Ys9IAO-ujhXRKRw-VHONTPlm21HZQl36BD8-iD2y4MuZAtrKpozsQjQ_qgUokm87-FahIeFxhiUCgmlkgnY0gmlwhKwSiLmKbXVsdGlhZGRyc5YACASsEoi5BjA6AAoErBKIuQYwO90DgnJzhQADAQAAiXNlY3AyNTZrMaEDqVxisd6PW6ry6-9wJRxy_WUF_harT-tbzIB6zu-Xm7iDdGNwgjA6g3VkcIIwPIV3YWt1Mgk --lightpushnode=/ip4/172.18.136.185/tcp/12346/p2p/16Uiu2HAmQ46xWDb28STMsN1AZBgcdRn8KFna1LiWdsU5rKHSx2Bh --lightpush=true --relay=false
2025-02-11 15:04:09.819 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.191.113 waku 543a166df896918a5f163ac02cf24564fcfc3081d389d8d90b6fd753622b6bb1
2025-02-11 15:04:09.870 DEBUG [src.node.docker_mananger] Container started with ID 543a166df896. Setting up logs at ./log/docker/lightpush_node1_2025-02-11_15-04-06__5bf0c109-3fd9-4dc1-8adf-8d933a29caef__wakuorg_nwaku:latest.log
2025-02-11 15:04:09.871 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 55778
2025-02-11 15:04:09.871 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:10.871 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55778/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:10.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:10.875 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:10.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55778/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:10.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.191.113/tcp/55779/p2p/16Uiu2HAm8f66JnsqHhr1bkCT1r1e3b3xNhoYe9j7rHh4ut3By1Xc","/ip4/172.18.191.113/tcp/55780/ws/p2p/16Uiu2HAm8f66JnsqHhr1bkCT1r1e3b3xNhoYe9j7rHh4ut3By1Xc"],"enrUri":"enr:-L24QDS3wXUFKhdr5_sN3K10uhOynWxeAlNZJ-2bRu23Ip_mQIjqzFJyVBmyuSzUyiglUuudZl3lXYLpcraZ4ccLzI0CgmlkgnY0gmlwhKwSv3GKbXVsdGlhZGRyc5YACASsEr9xBtnjAAoErBK_cQbZ5N0DgnJzhQADAQAAiXNlY3AyNTZrMaECxJe-k3XdaeXHRpFxhs1P68riV4Nwv_b9oPMWpxMAKU-DdGNwgtnjg3VkcILZ5YV3YWt1Mgg"}'
2025-02-11 15:04:10.877 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:10.878 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.136.185/tcp/12346/p2p/16Uiu2HAmQ46xWDb28STMsN1AZBgcdRn8KFna1LiWdsU5rKHSx2Bh"]'
2025-02-11 15:04:10.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:10.916 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.157.158/tcp/38720/p2p/16Uiu2HAkyb63x4reHYX5QyYtXmkXrEGUyvNgVVov2XyuQuWdCUjh"]'
2025-02-11 15:04:10.949 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:10.950 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12345/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:04:10.955 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:10.956 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38719/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:04:10.964 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:10.966 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-11 15:04:10.970 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:10.970 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1739286250969799680}}'
2025-02-11 15:04:10.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:10.983 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:11.083 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.084 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.087 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739286250969799680,"ephemeral":false}]'
2025-02-11 15:04:11.088 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.088 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.091 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739286250969799680,"ephemeral":false}]'
2025-02-11 15:04:11.092 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-11 15:04:11.092 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:11.092 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1739286251092634624}}'
2025-02-11 15:04:11.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:11.102 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:11.203 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.203 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.206 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739286251092634624,"ephemeral":false}]'
2025-02-11 15:04:11.207 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.207 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739286251092634624,"ephemeral":false}]'
2025-02-11 15:04:11.211 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-11 15:04:11.212 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:11.212 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1739286251211900416}}'
2025-02-11 15:04:11.222 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:11.222 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:11.323 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.323 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.326 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739286251211900416,"ephemeral":false}]'
2025-02-11 15:04:11.327 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.327 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739286251211900416,"ephemeral":false}]'
2025-02-11 15:04:11.331 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-11 15:04:11.331 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:11.332 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1739286251331645184}}'
2025-02-11 15:04:11.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:11.341 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:11.441 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739286251331645184,"ephemeral":false}]'
2025-02-11 15:04:11.447 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.447 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.449 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739286251331645184,"ephemeral":false}]'
2025-02-11 15:04:11.450 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-11 15:04:11.451 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:11.451 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1739286251450991872}}'
2025-02-11 15:04:11.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:11.461 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:11.562 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.562 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739286251450991872,"ephemeral":false}]'
2025-02-11 15:04:11.566 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.566 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739286251450991872,"ephemeral":false}]'
2025-02-11 15:04:11.570 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-11 15:04:11.570 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:11.570 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1739286251570415104}}'
2025-02-11 15:04:11.580 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:11.580 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:11.681 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.681 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.684 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739286251570415104,"ephemeral":false}]'
2025-02-11 15:04:11.685 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.686 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739286251570415104,"ephemeral":false}]'
2025-02-11 15:04:11.689 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-11 15:04:11.689 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:11.689 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1739286251689527296}}'
2025-02-11 15:04:11.699 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:11.699 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:11.800 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.800 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739286251689527296,"ephemeral":false}]'
2025-02-11 15:04:11.804 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.805 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.807 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739286251689527296,"ephemeral":false}]'
2025-02-11 15:04:11.808 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-11 15:04:11.809 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:11.809 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1739286251809058560}}'
2025-02-11 15:04:11.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:11.819 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:11.919 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.920 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.922 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739286251809058560,"ephemeral":false}]'
2025-02-11 15:04:11.924 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:11.924 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:11.927 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739286251809058560,"ephemeral":false}]'
2025-02-11 15:04:11.928 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-11 15:04:11.929 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:11.929 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1739286251929077760}}'
2025-02-11 15:04:11.941 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:11.941 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:12.042 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.042 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.045 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739286251929077760,"ephemeral":false}]'
2025-02-11 15:04:12.046 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.047 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739286251929077760,"ephemeral":false}]'
2025-02-11 15:04:12.051 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-11 15:04:12.052 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:12.052 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1739286252051986688}}'
2025-02-11 15:04:12.064 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:12.065 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:12.165 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.166 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.168 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739286252051986688,"ephemeral":false}]'
2025-02-11 15:04:12.170 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.170 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.172 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739286252051986688,"ephemeral":false}]'
2025-02-11 15:04:12.174 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-11 15:04:12.174 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:12.174 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1739286252174470400}}'
2025-02-11 15:04:12.184 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:12.184 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:12.285 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.285 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.288 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739286252174470400,"ephemeral":false}]'
2025-02-11 15:04:12.289 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.289 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.292 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739286252174470400,"ephemeral":false}]'
2025-02-11 15:04:12.293 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-11 15:04:12.293 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:12.293 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1739286252293504256}}'
2025-02-11 15:04:12.303 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:12.303 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:12.404 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.404 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.407 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739286252293504256,"ephemeral":false}]'
2025-02-11 15:04:12.408 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.408 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739286252293504256,"ephemeral":false}]'
2025-02-11 15:04:12.412 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-11 15:04:12.412 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:12.413 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1739286252412784640}}'
2025-02-11 15:04:12.422 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:12.423 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:12.523 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.524 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.527 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739286252412784640,"ephemeral":false}]'
2025-02-11 15:04:12.528 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.528 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.530 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739286252412784640,"ephemeral":false}]'
2025-02-11 15:04:12.532 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-11 15:04:12.532 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:12.532 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1739286252532413184}}'
2025-02-11 15:04:12.543 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:12.543 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:12.643 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.644 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.647 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739286252532413184,"ephemeral":false}]'
2025-02-11 15:04:12.648 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.648 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.651 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739286252532413184,"ephemeral":false}]'
2025-02-11 15:04:12.652 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-11 15:04:12.652 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:12.653 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1739286252652664064}}'
2025-02-11 15:04:12.662 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:12.662 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:12.762 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.763 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.765 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739286252652664064,"ephemeral":false}]'
2025-02-11 15:04:12.767 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.767 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.769 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739286252652664064,"ephemeral":false}]'
2025-02-11 15:04:12.771 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-11 15:04:12.771 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:12.771 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1739286252771309568}}'
2025-02-11 15:04:12.781 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:12.781 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:12.881 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.882 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.884 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739286252771309568,"ephemeral":false}]'
2025-02-11 15:04:12.886 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:12.886 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:12.888 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739286252771309568,"ephemeral":false}]'
2025-02-11 15:04:12.890 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-11 15:04:12.890 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:12.890 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1739286252890343168}}'
2025-02-11 15:04:12.900 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:12.900 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:13.001 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.001 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739286252890343168,"ephemeral":false}]'
2025-02-11 15:04:13.006 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.006 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739286252890343168,"ephemeral":false}]'
2025-02-11 15:04:13.009 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-11 15:04:13.010 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:13.010 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1739286253010206720}}'
2025-02-11 15:04:13.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:13.021 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:13.121 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.121 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.124 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739286253010206720,"ephemeral":false}]'
2025-02-11 15:04:13.126 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.126 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739286253010206720,"ephemeral":false}]'
2025-02-11 15:04:13.129 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-11 15:04:13.130 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:13.130 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1739286253130006016}}'
2025-02-11 15:04:13.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:13.140 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:13.240 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.240 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739286253130006016,"ephemeral":false}]'
2025-02-11 15:04:13.245 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.245 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739286253130006016,"ephemeral":false}]'
2025-02-11 15:04:13.249 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-11 15:04:13.249 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:13.249 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1739286253249292544}}'
2025-02-11 15:04:13.260 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:13.260 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:13.360 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739286253249292544,"ephemeral":false}]'
2025-02-11 15:04:13.365 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739286253249292544,"ephemeral":false}]'
2025-02-11 15:04:13.368 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-11 15:04:13.369 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:13.369 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1739286253369131008}}'
2025-02-11 15:04:13.379 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:13.380 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:13.481 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.481 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.484 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739286253369131008,"ephemeral":false}]'
2025-02-11 15:04:13.486 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.486 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739286253369131008,"ephemeral":false}]'
2025-02-11 15:04:13.491 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-11 15:04:13.491 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:13.491 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1739286253491432448}}'
2025-02-11 15:04:13.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:13.502 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:13.603 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.603 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.606 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739286253491432448,"ephemeral":false}]'
2025-02-11 15:04:13.607 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.607 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.610 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739286253491432448,"ephemeral":false}]'
2025-02-11 15:04:13.611 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-11 15:04:13.611 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:13.611 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1739286253611547904}}'
2025-02-11 15:04:13.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:13.622 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:13.722 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.722 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739286253611547904,"ephemeral":false}]'
2025-02-11 15:04:13.727 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.727 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.729 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739286253611547904,"ephemeral":false}]'
2025-02-11 15:04:13.731 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-11 15:04:13.732 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:13.732 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1739286253732134400}}'
2025-02-11 15:04:13.742 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:13.742 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:13.842 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.842 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.845 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739286253732134400,"ephemeral":false}]'
2025-02-11 15:04:13.847 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.847 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739286253732134400,"ephemeral":false}]'
2025-02-11 15:04:13.850 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-11 15:04:13.851 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:13.851 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1739286253851215872}}'
2025-02-11 15:04:13.860 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:13.861 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:13.961 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.961 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.964 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739286253851215872,"ephemeral":false}]'
2025-02-11 15:04:13.966 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:13.966 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:13.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739286253851215872,"ephemeral":false}]'
2025-02-11 15:04:13.972 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-11 15:04:13.973 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:13.973 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1739286253972993024}}'
2025-02-11 15:04:13.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:13.983 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:14.084 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.084 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.087 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739286253972993024,"ephemeral":false}]'
2025-02-11 15:04:14.090 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.090 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739286253972993024,"ephemeral":false}]'
2025-02-11 15:04:14.094 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-11 15:04:14.094 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:14.094 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1739286254094275840}}'
2025-02-11 15:04:14.105 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:14.105 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:14.206 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.206 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739286254094275840,"ephemeral":false}]'
2025-02-11 15:04:14.210 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.211 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739286254094275840,"ephemeral":false}]'
2025-02-11 15:04:14.214 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-11 15:04:14.215 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:14.215 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1739286254215156992}}'
2025-02-11 15:04:14.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:14.227 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:14.328 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.328 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739286254215156992,"ephemeral":false}]'
2025-02-11 15:04:14.332 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.332 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.334 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739286254215156992,"ephemeral":false}]'
2025-02-11 15:04:14.335 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-11 15:04:14.336 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:14.336 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1739286254336109056}}'
2025-02-11 15:04:14.347 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:14.347 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:14.447 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.448 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.451 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739286254336109056,"ephemeral":false}]'
2025-02-11 15:04:14.452 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.452 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.455 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739286254336109056,"ephemeral":false}]'
2025-02-11 15:04:14.456 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-11 15:04:14.457 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:14.457 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1739286254456869376}}'
2025-02-11 15:04:14.467 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:14.467 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:14.568 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.568 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739286254456869376,"ephemeral":false}]'
2025-02-11 15:04:14.572 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.573 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.575 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739286254456869376,"ephemeral":false}]'
2025-02-11 15:04:14.576 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-11 15:04:14.576 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:14.577 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1739286254576673280}}'
2025-02-11 15:04:14.588 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:14.588 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:14.688 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.688 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739286254576673280,"ephemeral":false}]'
2025-02-11 15:04:14.692 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.693 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.695 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739286254576673280,"ephemeral":false}]'
2025-02-11 15:04:14.696 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-11 15:04:14.697 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:14.697 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1739286254697049088}}'
2025-02-11 15:04:14.711 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:14.711 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:14.812 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.812 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739286254697049088,"ephemeral":false}]'
2025-02-11 15:04:14.817 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.817 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739286254697049088,"ephemeral":false}]'
2025-02-11 15:04:14.820 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-11 15:04:14.821 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:14.821 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1739286254821227008}}'
2025-02-11 15:04:14.831 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:14.831 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:14.932 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.932 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739286254821227008,"ephemeral":false}]'
2025-02-11 15:04:14.936 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:14.937 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:14.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739286254821227008,"ephemeral":false}]'
2025-02-11 15:04:14.940 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-11 15:04:14.940 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:14.941 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1739286254940644864}}'
2025-02-11 15:04:14.951 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:14.951 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:15.052 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.052 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739286254940644864,"ephemeral":false}]'
2025-02-11 15:04:15.056 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.056 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739286254940644864,"ephemeral":false}]'
2025-02-11 15:04:15.060 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-11 15:04:15.060 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:15.061 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1739286255060795136}}'
2025-02-11 15:04:15.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:15.071 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:15.172 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.172 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739286255060795136,"ephemeral":false}]'
2025-02-11 15:04:15.176 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.176 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.179 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739286255060795136,"ephemeral":false}]'
2025-02-11 15:04:15.180 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-11 15:04:15.180 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:15.181 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1739286255180658176}}'
2025-02-11 15:04:15.191 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:15.192 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:15.292 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.293 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739286255180658176,"ephemeral":false}]'
2025-02-11 15:04:15.297 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.297 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.299 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739286255180658176,"ephemeral":false}]'
2025-02-11 15:04:15.301 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-11 15:04:15.301 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:15.301 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1739286255301415424}}'
2025-02-11 15:04:15.312 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:15.312 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:15.413 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.413 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739286255301415424,"ephemeral":false}]'
2025-02-11 15:04:15.417 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.417 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.420 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739286255301415424,"ephemeral":false}]'
2025-02-11 15:04:15.421 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-11 15:04:15.422 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:15.422 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1739286255421939968}}'
2025-02-11 15:04:15.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:15.432 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:15.533 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.533 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.536 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739286255421939968,"ephemeral":false}]'
2025-02-11 15:04:15.537 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.537 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.540 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739286255421939968,"ephemeral":false}]'
2025-02-11 15:04:15.541 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-11 15:04:15.541 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:15.542 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1739286255541700864}}'
2025-02-11 15:04:15.551 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:15.552 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:15.652 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.653 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739286255541700864,"ephemeral":false}]'
2025-02-11 15:04:15.657 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.657 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.659 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739286255541700864,"ephemeral":false}]'
2025-02-11 15:04:15.661 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-11 15:04:15.661 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 15:04:15.661 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1739286255661434624}}'
2025-02-11 15:04:15.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:15.671 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:04:15.771 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.771 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739286255661434624,"ephemeral":false}]'
2025-02-11 15:04:15.776 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 15:04:15.776 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:15.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739286255661434624,"ephemeral":false}]'
2025-02-11 15:04:15.781 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:04:15.782 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:04:15.782 DEBUG [src.node.waku_node] Stopping container with id f80338652ca9
2025-02-11 15:04:16.400 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:04:16.400 DEBUG [src.node.waku_node] Stopping container with id 6c7d5805c15b
2025-02-11 15:04:17.213 ERROR [src.node.docker_mananger] Max retries reached for container f80338652ca9. Exiting log stream.
2025-02-11 15:04:17.519 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:04:17.519 DEBUG [src.node.waku_node] Stopping container with id 543a166df896
2025-02-11 15:04:18.332 ERROR [src.node.docker_mananger] Max retries reached for container 6c7d5805c15b. Exiting log stream.
2025-02-11 15:04:18.850 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:04:18.851 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:04:18.878 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:04:18.893 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:04:18.913 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
