2025-02-11 15:07:47.540 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:07:47.541 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics with id: 2025-02-11_15-07-47__c3573ec5-b2be-4ea2-b5b2-1d9e2adb5aa6
2025-02-11 15:07:47.541 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:07:47.541 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 15:07:47.541 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 15:07:47.548 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:07:47.548 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-07-47__c3573ec5-b2be-4ea2-b5b2-1d9e2adb5aa6__wakuorg_nwaku:latest.log
2025-02-11 15:07:47.549 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:07:47.549 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:07:47.550 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:07:47.550 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.48.171
2025-02-11 15:07:47.550 DEBUG [src.node.docker_mananger] Generated ports ['17993', '17994', '17995', '17996', '17997']
2025-02-11 15:07:47.550 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:07:47.551 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:07:47.551 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:07:47.551 DEBUG [src.node.docker_mananger] docker run -i -t -p 17993:17993 -p 17994:17994 -p 17995:17995 -p 17996:17996 -p 17997:17997 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17995 --rest-port=17993 --tcp-port=17994 --discv5-udp-port=17996 --rest-address=0.0.0.0 --nat=extip:172.18.48.171 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=7ac5989a70f8ee493d14126165bdf085742f0e07b14b6233a52dd8c6a84f283d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17997 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-11 15:07:47.782 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.48.171 waku 0fb6eb527e12e2c1979d7eb72e092157d02fe97a1123a248ce2e345b7a3a15c6
2025-02-11 15:07:47.831 DEBUG [src.node.docker_mananger] Container started with ID 0fb6eb527e12. Setting up logs at ./log/docker/node1_2025-02-11_15-07-47__c3573ec5-b2be-4ea2-b5b2-1d9e2adb5aa6__wakuorg_nwaku:latest.log
2025-02-11 15:07:47.833 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17993
2025-02-11 15:07:47.833 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:07:48.338 ERROR [src.node.docker_mananger] Max retries reached for container 1e69b1a1f9e8. Exiting log stream.
2025-02-11 15:07:48.834 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:48.837 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:07:48.837 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:07:48.837 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:48.840 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.48.171/tcp/17994/p2p/16Uiu2HAmUfLvP9TaeRu12TxpYvgGAiT61fCoWVye1qng12azpN37","/ip4/172.18.48.171/tcp/17995/ws/p2p/16Uiu2HAmUfLvP9TaeRu12TxpYvgGAiT61fCoWVye1qng12azpN37"],"enrUri":"enr:-L24QHfkf5H75NTHJz_RF1ym1PB0bt0nyTR_oCxmvJkW2z_Vbvsg_VtCD5-nwyT66mXGRXeihYWVrIc8NvvvimmXpbMCgmlkgnY0gmlwhKwSMKuKbXVsdGlhZGRyc5YACASsEjCrBkZKAAoErBIwqwZGS90DgnJzhQACAQAAiXNlY3AyNTZrMaED7dJAAjKvjyXMwN6Ipk6T34V6dBcW0B3g-wlt0UgqIzaDdGNwgkZKg3VkcIJGTIV3YWt1MgU"}'
2025-02-11 15:07:48.840 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:07:48.847 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:07:48.848 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-07-47__c3573ec5-b2be-4ea2-b5b2-1d9e2adb5aa6__wakuorg_nwaku:latest.log
2025-02-11 15:07:48.848 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:07:48.848 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:07:48.850 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:07:48.850 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.102.89
2025-02-11 15:07:48.850 DEBUG [src.node.docker_mananger] Generated ports ['19762', '19763', '19764', '19765', '19766']
2025-02-11 15:07:48.850 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:07:48.850 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:07:48.850 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:07:48.850 DEBUG [src.node.docker_mananger] docker run -i -t -p 19762:19762 -p 19763:19763 -p 19764:19764 -p 19765:19765 -p 19766:19766 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19764 --rest-port=19762 --tcp-port=19763 --discv5-udp-port=19765 --rest-address=0.0.0.0 --nat=extip:172.18.102.89 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=869ddd4c95b69563efe54e2f825b3ace37cf530402aecd47333e88dea1dcd1d5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19766 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHfkf5H75NTHJz_RF1ym1PB0bt0nyTR_oCxmvJkW2z_Vbvsg_VtCD5-nwyT66mXGRXeihYWVrIc8NvvvimmXpbMCgmlkgnY0gmlwhKwSMKuKbXVsdGlhZGRyc5YACASsEjCrBkZKAAoErBIwqwZGS90DgnJzhQACAQAAiXNlY3AyNTZrMaED7dJAAjKvjyXMwN6Ipk6T34V6dBcW0B3g-wlt0UgqIzaDdGNwgkZKg3VkcIJGTIV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-11 15:07:49.086 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.102.89 waku e09e74e21f84e6bfd07c398489bdf2745f62fe3a98998387fce3063b94691aba
2025-02-11 15:07:49.135 DEBUG [src.node.docker_mananger] Container started with ID e09e74e21f84. Setting up logs at ./log/docker/node2_2025-02-11_15-07-47__c3573ec5-b2be-4ea2-b5b2-1d9e2adb5aa6__wakuorg_nwaku:latest.log
2025-02-11 15:07:49.135 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 19762
2025-02-11 15:07:49.135 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:07:50.136 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19762/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:07:50.146 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:07:50.146 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19762/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.89/tcp/19763/p2p/16Uiu2HAmMwpPm4VArT2emjAaYCXW93yPvJZmYSbTdkc1LRE17dpg","/ip4/172.18.102.89/tcp/19764/ws/p2p/16Uiu2HAmMwpPm4VArT2emjAaYCXW93yPvJZmYSbTdkc1LRE17dpg"],"enrUri":"enr:-L24QMeFCB7lpHtjlx2-WB5shH8Ju5E1i43hfUrRaKbuHtICZq-AiutZddv1VsEoSmUyPLPvYL4qPrDjzmvqeOUzXfYCgmlkgnY0gmlwhKwSZlmKbXVsdGlhZGRyc5YACASsEmZZBk0zAAoErBJmWQZNNN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDigjMFpJo-fRk_2CxDI3JD0PDmrRGz2EdRzoalRYFMW2DdGNwgk0zg3VkcIJNNYV3YWt1MgE"}'
2025-02-11 15:07:50.150 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:07:50.150 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19762/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.171/tcp/17994/p2p/16Uiu2HAmUfLvP9TaeRu12TxpYvgGAiT61fCoWVye1qng12azpN37"]'
2025-02-11 15:07:50.154 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:50.155 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 15:07:50.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:50.166 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19762/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 15:07:50.184 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:50.185 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:50.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:50.199 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:50.299 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.299 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286470185659136,"ephemeral":false}]'
2025-02-11 15:07:50.305 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.305 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19762/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.308 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739286470185659136,"ephemeral":false}]'
2025-02-11 15:07:50.310 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:50.315 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:50.315 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:50.416 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.416 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.419 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739286470310055936,"ephemeral":false}]'
2025-02-11 15:07:50.421 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.421 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19762/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.424 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739286470310055936,"ephemeral":false}]'
2025-02-11 15:07:50.425 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:50.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:50.431 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:50.531 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.532 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739286470425724416,"ephemeral":false}]'
2025-02-11 15:07:50.536 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.536 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19762/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739286470425724416,"ephemeral":false}]'
2025-02-11 15:07:50.540 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:50.546 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:50.546 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:50.647 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.647 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.650 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739286470540708864,"ephemeral":false}]'
2025-02-11 15:07:50.652 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.652 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19762/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739286470540708864,"ephemeral":false}]'
2025-02-11 15:07:50.657 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:50.663 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:50.663 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:50.764 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.764 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739286470657024768,"ephemeral":false}]'
2025-02-11 15:07:50.768 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.769 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19762/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739286470657024768,"ephemeral":false}]'
2025-02-11 15:07:50.773 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:50.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:50.779 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:50.880 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.880 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.883 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739286470773422080,"ephemeral":false}]'
2025-02-11 15:07:50.884 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.885 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19762/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.887 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739286470773422080,"ephemeral":false}]'
2025-02-11 15:07:50.889 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:50.894 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:50.895 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:50.995 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:50.996 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:50.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739286470889215488,"ephemeral":false}]'
2025-02-11 15:07:51.000 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:51.001 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19762/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:51.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739286470889215488,"ephemeral":false}]'
2025-02-11 15:07:51.005 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:51.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:51.010 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:51.111 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:51.111 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:51.114 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739286471005152256,"ephemeral":false}]'
2025-02-11 15:07:51.116 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:51.116 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19762/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:51.118 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739286471005152256,"ephemeral":false}]'
2025-02-11 15:07:51.120 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17993/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 15:07:51.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:51.140 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:19762/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 15:07:51.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:51.161 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:51.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:51.164 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:51.264 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:51.265 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:51.268 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:17993/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-11 15:07:51.269 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:51.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:51.272 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:51.373 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:51.373 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:51.376 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:17993/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-11 15:07:51.378 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:51.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:51.381 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:51.481 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:51.482 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:51.485 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-11 15:07:51.487 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:51.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:51.490 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:51.590 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:51.591 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:51.594 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:17993/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-11 15:07:51.595 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:51.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:51.599 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:51.699 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:51.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:51.702 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:17993/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-11 15:07:51.704 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:51.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:51.707 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:51.807 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:51.808 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:51.810 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-11 15:07:51.812 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:51.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:51.815 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:51.915 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:51.916 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:51.919 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-11 15:07:51.920 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17993/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:51.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:51.923 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:52.024 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:52.024 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:52.027 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:17993/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-11 15:07:52.030 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:07:52.031 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:07:52.031 DEBUG [src.node.waku_node] Stopping container with id 0fb6eb527e12
2025-02-11 15:07:53.337 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:07:53.338 DEBUG [src.node.waku_node] Stopping container with id e09e74e21f84
2025-02-11 15:07:54.151 ERROR [src.node.docker_mananger] Max retries reached for container 0fb6eb527e12. Exiting log stream.
2025-02-11 15:07:54.529 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:07:54.531 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:07:54.543 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:07:54.554 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
