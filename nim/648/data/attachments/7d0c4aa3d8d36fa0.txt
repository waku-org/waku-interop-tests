2025-02-11 15:04:17.613 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:04:17.614 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_empty_pubsub_topic_list with id: 2025-02-11_15-04-17__4f06d2ce-d10d-4da1-a2eb-9b23e43d54a6
2025-02-11 15:04:17.615 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:04:17.615 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 15:04:17.615 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-11 15:04:17.624 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:17.624 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-04-17__4f06d2ce-d10d-4da1-a2eb-9b23e43d54a6__wakuorg_nwaku:latest.log
2025-02-11 15:04:17.625 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:17.626 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:17.628 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:17.628 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.65.158
2025-02-11 15:04:17.628 DEBUG [src.node.docker_mananger] Generated ports ['27177', '27178', '27179', '27180', '27181']
2025-02-11 15:04:17.628 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:17.628 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:17.628 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:17.629 DEBUG [src.node.docker_mananger] docker run -i -t -p 27177:27177 -p 27178:27178 -p 27179:27179 -p 27180:27180 -p 27181:27181 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27179 --rest-port=27177 --tcp-port=27178 --discv5-udp-port=27180 --rest-address=0.0.0.0 --nat=extip:172.18.65.158 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d6d0380d6f99be8636c3a8847efdf0f282deb2bdab64124b6c040a89ebeb74ae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27181 --metrics-logging=true --relay=true
2025-02-11 15:04:17.855 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.65.158 waku 4211f21fd81887b468d66ec49933398f9b0fb4fc81362b724f6b1d9788265eb2
2025-02-11 15:04:17.913 DEBUG [src.node.docker_mananger] Container started with ID 4211f21fd818. Setting up logs at ./log/docker/node1_2025-02-11_15-04-17__4f06d2ce-d10d-4da1-a2eb-9b23e43d54a6__wakuorg_nwaku:latest.log
2025-02-11 15:04:17.913 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 27177
2025-02-11 15:04:17.913 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:18.442 ERROR [src.node.docker_mananger] Max retries reached for container fbd853d8c79b. Exiting log stream.
2025-02-11 15:04:18.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27177/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:18.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:18.916 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:18.917 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27177/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:18.919 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.158/tcp/27178/p2p/16Uiu2HAmJCg9t65BuvHaK3jZvYJ2Lf2n4T9AL2As3YqmXqaAh5AX","/ip4/172.18.65.158/tcp/27179/ws/p2p/16Uiu2HAmJCg9t65BuvHaK3jZvYJ2Lf2n4T9AL2As3YqmXqaAh5AX"],"enrUri":"enr:-L24QKvaPMbQpbPzs26xk3LtUNAm91Kk_2E-32BHAVuh0-grHhCcCx6lKcYGWLlG2tFVxENaRGAzpN1mAGbAGmpxBlICgmlkgnY0gmlwhKwSQZ6KbXVsdGlhZGRyc5YACASsEkGeBmoqAAoErBJBngZqK90DgnJzhQADAQAAiXNlY3AyNTZrMaEDUmhyCVSIJgP8xv5osDGag3O6BqOxzteC3-hp_rhCqyiDdGNwgmoqg3VkcIJqLIV3YWt1MgE"}'
2025-02-11 15:04:18.919 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:18.925 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:04:18.925 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-04-17__4f06d2ce-d10d-4da1-a2eb-9b23e43d54a6__wakuorg_nwaku:latest.log
2025-02-11 15:04:18.925 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:04:18.926 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:04:18.927 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:04:18.927 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.103.198
2025-02-11 15:04:18.927 DEBUG [src.node.docker_mananger] Generated ports ['48361', '48362', '48363', '48364', '48365']
2025-02-11 15:04:18.927 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:04:18.927 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:04:18.928 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:04:18.928 DEBUG [src.node.docker_mananger] docker run -i -t -p 48361:48361 -p 48362:48362 -p 48363:48363 -p 48364:48364 -p 48365:48365 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48363 --rest-port=48361 --tcp-port=48362 --discv5-udp-port=48364 --rest-address=0.0.0.0 --nat=extip:172.18.103.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=76f9bf7c5e8e50e2de0d939c38ba78de3e9dbcdac6da5fec76144abe87bd2f93 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48365 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKvaPMbQpbPzs26xk3LtUNAm91Kk_2E-32BHAVuh0-grHhCcCx6lKcYGWLlG2tFVxENaRGAzpN1mAGbAGmpxBlICgmlkgnY0gmlwhKwSQZ6KbXVsdGlhZGRyc5YACASsEkGeBmoqAAoErBJBngZqK90DgnJzhQADAQAAiXNlY3AyNTZrMaEDUmhyCVSIJgP8xv5osDGag3O6BqOxzteC3-hp_rhCqyiDdGNwgmoqg3VkcIJqLIV3YWt1MgE
2025-02-11 15:04:19.154 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.103.198 waku de01290273f416424f084931a40ff3be3fa0c0d8118edbf374e863bcc122eff3
2025-02-11 15:04:19.202 DEBUG [src.node.docker_mananger] Container started with ID de01290273f4. Setting up logs at ./log/docker/node2_2025-02-11_15-04-17__4f06d2ce-d10d-4da1-a2eb-9b23e43d54a6__wakuorg_nwaku:latest.log
2025-02-11 15:04:19.202 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 48361
2025-02-11 15:04:19.203 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:04:20.204 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48361/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:20.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:04:20.208 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:04:20.208 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48361/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:04:20.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.198/tcp/48362/p2p/16Uiu2HAkzXCnHgTHSAfv8bzbNvrbZsMvNMt4o23JMvoV2edeQcjs","/ip4/172.18.103.198/tcp/48363/ws/p2p/16Uiu2HAkzXCnHgTHSAfv8bzbNvrbZsMvNMt4o23JMvoV2edeQcjs"],"enrUri":"enr:-L24QImoXMYTZkyN7nhDs5BlRNg3IXn9aCqHL5K-sjF3quMgdflyKgoE73iZtR7Sv4OdMwyrAPYPTjv2i93s4Z1RilgCgmlkgnY0gmlwhKwSZ8aKbXVsdGlhZGRyc5YACASsEmfGBrzqAAoErBJnxga8690DgnJzhQADAQAAiXNlY3AyNTZrMaECS7Uqi_QizQNGQjBlHhHRyUxCPrqxGWrGe017J9GoOsqDdGNwgrzqg3VkcIK87IV3YWt1MgE"}'
2025-02-11 15:04:20.214 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:04:20.214 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48361/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.65.158/tcp/27178/p2p/16Uiu2HAmJCg9t65BuvHaK3jZvYJ2Lf2n4T9AL2As3YqmXqaAh5AX"]'
2025-02-11 15:04:20.221 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:20.224 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27177/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-11 15:04:20.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:20.227 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48361/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-11 15:04:20.229 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:04:20.230 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:04:20.231 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:04:20.232 DEBUG [src.node.waku_node] Stopping container with id 4211f21fd818
2025-02-11 15:04:21.384 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:04:21.384 DEBUG [src.node.waku_node] Stopping container with id de01290273f4
2025-02-11 15:04:22.196 ERROR [src.node.docker_mananger] Max retries reached for container 4211f21fd818. Exiting log stream.
2025-02-11 15:04:22.896 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:04:22.897 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:04:22.902 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:04:22.906 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
