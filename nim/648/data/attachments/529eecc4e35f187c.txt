2025-02-11 15:12:29.779 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:12:29.780 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-11_15-12-29__cc7effd6-3c0c-4b87-9a80-77bae96ed0b7
2025-02-11 15:12:29.780 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:12:29.780 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 15:12:29.780 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 15:12:29.787 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:12:29.787 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_15-12-29__cc7effd6-3c0c-4b87-9a80-77bae96ed0b7__wakuorg_nwaku:latest.log
2025-02-11 15:12:29.787 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:12:29.787 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:12:29.789 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:12:29.789 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.130.0
2025-02-11 15:12:29.789 DEBUG [src.node.docker_mananger] Generated ports ['12880', '12881', '12882', '12883', '12884']
2025-02-11 15:12:29.789 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:12:29.789 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:12:29.789 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:12:29.789 DEBUG [src.node.docker_mananger] docker run -i -t -p 12880:12880 -p 12881:12881 -p 12882:12882 -p 12883:12883 -p 12884:12884 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12882 --rest-port=12880 --tcp-port=12881 --discv5-udp-port=12883 --rest-address=0.0.0.0 --nat=extip:172.18.130.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2a804b2ab45bdcf1cceecb0bf53cee20b5fcaf5bfacd1142beef0ee3559fbfee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12884 --metrics-logging=true --store=true --relay=true
2025-02-11 15:12:30.018 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.130.0 waku bc382a25a092ab61e66deaf16d4ee96fa7ee561bc104d82fc27189ae5d4be557
2025-02-11 15:12:30.066 DEBUG [src.node.docker_mananger] Container started with ID bc382a25a092. Setting up logs at ./log/docker/publishing_node1_2025-02-11_15-12-29__cc7effd6-3c0c-4b87-9a80-77bae96ed0b7__wakuorg_nwaku:latest.log
2025-02-11 15:12:30.068 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 12880
2025-02-11 15:12:30.068 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:12:30.557 ERROR [src.node.docker_mananger] Max retries reached for container aab84be15faa. Exiting log stream.
2025-02-11 15:12:31.068 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12880/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:31.071 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:12:31.071 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:12:31.071 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12880/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:31.074 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.130.0/tcp/12881/p2p/16Uiu2HAmD2KaYS1jiiNk5xrTt8AB88MpnxC4HyubCoNngixH3LUK","/ip4/172.18.130.0/tcp/12882/ws/p2p/16Uiu2HAmD2KaYS1jiiNk5xrTt8AB88MpnxC4HyubCoNngixH3LUK"],"enrUri":"enr:-L24QC2H9w8-jtpE5txxsNuPpDMFSCzJQQb0vWBIpBWpK4vATe96Tl_cx8i28703rZ356D-OB6-1_zTN9sjqWZRtAxYCgmlkgnY0gmlwhKwSggCKbXVsdGlhZGRyc5YACASsEoIABjJRAAoErBKCAAYyUt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBXbwUBcgMqr6HhXIpNm2tfKoM5QVZkyUiz7XMIvig0yDdGNwgjJRg3VkcIIyU4V3YWt1MgM"}'
2025-02-11 15:12:31.074 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:12:31.080 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:12:31.081 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_15-12-29__cc7effd6-3c0c-4b87-9a80-77bae96ed0b7__wakuorg_nwaku:latest.log
2025-02-11 15:12:31.081 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:12:31.081 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:12:31.082 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:12:31.082 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.187.179
2025-02-11 15:12:31.082 DEBUG [src.node.docker_mananger] Generated ports ['31323', '31324', '31325', '31326', '31327']
2025-02-11 15:12:31.083 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:12:31.083 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:12:31.083 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:12:31.083 DEBUG [src.node.docker_mananger] docker run -i -t -p 31323:31323 -p 31324:31324 -p 31325:31325 -p 31326:31326 -p 31327:31327 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31325 --rest-port=31323 --tcp-port=31324 --discv5-udp-port=31326 --rest-address=0.0.0.0 --nat=extip:172.18.187.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6e4b6ad53e07f27cf49a2143efee1a30b0fb9cf9a7dd8a260b1737a0a0bb893f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31327 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QC2H9w8-jtpE5txxsNuPpDMFSCzJQQb0vWBIpBWpK4vATe96Tl_cx8i28703rZ356D-OB6-1_zTN9sjqWZRtAxYCgmlkgnY0gmlwhKwSggCKbXVsdGlhZGRyc5YACASsEoIABjJRAAoErBKCAAYyUt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBXbwUBcgMqr6HhXIpNm2tfKoM5QVZkyUiz7XMIvig0yDdGNwgjJRg3VkcIIyU4V3YWt1MgM --storenode=/ip4/172.18.130.0/tcp/12881/p2p/16Uiu2HAmD2KaYS1jiiNk5xrTt8AB88MpnxC4HyubCoNngixH3LUK --store=true --relay=true
2025-02-11 15:12:31.334 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.187.179 waku 1bc67542847303be465b45c7ea3eb64dde6331d101f4163216060c5e874e6ec4
2025-02-11 15:12:31.389 DEBUG [src.node.docker_mananger] Container started with ID 1bc675428473. Setting up logs at ./log/docker/store_node1_2025-02-11_15-12-29__cc7effd6-3c0c-4b87-9a80-77bae96ed0b7__wakuorg_nwaku:latest.log
2025-02-11 15:12:31.390 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31323
2025-02-11 15:12:31.390 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:12:32.391 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31323/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:32.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:12:32.394 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:12:32.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31323/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:32.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.179/tcp/31324/p2p/16Uiu2HAmPNdEMnKcPXDrW2xvkpqfDhYvVJeF5Pi4hcczcMS958ts","/ip4/172.18.187.179/tcp/31325/ws/p2p/16Uiu2HAmPNdEMnKcPXDrW2xvkpqfDhYvVJeF5Pi4hcczcMS958ts"],"enrUri":"enr:-L24QBuWzdXLy0s1rRzoAVjkT6I4Uddu6xaPlBb0idXlThAPddBc3uNuouIuQZiWX7qXCYq9UCMDdnhYDSV3cbG0yoQCgmlkgnY0gmlwhKwSu7OKbXVsdGlhZGRyc5YACASsEruzBnpcAAoErBK7swZ6Xd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnz9iI4aTW0fMgQPiKEpjvIDs8_jur8K5f3FHKUazxPyDdGNwgnpcg3VkcIJ6XoV3YWt1MgM"}'
2025-02-11 15:12:32.396 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:12:32.396 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31323/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.130.0/tcp/12881/p2p/16Uiu2HAmD2KaYS1jiiNk5xrTt8AB88MpnxC4HyubCoNngixH3LUK"]'
2025-02-11 15:12:32.399 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:12:32.399 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12880/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:12:32.402 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:12:32.402 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31323/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 15:12:32.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:12:32.405 DEBUG [tests.store.test_get_messages] Running test with content topic /myapp/1/latest/proto
2025-02-11 15:12:32.405 DEBUG [src.steps.store] Relaying message
2025-02-11 15:12:32.405 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:12:32.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:12:32.412 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:12:32.613 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:32.613 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12880/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:32.617 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x4ff2d40379d8a49844e83d433a6fa97ca27cfc187ddcb9376a7c7feaa86f8317"}]}'
2025-02-11 15:12:32.617 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:32.617 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:32.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x4ff2d40379d8a49844e83d433a6fa97ca27cfc187ddcb9376a7c7feaa86f8317"}]}'
2025-02-11 15:12:32.620 DEBUG [tests.store.test_get_messages] Running test with content topic /waku/2/content/test.js
2025-02-11 15:12:32.621 DEBUG [src.steps.store] Relaying message
2025-02-11 15:12:32.621 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:12:32.627 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:12:32.627 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:12:32.828 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:32.828 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12880/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:32.832 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x612605b771ecaa09a8c9343ee499b260d7b017da3187091b08ecf7c9488eb5be"}]}'
2025-02-11 15:12:32.832 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:32.832 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:32.835 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x612605b771ecaa09a8c9343ee499b260d7b017da3187091b08ecf7c9488eb5be"}]}'
2025-02-11 15:12:32.835 DEBUG [tests.store.test_get_messages] Running test with content topic /app/22/sometopic/someencoding
2025-02-11 15:12:32.836 DEBUG [src.steps.store] Relaying message
2025-02-11 15:12:32.836 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:12:32.841 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:12:32.842 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:12:33.042 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:33.043 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12880/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:33.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5e5e7d76f5fcaeaebf35fdeb8eee3b8030a37ed1d1fecb3dd806d4605c71aeb2"}]}'
2025-02-11 15:12:33.047 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:33.047 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:33.050 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5e5e7d76f5fcaeaebf35fdeb8eee3b8030a37ed1d1fecb3dd806d4605c71aeb2"}]}'
2025-02-11 15:12:33.050 DEBUG [tests.store.test_get_messages] Running test with content topic /toychat/2/huilong/proto
2025-02-11 15:12:33.051 DEBUG [src.steps.store] Relaying message
2025-02-11 15:12:33.051 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:12:33.057 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:12:33.058 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:12:33.258 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:33.259 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12880/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:33.262 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5498367e4f084edd599fe0b75f7cb445d5a17d86b51ac9cd6e7a52b2039c4b53"}]}'
2025-02-11 15:12:33.262 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:33.263 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:33.265 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5498367e4f084edd599fe0b75f7cb445d5a17d86b51ac9cd6e7a52b2039c4b53"}]}'
2025-02-11 15:12:33.266 DEBUG [tests.store.test_get_messages] Running test with content topic /statusim/1/community/cbor
2025-02-11 15:12:33.266 DEBUG [src.steps.store] Relaying message
2025-02-11 15:12:33.266 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:12:33.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:12:33.273 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:12:33.473 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:33.474 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12880/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:33.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5942f8c51bf9a1c7084f234d2ce10583d017cb5a7d53f104ba7f4f28ae956e81"}]}'
2025-02-11 15:12:33.478 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:33.478 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:33.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5942f8c51bf9a1c7084f234d2ce10583d017cb5a7d53f104ba7f4f28ae956e81"}]}'
2025-02-11 15:12:33.481 DEBUG [tests.store.test_get_messages] Running test with content topic /app/27/sometopic/someencoding
2025-02-11 15:12:33.481 DEBUG [src.steps.store] Relaying message
2025-02-11 15:12:33.482 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:12:33.487 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:12:33.487 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:12:33.688 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:33.688 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12880/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:33.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x56a9324d13a76d70d662716b6aa8f4b4d2e884fd2c022bb13fcec1e34ee96929"}]}'
2025-02-11 15:12:33.692 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:33.692 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:33.695 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x56a9324d13a76d70d662716b6aa8f4b4d2e884fd2c022bb13fcec1e34ee96929"}]}'
2025-02-11 15:12:33.696 DEBUG [tests.store.test_get_messages] Running test with content topic /app/29/sometopic/someencoding
2025-02-11 15:12:33.696 DEBUG [src.steps.store] Relaying message
2025-02-11 15:12:33.696 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:12:33.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:12:33.702 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:12:33.903 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:33.903 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12880/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:33.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9c19e785ce0de87b2a067fbc26cea169f79bf1a55fc6ffa0c292009148bbb6ac"}]}'
2025-02-11 15:12:33.907 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:33.907 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:33.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9c19e785ce0de87b2a067fbc26cea169f79bf1a55fc6ffa0c292009148bbb6ac"}]}'
2025-02-11 15:12:33.910 DEBUG [tests.store.test_get_messages] Running test with content topic /app/20/sometopic/someencoding
2025-02-11 15:12:33.911 DEBUG [src.steps.store] Relaying message
2025-02-11 15:12:33.911 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12880/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:12:33.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:12:33.917 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 15:12:34.118 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:34.118 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12880/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:34.121 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2ab0bb1db053bf5cd1864b8b38edc8795e2d9552661963db102a1d0a9b4d1150"}]}'
2025-02-11 15:12:34.122 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 15:12:34.122 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:12:34.125 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2ab0bb1db053bf5cd1864b8b38edc8795e2d9552661963db102a1d0a9b4d1150"}]}'
2025-02-11 15:12:34.127 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:12:34.128 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:12:34.128 DEBUG [src.node.waku_node] Stopping container with id bc382a25a092
2025-02-11 15:12:34.922 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:12:34.922 DEBUG [src.node.waku_node] Stopping container with id 1bc675428473
2025-02-11 15:12:35.734 ERROR [src.node.docker_mananger] Max retries reached for container bc382a25a092. Exiting log stream.
2025-02-11 15:12:36.419 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:12:36.420 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:12:36.429 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:12:36.435 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
