2025-02-11 15:03:50.774 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:03:50.775 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list0] with id: 2025-02-11_15-03-50__a7868b05-1567-45a1-ac7b-0649bac6aad6
2025-02-11 15:03:50.775 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:03:50.775 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 15:03:50.776 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 15:03:50.783 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:03:50.783 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-03-50__a7868b05-1567-45a1-ac7b-0649bac6aad6__wakuorg_nwaku:latest.log
2025-02-11 15:03:50.783 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:03:50.783 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:03:50.785 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:03:50.785 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.198.228
2025-02-11 15:03:50.785 DEBUG [src.node.docker_mananger] Generated ports ['25422', '25423', '25424', '25425', '25426']
2025-02-11 15:03:50.785 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:03:50.786 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:03:50.786 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:03:50.786 DEBUG [src.node.docker_mananger] docker run -i -t -p 25422:25422 -p 25423:25423 -p 25424:25424 -p 25425:25425 -p 25426:25426 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25424 --rest-port=25422 --tcp-port=25423 --discv5-udp-port=25425 --rest-address=0.0.0.0 --nat=extip:172.18.198.228 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=5a2dbbacd7cfcde7173eac6188fd47b7bbecfd80ffbc0d4715396acebe5f8b6c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25426 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-11 15:03:51.025 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.198.228 waku 90a2e4cce43fac201dbce2aa404ad7900147640d8e7f173c8448c552a5d609cd
2025-02-11 15:03:51.084 DEBUG [src.node.docker_mananger] Container started with ID 90a2e4cce43f. Setting up logs at ./log/docker/node1_2025-02-11_15-03-50__a7868b05-1567-45a1-ac7b-0649bac6aad6__wakuorg_nwaku:latest.log
2025-02-11 15:03:51.086 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 25422
2025-02-11 15:03:51.086 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:03:51.581 ERROR [src.node.docker_mananger] Max retries reached for container 1ce5196f06ff. Exiting log stream.
2025-02-11 15:03:52.086 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.090 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:03:52.090 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:03:52.090 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:52.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.198.228/tcp/25423/p2p/16Uiu2HAmT2xMJ5jV174sSKfWawTqgYHm58eB6urfW9m78ehE5ppr","/ip4/172.18.198.228/tcp/25424/ws/p2p/16Uiu2HAmT2xMJ5jV174sSKfWawTqgYHm58eB6urfW9m78ehE5ppr"],"enrUri":"enr:-L24QJDT7rjKWlOLgtNNknUFYNmmQfZjboESYpgMt9CsWjSkVBUVmwI5yRLUmSWyni0LD1wO6yKLKSw4b_UUXmcXQJ8CgmlkgnY0gmlwhKwSxuSKbXVsdGlhZGRyc5YACASsEsbkBmNPAAoErBLG5AZjUN0DgnJzhQACAQAAiXNlY3AyNTZrMaED1aQiKu9RTzlxBsfZGG2Ba9K4iUnLk-OegreUissmnqODdGNwgmNPg3VkcIJjUYV3YWt1MgU"}'
2025-02-11 15:03:52.092 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:03:52.100 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:03:52.100 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-03-50__a7868b05-1567-45a1-ac7b-0649bac6aad6__wakuorg_nwaku:latest.log
2025-02-11 15:03:52.100 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:03:52.100 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:03:52.101 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:03:52.102 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.33.240
2025-02-11 15:03:52.102 DEBUG [src.node.docker_mananger] Generated ports ['32182', '32183', '32184', '32185', '32186']
2025-02-11 15:03:52.102 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:03:52.102 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:03:52.102 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:03:52.102 DEBUG [src.node.docker_mananger] docker run -i -t -p 32182:32182 -p 32183:32183 -p 32184:32184 -p 32185:32185 -p 32186:32186 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32184 --rest-port=32182 --tcp-port=32183 --discv5-udp-port=32185 --rest-address=0.0.0.0 --nat=extip:172.18.33.240 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=39afb9bdee228ea1ee5c26d7844f38a3ccd2b68554b1513fc0c55f9ce3c7bce4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32186 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJDT7rjKWlOLgtNNknUFYNmmQfZjboESYpgMt9CsWjSkVBUVmwI5yRLUmSWyni0LD1wO6yKLKSw4b_UUXmcXQJ8CgmlkgnY0gmlwhKwSxuSKbXVsdGlhZGRyc5YACASsEsbkBmNPAAoErBLG5AZjUN0DgnJzhQACAQAAiXNlY3AyNTZrMaED1aQiKu9RTzlxBsfZGG2Ba9K4iUnLk-OegreUissmnqODdGNwgmNPg3VkcIJjUYV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-11 15:03:52.329 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.33.240 waku 579e562de6c9d667a005a3317699aee51d32e2acbb85769aacfd9d0868d34419
2025-02-11 15:03:52.385 DEBUG [src.node.docker_mananger] Container started with ID 579e562de6c9. Setting up logs at ./log/docker/node2_2025-02-11_15-03-50__a7868b05-1567-45a1-ac7b-0649bac6aad6__wakuorg_nwaku:latest.log
2025-02-11 15:03:52.385 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 32182
2025-02-11 15:03:52.385 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:03:53.387 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:03:53.393 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:03:53.393 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.240/tcp/32183/p2p/16Uiu2HAm4NpcNnzk3NMGP1fLogYounHifohUMXxdMenqHtJCT4D9","/ip4/172.18.33.240/tcp/32184/ws/p2p/16Uiu2HAm4NpcNnzk3NMGP1fLogYounHifohUMXxdMenqHtJCT4D9"],"enrUri":"enr:-L24QNpb6s5yDQE9KLKTRq1F_YuaN4eOS371pzDPSGrIuxyvE15-I4ZDn88tuRuX5iUngnJPUntUp_wTBfPagZbW2ZUCgmlkgnY0gmlwhKwSIfCKbXVsdGlhZGRyc5YACASsEiHwBn23AAoErBIh8AZ9uN0DgnJzhQACAQAAiXNlY3AyNTZrMaEChP4y32N4kXs78NxxPsw_xlO305CkGTCfUBnUaGnVbkyDdGNwgn23g3VkcIJ9uYV3YWt1MgE"}'
2025-02-11 15:03:53.396 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:03:53.396 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32182/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.198.228/tcp/25423/p2p/16Uiu2HAmT2xMJ5jV174sSKfWawTqgYHm58eB6urfW9m78ehE5ppr"]'
2025-02-11 15:03:53.399 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:53.399 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-11 15:03:53.407 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:53.407 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32182/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-11 15:03:53.419 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:53.422 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:53.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:53.430 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:53.531 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.531 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739286233422274304,"ephemeral":false}]'
2025-02-11 15:03:53.536 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.536 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739286233422274304,"ephemeral":false}]'
2025-02-11 15:03:53.540 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:53.546 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:53.547 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:53.647 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.648 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.650 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739286233540799232,"ephemeral":false}]'
2025-02-11 15:03:53.652 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.652 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739286233540799232,"ephemeral":false}]'
2025-02-11 15:03:53.657 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:53.662 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:53.663 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:53.764 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.764 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739286233656891136,"ephemeral":false}]'
2025-02-11 15:03:53.769 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.769 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739286233656891136,"ephemeral":false}]'
2025-02-11 15:03:53.773 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:53.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:53.779 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:53.879 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.880 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739286233773092096,"ephemeral":false}]'
2025-02-11 15:03:53.884 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.884 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.887 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739286233773092096,"ephemeral":false}]'
2025-02-11 15:03:53.888 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:53.893 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:53.893 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:53.993 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.994 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:53.997 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739286233888515328,"ephemeral":false}]'
2025-02-11 15:03:53.998 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:53.999 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.001 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739286233888515328,"ephemeral":false}]'
2025-02-11 15:03:54.003 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:54.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:54.008 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:54.109 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739286234002892544,"ephemeral":false}]'
2025-02-11 15:03:54.113 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.114 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.116 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739286234002892544,"ephemeral":false}]'
2025-02-11 15:03:54.118 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:54.123 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:54.123 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:54.224 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.225 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.228 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739286234118336256,"ephemeral":false}]'
2025-02-11 15:03:54.229 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.229 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.232 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739286234118336256,"ephemeral":false}]'
2025-02-11 15:03:54.233 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:54.238 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:54.239 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:54.340 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.341 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739286234233615360,"ephemeral":false}]'
2025-02-11 15:03:54.346 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.346 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739286234233615360,"ephemeral":false}]'
2025-02-11 15:03:54.350 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:25422/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-11 15:03:54.356 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:54.356 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:32182/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-11 15:03:54.361 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:54.362 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:54.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:54.365 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:54.465 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.465 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.468 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf. Response content: b'/newsService/1.0/weekly/protobuf'
2025-02-11 15:03:54.470 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:54.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:54.473 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:54.573 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.574 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.577 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml. Response content: b'/newsService/1.0/alerts/xml'
2025-02-11 15:03:54.578 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:54.581 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:54.581 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:54.682 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.682 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.685 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson. Response content: b'/newsService/1.0/updates/json'
2025-02-11 15:03:54.687 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:54.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:54.692 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:54.793 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.796 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739286234686895360,"ephemeral":false}]'
2025-02-11 15:03:54.797 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.797 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739286234686895360,"ephemeral":false}]'
2025-02-11 15:03:54.801 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:54.806 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:54.806 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:54.907 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.908 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739286234801605632,"ephemeral":false}]'
2025-02-11 15:03:54.912 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:54.912 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:54.914 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739286234801605632,"ephemeral":false}]'
2025-02-11 15:03:54.916 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:54.921 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:54.921 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:55.022 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:55.023 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:55.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739286234916541952,"ephemeral":false}]'
2025-02-11 15:03:55.027 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:55.027 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:55.030 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739286234916541952,"ephemeral":false}]'
2025-02-11 15:03:55.031 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:55.036 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:55.037 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:55.137 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:55.138 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:55.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739286235031519744,"ephemeral":false}]'
2025-02-11 15:03:55.142 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:55.142 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:55.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739286235031519744,"ephemeral":false}]'
2025-02-11 15:03:55.147 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:03:55.152 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:55.153 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:03:55.253 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:55.254 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25422/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:55.257 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739286235147059456,"ephemeral":false}]'
2025-02-11 15:03:55.258 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:03:55.258 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32182/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:55.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739286235147059456,"ephemeral":false}]'
2025-02-11 15:03:55.264 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:03:55.266 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:03:55.266 DEBUG [src.node.waku_node] Stopping container with id 90a2e4cce43f
2025-02-11 15:03:56.577 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:03:56.577 DEBUG [src.node.waku_node] Stopping container with id 579e562de6c9
2025-02-11 15:03:57.391 ERROR [src.node.docker_mananger] Max retries reached for container 90a2e4cce43f. Exiting log stream.
2025-02-11 15:03:57.776 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:03:57.777 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:03:57.788 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:03:57.797 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
