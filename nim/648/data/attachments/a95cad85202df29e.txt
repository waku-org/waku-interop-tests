2025-02-11 15:03:43.076 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:03:43.076 DEBUG [tests.conftest] Running test: test_filter_ping_without_request_id with id: 2025-02-11_15-03-43__50745dd0-e88b-40e2-9138-a1108132f9d1
2025-02-11 15:03:43.076 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:03:43.077 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-11 15:03:43.077 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-11 15:03:43.083 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:03:43.083 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-03-43__50745dd0-e88b-40e2-9138-a1108132f9d1__wakuorg_nwaku:latest.log
2025-02-11 15:03:43.083 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:03:43.084 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:03:43.085 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:03:43.085 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.43.62
2025-02-11 15:03:43.085 DEBUG [src.node.docker_mananger] Generated ports ['29533', '29534', '29535', '29536', '29537']
2025-02-11 15:03:43.085 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:03:43.086 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:03:43.086 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:03:43.086 DEBUG [src.node.docker_mananger] docker run -i -t -p 29533:29533 -p 29534:29534 -p 29535:29535 -p 29536:29536 -p 29537:29537 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29535 --rest-port=29533 --tcp-port=29534 --discv5-udp-port=29536 --rest-address=0.0.0.0 --nat=extip:172.18.43.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebb1f8f9de2dca5ce47b4cf908be041dacae1de4b06f7c4e4f4703a4fdaa35a6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29537 --metrics-logging=true --relay=true --filter=true
2025-02-11 15:03:43.309 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.43.62 waku fc6bdaff5bed356f9352f078b524209d35a55b5c51d65f358c84a2429995d95d
2025-02-11 15:03:43.357 DEBUG [src.node.docker_mananger] Container started with ID fc6bdaff5bed. Setting up logs at ./log/docker/node1_2025-02-11_15-03-43__50745dd0-e88b-40e2-9138-a1108132f9d1__wakuorg_nwaku:latest.log
2025-02-11 15:03:43.358 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29533
2025-02-11 15:03:43.358 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:03:43.873 ERROR [src.node.docker_mananger] Max retries reached for container 419c07d4f08e. Exiting log stream.
2025-02-11 15:03:44.358 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29533/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:44.361 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:03:44.362 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:03:44.362 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29533/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:44.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.43.62/tcp/29534/p2p/16Uiu2HAm5VgLRE8KqKeaJSF9Haemk93KPnfTuuNJrA9ssgwLALwd","/ip4/172.18.43.62/tcp/29535/ws/p2p/16Uiu2HAm5VgLRE8KqKeaJSF9Haemk93KPnfTuuNJrA9ssgwLALwd"],"enrUri":"enr:-L24QJ7NN_6bf6tfZB3RRv3jap-XakIfH9lADxZtvDGX_kf0NVBLmTEaGAxuCXBRzyggaiDBO4WuSe_MkHAT64e1-4kCgmlkgnY0gmlwhKwSKz6KbXVsdGlhZGRyc5YACASsEis-BnNeAAoErBIrPgZzX90DgnJzhQADAQAAiXNlY3AyNTZrMaEClZuYNoOSC9WYf9W_XmsMlLwa_1knpGXJhEFtpNZU-CSDdGNwgnNeg3VkcIJzYIV3YWt1MgU"}'
2025-02-11 15:03:44.364 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:03:44.365 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-11 15:03:44.371 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:03:44.371 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-03-43__50745dd0-e88b-40e2-9138-a1108132f9d1__wakuorg_nwaku:latest.log
2025-02-11 15:03:44.371 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:03:44.371 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:03:44.373 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:03:44.373 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.130.151
2025-02-11 15:03:44.373 DEBUG [src.node.docker_mananger] Generated ports ['59320', '59321', '59322', '59323', '59324']
2025-02-11 15:03:44.373 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:03:44.373 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:03:44.373 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:03:44.374 DEBUG [src.node.docker_mananger] docker run -i -t -p 59320:59320 -p 59321:59321 -p 59322:59322 -p 59323:59323 -p 59324:59324 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59322 --rest-port=59320 --tcp-port=59321 --discv5-udp-port=59323 --rest-address=0.0.0.0 --nat=extip:172.18.130.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bd3da71fbe52f0cd8edfcfbdfcbca06bf9edaaadcba7f2e9acdc8d1c085885da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59324 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QJ7NN_6bf6tfZB3RRv3jap-XakIfH9lADxZtvDGX_kf0NVBLmTEaGAxuCXBRzyggaiDBO4WuSe_MkHAT64e1-4kCgmlkgnY0gmlwhKwSKz6KbXVsdGlhZGRyc5YACASsEis-BnNeAAoErBIrPgZzX90DgnJzhQADAQAAiXNlY3AyNTZrMaEClZuYNoOSC9WYf9W_XmsMlLwa_1knpGXJhEFtpNZU-CSDdGNwgnNeg3VkcIJzYIV3YWt1MgU --filternode=/ip4/172.18.43.62/tcp/29534/p2p/16Uiu2HAm5VgLRE8KqKeaJSF9Haemk93KPnfTuuNJrA9ssgwLALwd
2025-02-11 15:03:44.600 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.130.151 waku fb3cc49efc99aa9f203d611f747f8d290684d5ed9f510e76e721f45ced3a2204
2025-02-11 15:03:44.644 DEBUG [src.node.docker_mananger] Container started with ID fb3cc49efc99. Setting up logs at ./log/docker/node2_2025-02-11_15-03-43__50745dd0-e88b-40e2-9138-a1108132f9d1__wakuorg_nwaku:latest.log
2025-02-11 15:03:44.645 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 59320
2025-02-11 15:03:44.645 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:03:45.645 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59320/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:45.649 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:03:45.649 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:03:45.649 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59320/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:45.651 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.130.151/tcp/59321/p2p/16Uiu2HAkyJfg6UBChRjUqvuA4FXtqojJwy8ra7b4zVvbFAQSeSDx","/ip4/172.18.130.151/tcp/59322/ws/p2p/16Uiu2HAkyJfg6UBChRjUqvuA4FXtqojJwy8ra7b4zVvbFAQSeSDx"],"enrUri":"enr:-L24QD-5VkUcj9Ij27QhnG4MYZiCkIvfeWvkyY3N8EOxA-3jbW6GgwT3BOsWLQYOJb07j1dsp1XyDz78eQNWsw2qOOwCgmlkgnY0gmlwhKwSgpeKbXVsdGlhZGRyc5YACASsEoKXBue5AAoErBKClwbnut0DgnJzhQADAQAAiXNlY3AyNTZrMaECOaNWRn-_6M4EJqkRBxXDhDbQOiih5zwRmKppcpG2wmuDdGNwgue5g3VkcILnu4V3YWt1MgA"}'
2025-02-11 15:03:45.652 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:03:45.652 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59320/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.43.62/tcp/29534/p2p/16Uiu2HAm5VgLRE8KqKeaJSF9Haemk93KPnfTuuNJrA9ssgwLALwd"]'
2025-02-11 15:03:45.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:45.690 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-11 15:03:45.691 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29533/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 15:03:45.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:03:45.709 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59320/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9058305d-3369-4afb-90f3-c94733a8593a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-11 15:03:45.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"9058305d-3369-4afb-90f3-c94733a8593a","statusDesc":"OK"}'
2025-02-11 15:03:45.722 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59320/filter/v2/subscriptions/" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:03:45.730 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusDesc":"OK"}'
2025-02-11 15:03:45.732 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:03:45.732 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:03:45.733 DEBUG [src.node.waku_node] Stopping container with id fc6bdaff5bed
2025-02-11 15:03:46.818 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:03:46.818 DEBUG [src.node.waku_node] Stopping container with id fb3cc49efc99
2025-02-11 15:03:47.631 ERROR [src.node.docker_mananger] Max retries reached for container fc6bdaff5bed. Exiting log stream.
2025-02-11 15:03:48.319 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:03:48.321 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:03:48.325 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:03:48.329 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
