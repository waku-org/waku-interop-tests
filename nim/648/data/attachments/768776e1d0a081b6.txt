2025-02-11 15:07:00.131 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 15:07:00.131 DEBUG [tests.conftest] Running test: test_publish_with_valid_timestamps with id: 2025-02-11_15-07-00__edafe26f-46ef-40f7-a282-00aa3c7ff1c0
2025-02-11 15:07:00.132 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 15:07:00.132 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 15:07:00.132 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-11 15:07:00.139 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:07:00.139 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_15-07-00__edafe26f-46ef-40f7-a282-00aa3c7ff1c0__wakuorg_nwaku:latest.log
2025-02-11 15:07:00.139 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:07:00.139 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:07:00.141 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:07:00.141 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.182.103
2025-02-11 15:07:00.141 DEBUG [src.node.docker_mananger] Generated ports ['4268', '4269', '4270', '4271', '4272']
2025-02-11 15:07:00.141 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:07:00.141 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:07:00.142 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:07:00.142 DEBUG [src.node.docker_mananger] docker run -i -t -p 4268:4268 -p 4269:4269 -p 4270:4270 -p 4271:4271 -p 4272:4272 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4270 --rest-port=4268 --tcp-port=4269 --discv5-udp-port=4271 --rest-address=0.0.0.0 --nat=extip:172.18.182.103 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3bce14fa709b2fabbca967d08ebd43ff3dadd0edbc2a4c57dc5bc5cbba264be7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4272 --metrics-logging=true --relay=true
2025-02-11 15:07:00.381 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.182.103 waku 91f681e4969c8c41af6c7da7f1f8a893d9bee89aede7acc6da308318b57b2f9a
2025-02-11 15:07:00.431 DEBUG [src.node.docker_mananger] Container started with ID 91f681e4969c. Setting up logs at ./log/docker/node1_2025-02-11_15-07-00__edafe26f-46ef-40f7-a282-00aa3c7ff1c0__wakuorg_nwaku:latest.log
2025-02-11 15:07:00.431 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4268
2025-02-11 15:07:00.432 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:07:00.877 ERROR [src.node.docker_mananger] Max retries reached for container daef7152b703. Exiting log stream.
2025-02-11 15:07:01.433 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4268/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:01.436 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:07:01.436 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:07:01.436 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4268/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:01.438 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.103/tcp/4269/p2p/16Uiu2HAmTjbWDisxcMK5pEXik7xrjiKS27LebpeuGupSnwcK3N8J","/ip4/172.18.182.103/tcp/4270/ws/p2p/16Uiu2HAmTjbWDisxcMK5pEXik7xrjiKS27LebpeuGupSnwcK3N8J"],"enrUri":"enr:-L24QLdugw-WD12HOsIIJAPT9r7WYmDBbG3bICsehbSK6VH7PA2oWbTeWEzO24DZKXxD7vqp6qouc8k9iLZOh6dlPCkCgmlkgnY0gmlwhKwStmeKbXVsdGlhZGRyc5YACASsErZnBhCtAAoErBK2ZwYQrt0DgnJzhQADAQAAiXNlY3AyNTZrMaED4A1gN-HLrDjnl7rJTuPdeDcIUbhO15y2GLmNAxdHeuuDdGNwghCtg3VkcIIQr4V3YWt1MgE"}'
2025-02-11 15:07:01.438 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:07:01.445 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 15:07:01.445 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_15-07-00__edafe26f-46ef-40f7-a282-00aa3c7ff1c0__wakuorg_nwaku:latest.log
2025-02-11 15:07:01.445 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 15:07:01.445 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 15:07:01.446 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 15:07:01.446 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.87.62
2025-02-11 15:07:01.447 DEBUG [src.node.docker_mananger] Generated ports ['37471', '37472', '37473', '37474', '37475']
2025-02-11 15:07:01.447 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 15:07:01.447 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 15:07:01.447 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 15:07:01.447 DEBUG [src.node.docker_mananger] docker run -i -t -p 37471:37471 -p 37472:37472 -p 37473:37473 -p 37474:37474 -p 37475:37475 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37473 --rest-port=37471 --tcp-port=37472 --discv5-udp-port=37474 --rest-address=0.0.0.0 --nat=extip:172.18.87.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcb598c95ab962c1355fa30e1f5948ffde9ace0f6340b4a8e28618197b6ab549 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37475 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLdugw-WD12HOsIIJAPT9r7WYmDBbG3bICsehbSK6VH7PA2oWbTeWEzO24DZKXxD7vqp6qouc8k9iLZOh6dlPCkCgmlkgnY0gmlwhKwStmeKbXVsdGlhZGRyc5YACASsErZnBhCtAAoErBK2ZwYQrt0DgnJzhQADAQAAiXNlY3AyNTZrMaED4A1gN-HLrDjnl7rJTuPdeDcIUbhO15y2GLmNAxdHeuuDdGNwghCtg3VkcIIQr4V3YWt1MgE
2025-02-11 15:07:01.677 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.87.62 waku b19be943894725cc3a4f328591f3c0a0987eaf64622104ccc134f8fbe685d478
2025-02-11 15:07:01.726 DEBUG [src.node.docker_mananger] Container started with ID b19be9438947. Setting up logs at ./log/docker/node2_2025-02-11_15-07-00__edafe26f-46ef-40f7-a282-00aa3c7ff1c0__wakuorg_nwaku:latest.log
2025-02-11 15:07:01.727 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 37471
2025-02-11 15:07:01.727 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 15:07:02.727 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37471/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:02.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 15:07:02.736 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 15:07:02.736 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37471/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:02.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.87.62/tcp/37472/p2p/16Uiu2HAmVTP556fpp3zAVVJeCeZ6jkrWWbNnBPw6PVAJXQCFE5hB","/ip4/172.18.87.62/tcp/37473/ws/p2p/16Uiu2HAmVTP556fpp3zAVVJeCeZ6jkrWWbNnBPw6PVAJXQCFE5hB"],"enrUri":"enr:-L24QMTHWZfW--yDSNYmWf0SzgPGRni1NZ5z40jun_IU7a2VRaMOLtlyxi53wgSzU3u1lLgu1rjGojH0aByjAD-0u7kCgmlkgnY0gmlwhKwSVz6KbXVsdGlhZGRyc5YACASsElc-BpJgAAoErBJXPgaSYd0DgnJzhQADAQAAiXNlY3AyNTZrMaED-Z1l5lYqwTyx4lMnf4EGe8-Wjko9lyTvzrIlp4pCDDKDdGNwgpJgg3VkcIKSYoV3YWt1MgE"}'
2025-02-11 15:07:02.745 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 15:07:02.746 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37471/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.103/tcp/4269/p2p/16Uiu2HAmTjbWDisxcMK5pEXik7xrjiKS27LebpeuGupSnwcK3N8J"]'
2025-02-11 15:07:02.751 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:02.752 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-11 15:07:02.752 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4268/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 15:07:02.756 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:02.757 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37471/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 15:07:02.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:02.763 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:02.769 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:02.769 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:02.869 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:02.870 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:02.873 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286422763592192,"ephemeral":false}]'
2025-02-11 15:07:02.874 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:02.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:02.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286422763592192,"ephemeral":false}]'
2025-02-11 15:07:02.878 INFO [src.steps.relay] WARM UP successful!!
2025-02-11 15:07:02.879 DEBUG [tests.relay.test_publish] Running test with timestamp Now
2025-02-11 15:07:02.880 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:02.884 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:02.885 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:02.986 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:02.986 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:02.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286249041738240,"ephemeral":false}]'
2025-02-11 15:07:02.990 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:02.990 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:02.993 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739286249041738240,"ephemeral":false}]'
2025-02-11 15:07:02.994 DEBUG [tests.relay.test_publish] Running test with timestamp Far future
2025-02-11 15:07:02.995 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:03.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:03.004 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:03.105 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.105 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054646249041723904,"ephemeral":false}]'
2025-02-11 15:07:03.109 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.110 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054646249041723904,"ephemeral":false}]'
2025-02-11 15:07:03.113 DEBUG [tests.relay.test_publish] Running test with timestamp Recent past
2025-02-11 15:07:03.114 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:03.118 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:03.119 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:03.220 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.220 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739282649041723904,"ephemeral":false}]'
2025-02-11 15:07:03.224 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.224 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739282649041723904,"ephemeral":false}]'
2025-02-11 15:07:03.228 DEBUG [tests.relay.test_publish] Running test with timestamp Near future
2025-02-11 15:07:03.228 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:03.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:03.233 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:03.334 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.334 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739289849041723904,"ephemeral":false}]'
2025-02-11 15:07:03.339 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.339 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739289849041723904,"ephemeral":false}]'
2025-02-11 15:07:03.342 DEBUG [tests.relay.test_publish] Running test with timestamp Positive number
2025-02-11 15:07:03.343 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:03.347 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:03.348 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:03.448 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.449 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.451 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-11 15:07:03.453 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.453 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.455 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-11 15:07:03.456 DEBUG [tests.relay.test_publish] Running test with timestamp Negative number
2025-02-11 15:07:03.457 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:03.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:03.462 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:03.563 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.563 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.566 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-11 15:07:03.567 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.567 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-11 15:07:03.571 DEBUG [tests.relay.test_publish] Running test with timestamp DST change
2025-02-11 15:07:03.571 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 15:07:03.577 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 15:07:03.577 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 15:07:03.677 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.677 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.680 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-11 15:07:03.682 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 15:07:03.682 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 15:07:03.684 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-11 15:07:03.688 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 15:07:03.689 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 15:07:03.690 DEBUG [src.node.waku_node] Stopping container with id 91f681e4969c
2025-02-11 15:07:04.944 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:07:04.944 DEBUG [src.node.waku_node] Stopping container with id b19be9438947
2025-02-11 15:07:05.756 ERROR [src.node.docker_mananger] Max retries reached for container 91f681e4969c. Exiting log stream.
2025-02-11 15:07:06.492 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:07:06.493 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:07:06.505 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:07:06.519 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
