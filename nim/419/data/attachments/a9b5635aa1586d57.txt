[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-04_04-13-56__e7680cf9-b1cc-4fd1-8459-0906a295b2de
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-04_04-13-56__e7680cf9-b1cc-4fd1-8459-0906a295b2de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.128.255
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9935', '9936', '9937', '9938', '9939']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9935:9935 -p 9936:9936 -p 9937:9937 -p 9938:9938 -p 9939:9939 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9937 --rest-port=9935 --tcp-port=9936 --discv5-udp-port=9938 --rest-address=0.0.0.0 --nat=extip:172.18.128.255 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdddc53ae6ae856beb0cedf7b4a4dcca776b965316a8fbbc16c8a459b25be0be --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9939 --metrics-logging=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5512e577e50d. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.128.255 waku e5fed41edcb600515ea67512d355d1295d17efe429400b40b099b6d0a8f40e47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e5fed41edcb6. Setting up logs at ./log/docker/node1_2024-11-04_04-13-56__e7680cf9-b1cc-4fd1-8459-0906a295b2de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9935
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9935/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9935/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.255/tcp/9936/p2p/16Uiu2HAmEnicNL4eUajLdj4EH5LfUNjupSos6nZvnzMR5umzoBPY","/ip4/172.18.128.255/tcp/9937/ws/p2p/16Uiu2HAmEnicNL4eUajLdj4EH5LfUNjupSos6nZvnzMR5umzoBPY"],"enrUri":"enr:-L24QInyFub48zEOuLuKfYi-VxTQCmr53fuUqnGfpYlXtDXqXGOYVdmvhsKLsmWewuHws1Vs2OmLNVC8FPCEKth2sYgCgmlkgnY0gmlwhKwSgP-KbXVsdGlhZGRyc5YACASsEoD_BibQAAoErBKA_wYm0d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDH7I5GCaB8qjjUPJPZolx48zFgWZJndZ548lIH0Qz5sODdGNwgibQg3VkcIIm0oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-04_04-13-56__e7680cf9-b1cc-4fd1-8459-0906a295b2de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.75.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20163', '20164', '20165', '20166', '20167']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20163:20163 -p 20164:20164 -p 20165:20165 -p 20166:20166 -p 20167:20167 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20165 --rest-port=20163 --tcp-port=20164 --discv5-udp-port=20166 --rest-address=0.0.0.0 --nat=extip:172.18.75.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2df1d5ed6afbfca3b43b12901df674ba91fe5ccbc1bb802dcfc30d1f6b0ed2a1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20167 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QInyFub48zEOuLuKfYi-VxTQCmr53fuUqnGfpYlXtDXqXGOYVdmvhsKLsmWewuHws1Vs2OmLNVC8FPCEKth2sYgCgmlkgnY0gmlwhKwSgP-KbXVsdGlhZGRyc5YACASsEoD_BibQAAoErBKA_wYm0d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDH7I5GCaB8qjjUPJPZolx48zFgWZJndZ548lIH0Qz5sODdGNwgibQg3VkcIIm0oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.75.124 waku 50366a5bb2e70fb3261014704854ee660f1d5e2c52792890ea46d793ac1ad7ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 50366a5bb2e7. Setting up logs at ./log/docker/node2_2024-11-04_04-13-56__e7680cf9-b1cc-4fd1-8459-0906a295b2de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20163
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20163/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20163/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.124/tcp/20164/p2p/16Uiu2HAmRbUXb2TrAzMm4s2UeK6KVZ9dke4hMeS6Kgy41uHSKS8b","/ip4/172.18.75.124/tcp/20165/ws/p2p/16Uiu2HAmRbUXb2TrAzMm4s2UeK6KVZ9dke4hMeS6Kgy41uHSKS8b"],"enrUri":"enr:-L24QDOL_fs9HW6krsbT6y79yQj9iqtA0xU2aSuxX3GxU2vOP0yK3MJL6OmAlixZgmA-rBvwnNYHM32LtotcwUmuHW8CgmlkgnY0gmlwhKwSS3yKbXVsdGlhZGRyc5YACASsEkt8Bk7EAAoErBJLfAZOxd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDwEF3ni8GMQIzLQ96Q0LSatTJp_GPUcbQte3OZG5zdZyDdGNwgk7Eg3VkcIJOxoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20163/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.255/tcp/9936/p2p/16Uiu2HAmEnicNL4eUajLdj4EH5LfUNjupSos6nZvnzMR5umzoBPY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-04_04-13-56__e7680cf9-b1cc-4fd1-8459-0906a295b2de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.106.238
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6464', '6465', '6466', '6467', '6468']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6464:6464 -p 6465:6465 -p 6466:6466 -p 6467:6467 -p 6468:6468 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6466 --rest-port=6464 --tcp-port=6465 --discv5-udp-port=6467 --rest-address=0.0.0.0 --nat=extip:172.18.106.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd4c5cbdf6c7ea6bf2c59d42da27d1e3b6af8411c40d225c1d24620c9f2ca3aa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6468 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QInyFub48zEOuLuKfYi-VxTQCmr53fuUqnGfpYlXtDXqXGOYVdmvhsKLsmWewuHws1Vs2OmLNVC8FPCEKth2sYgCgmlkgnY0gmlwhKwSgP-KbXVsdGlhZGRyc5YACASsEoD_BibQAAoErBKA_wYm0d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDH7I5GCaB8qjjUPJPZolx48zFgWZJndZ548lIH0Qz5sODdGNwgibQg3VkcIIm0oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.106.238 waku a4479bb1f3a029d1e129be20fdb3ad7d7069385867082a0ac22538d36af31286
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a4479bb1f3a0. Setting up logs at ./log/docker/node3_2024-11-04_04-13-56__e7680cf9-b1cc-4fd1-8459-0906a295b2de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6464
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6464/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6464/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.106.238/tcp/6465/p2p/16Uiu2HAmBS92ub8BSvrP6NqjWvauEQeMt7jwVAukwwaAQXFq6yoS","/ip4/172.18.106.238/tcp/6466/ws/p2p/16Uiu2HAmBS92ub8BSvrP6NqjWvauEQeMt7jwVAukwwaAQXFq6yoS"],"enrUri":"enr:-L24QK7XcrVGEF6k6ZW9PwSCer2bPjXRoREwBmiMktsvs0w9KntbKJ5dGqa5HVfSzCEOJ8z_TsD9eMATFCZVokm9Ee8CgmlkgnY0gmlwhKwSau6KbXVsdGlhZGRyc5YACASsEmruBhlBAAoErBJq7gYZQt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7dmUnVlQw31xI1iY1_1koii2MqHKQGl9MirkHxBR1u2DdGNwghlBg3VkcIIZQ4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6464/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.255/tcp/9936/p2p/16Uiu2HAmEnicNL4eUajLdj4EH5LfUNjupSos6nZvnzMR5umzoBPY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-04_04-13-56__e7680cf9-b1cc-4fd1-8459-0906a295b2de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.229.23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60412', '60413', '60414', '60415', '60416']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60412:60412 -p 60413:60413 -p 60414:60414 -p 60415:60415 -p 60416:60416 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60414 --rest-port=60412 --tcp-port=60413 --discv5-udp-port=60415 --rest-address=0.0.0.0 --nat=extip:172.18.229.23 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dd86fb1f9aaefb9ef3b451d8e8dedcc40db7c6083c0c59fef06fab5ebfa5ca92 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60416 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QInyFub48zEOuLuKfYi-VxTQCmr53fuUqnGfpYlXtDXqXGOYVdmvhsKLsmWewuHws1Vs2OmLNVC8FPCEKth2sYgCgmlkgnY0gmlwhKwSgP-KbXVsdGlhZGRyc5YACASsEoD_BibQAAoErBKA_wYm0d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDH7I5GCaB8qjjUPJPZolx48zFgWZJndZ548lIH0Qz5sODdGNwgibQg3VkcIIm0oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.229.23 waku 291fda55ab90affd28359e3f35d9ab88f66617732dfdfccbbf7d230796904947
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 291fda55ab90. Setting up logs at ./log/docker/node4_2024-11-04_04-13-56__e7680cf9-b1cc-4fd1-8459-0906a295b2de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60412
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60412/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60412/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.229.23/tcp/60413/p2p/16Uiu2HAm2UgUMBipnjr44fsikTN5rEFZi6eLjGTxvbWDAsAR4qbP","/ip4/172.18.229.23/tcp/60414/ws/p2p/16Uiu2HAm2UgUMBipnjr44fsikTN5rEFZi6eLjGTxvbWDAsAR4qbP"],"enrUri":"enr:-L24QI-PXuy--y73RJrXw18i8zusWcIKcUlfS3wLN4AQjchpVLeZ14-Ef6n6pGBmobiAzVLNtwnM-VlRJ13WmYH6wrYCgmlkgnY0gmlwhKwS5ReKbXVsdGlhZGRyc5YACASsEuUXBuv9AAoErBLlFwbr_t0DgnJzhQADAQAAiXNlY3AyNTZrMaECaMcbi05N5dtzwrdeOBVmDgGLMDmc18_Icw5iF7TQ3iKDdGNwguv9g3VkcILr_4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60412/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.255/tcp/9936/p2p/16Uiu2HAmEnicNL4eUajLdj4EH5LfUNjupSos6nZvnzMR5umzoBPY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-04_04-13-56__e7680cf9-b1cc-4fd1-8459-0906a295b2de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.135.163
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37412', '37413', '37414', '37415', '37416']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37412:37412 -p 37413:37413 -p 37414:37414 -p 37415:37415 -p 37416:37416 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37414 --rest-port=37412 --tcp-port=37413 --discv5-udp-port=37415 --rest-address=0.0.0.0 --nat=extip:172.18.135.163 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=255a11d65fd6bbed5ebc5af576edfeb72b2adcbf913aaad443debd95bc905b3e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37416 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QInyFub48zEOuLuKfYi-VxTQCmr53fuUqnGfpYlXtDXqXGOYVdmvhsKLsmWewuHws1Vs2OmLNVC8FPCEKth2sYgCgmlkgnY0gmlwhKwSgP-KbXVsdGlhZGRyc5YACASsEoD_BibQAAoErBKA_wYm0d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDH7I5GCaB8qjjUPJPZolx48zFgWZJndZ548lIH0Qz5sODdGNwgibQg3VkcIIm0oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.135.163 waku e5ab74584146879ed1652d3ac1a697b7485a439826f52b65fcba1b737451834a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e5ab74584146. Setting up logs at ./log/docker/node5_2024-11-04_04-13-56__e7680cf9-b1cc-4fd1-8459-0906a295b2de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 37412
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37412/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37412/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.163/tcp/37413/p2p/16Uiu2HAmVpKAUfHnHGawuQWikYEAd1E5XyYa3h7Wh3vwwgYx19YX","/ip4/172.18.135.163/tcp/37414/ws/p2p/16Uiu2HAmVpKAUfHnHGawuQWikYEAd1E5XyYa3h7Wh3vwwgYx19YX"],"enrUri":"enr:-L24QNOeXXdzGfEHBOICWCPH-Qd4ytYo03bVXjp8vsMFQN3hA9SheEO3EX4sPiNMgOY3G22e5Rb5FZSMFRTMFLB-y2oCgmlkgnY0gmlwhKwSh6OKbXVsdGlhZGRyc5YACASsEoejBpIlAAoErBKHowaSJt0DgnJzhQADAQAAiXNlY3AyNTZrMaED_voteEK9JBZ-xPbav8j9t1hRU00Wck9FbUtaax6CN9SDdGNwgpIlg3VkcIKSJ4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37412/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.255/tcp/9936/p2p/16Uiu2HAmEnicNL4eUajLdj4EH5LfUNjupSos6nZvnzMR5umzoBPY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9935/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20163/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6464/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60412/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37412/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730693644329421568,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20163/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730693644329421568,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6464/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730693644329421568,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60412/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730693644329421568,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37412/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730693644329421568,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730693644470139904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20163/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730693644470139904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6464/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730693644470139904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60412/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730693644470139904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37412/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730693644470139904,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e5fed41edcb6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 50366a5bb2e7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e5fed41edcb6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a4479bb1f3a0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 50366a5bb2e7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 291fda55ab90
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a4479bb1f3a0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e5ab74584146
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 291fda55ab90. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.