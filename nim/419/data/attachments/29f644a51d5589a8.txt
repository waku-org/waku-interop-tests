[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_unsubscribe_with_invalid_pubsub_topic_format with id: 2024-11-04_04-16-42__c5b5255e-cccf-43d0-8bbe-f88adad7789e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-04_04-16-42__c5b5255e-cccf-43d0-8bbe-f88adad7789e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.170.215
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44236', '44237', '44238', '44239', '44240']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44236:44236 -p 44237:44237 -p 44238:44238 -p 44239:44239 -p 44240:44240 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44238 --rest-port=44236 --tcp-port=44237 --discv5-udp-port=44239 --rest-address=0.0.0.0 --nat=extip:172.18.170.215 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7eeccfb45d0c9fa6ecfa0c36a0bccf3c4071d4ca23a75ce53a7947c9dfc4d765 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44240 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.170.215 waku abc9cc0c7ae04797b59b5141d356b3f16b3452b89aece1682be4d6b44821701b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID abc9cc0c7ae0. Setting up logs at ./log/docker/node1_2024-11-04_04-16-42__c5b5255e-cccf-43d0-8bbe-f88adad7789e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44236
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b7c54fc9816c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44236/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44236/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.170.215/tcp/44237/p2p/16Uiu2HAkw9Y7ffykgwVntP4ac94N8bfvtzMdgSx81zHyNjgr2jkU","/ip4/172.18.170.215/tcp/44238/ws/p2p/16Uiu2HAkw9Y7ffykgwVntP4ac94N8bfvtzMdgSx81zHyNjgr2jkU"],"enrUri":"enr:-L24QH9WykqhPlBZTXpVg5PzRYKSb_siJoWFmFAkoF-8oRnUXNtLWe5V6Mf_7eipIc0kVV1JDImpFvQ6n7B73mbXpnkCgmlkgnY0gmlwhKwSqteKbXVsdGlhZGRyc5YACASsEqrXBqzNAAoErBKq1waszt0DgnJzhQADAQAAiXNlY3AyNTZrMaECGZUwVA4BNpWy8EbJshODPGOcCjaSb6NJq-DX79CSplmDdGNwgqzNg3VkcIKsz4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-04_04-16-42__c5b5255e-cccf-43d0-8bbe-f88adad7789e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.140.250
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9703', '9704', '9705', '9706', '9707']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9703:9703 -p 9704:9704 -p 9705:9705 -p 9706:9706 -p 9707:9707 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9705 --rest-port=9703 --tcp-port=9704 --discv5-udp-port=9706 --rest-address=0.0.0.0 --nat=extip:172.18.140.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d5acc35de4e1d2e92cb6b2f2af72fea9fefde8152742b1b9da3fbea5da985b6b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9707 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QH9WykqhPlBZTXpVg5PzRYKSb_siJoWFmFAkoF-8oRnUXNtLWe5V6Mf_7eipIc0kVV1JDImpFvQ6n7B73mbXpnkCgmlkgnY0gmlwhKwSqteKbXVsdGlhZGRyc5YACASsEqrXBqzNAAoErBKq1waszt0DgnJzhQADAQAAiXNlY3AyNTZrMaECGZUwVA4BNpWy8EbJshODPGOcCjaSb6NJq-DX79CSplmDdGNwgqzNg3VkcIKsz4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.140.250 waku 10a1ecc4edae69b19cc42b3f9b61ec8bfe5370b6f4cf03b2f06dccc8035abefc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 10a1ecc4edae. Setting up logs at ./log/docker/node2_2024-11-04_04-16-42__c5b5255e-cccf-43d0-8bbe-f88adad7789e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9703
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9703/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9703/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.140.250/tcp/9704/p2p/16Uiu2HAmF8AG74WVV4VMHg5AoAbnKwnWAD7ZWpXxoMsc76wuE5Zy","/ip4/172.18.140.250/tcp/9705/ws/p2p/16Uiu2HAmF8AG74WVV4VMHg5AoAbnKwnWAD7ZWpXxoMsc76wuE5Zy"],"enrUri":"enr:-L24QNGrF8m2du3z-XhuPkxHiWfV9-tuJq5ayDzn8TVohrIHVxK7hnR8E9PBe5IzO2v_AD2SMbFsauCyCRwbeQj8yWwCgmlkgnY0gmlwhKwSjPqKbXVsdGlhZGRyc5YACASsEoz6BiXoAAoErBKM-gYl6d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJK1C_DpHnWscSrA2__DjQMMbs-izNwW5skGmj2QvbFCDdGNwgiXog3VkcIIl6oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9703/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.170.215/tcp/44237/p2p/16Uiu2HAkw9Y7ffykgwVntP4ac94N8bfvtzMdgSx81zHyNjgr2jkU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /test/2/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:44236/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44236/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/3/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:44236/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44236/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/test/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:44236/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44236/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/3/b
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:44236/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44236/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:44236/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44236/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id abc9cc0c7ae0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 10a1ecc4edae
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container abc9cc0c7ae0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.