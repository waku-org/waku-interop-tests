[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-30_13-26-04__3590d1b0-b1e6-4752-b71d-3bc28cb6fd6c
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-30_13-26-04__3590d1b0-b1e6-4752-b71d-3bc28cb6fd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.101.79
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58990', '58991', '58992', '58993', '58994']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58990:58990 -p 58991:58991 -p 58992:58992 -p 58993:58993 -p 58994:58994 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58992 --rest-port=58990 --tcp-port=58991 --discv5-udp-port=58993 --rest-address=0.0.0.0 --nat=extip:172.18.101.79 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b74d7e052bbfd6274da2433db23b07ceada29ded407e0b4c3a069cdebebba8fa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58994 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.101.79 waku 9249402fa786b6838d016a4d70d6d3e7b456b22cba69e6cfe5534fc4ae7dcb04
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9249402fa786. Setting up logs at ./log/docker/node1_2024-12-30_13-26-04__3590d1b0-b1e6-4752-b71d-3bc28cb6fd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 58990
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 258406b7698f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58990/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58990/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.101.79/tcp/58991/p2p/16Uiu2HAkvHL4xkD7NTPnQLeASHf6NEbQwgSkUhMPyQCkZQHzajiJ","/ip4/172.18.101.79/tcp/58992/ws/p2p/16Uiu2HAkvHL4xkD7NTPnQLeASHf6NEbQwgSkUhMPyQCkZQHzajiJ"],"enrUri":"enr:-L24QEcEDckhKW8mgsIf2_aNXKxN_9LtakOmBo1CzH0-fRlFV9wabwnpm6I_0rVrrqVCd9fmA3CFghAXq-Ue3_ZIquUCgmlkgnY0gmlwhKwSZU-KbXVsdGlhZGRyc5YACASsEmVPBuZvAAoErBJlTwbmcN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDLiG8pwRx5SeGCgx9I_w1SeD-j365CMpW_y-mqI6N7uDdGNwguZvg3VkcILmcYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-30_13-26-04__3590d1b0-b1e6-4752-b71d-3bc28cb6fd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.244.165
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30040', '30041', '30042', '30043', '30044']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30040:30040 -p 30041:30041 -p 30042:30042 -p 30043:30043 -p 30044:30044 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30042 --rest-port=30040 --tcp-port=30041 --discv5-udp-port=30043 --rest-address=0.0.0.0 --nat=extip:172.18.244.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8b2c9b1cd28de49c1ac0ce1378b864f8c3afa49a04a15ff0bec4f7aa144dda1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30044 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEcEDckhKW8mgsIf2_aNXKxN_9LtakOmBo1CzH0-fRlFV9wabwnpm6I_0rVrrqVCd9fmA3CFghAXq-Ue3_ZIquUCgmlkgnY0gmlwhKwSZU-KbXVsdGlhZGRyc5YACASsEmVPBuZvAAoErBJlTwbmcN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDLiG8pwRx5SeGCgx9I_w1SeD-j365CMpW_y-mqI6N7uDdGNwguZvg3VkcILmcYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.244.165 waku 40d3f04f275dca12f18ddb44e7d02425ed1cd495e17c6fbfcc61174225979ec0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 40d3f04f275d. Setting up logs at ./log/docker/node2_2024-12-30_13-26-04__3590d1b0-b1e6-4752-b71d-3bc28cb6fd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30040
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30040/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30040/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.244.165/tcp/30041/p2p/16Uiu2HAm1bHF8BG7ReCryDczJLbh4EBUm2DgH2bRd9tc36NHyxva","/ip4/172.18.244.165/tcp/30042/ws/p2p/16Uiu2HAm1bHF8BG7ReCryDczJLbh4EBUm2DgH2bRd9tc36NHyxva"],"enrUri":"enr:-L24QFmaaG5WFYZVfHnaosadABrvD_uYPU02aGc3YROLy-IeejIbIjBgYkuC0tnXTY1_zF-4WvBlmzAB6y27XbsWfxYCgmlkgnY0gmlwhKwS9KWKbXVsdGlhZGRyc5YACASsEvSlBnVZAAoErBL0pQZ1Wt0DgnJzhQADAQAAiXNlY3AyNTZrMaECW5w463Znoe49G7-ZTj9Y3JNJMa1i4mepmUPWM1I48_-DdGNwgnVZg3VkcIJ1W4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30040/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.101.79/tcp/58991/p2p/16Uiu2HAkvHL4xkD7NTPnQLeASHf6NEbQwgSkUhMPyQCkZQHzajiJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-30_13-26-04__3590d1b0-b1e6-4752-b71d-3bc28cb6fd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.48.241
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5875', '5876', '5877', '5878', '5879']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5875:5875 -p 5876:5876 -p 5877:5877 -p 5878:5878 -p 5879:5879 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5877 --rest-port=5875 --tcp-port=5876 --discv5-udp-port=5878 --rest-address=0.0.0.0 --nat=extip:172.18.48.241 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f6eeb68ab87ab09318c6d4dfb5cb2c1edbf01e9651e4dc7bce2ea77d38f42f1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5879 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEcEDckhKW8mgsIf2_aNXKxN_9LtakOmBo1CzH0-fRlFV9wabwnpm6I_0rVrrqVCd9fmA3CFghAXq-Ue3_ZIquUCgmlkgnY0gmlwhKwSZU-KbXVsdGlhZGRyc5YACASsEmVPBuZvAAoErBJlTwbmcN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDLiG8pwRx5SeGCgx9I_w1SeD-j365CMpW_y-mqI6N7uDdGNwguZvg3VkcILmcYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.48.241 waku ba1bae0926ab7f25ced1f0ad20d71506eea35224a052adaee5cc89691913d37a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ba1bae0926ab. Setting up logs at ./log/docker/node3_2024-12-30_13-26-04__3590d1b0-b1e6-4752-b71d-3bc28cb6fd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 5875
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5875/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5875/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.48.241/tcp/5876/p2p/16Uiu2HAkyhvYjhvfEfT1rJKjsJPf1Yj657gPSao4qcovdcXtiVjh","/ip4/172.18.48.241/tcp/5877/ws/p2p/16Uiu2HAkyhvYjhvfEfT1rJKjsJPf1Yj657gPSao4qcovdcXtiVjh"],"enrUri":"enr:-L24QO3vTna32RKeU9D7f1OJ56P5eZXLIQysnjhC0GAOfgU6A0dpFx-bRcEoQuf_wiJbolN8qJx2ptLttUz2cKJVdN0CgmlkgnY0gmlwhKwSMPGKbXVsdGlhZGRyc5YACASsEjDxBhb0AAoErBIw8QYW9d0DgnJzhQADAQAAiXNlY3AyNTZrMaECP5iDQngCOwdXzP0somd9RGUBVR0yMwaxVffmQWe6XrSDdGNwghb0g3VkcIIW9oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5875/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.101.79/tcp/58991/p2p/16Uiu2HAkvHL4xkD7NTPnQLeASHf6NEbQwgSkUhMPyQCkZQHzajiJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-30_13-26-04__3590d1b0-b1e6-4752-b71d-3bc28cb6fd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.236.165
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11752', '11753', '11754', '11755', '11756']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11752:11752 -p 11753:11753 -p 11754:11754 -p 11755:11755 -p 11756:11756 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11754 --rest-port=11752 --tcp-port=11753 --discv5-udp-port=11755 --rest-address=0.0.0.0 --nat=extip:172.18.236.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cebdbefbd2db5bec4febcd30eafeafac9a05ddb6ae254215c4d3fd8b3cfcf7ba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11756 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEcEDckhKW8mgsIf2_aNXKxN_9LtakOmBo1CzH0-fRlFV9wabwnpm6I_0rVrrqVCd9fmA3CFghAXq-Ue3_ZIquUCgmlkgnY0gmlwhKwSZU-KbXVsdGlhZGRyc5YACASsEmVPBuZvAAoErBJlTwbmcN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDLiG8pwRx5SeGCgx9I_w1SeD-j365CMpW_y-mqI6N7uDdGNwguZvg3VkcILmcYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.236.165 waku 9c4208353a272e650ed8aa9f7a077830c32c8621d0b72e038902c1739656457c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9c4208353a27. Setting up logs at ./log/docker/node4_2024-12-30_13-26-04__3590d1b0-b1e6-4752-b71d-3bc28cb6fd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11752
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11752/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11752/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.236.165/tcp/11753/p2p/16Uiu2HAkvqDBP1QEmTLyhCjqjUE6USqh3RMUCqrAiYprmpS4KpLY","/ip4/172.18.236.165/tcp/11754/ws/p2p/16Uiu2HAkvqDBP1QEmTLyhCjqjUE6USqh3RMUCqrAiYprmpS4KpLY"],"enrUri":"enr:-L24QIFdvlIzNmQIFVfy48RpUz0_864R1uMpdvjiJlilQ0fOaCUxgWMXYlk0HRrjlbcaJp48qDcPAGwrHMedI3s--_QCgmlkgnY0gmlwhKwS7KWKbXVsdGlhZGRyc5YACASsEuylBi3pAAoErBLspQYt6t0DgnJzhQADAQAAiXNlY3AyNTZrMaECFONSvx_UsTTm-ANQmdfh1KY590Tiq8HX_ANcZMxjx2mDdGNwgi3pg3VkcIIt64V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11752/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.101.79/tcp/58991/p2p/16Uiu2HAkvHL4xkD7NTPnQLeASHf6NEbQwgSkUhMPyQCkZQHzajiJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-30_13-26-04__3590d1b0-b1e6-4752-b71d-3bc28cb6fd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.175.96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49725', '49726', '49727', '49728', '49729']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49725:49725 -p 49726:49726 -p 49727:49727 -p 49728:49728 -p 49729:49729 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49727 --rest-port=49725 --tcp-port=49726 --discv5-udp-port=49728 --rest-address=0.0.0.0 --nat=extip:172.18.175.96 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=29be5240dbd3b2b66ea6bcb609c4529dc0b9f3adcca9a81cd775b4fe0fb41bfe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49729 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEcEDckhKW8mgsIf2_aNXKxN_9LtakOmBo1CzH0-fRlFV9wabwnpm6I_0rVrrqVCd9fmA3CFghAXq-Ue3_ZIquUCgmlkgnY0gmlwhKwSZU-KbXVsdGlhZGRyc5YACASsEmVPBuZvAAoErBJlTwbmcN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDLiG8pwRx5SeGCgx9I_w1SeD-j365CMpW_y-mqI6N7uDdGNwguZvg3VkcILmcYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.175.96 waku bebcbe3a4f1a5a98a005aa262f22f478b980d822ec3672640cbc8985c012db0b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bebcbe3a4f1a. Setting up logs at ./log/docker/node5_2024-12-30_13-26-04__3590d1b0-b1e6-4752-b71d-3bc28cb6fd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 49725
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49725/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49725/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.175.96/tcp/49726/p2p/16Uiu2HAm3WHZeNFirsBuRoy58HEtfv857gureFDrPf1bAGyhpEYM","/ip4/172.18.175.96/tcp/49727/ws/p2p/16Uiu2HAm3WHZeNFirsBuRoy58HEtfv857gureFDrPf1bAGyhpEYM"],"enrUri":"enr:-L24QDQvO65-G0jrBq6lAlaiZiDWMhNTF6eDUxPFikx4QtgZPBaL4E_VYo0uCkKqs9xtGtGKSToFhBA-sJqfw07p5FYCgmlkgnY0gmlwhKwSr2CKbXVsdGlhZGRyc5YACASsEq9gBsI-AAoErBKvYAbCP90DgnJzhQADAQAAiXNlY3AyNTZrMaECeAwNnt_7805Wk4ObbV-PGoZVagvmwUM6m9isKGFdWwaDdGNwgsI-g3VkcILCQIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49725/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.101.79/tcp/58991/p2p/16Uiu2HAkvHL4xkD7NTPnQLeASHf6NEbQwgSkUhMPyQCkZQHzajiJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58990/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30040/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5875/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11752/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49725/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58990/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58990/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735565170610707968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735565170610707968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5875/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735565170610707968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11752/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735565170610707968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49725/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735565170610707968,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49725/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58990/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735565170737332992,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735565170737332992,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5875/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735565170737332992,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11752/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735565170737332992,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49725/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735565170737332992,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9249402fa786
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 40d3f04f275d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9249402fa786. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ba1bae0926ab
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 40d3f04f275d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9c4208353a27
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ba1bae0926ab. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bebcbe3a4f1a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.