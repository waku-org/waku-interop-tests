[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_with_invalid_request_id with id: 2024-12-24_04-10-27__eca06e05-c83b-4da7-a0f7-f5a4bf32561f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-24_04-10-27__eca06e05-c83b-4da7-a0f7-f5a4bf32561f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.229.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28105', '28106', '28107', '28108', '28109']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28105:28105 -p 28106:28106 -p 28107:28107 -p 28108:28108 -p 28109:28109 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28107 --rest-port=28105 --tcp-port=28106 --discv5-udp-port=28108 --rest-address=0.0.0.0 --nat=extip:172.18.229.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=faf40fdf81d19ad01db5ff674febc2a25e2e6bce5f8b4f1c68239d3b6c0ccafe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28109 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.229.94 waku 8f4ef57e9727817c3232fefbc3abdc05790b532fc0c61ff9b74fd9cc8342a890
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8f4ef57e9727. Setting up logs at ./log/docker/node1_2024-12-24_04-10-27__eca06e05-c83b-4da7-a0f7-f5a4bf32561f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 28105
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5a86d62e47e6. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28105/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28105/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.229.94/tcp/28106/p2p/16Uiu2HAm8GoQSp7jm2ofeaDsgrkNzamC5vVCTaGFf3SZApnjdd49","/ip4/172.18.229.94/tcp/28107/ws/p2p/16Uiu2HAm8GoQSp7jm2ofeaDsgrkNzamC5vVCTaGFf3SZApnjdd49"],"enrUri":"enr:-L24QOS6xBGSLMBJcYAonJLqDlEKgKPa8hoGPdp0vaU-FdP6FoUyJxOE9cn1LbXQuHYgSEjpbzG9-y_ub3_eBSPLRtsCgmlkgnY0gmlwhKwS5V6KbXVsdGlhZGRyc5YACASsEuVeBm3KAAoErBLlXgZty90DgnJzhQADAQAAiXNlY3AyNTZrMaECvuIZKO341v50fkfGDS8IxAH3dkKMe8HX2Lz5_LKln2aDdGNwgm3Kg3VkcIJtzIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-24_04-10-27__eca06e05-c83b-4da7-a0f7-f5a4bf32561f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.117.133
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51112', '51113', '51114', '51115', '51116']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51112:51112 -p 51113:51113 -p 51114:51114 -p 51115:51115 -p 51116:51116 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51114 --rest-port=51112 --tcp-port=51113 --discv5-udp-port=51115 --rest-address=0.0.0.0 --nat=extip:172.18.117.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7ea5c2bbd453abab60eecb3baabe8642e98db2dcb66e128a521dd58d9edce3f0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51116 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOS6xBGSLMBJcYAonJLqDlEKgKPa8hoGPdp0vaU-FdP6FoUyJxOE9cn1LbXQuHYgSEjpbzG9-y_ub3_eBSPLRtsCgmlkgnY0gmlwhKwS5V6KbXVsdGlhZGRyc5YACASsEuVeBm3KAAoErBLlXgZty90DgnJzhQADAQAAiXNlY3AyNTZrMaECvuIZKO341v50fkfGDS8IxAH3dkKMe8HX2Lz5_LKln2aDdGNwgm3Kg3VkcIJtzIV3YWt1MgU --filternode=/ip4/172.18.229.94/tcp/28106/p2p/16Uiu2HAm8GoQSp7jm2ofeaDsgrkNzamC5vVCTaGFf3SZApnjdd49
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.7.125
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23992', '23993', '23994', '23995', '23996']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23992:23992 -p 23993:23993 -p 23994:23994 -p 23995:23995 -p 23996:23996 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23994 --rest-port=23992 --tcp-port=23993 --discv5-udp-port=23995 --rest-address=0.0.0.0 --nat=extip:172.18.7.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=baffef0cdfe108f2ebd55ad742eeeb7be42d7ebe42a9ccd5debbeeffbe9fed66 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23996 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOS6xBGSLMBJcYAonJLqDlEKgKPa8hoGPdp0vaU-FdP6FoUyJxOE9cn1LbXQuHYgSEjpbzG9-y_ub3_eBSPLRtsCgmlkgnY0gmlwhKwS5V6KbXVsdGlhZGRyc5YACASsEuVeBm3KAAoErBLlXgZty90DgnJzhQADAQAAiXNlY3AyNTZrMaECvuIZKO341v50fkfGDS8IxAH3dkKMe8HX2Lz5_LKln2aDdGNwgm3Kg3VkcIJtzIV3YWt1MgU --filternode=/ip4/172.18.229.94/tcp/28106/p2p/16Uiu2HAm8GoQSp7jm2ofeaDsgrkNzamC5vVCTaGFf3SZApnjdd49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.7.125 waku aef16df228075b3b838f59a580b1868b28ac196acd1e8025dc21327c2e79135f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID aef16df22807. Setting up logs at ./log/docker/node2_2024-12-24_04-10-27__eca06e05-c83b-4da7-a0f7-f5a4bf32561f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 23992
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23992/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23992/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.125/tcp/23993/p2p/16Uiu2HAkvXuPdP5rSKcAG97PfTAcuva6FwmXGF1C62cxLJ3iNKLX","/ip4/172.18.7.125/tcp/23994/ws/p2p/16Uiu2HAkvXuPdP5rSKcAG97PfTAcuva6FwmXGF1C62cxLJ3iNKLX"],"enrUri":"enr:-L24QDRNluOr55oFK_oHtknIyQLe9AaV9wIF7_sEWOpIzDRNUK89TGddouNghjHXDL3eiMM0JuMDBIli0akg8Dmd2TcCgmlkgnY0gmlwhKwSB32KbXVsdGlhZGRyc5YACASsEgd9Bl25AAoErBIHfQZdut0DgnJzhQADAQAAiXNlY3AyNTZrMaECEHRV6Ix19Dcqt7pEBtAy9Gft4KNS8tYhpAGH08Z8K8yDdGNwgl25g3VkcIJdu4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23992/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.229.94/tcp/28106/p2p/16Uiu2HAm8GoQSp7jm2ofeaDsgrkNzamC5vVCTaGFf3SZApnjdd49"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28105/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23992/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0d9bd9da-7f92-44d5-a5db-ce09982e6434", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0d9bd9da-7f92-44d5-a5db-ce09982e6434","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X PUT "http://127.0.0.1:23992/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": 1, "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:23992/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8f4ef57e9727
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id aef16df22807
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8f4ef57e9727. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.