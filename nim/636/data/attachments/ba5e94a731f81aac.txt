[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_small_timestamp with id: 2025-02-01_04-04-17__8423a438-84a2-4af1-844d-af497669a29f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-01_04-04-17__8423a438-84a2-4af1-844d-af497669a29f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.62.84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1574', '1575', '1576', '1577', '1578']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1574:1574 -p 1575:1575 -p 1576:1576 -p 1577:1577 -p 1578:1578 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1576 --rest-port=1574 --tcp-port=1575 --discv5-udp-port=1577 --rest-address=0.0.0.0 --nat=extip:172.18.62.84 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eda317a3a94b0dbbf7d3b372733c927fcdbfcb7414c9efaecfabd207fffcbbd3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1578 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.62.84 waku 42a034872ee429f86794abbb917073a886ff3aeb0e095f56fb2ec5d34b33b7fd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 42a034872ee4. Setting up logs at ./log/docker/publishing_node1_2025-02-01_04-04-17__8423a438-84a2-4af1-844d-af497669a29f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1574
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8650edf8da6b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1574/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1574/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.62.84/tcp/1575/p2p/16Uiu2HAmEmenuc4yaeT2hWGvjHCVMGwrVK5HHNnzLqCqWBEugdS2","/ip4/172.18.62.84/tcp/1576/ws/p2p/16Uiu2HAmEmenuc4yaeT2hWGvjHCVMGwrVK5HHNnzLqCqWBEugdS2"],"enrUri":"enr:-L24QN4AYNDv6U1iGh0o8FinN8QbfDvsnHiXjZWXdstJGiN-Gcyanj-8O5gpzs6xLvs2psJ-85ycJ-aHZ61foWFLKdwCgmlkgnY0gmlwhKwSPlSKbXVsdGlhZGRyc5YACASsEj5UBgYnAAoErBI-VAYGKN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDH2xTKjH3JTzkML57ax_khDTM4bu_6rBui8RJocS4wDODdGNwggYng3VkcIIGKYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-01_04-04-17__8423a438-84a2-4af1-844d-af497669a29f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.13.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6607', '6608', '6609', '6610', '6611']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6607:6607 -p 6608:6608 -p 6609:6609 -p 6610:6610 -p 6611:6611 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6609 --rest-port=6607 --tcp-port=6608 --discv5-udp-port=6610 --rest-address=0.0.0.0 --nat=extip:172.18.13.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebbfcbb4f022cae9bb0bebcb4aebffae5d7bfc7b2fec9abadcf8dee473f1c30c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6611 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QN4AYNDv6U1iGh0o8FinN8QbfDvsnHiXjZWXdstJGiN-Gcyanj-8O5gpzs6xLvs2psJ-85ycJ-aHZ61foWFLKdwCgmlkgnY0gmlwhKwSPlSKbXVsdGlhZGRyc5YACASsEj5UBgYnAAoErBI-VAYGKN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDH2xTKjH3JTzkML57ax_khDTM4bu_6rBui8RJocS4wDODdGNwggYng3VkcIIGKYV3YWt1MgM --storenode=/ip4/172.18.62.84/tcp/1575/p2p/16Uiu2HAmEmenuc4yaeT2hWGvjHCVMGwrVK5HHNnzLqCqWBEugdS2 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.13.139 waku 7e90c75e5fb7cdfde780e0078d5fae838b8fc7cbd5dfd825e3826acbc869919d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7e90c75e5fb7. Setting up logs at ./log/docker/store_node1_2025-02-01_04-04-17__8423a438-84a2-4af1-844d-af497669a29f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 6607
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6607/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6607/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.13.139/tcp/6608/p2p/16Uiu2HAmVsEhYDVjTY2xMjVYSqqr3prJAKSfhXV9bwjQWGbnU4Pr","/ip4/172.18.13.139/tcp/6609/ws/p2p/16Uiu2HAmVsEhYDVjTY2xMjVYSqqr3prJAKSfhXV9bwjQWGbnU4Pr"],"enrUri":"enr:-L24QB5FIUrPSr_TgKO8ngNw37zsIqzSihKO12N2P4gOe8r5djaQ7SgVTBIKJd-Bg2Xxx2fn7VG1ggpUJKqYkgcm3N8CgmlkgnY0gmlwhKwSDYuKbXVsdGlhZGRyc5YACASsEg2LBhnQAAoErBINiwYZ0d0DgnJzhQADAQAAiXNlY3AyNTZrMaED_7nfP3WRGPRaG-jPWYZaaXgvf5g5GykFHZKuDWf5iyGDdGNwghnQg3VkcIIZ0oV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6607/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.62.84/tcp/1575/p2p/16Uiu2HAmEmenuc4yaeT2hWGvjHCVMGwrVK5HHNnzLqCqWBEugdS2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1574/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6607/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1574/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1574/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1574/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1574/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1574/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1574/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:225 inquering stored messages with start time 1738382657049698048 after end time 1738382670049712897
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1574/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738382657049698048&endTime=1738382670049712897&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x26c94381730c78c4be0c74b4c1f1b8460e2f119c96aeae6c2a1077d73ba47eba","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382657049698048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x6d10a96019968238936f8019af2749911d21e849aebc685746e27f7e3104d210","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382659049704960,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x05b5cd4d5491343b8bff1664c228647f364b60f71459ca7ea6715b6c42c14455","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382659949707008,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x250c51c087d3d47f14f73eacf4ee29d33f6046b687a4e0a0bc80949631750fed","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382660149709824,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xb88245d52f2a19e154fc5b49e3c66e86fd5c08e9e2fa5c374ad33e424fb171ec","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382662049711872,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x44af2f6a975d4b3d937496be69a15e3d1bdab40255000d58866a3fd9bf2bba6a","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382670049712896,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:228 number of messages stored for start time 1738382657049698048 and end time = 1738382670049712897 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6607/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738382657049698048&endTime=1738382670049712897&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x26c94381730c78c4be0c74b4c1f1b8460e2f119c96aeae6c2a1077d73ba47eba","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382657049698048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x6d10a96019968238936f8019af2749911d21e849aebc685746e27f7e3104d210","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382659049704960,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x05b5cd4d5491343b8bff1664c228647f364b60f71459ca7ea6715b6c42c14455","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382659949707008,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x250c51c087d3d47f14f73eacf4ee29d33f6046b687a4e0a0bc80949631750fed","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382660149709824,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xb88245d52f2a19e154fc5b49e3c66e86fd5c08e9e2fa5c374ad33e424fb171ec","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382662049711872,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x44af2f6a975d4b3d937496be69a15e3d1bdab40255000d58866a3fd9bf2bba6a","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738382670049712896,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:228 number of messages stored for start time 1738382657049698048 and end time = 1738382670049712897 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 42a034872ee4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7e90c75e5fb7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 42a034872ee4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.