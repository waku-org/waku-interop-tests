[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-02-01_04-03-55__9a7b0d8e-b6bd-4767-b9cc-bce49620f559
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-01_04-03-55__9a7b0d8e-b6bd-4767-b9cc-bce49620f559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.30.111
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59420', '59421', '59422', '59423', '59424']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59420:59420 -p 59421:59421 -p 59422:59422 -p 59423:59423 -p 59424:59424 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59422 --rest-port=59420 --tcp-port=59421 --discv5-udp-port=59423 --rest-address=0.0.0.0 --nat=extip:172.18.30.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da4dbb2f448f7fd49ec8ab87a23d6d3d7d56d92c78e1a098a1cc2cdc8d2e7b4b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59424 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.30.111 waku dd16e8fe034346254b1593142703cd92dce28d1143ccd8d73943e981518bdf49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID dd16e8fe0343. Setting up logs at ./log/docker/node1_2025-02-01_04-03-55__9a7b0d8e-b6bd-4767-b9cc-bce49620f559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 59420
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 19c50093e27a. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59420/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59420/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.111/tcp/59421/p2p/16Uiu2HAm2fbPuAJQakz5oGdYPMsJ17QcBHvxMw81Umt6Yj5SSVGz","/ip4/172.18.30.111/tcp/59422/ws/p2p/16Uiu2HAm2fbPuAJQakz5oGdYPMsJ17QcBHvxMw81Umt6Yj5SSVGz"],"enrUri":"enr:-L24QOpqZT76-LNkzHl09Ip6rcEi3TbdJk_J28gIDV7rwJeHRoz60di7177nkz-zkZRcd62Ti8jknLNdz1ClpyrkTDcCgmlkgnY0gmlwhKwSHm-KbXVsdGlhZGRyc5YACASsEh5vBugdAAoErBIebwboHt0DgnJzhQADAQAAiXNlY3AyNTZrMaECa5LBmY3_TH7fkMS9NTfJ1Ez4OxjOOz8STAoC4zuPRYeDdGNwgugdg3VkcILoH4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-01_04-03-55__9a7b0d8e-b6bd-4767-b9cc-bce49620f559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.52.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60097', '60098', '60099', '60100', '60101']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60097:60097 -p 60098:60098 -p 60099:60099 -p 60100:60100 -p 60101:60101 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60099 --rest-port=60097 --tcp-port=60098 --discv5-udp-port=60100 --rest-address=0.0.0.0 --nat=extip:172.18.52.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3412baf7fa5ff05e08aaed2c806dd7ab3fb7edda386e2a4c2923ddccd054ccb7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60101 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOpqZT76-LNkzHl09Ip6rcEi3TbdJk_J28gIDV7rwJeHRoz60di7177nkz-zkZRcd62Ti8jknLNdz1ClpyrkTDcCgmlkgnY0gmlwhKwSHm-KbXVsdGlhZGRyc5YACASsEh5vBugdAAoErBIebwboHt0DgnJzhQADAQAAiXNlY3AyNTZrMaECa5LBmY3_TH7fkMS9NTfJ1Ez4OxjOOz8STAoC4zuPRYeDdGNwgugdg3VkcILoH4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.52.89 waku 3cb303e0f18204a5dbd49a69744d3cc2817cf95461d53e0f28471c1923cf1aef
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3cb303e0f182. Setting up logs at ./log/docker/node2_2025-02-01_04-03-55__9a7b0d8e-b6bd-4767-b9cc-bce49620f559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60097
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60097/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60097/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.52.89/tcp/60098/p2p/16Uiu2HAmB8ngmNZCFF74bqSsc3BQQ9JMPp7uegQCRcexxhbmncwH","/ip4/172.18.52.89/tcp/60099/ws/p2p/16Uiu2HAmB8ngmNZCFF74bqSsc3BQQ9JMPp7uegQCRcexxhbmncwH"],"enrUri":"enr:-L24QIkt0k5CuW5qYT3mE2L-oNPmzD5zE4IocO8d5TimrXazDGNEYqCvcX5WgXQtMyrDWxTJFVYhuqFqRugQS2tbp4oCgmlkgnY0gmlwhKwSNFmKbXVsdGlhZGRyc5YACASsEjRZBurCAAoErBI0WQbqw90DgnJzhQADAQAAiXNlY3AyNTZrMaEC6WezNdJK4l1DqhNj6int3_6NcjQD0CTeKsKKoxGp_8CDdGNwgurCg3VkcILqxIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60097/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.30.111/tcp/59421/p2p/16Uiu2HAm2fbPuAJQakz5oGdYPMsJ17QcBHvxMw81Umt6Yj5SSVGz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-02-01_04-03-55__9a7b0d8e-b6bd-4767-b9cc-bce49620f559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.78.81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32232', '32233', '32234', '32235', '32236']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32232:32232 -p 32233:32233 -p 32234:32234 -p 32235:32235 -p 32236:32236 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32234 --rest-port=32232 --tcp-port=32233 --discv5-udp-port=32235 --rest-address=0.0.0.0 --nat=extip:172.18.78.81 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cbdaedfccf956e4550adb27d6f854da3bdc771e8ebb9958f2ef6bb08bad47e8b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32236 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOpqZT76-LNkzHl09Ip6rcEi3TbdJk_J28gIDV7rwJeHRoz60di7177nkz-zkZRcd62Ti8jknLNdz1ClpyrkTDcCgmlkgnY0gmlwhKwSHm-KbXVsdGlhZGRyc5YACASsEh5vBugdAAoErBIebwboHt0DgnJzhQADAQAAiXNlY3AyNTZrMaECa5LBmY3_TH7fkMS9NTfJ1Ez4OxjOOz8STAoC4zuPRYeDdGNwgugdg3VkcILoH4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.78.81 waku ed4a739281076edf06845f667400f84b778756b2a3093d2067454268a2faa95e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ed4a73928107. Setting up logs at ./log/docker/node3_2025-02-01_04-03-55__9a7b0d8e-b6bd-4767-b9cc-bce49620f559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 32232
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32232/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32232/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.81/tcp/32233/p2p/16Uiu2HAmKhq1wDBcyo8e54o1oV3cXxgcWc3DPHqnabRuvN3T11Qf","/ip4/172.18.78.81/tcp/32234/ws/p2p/16Uiu2HAmKhq1wDBcyo8e54o1oV3cXxgcWc3DPHqnabRuvN3T11Qf"],"enrUri":"enr:-L24QL1X0Hng0WGCh3jEOKws-MHS_Ju-1Cx_6zOTigA-GEFvGAoGl40Xk7WK1qvtw_hQePnNpLPsHL9f8LNRndzOBVECgmlkgnY0gmlwhKwSTlGKbXVsdGlhZGRyc5YACASsEk5RBn3pAAoErBJOUQZ96t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDaLv_TOiq8Ats4D4QrHFwqKLVruGgYX0Wm2wyYPx3V_yDdGNwgn3pg3VkcIJ964V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32232/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.30.111/tcp/59421/p2p/16Uiu2HAm2fbPuAJQakz5oGdYPMsJ17QcBHvxMw81Umt6Yj5SSVGz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-02-01_04-03-55__9a7b0d8e-b6bd-4767-b9cc-bce49620f559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.78.118
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1405', '1406', '1407', '1408', '1409']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1405:1405 -p 1406:1406 -p 1407:1407 -p 1408:1408 -p 1409:1409 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1407 --rest-port=1405 --tcp-port=1406 --discv5-udp-port=1408 --rest-address=0.0.0.0 --nat=extip:172.18.78.118 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ffe9ed31cf5a60f2ace6861a61c55f7e4b2dcaf5fff6a5c660696f3abc3f4bfc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1409 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOpqZT76-LNkzHl09Ip6rcEi3TbdJk_J28gIDV7rwJeHRoz60di7177nkz-zkZRcd62Ti8jknLNdz1ClpyrkTDcCgmlkgnY0gmlwhKwSHm-KbXVsdGlhZGRyc5YACASsEh5vBugdAAoErBIebwboHt0DgnJzhQADAQAAiXNlY3AyNTZrMaECa5LBmY3_TH7fkMS9NTfJ1Ez4OxjOOz8STAoC4zuPRYeDdGNwgugdg3VkcILoH4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.78.118 waku 42730d701bf4c0d4c048ced4baaa703896c73b2a75e5c936e2128b65fcee5431
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 42730d701bf4. Setting up logs at ./log/docker/node4_2025-02-01_04-03-55__9a7b0d8e-b6bd-4767-b9cc-bce49620f559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1405
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1405/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1405/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.118/tcp/1406/p2p/16Uiu2HAm1PEWVEp2x9Nkth1bJvUxAYL6PxAJmwSyZpw2bgoJJoZM","/ip4/172.18.78.118/tcp/1407/ws/p2p/16Uiu2HAm1PEWVEp2x9Nkth1bJvUxAYL6PxAJmwSyZpw2bgoJJoZM"],"enrUri":"enr:-L24QJfQHZswhAtYjnkXt-U1cPPh-2yCPvTlVnk3ipkKECajeP5E2BI5cDXkHOfjSEawxRpS_2JH8U8cfz4qBR_qqiACgmlkgnY0gmlwhKwSTnaKbXVsdGlhZGRyc5YACASsEk52BgV-AAoErBJOdgYFf90DgnJzhQADAQAAiXNlY3AyNTZrMaECWIYo92-eUNDBK2jJBfII2LJ4hGCrQ7itD_qGaPWdswSDdGNwggV-g3VkcIIFgIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1405/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.30.111/tcp/59421/p2p/16Uiu2HAm2fbPuAJQakz5oGdYPMsJ17QcBHvxMw81Umt6Yj5SSVGz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-02-01_04-03-55__9a7b0d8e-b6bd-4767-b9cc-bce49620f559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.189.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55071', '55072', '55073', '55074', '55075']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55071:55071 -p 55072:55072 -p 55073:55073 -p 55074:55074 -p 55075:55075 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55073 --rest-port=55071 --tcp-port=55072 --discv5-udp-port=55074 --rest-address=0.0.0.0 --nat=extip:172.18.189.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4dddef2462ca6fc8ce2cb67b5f766fc1b824ecbf0d7bcda1e8bf9838ebed4a2e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55075 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOpqZT76-LNkzHl09Ip6rcEi3TbdJk_J28gIDV7rwJeHRoz60di7177nkz-zkZRcd62Ti8jknLNdz1ClpyrkTDcCgmlkgnY0gmlwhKwSHm-KbXVsdGlhZGRyc5YACASsEh5vBugdAAoErBIebwboHt0DgnJzhQADAQAAiXNlY3AyNTZrMaECa5LBmY3_TH7fkMS9NTfJ1Ez4OxjOOz8STAoC4zuPRYeDdGNwgugdg3VkcILoH4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.189.117 waku bbc240449d23e2bdadd46521f26cc8b76731131ba1c7340f0735388e4fc7f14f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bbc240449d23. Setting up logs at ./log/docker/node5_2025-02-01_04-03-55__9a7b0d8e-b6bd-4767-b9cc-bce49620f559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 55071
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55071/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55071/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.189.117/tcp/55072/p2p/16Uiu2HAmA1oiNiK2d3veNN6g7uBWVjuvFwfxUTZ6VBWeDcdGbqDA","/ip4/172.18.189.117/tcp/55073/ws/p2p/16Uiu2HAmA1oiNiK2d3veNN6g7uBWVjuvFwfxUTZ6VBWeDcdGbqDA"],"enrUri":"enr:-L24QDLwSZKFIyF_9iN_URmu5t7i9TXlUGcGs1v9O8oKznmfNiet0eHagCtjIQC3r8nSb4joTmdyeDqB-J6l9Eg6ep0CgmlkgnY0gmlwhKwSvXWKbXVsdGlhZGRyc5YACASsEr11BtcgAAoErBK9dQbXId0DgnJzhQADAQAAiXNlY3AyNTZrMaEC2MIcCfqJdxhT1jaTsmqHLvGPRfXArokgLqTdTvhEyQGDdGNwgtcgg3VkcILXIoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55071/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.30.111/tcp/59421/p2p/16Uiu2HAm2fbPuAJQakz5oGdYPMsJ17QcBHvxMw81Umt6Yj5SSVGz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59420/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60097/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32232/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1405/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55071/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738382641919388416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738382641919388416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738382641919388416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1405/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738382641919388416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55071/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738382641919388416,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55071/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59420/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738382642056949760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738382642056949760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738382642056949760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1405/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738382642056949760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55071/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738382642056949760,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id dd16e8fe0343
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3cb303e0f182
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dd16e8fe0343. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ed4a73928107
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3cb303e0f182. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 42730d701bf4
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ed4a73928107. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bbc240449d23
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 42730d701bf4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.