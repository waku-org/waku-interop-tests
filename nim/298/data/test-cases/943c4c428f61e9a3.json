{"uid":"943c4c428f61e9a3","name":"test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","fullName":"tests.light_push.test_publish.TestLightPushPublish#test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","historyId":"88c874acd5852c43d37fbe8b7f7a0144","time":{"start":1722745079388,"stop":1722745079400,"duration":12},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:52703/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0xc968ea94ea12434433b21ae13586a9ba050f00495d315ba6e02877937801dcfd'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:52703/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:338: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:52703/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0xc968ea94ea12434433b21ae13586a9ba050f00495d315ba6e02877937801dcfd'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1722744747061,"stop":1722744747061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1722745076256,"stop":1722745076257,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1722745076256,"stop":1722745076256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1722745076256,"stop":1722745076256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1722745076256,"stop":1722745076256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_publish_setup","time":{"start":1722745076257,"stop":1722745079387,"duration":3130},"status":"passed","steps":[{"name":"setup_first_receiving_node","time":{"start":1722745076257,"stop":1722745077836,"duration":1579},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1722745076257,"stop":1722745077835,"duration":1578},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722745077835,"stop":1722745077835,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f12e9dfdd00>, <src.node.waku_node.WakuNode object at 0x7f12e972dca0>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"nodekey","value":"'30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_lightpush_node","time":{"start":1722745077836,"stop":1722745079371,"duration":1535},"status":"passed","steps":[{"name":"setup_lightpush_node","time":{"start":1722745077836,"stop":1722745079371,"duration":1535},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722745079341,"stop":1722745079371,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f12e9dfdd00>, <src.node.waku_node.WakuNode object at 0x7f12e955fad0>, ['/ip4/172.18.9.127/tcp/54957/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1722745079371,"stop":1722745079387,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1722745076257,"stop":1722745076257,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1722745076257,"stop":1722745076257,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:52703/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0xc968ea94ea12434433b21ae13586a9ba050f00495d315ba6e02877937801dcfd'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:52703/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:338: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:52703/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0xc968ea94ea12434433b21ae13586a9ba050f00495d315ba6e02877937801dcfd'","steps":[{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1722745079388,"stop":1722745079394,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/3/0', '/waku/2/rs/3/1', '/waku/2/rs/3/9', '/waku/2/rs/3/25', '/waku/2/rs/3/1000']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_payload","time":{"start":1722745079394,"stop":1722745079394,"duration":0},"status":"passed","steps":[{"name":"create_message","time":{"start":1722745079394,"stop":1722745079394,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5e0ff72c4756d6a4","name":"log","source":"5e0ff72c4756d6a4.txt","type":"text/plain","size":32916}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1722745079434,"stop":1722745079436,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1722745079437,"stop":1722745084464,"duration":5027},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1722745084464,"stop":1722745084467,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"6b12dac4021f5b1f","name":"lightpush_node1_2024-08-04_04-17-56__9e85a134-0d9f-4c3c-bdd4-569cba14af30__wakuorg_nwaku:latest.log","source":"6b12dac4021f5b1f.txt","type":"text/plain","size":93978},{"uid":"316a0ed34f320848","name":"receiving_node1_2024-08-04_04-17-56__9e85a134-0d9f-4c3c-bdd4-569cba14af30__wakuorg_nwaku:latest.log","source":"316a0ed34f320848.txt","type":"text/plain","size":106500}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1722745964710,"stop":1722745964710,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.light_push"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestLightPushPublish"},{"name":"host","value":"fv-az564-635"},{"name":"thread","value":"2090-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.light_push.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d0d7ce067aceaafe","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:14389/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0xba41bb315ec15f4bc03e1ce2de473efba8f4a86aef2f1890c0769d9e84b95e61'","time":{"start":1722745071098,"stop":1722745071111,"duration":13}},{"uid":"7f3463244bbdbae0","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:19430/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0xd8a968c6e98eba327b06990f552098bc05e66178aeb6cbe1231a0bbe63342fd5'","time":{"start":1722745063279,"stop":1722745063290,"duration":11}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":54,"unknown":0,"total":56},"items":[{"uid":"a975fdf9fefc9f98","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/297//#testresult/a975fdf9fefc9f98","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:9004/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x9b7c54fd4ba2060bbb736a2752b50e5cfb04eb72428c57451b19bcae7622ab79'","time":{"start":1722658549612,"stop":1722658549624,"duration":12}},{"uid":"fd9378163205e4c7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/296//#testresult/fd9378163205e4c7","status":"passed","time":{"start":1722572134120,"stop":1722572134237,"duration":117}},{"uid":"75fe95a3cb002edd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/295//#testresult/75fe95a3cb002edd","status":"passed","time":{"start":1722485741425,"stop":1722485741550,"duration":125}},{"uid":"4e731b914b9ac5e6","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/294//#testresult/4e731b914b9ac5e6","status":"passed","time":{"start":1722399202209,"stop":1722399202325,"duration":116}},{"uid":"2f0cfdab4a188e0a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/293//#testresult/2f0cfdab4a188e0a","status":"passed","time":{"start":1722312923301,"stop":1722312923416,"duration":115}},{"uid":"d7632edb1eaaa9cd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/292//#testresult/d7632edb1eaaa9cd","status":"passed","time":{"start":1722235757962,"stop":1722235758078,"duration":116}},{"uid":"2c508ac3089adf4e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/290//#testresult/2c508ac3089adf4e","status":"passed","time":{"start":1722140090063,"stop":1722140090184,"duration":121}},{"uid":"76708084b734cd3a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/289//#testresult/76708084b734cd3a","status":"passed","time":{"start":1722053703216,"stop":1722053703337,"duration":121}},{"uid":"71bd0d6018beae47","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/288//#testresult/71bd0d6018beae47","status":"passed","time":{"start":1721967365000,"stop":1721967365115,"duration":115}},{"uid":"a944b07ddb3187d7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/287//#testresult/a944b07ddb3187d7","status":"passed","time":{"start":1721880941033,"stop":1721880941149,"duration":116}},{"uid":"aa08028d0e395694","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/286//#testresult/aa08028d0e395694","status":"passed","time":{"start":1721794504442,"stop":1721794504560,"duration":118}},{"uid":"6d17671e642b755b","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/285//#testresult/6d17671e642b755b","status":"passed","time":{"start":1721708127025,"stop":1721708127145,"duration":120}},{"uid":"12ca18ecb19864ac","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/284//#testresult/12ca18ecb19864ac","status":"passed","time":{"start":1721621753294,"stop":1721621753408,"duration":114}},{"uid":"d4f49aaa4aae7acc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/283//#testresult/d4f49aaa4aae7acc","status":"passed","time":{"start":1721535323964,"stop":1721535324080,"duration":116}},{"uid":"fa376caf837292c9","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/282//#testresult/fa376caf837292c9","status":"passed","time":{"start":1721449006939,"stop":1721449007055,"duration":116}},{"uid":"168a4178039d877f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/281//#testresult/168a4178039d877f","status":"passed","time":{"start":1721362580761,"stop":1721362580878,"duration":117}},{"uid":"6e72976a5b750d26","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/280//#testresult/6e72976a5b750d26","status":"passed","time":{"start":1721277296081,"stop":1721277296199,"duration":118}},{"uid":"b3dd08c1fd463d00","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/279//#testresult/b3dd08c1fd463d00","status":"passed","time":{"start":1721276061852,"stop":1721276061965,"duration":113}},{"uid":"c46be901bff72935","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/278//#testresult/c46be901bff72935","status":"passed","time":{"start":1721189720917,"stop":1721189721037,"duration":120}},{"uid":"179db1b83c5d069a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/277//#testresult/179db1b83c5d069a","status":"passed","time":{"start":1721103371821,"stop":1721103371940,"duration":119}}]},"tags":[]},"source":"943c4c428f61e9a3.json","parameterValues":[]}