[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_after_one_peer_was_stopped with id: 2024-05-27_14-31-56__00156727-f9f4-4713-82a1-d07c7a8b3ddf
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-05-27_14-31-56__00156727-f9f4-4713-82a1-d07c7a8b3ddf__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.172.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['12953', '12954', '12955', '12956', '12957']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 12953:12953 -p 12954:12954 -p 12955:12955 -p 12956:12956 -p 12957:12957 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12955 --rest-port=12953 --tcp-port=12954 --discv5-udp-port=12956 --rest-address=0.0.0.0 --nat=extip:172.18.172.29 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12957 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.172.29 waku c679a8d9f1131e996583aed5ba567bf6ce2a7637c3401a8299eecccc0d897c80
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c679a8d9f113. Setting up logs at ./log/docker/node1_2024-05-27_14-31-56__00156727-f9f4-4713-82a1-d07c7a8b3ddf__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 12953
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12953/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12953/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.29/tcp/12954/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.172.29/tcp/12955/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QCComfjaAhxJqnolzLxiLmUdZ0odk0Dv-ynZnm9-WpObGY_bX9S7nck9nHFviYn1MKoMo1Z6ZK-KqJa9hAz9x9MBgmlkgnY0gmlwhKwSrB2KbXVsdGlhZGRyc4wACgSsEqwdBjKb3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCMpqDdWRwgjKchXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-05-27_14-31-56__00156727-f9f4-4713-82a1-d07c7a8b3ddf__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.33.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['31926', '31927', '31928', '31929', '31930']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 31926:31926 -p 31927:31927 -p 31928:31928 -p 31929:31929 -p 31930:31930 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31928 --rest-port=31926 --tcp-port=31927 --discv5-udp-port=31929 --rest-address=0.0.0.0 --nat=extip:172.18.33.225 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31930 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCComfjaAhxJqnolzLxiLmUdZ0odk0Dv-ynZnm9-WpObGY_bX9S7nck9nHFviYn1MKoMo1Z6ZK-KqJa9hAz9x9MBgmlkgnY0gmlwhKwSrB2KbXVsdGlhZGRyc4wACgSsEqwdBjKb3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCMpqDdWRwgjKchXdha3UyBQ --filternode=/ip4/172.18.172.29/tcp/12954/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.33.225 waku 85f99290369680d24307d59bcd20b3865a6e24e53d64b1707604cd68785a9124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 85f992903696. Setting up logs at ./log/docker/node2_2024-05-27_14-31-56__00156727-f9f4-4713-82a1-d07c7a8b3ddf__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 31926
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31926/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31926/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.225/tcp/31927/p2p/16Uiu2HAm93schFRGUxi9H6jnwK3x4Uo1Ep7J8iFAZ1HQPpN9jXYi","/ip4/172.18.33.225/tcp/31928/ws/p2p/16Uiu2HAm93schFRGUxi9H6jnwK3x4Uo1Ep7J8iFAZ1HQPpN9jXYi"],"enrUri":"enr:-LO4QKUkKVQACPifFORenrY1Xz1IPfrFsfyEkgdHVAd1CI6hftCaUnW32NhBsNOSmsA6MUA76tjyI1usNjVlao76wncBgmlkgnY0gmlwhKwSIeGKbXVsdGlhZGRyc4wACgSsEiHhBny43QOCcnOFAAABAACJc2VjcDI1NmsxoQLKbf8NKOUd9m_TVzuBWfKxSMWf05wnAJPW_8rVk9U-V4N0Y3CCfLeDdWRwgny5hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31926/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.172.29/tcp/12954/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-05-27_14-31-56__00156727-f9f4-4713-82a1-d07c7a8b3ddf__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.214.52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['41628', '41629', '41630', '41631', '41632']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 41628:41628 -p 41629:41629 -p 41630:41630 -p 41631:41631 -p 41632:41632 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41630 --rest-port=41628 --tcp-port=41629 --discv5-udp-port=41631 --rest-address=0.0.0.0 --nat=extip:172.18.214.52 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41632 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCComfjaAhxJqnolzLxiLmUdZ0odk0Dv-ynZnm9-WpObGY_bX9S7nck9nHFviYn1MKoMo1Z6ZK-KqJa9hAz9x9MBgmlkgnY0gmlwhKwSrB2KbXVsdGlhZGRyc4wACgSsEqwdBjKb3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCMpqDdWRwgjKchXdha3UyBQ --filternode=/ip4/172.18.172.29/tcp/12954/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.217.105
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['36217', '36218', '36219', '36220', '36221']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 36217:36217 -p 36218:36218 -p 36219:36219 -p 36220:36220 -p 36221:36221 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36219 --rest-port=36217 --tcp-port=36218 --discv5-udp-port=36220 --rest-address=0.0.0.0 --nat=extip:172.18.217.105 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36221 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCComfjaAhxJqnolzLxiLmUdZ0odk0Dv-ynZnm9-WpObGY_bX9S7nck9nHFviYn1MKoMo1Z6ZK-KqJa9hAz9x9MBgmlkgnY0gmlwhKwSrB2KbXVsdGlhZGRyc4wACgSsEqwdBjKb3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCMpqDdWRwgjKchXdha3UyBQ --filternode=/ip4/172.18.172.29/tcp/12954/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.217.105 waku f965157802cb1e941681a96c226b6c58a5f2207eba37f7e963d85832dc03a9ae
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID f965157802cb. Setting up logs at ./log/docker/node3_2024-05-27_14-31-56__00156727-f9f4-4713-82a1-d07c7a8b3ddf__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 36217
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36217/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36217/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.105/tcp/36218/p2p/16Uiu2HAmUNJ8BVsvttRRp7wPRVQL1omwE4HEzuRY31Py87DSg3sx","/ip4/172.18.217.105/tcp/36219/ws/p2p/16Uiu2HAmUNJ8BVsvttRRp7wPRVQL1omwE4HEzuRY31Py87DSg3sx"],"enrUri":"enr:-LO4QJFEE2OS3QijP7xfbb_1-xmMsv2AHm7n9NgfNITbHubcEHw84GoHaB5-mN1rdjaV-IeJN6PXee8Fyjy0N9sGzCEBgmlkgnY0gmlwhKwS2WmKbXVsdGlhZGRyc4wACgSsEtlpBo173QOCcnOFAAABAACJc2VjcDI1NmsxoQPpdDbVSg3nX_ieEeC1GsHfgYIXZdia3Dz4rdnM3h-u-4N0Y3CCjXqDdWRwgo18hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36217/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.172.29/tcp/12954/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-05-27_14-31-56__00156727-f9f4-4713-82a1-d07c7a8b3ddf__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.43.197
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['57474', '57475', '57476', '57477', '57478']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 57474:57474 -p 57475:57475 -p 57476:57476 -p 57477:57477 -p 57478:57478 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57476 --rest-port=57474 --tcp-port=57475 --discv5-udp-port=57477 --rest-address=0.0.0.0 --nat=extip:172.18.43.197 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57478 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCComfjaAhxJqnolzLxiLmUdZ0odk0Dv-ynZnm9-WpObGY_bX9S7nck9nHFviYn1MKoMo1Z6ZK-KqJa9hAz9x9MBgmlkgnY0gmlwhKwSrB2KbXVsdGlhZGRyc4wACgSsEqwdBjKb3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCMpqDdWRwgjKchXdha3UyBQ --filternode=/ip4/172.18.172.29/tcp/12954/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.43.197 waku f3692efadcb799e2e2bb185bb18b85c627540fce4be99cc1cbf8518a625a396d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID f3692efadcb7. Setting up logs at ./log/docker/node4_2024-05-27_14-31-56__00156727-f9f4-4713-82a1-d07c7a8b3ddf__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 57474
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57474/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57474/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.43.197/tcp/57475/p2p/16Uiu2HAmDms5eRmg7uJpXEUJPGBet8vc85FtMyVyQeA2PECQo84M","/ip4/172.18.43.197/tcp/57476/ws/p2p/16Uiu2HAmDms5eRmg7uJpXEUJPGBet8vc85FtMyVyQeA2PECQo84M"],"enrUri":"enr:-LO4QH__SwBxvXa83dODlBkaA4f1E5Cnc_OLrdVZgeQRQ0cgYGfrV_NqwCL9xzzokcuc6vEVLGrTUAaABN7TWNUafHsBgmlkgnY0gmlwhKwSK8WKbXVsdGlhZGRyc4wACgSsEivFBuCE3QOCcnOFAAABAACJc2VjcDI1NmsxoQMQnohecr4cvGUOV6VCj8LnhpEbGvIgUnhN35Ve5ID5foN0Y3CC4IODdWRwguCFhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57474/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.172.29/tcp/12954/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-05-27_14-31-56__00156727-f9f4-4713-82a1-d07c7a8b3ddf__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.98.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['28103', '28104', '28105', '28106', '28107']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 28103:28103 -p 28104:28104 -p 28105:28105 -p 28106:28106 -p 28107:28107 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28105 --rest-port=28103 --tcp-port=28104 --discv5-udp-port=28106 --rest-address=0.0.0.0 --nat=extip:172.18.98.14 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28107 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCComfjaAhxJqnolzLxiLmUdZ0odk0Dv-ynZnm9-WpObGY_bX9S7nck9nHFviYn1MKoMo1Z6ZK-KqJa9hAz9x9MBgmlkgnY0gmlwhKwSrB2KbXVsdGlhZGRyc4wACgSsEqwdBjKb3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCMpqDdWRwgjKchXdha3UyBQ --filternode=/ip4/172.18.172.29/tcp/12954/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.98.14 waku 0554cef0f0217dcae4754a2ebb805f2d9debe899d6dac2dcf699583272aa21a9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0554cef0f021. Setting up logs at ./log/docker/node5_2024-05-27_14-31-56__00156727-f9f4-4713-82a1-d07c7a8b3ddf__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 28103
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28103/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28103/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.98.14/tcp/28104/p2p/16Uiu2HAmKHRPT8K4LGfzbnqytqyxBcvMRvwZZNMcFQSFTzRWfPE5","/ip4/172.18.98.14/tcp/28105/ws/p2p/16Uiu2HAmKHRPT8K4LGfzbnqytqyxBcvMRvwZZNMcFQSFTzRWfPE5"],"enrUri":"enr:-LO4QLsYEVj95vOkcAZYolWEsUZSIQ4BsysdAg-M9PcnrV-Eb-EmKWsIGlTqR_ySDH11CerFkqBjN1GhcKbMBmeom9UBgmlkgnY0gmlwhKwSYg6KbXVsdGlhZGRyc4wACgSsEmIOBm3J3QOCcnOFAAABAACJc2VjcDI1NmsxoQNie1clLKcnL9xAn4T-aLdMnLyLXx3K_Hrshu4HaAZRDoN0Y3CCbciDdWRwgm3KhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28103/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.172.29/tcp/12954/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12953/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31926/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "21534a3b-6c29-48ad-8c41-47f758d619cc", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"21534a3b-6c29-48ad-8c41-47f758d619cc","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36217/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7f22902d-d629-4d60-bb19-9b5fe34e2bf0", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7f22902d-d629-4d60-bb19-9b5fe34e2bf0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57474/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "eca584c3-18a7-4e9f-b729-5d1d478f8e57", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"eca584c3-18a7-4e9f-b729-5d1d478f8e57","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28103/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "56e3689e-e9dd-48f7-a40b-dcc33857b3b5", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"56e3689e-e9dd-48f7-a40b-dcc33857b3b5","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12953/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31926/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1716820324941445120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_3:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36217/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1716820324941445120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_4:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57474/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1716820324941445120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_5:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28103/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1716820324941445120,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 85f992903696
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12953/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36217/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1716820326533488896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_3:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57474/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1716820326533488896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_4:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28103/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1716820326533488896,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id c679a8d9f113
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id f965157802cb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id f3692efadcb7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 0554cef0f021
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.