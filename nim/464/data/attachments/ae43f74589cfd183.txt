[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_unsubscribe_with_invalid_pubsub_topic_format with id: 2024-11-26_04-22-43__cd924df4-6a92-4980-ae0c-89828fd67d1d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-26_04-22-43__cd924df4-6a92-4980-ae0c-89828fd67d1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.19.78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38810', '38811', '38812', '38813', '38814']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38810:38810 -p 38811:38811 -p 38812:38812 -p 38813:38813 -p 38814:38814 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38812 --rest-port=38810 --tcp-port=38811 --discv5-udp-port=38813 --rest-address=0.0.0.0 --nat=extip:172.18.19.78 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8de8fba4febc78da714084b248aa608cce38d5d91e0cbe883dc7dd452a49d010 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38814 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.19.78 waku c89ea6950cfbd75c35647cdbc5addfbbc8f1d5a7782e492c72d6b8e88a29811b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c89ea6950cfb. Setting up logs at ./log/docker/node1_2024-11-26_04-22-43__cd924df4-6a92-4980-ae0c-89828fd67d1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 38810
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9f0bd011de42. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38810/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38810/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.78/tcp/38811/p2p/16Uiu2HAm2NSB53DRV3LeD1TZs6RFK2Sot32ARD5KYfwTJ7g76uhR","/ip4/172.18.19.78/tcp/38812/ws/p2p/16Uiu2HAm2NSB53DRV3LeD1TZs6RFK2Sot32ARD5KYfwTJ7g76uhR"],"enrUri":"enr:-L24QKg9NNXY-mgfUlEGxqjl5WMFSrHELiwjnir6hKeftZwrJCyHdki3s7e3QZioYZy2jJZlZ_yrh5QIpk82pH3FZiYCgmlkgnY0gmlwhKwSE06KbXVsdGlhZGRyc5YACASsEhNOBpebAAoErBITTgaXnN0DgnJzhQADAQAAiXNlY3AyNTZrMaECZy10v6MM3W8SN7CK3wJ6qYvCx4eCd7pnouuX6iz07wCDdGNwgpebg3VkcIKXnYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-26_04-22-43__cd924df4-6a92-4980-ae0c-89828fd67d1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.164.111
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1581', '1582', '1583', '1584', '1585']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1581:1581 -p 1582:1582 -p 1583:1583 -p 1584:1584 -p 1585:1585 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1583 --rest-port=1581 --tcp-port=1582 --discv5-udp-port=1584 --rest-address=0.0.0.0 --nat=extip:172.18.164.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3dc42e8cecca5ccfb53fcd390c53a420aae433dab81a7d5e5ff1acaa34c3bac4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1585 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKg9NNXY-mgfUlEGxqjl5WMFSrHELiwjnir6hKeftZwrJCyHdki3s7e3QZioYZy2jJZlZ_yrh5QIpk82pH3FZiYCgmlkgnY0gmlwhKwSE06KbXVsdGlhZGRyc5YACASsEhNOBpebAAoErBITTgaXnN0DgnJzhQADAQAAiXNlY3AyNTZrMaECZy10v6MM3W8SN7CK3wJ6qYvCx4eCd7pnouuX6iz07wCDdGNwgpebg3VkcIKXnYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.164.111 waku 2a4962b7d0536d41b41ee278383584f47769d73077c4e65e3666bb21ddb3745e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2a4962b7d053. Setting up logs at ./log/docker/node2_2024-11-26_04-22-43__cd924df4-6a92-4980-ae0c-89828fd67d1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 1581
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1581/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1581/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.111/tcp/1582/p2p/16Uiu2HAkzu8i2QxiAdAAWR3PwrnxUCoaFgQofj45uB2kmeddY7EU","/ip4/172.18.164.111/tcp/1583/ws/p2p/16Uiu2HAkzu8i2QxiAdAAWR3PwrnxUCoaFgQofj45uB2kmeddY7EU"],"enrUri":"enr:-L24QLW2h24GA54n3NAk9Jg-JtPb9Nn8eqPGJKgEq_znPKIJLbi9NLqCzhxy2vZCWQSmB7K8w5T-MnLMltQ4Ihb2YLQCgmlkgnY0gmlwhKwSpG-KbXVsdGlhZGRyc5YACASsEqRvBgYuAAoErBKkbwYGL90DgnJzhQADAQAAiXNlY3AyNTZrMaECUVNWi-UvnUcy7y9tCJK4210yWUWR-Ii10vfFqNZx_72DdGNwggYug3VkcIIGMIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1581/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.78/tcp/38811/p2p/16Uiu2HAm2NSB53DRV3LeD1TZs6RFK2Sot32ARD5KYfwTJ7g76uhR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /test/2/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:38810/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38810/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/3/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:38810/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38810/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/test/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:38810/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38810/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/3/b
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:38810/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38810/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:38810/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38810/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c89ea6950cfb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 2a4962b7d053
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c89ea6950cfb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.