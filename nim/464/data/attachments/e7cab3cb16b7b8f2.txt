[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-26_04-20-22__e90e84bb-7f99-4c44-9033-91de5e74e5ff
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-26_04-20-22__e90e84bb-7f99-4c44-9033-91de5e74e5ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.46.39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52027', '52028', '52029', '52030', '52031']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52027:52027 -p 52028:52028 -p 52029:52029 -p 52030:52030 -p 52031:52031 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52029 --rest-port=52027 --tcp-port=52028 --discv5-udp-port=52030 --rest-address=0.0.0.0 --nat=extip:172.18.46.39 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aed3cacc3cfd3c6d16c32b42f7c94dbc33bbcbaea1adcebfc2aaece5dee8d3e7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52031 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.46.39 waku 4a285077524022817a4785be5d9022f95295a1fd5a6b807d3c3f43e1533b4105
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4a2850775240. Setting up logs at ./log/docker/node1_2024-11-26_04-20-22__e90e84bb-7f99-4c44-9033-91de5e74e5ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 52027
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ef32898d12a1. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52027/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52027/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.39/tcp/52028/p2p/16Uiu2HAm6uH2eiR93X7ByrMoa2u3PXgiDhJu5fDZxnkNsWBgVbN1","/ip4/172.18.46.39/tcp/52029/ws/p2p/16Uiu2HAm6uH2eiR93X7ByrMoa2u3PXgiDhJu5fDZxnkNsWBgVbN1"],"enrUri":"enr:-L24QOH9inpjFEBFctNNMWO94ITcpUS3cMQnCCm31NMLWz3mXTzvxIr4VnRjMfs-EZsG7gHXtyCAhxE4n3muguxnFu8CgmlkgnY0gmlwhKwSLieKbXVsdGlhZGRyc5YACASsEi4nBss8AAoErBIuJwbLPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqoLeTWZ31uNDPAZ2yQ1fnkgUB1aqGpOxyktud-qPVtqDdGNwgss8g3VkcILLPoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-26_04-20-22__e90e84bb-7f99-4c44-9033-91de5e74e5ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.27.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21047', '21048', '21049', '21050', '21051']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21047:21047 -p 21048:21048 -p 21049:21049 -p 21050:21050 -p 21051:21051 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21049 --rest-port=21047 --tcp-port=21048 --discv5-udp-port=21050 --rest-address=0.0.0.0 --nat=extip:172.18.27.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7cc8aea42bea1203556c1df2ff3924d047b8ea2fe5cdbd7d73b5d1cc3debe55e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21051 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOH9inpjFEBFctNNMWO94ITcpUS3cMQnCCm31NMLWz3mXTzvxIr4VnRjMfs-EZsG7gHXtyCAhxE4n3muguxnFu8CgmlkgnY0gmlwhKwSLieKbXVsdGlhZGRyc5YACASsEi4nBss8AAoErBIuJwbLPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqoLeTWZ31uNDPAZ2yQ1fnkgUB1aqGpOxyktud-qPVtqDdGNwgss8g3VkcILLPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.27.201 waku 7a8468f84361b5e0025bbc8bc63d25c6aecfd2e78f13511a65602b766dd8b550
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7a8468f84361. Setting up logs at ./log/docker/node2_2024-11-26_04-20-22__e90e84bb-7f99-4c44-9033-91de5e74e5ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 21047
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21047/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21047/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.27.201/tcp/21048/p2p/16Uiu2HAmHEYw28VB17ExqcRSNsoSWXC17Rxw8LEvXb2MMd7mc7pa","/ip4/172.18.27.201/tcp/21049/ws/p2p/16Uiu2HAmHEYw28VB17ExqcRSNsoSWXC17Rxw8LEvXb2MMd7mc7pa"],"enrUri":"enr:-L24QLGw9M7yzBZDhqrl9Q67RJRpl0gMjqU0Pod7u_urijXmMBQACIpgBUVtqy8HWPOvWmjMwVwIj9FSsbiyiFfaib0CgmlkgnY0gmlwhKwSG8mKbXVsdGlhZGRyc5YACASsEhvJBlI4AAoErBIbyQZSOd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRAfBJk8qH_xpclJCp1Yan38runP7UmPArXgP40ETdpeDdGNwglI4g3VkcIJSOoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21047/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.46.39/tcp/52028/p2p/16Uiu2HAm6uH2eiR93X7ByrMoa2u3PXgiDhJu5fDZxnkNsWBgVbN1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-26_04-20-22__e90e84bb-7f99-4c44-9033-91de5e74e5ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.109.215
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17314', '17315', '17316', '17317', '17318']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17314:17314 -p 17315:17315 -p 17316:17316 -p 17317:17317 -p 17318:17318 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17316 --rest-port=17314 --tcp-port=17315 --discv5-udp-port=17317 --rest-address=0.0.0.0 --nat=extip:172.18.109.215 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f8cfb66f4f9b81aae84ee8b71f081d9aead50f4fdc4a3af117d0cec8ae4eff26 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17318 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOH9inpjFEBFctNNMWO94ITcpUS3cMQnCCm31NMLWz3mXTzvxIr4VnRjMfs-EZsG7gHXtyCAhxE4n3muguxnFu8CgmlkgnY0gmlwhKwSLieKbXVsdGlhZGRyc5YACASsEi4nBss8AAoErBIuJwbLPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqoLeTWZ31uNDPAZ2yQ1fnkgUB1aqGpOxyktud-qPVtqDdGNwgss8g3VkcILLPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.109.215 waku cab5b06e2d46229d81ebada0ac44864ecbfe88bec27b2b0e0ea097e2ea879972
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cab5b06e2d46. Setting up logs at ./log/docker/node3_2024-11-26_04-20-22__e90e84bb-7f99-4c44-9033-91de5e74e5ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 17314
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17314/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17314/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.109.215/tcp/17315/p2p/16Uiu2HAky733B25ud27AqppWTL8Wjnte8qh92g11Kc1tTGnUgRCT","/ip4/172.18.109.215/tcp/17316/ws/p2p/16Uiu2HAky733B25ud27AqppWTL8Wjnte8qh92g11Kc1tTGnUgRCT"],"enrUri":"enr:-L24QHTYmok0zGAUJj0e0YTQH-3iLI7WqDCghj2AQ9Z-3TsRGs9bom27zB18iixqbylFNJB_1JHMROsJ0eYRBKW4xFQCgmlkgnY0gmlwhKwSbdeKbXVsdGlhZGRyc5YACASsEm3XBkOjAAoErBJt1wZDpN0DgnJzhQADAQAAiXNlY3AyNTZrMaECNqiF43dFnd-8HH3bJapq038rdwRmJfY4hWleX9BCJaCDdGNwgkOjg3VkcIJDpYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17314/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.46.39/tcp/52028/p2p/16Uiu2HAm6uH2eiR93X7ByrMoa2u3PXgiDhJu5fDZxnkNsWBgVbN1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-26_04-20-22__e90e84bb-7f99-4c44-9033-91de5e74e5ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.128.2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28743', '28744', '28745', '28746', '28747']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28743:28743 -p 28744:28744 -p 28745:28745 -p 28746:28746 -p 28747:28747 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28745 --rest-port=28743 --tcp-port=28744 --discv5-udp-port=28746 --rest-address=0.0.0.0 --nat=extip:172.18.128.2 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=62ca0a74d59f922bddeeab5ef5992eec2ecdedaeeeaa6b5a695abfdacb8ec59b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28747 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOH9inpjFEBFctNNMWO94ITcpUS3cMQnCCm31NMLWz3mXTzvxIr4VnRjMfs-EZsG7gHXtyCAhxE4n3muguxnFu8CgmlkgnY0gmlwhKwSLieKbXVsdGlhZGRyc5YACASsEi4nBss8AAoErBIuJwbLPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqoLeTWZ31uNDPAZ2yQ1fnkgUB1aqGpOxyktud-qPVtqDdGNwgss8g3VkcILLPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.128.2 waku 43bc86b14a2320f4612f2d92d1638fd1697b13e971add5b378b6c7e4a39ff074
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 43bc86b14a23. Setting up logs at ./log/docker/node4_2024-11-26_04-20-22__e90e84bb-7f99-4c44-9033-91de5e74e5ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 28743
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28743/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28743/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.2/tcp/28744/p2p/16Uiu2HAmEfWUXT3DpQcyxtFddCAhV9gUgH5PE6T8XV2iGRjyAMMa","/ip4/172.18.128.2/tcp/28745/ws/p2p/16Uiu2HAmEfWUXT3DpQcyxtFddCAhV9gUgH5PE6T8XV2iGRjyAMMa"],"enrUri":"enr:-L24QEjJA3YvjUVykqGBLPy-F4RAyYCuj0eLYyCR14VrevPoNhv3K5TbKrgLBea5ih4kGTTNaQ-tePboxN9vC7U3OiQCgmlkgnY0gmlwhKwSgAKKbXVsdGlhZGRyc5YACASsEoACBnBIAAoErBKAAgZwSd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDHdlvn0qujQdkQLsLMQYkskcXY5L6CXbvTti54p5AZSGDdGNwgnBIg3VkcIJwSoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28743/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.46.39/tcp/52028/p2p/16Uiu2HAm6uH2eiR93X7ByrMoa2u3PXgiDhJu5fDZxnkNsWBgVbN1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-26_04-20-22__e90e84bb-7f99-4c44-9033-91de5e74e5ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.193.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30740', '30741', '30742', '30743', '30744']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30740:30740 -p 30741:30741 -p 30742:30742 -p 30743:30743 -p 30744:30744 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30742 --rest-port=30740 --tcp-port=30741 --discv5-udp-port=30743 --rest-address=0.0.0.0 --nat=extip:172.18.193.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ccaacb30ed3c444c9de307eac4ef014dfebecafeb4fe64cfaf4dfaef9c3f062a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30744 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOH9inpjFEBFctNNMWO94ITcpUS3cMQnCCm31NMLWz3mXTzvxIr4VnRjMfs-EZsG7gHXtyCAhxE4n3muguxnFu8CgmlkgnY0gmlwhKwSLieKbXVsdGlhZGRyc5YACASsEi4nBss8AAoErBIuJwbLPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqoLeTWZ31uNDPAZ2yQ1fnkgUB1aqGpOxyktud-qPVtqDdGNwgss8g3VkcILLPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.193.120 waku 9520c30c599cc72c8d4c2cbeed385c5648cb65a40d3d44536abd49fb6e04d4be
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9520c30c599c. Setting up logs at ./log/docker/node5_2024-11-26_04-20-22__e90e84bb-7f99-4c44-9033-91de5e74e5ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 30740
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30740/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30740/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.120/tcp/30741/p2p/16Uiu2HAkzjzmvqWq1PQs6XRFW2dDrtXvKL6Wv1yN8GW7dU7gqqZb","/ip4/172.18.193.120/tcp/30742/ws/p2p/16Uiu2HAkzjzmvqWq1PQs6XRFW2dDrtXvKL6Wv1yN8GW7dU7gqqZb"],"enrUri":"enr:-L24QH_j85-zzQhbCW9vUAEvsg4ZpfWCJ43yvOBq_7pn-czqWuFktdLBWSJdIDpykWz7xlFSWTvueQ1mU5pggJGo8QMCgmlkgnY0gmlwhKwSwXiKbXVsdGlhZGRyc5YACASsEsF4BngVAAoErBLBeAZ4Ft0DgnJzhQADAQAAiXNlY3AyNTZrMaECTvwkKg7pInZCNxzg_BD3VjTCqg9UKAdHB7RsHmneI5KDdGNwgngVg3VkcIJ4F4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30740/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.46.39/tcp/52028/p2p/16Uiu2HAm6uH2eiR93X7ByrMoa2u3PXgiDhJu5fDZxnkNsWBgVbN1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52027/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21047/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17314/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28743/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30740/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732594831950807808,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21047/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732594831950807808,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732594831950807808,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28743/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732594831950807808,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30740/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732594831950807808,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30740/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732594832089761536,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21047/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732594832089761536,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732594832089761536,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28743/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732594832089761536,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30740/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732594832089761536,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 4a2850775240
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 7a8468f84361
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4a2850775240. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id cab5b06e2d46
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7a8468f84361. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 43bc86b14a23
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cab5b06e2d46. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 9520c30c599c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 43bc86b14a23. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.