[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_with_150_kb_payload with id: 2024-09-08_04-15-35__ec8d43a8-7221-46d3-a54e-468514388c75
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-08_04-15-35__ec8d43a8-7221-46d3-a54e-468514388c75__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.213.57
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6480', '6481', '6482', '6483', '6484']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6480:6480 -p 6481:6481 -p 6482:6482 -p 6483:6483 -p 6484:6484 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6482 --rest-port=6480 --tcp-port=6481 --discv5-udp-port=6483 --rest-address=0.0.0.0 --nat=extip:172.18.213.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c6066fbc514b64c5edfc7bb80c07de2746d88572172d59ac7eb32a20acf9f38c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6484 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.213.57 waku 3a9f7a2d0a4bba683d84e38f366818d2c90942876abb963b6fe12e7002513c1f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3a9f7a2d0a4b. Setting up logs at ./log/docker/node1_2024-09-08_04-15-35__ec8d43a8-7221-46d3-a54e-468514388c75__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6480
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6480/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6480/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.213.57/tcp/6481/p2p/16Uiu2HAkxWRtp7W6UBefc2L914Bon6xQk639i8fbTC5j9Gt8Kbra","/ip4/172.18.213.57/tcp/6482/ws/p2p/16Uiu2HAkxWRtp7W6UBefc2L914Bon6xQk639i8fbTC5j9Gt8Kbra"],"enrUri":"enr:-LO4QJtfCs5CKc13-5uOTb4b3CZDkzzXRa9qob4DM2cJt13CKd9fBXZYR1f8b42X3_nJ8pVk04Bjiq9f22wv-SW5PiABgmlkgnY0gmlwhKwS1TmKbXVsdGlhZGRyc4wACgSsEtU5BhlS3QOCcnOFAAMBAACJc2VjcDI1NmsxoQItywmylIT0JtLuHCto7zmj62qssFSkRfyoO0jKkd_q44N0Y3CCGVGDdWRwghlThXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-08_04-15-35__ec8d43a8-7221-46d3-a54e-468514388c75__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.151.162
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['8897', '8898', '8899', '8900', '8901']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 8897:8897 -p 8898:8898 -p 8899:8899 -p 8900:8900 -p 8901:8901 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8899 --rest-port=8897 --tcp-port=8898 --discv5-udp-port=8900 --rest-address=0.0.0.0 --nat=extip:172.18.151.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1cc88f66962dd3ffddf62adce5e7d5c5bd114f11d0bb8400c5eb9dcd144cfd6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8901 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJtfCs5CKc13-5uOTb4b3CZDkzzXRa9qob4DM2cJt13CKd9fBXZYR1f8b42X3_nJ8pVk04Bjiq9f22wv-SW5PiABgmlkgnY0gmlwhKwS1TmKbXVsdGlhZGRyc4wACgSsEtU5BhlS3QOCcnOFAAMBAACJc2VjcDI1NmsxoQItywmylIT0JtLuHCto7zmj62qssFSkRfyoO0jKkd_q44N0Y3CCGVGDdWRwghlThXdha3UyBQ --filternode=/ip4/172.18.213.57/tcp/6481/p2p/16Uiu2HAkxWRtp7W6UBefc2L914Bon6xQk639i8fbTC5j9Gt8Kbra
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.151.162 waku 1010553b26afcbeaad387e0b68011f3a4396b358f9b59ca4c859a65548af9353
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1010553b26af. Setting up logs at ./log/docker/node2_2024-09-08_04-15-35__ec8d43a8-7221-46d3-a54e-468514388c75__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 8897
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8897/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8897/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.151.162/tcp/8898/p2p/16Uiu2HAmRev2B8nQGuVyCLDLDrGfBHQRq9MqeJLKmgWcA9F9mX5L","/ip4/172.18.151.162/tcp/8899/ws/p2p/16Uiu2HAmRev2B8nQGuVyCLDLDrGfBHQRq9MqeJLKmgWcA9F9mX5L"],"enrUri":"enr:-LO4QLdUNsmnJrjr1ygMFVgkOgu8PH7WAL1VDxc3NJXkI6foOO40jORqVvQanwr-bsdnLFtgDU2uDQ6V-K-82U_7GzMBgmlkgnY0gmlwhKwSl6KKbXVsdGlhZGRyc4wACgSsEpeiBiLD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPBIwjbTqCYlzsvqn5gKWRGuEVjlg9WRvTFFueIzWWC04N0Y3CCIsKDdWRwgiLEhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8897/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.213.57/tcp/6481/p2p/16Uiu2HAkxWRtp7W6UBefc2L914Bon6xQk639i8fbTC5j9Gt8Kbra"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6480/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8897/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6d400865-2a22-415b-8e0e-8be3a92ddff8", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6d400865-2a22-415b-8e0e-8be3a92ddff8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:custom_logger.py:10 Log line was discarded because it's longer than max_log_line_length=5000
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 2 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8897/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:custom_logger.py:10 Log line was discarded because it's longer than max_log_line_length=5000
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3a9f7a2d0a4b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1010553b26af
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.