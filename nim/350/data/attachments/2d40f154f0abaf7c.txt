[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.96.4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['22273', '22274', '22275', '22276', '22277']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 22273:22273 -p 22274:22274 -p 22275:22275 -p 22276:22276 -p 22277:22277 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22275 --rest-port=22273 --tcp-port=22274 --discv5-udp-port=22276 --rest-address=0.0.0.0 --nat=extip:172.18.96.4 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ae8cf2bdb1add11ee42ed40a9c7eb2a0af1bf7c8baefe05a34d3c96da6fecae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22277 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.96.4 waku 36b7aea115722a2b638f4a46062ddb24ccef89f23005a5deef26317f21dab3c0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 36b7aea11572. Setting up logs at ./log/docker/receiving_node1_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 22273
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22273/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22273/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.4/tcp/22274/p2p/16Uiu2HAm11KBfR1gWebnxnNrhHqmr3xY7hEvqSL9t8DJ5hyj7Qrg","/ip4/172.18.96.4/tcp/22275/ws/p2p/16Uiu2HAm11KBfR1gWebnxnNrhHqmr3xY7hEvqSL9t8DJ5hyj7Qrg"],"enrUri":"enr:-LO4QIEu3SZyep8t-Lj6X57NS7EWK3QeMyg4Hy9j0QI9R0QKBFxyJ5O9HYTj1Aj6vjJkdAj-72b5itytmSWIAw_vN_ABgmlkgnY0gmlwhKwSYASKbXVsdGlhZGRyc4wACgSsEmAEBlcD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJS6Ksz8YkKak0LeV7fd0ii_B9OMLgxAyylSk9yPhdXDYN0Y3CCVwKDdWRwglcEhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.178.16
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63962', '63963', '63964', '63965', '63966']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63962:63962 -p 63963:63963 -p 63964:63964 -p 63965:63965 -p 63966:63966 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63964 --rest-port=63962 --tcp-port=63963 --discv5-udp-port=63965 --rest-address=0.0.0.0 --nat=extip:172.18.178.16 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e6d1c8ba0e2a5f0139a2d398a80ae2ae7339fcbaeca587ebe6aa4c81f7adfe1c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63966 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.178.16 waku ade2baa3cee7a8111004807fdd3be6cb0f09d165acd61f09181bdb9e712bdea1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ade2baa3cee7. Setting up logs at ./log/docker/receiving_node2_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63962
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63962/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63962/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.178.16/tcp/63963/p2p/16Uiu2HAmGeXupMU9gir6g5aSJ8fJeP8PA3YHDKUZm5SNXHXKJBZd","/ip4/172.18.178.16/tcp/63964/ws/p2p/16Uiu2HAmGeXupMU9gir6g5aSJ8fJeP8PA3YHDKUZm5SNXHXKJBZd"],"enrUri":"enr:-LO4QJYAkQZl9Ant4mUIOkIgBRDebGjcUuOXOs6-zh0wFdpdcb9weWbmqsp2d9x23KZ_VQpJOVnwvKyVHBARUNR11Z0BgmlkgnY0gmlwhKwSshCKbXVsdGlhZGRyc4wACgSsErIQBvnc3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM7UNpSxrsz5Tkxwrl_hTORb-N3-qRJhvI-m9pqKBDpVIN0Y3CC-duDdWRwgvndhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63962/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.4/tcp/22274/p2p/16Uiu2HAm11KBfR1gWebnxnNrhHqmr3xY7hEvqSL9t8DJ5hyj7Qrg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.50.60
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6053', '6054', '6055', '6056', '6057']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6053:6053 -p 6054:6054 -p 6055:6055 -p 6056:6056 -p 6057:6057 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6055 --rest-port=6053 --tcp-port=6054 --discv5-udp-port=6056 --rest-address=0.0.0.0 --nat=extip:172.18.50.60 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=defd0cfdaab181cd83bad3a12aaed7ea9106dad0a8ba0dc6eeefbed14348cfbc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6057 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QIEu3SZyep8t-Lj6X57NS7EWK3QeMyg4Hy9j0QI9R0QKBFxyJ5O9HYTj1Aj6vjJkdAj-72b5itytmSWIAw_vN_ABgmlkgnY0gmlwhKwSYASKbXVsdGlhZGRyc4wACgSsEmAEBlcD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJS6Ksz8YkKak0LeV7fd0ii_B9OMLgxAyylSk9yPhdXDYN0Y3CCVwKDdWRwglcEhXdha3UyCQ --lightpushnode=/ip4/172.18.96.4/tcp/22274/p2p/16Uiu2HAm11KBfR1gWebnxnNrhHqmr3xY7hEvqSL9t8DJ5hyj7Qrg --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.50.60 waku 4c1499b9f1f843cbe7e6af7f68d3afddc3e0cae754384fb8f972254546d23c07
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4c1499b9f1f8. Setting up logs at ./log/docker/lightpush_node1_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6053
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6053/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6053/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.60/tcp/6054/p2p/16Uiu2HAmNz8jm91LAQ8Br6YyD8SEU1K8cfG4KGVmWn3xv8JgSGC9","/ip4/172.18.50.60/tcp/6055/ws/p2p/16Uiu2HAmNz8jm91LAQ8Br6YyD8SEU1K8cfG4KGVmWn3xv8JgSGC9"],"enrUri":"enr:-LO4QHAgrG5OOL-SPml9u_b9BSMp6cqp63GNoBLrRZ91JCSGULP9q8J7c0fGaU8J1fwcawFijQN5PwrEWlpquz8GNjMBgmlkgnY0gmlwhKwSMjyKbXVsdGlhZGRyc4wACgSsEjI8Bhen3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOZfGNrFsFu0gQCPTmE7d-L9HHZZXAhOQu28S0C2Sdh2oN0Y3CCF6aDdWRwgheohXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6053/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.4/tcp/22274/p2p/16Uiu2HAm11KBfR1gWebnxnNrhHqmr3xY7hEvqSL9t8DJ5hyj7Qrg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6053/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.178.16/tcp/63963/p2p/16Uiu2HAmGeXupMU9gir6g5aSJ8fJeP8PA3YHDKUZm5SNXHXKJBZd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.181.115
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61263', '61264', '61265', '61266', '61267']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61263:61263 -p 61264:61264 -p 61265:61265 -p 61266:61266 -p 61267:61267 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61265 --rest-port=61263 --tcp-port=61264 --discv5-udp-port=61266 --rest-address=0.0.0.0 --nat=extip:172.18.181.115 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=06ead9fa31b80ccde9d7d54ab3c8aaecbcdb8566b8ac21bf6bda31dd2efeeffc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61267 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QIEu3SZyep8t-Lj6X57NS7EWK3QeMyg4Hy9j0QI9R0QKBFxyJ5O9HYTj1Aj6vjJkdAj-72b5itytmSWIAw_vN_ABgmlkgnY0gmlwhKwSYASKbXVsdGlhZGRyc4wACgSsEmAEBlcD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJS6Ksz8YkKak0LeV7fd0ii_B9OMLgxAyylSk9yPhdXDYN0Y3CCVwKDdWRwglcEhXdha3UyCQ --lightpushnode=/ip4/172.18.96.4/tcp/22274/p2p/16Uiu2HAm11KBfR1gWebnxnNrhHqmr3xY7hEvqSL9t8DJ5hyj7Qrg --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.181.115 waku d1be1a81296ddc83c5db13d0608d1bce03fdd23d8b3d632ae8dc68554f2ef3da
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d1be1a81296d. Setting up logs at ./log/docker/lightpush_node2_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61263
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61263/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61263/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.181.115/tcp/61264/p2p/16Uiu2HAkzCwcAEH7xx8Fmspsoea4i7jVYrhKiESokN4KTEhRvkxY","/ip4/172.18.181.115/tcp/61265/ws/p2p/16Uiu2HAkzCwcAEH7xx8Fmspsoea4i7jVYrhKiESokN4KTEhRvkxY"],"enrUri":"enr:-LO4QJFqi4nVpkP06tU6pAk09JLxH0c2rOjsFU9AjHPKOYnPYG5zPlCukX6Y7welT73koq7aY-pwiQVZZnjl8K2ysgABgmlkgnY0gmlwhKwStXOKbXVsdGlhZGRyc4wACgSsErVzBu9R3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJHB426gtXEz2hbBsaby_uzuoMEQMCCkICfFIxo-GYUqYN0Y3CC71CDdWRwgu9ShXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61263/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.4/tcp/22274/p2p/16Uiu2HAm11KBfR1gWebnxnNrhHqmr3xY7hEvqSL9t8DJ5hyj7Qrg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61263/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.178.16/tcp/63963/p2p/16Uiu2HAmGeXupMU9gir6g5aSJ8fJeP8PA3YHDKUZm5SNXHXKJBZd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.248.143
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['11386', '11387', '11388', '11389', '11390']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 11386:11386 -p 11387:11387 -p 11388:11388 -p 11389:11389 -p 11390:11390 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11388 --rest-port=11386 --tcp-port=11387 --discv5-udp-port=11389 --rest-address=0.0.0.0 --nat=extip:172.18.248.143 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7f1efdee5c95bacf79d97e6f9fd3c189de3d1b6d4dfbcc71ae12fdcd5ca77767 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11390 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QIEu3SZyep8t-Lj6X57NS7EWK3QeMyg4Hy9j0QI9R0QKBFxyJ5O9HYTj1Aj6vjJkdAj-72b5itytmSWIAw_vN_ABgmlkgnY0gmlwhKwSYASKbXVsdGlhZGRyc4wACgSsEmAEBlcD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJS6Ksz8YkKak0LeV7fd0ii_B9OMLgxAyylSk9yPhdXDYN0Y3CCVwKDdWRwglcEhXdha3UyCQ --lightpushnode=/ip4/172.18.96.4/tcp/22274/p2p/16Uiu2HAm11KBfR1gWebnxnNrhHqmr3xY7hEvqSL9t8DJ5hyj7Qrg --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.248.143 waku 4ed2c6bc55346693fe8e9e439114f46b9c46d1eb863c3d175d8eb31537da7ff9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4ed2c6bc5534. Setting up logs at ./log/docker/lightpush_node3_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11386
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11386/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11386/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.248.143/tcp/11387/p2p/16Uiu2HAmKu3t8JagfsuzWVfbyRuq2ggf3KSwSdQTC5uXz8dKgffu","/ip4/172.18.248.143/tcp/11388/ws/p2p/16Uiu2HAmKu3t8JagfsuzWVfbyRuq2ggf3KSwSdQTC5uXz8dKgffu"],"enrUri":"enr:-LO4QCchTpcmhVbCnacWp0Mgpsti_pd4Qw6t5Vnu7ViplyCSKWTpViFu-JxFxwih8-3EMjpAmOTgTdOJLTxwmM5A5Y8BgmlkgnY0gmlwhKwS-I-KbXVsdGlhZGRyc4wACgSsEviPBix83QOCcnOFAAMBAACJc2VjcDI1NmsxoQNrm-7ejnRTvA-dKfaj9v-44NTE1CZ3Et_PUYGTU5Q-IIN0Y3CCLHuDdWRwgix9hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11386/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.4/tcp/22274/p2p/16Uiu2HAm11KBfR1gWebnxnNrhHqmr3xY7hEvqSL9t8DJ5hyj7Qrg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11386/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.178.16/tcp/63963/p2p/16Uiu2HAmGeXupMU9gir6g5aSJ8fJeP8PA3YHDKUZm5SNXHXKJBZd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.28.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6980', '6981', '6982', '6983', '6984']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6980:6980 -p 6981:6981 -p 6982:6982 -p 6983:6983 -p 6984:6984 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6982 --rest-port=6980 --tcp-port=6981 --discv5-udp-port=6983 --rest-address=0.0.0.0 --nat=extip:172.18.28.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ccebc1f61ece4ea93d4cdca19a35d3dce0b8ca35bde1c40bbdf0b8b0fb0ed5ce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6984 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QIEu3SZyep8t-Lj6X57NS7EWK3QeMyg4Hy9j0QI9R0QKBFxyJ5O9HYTj1Aj6vjJkdAj-72b5itytmSWIAw_vN_ABgmlkgnY0gmlwhKwSYASKbXVsdGlhZGRyc4wACgSsEmAEBlcD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJS6Ksz8YkKak0LeV7fd0ii_B9OMLgxAyylSk9yPhdXDYN0Y3CCVwKDdWRwglcEhXdha3UyCQ --lightpushnode=/ip4/172.18.96.4/tcp/22274/p2p/16Uiu2HAm11KBfR1gWebnxnNrhHqmr3xY7hEvqSL9t8DJ5hyj7Qrg --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.28.55 waku 387f481ed735753bca8929b6b56342401cbce622149a16c43f85b836cb6dc814
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 387f481ed735. Setting up logs at ./log/docker/lightpush_node4_2024-09-08_04-19-25__aece395a-bc6f-4a98-9b6e-d181b98be872__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6980
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6980/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6980/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.28.55/tcp/6981/p2p/16Uiu2HAm8CJiiuZQSgb3VmqGiXHfesM9p6BwzxtrN8Kgv6ZB7cWH","/ip4/172.18.28.55/tcp/6982/ws/p2p/16Uiu2HAm8CJiiuZQSgb3VmqGiXHfesM9p6BwzxtrN8Kgv6ZB7cWH"],"enrUri":"enr:-LO4QFjT7KahEPKcqKvO0Rmr18TKB_fiFOd5LZGTEtvv6M9rKLZIA3s01INZQVqOxZKIGeMsygpOO5QcTGEPlEgkgowBgmlkgnY0gmlwhKwSHDeKbXVsdGlhZGRyc4wACgSsEhw3BhtG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK9u1dI_ATTJJvsuy_nGt4eJtOZgc1XVlNunhvyHrtA3oN0Y3CCG0WDdWRwghtHhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6980/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.4/tcp/22274/p2p/16Uiu2HAm11KBfR1gWebnxnNrhHqmr3xY7hEvqSL9t8DJ5hyj7Qrg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6980/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.178.16/tcp/63963/p2p/16Uiu2HAmGeXupMU9gir6g5aSJ8fJeP8PA3YHDKUZm5SNXHXKJBZd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22273/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63962/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6053/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725769175317896704}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725769175317896704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63962/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725769175317896704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61263/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725769175434195968}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725769175434195968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63962/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725769175434195968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11386/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725769175558021376}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725769175558021376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63962/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725769175558021376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6980/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725769175677951488}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725769175677951488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63962/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725769175677951488,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 36b7aea11572
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ade2baa3cee7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4c1499b9f1f8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d1be1a81296d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4ed2c6bc5534
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 387f481ed735
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.