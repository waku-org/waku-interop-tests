[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_edge_service_nodes_communication with id: 2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node6_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node7_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node8_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:438 Start 2 edges nodes and 3 service nodes 
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.0.128
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34120', '34121', '34122', '34123', '34124']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34120:34120 -p 34121:34121 -p 34122:34122 -p 34123:34123 -p 34124:34124 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34122 --rest-port=34120 --tcp-port=34121 --discv5-udp-port=34123 --rest-address=0.0.0.0 --nat=extip:172.18.0.128 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fcaffcfeecfdcdaaaf0b6c8be690f2b64dbf4d32cc11abc7e1baf0c2fb80aeee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34124 --metrics-logging=true --relay=true --store=true --lightpush=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a2757f141f63. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.0.128 waku f99c5cf06a8986b7d3354e1b323ffd1846cda496b8097b173774f24c01da3a52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f99c5cf06a89. Setting up logs at ./log/docker/node6_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 34120
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34120/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34120/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.128/tcp/34121/p2p/16Uiu2HAmUwEzvaTWDmqkDfM8HpR8vc2AWBrjEh1KXNqFMaKGyYS4","/ip4/172.18.0.128/tcp/34122/ws/p2p/16Uiu2HAmUwEzvaTWDmqkDfM8HpR8vc2AWBrjEh1KXNqFMaKGyYS4"],"enrUri":"enr:-L24QKa9IMmg2XQEcDHB-hPJhTiYEJISrtOPnI1_AcFiSRyUXx-vAa85naSsjTl_6ObGsOkS4RBjATaGvD54b_6Ng2ECgmlkgnY0gmlwhKwSAICKbXVsdGlhZGRyc5YACASsEgCABoVJAAoErBIAgAaFSt0DgnJzhQADAQAAiXNlY3AyNTZrMaED8eTY6LukkQ7mVF-z206KERDvw1y-0Yf8R4KouX5I8TmDdGNwgoVJg3VkcIKFS4V3YWt1Mgs"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.217.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9620', '9621', '9622', '9623', '9624']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9620:9620 -p 9621:9621 -p 9622:9622 -p 9623:9623 -p 9624:9624 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9622 --rest-port=9620 --tcp-port=9621 --discv5-udp-port=9623 --rest-address=0.0.0.0 --nat=extip:172.18.217.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac4fff863a4d97144cacb9cbe0a281689798e2c2e3eedf0df9cb1ca1c2d18b21 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9624 --metrics-logging=true --relay=false --lightpushnode=/ip4/172.18.0.128/tcp/34121/p2p/16Uiu2HAmUwEzvaTWDmqkDfM8HpR8vc2AWBrjEh1KXNqFMaKGyYS4 --discv5-bootstrap-node=enr:-L24QKa9IMmg2XQEcDHB-hPJhTiYEJISrtOPnI1_AcFiSRyUXx-vAa85naSsjTl_6ObGsOkS4RBjATaGvD54b_6Ng2ECgmlkgnY0gmlwhKwSAICKbXVsdGlhZGRyc5YACASsEgCABoVJAAoErBIAgAaFSt0DgnJzhQADAQAAiXNlY3AyNTZrMaED8eTY6LukkQ7mVF-z206KERDvw1y-0Yf8R4KouX5I8TmDdGNwgoVJg3VkcIKFS4V3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.217.50 waku 37b8db9f4258affd7b0a2668e525cf2cc3418e10b1c1c2656b452fd2d1ad28b7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 37b8db9f4258. Setting up logs at ./log/docker/node4_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 9620
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9620/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9620/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.50/tcp/9621/p2p/16Uiu2HAmTcCUYqjKjAewp2q9oiqc8xW1wCh8m9fs1crpbXWt2qTt","/ip4/172.18.217.50/tcp/9622/ws/p2p/16Uiu2HAmTcCUYqjKjAewp2q9oiqc8xW1wCh8m9fs1crpbXWt2qTt"],"enrUri":"enr:-L24QItiXjZky7DwlCEuRRyjMc2i0vl6WbENOEvDVdvsihD6RNxNLVQ1I8ihK_lfW4PIsqdRRhAO423slc2JpYqg1RYCgmlkgnY0gmlwhKwS2TKKbXVsdGlhZGRyc5YACASsEtkyBiWVAAoErBLZMgYllt0DgnJzhQADAQAAiXNlY3AyNTZrMaED3ihFfUBq3Pc-AlU_ow9OD_GcnMGxElFtkOUM0i7UWc-DdGNwgiWVg3VkcIIll4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.103.63
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36881', '36882', '36883', '36884', '36885']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36881:36881 -p 36882:36882 -p 36883:36883 -p 36884:36884 -p 36885:36885 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36883 --rest-port=36881 --tcp-port=36882 --discv5-udp-port=36884 --rest-address=0.0.0.0 --nat=extip:172.18.103.63 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0efbe6586a8f0d117fbe5b8a48ca831bdfd789aaa1c01ce9bba64817bb4baba9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36885 --metrics-logging=true --relay=true --store=true --discv5-bootstrap-node=enr:-L24QKa9IMmg2XQEcDHB-hPJhTiYEJISrtOPnI1_AcFiSRyUXx-vAa85naSsjTl_6ObGsOkS4RBjATaGvD54b_6Ng2ECgmlkgnY0gmlwhKwSAICKbXVsdGlhZGRyc5YACASsEgCABoVJAAoErBIAgAaFSt0DgnJzhQADAQAAiXNlY3AyNTZrMaED8eTY6LukkQ7mVF-z206KERDvw1y-0Yf8R4KouX5I8TmDdGNwgoVJg3VkcIKFS4V3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.103.63 waku 098da78740b6b5935b27400401e14ef6c48aa48c972ef1500a300ef83a566a6a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 098da78740b6. Setting up logs at ./log/docker/node7_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36881
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36881/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36881/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.63/tcp/36882/p2p/16Uiu2HAmS2NiWhq4raTdT9Rmf4CeeXwC3NxpnKjCTukTQYdZCvDL","/ip4/172.18.103.63/tcp/36883/ws/p2p/16Uiu2HAmS2NiWhq4raTdT9Rmf4CeeXwC3NxpnKjCTukTQYdZCvDL"],"enrUri":"enr:-L24QOoT4DkZpkfeb1UNN_n9WYp9ZXgy95tiDdpA0cSYOdM6JU3Ajxx-ELbROsPKSQCgZydurUvjWi4cCtJyskpY7OMCgmlkgnY0gmlwhKwSZz-KbXVsdGlhZGRyc5YACASsEmc_BpASAAoErBJnPwaQE90DgnJzhQADAQAAiXNlY3AyNTZrMaEDxqJqj5990bRdC3ChpT3UsrW5klhyM0fNvjY21uaGwreDdGNwgpASg3VkcIKQFIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.80.125
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37196', '37197', '37198', '37199', '37200']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37196:37196 -p 37197:37197 -p 37198:37198 -p 37199:37199 -p 37200:37200 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37198 --rest-port=37196 --tcp-port=37197 --discv5-udp-port=37199 --rest-address=0.0.0.0 --nat=extip:172.18.80.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfadf28b3ab5b7aaba4ea651ffb9540e24fc9e38856fdde6fecb8395aac8eb19 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37200 --metrics-logging=true --relay=true --filter=true --storenode=/ip4/172.18.103.63/tcp/36882/p2p/16Uiu2HAmS2NiWhq4raTdT9Rmf4CeeXwC3NxpnKjCTukTQYdZCvDL --discv5-bootstrap-node=enr:-L24QOoT4DkZpkfeb1UNN_n9WYp9ZXgy95tiDdpA0cSYOdM6JU3Ajxx-ELbROsPKSQCgZydurUvjWi4cCtJyskpY7OMCgmlkgnY0gmlwhKwSZz-KbXVsdGlhZGRyc5YACASsEmc_BpASAAoErBJnPwaQE90DgnJzhQADAQAAiXNlY3AyNTZrMaEDxqJqj5990bRdC3ChpT3UsrW5klhyM0fNvjY21uaGwreDdGNwgpASg3VkcIKQFIV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.80.125 waku f08e1b9cbe85b8581d070bf0b43562a1b86b9db0a2763e54f69135f55ffb01a7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f08e1b9cbe85. Setting up logs at ./log/docker/node8_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 37196
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37196/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37196/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.125/tcp/37197/p2p/16Uiu2HAmMYWsvDGEuMMQehQcvQv91gaX3wPgtJZyhdE7KJDacp1s","/ip4/172.18.80.125/tcp/37198/ws/p2p/16Uiu2HAmMYWsvDGEuMMQehQcvQv91gaX3wPgtJZyhdE7KJDacp1s"],"enrUri":"enr:-L24QNFIUJ6jaIlPa7KWLn13Uf2nKOOoJ7O6UfGQCTYvGPsDBoHUz4OMZAsgnytJHN6JcRW2LTy5OgA_wVKeUIHxUz4CgmlkgnY0gmlwhKwSUH2KbXVsdGlhZGRyc5YACASsElB9BpFNAAoErBJQfQaRTt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhBCih2hT41INLZvWEuf9ftuKMDEgte7qAYjRWaePfxaDdGNwgpFNg3VkcIKRT4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.27.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48407', '48408', '48409', '48410', '48411']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48407:48407 -p 48408:48408 -p 48409:48409 -p 48410:48410 -p 48411:48411 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48409 --rest-port=48407 --tcp-port=48408 --discv5-udp-port=48410 --rest-address=0.0.0.0 --nat=extip:172.18.27.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9da4cc1ee868af8b7bef6edb4440b8dd7801bef8d6cbaaebbed4053afff08eed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48411 --metrics-logging=true --relay=false --filternode=/ip4/172.18.80.125/tcp/37197/p2p/16Uiu2HAmMYWsvDGEuMMQehQcvQv91gaX3wPgtJZyhdE7KJDacp1s --storenode=/ip4/172.18.103.63/tcp/36882/p2p/16Uiu2HAmS2NiWhq4raTdT9Rmf4CeeXwC3NxpnKjCTukTQYdZCvDL --discv5-bootstrap-node=enr:-L24QOoT4DkZpkfeb1UNN_n9WYp9ZXgy95tiDdpA0cSYOdM6JU3Ajxx-ELbROsPKSQCgZydurUvjWi4cCtJyskpY7OMCgmlkgnY0gmlwhKwSZz-KbXVsdGlhZGRyc5YACASsEmc_BpASAAoErBJnPwaQE90DgnJzhQADAQAAiXNlY3AyNTZrMaEDxqJqj5990bRdC3ChpT3UsrW5klhyM0fNvjY21uaGwreDdGNwgpASg3VkcIKQFIV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.27.120 waku 11c0cfbdf71375b3146a745442a6ebf850bb617d5b94bd31d32d90192187d0a5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 11c0cfbdf713. Setting up logs at ./log/docker/node5_2024-11-28_04-08-01__b8e31fab-d546-4816-af84-cb3ef34536b1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 48407
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48407/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48407/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.27.120/tcp/48408/p2p/16Uiu2HAkxsv79prxGK6hrQzKfZBXXVWwMhkqAsERjYLxzBEN87SA","/ip4/172.18.27.120/tcp/48409/ws/p2p/16Uiu2HAkxsv79prxGK6hrQzKfZBXXVWwMhkqAsERjYLxzBEN87SA"],"enrUri":"enr:-L24QN-tbT0iZbqcG6nYVJ2NlIxrYvf13LH9oiPgd-jxjs7MRjVmW4j8pj0ZnKJDPGpk1pnxEgNQxKu2j8X5wCDXvzgCgmlkgnY0gmlwhKwSG3iKbXVsdGlhZGRyc5YACASsEht4Br0YAAoErBIbeAa9Gd0DgnJzhQADAQAAiXNlY3AyNTZrMaECM0wimFuVIw9SmyIJa2RvDnp8z-MT9leyQgZgC20TPRODdGNwgr0Yg3VkcIK9GoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:454 Connect 3 service nodes to relay subscriptions
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34120/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36881/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37196/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34120/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.103.63/tcp/36882/p2p/16Uiu2HAmS2NiWhq4raTdT9Rmf4CeeXwC3NxpnKjCTukTQYdZCvDL","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36881/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.0.128/tcp/34121/p2p/16Uiu2HAmUwEzvaTWDmqkDfM8HpR8vc2AWBrjEh1KXNqFMaKGyYS4","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true},{"protocol":"/vac/waku/lightpush/2.0.0-beta1","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37196/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.103.63/tcp/36882/p2p/16Uiu2HAmS2NiWhq4raTdT9Rmf4CeeXwC3NxpnKjCTukTQYdZCvDL","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":false},{"protocol":"/vac/waku/store-query/3.0.0","connected":false}],"origin":"Discv5"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:460 Edge node2 makes filter subscription to pubsubtopic /waku/2/rs/3/1 and content topic /test/1/waku-filter/proto
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48407/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:465 Check if service node1 receives message sent by edge node1
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9620/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1732766923537936128}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34120/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1732766923537936128,"ephemeral":false}]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:469 Check if edge node2 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"31e6f2dee452d6af74fa","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"/ywiz90rI5GAQ//fStFTe7zHK+sKCaJl1jawbu/hL/M="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:472 Check if service node3 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37196/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"daf40302d8f94ba7a8b5","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"/ywiz90rI5GAQ//fStFTe7zHK+sKCaJl1jawbu/hL/M="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:475 Check if edge node2 can get sent message using filter get request 
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48407/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1732766923537936128,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f99c5cf06a89
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 37b8db9f4258
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f99c5cf06a89. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 098da78740b6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 37b8db9f4258. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f08e1b9cbe85
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 098da78740b6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 11c0cfbdf713
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f08e1b9cbe85. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.