[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_with_no_pubsub_topic with id: 2024-11-28_04-11-39__99215db0-cdd0-44a1-b6ca-704ce6fd8a49
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-28_04-11-39__99215db0-cdd0-44a1-b6ca-704ce6fd8a49__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.215.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7796', '7797', '7798', '7799', '7800']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7796:7796 -p 7797:7797 -p 7798:7798 -p 7799:7799 -p 7800:7800 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7798 --rest-port=7796 --tcp-port=7797 --discv5-udp-port=7799 --rest-address=0.0.0.0 --nat=extip:172.18.215.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=78cd37daeb223a97b35dd5f49bf2b909da2b11031a4a9cfcade6ceaa18628754 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7800 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.215.149 waku 67a3f38a29577563e97fa89193071d345be166aa08b1f92488bd6ed57f34bf4d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 67a3f38a2957. Setting up logs at ./log/docker/node1_2024-11-28_04-11-39__99215db0-cdd0-44a1-b6ca-704ce6fd8a49__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7796
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bd4788f3a7b7. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7796/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7796/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.215.149/tcp/7797/p2p/16Uiu2HAkyScw1CoduSvFTd9LfZT75fpm84u7aCyusv6twpfmXa8U","/ip4/172.18.215.149/tcp/7798/ws/p2p/16Uiu2HAkyScw1CoduSvFTd9LfZT75fpm84u7aCyusv6twpfmXa8U"],"enrUri":"enr:-L24QM5a0Ur8s7prf5UUVEbk3WtbdkmyguAT4Eqs0GnOJL4pcCGhwoVAmbcTIZc7SDrtWEPOlDPMdl6cgoye5NbLJYYCgmlkgnY0gmlwhKwS15WKbXVsdGlhZGRyc5YACASsEteVBh51AAoErBLXlQYedt0DgnJzhQADAQAAiXNlY3AyNTZrMaECO6zhzKHIHeM7gUJ-k58Pnt4TbV-J_l8aqB-MJ_VSbkWDdGNwgh51g3VkcIIed4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-28_04-11-39__99215db0-cdd0-44a1-b6ca-704ce6fd8a49__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.248.187
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42822', '42823', '42824', '42825', '42826']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42822:42822 -p 42823:42823 -p 42824:42824 -p 42825:42825 -p 42826:42826 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42824 --rest-port=42822 --tcp-port=42823 --discv5-udp-port=42825 --rest-address=0.0.0.0 --nat=extip:172.18.248.187 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=63dab584a6f69ce3daf8ab289bcd76b171ff638ae0ffdf0ebffa7ec9e5fbcccc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42826 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QM5a0Ur8s7prf5UUVEbk3WtbdkmyguAT4Eqs0GnOJL4pcCGhwoVAmbcTIZc7SDrtWEPOlDPMdl6cgoye5NbLJYYCgmlkgnY0gmlwhKwS15WKbXVsdGlhZGRyc5YACASsEteVBh51AAoErBLXlQYedt0DgnJzhQADAQAAiXNlY3AyNTZrMaECO6zhzKHIHeM7gUJ-k58Pnt4TbV-J_l8aqB-MJ_VSbkWDdGNwgh51g3VkcIIed4V3YWt1MgU --filternode=/ip4/172.18.215.149/tcp/7797/p2p/16Uiu2HAkyScw1CoduSvFTd9LfZT75fpm84u7aCyusv6twpfmXa8U
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.248.187 waku 3ef7d9dde6734aaf01227a7e2bee29a0ae1727a5cee8962e4d5d0081127fa1bb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3ef7d9dde673. Setting up logs at ./log/docker/node2_2024-11-28_04-11-39__99215db0-cdd0-44a1-b6ca-704ce6fd8a49__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42822
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42822/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42822/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.248.187/tcp/42823/p2p/16Uiu2HAmVmBgLZrUcnNAvya25Rfxs8vj1dqKcAN98ZZm68rSwzCu","/ip4/172.18.248.187/tcp/42824/ws/p2p/16Uiu2HAmVmBgLZrUcnNAvya25Rfxs8vj1dqKcAN98ZZm68rSwzCu"],"enrUri":"enr:-L24QPqni-FzwhR0rR7whqlvbcXp1Qsmh24xvGJOIVFVJn2eAfVutJhigr0gPlYvC9GSIuiYqJioh10zxo6aOMjK3NcCgmlkgnY0gmlwhKwS-LuKbXVsdGlhZGRyc5YACASsEvi7BqdHAAoErBL4uwanSN0DgnJzhQADAQAAiXNlY3AyNTZrMaED_iz4wHGT9lF9BTMQwAVAraRO3alURdeg6nsbL-aaIpaDdGNwgqdHg3VkcIKnSYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42822/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.215.149/tcp/7797/p2p/16Uiu2HAkyScw1CoduSvFTd9LfZT75fpm84u7aCyusv6twpfmXa8U"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7796/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42822/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8048be40-17f1-41f1-a82b-9bcb2ebc92d3", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8048be40-17f1-41f1-a82b-9bcb2ebc92d3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42822/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 67a3f38a2957
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3ef7d9dde673
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 67a3f38a2957. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.