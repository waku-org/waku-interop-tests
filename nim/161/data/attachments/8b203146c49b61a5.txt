[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_subscribe_with_no_content_topic with id: 2024-04-22_14-24-03__b7cb75ec-c977-4ebb-b3f3-d54768b699d2
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:35 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-04-22_14-24-03__b7cb75ec-c977-4ebb-b3f3-d54768b699d2__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.26.143
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['58894', '58895', '58896', '58897', '58898']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:313 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:113 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 58894:58894 -p 58895:58895 -p 58896:58896 -p 58897:58897 -p 58898:58898 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58896 --rest-port=58894 --tcp-port=58895 --discv5-udp-port=58897 --rest-address=0.0.0.0 --nat=extip:172.18.26.143 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58898 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.26.143 waku 90625a302099fb4263a1e4f3d2837a6534dcd7ce8b06b816dbfc38a6df7d04cd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 90625a302099. Setting up logs at ./log/docker/node1_2024-04-22_14-24-03__b7cb75ec-c977-4ebb-b3f3-d54768b699d2__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:119 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 58894
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58894/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.26.143/tcp/58895/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.26.143/tcp/58896/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QDJkU42y9o-NdhH5lczY2cT84OENfAMagqCuUp3Z5wzUInBiEhu2tIJ3ylxBVfH9fUahIyCCSW0W1ZnIgrRyFeQBgmlkgnY0gmlwhKwSGo-KbXVsdGlhZGRyc4wACgSsEhqPBuYQ3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC5g-DdWRwguYRhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:189 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:40 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-04-22_14-24-03__b7cb75ec-c977-4ebb-b3f3-d54768b699d2__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.107.77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['46159', '46160', '46161', '46162', '46163']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:313 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:113 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 46159:46159 -p 46160:46160 -p 46161:46161 -p 46162:46162 -p 46163:46163 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46161 --rest-port=46159 --tcp-port=46160 --discv5-udp-port=46162 --rest-address=0.0.0.0 --nat=extip:172.18.107.77 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46163 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDJkU42y9o-NdhH5lczY2cT84OENfAMagqCuUp3Z5wzUInBiEhu2tIJ3ylxBVfH9fUahIyCCSW0W1ZnIgrRyFeQBgmlkgnY0gmlwhKwSGo-KbXVsdGlhZGRyc4wACgSsEhqPBuYQ3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC5g-DdWRwguYRhXdha3UyBQ --filternode=/ip4/172.18.26.143/tcp/58895/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.107.77 waku 39ec0f394906b1766bbc0f52b63eac4601a0a9074aa7ab91619e36f8b7abbcdc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 39ec0f394906. Setting up logs at ./log/docker/node2_2024-04-22_14-24-03__b7cb75ec-c977-4ebb-b3f3-d54768b699d2__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:119 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 46159
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46159/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.77/tcp/46160/p2p/16Uiu2HAkvEPo4WaRvSAqgEADaXyg59bCdEQ4S4qdg89EBxdcD5jy","/ip4/172.18.107.77/tcp/46161/ws/p2p/16Uiu2HAkvEPo4WaRvSAqgEADaXyg59bCdEQ4S4qdg89EBxdcD5jy"],"enrUri":"enr:-LO4QCnl2WR87AttpJ3AphXUyjk8cha9kq1YIfuYfi7rIht2cZddAcOFHsX0FuMpHXi5Bf9SCd4f6pIWDVYzutbPEXwBgmlkgnY0gmlwhKwSa02KbXVsdGlhZGRyc4wACgSsEmtNBrRR3QOCcnOFAAABAACJc2VjcDI1NmsxoQIL9_9fLlxitTmeH78JDXSfqEvx-VEshSUI1-1WWEEdnIN0Y3CCtFCDdWRwgrRShXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:189 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46159/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.26.143/tcp/58895/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:48 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58894/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46159/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9370c89b-5ef2-46dc-b840-199dda1004a8", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9370c89b-5ef2-46dc-b840-199dda1004a8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46159/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/0/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:46159/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Stopping container with id 90625a302099
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Stopping container with id 39ec0f394906
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Container stopped.