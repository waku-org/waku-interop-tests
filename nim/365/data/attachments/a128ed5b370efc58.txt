[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-09-19_04-21-06__4964da15-746a-46f0-83ad-dc1b75709121
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-19_04-21-06__4964da15-746a-46f0-83ad-dc1b75709121__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.45.84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56611', '56612', '56613', '56614', '56615']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56611:56611 -p 56612:56612 -p 56613:56613 -p 56614:56614 -p 56615:56615 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56613 --rest-port=56611 --tcp-port=56612 --discv5-udp-port=56614 --rest-address=0.0.0.0 --nat=extip:172.18.45.84 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=31f5d69f681d9a0edfeba15e18f87c2ffcfbb9b7be2e981f81e577d1dd70ef1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56615 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.45.84 waku 56e63a01f57b2634a78a67ce224a70be59a19befe54846d177917c0f73bbe64d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 56e63a01f57b. Setting up logs at ./log/docker/node1_2024-09-19_04-21-06__4964da15-746a-46f0-83ad-dc1b75709121__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56611
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56611/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56611/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.45.84/tcp/56612/p2p/16Uiu2HAkwvWUC9YaBVnkBaQLLkCAodNwju2asvpuFgSVHADrL63h","/ip4/172.18.45.84/tcp/56613/ws/p2p/16Uiu2HAkwvWUC9YaBVnkBaQLLkCAodNwju2asvpuFgSVHADrL63h"],"enrUri":"enr:-LO4QKi_3ojzOdEMbPcq4MvXxECcEJrdbLufIU-Y_vmZ-FLmVedaL3upw6IY5srBqEv7dero0SiJRLdILGgaeJJsLLUBgmlkgnY0gmlwhKwSLVSKbXVsdGlhZGRyc4wACgSsEi1UBt0l3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlGnbDx126-YrSQcEz6lCugDS9p5CdzVxiZlpZ4aEJGIN0Y3CC3SSDdWRwgt0mhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-19_04-21-06__4964da15-746a-46f0-83ad-dc1b75709121__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.145.192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['45641', '45642', '45643', '45644', '45645']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 45641:45641 -p 45642:45642 -p 45643:45643 -p 45644:45644 -p 45645:45645 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45643 --rest-port=45641 --tcp-port=45642 --discv5-udp-port=45644 --rest-address=0.0.0.0 --nat=extip:172.18.145.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=60ea5df48e51aefca5da03beacac8baf175c21fcf4cd4af9c9ccc7a7ec19bf6b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45645 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QKi_3ojzOdEMbPcq4MvXxECcEJrdbLufIU-Y_vmZ-FLmVedaL3upw6IY5srBqEv7dero0SiJRLdILGgaeJJsLLUBgmlkgnY0gmlwhKwSLVSKbXVsdGlhZGRyc4wACgSsEi1UBt0l3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlGnbDx126-YrSQcEz6lCugDS9p5CdzVxiZlpZ4aEJGIN0Y3CC3SSDdWRwgt0mhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.145.192 waku 2bbea3b4283d6b1a9789bb0b5752a3bb2f9562b3dba4f17740a492c32cbecfd5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2bbea3b4283d. Setting up logs at ./log/docker/node2_2024-09-19_04-21-06__4964da15-746a-46f0-83ad-dc1b75709121__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 45641
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45641/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45641/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.145.192/tcp/45642/p2p/16Uiu2HAmDtMyGUx13QPRqUUWJRxoaTe9k57yQPXEvsAffEk1me3G","/ip4/172.18.145.192/tcp/45643/ws/p2p/16Uiu2HAmDtMyGUx13QPRqUUWJRxoaTe9k57yQPXEvsAffEk1me3G"],"enrUri":"enr:-LO4QDK5BodV6pGFULim2swd40Dv5UWuQ0b2aesnELDx_XldeyCjYcVU_HEP16Qp9G14X2fgt93KpH93vhKwVxdZOIcBgmlkgnY0gmlwhKwSkcCKbXVsdGlhZGRyc4wACgSsEpHABrJL3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMSSK8AtlgvpFfDTUvXXcvqRR6YdPLRzDml1AMJ1UE3t4N0Y3CCskqDdWRwgrJMhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45641/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.45.84/tcp/56612/p2p/16Uiu2HAkwvWUC9YaBVnkBaQLLkCAodNwju2asvpuFgSVHADrL63h"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-19_04-21-06__4964da15-746a-46f0-83ad-dc1b75709121__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.126.254
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['8883', '8884', '8885', '8886', '8887']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 8883:8883 -p 8884:8884 -p 8885:8885 -p 8886:8886 -p 8887:8887 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8885 --rest-port=8883 --tcp-port=8884 --discv5-udp-port=8886 --rest-address=0.0.0.0 --nat=extip:172.18.126.254 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8dd7e2fc6d77a79431158dca51d3e4e97ccfcace388a2f85f728b2bbae0a6e55 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8887 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QKi_3ojzOdEMbPcq4MvXxECcEJrdbLufIU-Y_vmZ-FLmVedaL3upw6IY5srBqEv7dero0SiJRLdILGgaeJJsLLUBgmlkgnY0gmlwhKwSLVSKbXVsdGlhZGRyc4wACgSsEi1UBt0l3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlGnbDx126-YrSQcEz6lCugDS9p5CdzVxiZlpZ4aEJGIN0Y3CC3SSDdWRwgt0mhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.126.254 waku 34055dd52aaeba276d1e936582f4698120da9ca99715b329a9ebb0a22839ea00
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 34055dd52aae. Setting up logs at ./log/docker/node3_2024-09-19_04-21-06__4964da15-746a-46f0-83ad-dc1b75709121__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 8883
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8883/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8883/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.254/tcp/8884/p2p/16Uiu2HAm8cYyscCSfbjkXfrUZqNHRCNj7NZTkJYgQpMsuHWCLnUE","/ip4/172.18.126.254/tcp/8885/ws/p2p/16Uiu2HAm8cYyscCSfbjkXfrUZqNHRCNj7NZTkJYgQpMsuHWCLnUE"],"enrUri":"enr:-LO4QNdgoJU6tcXkyavImSgv1ZRm_p7yhhhsUTf4UoXNnL6Weo9Uaqk99zrlh1qUSwZve2IlD3LxEIqIeUlrXN7s38UBgmlkgnY0gmlwhKwSfv6KbXVsdGlhZGRyc4wACgSsEn7-BiK13QOCcnOFAAMBAACJc2VjcDI1NmsxoQLD8WfTqcqORDEYpnqQWJM-YPBcijBRiA9xOZwrqUatR4N0Y3CCIrSDdWRwgiK2hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8883/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.45.84/tcp/56612/p2p/16Uiu2HAkwvWUC9YaBVnkBaQLLkCAodNwju2asvpuFgSVHADrL63h"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-19_04-21-06__4964da15-746a-46f0-83ad-dc1b75709121__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.38.119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['34629', '34630', '34631', '34632', '34633']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 34629:34629 -p 34630:34630 -p 34631:34631 -p 34632:34632 -p 34633:34633 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34631 --rest-port=34629 --tcp-port=34630 --discv5-udp-port=34632 --rest-address=0.0.0.0 --nat=extip:172.18.38.119 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f00094bfbf8c0a3bdb3ae8e6e2bbdfdb691db7bc0e0ebc48717a1de3fda7291f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34633 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QKi_3ojzOdEMbPcq4MvXxECcEJrdbLufIU-Y_vmZ-FLmVedaL3upw6IY5srBqEv7dero0SiJRLdILGgaeJJsLLUBgmlkgnY0gmlwhKwSLVSKbXVsdGlhZGRyc4wACgSsEi1UBt0l3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlGnbDx126-YrSQcEz6lCugDS9p5CdzVxiZlpZ4aEJGIN0Y3CC3SSDdWRwgt0mhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.38.119 waku 10a5ed182d8efe39ff63d3b76f8b9f3af0c6651a0c51a4917cdfeb822408f41b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 10a5ed182d8e. Setting up logs at ./log/docker/node4_2024-09-19_04-21-06__4964da15-746a-46f0-83ad-dc1b75709121__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 34629
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34629/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34629/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.38.119/tcp/34630/p2p/16Uiu2HAmQ4z81naHEyt3bkdPPSkGyLm9K8eqg16Up2DS2DX7fvck","/ip4/172.18.38.119/tcp/34631/ws/p2p/16Uiu2HAmQ4z81naHEyt3bkdPPSkGyLm9K8eqg16Up2DS2DX7fvck"],"enrUri":"enr:-LO4QK9vt72U83-NWn_IFUiUpYHloB0HoVUaIQYFGCWkGMJfZ1E_6XKLGHYojBBcb53e76LHVDhF9GU-V3BwKcoIV1wBgmlkgnY0gmlwhKwSJneKbXVsdGlhZGRyc4wACgSsEiZ3BodH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOpljyfH5zp_Z3hlfJAppztfiQ-69s727A4F0x02YhsHYN0Y3CCh0aDdWRwgodIhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34629/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.45.84/tcp/56612/p2p/16Uiu2HAkwvWUC9YaBVnkBaQLLkCAodNwju2asvpuFgSVHADrL63h"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-19_04-21-06__4964da15-746a-46f0-83ad-dc1b75709121__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.6.220
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['31231', '31232', '31233', '31234', '31235']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 31231:31231 -p 31232:31232 -p 31233:31233 -p 31234:31234 -p 31235:31235 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31233 --rest-port=31231 --tcp-port=31232 --discv5-udp-port=31234 --rest-address=0.0.0.0 --nat=extip:172.18.6.220 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ccaaf008abadedeca84fabf92eea5ead494fdcd1c49a02e0c524d6a6996de8db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31235 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QKi_3ojzOdEMbPcq4MvXxECcEJrdbLufIU-Y_vmZ-FLmVedaL3upw6IY5srBqEv7dero0SiJRLdILGgaeJJsLLUBgmlkgnY0gmlwhKwSLVSKbXVsdGlhZGRyc4wACgSsEi1UBt0l3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlGnbDx126-YrSQcEz6lCugDS9p5CdzVxiZlpZ4aEJGIN0Y3CC3SSDdWRwgt0mhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.6.220 waku c25375032306e9be241324c9511fc906487ff5d0d9acf4223e2eb836b2c12987
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c25375032306. Setting up logs at ./log/docker/node5_2024-09-19_04-21-06__4964da15-746a-46f0-83ad-dc1b75709121__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 31231
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31231/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31231/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.6.220/tcp/31232/p2p/16Uiu2HAm9MrwTsY4dqbX1ymZ22ux3EAKk3VuLZgGbkySkW34kq7r","/ip4/172.18.6.220/tcp/31233/ws/p2p/16Uiu2HAm9MrwTsY4dqbX1ymZ22ux3EAKk3VuLZgGbkySkW34kq7r"],"enrUri":"enr:-LO4QJWOnTIdZRMSCgZ73VOwbKdJvQlM3SRnPnpmbyuMjw4HEQON8E6XDj2Bvb-7x4R4pSqZM77EnVMBqoJNuPdkhT0BgmlkgnY0gmlwhKwSBtyKbXVsdGlhZGRyc4wACgSsEgbcBnoB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLPCa-hrvjvrYpFbmCOcza2fJyRa7fp5kiVWqlbJzr9NYN0Y3CCegCDdWRwgnoChXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31231/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.45.84/tcp/56612/p2p/16Uiu2HAkwvWUC9YaBVnkBaQLLkCAodNwju2asvpuFgSVHADrL63h"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56611/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45641/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8883/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34629/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31231/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56611/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56611/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726719674973675520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45641/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726719674973675520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726719674973675520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726719674973675520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31231/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726719674973675520,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31231/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56611/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726719675128299776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45641/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726719675128299776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726719675128299776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726719675128299776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31231/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726719675128299776,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 56e63a01f57b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2bbea3b4283d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 34055dd52aae
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 10a5ed182d8e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c25375032306
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.