[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-09-19_04-15-01__a5ffd31b-f903-40f1-aa07-04551d82bedc
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-19_04-15-01__a5ffd31b-f903-40f1-aa07-04551d82bedc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.240.16
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['35980', '35981', '35982', '35983', '35984']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 35980:35980 -p 35981:35981 -p 35982:35982 -p 35983:35983 -p 35984:35984 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35982 --rest-port=35980 --tcp-port=35981 --discv5-udp-port=35983 --rest-address=0.0.0.0 --nat=extip:172.18.240.16 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bd99903bfeb0d71ca63ae8c7dceffd4be6fa279d2f70e0d4bcd58c825efd80dc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35984 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.240.16 waku 7e07fd95aff07e7886fd16aad4a1f81f6fdb77116e414e44dd8cc6a53b41a1d1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7e07fd95aff0. Setting up logs at ./log/docker/node1_2024-09-19_04-15-01__a5ffd31b-f903-40f1-aa07-04551d82bedc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35980
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35980/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35980/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.16/tcp/35981/p2p/16Uiu2HAmPaiP4924uNiTKf8EuBcaw6bkvt7sNi5ympqoFFTR5Zco","/ip4/172.18.240.16/tcp/35982/ws/p2p/16Uiu2HAmPaiP4924uNiTKf8EuBcaw6bkvt7sNi5ympqoFFTR5Zco"],"enrUri":"enr:-LO4QOaYcbitT1R5cewlsYmb4udRpb2VQmCOfMycY3eDsVEJXpSHvmh1TOmXa6VE7Ln4FZPlwunRZNLmf28vOolG0esBgmlkgnY0gmlwhKwS8BCKbXVsdGlhZGRyc4wACgSsEvAQBoyO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOiWC0VPPVB6nyNCZpeR-YL4KKYJMzXffWpp2cS9Mc1fIN0Y3CCjI2DdWRwgoyPhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-19_04-15-01__a5ffd31b-f903-40f1-aa07-04551d82bedc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.40.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['24597', '24598', '24599', '24600', '24601']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 24597:24597 -p 24598:24598 -p 24599:24599 -p 24600:24600 -p 24601:24601 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24599 --rest-port=24597 --tcp-port=24598 --discv5-udp-port=24600 --rest-address=0.0.0.0 --nat=extip:172.18.40.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a2cf1f0a5b1eda3ccc8abb33a80ad7cf3d33048fdd07b97b31e10c6cee47a4c5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24601 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOaYcbitT1R5cewlsYmb4udRpb2VQmCOfMycY3eDsVEJXpSHvmh1TOmXa6VE7Ln4FZPlwunRZNLmf28vOolG0esBgmlkgnY0gmlwhKwS8BCKbXVsdGlhZGRyc4wACgSsEvAQBoyO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOiWC0VPPVB6nyNCZpeR-YL4KKYJMzXffWpp2cS9Mc1fIN0Y3CCjI2DdWRwgoyPhXdha3UyBQ --filternode=/ip4/172.18.240.16/tcp/35981/p2p/16Uiu2HAmPaiP4924uNiTKf8EuBcaw6bkvt7sNi5ympqoFFTR5Zco
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.40.102 waku 82dcecd4c94cf51c0ed0fa4d45fa7047ad9ab00378c81c78847c28c15c9445ba
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 82dcecd4c94c. Setting up logs at ./log/docker/node2_2024-09-19_04-15-01__a5ffd31b-f903-40f1-aa07-04551d82bedc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 24597
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24597/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24597/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.40.102/tcp/24598/p2p/16Uiu2HAmGEwhyaiCTprihfE61gzJdXXNBt6RkR6jx7abChKFTiyG","/ip4/172.18.40.102/tcp/24599/ws/p2p/16Uiu2HAmGEwhyaiCTprihfE61gzJdXXNBt6RkR6jx7abChKFTiyG"],"enrUri":"enr:-LO4QM6PxjE2pQAXMPEVMZinPzi0GhROb4__QvguvQIAE0XBagVGyRMKxhHYwmsRNcj5Z4nlTIvHBoTPo67modmF5nkBgmlkgnY0gmlwhKwSKGaKbXVsdGlhZGRyc4wACgSsEihmBmAX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM1RdHH9f-blYNhfWp4YX_1-7n33PUEEUyX93j4m8DlM4N0Y3CCYBaDdWRwgmAYhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24597/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.16/tcp/35981/p2p/16Uiu2HAmPaiP4924uNiTKf8EuBcaw6bkvt7sNi5ympqoFFTR5Zco"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-19_04-15-01__a5ffd31b-f903-40f1-aa07-04551d82bedc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.54.118
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['28777', '28778', '28779', '28780', '28781']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 28777:28777 -p 28778:28778 -p 28779:28779 -p 28780:28780 -p 28781:28781 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28779 --rest-port=28777 --tcp-port=28778 --discv5-udp-port=28780 --rest-address=0.0.0.0 --nat=extip:172.18.54.118 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a4122ccccea513bb9dee8efac5cae0cbd628f4835e59ddcb06d81ce7aeff0b7e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28781 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOaYcbitT1R5cewlsYmb4udRpb2VQmCOfMycY3eDsVEJXpSHvmh1TOmXa6VE7Ln4FZPlwunRZNLmf28vOolG0esBgmlkgnY0gmlwhKwS8BCKbXVsdGlhZGRyc4wACgSsEvAQBoyO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOiWC0VPPVB6nyNCZpeR-YL4KKYJMzXffWpp2cS9Mc1fIN0Y3CCjI2DdWRwgoyPhXdha3UyBQ --filternode=/ip4/172.18.240.16/tcp/35981/p2p/16Uiu2HAmPaiP4924uNiTKf8EuBcaw6bkvt7sNi5ympqoFFTR5Zco
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.54.118 waku 2491f97097d6a36d4e6677ab78acc52efd352c1e15ff6f54051d1c9a5a740ecb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2491f97097d6. Setting up logs at ./log/docker/node3_2024-09-19_04-15-01__a5ffd31b-f903-40f1-aa07-04551d82bedc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28777
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28777/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28777/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.118/tcp/28778/p2p/16Uiu2HAm5f22mbm1wpQeCxaVyEU7kKFLNoGyQrndC9nXNLEntWB4","/ip4/172.18.54.118/tcp/28779/ws/p2p/16Uiu2HAm5f22mbm1wpQeCxaVyEU7kKFLNoGyQrndC9nXNLEntWB4"],"enrUri":"enr:-LO4QIEKe-jnGIytwR6DQEK1YKKQ4oDKeLEtTHwiMPaxlQugT6uYRn14db_3eHVaEI2_RyxNz-n7nveRoA58KpjVrxYBgmlkgnY0gmlwhKwSNnaKbXVsdGlhZGRyc4wACgSsEjZ2BnBr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKYABeFI_OLL4zQgL7NYPLaXI5_P_-w0sZPsbiXYIGVg4N0Y3CCcGqDdWRwgnBshXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28777/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.16/tcp/35981/p2p/16Uiu2HAmPaiP4924uNiTKf8EuBcaw6bkvt7sNi5ympqoFFTR5Zco"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-19_04-15-01__a5ffd31b-f903-40f1-aa07-04551d82bedc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.60.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['4569', '4570', '4571', '4572', '4573']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 4569:4569 -p 4570:4570 -p 4571:4571 -p 4572:4572 -p 4573:4573 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4571 --rest-port=4569 --tcp-port=4570 --discv5-udp-port=4572 --rest-address=0.0.0.0 --nat=extip:172.18.60.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=adbb0bc8eef8cbf5d9cfcad26874e315fcedc6f6a52f303feaa1a5adadfb2cb1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4573 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOaYcbitT1R5cewlsYmb4udRpb2VQmCOfMycY3eDsVEJXpSHvmh1TOmXa6VE7Ln4FZPlwunRZNLmf28vOolG0esBgmlkgnY0gmlwhKwS8BCKbXVsdGlhZGRyc4wACgSsEvAQBoyO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOiWC0VPPVB6nyNCZpeR-YL4KKYJMzXffWpp2cS9Mc1fIN0Y3CCjI2DdWRwgoyPhXdha3UyBQ --filternode=/ip4/172.18.240.16/tcp/35981/p2p/16Uiu2HAmPaiP4924uNiTKf8EuBcaw6bkvt7sNi5ympqoFFTR5Zco
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.60.139 waku 04a4279faa8792102af4b3c3d5dbbf089c175b79eb60c263abf7bd3b8d0a3863
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 04a4279faa87. Setting up logs at ./log/docker/node4_2024-09-19_04-15-01__a5ffd31b-f903-40f1-aa07-04551d82bedc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4569
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4569/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4569/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.139/tcp/4570/p2p/16Uiu2HAmEeu5XyJWT2T3nFnRDHTgdwnk5s5NnNr5Hqx2YLBfMyHu","/ip4/172.18.60.139/tcp/4571/ws/p2p/16Uiu2HAmEeu5XyJWT2T3nFnRDHTgdwnk5s5NnNr5Hqx2YLBfMyHu"],"enrUri":"enr:-LO4QL6seLrtFY3RKI422NmXQb3-4SAVlqLgKdvA0o1Fl21sCeUFT-vxPtaAlrbCoLkA1_9QhkpyXnBi9QegMGNB8r0BgmlkgnY0gmlwhKwSPIuKbXVsdGlhZGRyc4wACgSsEjyLBhHb3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMdsWnG5Fk3WksQBKDj4Uaj9hxPDkW7SDUkFFVHSQBqtIN0Y3CCEdqDdWRwghHchXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4569/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.16/tcp/35981/p2p/16Uiu2HAmPaiP4924uNiTKf8EuBcaw6bkvt7sNi5ympqoFFTR5Zco"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-19_04-15-01__a5ffd31b-f903-40f1-aa07-04551d82bedc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.157.231
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['54215', '54216', '54217', '54218', '54219']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 54215:54215 -p 54216:54216 -p 54217:54217 -p 54218:54218 -p 54219:54219 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54217 --rest-port=54215 --tcp-port=54216 --discv5-udp-port=54218 --rest-address=0.0.0.0 --nat=extip:172.18.157.231 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7a7eedfc3a81b847e1d5c86057cafaddcaaab0ff5a58ca0dab9e8f0aeee1dec9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54219 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOaYcbitT1R5cewlsYmb4udRpb2VQmCOfMycY3eDsVEJXpSHvmh1TOmXa6VE7Ln4FZPlwunRZNLmf28vOolG0esBgmlkgnY0gmlwhKwS8BCKbXVsdGlhZGRyc4wACgSsEvAQBoyO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOiWC0VPPVB6nyNCZpeR-YL4KKYJMzXffWpp2cS9Mc1fIN0Y3CCjI2DdWRwgoyPhXdha3UyBQ --filternode=/ip4/172.18.240.16/tcp/35981/p2p/16Uiu2HAmPaiP4924uNiTKf8EuBcaw6bkvt7sNi5ympqoFFTR5Zco
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.243.238
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40693', '40694', '40695', '40696', '40697']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40693:40693 -p 40694:40694 -p 40695:40695 -p 40696:40696 -p 40697:40697 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40695 --rest-port=40693 --tcp-port=40694 --discv5-udp-port=40696 --rest-address=0.0.0.0 --nat=extip:172.18.243.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a6194afddee35fd679b1cbfde3e7452bbfd60a84aaab27aed09f2c5acc255eaf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40697 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOaYcbitT1R5cewlsYmb4udRpb2VQmCOfMycY3eDsVEJXpSHvmh1TOmXa6VE7Ln4FZPlwunRZNLmf28vOolG0esBgmlkgnY0gmlwhKwS8BCKbXVsdGlhZGRyc4wACgSsEvAQBoyO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOiWC0VPPVB6nyNCZpeR-YL4KKYJMzXffWpp2cS9Mc1fIN0Y3CCjI2DdWRwgoyPhXdha3UyBQ --filternode=/ip4/172.18.240.16/tcp/35981/p2p/16Uiu2HAmPaiP4924uNiTKf8EuBcaw6bkvt7sNi5ympqoFFTR5Zco
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.243.238 waku 8449300a404d46924aded8988d0b9b3509fc250c205023c881b778f7a6a3d27a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8449300a404d. Setting up logs at ./log/docker/node5_2024-09-19_04-15-01__a5ffd31b-f903-40f1-aa07-04551d82bedc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40693
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40693/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40693/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.243.238/tcp/40694/p2p/16Uiu2HAmViYjvpHFCLgC4EXaxLgUQYPGHNaECbbby9XfjWDMdXYJ","/ip4/172.18.243.238/tcp/40695/ws/p2p/16Uiu2HAmViYjvpHFCLgC4EXaxLgUQYPGHNaECbbby9XfjWDMdXYJ"],"enrUri":"enr:-LO4QCoo9Dx9isLMV-OWcL812jMDhGrPbpzpPuqHgATD9LeHfFqWfTctJ7iW9x9d2DIWWD6l1vruLDX-f_ffYNYHt9cBgmlkgnY0gmlwhKwS8-6KbXVsdGlhZGRyc4wACgSsEvPuBp733QOCcnOFAAMBAACJc2VjcDI1NmsxoQP9gAtFobxxcwsuZlz0fUxULY8vdCKSdygV5xjfOrWH74N0Y3CCnvaDdWRwgp74hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40693/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.16/tcp/35981/p2p/16Uiu2HAmPaiP4924uNiTKf8EuBcaw6bkvt7sNi5ympqoFFTR5Zco"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35980/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24597/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d902cbd5-1f21-4cce-a9b9-355e7fd7c4b8", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d902cbd5-1f21-4cce-a9b9-355e7fd7c4b8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28777/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b4b8476e-f6d3-4168-bf1a-b9554b744508", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b4b8476e-f6d3-4168-bf1a-b9554b744508","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4569/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "00acc2af-1c22-45a4-a38c-08829fbb1ae7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"00acc2af-1c22-45a4-a38c-08829fbb1ae7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40693/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d823af38-7c8e-48a7-aea9-576ac252c7a7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d823af38-7c8e-48a7-aea9-576ac252c7a7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35980/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24597/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1726719310245901568,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35980/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28777/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:28777/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7e07fd95aff0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 82dcecd4c94c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2491f97097d6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 04a4279faa87
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8449300a404d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.