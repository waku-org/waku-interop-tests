[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_content_topic with id: 2024-09-19_04-16-54__b6a27c13-9091-46b8-8fbe-73461e8075b5
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-19_04-16-54__b6a27c13-9091-46b8-8fbe-73461e8075b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.102.155
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3461', '3462', '3463', '3464', '3465']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3461:3461 -p 3462:3462 -p 3463:3463 -p 3464:3464 -p 3465:3465 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3463 --rest-port=3461 --tcp-port=3462 --discv5-udp-port=3464 --rest-address=0.0.0.0 --nat=extip:172.18.102.155 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c242b9b18bf2ccd73fe9fbb8ddc8fefaaed2cc8b95acb5c245adae4b79851a6c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3465 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.102.155 waku 48cbf20212a386fd6a56d6f55a6e1a67d1b64ad21a99a7051761ac5b65f60f2f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 48cbf20212a3. Setting up logs at ./log/docker/node1_2024-09-19_04-16-54__b6a27c13-9091-46b8-8fbe-73461e8075b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3461
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3461/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3461/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.155/tcp/3462/p2p/16Uiu2HAkxiqyiNeGamk23AMBf3Nc5xVc55qDpLZzk1H7irTjxUQY","/ip4/172.18.102.155/tcp/3463/ws/p2p/16Uiu2HAkxiqyiNeGamk23AMBf3Nc5xVc55qDpLZzk1H7irTjxUQY"],"enrUri":"enr:-LO4QHmSBEBx7PPxEmL6MqQqoVyH_H-gdu7m6cG0KPLzpMtreTJU9J4LoaP0c6PAt4oxqjkHrPLlCmhaWTjw3PskwJgBgmlkgnY0gmlwhKwSZpuKbXVsdGlhZGRyc4wACgSsEmabBg2H3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIw-T1yFfcT4q85XjI9XCvPpcjwJf4PyJ7vdy90hYuMWYN0Y3CCDYaDdWRwgg2IhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-19_04-16-54__b6a27c13-9091-46b8-8fbe-73461e8075b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.43.166
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3552', '3553', '3554', '3555', '3556']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3552:3552 -p 3553:3553 -p 3554:3554 -p 3555:3555 -p 3556:3556 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3554 --rest-port=3552 --tcp-port=3553 --discv5-udp-port=3555 --rest-address=0.0.0.0 --nat=extip:172.18.43.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebba57a8d72fe3fbce183d187acc667a71e10ec91bacbdbadcb52637a4a2dca3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3556 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QHmSBEBx7PPxEmL6MqQqoVyH_H-gdu7m6cG0KPLzpMtreTJU9J4LoaP0c6PAt4oxqjkHrPLlCmhaWTjw3PskwJgBgmlkgnY0gmlwhKwSZpuKbXVsdGlhZGRyc4wACgSsEmabBg2H3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIw-T1yFfcT4q85XjI9XCvPpcjwJf4PyJ7vdy90hYuMWYN0Y3CCDYaDdWRwgg2IhXdha3UyBQ --filternode=/ip4/172.18.102.155/tcp/3462/p2p/16Uiu2HAkxiqyiNeGamk23AMBf3Nc5xVc55qDpLZzk1H7irTjxUQY
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.43.166 waku e80877d79321fb410cc48805dfa93371e2bcb1690b083e43979590d7ebe5fabc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e80877d79321. Setting up logs at ./log/docker/node2_2024-09-19_04-16-54__b6a27c13-9091-46b8-8fbe-73461e8075b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3552
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3552/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3552/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.43.166/tcp/3553/p2p/16Uiu2HAm5ZCD2ncfY9wdvTDDnqZnfkSbQnBUfHrt2qC4yb721yCz","/ip4/172.18.43.166/tcp/3554/ws/p2p/16Uiu2HAm5ZCD2ncfY9wdvTDDnqZnfkSbQnBUfHrt2qC4yb721yCz"],"enrUri":"enr:-LO4QBVg-hEAeMVNuO7kk2YTOMWDaIxZeF0d_DMeqq26CHtsGeeSKcLd4vGHFXCjiVKmMzcyLlwWlBQLvv0qbM_54IgBgmlkgnY0gmlwhKwSK6aKbXVsdGlhZGRyc4wACgSsEiumBg3i3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKWgh02WIMxkMHfcd46pTaUJth0d6_CjsaHMvI-LjoK54N0Y3CCDeGDdWRwgg3jhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3552/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.155/tcp/3462/p2p/16Uiu2HAkxiqyiNeGamk23AMBf3Nc5xVc55qDpLZzk1H7irTjxUQY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3461/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3552/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "80ab2387-bd1e-4437-a471-f2e432ff9c92", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"80ab2387-bd1e-4437-a471-f2e432ff9c92","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:3552/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:3552/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 48cbf20212a3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e80877d79321
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.