[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-12-27_10-42-15__f20e542f-d4ff-4357-9478-af587a02734e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-27_10-42-15__f20e542f-d4ff-4357-9478-af587a02734e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.134.154
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25516', '25517', '25518', '25519', '25520']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25516:25516 -p 25517:25517 -p 25518:25518 -p 25519:25519 -p 25520:25520 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25518 --rest-port=25516 --tcp-port=25517 --discv5-udp-port=25519 --rest-address=0.0.0.0 --nat=extip:172.18.134.154 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f8dffcc4bdc5dcfded1dd87b69efcc892eb281a8fde797db2b5daf6c0fdd038c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25520 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.134.154 waku 3e02728cdf33f7fad36b5f9b137c4d65c6cc8ad68f790908c4d15738d7bdc139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3e02728cdf33. Setting up logs at ./log/docker/node1_2024-12-27_10-42-15__f20e542f-d4ff-4357-9478-af587a02734e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 25516
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 776b797e6637. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25516/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25516/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.134.154/tcp/25517/p2p/16Uiu2HAmTNuNNBD9oFN2DVhH8HarXStYuBGa428jJugSkgXVkNeb","/ip4/172.18.134.154/tcp/25518/ws/p2p/16Uiu2HAmTNuNNBD9oFN2DVhH8HarXStYuBGa428jJugSkgXVkNeb"],"enrUri":"enr:-L24QDncz99wtnx7oWNcgD9zEfrkchgmn2MkHS5FlGbFrtyValsm3kqZtfH3DrO-hlh-1J0yrLd1021jhCrgQP1fEiICgmlkgnY0gmlwhKwShpqKbXVsdGlhZGRyc5YACASsEoaaBmOtAAoErBKGmgZjrt0DgnJzhQADAQAAiXNlY3AyNTZrMaED2sBg33CqlzS-rOleVjv4QWkennaDkO6MDP9frqWs1fCDdGNwgmOtg3VkcIJjr4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-27_10-42-15__f20e542f-d4ff-4357-9478-af587a02734e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.199.209
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33611', '33612', '33613', '33614', '33615']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33611:33611 -p 33612:33612 -p 33613:33613 -p 33614:33614 -p 33615:33615 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33613 --rest-port=33611 --tcp-port=33612 --discv5-udp-port=33614 --rest-address=0.0.0.0 --nat=extip:172.18.199.209 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aeda3bcedc2bef3d1d5a4c9dfacdb8a4d7d1cda7aa45c9d7aec22bfaedc8c9f2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33615 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDncz99wtnx7oWNcgD9zEfrkchgmn2MkHS5FlGbFrtyValsm3kqZtfH3DrO-hlh-1J0yrLd1021jhCrgQP1fEiICgmlkgnY0gmlwhKwShpqKbXVsdGlhZGRyc5YACASsEoaaBmOtAAoErBKGmgZjrt0DgnJzhQADAQAAiXNlY3AyNTZrMaED2sBg33CqlzS-rOleVjv4QWkennaDkO6MDP9frqWs1fCDdGNwgmOtg3VkcIJjr4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.199.209 waku 2c28b5840e790a10a36475cd924b4f3133f13c0dde7df6187b58c732a1484329
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2c28b5840e79. Setting up logs at ./log/docker/node2_2024-12-27_10-42-15__f20e542f-d4ff-4357-9478-af587a02734e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 33611
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33611/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33611/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.209/tcp/33612/p2p/16Uiu2HAmQhx4rYJ6MFKaoAS2SWRGjTa7FagZGv3fdWTXoYinyChb","/ip4/172.18.199.209/tcp/33613/ws/p2p/16Uiu2HAmQhx4rYJ6MFKaoAS2SWRGjTa7FagZGv3fdWTXoYinyChb"],"enrUri":"enr:-L24QO9GLEnr7bpFONC6QnPbJQKvMhCOWC3rQjCrFNQivFLFG1GeCxlBFxj5RKrm8p58EuL0WDLvoMFOHKt3VcVSgEsCgmlkgnY0gmlwhKwSx9GKbXVsdGlhZGRyc5YACASsEsfRBoNMAAoErBLH0QaDTd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsw5nW3JFf4vY6rOsWVLJhX95ovWz1qOr_x-yh3_bb66DdGNwgoNMg3VkcIKDToV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33611/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.134.154/tcp/25517/p2p/16Uiu2HAmTNuNNBD9oFN2DVhH8HarXStYuBGa428jJugSkgXVkNeb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-27_10-42-15__f20e542f-d4ff-4357-9478-af587a02734e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.43.61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61637', '61638', '61639', '61640', '61641']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61637:61637 -p 61638:61638 -p 61639:61639 -p 61640:61640 -p 61641:61641 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61639 --rest-port=61637 --tcp-port=61638 --discv5-udp-port=61640 --rest-address=0.0.0.0 --nat=extip:172.18.43.61 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=36fdd7ebaa6e3bf1dafccbbdd94c415bf597f6fe4be6e91ad77db33ac4fa86ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61641 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDncz99wtnx7oWNcgD9zEfrkchgmn2MkHS5FlGbFrtyValsm3kqZtfH3DrO-hlh-1J0yrLd1021jhCrgQP1fEiICgmlkgnY0gmlwhKwShpqKbXVsdGlhZGRyc5YACASsEoaaBmOtAAoErBKGmgZjrt0DgnJzhQADAQAAiXNlY3AyNTZrMaED2sBg33CqlzS-rOleVjv4QWkennaDkO6MDP9frqWs1fCDdGNwgmOtg3VkcIJjr4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.43.61 waku 2c8861747f836809b23e80796485f2d58ceb6f9c290fb9add4a345426db83a7d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2c8861747f83. Setting up logs at ./log/docker/node3_2024-12-27_10-42-15__f20e542f-d4ff-4357-9478-af587a02734e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61637
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61637/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61637/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.43.61/tcp/61638/p2p/16Uiu2HAmSRqaRR35teG6T9RvkGFx4DrxEZARegYsnBJwFbkDsnyC","/ip4/172.18.43.61/tcp/61639/ws/p2p/16Uiu2HAmSRqaRR35teG6T9RvkGFx4DrxEZARegYsnBJwFbkDsnyC"],"enrUri":"enr:-L24QPLJyigkIuPyiP1veWnEzQEc6k1_Kx8dmUJmD_RJXYVIG0ZJC0gmIdNPMo2VZzRcnCzPjzevdOvUVMyrSqKZLdoCgmlkgnY0gmlwhKwSKz2KbXVsdGlhZGRyc5YACASsEis9BvDGAAoErBIrPQbwx90DgnJzhQADAQAAiXNlY3AyNTZrMaEDzKUlaFHICjsoTQberC_adRdXTzsjSNGTvpBU8GYN_f-DdGNwgvDGg3VkcILwyIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61637/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.134.154/tcp/25517/p2p/16Uiu2HAmTNuNNBD9oFN2DVhH8HarXStYuBGa428jJugSkgXVkNeb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-27_10-42-15__f20e542f-d4ff-4357-9478-af587a02734e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.250.195
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12232', '12233', '12234', '12235', '12236']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12232:12232 -p 12233:12233 -p 12234:12234 -p 12235:12235 -p 12236:12236 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12234 --rest-port=12232 --tcp-port=12233 --discv5-udp-port=12235 --rest-address=0.0.0.0 --nat=extip:172.18.250.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bec4ffdadbc9d452c1a45418d4afc4b6d6a89c4ea45ceb4cfdbfe82d7247c5aa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12236 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDncz99wtnx7oWNcgD9zEfrkchgmn2MkHS5FlGbFrtyValsm3kqZtfH3DrO-hlh-1J0yrLd1021jhCrgQP1fEiICgmlkgnY0gmlwhKwShpqKbXVsdGlhZGRyc5YACASsEoaaBmOtAAoErBKGmgZjrt0DgnJzhQADAQAAiXNlY3AyNTZrMaED2sBg33CqlzS-rOleVjv4QWkennaDkO6MDP9frqWs1fCDdGNwgmOtg3VkcIJjr4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.250.195 waku e1705344d71c116b686916963b2974cfc30fba7a4c6021f6a015db20aa41d10f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e1705344d71c. Setting up logs at ./log/docker/node4_2024-12-27_10-42-15__f20e542f-d4ff-4357-9478-af587a02734e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 12232
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12232/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12232/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.195/tcp/12233/p2p/16Uiu2HAkyaarP4hjSMpuzpN8bBDLv5Cxx5HevmCLtkQhkoy1CzR8","/ip4/172.18.250.195/tcp/12234/ws/p2p/16Uiu2HAkyaarP4hjSMpuzpN8bBDLv5Cxx5HevmCLtkQhkoy1CzR8"],"enrUri":"enr:-L24QMEVDDgAalOT7yF4y9YnkQ3hvJJ7EohQ7XuqbGEL_w8BXpD3AqCN4VauqWrI60uVZu8vbewAVKWgB3smljg2PfYCgmlkgnY0gmlwhKwS-sOKbXVsdGlhZGRyc5YACASsEvrDBi_JAAoErBL6wwYvyt0DgnJzhQADAQAAiXNlY3AyNTZrMaECPbctTbp0CO8Rwkc-NaBrFdht-ddEs8I8obFxjyXxIjODdGNwgi_Jg3VkcIIvy4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12232/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.134.154/tcp/25517/p2p/16Uiu2HAmTNuNNBD9oFN2DVhH8HarXStYuBGa428jJugSkgXVkNeb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-27_10-42-15__f20e542f-d4ff-4357-9478-af587a02734e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.126.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37741', '37742', '37743', '37744', '37745']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37741:37741 -p 37742:37742 -p 37743:37743 -p 37744:37744 -p 37745:37745 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37743 --rest-port=37741 --tcp-port=37742 --discv5-udp-port=37744 --rest-address=0.0.0.0 --nat=extip:172.18.126.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eaecfd0c617afaa7b7e26a4e3954df0066d7965b4b2bf8a150f8ed8ec449aae6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37745 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDncz99wtnx7oWNcgD9zEfrkchgmn2MkHS5FlGbFrtyValsm3kqZtfH3DrO-hlh-1J0yrLd1021jhCrgQP1fEiICgmlkgnY0gmlwhKwShpqKbXVsdGlhZGRyc5YACASsEoaaBmOtAAoErBKGmgZjrt0DgnJzhQADAQAAiXNlY3AyNTZrMaED2sBg33CqlzS-rOleVjv4QWkennaDkO6MDP9frqWs1fCDdGNwgmOtg3VkcIJjr4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.126.55 waku 86607a79047ad95c9e72a1400d6f325aee90c1b8c062e02c3ed41f77ca4b22dc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 86607a79047a. Setting up logs at ./log/docker/node5_2024-12-27_10-42-15__f20e542f-d4ff-4357-9478-af587a02734e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 37741
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37741/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37741/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.55/tcp/37742/p2p/16Uiu2HAmBSQps1j5QuRzcXk4j1WkuHAv8J37hMeDAw7QJTJHpZ9N","/ip4/172.18.126.55/tcp/37743/ws/p2p/16Uiu2HAmBSQps1j5QuRzcXk4j1WkuHAv8J37hMeDAw7QJTJHpZ9N"],"enrUri":"enr:-L24QB59xCwF9cAZVTaXmVE9UM_ianSM_eb16S2R2bbp_38DGkSr48c7K18kbh6Xm3NqZdlNs7kCGCaiklyBn3haHTcCgmlkgnY0gmlwhKwSfjeKbXVsdGlhZGRyc5YACASsEn43BpNuAAoErBJ-NwaTb90DgnJzhQADAQAAiXNlY3AyNTZrMaEC7etv3d3dEAcueM-g9FHwfVoT1pWCMSrcIyVNNPeuXF2DdGNwgpNug3VkcIKTcIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37741/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.134.154/tcp/25517/p2p/16Uiu2HAmTNuNNBD9oFN2DVhH8HarXStYuBGa428jJugSkgXVkNeb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25516/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33611/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61637/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12232/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37741/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25516/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25516/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296142124789504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33611/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296142124789504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296142124789504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296142124789504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37741/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296142124789504,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25516/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25516/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296142250022400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33611/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296142250022400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296142250022400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296142250022400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37741/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296142250022400,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2c28b5840e79
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25516/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296143005530112,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296143005530112,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37741/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735296143005530112,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3e02728cdf33
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2c28b5840e79. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2c8861747f83
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3e02728cdf33. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e1705344d71c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2c8861747f83. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 86607a79047a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.