[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-27_10-39-38__65fd7779-864c-47d2-bc52-0c30047e78e6
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-27_10-39-38__65fd7779-864c-47d2-bc52-0c30047e78e6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.128.164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38004', '38005', '38006', '38007', '38008']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38004:38004 -p 38005:38005 -p 38006:38006 -p 38007:38007 -p 38008:38008 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38006 --rest-port=38004 --tcp-port=38005 --discv5-udp-port=38007 --rest-address=0.0.0.0 --nat=extip:172.18.128.164 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2e58b6cb70bdead7f9c9ea8dba6e9bde2fa43cca07d5ce8ac9fcb199b6a1c3ec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38008 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.128.164 waku 44555c02763fb9461091fd23d7dd11aca16cfedc54bb09d90bff0194e1c5d6e0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 44555c02763f. Setting up logs at ./log/docker/node1_2024-12-27_10-39-38__65fd7779-864c-47d2-bc52-0c30047e78e6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38004
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 20a08c8e26f6. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38004/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38004/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.164/tcp/38005/p2p/16Uiu2HAmQAtdYjh72MUrsFYgNkrUwvG3ZT4A4HAg5N8TZyM825RK","/ip4/172.18.128.164/tcp/38006/ws/p2p/16Uiu2HAmQAtdYjh72MUrsFYgNkrUwvG3ZT4A4HAg5N8TZyM825RK"],"enrUri":"enr:-L24QDbNOrVC7Fhl1GufPvBG_rXVaXe_5SgtLcjL2rSfkB64Llbhud-w1qNbaPk7ppAhEZ0i7yxGwgSZh-MxPgKN8DkCgmlkgnY0gmlwhKwSgKSKbXVsdGlhZGRyc5YACASsEoCkBpR1AAoErBKApAaUdt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqxmDYHYgrpt4sCdP3SGIbeto8Sl09LNXjtOezU63IiqDdGNwgpR1g3VkcIKUd4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-27_10-39-38__65fd7779-864c-47d2-bc52-0c30047e78e6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.46.240
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54635', '54636', '54637', '54638', '54639']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54635:54635 -p 54636:54636 -p 54637:54637 -p 54638:54638 -p 54639:54639 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54637 --rest-port=54635 --tcp-port=54636 --discv5-udp-port=54638 --rest-address=0.0.0.0 --nat=extip:172.18.46.240 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f2a6deb7dda7a9ca1fd8a9c62cc3bccb9ee14fb3ebe99c7e9846292bfaefcd6a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54639 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDbNOrVC7Fhl1GufPvBG_rXVaXe_5SgtLcjL2rSfkB64Llbhud-w1qNbaPk7ppAhEZ0i7yxGwgSZh-MxPgKN8DkCgmlkgnY0gmlwhKwSgKSKbXVsdGlhZGRyc5YACASsEoCkBpR1AAoErBKApAaUdt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqxmDYHYgrpt4sCdP3SGIbeto8Sl09LNXjtOezU63IiqDdGNwgpR1g3VkcIKUd4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.46.240 waku de6a93e1c775053839499367d5003a2d62093fb8a0ed34beaad279c4fd2f4499
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID de6a93e1c775. Setting up logs at ./log/docker/node2_2024-12-27_10-39-38__65fd7779-864c-47d2-bc52-0c30047e78e6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 54635
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54635/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54635/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.240/tcp/54636/p2p/16Uiu2HAm5vp1UUxmnWB8bnnvAzRVmwChdtXBqgcB5gnRAdut7A95","/ip4/172.18.46.240/tcp/54637/ws/p2p/16Uiu2HAm5vp1UUxmnWB8bnnvAzRVmwChdtXBqgcB5gnRAdut7A95"],"enrUri":"enr:-L24QMCGxVodJCVvq8kTLdVwVlq9W4J7cU7ZAwc-nU6CskYTA6yfNlgEcpcW-L-C805Fo3AIW-S0Lphj1Ziv7s5N7AsCgmlkgnY0gmlwhKwSLvCKbXVsdGlhZGRyc5YACASsEi7wBtVsAAoErBIu8AbVbd0DgnJzhQADAQAAiXNlY3AyNTZrMaECnAvKh21ceuRAeqivfiTCto0DoMHDW2aVabsRzzQTeTiDdGNwgtVsg3VkcILVboV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54635/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.164/tcp/38005/p2p/16Uiu2HAmQAtdYjh72MUrsFYgNkrUwvG3ZT4A4HAg5N8TZyM825RK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-27_10-39-38__65fd7779-864c-47d2-bc52-0c30047e78e6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.213.32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29198', '29199', '29200', '29201', '29202']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29198:29198 -p 29199:29199 -p 29200:29200 -p 29201:29201 -p 29202:29202 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29200 --rest-port=29198 --tcp-port=29199 --discv5-udp-port=29201 --rest-address=0.0.0.0 --nat=extip:172.18.213.32 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ed70ee05e4d51b4ce074af0f05ffd6eff0ebd64f5af986cbeb122f3c613bc73d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29202 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDbNOrVC7Fhl1GufPvBG_rXVaXe_5SgtLcjL2rSfkB64Llbhud-w1qNbaPk7ppAhEZ0i7yxGwgSZh-MxPgKN8DkCgmlkgnY0gmlwhKwSgKSKbXVsdGlhZGRyc5YACASsEoCkBpR1AAoErBKApAaUdt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqxmDYHYgrpt4sCdP3SGIbeto8Sl09LNXjtOezU63IiqDdGNwgpR1g3VkcIKUd4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.213.32 waku 42b9305643b726272e8ed9a3359fe2b7a4e87f33aad893065ce86a388ef8d762
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 42b9305643b7. Setting up logs at ./log/docker/node3_2024-12-27_10-39-38__65fd7779-864c-47d2-bc52-0c30047e78e6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29198
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29198/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29198/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.213.32/tcp/29199/p2p/16Uiu2HAmAgbHWC9H4p26oeEcGNGPkWR6msDSRhWrU3QjnQYUEyjM","/ip4/172.18.213.32/tcp/29200/ws/p2p/16Uiu2HAmAgbHWC9H4p26oeEcGNGPkWR6msDSRhWrU3QjnQYUEyjM"],"enrUri":"enr:-L24QF9nSEBKns3y_6nuQmv-99DwPy8v4oPapXtM7Aqd2Jm7UAhQwcNPjQt3-ICjFQb1t5uhF2koEhX7My3NP3IEKOUCgmlkgnY0gmlwhKwS1SCKbXVsdGlhZGRyc5YACASsEtUgBnIPAAoErBLVIAZyEN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC4rG1MQ7Azb3JeOsthDdlIeexKeSBghclCDqmvh9Q1NCDdGNwgnIPg3VkcIJyEYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29198/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.164/tcp/38005/p2p/16Uiu2HAmQAtdYjh72MUrsFYgNkrUwvG3ZT4A4HAg5N8TZyM825RK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-27_10-39-38__65fd7779-864c-47d2-bc52-0c30047e78e6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.25.242
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30251', '30252', '30253', '30254', '30255']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30251:30251 -p 30252:30252 -p 30253:30253 -p 30254:30254 -p 30255:30255 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30253 --rest-port=30251 --tcp-port=30252 --discv5-udp-port=30254 --rest-address=0.0.0.0 --nat=extip:172.18.25.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=320faea77ba65df8ab359bf15c0ba780e3a426a4cea3a861660f061aafba6ce6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30255 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDbNOrVC7Fhl1GufPvBG_rXVaXe_5SgtLcjL2rSfkB64Llbhud-w1qNbaPk7ppAhEZ0i7yxGwgSZh-MxPgKN8DkCgmlkgnY0gmlwhKwSgKSKbXVsdGlhZGRyc5YACASsEoCkBpR1AAoErBKApAaUdt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqxmDYHYgrpt4sCdP3SGIbeto8Sl09LNXjtOezU63IiqDdGNwgpR1g3VkcIKUd4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.25.242 waku 5df9b26aada880ef6f02195b5beb5be9153bbcd5e1caaaa0f4c605421885f54b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5df9b26aada8. Setting up logs at ./log/docker/node4_2024-12-27_10-39-38__65fd7779-864c-47d2-bc52-0c30047e78e6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30251
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30251/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30251/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.242/tcp/30252/p2p/16Uiu2HAmPirzAhvNCzm4yhkpD5KZumhNiuerR4aaahVfS9hAHWAp","/ip4/172.18.25.242/tcp/30253/ws/p2p/16Uiu2HAmPirzAhvNCzm4yhkpD5KZumhNiuerR4aaahVfS9hAHWAp"],"enrUri":"enr:-L24QDCZxHqL2hXdwwlKMvnCRR7lWcfe1741MqUWoW2BMsZFU2Ccfq6nVaYWUhDeOErPaz48TVFce_PvFZq1jrLfOzECgmlkgnY0gmlwhKwSGfKKbXVsdGlhZGRyc5YACASsEhnyBnYsAAoErBIZ8gZ2Ld0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpG6NgA8vK0vqwmCu4NF943ufjHC0wPHGa5bjRlgc5t2DdGNwgnYsg3VkcIJ2LoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30251/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.164/tcp/38005/p2p/16Uiu2HAmQAtdYjh72MUrsFYgNkrUwvG3ZT4A4HAg5N8TZyM825RK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-27_10-39-38__65fd7779-864c-47d2-bc52-0c30047e78e6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.246.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3305', '3306', '3307', '3308', '3309']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3305:3305 -p 3306:3306 -p 3307:3307 -p 3308:3308 -p 3309:3309 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3307 --rest-port=3305 --tcp-port=3306 --discv5-udp-port=3308 --rest-address=0.0.0.0 --nat=extip:172.18.246.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4ac87cc4d6992fe5a71acd0b5a1ce4e3bd6aa930f8baec336adceecb61aa7402 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3309 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDbNOrVC7Fhl1GufPvBG_rXVaXe_5SgtLcjL2rSfkB64Llbhud-w1qNbaPk7ppAhEZ0i7yxGwgSZh-MxPgKN8DkCgmlkgnY0gmlwhKwSgKSKbXVsdGlhZGRyc5YACASsEoCkBpR1AAoErBKApAaUdt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqxmDYHYgrpt4sCdP3SGIbeto8Sl09LNXjtOezU63IiqDdGNwgpR1g3VkcIKUd4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.246.136 waku b58664051ac12123c46d3756eaeea6b02e28f4af50244b705fa082b2a5bb15f1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b58664051ac1. Setting up logs at ./log/docker/node5_2024-12-27_10-39-38__65fd7779-864c-47d2-bc52-0c30047e78e6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3305
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3305/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3305/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.136/tcp/3306/p2p/16Uiu2HAmVZocYtW3EySABpQteXyFy156da18Z8rb8dZ3jKLUop3e","/ip4/172.18.246.136/tcp/3307/ws/p2p/16Uiu2HAmVZocYtW3EySABpQteXyFy156da18Z8rb8dZ3jKLUop3e"],"enrUri":"enr:-L24QLDCK_i07_X_f2e-Nns8SXsdvVI9LbozIRC1bhfpTxhdW3UkqWi-w5kBXJ8yyvtYPvhM9cktdZmQyNbiLDYevLACgmlkgnY0gmlwhKwS9oiKbXVsdGlhZGRyc5YACASsEvaIBgzqAAoErBL2iAYM690DgnJzhQADAQAAiXNlY3AyNTZrMaED-0KiKwqaEvWG87e0Fnu7tUrasKIxmdWEIjtFsiM5bHWDdGNwggzqg3VkcIIM7IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3305/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.164/tcp/38005/p2p/16Uiu2HAmQAtdYjh72MUrsFYgNkrUwvG3ZT4A4HAg5N8TZyM825RK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38004/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54635/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29198/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30251/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3305/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38004/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38004/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735295984612405760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54635/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735295984612405760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29198/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735295984612405760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30251/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735295984612405760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3305/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735295984612405760,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3305/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38004/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735295984738078464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54635/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735295984738078464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29198/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735295984738078464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30251/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735295984738078464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3305/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735295984738078464,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 44555c02763f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id de6a93e1c775
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 42b9305643b7
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 44555c02763f. Exiting log stream.
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container de6a93e1c775. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5df9b26aada8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 42b9305643b7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b58664051ac1
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5df9b26aada8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.