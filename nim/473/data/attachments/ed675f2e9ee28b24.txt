[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-01_04-14-55__36116ef8-c65f-43c0-a7f5-2a7a131409c0
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-01_04-14-55__36116ef8-c65f-43c0-a7f5-2a7a131409c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.138.193
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53719', '53720', '53721', '53722', '53723']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53719:53719 -p 53720:53720 -p 53721:53721 -p 53722:53722 -p 53723:53723 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53721 --rest-port=53719 --tcp-port=53720 --discv5-udp-port=53722 --rest-address=0.0.0.0 --nat=extip:172.18.138.193 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7296fc8ce530ecba63aefcd0f5d1c33e0f8da5fcec3aa2a3d84f25bce02aeaaa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53723 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.138.193 waku 091706c4da719b8cb6a7d80fbf747753f50227951fefc7f9c0cc0130e2b08056
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3eb4208a5b4e. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 091706c4da71. Setting up logs at ./log/docker/node1_2024-12-01_04-14-55__36116ef8-c65f-43c0-a7f5-2a7a131409c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 53719
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53719/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53719/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.193/tcp/53720/p2p/16Uiu2HAm9aWyhKUGWKLJXZpTfNreZ3j96tkAWAq61NokuFPfcpra","/ip4/172.18.138.193/tcp/53721/ws/p2p/16Uiu2HAm9aWyhKUGWKLJXZpTfNreZ3j96tkAWAq61NokuFPfcpra"],"enrUri":"enr:-L24QIsY5YYP3iEpZzZ7_C2gEOV_gOC8yQi0wXPZOkUndxAKRTuIrMrYK_O0pb4N1iH0C5nMs6P8JmRxCkg2tY1MZX4CgmlkgnY0gmlwhKwSisGKbXVsdGlhZGRyc5YACASsEorBBtHYAAoErBKKwQbR2d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0keqgAwNRifer_S75HD8wtEjc3aKRurU0QTDkjnoKO-DdGNwgtHYg3VkcILR2oV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-01_04-14-55__36116ef8-c65f-43c0-a7f5-2a7a131409c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.184.16
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31950', '31951', '31952', '31953', '31954']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31950:31950 -p 31951:31951 -p 31952:31952 -p 31953:31953 -p 31954:31954 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31952 --rest-port=31950 --tcp-port=31951 --discv5-udp-port=31953 --rest-address=0.0.0.0 --nat=extip:172.18.184.16 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f7559debed21d5119afd7eb7dccb33dd3d85e81acfbb159a0bff5affbda7afca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31954 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIsY5YYP3iEpZzZ7_C2gEOV_gOC8yQi0wXPZOkUndxAKRTuIrMrYK_O0pb4N1iH0C5nMs6P8JmRxCkg2tY1MZX4CgmlkgnY0gmlwhKwSisGKbXVsdGlhZGRyc5YACASsEorBBtHYAAoErBKKwQbR2d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0keqgAwNRifer_S75HD8wtEjc3aKRurU0QTDkjnoKO-DdGNwgtHYg3VkcILR2oV3YWt1MgU --filternode=/ip4/172.18.138.193/tcp/53720/p2p/16Uiu2HAm9aWyhKUGWKLJXZpTfNreZ3j96tkAWAq61NokuFPfcpra
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.184.16 waku a92e7329da724194f5397110647a3c0b0caa788a9f95874843a2a5cfe3fde95f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a92e7329da72. Setting up logs at ./log/docker/node2_2024-12-01_04-14-55__36116ef8-c65f-43c0-a7f5-2a7a131409c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 31950
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31950/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31950/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.184.16/tcp/31951/p2p/16Uiu2HAmGDBevgV8uYsTJeF8c4nJcWJoXmKUY1KkCuzc7S2zMoLT","/ip4/172.18.184.16/tcp/31952/ws/p2p/16Uiu2HAmGDBevgV8uYsTJeF8c4nJcWJoXmKUY1KkCuzc7S2zMoLT"],"enrUri":"enr:-L24QHcKHaYHSH9PnvDXjk0Y19vcKC8FkQ123veh1z_z0LHWFOLqeep2yn4C818JsrG55wuxt-UIt6UdoYwoLVSOj9MCgmlkgnY0gmlwhKwSuBCKbXVsdGlhZGRyc5YACASsErgQBnzPAAoErBK4EAZ80N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDNNJtoH4H5nPW4kmncfwRWvO8NNDPy9qWl498XJKOCnCDdGNwgnzPg3VkcIJ80YV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31950/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.193/tcp/53720/p2p/16Uiu2HAm9aWyhKUGWKLJXZpTfNreZ3j96tkAWAq61NokuFPfcpra"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-01_04-14-55__36116ef8-c65f-43c0-a7f5-2a7a131409c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.25.62
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48862', '48863', '48864', '48865', '48866']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48862:48862 -p 48863:48863 -p 48864:48864 -p 48865:48865 -p 48866:48866 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48864 --rest-port=48862 --tcp-port=48863 --discv5-udp-port=48865 --rest-address=0.0.0.0 --nat=extip:172.18.25.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6be1eaa1667b384e78e1fcec64826cd1ded542625dbd393b0ffe6bfdf44ea96d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48866 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIsY5YYP3iEpZzZ7_C2gEOV_gOC8yQi0wXPZOkUndxAKRTuIrMrYK_O0pb4N1iH0C5nMs6P8JmRxCkg2tY1MZX4CgmlkgnY0gmlwhKwSisGKbXVsdGlhZGRyc5YACASsEorBBtHYAAoErBKKwQbR2d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0keqgAwNRifer_S75HD8wtEjc3aKRurU0QTDkjnoKO-DdGNwgtHYg3VkcILR2oV3YWt1MgU --filternode=/ip4/172.18.138.193/tcp/53720/p2p/16Uiu2HAm9aWyhKUGWKLJXZpTfNreZ3j96tkAWAq61NokuFPfcpra
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.25.62 waku 6e30df1c9f7fb9774f5257a435bde4eb6acee1feacc2f5caf65f7fb17afaeb09
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6e30df1c9f7f. Setting up logs at ./log/docker/node3_2024-12-01_04-14-55__36116ef8-c65f-43c0-a7f5-2a7a131409c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 48862
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48862/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48862/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.62/tcp/48863/p2p/16Uiu2HAm6rLTFVfSPbvvXHrAzappAowywRXV8bRNTqSF6dwSsEPS","/ip4/172.18.25.62/tcp/48864/ws/p2p/16Uiu2HAm6rLTFVfSPbvvXHrAzappAowywRXV8bRNTqSF6dwSsEPS"],"enrUri":"enr:-L24QDhVAxrFruh_gseQ1DCgu4Ls_EsQmnRS2u08qwyb4H4oNVJBi2aE4GiO0IYKy-LzW2LyX0JnNv7ktjdAigdu7moCgmlkgnY0gmlwhKwSGT6KbXVsdGlhZGRyc5YACASsEhk-Br7fAAoErBIZPga-4N0DgnJzhQADAQAAiXNlY3AyNTZrMaECqcH_ZAGjA7OJp--6TECLUUSXGLbuLmj8Ii6CqVSvT4mDdGNwgr7fg3VkcIK-4YV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48862/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.193/tcp/53720/p2p/16Uiu2HAm9aWyhKUGWKLJXZpTfNreZ3j96tkAWAq61NokuFPfcpra"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-01_04-14-55__36116ef8-c65f-43c0-a7f5-2a7a131409c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.6.242
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64872', '64873', '64874', '64875', '64876']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64872:64872 -p 64873:64873 -p 64874:64874 -p 64875:64875 -p 64876:64876 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64874 --rest-port=64872 --tcp-port=64873 --discv5-udp-port=64875 --rest-address=0.0.0.0 --nat=extip:172.18.6.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0ddcb1c51afabf46c72a0eae6f0a7afc6302111936b5ee49edbfc22d4a9f908e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64876 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIsY5YYP3iEpZzZ7_C2gEOV_gOC8yQi0wXPZOkUndxAKRTuIrMrYK_O0pb4N1iH0C5nMs6P8JmRxCkg2tY1MZX4CgmlkgnY0gmlwhKwSisGKbXVsdGlhZGRyc5YACASsEorBBtHYAAoErBKKwQbR2d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0keqgAwNRifer_S75HD8wtEjc3aKRurU0QTDkjnoKO-DdGNwgtHYg3VkcILR2oV3YWt1MgU --filternode=/ip4/172.18.138.193/tcp/53720/p2p/16Uiu2HAm9aWyhKUGWKLJXZpTfNreZ3j96tkAWAq61NokuFPfcpra
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.6.242 waku c003e3817075ad41a5ccda09a365f069553484011d37d3f7e6eb00b73adb1f85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c003e3817075. Setting up logs at ./log/docker/node4_2024-12-01_04-14-55__36116ef8-c65f-43c0-a7f5-2a7a131409c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 64872
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64872/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64872/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.6.242/tcp/64873/p2p/16Uiu2HAm4YBUqEior6ikbUuoEJyqeK8CXmi1rwhMCq1P1Su8xuAC","/ip4/172.18.6.242/tcp/64874/ws/p2p/16Uiu2HAm4YBUqEior6ikbUuoEJyqeK8CXmi1rwhMCq1P1Su8xuAC"],"enrUri":"enr:-L24QCBljfgXcYOhkMDjn5V9xl2wESmbBA045_AXQRo8-IO2XkLfeY230Yk25237sZrm92ToJaf5pUzOD8ak0gXBtO0CgmlkgnY0gmlwhKwSBvKKbXVsdGlhZGRyc5YACASsEgbyBv1pAAoErBIG8gb9at0DgnJzhQADAQAAiXNlY3AyNTZrMaECh2QGEbL13YdAmaExJXFU6p2kpY5yiWjSHDxczbDrVi2DdGNwgv1pg3VkcIL9a4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64872/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.193/tcp/53720/p2p/16Uiu2HAm9aWyhKUGWKLJXZpTfNreZ3j96tkAWAq61NokuFPfcpra"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-01_04-14-55__36116ef8-c65f-43c0-a7f5-2a7a131409c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.187.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13247', '13248', '13249', '13250', '13251']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13247:13247 -p 13248:13248 -p 13249:13249 -p 13250:13250 -p 13251:13251 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13249 --rest-port=13247 --tcp-port=13248 --discv5-udp-port=13250 --rest-address=0.0.0.0 --nat=extip:172.18.187.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ced74b6efab6e8d2c57ec680ee1b682fcd2993fd0daf9db9dd2c39f522677ce7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13251 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIsY5YYP3iEpZzZ7_C2gEOV_gOC8yQi0wXPZOkUndxAKRTuIrMrYK_O0pb4N1iH0C5nMs6P8JmRxCkg2tY1MZX4CgmlkgnY0gmlwhKwSisGKbXVsdGlhZGRyc5YACASsEorBBtHYAAoErBKKwQbR2d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0keqgAwNRifer_S75HD8wtEjc3aKRurU0QTDkjnoKO-DdGNwgtHYg3VkcILR2oV3YWt1MgU --filternode=/ip4/172.18.138.193/tcp/53720/p2p/16Uiu2HAm9aWyhKUGWKLJXZpTfNreZ3j96tkAWAq61NokuFPfcpra
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.187.56 waku 8afd46497d5d1b01c0f974690726053fa68712778f6f5a7a934eb7da039b9fe6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8afd46497d5d. Setting up logs at ./log/docker/node5_2024-12-01_04-14-55__36116ef8-c65f-43c0-a7f5-2a7a131409c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 13247
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13247/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13247/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.56/tcp/13248/p2p/16Uiu2HAm6kAEy3axfJUUeELzsKroqcW7kfyBXX7G5tKffWL4Gqcs","/ip4/172.18.187.56/tcp/13249/ws/p2p/16Uiu2HAm6kAEy3axfJUUeELzsKroqcW7kfyBXX7G5tKffWL4Gqcs"],"enrUri":"enr:-L24QGxPGfG57sX1QQtEBjYXccO_ii1eWEY7cCuW8tiOJV7UFQij6V9eVDVckSMRvK5ejqxWnrFFIuNttsLw4MOrHRcCgmlkgnY0gmlwhKwSuziKbXVsdGlhZGRyc5YACASsErs4BjPAAAoErBK7OAYzwd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqCz3XOpmlEKBidxDjC4CwnWEwIbbltdzFRXG-8_cw4iDdGNwgjPAg3VkcIIzwoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13247/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.193/tcp/53720/p2p/16Uiu2HAm9aWyhKUGWKLJXZpTfNreZ3j96tkAWAq61NokuFPfcpra"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53719/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31950/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "27c05418-55f4-4215-88af-4fcff5281388", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"27c05418-55f4-4215-88af-4fcff5281388","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48862/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0aab7a25-d5eb-4de5-9734-abf387ce7d3c", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0aab7a25-d5eb-4de5-9734-abf387ce7d3c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64872/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d9808df3-36bc-4c5d-9967-25a4eb3314fd", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d9808df3-36bc-4c5d-9967-25a4eb3314fd","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13247/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "45625136-a9ff-407e-afab-f0948c17059f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"45625136-a9ff-407e-afab-f0948c17059f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31950/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733026503925330176,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53719/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48862/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:48862/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 091706c4da71
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a92e7329da72
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 091706c4da71. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6e30df1c9f7f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a92e7329da72. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c003e3817075
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6e30df1c9f7f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8afd46497d5d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c003e3817075. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.