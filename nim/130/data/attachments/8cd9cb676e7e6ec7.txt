[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_subscribe_with_no_content_topic with id: 2024-04-04_04-14-32__2683f63f-2fc7-4f6e-ac50-1a39c6d80339
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-04-04_04-14-32__2683f63f-2fc7-4f6e-ac50-1a39c6d80339__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.126.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['59946', '59947', '59948', '59949', '59950']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:294 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 59946:59946 -p 59947:59947 -p 59948:59948 -p 59949:59949 -p 59950:59950 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59948 --rest-port=59946 --tcp-port=59947 --discv5-udp-port=59949 --rest-address=0.0.0.0 --nat=extip:172.18.126.82 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59950 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.126.82 waku 4b77558b4685c29ae4d4f31925174b8dce29208152971b93bc20665f89b4c084
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 4b77558b4685. Setting up logs at ./log/docker/node1_2024-04-04_04-14-32__2683f63f-2fc7-4f6e-ac50-1a39c6d80339__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 59946
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:59946/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.82/tcp/59947/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.126.82/tcp/59948/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LG4QJ6bSWIDXFYmpU7xXEST-EoNTLJS4v3vnJvnwco4xVJBKifO6ku71z4ZYYvHxQE5t6qnFOAoT2gTKhLW3YC2QIcBgmlkgnY0gmlwhKwSflKKbXVsdGlhZGRyc4wACgSsEn5SBuos3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwguorg3VkcILqLYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-04-04_04-14-32__2683f63f-2fc7-4f6e-ac50-1a39c6d80339__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.31.80
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['8033', '8034', '8035', '8036', '8037']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:294 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 8033:8033 -p 8034:8034 -p 8035:8035 -p 8036:8036 -p 8037:8037 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8035 --rest-port=8033 --tcp-port=8034 --discv5-udp-port=8036 --rest-address=0.0.0.0 --nat=extip:172.18.31.80 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8037 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LG4QJ6bSWIDXFYmpU7xXEST-EoNTLJS4v3vnJvnwco4xVJBKifO6ku71z4ZYYvHxQE5t6qnFOAoT2gTKhLW3YC2QIcBgmlkgnY0gmlwhKwSflKKbXVsdGlhZGRyc4wACgSsEn5SBuos3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwguorg3VkcILqLYV3YWt1MgU --filternode=/ip4/172.18.126.82/tcp/59947/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.31.80 waku 8e2e575c7dd0da55391c8bd77cbc0b2cc40868465c1883d40c84f6ed9df5244b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8e2e575c7dd0. Setting up logs at ./log/docker/node2_2024-04-04_04-14-32__2683f63f-2fc7-4f6e-ac50-1a39c6d80339__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 8033
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:8033/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.31.80/tcp/8034/p2p/16Uiu2HAmH41aMRD7dxkGoozpLkyPPqEgavAG87AhqwudiFzQ4PRS","/ip4/172.18.31.80/tcp/8035/ws/p2p/16Uiu2HAmH41aMRD7dxkGoozpLkyPPqEgavAG87AhqwudiFzQ4PRS"],"enrUri":"enr:-LG4QEIUctc6uRPIMz8GbV3cxqLJQMoQ0_p6weO8sWTctEz4aHfYvOcK_AKvmmFscqz3WvB7d1MSMQIsvYLmykLPdeIBgmlkgnY0gmlwhKwSH1CKbXVsdGlhZGRyc4wACgSsEh9QBh9j3QOCcnODAAAAiXNlY3AyNTZrMaEDQVR93qlGfeZtzHU58IQyjFrMEa8jC2pSUTu9gaa-nCmDdGNwgh9ig3VkcIIfZIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:8033/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.126.82/tcp/59947/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:59946/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:8033/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "02b888d5-fcc4-41bb-a6dd-a6d3e6180586", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"02b888d5-fcc4-41bb-a6dd-a6d3e6180586","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:8033/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/0/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:17 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:8033/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 4b77558b4685
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 8e2e575c7dd0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.