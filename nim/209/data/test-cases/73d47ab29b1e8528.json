{"uid":"73d47ab29b1e8528","name":"test_valid_payloads_at_slow_rate","fullName":"tests.relay.test_rln.TestRelayRLN#test_valid_payloads_at_slow_rate","historyId":"82c1f5145f7c67e5368a830435c55235","time":{"start":1716543765928,"stop":1716543787244,"duration":21316},"status":"failed","statusMessage":"AssertionError: Payloads failed: ['A simple string']\nassert not ['A simple string']","statusTrace":"tests/relay/test_rln.py:33: in test_valid_payloads_at_slow_rate\n    assert not failed_payloads, f\"Payloads failed: {failed_payloads}\"\nE   AssertionError: Payloads failed: ['A simple string']\nE   assert not ['A simple string']","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"test_id","time":{"start":1716543763696,"stop":1716543763696,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1716543763696,"stop":1716543763696,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1716543763696,"stop":1716543763696,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1716543763696,"stop":1716543763696,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1716543763696,"stop":1716543763697,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"register_main_rln_relay_nodes","time":{"start":1716543763697,"stop":1716543765927,"duration":2230},"status":"passed","steps":[{"name":"register_rln_single_node","time":{"start":1716543763697,"stop":1716543764753,"duration":1056},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rln_creds_source","value":"'{\"rln-relay-cred-password\": \"fog4238gjfdfQ\", \"rln-relay-eth-client-address\": \"https://sepolia.infura.io/v3/0fbc961f49944da4b8fde35715e2171b\",  \"rln-relay-eth-contract-address\": \"0xF471d71E9b1455bBF4b85d475afb9BB0954A29c4\",  \"rln-relay-eth-private-key-1\": \"d5f76ef141a96d916f99c72878a92cc6fb479af8441670d103e307d1184ab367\",  \"rln-relay-eth-private-key-2\": \"6bafcb0228b6b369b2de376bd9e37cdd3f5d30ce0787992b235acfacfa5de52e\",  \"rln-relay-eth-private-key-3\": \"f11b72833fea837ab8d4a1383b6d297c601600fcae5e95a1c22fa97fd20d16dd\",  \"rln-relay-eth-private-key-4\": \"259c2416e4216a45680ce82daf229eb33dc076dd2db76c7eb1c84cc2e35a9c8c\",  \"rln-relay-eth-private-key-5\": \"55cc95ecf3d32ce2ca1c5ead8ea1e3702812d285c1892b12bdc33e8c1e476ebe\"}'"},{"name":"rln_creds_id","value":"'1'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"register_rln_single_node","time":{"start":1716543764754,"stop":1716543765927,"duration":1173},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rln_creds_source","value":"'{\"rln-relay-cred-password\": \"fog4238gjfdfQ\", \"rln-relay-eth-client-address\": \"https://sepolia.infura.io/v3/0fbc961f49944da4b8fde35715e2171b\",  \"rln-relay-eth-contract-address\": \"0xF471d71E9b1455bBF4b85d475afb9BB0954A29c4\",  \"rln-relay-eth-private-key-1\": \"d5f76ef141a96d916f99c72878a92cc6fb479af8441670d103e307d1184ab367\",  \"rln-relay-eth-private-key-2\": \"6bafcb0228b6b369b2de376bd9e37cdd3f5d30ce0787992b235acfacfa5de52e\",  \"rln-relay-eth-private-key-3\": \"f11b72833fea837ab8d4a1383b6d297c601600fcae5e95a1c22fa97fd20d16dd\",  \"rln-relay-eth-private-key-4\": \"259c2416e4216a45680ce82daf229eb33dc076dd2db76c7eb1c84cc2e35a9c8c\",  \"rln-relay-eth-private-key-5\": \"55cc95ecf3d32ce2ca1c5ead8ea1e3702812d285c1892b12bdc33e8c1e476ebe\"}'"},{"name":"rln_creds_id","value":"'2'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_setup","time":{"start":1716543763697,"stop":1716543763697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Payloads failed: ['A simple string']\nassert not ['A simple string']","statusTrace":"tests/relay/test_rln.py:33: in test_valid_payloads_at_slow_rate\n    assert not failed_payloads, f\"Payloads failed: {failed_payloads}\"\nE   AssertionError: Payloads failed: ['A simple string']\nE   assert not ['A simple string']","steps":[{"name":"setup_main_rln_relay_nodes","time":{"start":1716543765928,"stop":1716543785806,"duration":19878},"status":"passed","steps":[{"name":"setup_first_rln_relay_node","time":{"start":1716543765928,"stop":1716543776471,"duration":10543},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_second_rln_relay_node","time":{"start":1716543776471,"stop":1716543785806,"duration":9335},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1716543785778,"stop":1716543785806,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.relay.test_rln.TestRelayRLN object at 0x7f035d3f3d10>, <src.node.waku_node.WakuNode object at 0x7f035d2bd340>, ['/ip4/172.18.27.87/tcp/8900/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_relay_nodes","time":{"start":1716543785808,"stop":1716543785834,"duration":26},"status":"passed","steps":[{"name":"ensure_relay_subscriptions_on_nodes","time":{"start":1716543785808,"stop":1716543785834,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node_list","value":"[<src.node.waku_node.WakuNode object at 0x7f035d167e60>, <src.node.waku_node.WakuNode object at 0x7f035d2bd340>]"},{"name":"pubsub_topic_list","value":"['/waku/2/rs/1/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1716543785834,"stop":1716543785834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'SGVsbG8gV29ybGQh'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1716543785834,"stop":1716543786243,"duration":409},"status":"broken","statusMessage":"marshmallow.exceptions.ValidationError: {'_schema': ['Invalid input type.']}\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/relay.py\", line 97, in check_published_message_reaches_relay_peer\n    waku_message.assert_received_message(message)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_message.py\", line 28, in assert_received_message\n    message = self.message_rpc_response_schema.load(self.received_messages)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/marshmallow_dataclass/__init__.py\", line 788, in load\n    all_loaded = super().load(data, many=many, **kwargs)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/marshmallow/schema.py\", line 722, in load\n    return self._do_load(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/marshmallow/schema.py\", line 909, in _do_load\n    raise exc\n","steps":[{"name":"assert_received_message","time":{"start":1716543786243,"stop":1716543786243,"duration":0},"status":"broken","statusMessage":"marshmallow.exceptions.ValidationError: {'_schema': ['Invalid input type.']}\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_message.py\", line 28, in assert_received_message\n    message = self.message_rpc_response_schema.load(self.received_messages)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/marshmallow_dataclass/__init__.py\", line 788, in load\n    all_loaded = super().load(data, many=many, **kwargs)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/marshmallow/schema.py\", line 722, in load\n    return self._do_load(\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/marshmallow/schema.py\", line 909, in _do_load\n    raise exc\n","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'SGVsbG8gV29ybGQh', 'contentTopic': '/test/1/waku-rln-relay/proto', 'timestamp': 1716543785833920512}"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'SGVsbG8gV29ybGQh', 'contentTopic': '/test/1/waku-rln-relay/proto', 'timestamp': 1716543785833920512}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"af50d3d493d9eaf1","name":"log","source":"af50d3d493d9eaf1.txt","type":"text/plain","size":52605}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":9,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1716543787258,"stop":1716543787260,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1716543787260,"stop":1716543792372,"duration":5112},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1716543792372,"stop":1716543792375,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"19966e30998c91b4","name":"node1_2024-05-24_09-42-43__380682f2-cce4-4c6b-88e6-358707e59a7b__harbor.status.im_wakuorg_nwaku:latest.log","source":"19966e30998c91b4.txt","type":"text/plain","size":116609},{"uid":"e3099c09e6056bf9","name":"node2_2024-05-24_09-42-43__380682f2-cce4-4c6b-88e6-358707e59a7b__harbor.status.im_wakuorg_nwaku:latest.log","source":"e3099c09e6056bf9.txt","type":"text/plain","size":115957}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.skipif(False, reason='Test works only with nwaku')"},{"name":"tag","value":"@pytest.mark.usefixtures('register_main_rln_relay_nodes')"},{"name":"tag","value":"xdist_group(name='RLN serial tests')"},{"name":"parentSuite","value":"tests.relay"},{"name":"suite","value":"test_rln"},{"name":"subSuite","value":"TestRelayRLN"},{"name":"host","value":"fv-az2031-223"},{"name":"thread","value":"2218-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.relay.test_rln"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c09bc94dcb20a7e9","status":"failed","statusDetails":"AssertionError: Payloads failed: ['A simple string']\nassert not ['A simple string']","time":{"start":1716543735842,"stop":1716543757575,"duration":21733}},{"uid":"89026b928ca799c","status":"failed","statusDetails":"AssertionError: Payloads failed: ['A simple string']\nassert not ['A simple string']","time":{"start":1716543709658,"stop":1716543728874,"duration":19216}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":11,"skipped":2,"passed":40,"unknown":0,"total":54},"items":[{"uid":"1dfe76f9ab71935f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/207//#testresult/1dfe76f9ab71935f","status":"passed","time":{"start":1716523921718,"stop":1716523993673,"duration":71955}},{"uid":"7b1477f5d7cf1917","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/206//#testresult/7b1477f5d7cf1917","status":"passed","time":{"start":1716437461800,"stop":1716437534375,"duration":72575}},{"uid":"8ce7660318b0afda","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/205//#testresult/8ce7660318b0afda","status":"passed","time":{"start":1716393012731,"stop":1716393085857,"duration":73126}},{"uid":"3642ad4208925ab4","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/203//#testresult/3642ad4208925ab4","status":"broken","statusDetails":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","time":{"start":1716361193347,"stop":1716361193347,"duration":0}},{"uid":"3b9bc6090ac7bbeb","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/202//#testresult/3b9bc6090ac7bbeb","status":"broken","statusDetails":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","time":{"start":1716351032911,"stop":1716351032911,"duration":0}},{"uid":"87cb05d1a9fab431","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/201//#testresult/87cb05d1a9fab431","status":"passed","time":{"start":1716316454568,"stop":1716316527532,"duration":72964}},{"uid":"b1ef6eefd52282d8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/200//#testresult/b1ef6eefd52282d8","status":"passed","time":{"start":1716301524940,"stop":1716301597596,"duration":72656}},{"uid":"5499efda79497fed","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/199//#testresult/5499efda79497fed","status":"passed","time":{"start":1716289741912,"stop":1716289815248,"duration":73336}},{"uid":"10091c1d292d1603","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/198//#testresult/10091c1d292d1603","status":"passed","time":{"start":1716288313859,"stop":1716288386019,"duration":72160}},{"uid":"ac078822f81bdbf3","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/197//#testresult/ac078822f81bdbf3","status":"passed","time":{"start":1716264661448,"stop":1716264733598,"duration":72150}},{"uid":"db3d045965a511b2","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/196//#testresult/db3d045965a511b2","status":"passed","time":{"start":1716202824612,"stop":1716202897123,"duration":72511}},{"uid":"e3cd46427d06f5ae","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/195//#testresult/e3cd46427d06f5ae","status":"passed","time":{"start":1716195192995,"stop":1716195266356,"duration":73361}},{"uid":"ab566369e6fd8514","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/194//#testresult/ab566369e6fd8514","status":"passed","time":{"start":1716178359908,"stop":1716178432347,"duration":72439}},{"uid":"71b7411e96dfee43","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/193//#testresult/71b7411e96dfee43","status":"passed","time":{"start":1716091897563,"stop":1716091970737,"duration":73174}},{"uid":"b9dd1d594f42386a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/192//#testresult/b9dd1d594f42386a","status":"passed","time":{"start":1716005425747,"stop":1716005498198,"duration":72451}},{"uid":"6fc89efe9076ef15","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/191//#testresult/6fc89efe9076ef15","status":"passed","time":{"start":1715919099108,"stop":1715919171829,"duration":72721}},{"uid":"1c2052f4dbcf2e62","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/190//#testresult/1c2052f4dbcf2e62","status":"passed","time":{"start":1715843581055,"stop":1715843655332,"duration":74277}},{"uid":"a674a2ec1be9c38","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/189//#testresult/a674a2ec1be9c38","status":"passed","time":{"start":1715832577168,"stop":1715832651055,"duration":73887}},{"uid":"768dc96ddb536c05","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/188//#testresult/768dc96ddb536c05","status":"passed","time":{"start":1715746274429,"stop":1715746346747,"duration":72318}},{"uid":"89c07e5f8981877c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/187//#testresult/89c07e5f8981877c","status":"passed","time":{"start":1715659825133,"stop":1715659897195,"duration":72062}}]},"tags":["@pytest.mark.skipif(False, reason='Test works only with nwaku')","xdist_group(name='RLN serial tests')","@pytest.mark.usefixtures('register_main_rln_relay_nodes')"]},"source":"73d47ab29b1e8528.json","parameterValues":[]}