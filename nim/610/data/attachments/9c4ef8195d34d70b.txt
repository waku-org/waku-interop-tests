[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_big_timestamp with id: 2025-01-08_04-04-20__62791f09-1e6c-4c01-8e78-ffdc11805cde
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-08_04-04-20__62791f09-1e6c-4c01-8e78-ffdc11805cde__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.57.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43849', '43850', '43851', '43852', '43853']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43849:43849 -p 43850:43850 -p 43851:43851 -p 43852:43852 -p 43853:43853 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43851 --rest-port=43849 --tcp-port=43850 --discv5-udp-port=43852 --rest-address=0.0.0.0 --nat=extip:172.18.57.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=79f99a4e0f6c259cec2e1fcd9c4b82119fd40f8c8dadddb4ccca1d96a6f0abd0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43853 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.57.149 waku 13a7c7696810d21849a5a2ac1d2d95788dfaccfc71a5dadd643f8adc5cbd069f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 13a7c7696810. Setting up logs at ./log/docker/publishing_node1_2025-01-08_04-04-20__62791f09-1e6c-4c01-8e78-ffdc11805cde__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 43849
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7f54794aa5e2. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43849/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43849/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.57.149/tcp/43850/p2p/16Uiu2HAmS3oG3GkGeTq2vG4YLoMvG3CMjkApdx2h9VoD6joRou5o","/ip4/172.18.57.149/tcp/43851/ws/p2p/16Uiu2HAmS3oG3GkGeTq2vG4YLoMvG3CMjkApdx2h9VoD6joRou5o"],"enrUri":"enr:-L24QPoj8mistdLK6-G8fe9gCkt__dNldG9P4S2mSufNAf5GL3Bmhf8LmIFpOwHnBAICKj6QYtaPFdiRIobr2OS67YACgmlkgnY0gmlwhKwSOZWKbXVsdGlhZGRyc5YACASsEjmVBqtKAAoErBI5lQarS90DgnJzhQADAQAAiXNlY3AyNTZrMaEDxv-_of05SguDzzlAHvueMSvMFs1DNKO0DN4ou2s4ntaDdGNwgqtKg3VkcIKrTIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-08_04-04-20__62791f09-1e6c-4c01-8e78-ffdc11805cde__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.210.5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51139', '51140', '51141', '51142', '51143']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51139:51139 -p 51140:51140 -p 51141:51141 -p 51142:51142 -p 51143:51143 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51141 --rest-port=51139 --tcp-port=51140 --discv5-udp-port=51142 --rest-address=0.0.0.0 --nat=extip:172.18.210.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=30bf27b37ea57beacce0a9a8cb0c386a4b66a3f205d4f97f4da4a1a00c42ffc9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51143 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPoj8mistdLK6-G8fe9gCkt__dNldG9P4S2mSufNAf5GL3Bmhf8LmIFpOwHnBAICKj6QYtaPFdiRIobr2OS67YACgmlkgnY0gmlwhKwSOZWKbXVsdGlhZGRyc5YACASsEjmVBqtKAAoErBI5lQarS90DgnJzhQADAQAAiXNlY3AyNTZrMaEDxv-_of05SguDzzlAHvueMSvMFs1DNKO0DN4ou2s4ntaDdGNwgqtKg3VkcIKrTIV3YWt1MgM --storenode=/ip4/172.18.57.149/tcp/43850/p2p/16Uiu2HAmS3oG3GkGeTq2vG4YLoMvG3CMjkApdx2h9VoD6joRou5o --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.210.5 waku 741543499e6ca8da98a808fe700ff51459eee4344c37134c76e15b1798814908
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 741543499e6c. Setting up logs at ./log/docker/store_node1_2025-01-08_04-04-20__62791f09-1e6c-4c01-8e78-ffdc11805cde__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51139
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51139/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51139/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.210.5/tcp/51140/p2p/16Uiu2HAmComMm6cVi4nJuz7Ybm6WipzfbPayHtMyQzKxhwPnoDrE","/ip4/172.18.210.5/tcp/51141/ws/p2p/16Uiu2HAmComMm6cVi4nJuz7Ybm6WipzfbPayHtMyQzKxhwPnoDrE"],"enrUri":"enr:-L24QLP_8JbJ06rQxm4opRO7q9URjAX8qwrZuo-o1r2sUb86NXGlOAARq9Gl7aQxZC-DllVGB3D7wp0ZXt_2Afai-ZkCgmlkgnY0gmlwhKwS0gWKbXVsdGlhZGRyc5YACASsEtIFBsfEAAoErBLSBQbHxd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDAj-JjeTNFxOiIrJhGy_3BX4oxDERFSRuD2YstcszYBeDdGNwgsfEg3VkcILHxoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51139/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.57.149/tcp/43850/p2p/16Uiu2HAmS3oG3GkGeTq2vG4YLoMvG3CMjkApdx2h9VoD6joRou5o"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43849/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51139/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:204 inquering stored messages with start time 1736309068706216192 after end time 2427509072940583936
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43849/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1736309068706216192&endTime=2427509072940583936&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"11byOhhtJCplv+OwNpQYqR3hDZf244fbLHd0eDYQsgg=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309068706216192,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"pC/OVRMjSyScIajbMAfr9EtOlBaD/4fbEQbBq2ZNTHY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309070706223104,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"Z74dR4Y61km4sk3yEI+mJDO76HCzmRzDe7nq6trnqVk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309071606224896,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"AGePywjwJxlbUr2a+Zn2VrHjfAI8CQpm81c3mKO/+Ww=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309071806226944,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"/vbsXCmN42vC1Ym/qvBp94rbMfKysdD0SIkADz3H8PM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309073706228992,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"IoqM7EHoHlknAuXHJeyeMGNkDPFuyd1MLXKuWT9HRkE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309081706231040,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1736309068706216192 and end time = 2427509072940583936 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51139/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1736309068706216192&endTime=2427509072940583936&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"11byOhhtJCplv+OwNpQYqR3hDZf244fbLHd0eDYQsgg=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309068706216192,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"pC/OVRMjSyScIajbMAfr9EtOlBaD/4fbEQbBq2ZNTHY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309070706223104,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"Z74dR4Y61km4sk3yEI+mJDO76HCzmRzDe7nq6trnqVk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309071606224896,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"AGePywjwJxlbUr2a+Zn2VrHjfAI8CQpm81c3mKO/+Ww=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309071806226944,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"/vbsXCmN42vC1Ym/qvBp94rbMfKysdD0SIkADz3H8PM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309073706228992,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"IoqM7EHoHlknAuXHJeyeMGNkDPFuyd1MLXKuWT9HRkE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736309081706231040,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1736309068706216192 and end time = 2427509072940583936 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 13a7c7696810
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 741543499e6c
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 13a7c7696810. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.