[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_extra_field with id: 2025-01-08_04-03-18__46248a2d-b97e-4810-aef6-5f44ad80da9f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-01-08_04-03-18__46248a2d-b97e-4810-aef6-5f44ad80da9f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.227.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3879', '3880', '3881', '3882', '3883']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3879:3879 -p 3880:3880 -p 3881:3881 -p 3882:3882 -p 3883:3883 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3881 --rest-port=3879 --tcp-port=3880 --discv5-udp-port=3882 --rest-address=0.0.0.0 --nat=extip:172.18.227.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0bea0977cbeeceddc4e6a9337bc707cca74234d3a8a06c0be55d6f1b5a85ef24 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3883 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.227.82 waku 9dbefe89c844afd89347c15379de2396a4355313d3a8b22ee9695711a2430d86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9dbefe89c844. Setting up logs at ./log/docker/receiving_node1_2025-01-08_04-03-18__46248a2d-b97e-4810-aef6-5f44ad80da9f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3879
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f50823735cad. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3879/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3879/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.227.82/tcp/3880/p2p/16Uiu2HAm3yQqyKFDa9iaT4mXDaSfvyoTX6dXsk94N3YDqd5ikBB8","/ip4/172.18.227.82/tcp/3881/ws/p2p/16Uiu2HAm3yQqyKFDa9iaT4mXDaSfvyoTX6dXsk94N3YDqd5ikBB8"],"enrUri":"enr:-L24QMu2RjSTXzbZkxZ6-YrQ2DINMiHr5R2J8CsdRjG2iC5ydwn_5aa3JSReXTuYssYJxppBwcZ0fHHOPe53mrIYGPYCgmlkgnY0gmlwhKwS41KKbXVsdGlhZGRyc5YACASsEuNSBg8oAAoErBLjUgYPKd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfv734BI62FT3itKvTrGrX_cvvuKlhBSpDNXcnUVoQ3uDdGNwgg8og3VkcIIPKoV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-01-08_04-03-18__46248a2d-b97e-4810-aef6-5f44ad80da9f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.42.172
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18982', '18983', '18984', '18985', '18986']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18982:18982 -p 18983:18983 -p 18984:18984 -p 18985:18985 -p 18986:18986 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18984 --rest-port=18982 --tcp-port=18983 --discv5-udp-port=18985 --rest-address=0.0.0.0 --nat=extip:172.18.42.172 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=56bfde40edcd9bb873e3bd5fda7de44ceb1fc6a0d5bfcbd303a90e14bbc8e6eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18986 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.42.172 waku ce94e333e0b51eceb502928dddf5b0fac9d7354aaae78c84391b2ffe33508f2d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ce94e333e0b5. Setting up logs at ./log/docker/receiving_node2_2025-01-08_04-03-18__46248a2d-b97e-4810-aef6-5f44ad80da9f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 18982
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18982/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18982/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.42.172/tcp/18983/p2p/16Uiu2HAmSiPbXiQXf9kfWCffaeJvfjUCbvmSgN7QppLTMwNZw3Sn","/ip4/172.18.42.172/tcp/18984/ws/p2p/16Uiu2HAmSiPbXiQXf9kfWCffaeJvfjUCbvmSgN7QppLTMwNZw3Sn"],"enrUri":"enr:-L24QJCaJmxOGP5h7J4r1oTt5dpfg7VemQCoyn8jTX5RfOHjF_n1SMKts2NW9JcZT24__PFPbIwYmswLlz3LWt_FbQQCgmlkgnY0gmlwhKwSKqyKbXVsdGlhZGRyc5YACASsEiqsBkonAAoErBIqrAZKKN0DgnJzhQADAQAAiXNlY3AyNTZrMaED0OKkqHvEinU3hTXJFfm1ykgRGLrk4_8cxSpfJj-aHC-DdGNwgkong3VkcIJKKYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18982/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.227.82/tcp/3880/p2p/16Uiu2HAm3yQqyKFDa9iaT4mXDaSfvyoTX6dXsk94N3YDqd5ikBB8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-01-08_04-03-18__46248a2d-b97e-4810-aef6-5f44ad80da9f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.14.128
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60591', '60592', '60593', '60594', '60595']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60591:60591 -p 60592:60592 -p 60593:60593 -p 60594:60594 -p 60595:60595 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60593 --rest-port=60591 --tcp-port=60592 --discv5-udp-port=60594 --rest-address=0.0.0.0 --nat=extip:172.18.14.128 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dcaabb21fc765bf22bd2a4dca5a4df53220accd0ad154aa5280bbdadbdac924a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60595 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QMu2RjSTXzbZkxZ6-YrQ2DINMiHr5R2J8CsdRjG2iC5ydwn_5aa3JSReXTuYssYJxppBwcZ0fHHOPe53mrIYGPYCgmlkgnY0gmlwhKwS41KKbXVsdGlhZGRyc5YACASsEuNSBg8oAAoErBLjUgYPKd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfv734BI62FT3itKvTrGrX_cvvuKlhBSpDNXcnUVoQ3uDdGNwgg8og3VkcIIPKoV3YWt1Mgk --lightpushnode=/ip4/172.18.227.82/tcp/3880/p2p/16Uiu2HAm3yQqyKFDa9iaT4mXDaSfvyoTX6dXsk94N3YDqd5ikBB8 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.14.128 waku 263a3d42d821824ddf7a9c0f679429447440cf119a76c35c33d191181f45b8d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 263a3d42d821. Setting up logs at ./log/docker/lightpush_node1_2025-01-08_04-03-18__46248a2d-b97e-4810-aef6-5f44ad80da9f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60591
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60591/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60591/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.128/tcp/60592/p2p/16Uiu2HAmJaSFSBMa2SbkJapoEMU5LVEXeqcihKk7Vs5EGthfurBE","/ip4/172.18.14.128/tcp/60593/ws/p2p/16Uiu2HAmJaSFSBMa2SbkJapoEMU5LVEXeqcihKk7Vs5EGthfurBE"],"enrUri":"enr:-L24QDj6XmrfTp8WX0VEY-Fw9B-nSjCE5jHfnAGkY99sQvtOU5e_4ImUgAoPcybo6ZlMItF5TdCtE2ON-nBkWptCrykCgmlkgnY0gmlwhKwSDoCKbXVsdGlhZGRyc5YACASsEg6ABuywAAoErBIOgAbssd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDV_uAbRyhetFxf2JFo79ofjtTNi-zPc9Ha8bTr-PVQPWDdGNwguywg3VkcILssoV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60591/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.227.82/tcp/3880/p2p/16Uiu2HAm3yQqyKFDa9iaT4mXDaSfvyoTX6dXsk94N3YDqd5ikBB8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60591/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.42.172/tcp/18983/p2p/16Uiu2HAmSiPbXiQXf9kfWCffaeJvfjUCbvmSgN7QppLTMwNZw3Sn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3879/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18982/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60591/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1736309002101616384, "extraField": "extraValue"}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:60591/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9dbefe89c844
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ce94e333e0b5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9dbefe89c844. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 263a3d42d821
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ce94e333e0b5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.