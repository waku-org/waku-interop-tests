2025-02-09 04:03:08.738 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 04:03:08.739 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-09_04-03-08__0d52939a-90fc-4fad-9051-27af1d31d265
2025-02-09 04:03:08.739 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 04:03:08.739 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-09 04:03:08.746 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:03:08.746 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-09_04-03-08__0d52939a-90fc-4fad-9051-27af1d31d265__wakuorg_nwaku:latest.log
2025-02-09 04:03:08.746 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:03:08.746 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:03:08.748 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:03:08.748 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.47.139
2025-02-09 04:03:08.748 DEBUG [src.node.docker_mananger] Generated ports ['46066', '46067', '46068', '46069', '46070']
2025-02-09 04:03:08.748 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:03:08.748 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:03:08.748 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:03:08.748 DEBUG [src.node.docker_mananger] docker run -i -t -p 46066:46066 -p 46067:46067 -p 46068:46068 -p 46069:46069 -p 46070:46070 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46068 --rest-port=46066 --tcp-port=46067 --discv5-udp-port=46069 --rest-address=0.0.0.0 --nat=extip:172.18.47.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=716cdd25c20be65feaa480e37edbf469ec24ee4d04ce70a7cfb7fa2c81a6bdd6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46070 --metrics-logging=true --lightpush=true --relay=true
2025-02-09 04:03:08.981 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.47.139 waku f12865bf2f3fcdf464030d678f8de4311559f79dd7db83a197d89554eb14fd46
2025-02-09 04:03:09.032 DEBUG [src.node.docker_mananger] Container started with ID f12865bf2f3f. Setting up logs at ./log/docker/receiving_node1_2025-02-09_04-03-08__0d52939a-90fc-4fad-9051-27af1d31d265__wakuorg_nwaku:latest.log
2025-02-09 04:03:09.034 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 46066
2025-02-09 04:03:09.034 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:03:09.538 ERROR [src.node.docker_mananger] Max retries reached for container 5226e6b63744. Exiting log stream.
2025-02-09 04:03:10.034 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:10.038 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:03:10.038 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:03:10.038 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:10.041 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.47.139/tcp/46067/p2p/16Uiu2HAm9hTLTAU5tTSW4vDDjrz9ELpvMkWJHzwio6xnAUiwZoyg","/ip4/172.18.47.139/tcp/46068/ws/p2p/16Uiu2HAm9hTLTAU5tTSW4vDDjrz9ELpvMkWJHzwio6xnAUiwZoyg"],"enrUri":"enr:-L24QHiYXmLR7pSF8SKwYGHy9Eqp0WO5uERrjkpMvnC8pg7FdFbYTjzzKKfXbk5Z2u5OixEBTaN3Xjs3IFns7lJP4kACgmlkgnY0gmlwhKwSL4uKbXVsdGlhZGRyc5YACASsEi-LBrPzAAoErBIviwaz9N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1A6dDlr9UNKyeRh1mQe_ljAUY310ZYg_IVqTVTwuRI-DdGNwgrPzg3VkcIKz9YV3YWt1Mgk"}'
2025-02-09 04:03:10.041 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:03:10.047 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:03:10.048 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-09_04-03-08__0d52939a-90fc-4fad-9051-27af1d31d265__wakuorg_nwaku:latest.log
2025-02-09 04:03:10.048 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:03:10.048 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:03:10.049 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:03:10.049 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.159.251
2025-02-09 04:03:10.050 DEBUG [src.node.docker_mananger] Generated ports ['18595', '18596', '18597', '18598', '18599']
2025-02-09 04:03:10.050 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:03:10.050 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:03:10.050 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:03:10.050 DEBUG [src.node.docker_mananger] docker run -i -t -p 18595:18595 -p 18596:18596 -p 18597:18597 -p 18598:18598 -p 18599:18599 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18597 --rest-port=18595 --tcp-port=18596 --discv5-udp-port=18598 --rest-address=0.0.0.0 --nat=extip:172.18.159.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=01d914b417ff4cf7de76d0ccfb52a5c1d1373df5d3ff29f6b4f3bd77a3ed42d1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18599 --metrics-logging=true --lightpush=false --relay=true
2025-02-09 04:03:10.280 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.159.251 waku 47b38f255c80be151806239b392b13311cb84824be3481034fd626c2b34187bc
2025-02-09 04:03:10.329 DEBUG [src.node.docker_mananger] Container started with ID 47b38f255c80. Setting up logs at ./log/docker/receiving_node2_2025-02-09_04-03-08__0d52939a-90fc-4fad-9051-27af1d31d265__wakuorg_nwaku:latest.log
2025-02-09 04:03:10.330 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18595
2025-02-09 04:03:10.330 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:03:11.331 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:11.334 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:03:11.334 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:03:11.334 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:11.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.159.251/tcp/18596/p2p/16Uiu2HAm483Fh8cNAmrSxBh2QeszFxFNvmxfBoPUZwWMedHb8zX2","/ip4/172.18.159.251/tcp/18597/ws/p2p/16Uiu2HAm483Fh8cNAmrSxBh2QeszFxFNvmxfBoPUZwWMedHb8zX2"],"enrUri":"enr:-L24QBEtG5pjRqmvtXm1KjZwTbDqPN8XgK5BIJNO7bz30gj1UVvUA3LAZevJiK7JQZvr0ca-nfdCkBZFOnydXexCXOkCgmlkgnY0gmlwhKwSn_uKbXVsdGlhZGRyc5YACASsEp_7BkikAAoErBKf-wZIpd0DgnJzhQADAQAAiXNlY3AyNTZrMaECgTTIUh3IIVmn5V5TI_QFq0SUN94oUDXMA745zfWHFImDdGNwgkikg3VkcIJIpoV3YWt1MgE"}'
2025-02-09 04:03:11.337 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:03:11.337 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18595/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.47.139/tcp/46067/p2p/16Uiu2HAm9hTLTAU5tTSW4vDDjrz9ELpvMkWJHzwio6xnAUiwZoyg"]'
2025-02-09 04:03:11.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:11.388 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:03:11.388 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-09_04-03-08__0d52939a-90fc-4fad-9051-27af1d31d265__wakuorg_nwaku:latest.log
2025-02-09 04:03:11.388 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:03:11.388 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:03:11.390 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:03:11.390 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.157.205
2025-02-09 04:03:11.390 DEBUG [src.node.docker_mananger] Generated ports ['56076', '56077', '56078', '56079', '56080']
2025-02-09 04:03:11.391 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:03:11.391 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:03:11.391 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:03:11.391 DEBUG [src.node.docker_mananger] docker run -i -t -p 56076:56076 -p 56077:56077 -p 56078:56078 -p 56079:56079 -p 56080:56080 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56078 --rest-port=56076 --tcp-port=56077 --discv5-udp-port=56079 --rest-address=0.0.0.0 --nat=extip:172.18.157.205 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0d0e37322dca8b956c2e44fedbc69eb06df2deab0735cec0ed40383dab6f90d3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56080 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QHiYXmLR7pSF8SKwYGHy9Eqp0WO5uERrjkpMvnC8pg7FdFbYTjzzKKfXbk5Z2u5OixEBTaN3Xjs3IFns7lJP4kACgmlkgnY0gmlwhKwSL4uKbXVsdGlhZGRyc5YACASsEi-LBrPzAAoErBIviwaz9N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1A6dDlr9UNKyeRh1mQe_ljAUY310ZYg_IVqTVTwuRI-DdGNwgrPzg3VkcIKz9YV3YWt1Mgk --lightpushnode=/ip4/172.18.47.139/tcp/46067/p2p/16Uiu2HAm9hTLTAU5tTSW4vDDjrz9ELpvMkWJHzwio6xnAUiwZoyg --lightpush=true --relay=false
2025-02-09 04:03:11.632 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.157.205 waku 4efa9794a338837674241395def2a5035e1305b8e8e491f0ae7e4689e4046be3
2025-02-09 04:03:11.674 DEBUG [src.node.docker_mananger] Container started with ID 4efa9794a338. Setting up logs at ./log/docker/lightpush_node1_2025-02-09_04-03-08__0d52939a-90fc-4fad-9051-27af1d31d265__wakuorg_nwaku:latest.log
2025-02-09 04:03:11.674 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 56076
2025-02-09 04:03:11.675 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:03:12.675 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56076/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:12.678 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:03:12.678 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:03:12.678 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56076/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:12.680 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.157.205/tcp/56077/p2p/16Uiu2HAmBctL5TUxRiHWGGmNnreWe24KjBhYxgfYDd4LW4k8Lcb3","/ip4/172.18.157.205/tcp/56078/ws/p2p/16Uiu2HAmBctL5TUxRiHWGGmNnreWe24KjBhYxgfYDd4LW4k8Lcb3"],"enrUri":"enr:-L24QIvsY2GASL9s7NrbRvgT5nDTFHOhNxOSCsb0o46FxF-mFWJHUdGUD8L1NEvGvGvQdi-3c8K4fMmdKfL8Pq8_l1UCgmlkgnY0gmlwhKwSnc2KbXVsdGlhZGRyc5YACASsEp3NBtsNAAoErBKdzQbbDt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC8JpX9kiKQfORzEd5I1eQ0hDP3HOjsipqESexeVnEJiqDdGNwgtsNg3VkcILbD4V3YWt1Mgg"}'
2025-02-09 04:03:12.681 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:03:12.681 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.47.139/tcp/46067/p2p/16Uiu2HAm9hTLTAU5tTSW4vDDjrz9ELpvMkWJHzwio6xnAUiwZoyg"]'
2025-02-09 04:03:12.722 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:12.724 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.251/tcp/18596/p2p/16Uiu2HAm483Fh8cNAmrSxBh2QeszFxFNvmxfBoPUZwWMedHb8zX2"]'
2025-02-09 04:03:12.755 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:12.758 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46066/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-09 04:03:12.763 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:12.764 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18595/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-09 04:03:12.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:12.771 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-09 04:03:12.772 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:12.772 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1739073792772204032}}'
2025-02-09 04:03:12.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:12.783 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:12.884 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:12.884 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:12.887 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739073792772204032,"ephemeral":false}]'
2025-02-09 04:03:12.889 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:12.890 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:12.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739073792772204032,"ephemeral":false}]'
2025-02-09 04:03:12.894 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-09 04:03:12.894 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:12.894 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1739073792894289920}}'
2025-02-09 04:03:12.904 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:12.905 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:13.005 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.005 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739073792894289920,"ephemeral":false}]'
2025-02-09 04:03:13.009 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.010 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.012 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739073792894289920,"ephemeral":false}]'
2025-02-09 04:03:13.013 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-09 04:03:13.014 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:13.014 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1739073793013776896}}'
2025-02-09 04:03:13.024 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:13.024 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:13.124 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.125 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.127 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739073793013776896,"ephemeral":false}]'
2025-02-09 04:03:13.129 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.129 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739073793013776896,"ephemeral":false}]'
2025-02-09 04:03:13.132 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-09 04:03:13.133 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:13.133 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1739073793133062656}}'
2025-02-09 04:03:13.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:13.143 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:13.244 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.244 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739073793133062656,"ephemeral":false}]'
2025-02-09 04:03:13.248 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.249 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.251 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739073793133062656,"ephemeral":false}]'
2025-02-09 04:03:13.253 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-09 04:03:13.253 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:13.253 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1739073793253344768}}'
2025-02-09 04:03:13.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:13.264 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:13.364 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.368 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739073793253344768,"ephemeral":false}]'
2025-02-09 04:03:13.369 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.369 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.371 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739073793253344768,"ephemeral":false}]'
2025-02-09 04:03:13.373 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-09 04:03:13.373 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:13.373 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1739073793373282560}}'
2025-02-09 04:03:13.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:13.384 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:13.484 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.484 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.487 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739073793373282560,"ephemeral":false}]'
2025-02-09 04:03:13.489 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.489 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.491 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739073793373282560,"ephemeral":false}]'
2025-02-09 04:03:13.493 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-09 04:03:13.493 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:13.493 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1739073793493257216}}'
2025-02-09 04:03:13.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:13.503 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:13.604 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.604 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.607 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739073793493257216,"ephemeral":false}]'
2025-02-09 04:03:13.609 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.609 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739073793493257216,"ephemeral":false}]'
2025-02-09 04:03:13.612 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-09 04:03:13.613 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:13.613 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1739073793612934912}}'
2025-02-09 04:03:13.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:13.624 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:13.724 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.724 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.727 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739073793612934912,"ephemeral":false}]'
2025-02-09 04:03:13.728 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.729 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.731 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739073793612934912,"ephemeral":false}]'
2025-02-09 04:03:13.732 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-09 04:03:13.733 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:13.733 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1739073793733043968}}'
2025-02-09 04:03:13.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:13.745 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:13.845 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.846 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739073793733043968,"ephemeral":false}]'
2025-02-09 04:03:13.850 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.850 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739073793733043968,"ephemeral":false}]'
2025-02-09 04:03:13.854 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-09 04:03:13.854 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:13.854 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1739073793854493952}}'
2025-02-09 04:03:13.868 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:13.868 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:13.968 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739073793854493952,"ephemeral":false}]'
2025-02-09 04:03:13.974 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:13.974 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:13.976 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739073793854493952,"ephemeral":false}]'
2025-02-09 04:03:13.977 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-09 04:03:13.978 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:13.978 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1739073793978073600}}'
2025-02-09 04:03:13.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:13.988 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:14.089 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.089 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739073793978073600,"ephemeral":false}]'
2025-02-09 04:03:14.093 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.094 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739073793978073600,"ephemeral":false}]'
2025-02-09 04:03:14.098 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-09 04:03:14.098 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:14.098 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1739073794098283776}}'
2025-02-09 04:03:14.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:14.108 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:14.209 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.209 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739073794098283776,"ephemeral":false}]'
2025-02-09 04:03:14.214 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.214 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739073794098283776,"ephemeral":false}]'
2025-02-09 04:03:14.217 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-09 04:03:14.218 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:14.218 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1739073794217997568}}'
2025-02-09 04:03:14.228 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:14.228 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:14.329 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.329 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739073794217997568,"ephemeral":false}]'
2025-02-09 04:03:14.333 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.333 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739073794217997568,"ephemeral":false}]'
2025-02-09 04:03:14.337 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-09 04:03:14.337 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:14.338 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1739073794337624576}}'
2025-02-09 04:03:14.347 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:14.347 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:14.448 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.449 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.451 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739073794337624576,"ephemeral":false}]'
2025-02-09 04:03:14.453 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.453 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.455 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739073794337624576,"ephemeral":false}]'
2025-02-09 04:03:14.457 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-09 04:03:14.457 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:14.457 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1739073794457556224}}'
2025-02-09 04:03:14.467 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:14.468 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:14.568 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.568 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739073794457556224,"ephemeral":false}]'
2025-02-09 04:03:14.572 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.572 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.575 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739073794457556224,"ephemeral":false}]'
2025-02-09 04:03:14.576 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-09 04:03:14.576 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:14.577 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1739073794576712448}}'
2025-02-09 04:03:14.586 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:14.588 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:14.688 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.688 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739073794576712448,"ephemeral":false}]'
2025-02-09 04:03:14.693 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.693 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.695 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739073794576712448,"ephemeral":false}]'
2025-02-09 04:03:14.697 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-09 04:03:14.697 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:14.697 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1739073794697538816}}'
2025-02-09 04:03:14.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:14.707 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:14.807 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.808 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.810 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739073794697538816,"ephemeral":false}]'
2025-02-09 04:03:14.812 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.812 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.814 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739073794697538816,"ephemeral":false}]'
2025-02-09 04:03:14.816 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-09 04:03:14.816 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:14.816 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1739073794816241408}}'
2025-02-09 04:03:14.826 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:14.827 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:14.927 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.927 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739073794816241408,"ephemeral":false}]'
2025-02-09 04:03:14.931 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:14.932 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:14.934 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739073794816241408,"ephemeral":false}]'
2025-02-09 04:03:14.935 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-09 04:03:14.936 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:14.936 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1739073794936170240}}'
2025-02-09 04:03:14.946 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:14.946 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:15.046 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.047 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.050 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739073794936170240,"ephemeral":false}]'
2025-02-09 04:03:15.051 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.051 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.054 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739073794936170240,"ephemeral":false}]'
2025-02-09 04:03:15.055 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-09 04:03:15.056 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:15.056 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1739073795055907584}}'
2025-02-09 04:03:15.065 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:15.066 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:15.166 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.167 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.170 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739073795055907584,"ephemeral":false}]'
2025-02-09 04:03:15.171 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.171 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.173 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739073795055907584,"ephemeral":false}]'
2025-02-09 04:03:15.175 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-09 04:03:15.175 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:15.176 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1739073795175584768}}'
2025-02-09 04:03:15.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:15.187 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:15.287 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.287 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.290 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739073795175584768,"ephemeral":false}]'
2025-02-09 04:03:15.292 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.292 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739073795175584768,"ephemeral":false}]'
2025-02-09 04:03:15.297 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-09 04:03:15.298 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:15.298 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1739073795297850880}}'
2025-02-09 04:03:15.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:15.308 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:15.408 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.409 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.412 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739073795297850880,"ephemeral":false}]'
2025-02-09 04:03:15.413 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.413 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739073795297850880,"ephemeral":false}]'
2025-02-09 04:03:15.417 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-09 04:03:15.417 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:15.418 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1739073795417695744}}'
2025-02-09 04:03:15.427 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:15.428 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:15.529 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.529 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.532 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739073795417695744,"ephemeral":false}]'
2025-02-09 04:03:15.533 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.533 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.536 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739073795417695744,"ephemeral":false}]'
2025-02-09 04:03:15.537 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-09 04:03:15.538 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:15.538 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1739073795537860864}}'
2025-02-09 04:03:15.547 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:15.548 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:15.649 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.649 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.652 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739073795537860864,"ephemeral":false}]'
2025-02-09 04:03:15.654 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.654 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739073795537860864,"ephemeral":false}]'
2025-02-09 04:03:15.658 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-09 04:03:15.658 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:15.658 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1739073795658362880}}'
2025-02-09 04:03:15.668 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:15.669 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:15.769 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.769 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739073795658362880,"ephemeral":false}]'
2025-02-09 04:03:15.774 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.774 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.779 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739073795658362880,"ephemeral":false}]'
2025-02-09 04:03:15.780 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-09 04:03:15.781 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:15.781 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1739073795780885248}}'
2025-02-09 04:03:15.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:15.792 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:15.892 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.892 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.895 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739073795780885248,"ephemeral":false}]'
2025-02-09 04:03:15.896 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:15.897 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:15.899 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739073795780885248,"ephemeral":false}]'
2025-02-09 04:03:15.900 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-09 04:03:15.901 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:15.901 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1739073795901074944}}'
2025-02-09 04:03:15.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:15.912 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:16.012 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.012 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.015 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739073795901074944,"ephemeral":false}]'
2025-02-09 04:03:16.017 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.017 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739073795901074944,"ephemeral":false}]'
2025-02-09 04:03:16.021 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-09 04:03:16.022 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:16.022 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1739073796022035200}}'
2025-02-09 04:03:16.034 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:16.035 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:16.135 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.135 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.138 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739073796022035200,"ephemeral":false}]'
2025-02-09 04:03:16.139 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.140 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739073796022035200,"ephemeral":false}]'
2025-02-09 04:03:16.143 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-09 04:03:16.143 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:16.144 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1739073796143732224}}'
2025-02-09 04:03:16.153 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:16.154 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:16.254 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.254 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.257 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739073796143732224,"ephemeral":false}]'
2025-02-09 04:03:16.259 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.259 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739073796143732224,"ephemeral":false}]'
2025-02-09 04:03:16.263 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-09 04:03:16.263 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:16.263 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1739073796263416320}}'
2025-02-09 04:03:16.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:16.274 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:16.375 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.375 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739073796263416320,"ephemeral":false}]'
2025-02-09 04:03:16.379 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.379 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739073796263416320,"ephemeral":false}]'
2025-02-09 04:03:16.383 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-09 04:03:16.383 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:16.384 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1739073796383605504}}'
2025-02-09 04:03:16.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:16.395 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:16.495 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.495 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739073796383605504,"ephemeral":false}]'
2025-02-09 04:03:16.500 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.500 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739073796383605504,"ephemeral":false}]'
2025-02-09 04:03:16.504 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-09 04:03:16.504 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:16.504 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1739073796504372480}}'
2025-02-09 04:03:16.516 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:16.517 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:16.617 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.618 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739073796504372480,"ephemeral":false}]'
2025-02-09 04:03:16.622 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.622 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.625 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739073796504372480,"ephemeral":false}]'
2025-02-09 04:03:16.626 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-09 04:03:16.626 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:16.627 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1739073796626765824}}'
2025-02-09 04:03:16.636 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:16.637 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:16.737 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.737 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.740 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739073796626765824,"ephemeral":false}]'
2025-02-09 04:03:16.742 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.742 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739073796626765824,"ephemeral":false}]'
2025-02-09 04:03:16.745 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-09 04:03:16.746 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:16.746 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1739073796745978112}}'
2025-02-09 04:03:16.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:16.757 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:16.858 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.858 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.861 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739073796745978112,"ephemeral":false}]'
2025-02-09 04:03:16.862 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.863 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.865 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739073796745978112,"ephemeral":false}]'
2025-02-09 04:03:16.866 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-09 04:03:16.867 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:16.867 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1739073796866966272}}'
2025-02-09 04:03:16.876 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:16.877 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:16.977 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.977 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739073796866966272,"ephemeral":false}]'
2025-02-09 04:03:16.982 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:16.982 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:16.984 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739073796866966272,"ephemeral":false}]'
2025-02-09 04:03:16.986 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-09 04:03:16.986 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:16.986 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1739073796986386176}}'
2025-02-09 04:03:16.997 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:16.998 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:17.098 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:17.098 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:17.101 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739073796986386176,"ephemeral":false}]'
2025-02-09 04:03:17.103 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:17.103 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:17.105 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739073796986386176,"ephemeral":false}]'
2025-02-09 04:03:17.106 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-09 04:03:17.107 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:17.107 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1739073797107220992}}'
2025-02-09 04:03:17.117 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:17.118 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:17.218 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:17.219 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:17.221 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739073797107220992,"ephemeral":false}]'
2025-02-09 04:03:17.223 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:17.223 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:17.226 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739073797107220992,"ephemeral":false}]'
2025-02-09 04:03:17.227 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-09 04:03:17.228 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:17.228 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1739073797227757824}}'
2025-02-09 04:03:17.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:17.238 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:17.338 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:17.339 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:17.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739073797227757824,"ephemeral":false}]'
2025-02-09 04:03:17.343 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:17.343 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:17.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739073797227757824,"ephemeral":false}]'
2025-02-09 04:03:17.347 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-09 04:03:17.347 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:17.347 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1739073797347513600}}'
2025-02-09 04:03:17.357 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:17.357 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:17.458 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:17.458 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:17.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739073797347513600,"ephemeral":false}]'
2025-02-09 04:03:17.463 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:17.463 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:17.465 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739073797347513600,"ephemeral":false}]'
2025-02-09 04:03:17.467 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-09 04:03:17.467 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:03:17.467 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1739073797467420160}}'
2025-02-09 04:03:17.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:17.478 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:03:17.578 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:17.578 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:17.581 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739073797467420160,"ephemeral":false}]'
2025-02-09 04:03:17.583 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:03:17.583 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:17.585 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739073797467420160,"ephemeral":false}]'
2025-02-09 04:03:17.588 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 04:03:17.589 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 04:03:17.589 DEBUG [src.node.waku_node] Stopping container with id f12865bf2f3f
2025-02-09 04:03:18.545 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:03:18.545 DEBUG [src.node.waku_node] Stopping container with id 47b38f255c80
2025-02-09 04:03:19.358 ERROR [src.node.docker_mananger] Max retries reached for container f12865bf2f3f. Exiting log stream.
2025-02-09 04:03:19.580 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:03:19.580 DEBUG [src.node.waku_node] Stopping container with id 4efa9794a338
2025-02-09 04:03:20.393 ERROR [src.node.docker_mananger] Max retries reached for container 47b38f255c80. Exiting log stream.
2025-02-09 04:03:20.682 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:03:20.683 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 04:03:20.703 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 04:03:20.717 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 04:03:20.735 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
