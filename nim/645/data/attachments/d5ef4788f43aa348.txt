2025-02-09 04:07:54.102 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 04:07:54.102 DEBUG [tests.conftest] Running test: test_publish_with_valid_payloads with id: 2025-02-09_04-07-54__25c4e126-9593-45a3-9768-fdace56c18fe
2025-02-09 04:07:54.102 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 04:07:54.103 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-09 04:07:54.103 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-09 04:07:54.109 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:07:54.110 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-09_04-07-54__25c4e126-9593-45a3-9768-fdace56c18fe__wakuorg_nwaku:latest.log
2025-02-09 04:07:54.110 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:07:54.110 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:07:54.111 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:07:54.111 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.42.20
2025-02-09 04:07:54.112 DEBUG [src.node.docker_mananger] Generated ports ['45564', '45565', '45566', '45567', '45568']
2025-02-09 04:07:54.112 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:07:54.112 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:07:54.112 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:07:54.112 DEBUG [src.node.docker_mananger] docker run -i -t -p 45564:45564 -p 45565:45565 -p 45566:45566 -p 45567:45567 -p 45568:45568 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45566 --rest-port=45564 --tcp-port=45565 --discv5-udp-port=45567 --rest-address=0.0.0.0 --nat=extip:172.18.42.20 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8cd32df9fd03abccb014b8d37c64a0dc6caaec550fd1607d44a144bb4cd6c9af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45568 --metrics-logging=true --relay=true
2025-02-09 04:07:54.338 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.42.20 waku 4a9b53b9a9e745250c433d9ed182aed74fcbdd5a577fa1cc2cac2af219804ba2
2025-02-09 04:07:54.389 DEBUG [src.node.docker_mananger] Container started with ID 4a9b53b9a9e7. Setting up logs at ./log/docker/node1_2025-02-09_04-07-54__25c4e126-9593-45a3-9768-fdace56c18fe__wakuorg_nwaku:latest.log
2025-02-09 04:07:54.390 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45564
2025-02-09 04:07:54.390 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:07:54.900 ERROR [src.node.docker_mananger] Max retries reached for container 0d5dba93ed90. Exiting log stream.
2025-02-09 04:07:55.391 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:55.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:07:55.394 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:07:55.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:55.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.42.20/tcp/45565/p2p/16Uiu2HAkvhALFRaBLR56d2wSZR2zbd1HS8gDtwNUQALbMCD8xp5E","/ip4/172.18.42.20/tcp/45566/ws/p2p/16Uiu2HAkvhALFRaBLR56d2wSZR2zbd1HS8gDtwNUQALbMCD8xp5E"],"enrUri":"enr:-L24QNrSBznTnjsefPJH7E_jxomi8CW8hjk2WCHrvTk6vphmPlzK5cGJsEHbEKD-AMS73WZcWz0BC8twHQ-fu8kfM5ECgmlkgnY0gmlwhKwSKhSKbXVsdGlhZGRyc5YACASsEioUBrH9AAoErBIqFAax_t0DgnJzhQADAQAAiXNlY3AyNTZrMaECEtN1IghVxOlIJk9nuDVL8CiyXAyPjVc5jmr657Id-tmDdGNwgrH9g3VkcIKx_4V3YWt1MgE"}'
2025-02-09 04:07:55.396 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:07:55.403 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:07:55.403 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-09_04-07-54__25c4e126-9593-45a3-9768-fdace56c18fe__wakuorg_nwaku:latest.log
2025-02-09 04:07:55.403 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:07:55.403 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:07:55.404 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:07:55.405 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.62.102
2025-02-09 04:07:55.405 DEBUG [src.node.docker_mananger] Generated ports ['8902', '8903', '8904', '8905', '8906']
2025-02-09 04:07:55.405 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:07:55.405 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:07:55.405 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:07:55.405 DEBUG [src.node.docker_mananger] docker run -i -t -p 8902:8902 -p 8903:8903 -p 8904:8904 -p 8905:8905 -p 8906:8906 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8904 --rest-port=8902 --tcp-port=8903 --discv5-udp-port=8905 --rest-address=0.0.0.0 --nat=extip:172.18.62.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=28e4b925efd97a695fed37c0ee9554a61fafbabc6bb1b25f09cb5bb524b1b996 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8906 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNrSBznTnjsefPJH7E_jxomi8CW8hjk2WCHrvTk6vphmPlzK5cGJsEHbEKD-AMS73WZcWz0BC8twHQ-fu8kfM5ECgmlkgnY0gmlwhKwSKhSKbXVsdGlhZGRyc5YACASsEioUBrH9AAoErBIqFAax_t0DgnJzhQADAQAAiXNlY3AyNTZrMaECEtN1IghVxOlIJk9nuDVL8CiyXAyPjVc5jmr657Id-tmDdGNwgrH9g3VkcIKx_4V3YWt1MgE
2025-02-09 04:07:55.633 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.62.102 waku 1cef5dac3f6e768b5b4db836d403c44eb3c2cbe4604f93b20d18fa0d1f78c92d
2025-02-09 04:07:55.677 DEBUG [src.node.docker_mananger] Container started with ID 1cef5dac3f6e. Setting up logs at ./log/docker/node2_2025-02-09_04-07-54__25c4e126-9593-45a3-9768-fdace56c18fe__wakuorg_nwaku:latest.log
2025-02-09 04:07:55.677 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8902
2025-02-09 04:07:55.677 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:07:56.678 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:56.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:07:56.689 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:07:56.689 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:56.696 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.62.102/tcp/8903/p2p/16Uiu2HAm8E34qtioec6sM2Qhjj5bEmk4raG8RiomMB4YDRqGczdp","/ip4/172.18.62.102/tcp/8904/ws/p2p/16Uiu2HAm8E34qtioec6sM2Qhjj5bEmk4raG8RiomMB4YDRqGczdp"],"enrUri":"enr:-L24QDVX3LnnuR7M4kNukU8TuEeQAPJ4nOgjU-y0dRextn5zS1uODhZ6kgSNNwNghprAEhOPU0oxFyU9vg5rXkaxVkgCgmlkgnY0gmlwhKwSPmaKbXVsdGlhZGRyc5YACASsEj5mBiLHAAoErBI-ZgYiyN0DgnJzhQADAQAAiXNlY3AyNTZrMaECvizNtljoDA9biYCHBth7N6JXkNjyITQwqFgoGIwII8ODdGNwgiLHg3VkcIIiyYV3YWt1MgE"}'
2025-02-09 04:07:56.698 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:07:56.699 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8902/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.42.20/tcp/45565/p2p/16Uiu2HAkvhALFRaBLR56d2wSZR2zbd1HS8gDtwNUQALbMCD8xp5E"]'
2025-02-09 04:07:56.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:56.703 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-09 04:07:56.703 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-09 04:07:56.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:56.707 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8902/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-09 04:07:56.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:56.713 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:56.719 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:56.720 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:56.820 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:56.820 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:56.823 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074076713838848,"ephemeral":false}]'
2025-02-09 04:07:56.824 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:56.825 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:56.827 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074076713838848,"ephemeral":false}]'
2025-02-09 04:07:56.828 INFO [src.steps.relay] WARM UP successful!!
2025-02-09 04:07:56.829 DEBUG [tests.relay.test_publish] Running test with payload A simple string
2025-02-09 04:07:56.829 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:56.834 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:56.834 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:56.935 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:56.935 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:56.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074076829665024,"ephemeral":false}]'
2025-02-09 04:07:56.939 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:56.939 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:56.941 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074076829665024,"ephemeral":false}]'
2025-02-09 04:07:56.942 DEBUG [tests.relay.test_publish] Running test with payload An integer
2025-02-09 04:07:56.943 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:56.948 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:56.948 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:57.048 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.048 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074076942911488,"ephemeral":false}]'
2025-02-09 04:07:57.053 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.053 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074076942911488,"ephemeral":false}]'
2025-02-09 04:07:57.057 DEBUG [tests.relay.test_publish] Running test with payload A dictionary
2025-02-09 04:07:57.057 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:57.062 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:57.062 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:57.162 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.163 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077057363968,"ephemeral":false}]'
2025-02-09 04:07:57.167 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.167 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.169 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077057363968,"ephemeral":false}]'
2025-02-09 04:07:57.170 DEBUG [tests.relay.test_publish] Running test with payload Chinese characters
2025-02-09 04:07:57.171 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:57.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:57.175 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:57.276 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.276 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077170955776,"ephemeral":false}]'
2025-02-09 04:07:57.280 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.280 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077170955776,"ephemeral":false}]'
2025-02-09 04:07:57.284 DEBUG [tests.relay.test_publish] Running test with payload Emojis
2025-02-09 04:07:57.284 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:57.288 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:57.289 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:57.390 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.390 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077284579584,"ephemeral":false}]'
2025-02-09 04:07:57.394 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077284579584,"ephemeral":false}]'
2025-02-09 04:07:57.398 DEBUG [tests.relay.test_publish] Running test with payload Lorem ipsum text
2025-02-09 04:07:57.398 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:57.403 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:57.403 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:57.504 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.504 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077398371328,"ephemeral":false}]'
2025-02-09 04:07:57.508 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.508 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.510 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077398371328,"ephemeral":false}]'
2025-02-09 04:07:57.511 DEBUG [tests.relay.test_publish] Running test with payload HTML content
2025-02-09 04:07:57.512 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:57.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:57.517 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:57.617 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.617 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077512045824,"ephemeral":false}]'
2025-02-09 04:07:57.622 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.622 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077512045824,"ephemeral":false}]'
2025-02-09 04:07:57.625 DEBUG [tests.relay.test_publish] Running test with payload Cyrillic characters
2025-02-09 04:07:57.626 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "0J/RgNC40LLQtdGC", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:57.630 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:57.631 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:57.731 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.731 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.734 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077626215680,"ephemeral":false}]'
2025-02-09 04:07:57.736 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.736 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.738 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077626215680,"ephemeral":false}]'
2025-02-09 04:07:57.739 DEBUG [tests.relay.test_publish] Running test with payload Base64 encoded string
2025-02-09 04:07:57.739 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QmFzZTY0PT1kR1Z6ZEE9PQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:57.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:57.744 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:57.844 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077739817728,"ephemeral":false}]'
2025-02-09 04:07:57.848 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.848 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.850 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077739817728,"ephemeral":false}]'
2025-02-09 04:07:57.852 DEBUG [tests.relay.test_publish] Running test with payload Binary data
2025-02-09 04:07:57.852 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:57.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:57.857 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:57.958 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.958 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077852412160,"ephemeral":false}]'
2025-02-09 04:07:57.962 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:57.962 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:57.965 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077852412160,"ephemeral":false}]'
2025-02-09 04:07:57.966 DEBUG [tests.relay.test_publish] Running test with payload Special characters with whitespace
2025-02-09 04:07:57.967 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "CQpTcGVjaWFsCUNoYXJhY3RlcnMK", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:57.972 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:57.972 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:58.072 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.073 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.075 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077967210496,"ephemeral":false}]'
2025-02-09 04:07:58.077 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.077 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074077967210496,"ephemeral":false}]'
2025-02-09 04:07:58.080 DEBUG [tests.relay.test_publish] Running test with payload Boolean false as a string
2025-02-09 04:07:58.081 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmFsc2U=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:58.085 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:58.085 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:58.186 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.186 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.189 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078081121280,"ephemeral":false}]'
2025-02-09 04:07:58.190 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.190 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.192 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078081121280,"ephemeral":false}]'
2025-02-09 04:07:58.194 DEBUG [tests.relay.test_publish] Running test with payload A float number
2025-02-09 04:07:58.194 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "My4xNDE1OTI2NTM1", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:58.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:58.199 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:58.299 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.300 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078194423040,"ephemeral":false}]'
2025-02-09 04:07:58.303 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.304 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.306 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078194423040,"ephemeral":false}]'
2025-02-09 04:07:58.307 DEBUG [tests.relay.test_publish] Running test with payload A list
2025-02-09 04:07:58.308 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "WzEsIDIsIDMsIDQsIDVd", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:58.312 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:58.312 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:58.413 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.413 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.415 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078308053760,"ephemeral":false}]'
2025-02-09 04:07:58.416 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.416 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.419 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078308053760,"ephemeral":false}]'
2025-02-09 04:07:58.420 DEBUG [tests.relay.test_publish] Running test with payload Hexadecimal number as a string
2025-02-09 04:07:58.420 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MHhERUFEQkVFRg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:58.425 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:58.425 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:58.526 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.526 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078420636928,"ephemeral":false}]'
2025-02-09 04:07:58.530 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.530 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.533 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078420636928,"ephemeral":false}]'
2025-02-09 04:07:58.534 DEBUG [tests.relay.test_publish] Running test with payload Email format
2025-02-09 04:07:58.534 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "dXNlckBleGFtcGxlLmNvbQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:58.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:58.539 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:58.640 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.641 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.643 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078534708480,"ephemeral":false}]'
2025-02-09 04:07:58.645 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.645 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.648 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078534708480,"ephemeral":false}]'
2025-02-09 04:07:58.649 DEBUG [tests.relay.test_publish] Running test with payload URL format
2025-02-09 04:07:58.649 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "aHR0cDovL2V4YW1wbGUuY29t", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:58.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:58.654 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:58.755 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.755 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078649843968,"ephemeral":false}]'
2025-02-09 04:07:58.759 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.759 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.761 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078649843968,"ephemeral":false}]'
2025-02-09 04:07:58.762 DEBUG [tests.relay.test_publish] Running test with payload Date and time in ISO format
2025-02-09 04:07:58.763 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MjAyMy0xMS0wMVQxMjowMDowMFo=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:58.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:58.767 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:58.868 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.868 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.871 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078762880768,"ephemeral":false}]'
2025-02-09 04:07:58.872 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.872 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078762880768,"ephemeral":false}]'
2025-02-09 04:07:58.876 DEBUG [tests.relay.test_publish] Running test with payload String with escaped quotes
2025-02-09 04:07:58.876 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "IkVzY2FwZWQiIFwicXVvdGVzXCI=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:58.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:58.882 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:58.982 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.982 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078876786432,"ephemeral":false}]'
2025-02-09 04:07:58.986 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:58.986 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:58.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078876786432,"ephemeral":false}]'
2025-02-09 04:07:58.990 DEBUG [tests.relay.test_publish] Running test with payload A regular expression
2025-02-09 04:07:58.991 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:58.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:58.996 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:59.096 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.096 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078990846464,"ephemeral":false}]'
2025-02-09 04:07:59.100 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.100 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074078990846464,"ephemeral":false}]'
2025-02-09 04:07:59.104 DEBUG [tests.relay.test_publish] Running test with payload A very long string
2025-02-09 04:07:59.104 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:59.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:59.108 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:59.209 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.209 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079104288768,"ephemeral":false}]'
2025-02-09 04:07:59.213 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079104288768,"ephemeral":false}]'
2025-02-09 04:07:59.217 DEBUG [tests.relay.test_publish] Running test with payload A JSON string
2025-02-09 04:07:59.217 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:59.222 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:59.222 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:59.323 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.323 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079217675008,"ephemeral":false}]'
2025-02-09 04:07:59.327 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.327 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079217675008,"ephemeral":false}]'
2025-02-09 04:07:59.331 DEBUG [tests.relay.test_publish] Running test with payload A Unix path
2025-02-09 04:07:59.331 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "L3Vzci9sb2NhbC9iaW4=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:59.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:59.336 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:59.436 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.437 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.439 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079331403008,"ephemeral":false}]'
2025-02-09 04:07:59.441 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.441 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.443 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079331403008,"ephemeral":false}]'
2025-02-09 04:07:59.444 DEBUG [tests.relay.test_publish] Running test with payload A Windows path
2025-02-09 04:07:59.445 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QzpcV2luZG93c1xTeXN0ZW0zMg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:59.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:59.450 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:59.550 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.550 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079445148928,"ephemeral":false}]'
2025-02-09 04:07:59.554 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.555 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079445148928,"ephemeral":false}]'
2025-02-09 04:07:59.558 DEBUG [tests.relay.test_publish] Running test with payload An SQL query
2025-02-09 04:07:59.558 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:59.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:59.563 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:59.663 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.663 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.666 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079558424576,"ephemeral":false}]'
2025-02-09 04:07:59.667 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.667 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079558424576,"ephemeral":false}]'
2025-02-09 04:07:59.671 DEBUG [tests.relay.test_publish] Running test with payload JavaScript code snippet
2025-02-09 04:07:59.671 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:59.677 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:59.677 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:59.777 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.778 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079671795456,"ephemeral":false}]'
2025-02-09 04:07:59.782 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.782 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.784 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079671795456,"ephemeral":false}]'
2025-02-09 04:07:59.785 DEBUG [tests.relay.test_publish] Running test with payload A CSS snippet
2025-02-09 04:07:59.786 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:59.790 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:59.790 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:59.890 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.890 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.893 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079785918464,"ephemeral":false}]'
2025-02-09 04:07:59.894 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:07:59.894 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:59.896 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079785918464,"ephemeral":false}]'
2025-02-09 04:07:59.898 DEBUG [tests.relay.test_publish] Running test with payload A Python one-liner
2025-02-09 04:07:59.898 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "cHJpbnQoJ0hlbGxvIFdvcmxkJyk=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:07:59.902 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:59.903 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:00.004 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.004 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.007 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079898431488,"ephemeral":false}]'
2025-02-09 04:08:00.008 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.008 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074079898431488,"ephemeral":false}]'
2025-02-09 04:08:00.013 DEBUG [tests.relay.test_publish] Running test with payload An IP address
2025-02-09 04:08:00.013 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTkyLjE2OC4xLjE=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:00.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:00.018 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:00.119 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.119 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.122 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080013401088,"ephemeral":false}]'
2025-02-09 04:08:00.123 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.123 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.125 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080013401088,"ephemeral":false}]'
2025-02-09 04:08:00.126 DEBUG [tests.relay.test_publish] Running test with payload A domain name
2025-02-09 04:08:00.127 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "d3d3LmV4YW1wbGUuY29t", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:00.132 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:00.132 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:00.233 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.233 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.236 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080127237632,"ephemeral":false}]'
2025-02-09 04:08:00.237 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.237 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080127237632,"ephemeral":false}]'
2025-02-09 04:08:00.240 DEBUG [tests.relay.test_publish] Running test with payload A user agent string
2025-02-09 04:08:00.241 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:00.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:00.246 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:00.346 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.346 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080241189888,"ephemeral":false}]'
2025-02-09 04:08:00.351 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.351 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080241189888,"ephemeral":false}]'
2025-02-09 04:08:00.354 DEBUG [tests.relay.test_publish] Running test with payload A credit card number
2025-02-09 04:08:00.355 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzNC01Njc4LTkwMTItMzQ1Ng==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:00.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:00.359 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:00.460 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.460 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080354981376,"ephemeral":false}]'
2025-02-09 04:08:00.464 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.464 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.466 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080354981376,"ephemeral":false}]'
2025-02-09 04:08:00.467 DEBUG [tests.relay.test_publish] Running test with payload A phone number
2025-02-09 04:08:00.468 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "KzEyMzQ1Njc4OTA=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:00.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:00.473 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:00.573 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.573 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080467894272,"ephemeral":false}]'
2025-02-09 04:08:00.578 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.578 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.580 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080467894272,"ephemeral":false}]'
2025-02-09 04:08:00.581 DEBUG [tests.relay.test_publish] Running test with payload A UUID
2025-02-09 04:08:00.582 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:00.586 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:00.587 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:00.687 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.687 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.690 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080582158592,"ephemeral":false}]'
2025-02-09 04:08:00.692 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.692 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.694 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080582158592,"ephemeral":false}]'
2025-02-09 04:08:00.695 DEBUG [tests.relay.test_publish] Running test with payload A hashtag
2025-02-09 04:08:00.696 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "I2hlbGxvV29ybGQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:00.700 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:00.700 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:00.801 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.801 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080696065280,"ephemeral":false}]'
2025-02-09 04:08:00.804 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.804 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.807 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080696065280,"ephemeral":false}]'
2025-02-09 04:08:00.808 DEBUG [tests.relay.test_publish] Running test with payload A Twitter handle
2025-02-09 04:08:00.808 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QHVzZXJuYW1l", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:00.814 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:00.814 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:00.914 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.915 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.917 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080808772608,"ephemeral":false}]'
2025-02-09 04:08:00.918 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:00.919 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:00.921 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080808772608,"ephemeral":false}]'
2025-02-09 04:08:00.922 DEBUG [tests.relay.test_publish] Running test with payload A password
2025-02-09 04:08:00.922 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UEBzc3cwcmQh", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:00.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:00.927 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:01.028 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:01.028 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:01.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080922690816,"ephemeral":false}]'
2025-02-09 04:08:01.032 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:01.032 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:01.034 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074080922690816,"ephemeral":false}]'
2025-02-09 04:08:01.036 DEBUG [tests.relay.test_publish] Running test with payload A date in common format
2025-02-09 04:08:01.036 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MDEvMTEvMjAyMw==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:01.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:01.040 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:01.141 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:01.141 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:01.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074081036296448,"ephemeral":false}]'
2025-02-09 04:08:01.145 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:01.145 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:01.147 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074081036296448,"ephemeral":false}]'
2025-02-09 04:08:01.149 DEBUG [tests.relay.test_publish] Running test with payload A time string
2025-02-09 04:08:01.149 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTI6MDA6MDA=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:01.154 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:01.154 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:01.254 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:01.255 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:01.257 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074081149249536,"ephemeral":false}]'
2025-02-09 04:08:01.259 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:01.259 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:01.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074081149249536,"ephemeral":false}]'
2025-02-09 04:08:01.262 DEBUG [tests.relay.test_publish] Running test with payload A mathematical equation
2025-02-09 04:08:01.263 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RSA9IG1jXjI=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:08:01.267 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:08:01.267 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:08:01.368 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:01.368 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:01.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074081263147264,"ephemeral":false}]'
2025-02-09 04:08:01.372 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:08:01.372 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:08:01.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074081263147264,"ephemeral":false}]'
2025-02-09 04:08:01.378 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 04:08:01.379 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 04:08:01.379 DEBUG [src.node.waku_node] Stopping container with id 4a9b53b9a9e7
2025-02-09 04:08:02.176 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:08:02.177 DEBUG [src.node.waku_node] Stopping container with id 1cef5dac3f6e
2025-02-09 04:08:02.989 ERROR [src.node.docker_mananger] Max retries reached for container 4a9b53b9a9e7. Exiting log stream.
2025-02-09 04:08:03.387 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:08:03.389 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 04:08:03.401 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 04:08:03.413 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
