2025-02-09 04:05:24.362 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 04:05:24.362 DEBUG [tests.conftest] Running test: test_multiple_content_topics_and_multiple_pubsub_topics with id: 2025-02-09_04-05-24__ede4fc56-4911-43fe-af0a-9666ac258559
2025-02-09 04:05:24.362 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 04:05:24.362 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-09 04:05:24.363 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-09 04:05:24.369 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:05:24.370 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-09_04-05-24__ede4fc56-4911-43fe-af0a-9666ac258559__wakuorg_nwaku:latest.log
2025-02-09 04:05:24.370 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:05:24.370 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:05:24.371 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:05:24.371 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.246.151
2025-02-09 04:05:24.372 DEBUG [src.node.docker_mananger] Generated ports ['31256', '31257', '31258', '31259', '31260']
2025-02-09 04:05:24.372 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:05:24.372 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:05:24.372 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:05:24.372 DEBUG [src.node.docker_mananger] docker run -i -t -p 31256:31256 -p 31257:31257 -p 31258:31258 -p 31259:31259 -p 31260:31260 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31258 --rest-port=31256 --tcp-port=31257 --discv5-udp-port=31259 --rest-address=0.0.0.0 --nat=extip:172.18.246.151 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=a6de9ac728d0b1f1eca7a26ec0a14176f9a4fbedbacb3abd9f5dd992daa03bc4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31260 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-09 04:05:24.605 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.246.151 waku 43c2367218d94686eb74ded6c199ae6e88eb56d95141037103ecc4ded279bb7f
2025-02-09 04:05:24.660 DEBUG [src.node.docker_mananger] Container started with ID 43c2367218d9. Setting up logs at ./log/docker/node1_2025-02-09_04-05-24__ede4fc56-4911-43fe-af0a-9666ac258559__wakuorg_nwaku:latest.log
2025-02-09 04:05:24.660 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31256
2025-02-09 04:05:24.660 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:05:25.167 ERROR [src.node.docker_mananger] Max retries reached for container 25bd8fd45dfd. Exiting log stream.
2025-02-09 04:05:25.661 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31256/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:25.664 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:05:25.664 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:05:25.664 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31256/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:25.666 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.151/tcp/31257/p2p/16Uiu2HAmTXNhDGdmoNauTo6xXirYCVp9ZPs7n3mgi8q5JQE77Q8X","/ip4/172.18.246.151/tcp/31258/ws/p2p/16Uiu2HAmTXNhDGdmoNauTo6xXirYCVp9ZPs7n3mgi8q5JQE77Q8X"],"enrUri":"enr:-Mu4QGp7OAZo9eax9CAPL5h8kkroeT2cBUIYqSCVI0gb3Vd-H_wJIsgnRul4Kk5qP2b30et_lZC8O6clzRqya06yJCoCgmlkgnY0gmlwhKwS9peKbXVsdGlhZGRyc5YACASsEvaXBnoZAAoErBL2lwZ6Gt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQPc6-vZkkRxx3RpaasyF64wTk3KQ06JVNBkyLmz3jPOoIN0Y3CCehmDdWRwgnobhXdha3UyBQ"}'
2025-02-09 04:05:25.666 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:05:25.673 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:05:25.673 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-09_04-05-24__ede4fc56-4911-43fe-af0a-9666ac258559__wakuorg_nwaku:latest.log
2025-02-09 04:05:25.673 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:05:25.673 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:05:25.675 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:05:25.675 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.219.113
2025-02-09 04:05:25.675 DEBUG [src.node.docker_mananger] Generated ports ['34776', '34777', '34778', '34779', '34780']
2025-02-09 04:05:25.675 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:05:25.675 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:05:25.676 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:05:25.676 DEBUG [src.node.docker_mananger] docker run -i -t -p 34776:34776 -p 34777:34777 -p 34778:34778 -p 34779:34779 -p 34780:34780 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34778 --rest-port=34776 --tcp-port=34777 --discv5-udp-port=34779 --rest-address=0.0.0.0 --nat=extip:172.18.219.113 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=c5f174a3d4fda0d2a4cfdb5bdb2e9f8a7fb13c940ffcfc04bbcfc563bdced65f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34780 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QGp7OAZo9eax9CAPL5h8kkroeT2cBUIYqSCVI0gb3Vd-H_wJIsgnRul4Kk5qP2b30et_lZC8O6clzRqya06yJCoCgmlkgnY0gmlwhKwS9peKbXVsdGlhZGRyc5YACASsEvaXBnoZAAoErBL2lwZ6Gt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQPc6-vZkkRxx3RpaasyF64wTk3KQ06JVNBkyLmz3jPOoIN0Y3CCehmDdWRwgnobhXdha3UyBQ --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-09 04:05:25.907 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.219.113 waku 67362c8bdc22c3bc8b18b8c41705ddcef29ec71b395d9ceac8242158daf5dc8a
2025-02-09 04:05:25.966 DEBUG [src.node.docker_mananger] Container started with ID 67362c8bdc22. Setting up logs at ./log/docker/node2_2025-02-09_04-05-24__ede4fc56-4911-43fe-af0a-9666ac258559__wakuorg_nwaku:latest.log
2025-02-09 04:05:25.966 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 34776
2025-02-09 04:05:25.967 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:05:26.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34776/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:26.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:05:26.974 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:05:26.975 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34776/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:26.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.219.113/tcp/34777/p2p/16Uiu2HAm6AvWVjv4Q9QoUvcFJN8Qg8umJRoFzPvnjASgSFFs3x2z","/ip4/172.18.219.113/tcp/34778/ws/p2p/16Uiu2HAm6AvWVjv4Q9QoUvcFJN8Qg8umJRoFzPvnjASgSFFs3x2z"],"enrUri":"enr:-Mu4QEfxTV5SJqtjSkc2eK-CRkO1jbMTqbzYDqce55Cq2br3Vblcdn7H_HM5FWbu9Oj4E7Sf9oQ58qB8nDudEFlXNQYCgmlkgnY0gmlwhKwS23GKbXVsdGlhZGRyc5YACASsEttxBofZAAoErBLbcQaH2t0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQKfqUW_bZk57j3hSVNPsEwE8uEHCHW3Pn66loE85kP2X4N0Y3CCh9mDdWRwgofbhXdha3UyAQ"}'
2025-02-09 04:05:26.999 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:05:26.999 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34776/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.246.151/tcp/31257/p2p/16Uiu2HAmTXNhDGdmoNauTo6xXirYCVp9ZPs7n3mgi8q5JQE77Q8X"]'
2025-02-09 04:05:27.015 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:05:27.017 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31256/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-09 04:05:27.021 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:05:27.022 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34776/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-09 04:05:27.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:05:27.025 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31256/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:05:27.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:05:27.031 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:05:27.132 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.132 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31256/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739073927025815808,"ephemeral":false}]'
2025-02-09 04:05:27.136 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.136 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34776/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739073927025815808,"ephemeral":false}]'
2025-02-09 04:05:27.140 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31256/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:05:27.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:05:27.146 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:05:27.246 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.246 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31256/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.249 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739073927140793344,"ephemeral":false}]'
2025-02-09 04:05:27.251 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.251 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34776/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739073927140793344,"ephemeral":false}]'
2025-02-09 04:05:27.255 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31256/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:05:27.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:05:27.260 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:05:27.361 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.361 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31256/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739073927255281152,"ephemeral":false}]'
2025-02-09 04:05:27.365 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34776/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.368 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739073927255281152,"ephemeral":false}]'
2025-02-09 04:05:27.369 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31256/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:05:27.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:05:27.375 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:05:27.475 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.476 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31256/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739073927369402880,"ephemeral":false}]'
2025-02-09 04:05:27.481 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.481 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34776/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739073927369402880,"ephemeral":false}]'
2025-02-09 04:05:27.485 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31256/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:05:27.490 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:05:27.490 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:05:27.591 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.591 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31256/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739073927485087232,"ephemeral":false}]'
2025-02-09 04:05:27.596 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.596 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34776/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.599 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739073927485087232,"ephemeral":false}]'
2025-02-09 04:05:27.600 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31256/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:05:27.606 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:05:27.606 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:05:27.707 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.707 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31256/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739073927600841472,"ephemeral":false}]'
2025-02-09 04:05:27.712 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.712 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34776/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.715 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739073927600841472,"ephemeral":false}]'
2025-02-09 04:05:27.718 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31256/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:05:27.722 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:05:27.723 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:05:27.823 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.824 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31256/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.827 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739073927717025280,"ephemeral":false}]'
2025-02-09 04:05:27.828 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.828 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34776/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.831 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739073927717025280,"ephemeral":false}]'
2025-02-09 04:05:27.832 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31256/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:05:27.837 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:05:27.838 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:05:27.939 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.939 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31256/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.942 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739073927832668416,"ephemeral":false}]'
2025-02-09 04:05:27.944 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:05:27.944 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34776/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:05:27.946 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739073927832668416,"ephemeral":false}]'
2025-02-09 04:05:27.949 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 04:05:27.950 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 04:05:27.950 DEBUG [src.node.waku_node] Stopping container with id 43c2367218d9
2025-02-09 04:05:29.161 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:05:29.162 DEBUG [src.node.waku_node] Stopping container with id 67362c8bdc22
2025-02-09 04:05:29.974 ERROR [src.node.docker_mananger] Max retries reached for container 43c2367218d9. Exiting log stream.
2025-02-09 04:05:30.671 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:05:30.671 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 04:05:30.685 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 04:05:30.697 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
