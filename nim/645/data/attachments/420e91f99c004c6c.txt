2025-02-09 04:06:39.014 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 04:06:39.014 DEBUG [tests.conftest] Running test: test_publish_with_valid_timestamps with id: 2025-02-09_04-06-39__f5c356be-1aa8-4c72-9779-e5b1a0910541
2025-02-09 04:06:39.014 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 04:06:39.015 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-09 04:06:39.015 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-09 04:06:39.021 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:06:39.021 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-09_04-06-39__f5c356be-1aa8-4c72-9779-e5b1a0910541__wakuorg_nwaku:latest.log
2025-02-09 04:06:39.021 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:06:39.021 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:06:39.022 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:06:39.023 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.21.164
2025-02-09 04:06:39.023 DEBUG [src.node.docker_mananger] Generated ports ['5110', '5111', '5112', '5113', '5114']
2025-02-09 04:06:39.023 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:06:39.023 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:06:39.023 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:06:39.023 DEBUG [src.node.docker_mananger] docker run -i -t -p 5110:5110 -p 5111:5111 -p 5112:5112 -p 5113:5113 -p 5114:5114 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5112 --rest-port=5110 --tcp-port=5111 --discv5-udp-port=5113 --rest-address=0.0.0.0 --nat=extip:172.18.21.164 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe10afea5dfaec5d49a5ec03c8c8fabe40d9efd73ab4a1fbca34ead09f05c7d1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5114 --metrics-logging=true --relay=true
2025-02-09 04:06:39.251 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.21.164 waku 6fa6542568bf920869a6665bc6c1aa34fcf473f312fc7844dd2f147c2e0c04d8
2025-02-09 04:06:39.299 DEBUG [src.node.docker_mananger] Container started with ID 6fa6542568bf. Setting up logs at ./log/docker/node1_2025-02-09_04-06-39__f5c356be-1aa8-4c72-9779-e5b1a0910541__wakuorg_nwaku:latest.log
2025-02-09 04:06:39.300 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5110
2025-02-09 04:06:39.300 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:06:39.730 ERROR [src.node.docker_mananger] Max retries reached for container 226add93a6c3. Exiting log stream.
2025-02-09 04:06:40.300 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5110/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:40.303 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:06:40.303 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:06:40.303 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5110/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:40.305 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.164/tcp/5111/p2p/16Uiu2HAm5La5wsugeJw9MCdxSh7LooSJJNqGFGbFRtcRk7mF5nMH","/ip4/172.18.21.164/tcp/5112/ws/p2p/16Uiu2HAm5La5wsugeJw9MCdxSh7LooSJJNqGFGbFRtcRk7mF5nMH"],"enrUri":"enr:-L24QKjt0B-8ZUQwaNJ0i8wydhJQlc1f034zY0XnykNSpzlAMgVs0rct4P3rNMXPj70MEMcEEsmmSH1czLjC-euF1OcCgmlkgnY0gmlwhKwSFaSKbXVsdGlhZGRyc5YACASsEhWkBhP3AAoErBIVpAYT-N0DgnJzhQADAQAAiXNlY3AyNTZrMaECk0ZNC5APPrYPEmTVQBTvT-bT8BGVbXxQZBLlGWe1heyDdGNwghP3g3VkcIIT-YV3YWt1MgE"}'
2025-02-09 04:06:40.306 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:06:40.312 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:06:40.312 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-09_04-06-39__f5c356be-1aa8-4c72-9779-e5b1a0910541__wakuorg_nwaku:latest.log
2025-02-09 04:06:40.312 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:06:40.312 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:06:40.313 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:06:40.314 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.0.176
2025-02-09 04:06:40.314 DEBUG [src.node.docker_mananger] Generated ports ['60020', '60021', '60022', '60023', '60024']
2025-02-09 04:06:40.314 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:06:40.314 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:06:40.314 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:06:40.314 DEBUG [src.node.docker_mananger] docker run -i -t -p 60020:60020 -p 60021:60021 -p 60022:60022 -p 60023:60023 -p 60024:60024 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60022 --rest-port=60020 --tcp-port=60021 --discv5-udp-port=60023 --rest-address=0.0.0.0 --nat=extip:172.18.0.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cb3bba3a4af5f06eedce3e77cb4b9a3a72f67bf5a8bb764c6285e76b164d57ee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60024 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKjt0B-8ZUQwaNJ0i8wydhJQlc1f034zY0XnykNSpzlAMgVs0rct4P3rNMXPj70MEMcEEsmmSH1czLjC-euF1OcCgmlkgnY0gmlwhKwSFaSKbXVsdGlhZGRyc5YACASsEhWkBhP3AAoErBIVpAYT-N0DgnJzhQADAQAAiXNlY3AyNTZrMaECk0ZNC5APPrYPEmTVQBTvT-bT8BGVbXxQZBLlGWe1heyDdGNwghP3g3VkcIIT-YV3YWt1MgE
2025-02-09 04:06:40.549 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.0.176 waku de7c9f5c033608cddac96c32fd216f06583c7416af0b97ee2f4dc835b77b88d7
2025-02-09 04:06:40.599 DEBUG [src.node.docker_mananger] Container started with ID de7c9f5c0336. Setting up logs at ./log/docker/node2_2025-02-09_04-06-39__f5c356be-1aa8-4c72-9779-e5b1a0910541__wakuorg_nwaku:latest.log
2025-02-09 04:06:40.599 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60020
2025-02-09 04:06:40.600 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:06:41.601 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60020/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:41.605 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:06:41.606 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:06:41.606 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60020/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:41.609 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.176/tcp/60021/p2p/16Uiu2HAmMaPzc5YgX6hpsh2mY5GNcJkeJ5Gu5UMwAs5txNxmy3bP","/ip4/172.18.0.176/tcp/60022/ws/p2p/16Uiu2HAmMaPzc5YgX6hpsh2mY5GNcJkeJ5Gu5UMwAs5txNxmy3bP"],"enrUri":"enr:-L24QN11aH6S3yUce480FOmrh8-dhlNSUN-JmJnhSDNcHO3mKdGNRgOhrQW74mHNziaP133vawaFIGAB59DjnpAYQLQCgmlkgnY0gmlwhKwSALCKbXVsdGlhZGRyc5YACASsEgCwBup1AAoErBIAsAbqdt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhIwDDo_JQSCVtL2ARTIfVL0Fw7O6nJFGxNndb-k37rKDdGNwgup1g3VkcILqd4V3YWt1MgE"}'
2025-02-09 04:06:41.610 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:06:41.610 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60020/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.21.164/tcp/5111/p2p/16Uiu2HAm5La5wsugeJw9MCdxSh7LooSJJNqGFGbFRtcRk7mF5nMH"]'
2025-02-09 04:06:41.614 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:06:41.614 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-09 04:06:41.615 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5110/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-09 04:06:41.618 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:06:41.619 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60020/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-09 04:06:41.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:06:41.625 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:06:41.630 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:06:41.631 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:06:41.731 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:41.731 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:41.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074001625265664,"ephemeral":false}]'
2025-02-09 04:06:41.735 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:41.735 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:41.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739074001625265664,"ephemeral":false}]'
2025-02-09 04:06:41.738 INFO [src.steps.relay] WARM UP successful!!
2025-02-09 04:06:41.739 DEBUG [tests.relay.test_publish] Running test with timestamp Now
2025-02-09 04:06:41.740 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:06:41.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:06:41.744 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:06:41.845 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:41.845 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:41.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739073838880026112,"ephemeral":false}]'
2025-02-09 04:06:41.849 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:41.849 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:41.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739073838880026112,"ephemeral":false}]'
2025-02-09 04:06:41.852 DEBUG [tests.relay.test_publish] Running test with timestamp Far future
2025-02-09 04:06:41.853 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:06:41.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:06:41.857 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:06:41.957 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:41.958 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:41.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054433838880013056,"ephemeral":false}]'
2025-02-09 04:06:41.961 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:41.961 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:41.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054433838880013056,"ephemeral":false}]'
2025-02-09 04:06:41.965 DEBUG [tests.relay.test_publish] Running test with timestamp Recent past
2025-02-09 04:06:41.965 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:06:41.969 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:06:41.970 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:06:42.070 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:42.071 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:42.073 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739070238880013056,"ephemeral":false}]'
2025-02-09 04:06:42.074 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:42.074 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:42.076 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739070238880013056,"ephemeral":false}]'
2025-02-09 04:06:42.077 DEBUG [tests.relay.test_publish] Running test with timestamp Near future
2025-02-09 04:06:42.078 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:06:42.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:06:42.082 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:06:42.182 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:42.182 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:42.185 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739077438880013056,"ephemeral":false}]'
2025-02-09 04:06:42.186 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:42.186 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:42.188 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739077438880013056,"ephemeral":false}]'
2025-02-09 04:06:42.189 DEBUG [tests.relay.test_publish] Running test with timestamp Positive number
2025-02-09 04:06:42.190 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:06:42.194 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:06:42.194 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:06:42.295 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:42.295 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:42.297 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-09 04:06:42.298 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:42.298 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:42.300 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-09 04:06:42.302 DEBUG [tests.relay.test_publish] Running test with timestamp Negative number
2025-02-09 04:06:42.302 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:06:42.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:06:42.308 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:06:42.409 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:42.409 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:42.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-09 04:06:42.412 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:42.412 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:42.414 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-09 04:06:42.416 DEBUG [tests.relay.test_publish] Running test with timestamp DST change
2025-02-09 04:06:42.416 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:06:42.420 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:06:42.421 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:06:42.521 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:42.521 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:42.523 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-09 04:06:42.524 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-09 04:06:42.525 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:06:42.527 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-09 04:06:42.530 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 04:06:42.531 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 04:06:42.531 DEBUG [src.node.waku_node] Stopping container with id 6fa6542568bf
2025-02-09 04:06:43.199 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:06:43.200 DEBUG [src.node.waku_node] Stopping container with id de7c9f5c0336
2025-02-09 04:06:44.011 ERROR [src.node.docker_mananger] Max retries reached for container 6fa6542568bf. Exiting log stream.
2025-02-09 04:06:44.542 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:06:44.543 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 04:06:44.549 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 04:06:44.556 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
