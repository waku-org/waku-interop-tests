2025-02-09 04:07:02.325 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 04:07:02.325 DEBUG [tests.conftest] Running test: test_light_push_on_multiple_pubsub_topics with id: 2025-02-09_04-07-02__8c772bef-3b01-4b90-8bc1-b908f8090cff
2025-02-09 04:07:02.326 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 04:07:02.326 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-09 04:07:02.332 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:07:02.332 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-09_04-07-02__8c772bef-3b01-4b90-8bc1-b908f8090cff__wakuorg_nwaku:latest.log
2025-02-09 04:07:02.332 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:07:02.332 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:07:02.334 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:07:02.334 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.19.200
2025-02-09 04:07:02.334 DEBUG [src.node.docker_mananger] Generated ports ['12972', '12973', '12974', '12975', '12976']
2025-02-09 04:07:02.334 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:07:02.334 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:07:02.335 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:07:02.335 DEBUG [src.node.docker_mananger] docker run -i -t -p 12972:12972 -p 12973:12973 -p 12974:12974 -p 12975:12975 -p 12976:12976 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12974 --rest-port=12972 --tcp-port=12973 --discv5-udp-port=12975 --rest-address=0.0.0.0 --nat=extip:172.18.19.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=793e9b1fa9ee8b7a0d3e2529d6dbdd900ccc52ea58f3ddff2a71c12dd7f4017c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12976 --metrics-logging=true --lightpush=true --relay=true
2025-02-09 04:07:02.550 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.19.200 waku b5e60487bd501a38c5621644992831d9e3e978253005a7b3c64c59b5e9bde2bc
2025-02-09 04:07:02.600 DEBUG [src.node.docker_mananger] Container started with ID b5e60487bd50. Setting up logs at ./log/docker/receiving_node1_2025-02-09_04-07-02__8c772bef-3b01-4b90-8bc1-b908f8090cff__wakuorg_nwaku:latest.log
2025-02-09 04:07:02.601 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 12972
2025-02-09 04:07:02.601 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:07:03.124 ERROR [src.node.docker_mananger] Max retries reached for container 6bb3c6c162ee. Exiting log stream.
2025-02-09 04:07:03.602 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12972/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:03.605 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:07:03.605 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:07:03.605 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12972/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:03.607 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.200/tcp/12973/p2p/16Uiu2HAkx9JrJThP3ne3oXRzmNV5wzZisFmqgotUegf9xnYozRVM","/ip4/172.18.19.200/tcp/12974/ws/p2p/16Uiu2HAkx9JrJThP3ne3oXRzmNV5wzZisFmqgotUegf9xnYozRVM"],"enrUri":"enr:-L24QC_ExTLrnZHYp8jIna4XcvmQdwdljM3sK9Oeu4phjoRFP0CBZBqwFqC-poN6JMuFQItrELAnqjl66BH9FgS5J_4CgmlkgnY0gmlwhKwSE8iKbXVsdGlhZGRyc5YACASsEhPIBjKtAAoErBITyAYyrt0DgnJzhQADAQAAiXNlY3AyNTZrMaECKGHgg6owNwhpxF98KOSn0oWrqDn4G-ab6-435MGHXrSDdGNwgjKtg3VkcIIyr4V3YWt1Mgk"}'
2025-02-09 04:07:03.607 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:07:03.614 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:07:03.614 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-09_04-07-02__8c772bef-3b01-4b90-8bc1-b908f8090cff__wakuorg_nwaku:latest.log
2025-02-09 04:07:03.614 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:07:03.614 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:07:03.616 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:07:03.616 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.206.106
2025-02-09 04:07:03.616 DEBUG [src.node.docker_mananger] Generated ports ['13461', '13462', '13463', '13464', '13465']
2025-02-09 04:07:03.616 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:07:03.616 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:07:03.616 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:07:03.616 DEBUG [src.node.docker_mananger] docker run -i -t -p 13461:13461 -p 13462:13462 -p 13463:13463 -p 13464:13464 -p 13465:13465 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13463 --rest-port=13461 --tcp-port=13462 --discv5-udp-port=13464 --rest-address=0.0.0.0 --nat=extip:172.18.206.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ee1c2b0bca15315174eb57dd95aa87a4fdc2f8561296d88fd5c5ed48100aa5c0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13465 --metrics-logging=true --lightpush=false --relay=true
2025-02-09 04:07:03.849 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.206.106 waku 8779add931912d2b7f81043fed4ed60ed09bf61ab08afce3d299863db10228fd
2025-02-09 04:07:03.894 DEBUG [src.node.docker_mananger] Container started with ID 8779add93191. Setting up logs at ./log/docker/receiving_node2_2025-02-09_04-07-02__8c772bef-3b01-4b90-8bc1-b908f8090cff__wakuorg_nwaku:latest.log
2025-02-09 04:07:03.894 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 13461
2025-02-09 04:07:03.894 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:07:04.895 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13461/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:04.898 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:07:04.898 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:07:04.898 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13461/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:04.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.206.106/tcp/13462/p2p/16Uiu2HAm85LUFJTGPY8e9JxESPebv2xb2cHNjjP57rbcUvpuLrFV","/ip4/172.18.206.106/tcp/13463/ws/p2p/16Uiu2HAm85LUFJTGPY8e9JxESPebv2xb2cHNjjP57rbcUvpuLrFV"],"enrUri":"enr:-L24QC04tz-kGimEovoJ1EQS-zCvh4yStDmpsSD8d8Bx2EGCd3fYhPo7iPY0zACZ1KTnmYYf8Po3Bx1aIfQyC-gmcFQCgmlkgnY0gmlwhKwSzmqKbXVsdGlhZGRyc5YACASsEs5qBjSWAAoErBLOagY0l90DgnJzhQADAQAAiXNlY3AyNTZrMaECu_JBJoR-XLtvbdWovQC9BIrsZAPcWbDBclHFuyNXCYSDdGNwgjSWg3VkcII0mIV3YWt1MgE"}'
2025-02-09 04:07:04.901 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:07:04.901 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13461/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.200/tcp/12973/p2p/16Uiu2HAkx9JrJThP3ne3oXRzmNV5wzZisFmqgotUegf9xnYozRVM"]'
2025-02-09 04:07:04.942 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:04.950 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:07:04.950 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-09_04-07-02__8c772bef-3b01-4b90-8bc1-b908f8090cff__wakuorg_nwaku:latest.log
2025-02-09 04:07:04.951 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:07:04.951 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:07:04.952 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:07:04.952 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.243.125
2025-02-09 04:07:04.952 DEBUG [src.node.docker_mananger] Generated ports ['28972', '28973', '28974', '28975', '28976']
2025-02-09 04:07:04.953 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:07:04.953 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:07:04.953 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:07:04.953 DEBUG [src.node.docker_mananger] docker run -i -t -p 28972:28972 -p 28973:28973 -p 28974:28974 -p 28975:28975 -p 28976:28976 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28974 --rest-port=28972 --tcp-port=28973 --discv5-udp-port=28975 --rest-address=0.0.0.0 --nat=extip:172.18.243.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=db86c49c055fbac563adeeb4cadbd7ccfed9e8def2da35de75bf0bbd00365e92 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28976 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QC_ExTLrnZHYp8jIna4XcvmQdwdljM3sK9Oeu4phjoRFP0CBZBqwFqC-poN6JMuFQItrELAnqjl66BH9FgS5J_4CgmlkgnY0gmlwhKwSE8iKbXVsdGlhZGRyc5YACASsEhPIBjKtAAoErBITyAYyrt0DgnJzhQADAQAAiXNlY3AyNTZrMaECKGHgg6owNwhpxF98KOSn0oWrqDn4G-ab6-435MGHXrSDdGNwgjKtg3VkcIIyr4V3YWt1Mgk --lightpushnode=/ip4/172.18.19.200/tcp/12973/p2p/16Uiu2HAkx9JrJThP3ne3oXRzmNV5wzZisFmqgotUegf9xnYozRVM --lightpush=true --relay=false
2025-02-09 04:07:05.187 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.243.125 waku 24816c919881ecc0c551cd527342edf6a27c8ce46dfd363744f37504d71a2f85
2025-02-09 04:07:05.236 DEBUG [src.node.docker_mananger] Container started with ID 24816c919881. Setting up logs at ./log/docker/lightpush_node1_2025-02-09_04-07-02__8c772bef-3b01-4b90-8bc1-b908f8090cff__wakuorg_nwaku:latest.log
2025-02-09 04:07:05.237 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 28972
2025-02-09 04:07:05.237 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:07:06.237 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28972/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.240 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:07:06.240 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:07:06.241 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28972/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.243.125/tcp/28973/p2p/16Uiu2HAkyjTvAq7igx8krmYW2L8NXyvCXUkCo8bJ7qaF7fGBxK2D","/ip4/172.18.243.125/tcp/28974/ws/p2p/16Uiu2HAkyjTvAq7igx8krmYW2L8NXyvCXUkCo8bJ7qaF7fGBxK2D"],"enrUri":"enr:-L24QIKH_-h5FQGaxmqObmiopM1OBgQNP_XlNRNyFWrgHCuPWG_ONQRX1nj3kqCysI1TBnJV_n_l0UIDa6M03uPMkdkCgmlkgnY0gmlwhKwS832KbXVsdGlhZGRyc5YACASsEvN9BnEtAAoErBLzfQZxLt0DgnJzhQADAQAAiXNlY3AyNTZrMaECP_2QLUs-z14QwF5ZA4Hn3Zr1M2Oikh-T5VeaGXWOhuaDdGNwgnEtg3VkcIJxL4V3YWt1Mgg"}'
2025-02-09 04:07:06.243 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:07:06.243 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28972/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.200/tcp/12973/p2p/16Uiu2HAkx9JrJThP3ne3oXRzmNV5wzZisFmqgotUegf9xnYozRVM"]'
2025-02-09 04:07:06.278 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:06.282 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28972/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.206.106/tcp/13462/p2p/16Uiu2HAm85LUFJTGPY8e9JxESPebv2xb2cHNjjP57rbcUvpuLrFV"]'
2025-02-09 04:07:06.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:06.314 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12972/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-09 04:07:06.319 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:06.320 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13461/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-09 04:07:06.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:06.327 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12972/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-09 04:07:06.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:06.335 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13461/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-09 04:07:06.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:06.350 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/0
2025-02-09 04:07:06.351 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:07:06.353 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28972/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739074026351549952}}'
2025-02-09 04:07:06.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:06.364 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:06.464 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:07:06.464 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.467 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739074026351549952,"ephemeral":false}]'
2025-02-09 04:07:06.468 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:07:06.468 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.471 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739074026351549952,"ephemeral":false}]'
2025-02-09 04:07:06.472 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/1
2025-02-09 04:07:06.473 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:07:06.473 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28972/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739074026473205248}}'
2025-02-09 04:07:06.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:06.483 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:06.583 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:07:06.583 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.586 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739074026473205248,"ephemeral":false}]'
2025-02-09 04:07:06.587 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:07:06.587 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.590 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739074026473205248,"ephemeral":false}]'
2025-02-09 04:07:06.591 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/9
2025-02-09 04:07:06.591 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:07:06.591 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28972/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/9", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739074026591667712}}'
2025-02-09 04:07:06.601 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:06.601 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:06.702 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:07:06.702 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739074026591667712,"ephemeral":false}]'
2025-02-09 04:07:06.706 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:07:06.706 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.708 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739074026591667712,"ephemeral":false}]'
2025-02-09 04:07:06.709 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/25
2025-02-09 04:07:06.710 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:07:06.710 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28972/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/25", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739074026710226176}}'
2025-02-09 04:07:06.720 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:06.720 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:06.821 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:07:06.821 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.824 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739074026710226176,"ephemeral":false}]'
2025-02-09 04:07:06.825 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:07:06.825 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.828 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739074026710226176,"ephemeral":false}]'
2025-02-09 04:07:06.829 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/1000
2025-02-09 04:07:06.829 DEBUG [src.steps.light_push] Lightpushing message
2025-02-09 04:07:06.830 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28972/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1000", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739074026829901312}}'
2025-02-09 04:07:06.840 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:07:06.840 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 04:07:06.940 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:07:06.940 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.943 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739074026829901312,"ephemeral":false}]'
2025-02-09 04:07:06.944 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-09 04:07:06.944 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:07:06.946 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739074026829901312,"ephemeral":false}]'
2025-02-09 04:07:06.949 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 04:07:06.950 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 04:07:06.951 DEBUG [src.node.waku_node] Stopping container with id b5e60487bd50
2025-02-09 04:07:08.090 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:07:08.090 DEBUG [src.node.waku_node] Stopping container with id 8779add93191
2025-02-09 04:07:08.902 ERROR [src.node.docker_mananger] Max retries reached for container b5e60487bd50. Exiting log stream.
2025-02-09 04:07:09.578 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:07:09.579 DEBUG [src.node.waku_node] Stopping container with id 24816c919881
2025-02-09 04:07:10.391 ERROR [src.node.docker_mananger] Max retries reached for container 8779add93191. Exiting log stream.
2025-02-09 04:07:11.063 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:07:11.064 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 04:07:11.073 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 04:07:11.083 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 04:07:11.090 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
