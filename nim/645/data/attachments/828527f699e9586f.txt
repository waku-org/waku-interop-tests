2025-02-09 04:03:54.399 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 04:03:54.399 DEBUG [tests.conftest] Running test: test_unsubscribe_from_non_subscribed_pubsub_topics with id: 2025-02-09_04-03-54__d5958363-23ac-4d39-963f-960ef9a1d82f
2025-02-09 04:03:54.399 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 04:03:54.400 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-09 04:03:54.400 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-09 04:03:54.407 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:03:54.407 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-09_04-03-54__d5958363-23ac-4d39-963f-960ef9a1d82f__wakuorg_nwaku:latest.log
2025-02-09 04:03:54.407 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:03:54.407 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:03:54.408 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:03:54.409 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.90.208
2025-02-09 04:03:54.409 DEBUG [src.node.docker_mananger] Generated ports ['5773', '5774', '5775', '5776', '5777']
2025-02-09 04:03:54.409 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:03:54.409 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:03:54.409 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:03:54.409 DEBUG [src.node.docker_mananger] docker run -i -t -p 5773:5773 -p 5774:5774 -p 5775:5775 -p 5776:5776 -p 5777:5777 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5775 --rest-port=5773 --tcp-port=5774 --discv5-udp-port=5776 --rest-address=0.0.0.0 --nat=extip:172.18.90.208 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=44dae87c86b3faae78fbe3b681dfbd0f957c80fa6fcfbead2d3cf04895cdeaea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5777 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
2025-02-09 04:03:54.649 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.90.208 waku e77d49906b64e9be5c6b8517766a3c9255bd868776db0e4a50b4327b861c2c8e
2025-02-09 04:03:54.697 DEBUG [src.node.docker_mananger] Container started with ID e77d49906b64. Setting up logs at ./log/docker/node1_2025-02-09_04-03-54__d5958363-23ac-4d39-963f-960ef9a1d82f__wakuorg_nwaku:latest.log
2025-02-09 04:03:54.698 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5773
2025-02-09 04:03:54.699 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:03:55.172 ERROR [src.node.docker_mananger] Max retries reached for container 760330899ace. Exiting log stream.
2025-02-09 04:03:55.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5773/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:55.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:03:55.702 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:03:55.702 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5773/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:55.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.208/tcp/5774/p2p/16Uiu2HAm4njqUQDTJmGKxFi9Vqfa78GARBW4nHtAyYhQHmqBoqy4","/ip4/172.18.90.208/tcp/5775/ws/p2p/16Uiu2HAm4njqUQDTJmGKxFi9Vqfa78GARBW4nHtAyYhQHmqBoqy4"],"enrUri":"enr:-L24QE1OGl702F0ZrKnxvarnchaAY6vinXO_it0gN0qLpKAmIqF5wiTkzgyRo_0te2bgFMUlkH4oB8y2i7Ij0tSPQ7oCgmlkgnY0gmlwhKwSWtCKbXVsdGlhZGRyc5YACASsElrQBhaOAAoErBJa0AYWj90DgnJzhQACAQAAiXNlY3AyNTZrMaECix69bKdmkrOyZeqTwoBQqigyE7zHGne7_-1OHXuulUODdGNwghaOg3VkcIIWkIV3YWt1MgU"}'
2025-02-09 04:03:55.705 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:03:55.711 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:03:55.711 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-09_04-03-54__d5958363-23ac-4d39-963f-960ef9a1d82f__wakuorg_nwaku:latest.log
2025-02-09 04:03:55.711 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:03:55.711 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:03:55.713 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:03:55.713 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.137.174
2025-02-09 04:03:55.713 DEBUG [src.node.docker_mananger] Generated ports ['46452', '46453', '46454', '46455', '46456']
2025-02-09 04:03:55.713 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:03:55.713 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:03:55.713 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:03:55.713 DEBUG [src.node.docker_mananger] docker run -i -t -p 46452:46452 -p 46453:46453 -p 46454:46454 -p 46455:46455 -p 46456:46456 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46454 --rest-port=46452 --tcp-port=46453 --discv5-udp-port=46455 --rest-address=0.0.0.0 --nat=extip:172.18.137.174 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=8ca19dbfffeb2f5ecfb1ffebdf8b0c8ae99b23e3b46dbaebbe8299e5a5764fdc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46456 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QE1OGl702F0ZrKnxvarnchaAY6vinXO_it0gN0qLpKAmIqF5wiTkzgyRo_0te2bgFMUlkH4oB8y2i7Ij0tSPQ7oCgmlkgnY0gmlwhKwSWtCKbXVsdGlhZGRyc5YACASsElrQBhaOAAoErBJa0AYWj90DgnJzhQACAQAAiXNlY3AyNTZrMaECix69bKdmkrOyZeqTwoBQqigyE7zHGne7_-1OHXuulUODdGNwghaOg3VkcIIWkIV3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
2025-02-09 04:03:55.933 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.137.174 waku 74c0d662ee52564231ef0ff0c6212206f2b7c4bc068aae75e99496e5a2b01198
2025-02-09 04:03:55.982 DEBUG [src.node.docker_mananger] Container started with ID 74c0d662ee52. Setting up logs at ./log/docker/node2_2025-02-09_04-03-54__d5958363-23ac-4d39-963f-960ef9a1d82f__wakuorg_nwaku:latest.log
2025-02-09 04:03:55.982 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 46452
2025-02-09 04:03:55.983 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:03:56.984 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46452/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:56.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:03:56.992 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:03:56.992 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46452/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:56.996 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.174/tcp/46453/p2p/16Uiu2HAm5XLe1sDxd7PPtjWz1ZZDNbWU7NmQsMqVDxAHqQ78662f","/ip4/172.18.137.174/tcp/46454/ws/p2p/16Uiu2HAm5XLe1sDxd7PPtjWz1ZZDNbWU7NmQsMqVDxAHqQ78662f"],"enrUri":"enr:-L24QPWqEhBSXk3xwa61aIDp6mdmHhaTN1_bQQCx6J_A0HcXE249mR6ZgUFv3V4bM7fyXop0wg9XXQGapMutNm9VFCYCgmlkgnY0gmlwhKwSia6KbXVsdGlhZGRyc5YACASsEomuBrV1AAoErBKJrga1dt0DgnJzhQACAQAAiXNlY3AyNTZrMaEClgh8NQUaTKnIyBBbi8_KLX-JpYNd1eohg_Hv5Ou5v8yDdGNwgrV1g3VkcIK1d4V3YWt1MgE"}'
2025-02-09 04:03:56.996 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:03:56.996 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46452/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.90.208/tcp/5774/p2p/16Uiu2HAm4njqUQDTJmGKxFi9Vqfa78GARBW4nHtAyYhQHmqBoqy4"]'
2025-02-09 04:03:56.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:56.999 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:5773/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-09 04:03:57.005 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:57.005 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:46452/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-09 04:03:57.009 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:57.010 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:03:57.013 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-09 04:03:57.014 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:03:57.017 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-09 04:03:57.018 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:03:57.021 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-09 04:03:57.022 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:03:57.025 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/3'
2025-02-09 04:03:57.026 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:03:57.029 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/4'
2025-02-09 04:03:57.030 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:03:57.032 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/5'
2025-02-09 04:03:57.034 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:03:57.036 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/6'
2025-02-09 04:03:57.037 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 04:03:57.039 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/7'
2025-02-09 04:03:57.042 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 04:03:57.043 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 04:03:57.043 DEBUG [src.node.waku_node] Stopping container with id e77d49906b64
2025-02-09 04:03:58.164 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:03:58.165 DEBUG [src.node.waku_node] Stopping container with id 74c0d662ee52
2025-02-09 04:03:58.977 ERROR [src.node.docker_mananger] Max retries reached for container e77d49906b64. Exiting log stream.
2025-02-09 04:03:59.660 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:03:59.661 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 04:03:59.669 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 04:03:59.673 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
