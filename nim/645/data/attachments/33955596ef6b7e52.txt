2025-02-09 04:03:33.328 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 04:03:33.328 DEBUG [tests.conftest] Running test: test_filter_ping_without_request_id with id: 2025-02-09_04-03-33__62788641-f80a-48df-940e-75cb16c04823
2025-02-09 04:03:33.328 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 04:03:33.328 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-09 04:03:33.329 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-09 04:03:33.335 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:03:33.335 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-09_04-03-33__62788641-f80a-48df-940e-75cb16c04823__wakuorg_nwaku:latest.log
2025-02-09 04:03:33.335 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:03:33.335 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:03:33.337 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:03:33.337 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.60.29
2025-02-09 04:03:33.337 DEBUG [src.node.docker_mananger] Generated ports ['17616', '17617', '17618', '17619', '17620']
2025-02-09 04:03:33.337 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:03:33.337 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:03:33.337 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:03:33.338 DEBUG [src.node.docker_mananger] docker run -i -t -p 17616:17616 -p 17617:17617 -p 17618:17618 -p 17619:17619 -p 17620:17620 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17618 --rest-port=17616 --tcp-port=17617 --discv5-udp-port=17619 --rest-address=0.0.0.0 --nat=extip:172.18.60.29 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cd2f66dd47cdae477403080ffcdeb342dd956b291effe8d13b0bfe0adc192d6a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17620 --metrics-logging=true --relay=true --filter=true
2025-02-09 04:03:33.579 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.60.29 waku b7b12ea73734273f69a68c08d3c0f1ca3dde0da9d8f919203469331e14a42be8
2025-02-09 04:03:33.626 DEBUG [src.node.docker_mananger] Container started with ID b7b12ea73734. Setting up logs at ./log/docker/node1_2025-02-09_04-03-33__62788641-f80a-48df-940e-75cb16c04823__wakuorg_nwaku:latest.log
2025-02-09 04:03:33.628 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17616
2025-02-09 04:03:33.628 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:03:34.135 ERROR [src.node.docker_mananger] Max retries reached for container 8bd8ff37e36e. Exiting log stream.
2025-02-09 04:03:34.628 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17616/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:34.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:03:34.631 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:03:34.632 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17616/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:34.634 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.29/tcp/17617/p2p/16Uiu2HAmAf9EvTA4GFpkgR7ArPBzkbVZqdofZugpDSrp7B17V5DK","/ip4/172.18.60.29/tcp/17618/ws/p2p/16Uiu2HAmAf9EvTA4GFpkgR7ArPBzkbVZqdofZugpDSrp7B17V5DK"],"enrUri":"enr:-L24QDAByIOdRI9gmHMS7mVs24VrrHfs54R1uxXjswROFDUiJidXBJnk-_TSQ1kc5pLBX47KPiieuGWg9SYjc6PZuncCgmlkgnY0gmlwhKwSPB2KbXVsdGlhZGRyc5YACASsEjwdBkTRAAoErBI8HQZE0t0DgnJzhQADAQAAiXNlY3AyNTZrMaEC4lKtqBiyEUDOfYJ9kNV1juBKERnv9gUjsLlmRMH7PJqDdGNwgkTRg3VkcIJE04V3YWt1MgU"}'
2025-02-09 04:03:34.634 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:03:34.634 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-09 04:03:34.640 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:03:34.641 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-09_04-03-33__62788641-f80a-48df-940e-75cb16c04823__wakuorg_nwaku:latest.log
2025-02-09 04:03:34.641 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:03:34.641 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:03:34.642 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:03:34.642 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.162.156
2025-02-09 04:03:34.643 DEBUG [src.node.docker_mananger] Generated ports ['59250', '59251', '59252', '59253', '59254']
2025-02-09 04:03:34.643 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:03:34.643 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:03:34.643 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:03:34.643 DEBUG [src.node.docker_mananger] docker run -i -t -p 59250:59250 -p 59251:59251 -p 59252:59252 -p 59253:59253 -p 59254:59254 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59252 --rest-port=59250 --tcp-port=59251 --discv5-udp-port=59253 --rest-address=0.0.0.0 --nat=extip:172.18.162.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=497fcdae8863a8ca7c1e2e03fa3aff9bb6baec180d7f51dbbbf690cccfdccde7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59254 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QDAByIOdRI9gmHMS7mVs24VrrHfs54R1uxXjswROFDUiJidXBJnk-_TSQ1kc5pLBX47KPiieuGWg9SYjc6PZuncCgmlkgnY0gmlwhKwSPB2KbXVsdGlhZGRyc5YACASsEjwdBkTRAAoErBI8HQZE0t0DgnJzhQADAQAAiXNlY3AyNTZrMaEC4lKtqBiyEUDOfYJ9kNV1juBKERnv9gUjsLlmRMH7PJqDdGNwgkTRg3VkcIJE04V3YWt1MgU --filternode=/ip4/172.18.60.29/tcp/17617/p2p/16Uiu2HAmAf9EvTA4GFpkgR7ArPBzkbVZqdofZugpDSrp7B17V5DK
2025-02-09 04:03:34.878 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.162.156 waku 09a4303c7caef64d0b59aeae707a67da843083f65d86471bd2b9c1535ca3f665
2025-02-09 04:03:34.925 DEBUG [src.node.docker_mananger] Container started with ID 09a4303c7cae. Setting up logs at ./log/docker/node2_2025-02-09_04-03-33__62788641-f80a-48df-940e-75cb16c04823__wakuorg_nwaku:latest.log
2025-02-09 04:03:34.925 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 59250
2025-02-09 04:03:34.926 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:03:35.927 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59250/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:35.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:03:35.930 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:03:35.930 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59250/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:35.932 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.162.156/tcp/59251/p2p/16Uiu2HAmNJA7G7rzz2hcXpXqoyBEdDgaYcq4zUqDbjiHiNdC2A7d","/ip4/172.18.162.156/tcp/59252/ws/p2p/16Uiu2HAmNJA7G7rzz2hcXpXqoyBEdDgaYcq4zUqDbjiHiNdC2A7d"],"enrUri":"enr:-L24QM1n0eh-Z5hf0dlRWH1lanBofYZTadvDLrKAJTYMEiIsL1QPkLopjXd5dATW70eE8-AeQH2GObMVbwjPgd4LT3UCgmlkgnY0gmlwhKwSopyKbXVsdGlhZGRyc5YACASsEqKcBudzAAoErBKinAbndN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjz60sRJjakDWRG6ZJ_373RVZEnxZ2cFpCAG6ajoJr9yDdGNwgudzg3VkcILndYV3YWt1MgA"}'
2025-02-09 04:03:35.932 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:03:35.932 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59250/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.60.29/tcp/17617/p2p/16Uiu2HAmAf9EvTA4GFpkgR7ArPBzkbVZqdofZugpDSrp7B17V5DK"]'
2025-02-09 04:03:35.968 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:35.973 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-09 04:03:35.973 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17616/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-09 04:03:35.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:03:35.989 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59250/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5137f94b-5696-434d-ba4e-cfd75abd9e6e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-09 04:03:36.002 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"5137f94b-5696-434d-ba4e-cfd75abd9e6e","statusDesc":"OK"}'
2025-02-09 04:03:36.003 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59250/filter/v2/subscriptions/" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:03:36.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusDesc":"OK"}'
2025-02-09 04:03:36.012 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 04:03:36.013 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 04:03:36.013 DEBUG [src.node.waku_node] Stopping container with id b7b12ea73734
2025-02-09 04:03:37.099 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:03:37.099 DEBUG [src.node.waku_node] Stopping container with id 09a4303c7cae
2025-02-09 04:03:37.912 ERROR [src.node.docker_mananger] Max retries reached for container b7b12ea73734. Exiting log stream.
2025-02-09 04:03:38.619 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:03:38.619 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 04:03:38.624 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 04:03:38.628 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
