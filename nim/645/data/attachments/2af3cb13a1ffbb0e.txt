2025-02-09 04:04:13.893 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 04:04:13.894 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_with_invalid_pubsub_topic_format with id: 2025-02-09_04-04-13__eaf2661e-f04a-4cde-8b2b-7d3373fcfee9
2025-02-09 04:04:13.894 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 04:04:13.894 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-09 04:04:13.894 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-09 04:04:13.901 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:04:13.901 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-09_04-04-13__eaf2661e-f04a-4cde-8b2b-7d3373fcfee9__wakuorg_nwaku:latest.log
2025-02-09 04:04:13.901 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:04:13.901 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:04:13.903 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:04:13.903 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.127.149
2025-02-09 04:04:13.903 DEBUG [src.node.docker_mananger] Generated ports ['44966', '44967', '44968', '44969', '44970']
2025-02-09 04:04:13.903 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:04:13.904 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:04:13.904 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:04:13.904 DEBUG [src.node.docker_mananger] docker run -i -t -p 44966:44966 -p 44967:44967 -p 44968:44968 -p 44969:44969 -p 44970:44970 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44968 --rest-port=44966 --tcp-port=44967 --discv5-udp-port=44969 --rest-address=0.0.0.0 --nat=extip:172.18.127.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f1f2e1dd7080a88627ef54eb5a87b9a2ce9722ebcdffe2f3d94d5e0c1efa1bba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44970 --metrics-logging=true --relay=true
2025-02-09 04:04:14.140 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.127.149 waku b4d8b1f18923a3bafd63191d2c2abfac7eb245f74a3484599c80d51c3d2f3e6b
2025-02-09 04:04:14.182 DEBUG [src.node.docker_mananger] Container started with ID b4d8b1f18923. Setting up logs at ./log/docker/node1_2025-02-09_04-04-13__eaf2661e-f04a-4cde-8b2b-7d3373fcfee9__wakuorg_nwaku:latest.log
2025-02-09 04:04:14.182 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44966
2025-02-09 04:04:14.182 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:04:14.701 ERROR [src.node.docker_mananger] Max retries reached for container 9a861e30868b. Exiting log stream.
2025-02-09 04:04:15.184 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44966/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:04:15.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:04:15.187 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:04:15.187 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44966/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:04:15.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.149/tcp/44967/p2p/16Uiu2HAmGuZCiv64UsfV3LZZPZ3mUBB1EARPezBTT7V6sZEBvktN","/ip4/172.18.127.149/tcp/44968/ws/p2p/16Uiu2HAmGuZCiv64UsfV3LZZPZ3mUBB1EARPezBTT7V6sZEBvktN"],"enrUri":"enr:-L24QHWRJy3tvsCQBuKmevL9IYRblfRCTW2ICTrDyPU31jaaTXF1MDO-balk-6w1yeo5YJsJWszWi7ajg-xooZzlivMCgmlkgnY0gmlwhKwSf5WKbXVsdGlhZGRyc5YACASsEn-VBq-nAAoErBJ_lQavqN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDPyoGdtUnPv2qGrC1kBeVPsFcFKihxQadF_zdy1LboLeDdGNwgq-ng3VkcIKvqYV3YWt1MgE"}'
2025-02-09 04:04:15.190 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:04:15.197 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:04:15.197 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-09_04-04-13__eaf2661e-f04a-4cde-8b2b-7d3373fcfee9__wakuorg_nwaku:latest.log
2025-02-09 04:04:15.197 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:04:15.197 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:04:15.199 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:04:15.199 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.66.81
2025-02-09 04:04:15.199 DEBUG [src.node.docker_mananger] Generated ports ['43910', '43911', '43912', '43913', '43914']
2025-02-09 04:04:15.199 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:04:15.199 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:04:15.199 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:04:15.200 DEBUG [src.node.docker_mananger] docker run -i -t -p 43910:43910 -p 43911:43911 -p 43912:43912 -p 43913:43913 -p 43914:43914 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43912 --rest-port=43910 --tcp-port=43911 --discv5-udp-port=43913 --rest-address=0.0.0.0 --nat=extip:172.18.66.81 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f8cefe70e93fbca94a98aacffd336dacddf9aec04ed9c18f07c1bbe1f069801d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43914 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHWRJy3tvsCQBuKmevL9IYRblfRCTW2ICTrDyPU31jaaTXF1MDO-balk-6w1yeo5YJsJWszWi7ajg-xooZzlivMCgmlkgnY0gmlwhKwSf5WKbXVsdGlhZGRyc5YACASsEn-VBq-nAAoErBJ_lQavqN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDPyoGdtUnPv2qGrC1kBeVPsFcFKihxQadF_zdy1LboLeDdGNwgq-ng3VkcIKvqYV3YWt1MgE
2025-02-09 04:04:15.432 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.66.81 waku 46b533284bf0a1e4e87285611cdc621963f2b39c771e42eb7b65c979f6d93d2a
2025-02-09 04:04:15.478 DEBUG [src.node.docker_mananger] Container started with ID 46b533284bf0. Setting up logs at ./log/docker/node2_2025-02-09_04-04-13__eaf2661e-f04a-4cde-8b2b-7d3373fcfee9__wakuorg_nwaku:latest.log
2025-02-09 04:04:15.478 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 43910
2025-02-09 04:04:15.479 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:04:16.480 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43910/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:04:16.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:04:16.488 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:04:16.488 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43910/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:04:16.494 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.66.81/tcp/43911/p2p/16Uiu2HAmE9LWJGMVaR11eHMHrKWDqu3jczdszQs8y8XDb777uRVS","/ip4/172.18.66.81/tcp/43912/ws/p2p/16Uiu2HAmE9LWJGMVaR11eHMHrKWDqu3jczdszQs8y8XDb777uRVS"],"enrUri":"enr:-L24QFdGrRwQh88wjAXYnH0SMGsDq9v8LR5smAmtaUeRZ8X0OUIVrqjsrtiKmRuEQMN9E0jPzftfDfPq0yCQfC-RO2wCgmlkgnY0gmlwhKwSQlGKbXVsdGlhZGRyc5YACASsEkJRBquHAAoErBJCUQariN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDFh69QRWx2BiFGjQBdUhVrK4xwzhLuX38KhaYot-V8JGDdGNwgquHg3VkcIKriYV3YWt1MgE"}'
2025-02-09 04:04:16.494 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:04:16.495 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43910/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.149/tcp/44967/p2p/16Uiu2HAmGuZCiv64UsfV3LZZPZ3mUBB1EARPezBTT7V6sZEBvktN"]'
2025-02-09 04:04:16.497 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:04:16.498 DEBUG [tests.relay.test_subscribe] Running test with payload /test/2/rs/0/1
2025-02-09 04:04:16.498 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44966/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
2025-02-09 04:04:16.501 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44966/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
2025-02-09 04:04:16.502 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/3/rs/0/1
2025-02-09 04:04:16.502 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44966/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
2025-02-09 04:04:16.505 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44966/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
2025-02-09 04:04:16.505 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/test/0/1
2025-02-09 04:04:16.506 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44966/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
2025-02-09 04:04:16.508 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44966/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
2025-02-09 04:04:16.508 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/3/b
2025-02-09 04:04:16.509 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44966/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
2025-02-09 04:04:16.511 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44966/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
2025-02-09 04:04:16.512 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/0
2025-02-09 04:04:16.512 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44966/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
2025-02-09 04:04:16.514 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44966/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
2025-02-09 04:04:16.517 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 04:04:16.518 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 04:04:16.519 DEBUG [src.node.waku_node] Stopping container with id b4d8b1f18923
2025-02-09 04:04:17.689 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:04:17.690 DEBUG [src.node.waku_node] Stopping container with id 46b533284bf0
2025-02-09 04:04:18.502 ERROR [src.node.docker_mananger] Max retries reached for container b4d8b1f18923. Exiting log stream.
2025-02-09 04:04:19.212 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:04:19.213 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 04:04:19.218 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 04:04:19.222 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
