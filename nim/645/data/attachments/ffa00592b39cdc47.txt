2025-02-09 04:02:35.070 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 04:02:35.070 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2025-02-09_04-02-35__8f78f1b6-086d-4742-9781-ee63295a73ec
2025-02-09 04:02:35.071 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 04:02:35.071 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-09 04:02:35.071 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-09 04:02:35.077 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:02:35.077 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-09_04-02-35__8f78f1b6-086d-4742-9781-ee63295a73ec__wakuorg_nwaku:latest.log
2025-02-09 04:02:35.077 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:02:35.077 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:02:35.078 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:02:35.078 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.169.202
2025-02-09 04:02:35.079 DEBUG [src.node.docker_mananger] Generated ports ['62275', '62276', '62277', '62278', '62279']
2025-02-09 04:02:35.079 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:02:35.079 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:02:35.079 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:02:35.079 DEBUG [src.node.docker_mananger] docker run -i -t -p 62275:62275 -p 62276:62276 -p 62277:62277 -p 62278:62278 -p 62279:62279 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62277 --rest-port=62275 --tcp-port=62276 --discv5-udp-port=62278 --rest-address=0.0.0.0 --nat=extip:172.18.169.202 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ce70ea52527aba51ced3f8a5fecee1c45e3952dee7d4bbee4f518cf6b2dcfca8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62279 --metrics-logging=true --relay=true --filter=true
2025-02-09 04:02:35.295 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.169.202 waku d6a18ed8803ba1afdb5dc8b2cfb3a10232a65d619c71d52d6b3b87f92677a54c
2025-02-09 04:02:35.345 DEBUG [src.node.docker_mananger] Container started with ID d6a18ed8803b. Setting up logs at ./log/docker/node1_2025-02-09_04-02-35__8f78f1b6-086d-4742-9781-ee63295a73ec__wakuorg_nwaku:latest.log
2025-02-09 04:02:35.346 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 62275
2025-02-09 04:02:35.346 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:02:35.861 ERROR [src.node.docker_mananger] Max retries reached for container 5f471aba2fac. Exiting log stream.
2025-02-09 04:02:36.347 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62275/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:02:36.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:02:36.350 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:02:36.350 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62275/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:02:36.352 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.169.202/tcp/62276/p2p/16Uiu2HAmE3REMf9HYpa7Ao3wUxH2yYZUgW8AsZrawKquDZU5mjj1","/ip4/172.18.169.202/tcp/62277/ws/p2p/16Uiu2HAmE3REMf9HYpa7Ao3wUxH2yYZUgW8AsZrawKquDZU5mjj1"],"enrUri":"enr:-L24QPiKwsQzbCm5cnzCd8TfkjmWY945yG9HT3PRoToOvVihUP-BGyVd-DcjJWfDl_kBB7IawzWpfWbLp64kLQKgN8UCgmlkgnY0gmlwhKwSqcqKbXVsdGlhZGRyc5YACASsEqnKBvNEAAoErBKpygbzRd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDFJqY33xwzvXCZt_v9qlSrSQR5F4ggdGgLD4TyXNbjmyDdGNwgvNEg3VkcILzRoV3YWt1MgU"}'
2025-02-09 04:02:36.353 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:02:36.353 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-09 04:02:36.359 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 04:02:36.359 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-09_04-02-35__8f78f1b6-086d-4742-9781-ee63295a73ec__wakuorg_nwaku:latest.log
2025-02-09 04:02:36.359 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 04:02:36.359 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 04:02:36.361 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 04:02:36.361 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.33.247
2025-02-09 04:02:36.361 DEBUG [src.node.docker_mananger] Generated ports ['62984', '62985', '62986', '62987', '62988']
2025-02-09 04:02:36.361 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 04:02:36.361 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 04:02:36.361 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 04:02:36.361 DEBUG [src.node.docker_mananger] docker run -i -t -p 62984:62984 -p 62985:62985 -p 62986:62986 -p 62987:62987 -p 62988:62988 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62986 --rest-port=62984 --tcp-port=62985 --discv5-udp-port=62987 --rest-address=0.0.0.0 --nat=extip:172.18.33.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8bbef27b498bd3bbcabf8fcc085b7e9cdfd05a50a346e2afcc1d787eb707bde4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62988 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPiKwsQzbCm5cnzCd8TfkjmWY945yG9HT3PRoToOvVihUP-BGyVd-DcjJWfDl_kBB7IawzWpfWbLp64kLQKgN8UCgmlkgnY0gmlwhKwSqcqKbXVsdGlhZGRyc5YACASsEqnKBvNEAAoErBKpygbzRd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDFJqY33xwzvXCZt_v9qlSrSQR5F4ggdGgLD4TyXNbjmyDdGNwgvNEg3VkcILzRoV3YWt1MgU --filternode=/ip4/172.18.169.202/tcp/62276/p2p/16Uiu2HAmE3REMf9HYpa7Ao3wUxH2yYZUgW8AsZrawKquDZU5mjj1
2025-02-09 04:02:36.589 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.33.247 waku 92c49e4d88130320bbfbc65c691356565377d48520225b0cb9ee896713877c4a
2025-02-09 04:02:36.635 DEBUG [src.node.docker_mananger] Container started with ID 92c49e4d8813. Setting up logs at ./log/docker/node2_2025-02-09_04-02-35__8f78f1b6-086d-4742-9781-ee63295a73ec__wakuorg_nwaku:latest.log
2025-02-09 04:02:36.636 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 62984
2025-02-09 04:02:36.637 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 04:02:37.637 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62984/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:02:37.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 04:02:37.640 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 04:02:37.641 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62984/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 04:02:37.643 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.247/tcp/62985/p2p/16Uiu2HAmFzPB23xiGfw38nqZAPLrNXbWr6hbX7gLVWoGwSELuHM2","/ip4/172.18.33.247/tcp/62986/ws/p2p/16Uiu2HAmFzPB23xiGfw38nqZAPLrNXbWr6hbX7gLVWoGwSELuHM2"],"enrUri":"enr:-L24QB5zp5Y3rgY0gLyrnbZoT3ZM9zJtykHWkZl5AGFv3wQBedTVWIOav7aQMHPgzNw4-bqTQBtKF0wSNw2SBDNtB9QCgmlkgnY0gmlwhKwSIfeKbXVsdGlhZGRyc5YACASsEiH3BvYJAAoErBIh9wb2Ct0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMYrm8EKway7ErzEKfaXQZJrgTguI_Jz0Qhj-mgg7SnmDdGNwgvYJg3VkcIL2C4V3YWt1MgA"}'
2025-02-09 04:02:37.643 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 04:02:37.643 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62984/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.169.202/tcp/62276/p2p/16Uiu2HAmE3REMf9HYpa7Ao3wUxH2yYZUgW8AsZrawKquDZU5mjj1"]'
2025-02-09 04:02:37.680 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:02:37.681 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-09 04:02:37.681 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62275/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-09 04:02:37.700 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 04:02:37.701 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62984/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "11d25d45-5113-4132-80b7-219821945a3b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-09 04:02:37.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"11d25d45-5113-4132-80b7-219821945a3b","statusDesc":"OK"}'
2025-02-09 04:02:37.713 INFO [src.node.api_clients.base_client] curl -v -X PUT "http://127.0.0.1:62984/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
2025-02-09 04:02:37.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2025-02-09 04:02:37.723 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 04:02:37.724 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 04:02:37.724 DEBUG [src.node.waku_node] Stopping container with id d6a18ed8803b
2025-02-09 04:02:38.811 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:02:38.813 DEBUG [src.node.waku_node] Stopping container with id 92c49e4d8813
2025-02-09 04:02:39.641 ERROR [src.node.docker_mananger] Max retries reached for container d6a18ed8803b. Exiting log stream.
2025-02-09 04:02:40.296 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 04:02:40.298 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 04:02:40.306 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 04:02:40.310 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
