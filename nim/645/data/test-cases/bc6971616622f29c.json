{"uid":"bc6971616622f29c","name":"test_metrics_after_filter_get","fullName":"tests.metrics.test_metrics.TestMetrics#test_metrics_after_filter_get","historyId":"f7c4063decf3bfb99e41627466834b7f","time":{"start":1739073771010,"stop":1739073776559,"duration":5549},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1739073726815,"stop":1739073726815,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1739073768389,"stop":1739073768390,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1739073768389,"stop":1739073768389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1739073768389,"stop":1739073768389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1739073768389,"stop":1739073768389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1739073768390,"stop":1739073768390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1739073768390,"stop":1739073768390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1739073768390,"stop":1739073768391,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1739073768390,"stop":1739073768390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1739073768391,"stop":1739073768391,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1739073768391,"stop":1739073768391,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_node","time":{"start":1739073768391,"stop":1739073769667,"duration":1276},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_filter_node","time":{"start":1739073769667,"stop":1739073770981,"duration":1314},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1739073770942,"stop":1739073770981,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.metrics.test_metrics.TestMetrics object at 0x7f98315fb260>, <src.node.waku_node.WakuNode object at 0x7f98312b8920>, ['/ip4/172.18.95.23/tcp/65111/p2p/16Uiu2HAm1e3FmdAKUXZVW8Gj5zPpxFzUgniEsjduDrqaxFN27jGk'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_nodes","time":{"start":1739073770981,"stop":1739073771009,"duration":28},"status":"passed","steps":[{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1739073770982,"stop":1739073771009,"duration":27},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1739073770999,"stop":1739073771009,"duration":10},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1739073770999,"stop":1739073771009,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'ce69794d-ef4d-4a77-9985-367b6056e88d', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'ce69794d-ef4d-4a77-9985-367b6056e88d', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-relay/proto']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"create_message","time":{"start":1739073771010,"stop":1739073771010,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_filter_messages","time":{"start":1739073771518,"stop":1739073771521,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-relay/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312b8920>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776521,"stop":1739073776526,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312d0bf0>"},{"name":"metric_name","value":"'libp2p_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776526,"stop":1739073776529,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312d0bf0>"},{"name":"metric_name","value":"'libp2p_pubsub_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776529,"stop":1739073776532,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312d0bf0>"},{"name":"metric_name","value":"'libp2p_pubsub_topics'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776532,"stop":1739073776535,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312d0bf0>"},{"name":"metric_name","value":"'libp2p_pubsub_subscriptions_total'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776535,"stop":1739073776538,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312d0bf0>"},{"name":"metric_name","value":"'waku_peer_store_size'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776538,"stop":1739073776541,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312d0bf0>"},{"name":"metric_name","value":"'waku_histogram_message_size_count'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776541,"stop":1739073776544,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312d0bf0>"},{"name":"metric_name","value":"'waku_node_messages_total{type=\"relay\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776544,"stop":1739073776546,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312d0bf0>"},{"name":"metric_name","value":"'waku_filter_requests{type=\"SUBSCRIBE\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776547,"stop":1739073776550,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312b8920>"},{"name":"metric_name","value":"'waku_service_peers{protocol=\"/vac/waku/filter-subscribe/2.0.0-beta1\",peerId=\"/ip4/172.18.95.23/tcp/65111\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776550,"stop":1739073776553,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312b8920>"},{"name":"metric_name","value":"'libp2p_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776553,"stop":1739073776556,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312b8920>"},{"name":"metric_name","value":"'libp2p_total_dial_attempts_total'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739073776556,"stop":1739073776558,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f98312b8920>"},{"name":"metric_name","value":"'waku_peer_store_size'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"7db0beb59651afe4","name":"log","source":"7db0beb59651afe4.txt","type":"text/plain","size":14574},{"uid":"c61142d81dfb903e","name":"stderr","source":"c61142d81dfb903e.txt","type":"text/plain","size":14254}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":14,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1739073776560,"stop":1739073776561,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1739073776561,"stop":1739073778842,"duration":2281},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1739073778842,"stop":1739073778851,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1739073778852,"stop":1739073778852,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1739073891189,"stop":1739073891189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node', 'subscribe_main_nodes')"},{"name":"parentSuite","value":"tests.metrics"},{"name":"suite","value":"test_metrics"},{"name":"subSuite","value":"TestMetrics"},{"name":"host","value":"fv-az1337-189"},{"name":"thread","value":"1950-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.metrics.test_metrics"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":10},"items":[{"uid":"f4ec7bd5b99475ea","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/644//#testresult/f4ec7bd5b99475ea","status":"passed","time":{"start":1738987378216,"stop":1738987383769,"duration":5553}},{"uid":"4ba60b4e4e5b79df","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/643//#testresult/4ba60b4e4e5b79df","status":"passed","time":{"start":1738901002529,"stop":1738901008083,"duration":5554}},{"uid":"2b3a06dc1db55f3d","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/642//#testresult/2b3a06dc1db55f3d","status":"passed","time":{"start":1738814693029,"stop":1738814698581,"duration":5552}},{"uid":"c50f32d22610bf70","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/641//#testresult/c50f32d22610bf70","status":"passed","time":{"start":1738728231153,"stop":1738728236719,"duration":5566}},{"uid":"51cf06387d35f932","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/640//#testresult/51cf06387d35f932","status":"passed","time":{"start":1738689002849,"stop":1738689008401,"duration":5552}},{"uid":"2c20057799c04f2c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/639//#testresult/2c20057799c04f2c","status":"passed","time":{"start":1738641839442,"stop":1738641844994,"duration":5552}},{"uid":"5f90339dfe477183","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/638//#testresult/5f90339dfe477183","status":"passed","time":{"start":1738555448136,"stop":1738555453688,"duration":5552}},{"uid":"a25cd3595f689dd8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/637//#testresult/a25cd3595f689dd8","status":"passed","time":{"start":1738469032785,"stop":1738469038337,"duration":5552}},{"uid":"9645ac8744d745dc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/636//#testresult/9645ac8744d745dc","status":"passed","time":{"start":1738382585574,"stop":1738382591128,"duration":5554}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node', 'subscribe_main_nodes')"]},"source":"bc6971616622f29c.json","parameterValues":[]}