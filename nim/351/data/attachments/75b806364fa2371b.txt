[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.130.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53427', '53428', '53429', '53430', '53431']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53427:53427 -p 53428:53428 -p 53429:53429 -p 53430:53430 -p 53431:53431 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53429 --rest-port=53427 --tcp-port=53428 --discv5-udp-port=53430 --rest-address=0.0.0.0 --nat=extip:172.18.130.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4ec5ebd41b9882dbeae4d24dab669cfa7a4f567e3da2d9eff6dd188ad0e9e336 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53431 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.130.17 waku 777989e26c8efc9454898ee89bcd87ad2dc1a78b6e556d56fe1e3ff335eddfea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 777989e26c8e. Setting up logs at ./log/docker/receiving_node1_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53427
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53427/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53427/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.130.17/tcp/53428/p2p/16Uiu2HAmKFbCwd8ZjBiC48t48kJ3kCCtEmpB24WhDdDJeFMTV2nK","/ip4/172.18.130.17/tcp/53429/ws/p2p/16Uiu2HAmKFbCwd8ZjBiC48t48kJ3kCCtEmpB24WhDdDJeFMTV2nK"],"enrUri":"enr:-LO4QPMHlM5dNsDLKNSqK-ofSZEMH-T8RXyu7w2XYMUIIyuRV46DJUmtkfyx-TKtE7VihrcALwwoWDI6p7OUwVnx2LsBgmlkgnY0gmlwhKwSghGKbXVsdGlhZGRyc4wACgSsEoIRBtC13QOCcnOFAAMBAACJc2VjcDI1NmsxoQNiA0ftODhUb6-HjpHz9yaU_qqGa2ZU1GznRPzMLSYs6IN0Y3CC0LSDdWRwgtC2hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.85.209
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38044', '38045', '38046', '38047', '38048']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38044:38044 -p 38045:38045 -p 38046:38046 -p 38047:38047 -p 38048:38048 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38046 --rest-port=38044 --tcp-port=38045 --discv5-udp-port=38047 --rest-address=0.0.0.0 --nat=extip:172.18.85.209 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d43ca8facd16ba2a74fe81e2fea87a71cacc7b40d2cce4233c4bb4d1d32e9391 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38048 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.85.209 waku 4a2e607aea6619444a117545ae64f475b1f2787e90c56521fe326d76ae926e32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4a2e607aea66. Setting up logs at ./log/docker/receiving_node2_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38044
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38044/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38044/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.85.209/tcp/38045/p2p/16Uiu2HAm5tEGC3b89KD56q3xzP4hLTCHihJr3L5MYUxskFve6411","/ip4/172.18.85.209/tcp/38046/ws/p2p/16Uiu2HAm5tEGC3b89KD56q3xzP4hLTCHihJr3L5MYUxskFve6411"],"enrUri":"enr:-LO4QPEJXb9UvXD6Tbk863Q17eTT7FClCG2tNbBO1VjQKePfAE7BS2nYqgzMfJn4bxMo4Fs8FZYa2AmQe8KmQBDVkEoBgmlkgnY0gmlwhKwSVdGKbXVsdGlhZGRyc4wACgSsElXRBpSe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKbYnj04omPG2atW3E9z8sVfh9VSBqmi0iyM4SYrsUupIN0Y3CClJ2DdWRwgpSfhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38044/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.130.17/tcp/53428/p2p/16Uiu2HAmKFbCwd8ZjBiC48t48kJ3kCCtEmpB24WhDdDJeFMTV2nK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.47.64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['1058', '1059', '1060', '1061', '1062']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 1058:1058 -p 1059:1059 -p 1060:1060 -p 1061:1061 -p 1062:1062 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1060 --rest-port=1058 --tcp-port=1059 --discv5-udp-port=1061 --rest-address=0.0.0.0 --nat=extip:172.18.47.64 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=76b8fb429f7b3eb9db7bd3e8d8c483a3bf3008cb567f9b7d9e8f0be2faf4f7ae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1062 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPMHlM5dNsDLKNSqK-ofSZEMH-T8RXyu7w2XYMUIIyuRV46DJUmtkfyx-TKtE7VihrcALwwoWDI6p7OUwVnx2LsBgmlkgnY0gmlwhKwSghGKbXVsdGlhZGRyc4wACgSsEoIRBtC13QOCcnOFAAMBAACJc2VjcDI1NmsxoQNiA0ftODhUb6-HjpHz9yaU_qqGa2ZU1GznRPzMLSYs6IN0Y3CC0LSDdWRwgtC2hXdha3UyCQ --lightpushnode=/ip4/172.18.130.17/tcp/53428/p2p/16Uiu2HAmKFbCwd8ZjBiC48t48kJ3kCCtEmpB24WhDdDJeFMTV2nK --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.47.64 waku 8a97a179ebc836267378a68e8a811259d6a7ceaad4d5b3ada4934470477a8f53
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8a97a179ebc8. Setting up logs at ./log/docker/lightpush_node1_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1058
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1058/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1058/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.47.64/tcp/1059/p2p/16Uiu2HAmMHsYRrKD6bZjYLhuyaTqXoexV5iU7Uf2pf8UutB72MWt","/ip4/172.18.47.64/tcp/1060/ws/p2p/16Uiu2HAmMHsYRrKD6bZjYLhuyaTqXoexV5iU7Uf2pf8UutB72MWt"],"enrUri":"enr:-LO4QJe8iZho5toCdjUKHuEOUWRT4eFwrtsnQjAHvyW5NQEDcLYmGzTEmeYfMZwo9LsLrgnpsVUCF8mOrkBoQ6IU9M0BgmlkgnY0gmlwhKwSL0CKbXVsdGlhZGRyc4wACgSsEi9ABgQk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOAUEmfA1Xtr_NW4Dub2K5cCQQfSR2YRkOs3T30WJ8AHYN0Y3CCBCODdWRwggQlhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1058/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.130.17/tcp/53428/p2p/16Uiu2HAmKFbCwd8ZjBiC48t48kJ3kCCtEmpB24WhDdDJeFMTV2nK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1058/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.85.209/tcp/38045/p2p/16Uiu2HAm5tEGC3b89KD56q3xzP4hLTCHihJr3L5MYUxskFve6411"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.22.138
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32583', '32584', '32585', '32586', '32587']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32583:32583 -p 32584:32584 -p 32585:32585 -p 32586:32586 -p 32587:32587 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32585 --rest-port=32583 --tcp-port=32584 --discv5-udp-port=32586 --rest-address=0.0.0.0 --nat=extip:172.18.22.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5fe1cc28fcc0b4d7ead94df9f1a11f4fde9dcec3d1f5ffe90d92c0d17deeabe9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32587 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPMHlM5dNsDLKNSqK-ofSZEMH-T8RXyu7w2XYMUIIyuRV46DJUmtkfyx-TKtE7VihrcALwwoWDI6p7OUwVnx2LsBgmlkgnY0gmlwhKwSghGKbXVsdGlhZGRyc4wACgSsEoIRBtC13QOCcnOFAAMBAACJc2VjcDI1NmsxoQNiA0ftODhUb6-HjpHz9yaU_qqGa2ZU1GznRPzMLSYs6IN0Y3CC0LSDdWRwgtC2hXdha3UyCQ --lightpushnode=/ip4/172.18.130.17/tcp/53428/p2p/16Uiu2HAmKFbCwd8ZjBiC48t48kJ3kCCtEmpB24WhDdDJeFMTV2nK --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.22.138 waku ebe8652b9e99e4c94d10298db8228c85ca97b73ea25e4d5f1b33b8d7063822f4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ebe8652b9e99. Setting up logs at ./log/docker/lightpush_node2_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32583
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32583/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32583/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.138/tcp/32584/p2p/16Uiu2HAm4Kb894HPKgjjuY8fjKdUNErEvkjWxhvoSZg2gwJaB3Kf","/ip4/172.18.22.138/tcp/32585/ws/p2p/16Uiu2HAm4Kb894HPKgjjuY8fjKdUNErEvkjWxhvoSZg2gwJaB3Kf"],"enrUri":"enr:-LO4QMXy4lYAuRR6utPHCE0Hk7p_NAVAWtOQ8ytMAmeqi4FbGXTTjsfWz8z6jY3yaZQFoabsL_HaB0SQurXEk-2JAIIBgmlkgnY0gmlwhKwSFoqKbXVsdGlhZGRyc4wACgSsEhaKBn9J3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKEKjTohq4MLoVsRgYtIF3zAchglGvDkbX-djk8AQzswoN0Y3CCf0iDdWRwgn9KhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32583/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.130.17/tcp/53428/p2p/16Uiu2HAmKFbCwd8ZjBiC48t48kJ3kCCtEmpB24WhDdDJeFMTV2nK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32583/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.85.209/tcp/38045/p2p/16Uiu2HAm5tEGC3b89KD56q3xzP4hLTCHihJr3L5MYUxskFve6411"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.160.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33385', '33386', '33387', '33388', '33389']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33385:33385 -p 33386:33386 -p 33387:33387 -p 33388:33388 -p 33389:33389 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33387 --rest-port=33385 --tcp-port=33386 --discv5-udp-port=33388 --rest-address=0.0.0.0 --nat=extip:172.18.160.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=62533bf0eac972b5cddbafca8add69d1b9e470c7c0ef634db75429d0a9c8d5d5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33389 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPMHlM5dNsDLKNSqK-ofSZEMH-T8RXyu7w2XYMUIIyuRV46DJUmtkfyx-TKtE7VihrcALwwoWDI6p7OUwVnx2LsBgmlkgnY0gmlwhKwSghGKbXVsdGlhZGRyc4wACgSsEoIRBtC13QOCcnOFAAMBAACJc2VjcDI1NmsxoQNiA0ftODhUb6-HjpHz9yaU_qqGa2ZU1GznRPzMLSYs6IN0Y3CC0LSDdWRwgtC2hXdha3UyCQ --lightpushnode=/ip4/172.18.130.17/tcp/53428/p2p/16Uiu2HAmKFbCwd8ZjBiC48t48kJ3kCCtEmpB24WhDdDJeFMTV2nK --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.160.211 waku dd51c93cdabcb49f4be58aa8a2e564b37212453d4f06cb837c5ddd3941224297
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID dd51c93cdabc. Setting up logs at ./log/docker/lightpush_node3_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33385
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33385/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33385/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.211/tcp/33386/p2p/16Uiu2HAm8hdAQNUzfYnnMdscVV65b38fQgofzcovzPZGRyNEyFmD","/ip4/172.18.160.211/tcp/33387/ws/p2p/16Uiu2HAm8hdAQNUzfYnnMdscVV65b38fQgofzcovzPZGRyNEyFmD"],"enrUri":"enr:-LO4QJnADLw73ajnFFkY2EYs1HmsbbZHNVZTsf8FbRnwbWHuYwz5fFK_FvfjRCKFvZ2nWWqJ9rBuNGVGRfokxLiaAlsBgmlkgnY0gmlwhKwSoNOKbXVsdGlhZGRyc4wACgSsEqDTBoJr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLFPgmoLFuXlPAS4V5PR2jH2uYBborn-G8AGiNoLRMDrIN0Y3CCgmqDdWRwgoJshXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33385/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.130.17/tcp/53428/p2p/16Uiu2HAmKFbCwd8ZjBiC48t48kJ3kCCtEmpB24WhDdDJeFMTV2nK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33385/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.85.209/tcp/38045/p2p/16Uiu2HAm5tEGC3b89KD56q3xzP4hLTCHihJr3L5MYUxskFve6411"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.0.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['11655', '11656', '11657', '11658', '11659']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 11655:11655 -p 11656:11656 -p 11657:11657 -p 11658:11658 -p 11659:11659 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11657 --rest-port=11655 --tcp-port=11656 --discv5-udp-port=11658 --rest-address=0.0.0.0 --nat=extip:172.18.0.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1e7afe9bb9aefbe1df06435186ccd2b8ba6afcccb26dc434b0bac9b8e9400dfe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11659 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPMHlM5dNsDLKNSqK-ofSZEMH-T8RXyu7w2XYMUIIyuRV46DJUmtkfyx-TKtE7VihrcALwwoWDI6p7OUwVnx2LsBgmlkgnY0gmlwhKwSghGKbXVsdGlhZGRyc4wACgSsEoIRBtC13QOCcnOFAAMBAACJc2VjcDI1NmsxoQNiA0ftODhUb6-HjpHz9yaU_qqGa2ZU1GznRPzMLSYs6IN0Y3CC0LSDdWRwgtC2hXdha3UyCQ --lightpushnode=/ip4/172.18.130.17/tcp/53428/p2p/16Uiu2HAmKFbCwd8ZjBiC48t48kJ3kCCtEmpB24WhDdDJeFMTV2nK --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.0.98 waku bc9afcee0ea2337510c0dcdcc089cdaa0958d76c44261bc94bc51d3ef65e3373
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bc9afcee0ea2. Setting up logs at ./log/docker/lightpush_node4_2024-09-09_04-20-06__13537afa-e485-439b-9aad-d6231e8b30fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11655
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11655/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11655/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.98/tcp/11656/p2p/16Uiu2HAkzSGp62558kFuWFNQdZwbpNdg6R3AkUTpXZz4KcjAGECG","/ip4/172.18.0.98/tcp/11657/ws/p2p/16Uiu2HAkzSGp62558kFuWFNQdZwbpNdg6R3AkUTpXZz4KcjAGECG"],"enrUri":"enr:-LO4QFPNUg3nIEbL1XkZrEnfAUWAmvgjpIYnKFHDcFPWp9A1NdFZv-IpDZgnZ593yuzr2egbb4HZGPK4JCl9plqlC1kBgmlkgnY0gmlwhKwSAGKKbXVsdGlhZGRyc4wACgSsEgBiBi2J3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJKcdHt86J-gJq9hoPcetsUCCvBB0nYFOwaxV0DINccSYN0Y3CCLYiDdWRwgi2KhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11655/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.130.17/tcp/53428/p2p/16Uiu2HAmKFbCwd8ZjBiC48t48kJ3kCCtEmpB24WhDdDJeFMTV2nK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11655/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.85.209/tcp/38045/p2p/16Uiu2HAm5tEGC3b89KD56q3xzP4hLTCHihJr3L5MYUxskFve6411"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53427/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38044/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1058/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725855617804158976}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725855617804158976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38044/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725855617804158976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32583/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725855617936205824}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725855617936205824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38044/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725855617936205824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33385/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725855618058070784}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725855618058070784,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38044/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725855618058070784,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11655/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725855618180819200}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725855618180819200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38044/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725855618180819200,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 777989e26c8e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4a2e607aea66
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8a97a179ebc8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ebe8652b9e99
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dd51c93cdabc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bc9afcee0ea2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.