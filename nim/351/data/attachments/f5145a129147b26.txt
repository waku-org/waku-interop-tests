[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2024-09-09_04-19-22__0c146ffa-f633-4177-89d7-8ff982eefa7b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-09_04-19-22__0c146ffa-f633-4177-89d7-8ff982eefa7b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.243.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['19945', '19946', '19947', '19948', '19949']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 19945:19945 -p 19946:19946 -p 19947:19947 -p 19948:19948 -p 19949:19949 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19947 --rest-port=19945 --tcp-port=19946 --discv5-udp-port=19948 --rest-address=0.0.0.0 --nat=extip:172.18.243.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5de6cbec0e8b0eecfe53fac8b8e657cde3054a7255cf49dd3fa60cc368bb5afa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19949 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.243.176 waku 10fd32c62f454b4dddd9259b819d333c63e11636aac93fc296f6369753c33ca5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 10fd32c62f45. Setting up logs at ./log/docker/node1_2024-09-09_04-19-22__0c146ffa-f633-4177-89d7-8ff982eefa7b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 19945
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19945/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19945/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.243.176/tcp/19946/p2p/16Uiu2HAmBd3ioZQEacmEqHBEbu5uipBYhVmFRxsQ6XA37aHED3QV","/ip4/172.18.243.176/tcp/19947/ws/p2p/16Uiu2HAmBd3ioZQEacmEqHBEbu5uipBYhVmFRxsQ6XA37aHED3QV"],"enrUri":"enr:-LO4QG-lpnQEEF3oPLioTCbMwjpOesgDBy4s6iNt29xGszZbOf9uL7kZXXwpUyttsWZ1YFDw7L_aq7UdAuSisKZN2O4BgmlkgnY0gmlwhKwS87CKbXVsdGlhZGRyc4wACgSsEvOwBk3r3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLwpPaFZrYGqCMLYjAhaigaStK53XkfVjH0gATa3QLmioN0Y3CCTeqDdWRwgk3shXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-09_04-19-22__0c146ffa-f633-4177-89d7-8ff982eefa7b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.249.104
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38902', '38903', '38904', '38905', '38906']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38902:38902 -p 38903:38903 -p 38904:38904 -p 38905:38905 -p 38906:38906 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38904 --rest-port=38902 --tcp-port=38903 --discv5-udp-port=38905 --rest-address=0.0.0.0 --nat=extip:172.18.249.104 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=effb1e46cdaff0f25aeafa72b0b037bccfae7a9734f2fee5c9b6afa832c4f25f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38906 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QG-lpnQEEF3oPLioTCbMwjpOesgDBy4s6iNt29xGszZbOf9uL7kZXXwpUyttsWZ1YFDw7L_aq7UdAuSisKZN2O4BgmlkgnY0gmlwhKwS87CKbXVsdGlhZGRyc4wACgSsEvOwBk3r3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLwpPaFZrYGqCMLYjAhaigaStK53XkfVjH0gATa3QLmioN0Y3CCTeqDdWRwgk3shXdha3UyBQ --filternode=/ip4/172.18.243.176/tcp/19946/p2p/16Uiu2HAmBd3ioZQEacmEqHBEbu5uipBYhVmFRxsQ6XA37aHED3QV
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.249.104 waku d3deb31daf61179e72f94c1a93155c20d23a3244500ad5b5defd9aeaabd903a1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d3deb31daf61. Setting up logs at ./log/docker/node2_2024-09-09_04-19-22__0c146ffa-f633-4177-89d7-8ff982eefa7b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38902
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38902/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38902/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.104/tcp/38903/p2p/16Uiu2HAmKHdSWUwjduMvyCKe3YGjXQC3oN1ekFN7kd8tENLQSMkb","/ip4/172.18.249.104/tcp/38904/ws/p2p/16Uiu2HAmKHdSWUwjduMvyCKe3YGjXQC3oN1ekFN7kd8tENLQSMkb"],"enrUri":"enr:-LO4QDxmeoISIl3mN1BSCCtJTQ0BOGCmCPLdxihdiUrBNmQ0K7Z3JypfTP6r6tJV-FZxLF7HKa3hokC1Gyn8uPuEoKABgmlkgnY0gmlwhKwS-WiKbXVsdGlhZGRyc4wACgSsEvloBpf43QOCcnOFAAMBAACJc2VjcDI1NmsxoQNiiPftcU_fiT4mXnGDuE679sANV_jUe-TuMqqEzDKCqIN0Y3CCl_eDdWRwgpf5hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38902/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.243.176/tcp/19946/p2p/16Uiu2HAmBd3ioZQEacmEqHBEbu5uipBYhVmFRxsQ6XA37aHED3QV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19945/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38902/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d8b96b90-587d-47a5-8567-05fbe045bd6b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d8b96b90-587d-47a5-8567-05fbe045bd6b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:38902/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38902/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 10fd32c62f45
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d3deb31daf61
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.