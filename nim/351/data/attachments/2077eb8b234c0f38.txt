[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_without_subscribing_via_api_works with id: 2024-09-09_04-28-11__6705cbaa-bd4b-4e6c-b99e-361ae8b95e7d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-09_04-28-11__6705cbaa-bd4b-4e6c-b99e-361ae8b95e7d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.60.25
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40048', '40049', '40050', '40051', '40052']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40048:40048 -p 40049:40049 -p 40050:40050 -p 40051:40051 -p 40052:40052 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40050 --rest-port=40048 --tcp-port=40049 --discv5-udp-port=40051 --rest-address=0.0.0.0 --nat=extip:172.18.60.25 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=4b3e3e89bcf8f679c0a8a2d5cbdadf8dfbbcea6ba6aec89c2ced6717b5ba27cd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40052 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.60.25 waku 2ca671a748c150914b602474e4fb6ed24f6db7ef258f7cffd7eb07b4ce93b1ec
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2ca671a748c1. Setting up logs at ./log/docker/node1_2024-09-09_04-28-11__6705cbaa-bd4b-4e6c-b99e-361ae8b95e7d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40048
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40048/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40048/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.25/tcp/40049/p2p/16Uiu2HAm1b6RGrvWJnZNCsLKR5iGE1uKYM1B7dCE9n1mdLVWkuAL","/ip4/172.18.60.25/tcp/40050/ws/p2p/16Uiu2HAm1b6RGrvWJnZNCsLKR5iGE1uKYM1B7dCE9n1mdLVWkuAL"],"enrUri":"enr:-LO4QByizW1Ydp2IrGr3Zkju_a4DVy0YncGcpi64gAsAZ7CMUasL_20A7G1pbH0bXGMPruw8EOXWE57TFfGBVbUNBsEBgmlkgnY0gmlwhKwSPBmKbXVsdGlhZGRyc4wACgSsEjwZBpxy3QOCcnOFAAIBAACJc2VjcDI1NmsxoQJbj_uDNsOoHu3K-O9DKmreyy0Ob2srrI0_P_jSjy1rNYN0Y3CCnHGDdWRwgpxzhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-09_04-28-11__6705cbaa-bd4b-4e6c-b99e-361ae8b95e7d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.219.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16285', '16286', '16287', '16288', '16289']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16285:16285 -p 16286:16286 -p 16287:16287 -p 16288:16288 -p 16289:16289 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16287 --rest-port=16285 --tcp-port=16286 --discv5-udp-port=16288 --rest-address=0.0.0.0 --nat=extip:172.18.219.120 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=9a874d037a9afff5ccb90ccd527f00bad2adaab1c7dd29301fedcf0a2cec7bdb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16289 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QByizW1Ydp2IrGr3Zkju_a4DVy0YncGcpi64gAsAZ7CMUasL_20A7G1pbH0bXGMPruw8EOXWE57TFfGBVbUNBsEBgmlkgnY0gmlwhKwSPBmKbXVsdGlhZGRyc4wACgSsEjwZBpxy3QOCcnOFAAIBAACJc2VjcDI1NmsxoQJbj_uDNsOoHu3K-O9DKmreyy0Ob2srrI0_P_jSjy1rNYN0Y3CCnHGDdWRwgpxzhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.219.120 waku c6b074186c57b8c4bfbe08a3dde5d3029f0fa7e11ee84f12790e68c939308565
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c6b074186c57. Setting up logs at ./log/docker/node2_2024-09-09_04-28-11__6705cbaa-bd4b-4e6c-b99e-361ae8b95e7d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16285
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16285/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16285/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.219.120/tcp/16286/p2p/16Uiu2HAky9YRPihaFvhjxXsmXgtdgiDAnyY2LezGmEg2oCDBndy2","/ip4/172.18.219.120/tcp/16287/ws/p2p/16Uiu2HAky9YRPihaFvhjxXsmXgtdgiDAnyY2LezGmEg2oCDBndy2"],"enrUri":"enr:-LO4QN4pRdp1-p_wZNHSQTLhGaK8i5EmkQe-AT-JHUNBLwk-BWA-5fy9ueqbd8ZyefxDfqbS8C2e--6KhiLNgXDTPtgBgmlkgnY0gmlwhKwS23iKbXVsdGlhZGRyc4wACgSsEtt4Bj-f3QOCcnOFAAIBAACJc2VjcDI1NmsxoQI3TOh-j4JqCVZkyikMFauAB9SPqLKp1iP09_50u5MnqYN0Y3CCP56DdWRwgj-ghXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16285/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.60.25/tcp/40049/p2p/16Uiu2HAm1b6RGrvWJnZNCsLKR5iGE1uKYM1B7dCE9n1mdLVWkuAL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40048/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16285/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2ca671a748c1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c6b074186c57
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.