[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_passing_invalid_cursor with id: 2024-09-09_04-32-18__6e980b5e-1181-46dd-809f-2ce3939d8bc1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-09_04-32-18__6e980b5e-1181-46dd-809f-2ce3939d8bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.112.187
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['9422', '9423', '9424', '9425', '9426']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 9422:9422 -p 9423:9423 -p 9424:9424 -p 9425:9425 -p 9426:9426 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9424 --rest-port=9422 --tcp-port=9423 --discv5-udp-port=9425 --rest-address=0.0.0.0 --nat=extip:172.18.112.187 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=edadbc4e6b6dacf438bdd01fe2411ee0f6165efdbe58a2d9e61ec5dadf73482d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9426 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.112.187 waku f38429b415b277f6520af9c271c243112551ca3b7b20428bf6311110c75ef428
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f38429b415b2. Setting up logs at ./log/docker/publishing_node1_2024-09-09_04-32-18__6e980b5e-1181-46dd-809f-2ce3939d8bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9422
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9422/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9422/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.112.187/tcp/9423/p2p/16Uiu2HAmEj2ZpmjaeU2qqPVK3tpgfd4oTRoiBdoAAzyX53v7eW4C","/ip4/172.18.112.187/tcp/9424/ws/p2p/16Uiu2HAmEj2ZpmjaeU2qqPVK3tpgfd4oTRoiBdoAAzyX53v7eW4C"],"enrUri":"enr:-LO4QECMJdimorC1OJw-RM4H4uUQ5uXoqdUEO-ERoCMz3TnzcfXpGU5_ZBimrC9OWf1XP432o01rz2a-KZcdWLcfJ2kBgmlkgnY0gmlwhKwScLuKbXVsdGlhZGRyc4wACgSsEnC7BiTQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMewDPuZ9BaazWPOacHFMG0F_ND6867OyUOLxIGnbeOlYN0Y3CCJM-DdWRwgiTRhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-09_04-32-18__6e980b5e-1181-46dd-809f-2ce3939d8bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.206.13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['58909', '58910', '58911', '58912', '58913']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 58909:58909 -p 58910:58910 -p 58911:58911 -p 58912:58912 -p 58913:58913 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58911 --rest-port=58909 --tcp-port=58910 --discv5-udp-port=58912 --rest-address=0.0.0.0 --nat=extip:172.18.206.13 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=82c1a9c6f58af7f449f9a4bba8a9dbb1ee2cbd8537dae10c0eae59f01786bc72 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58913 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QECMJdimorC1OJw-RM4H4uUQ5uXoqdUEO-ERoCMz3TnzcfXpGU5_ZBimrC9OWf1XP432o01rz2a-KZcdWLcfJ2kBgmlkgnY0gmlwhKwScLuKbXVsdGlhZGRyc4wACgSsEnC7BiTQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMewDPuZ9BaazWPOacHFMG0F_ND6867OyUOLxIGnbeOlYN0Y3CCJM-DdWRwgiTRhXdha3UyAw --storenode=/ip4/172.18.112.187/tcp/9423/p2p/16Uiu2HAmEj2ZpmjaeU2qqPVK3tpgfd4oTRoiBdoAAzyX53v7eW4C --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.206.13 waku d3892b0b9189957b803b581c1626b35f6221cf83020d7c865228a32c62cebba0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d3892b0b9189. Setting up logs at ./log/docker/store_node1_2024-09-09_04-32-18__6e980b5e-1181-46dd-809f-2ce3939d8bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 58909
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58909/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58909/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.206.13/tcp/58910/p2p/16Uiu2HAmTGMfT3pxB1Z8tQmWNekV1WvBj2E6KtHtksgatmUhD2xy","/ip4/172.18.206.13/tcp/58911/ws/p2p/16Uiu2HAmTGMfT3pxB1Z8tQmWNekV1WvBj2E6KtHtksgatmUhD2xy"],"enrUri":"enr:-LO4QKPE6l4JQpQqA_OEm7djJM2-knQ3-r-VUr0o3ARj5ICQGXEplejSNHj8y3uKHpmtVEHdT6oFGy6ivzSq0pIfIJEBgmlkgnY0gmlwhKwSzg2KbXVsdGlhZGRyc4wACgSsEs4NBuYf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPZEwtJhNNhT079-HEUTRcMoPlnT8AueGlDtqepVhIXkoN0Y3CC5h6DdWRwguYghXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58909/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.187/tcp/9423/p2p/16Uiu2HAmEj2ZpmjaeU2qqPVK3tpgfd4oTRoiBdoAAzyX53v7eW4C"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9422/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58909/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9422/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9422/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9422/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9422/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9422/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=dGVzdA%3D%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9422/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=dGVzdA%3D%3D&pageSize=100&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 4'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f38429b415b2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d3892b0b9189
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.