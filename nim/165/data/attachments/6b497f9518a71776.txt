[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2024-04-25_04-13-27__5dbf124c-46cf-4029-afb4-ebc18981fd90
[35mDEBUG   [0m src.steps.common:common.py:15 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-04-25_04-13-27__5dbf124c-46cf-4029-afb4-ebc18981fd90__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.108.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['39711', '39712', '39713', '39714', '39715']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:313 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:113 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 39711:39711 -p 39712:39712 -p 39713:39713 -p 39714:39714 -p 39715:39715 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39713 --rest-port=39711 --tcp-port=39712 --discv5-udp-port=39714 --rest-address=0.0.0.0 --nat=extip:172.18.108.225 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39715 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.108.225 waku a02e29f0bb9b7507d434fdbdeed0a29c9b759568aa8c2b519d5e9fc5c2dd9794
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a02e29f0bb9b. Setting up logs at ./log/docker/node1_2024-04-25_04-13-27__5dbf124c-46cf-4029-afb4-ebc18981fd90__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:119 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 39711
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39711/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.108.225/tcp/39712/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.108.225/tcp/39713/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QNBvzk76l31kV9Xq8wTAFiimYFZRZpFRuxGVwIL2BN0JRtXpQNzHnCnRL97zBMNrp9Ch__cATnMKlEN39orbSkwBgmlkgnY0gmlwhKwSbOGKbXVsdGlhZGRyc4wACgSsEmzhBpsh3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCmyCDdWRwgpsihXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:189 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-04-25_04-13-27__5dbf124c-46cf-4029-afb4-ebc18981fd90__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.220.157
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['57278', '57279', '57280', '57281', '57282']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:313 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:113 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 57278:57278 -p 57279:57279 -p 57280:57280 -p 57281:57281 -p 57282:57282 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57280 --rest-port=57278 --tcp-port=57279 --discv5-udp-port=57281 --rest-address=0.0.0.0 --nat=extip:172.18.220.157 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57282 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QNBvzk76l31kV9Xq8wTAFiimYFZRZpFRuxGVwIL2BN0JRtXpQNzHnCnRL97zBMNrp9Ch__cATnMKlEN39orbSkwBgmlkgnY0gmlwhKwSbOGKbXVsdGlhZGRyc4wACgSsEmzhBpsh3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCmyCDdWRwgpsihXdha3UyBQ --filternode=/ip4/172.18.108.225/tcp/39712/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.220.157 waku 5a15bd26bb3be743181e08f64d2d925e8755c100b6dab256bcca2ded22288b19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5a15bd26bb3b. Setting up logs at ./log/docker/node2_2024-04-25_04-13-27__5dbf124c-46cf-4029-afb4-ebc18981fd90__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:119 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 57278
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57278/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.220.157/tcp/57279/p2p/16Uiu2HAkziZFpf2RDHpYMkPx9To9JjFcoPR5Foa9tJAPMedhxQ5W","/ip4/172.18.220.157/tcp/57280/ws/p2p/16Uiu2HAkziZFpf2RDHpYMkPx9To9JjFcoPR5Foa9tJAPMedhxQ5W"],"enrUri":"enr:-LO4QOa2JZha-HPS-gDbHm35py8YO-lfQqzbV2fyNQA8NuTkCzLqVSzaAzVl4PUMYREoFQ3EduHdGrwlqzkaAOF8on4BgmlkgnY0gmlwhKwS3J2KbXVsdGlhZGRyc4wACgSsEtydBt_A3QOCcnOFAAABAACJc2VjcDI1NmsxoQJOnbS4tGPrzjLCPK7ufzQ7_bz8D9dmrjvDhllOAyH4GYN0Y3CC37-DdWRwgt_BhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:189 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57278/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.108.225/tcp/39712/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39711/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57278/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "50e5b78e-3e41-4e98-baec-cf2fcf88e923", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"50e5b78e-3e41-4e98-baec-cf2fcf88e923","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X PUT "http://127.0.0.1:57278/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Stopping container with id a02e29f0bb9b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Stopping container with id 5a15bd26bb3b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Container stopped.