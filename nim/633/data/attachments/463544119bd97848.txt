[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-01-29_12-53-03__b4a8516c-8647-463d-887c-e481f569e646
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-29_12-53-03__b4a8516c-8647-463d-887c-e481f569e646__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.175.62
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56153', '56154', '56155', '56156', '56157']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56153:56153 -p 56154:56154 -p 56155:56155 -p 56156:56156 -p 56157:56157 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56155 --rest-port=56153 --tcp-port=56154 --discv5-udp-port=56156 --rest-address=0.0.0.0 --nat=extip:172.18.175.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b6e7a481a7cac4081ad8457f90b33f2990f599b1f3f1b4d5e61933d8f213e2fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56157 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.175.62 waku 4b6c440e6aefecce7296c75d5f3cdf990b8a71335ddab4f18dc707f6d0748710
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4b6c440e6aef. Setting up logs at ./log/docker/node1_2025-01-29_12-53-03__b4a8516c-8647-463d-887c-e481f569e646__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 56153
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7520737865cf. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56153/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56153/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.175.62/tcp/56154/p2p/16Uiu2HAmCN6kgYvx7mRs8PmvhnwQ7xFXviqC8pET2MHEwfkCSfZH","/ip4/172.18.175.62/tcp/56155/ws/p2p/16Uiu2HAmCN6kgYvx7mRs8PmvhnwQ7xFXviqC8pET2MHEwfkCSfZH"],"enrUri":"enr:-L24QA5GJyToRonyvTWW60EBfIYo4VJKZTa0jxdOdMNppqmMI-LcgXdF98P-eLbmbgCjPXAeV0SfTo2VfgAdQCFhyMwCgmlkgnY0gmlwhKwSrz6KbXVsdGlhZGRyc5YACASsEq8-BttaAAoErBKvPgbbW90DgnJzhQADAQAAiXNlY3AyNTZrMaEC-6xd03z6srHZNwQbgTi5mwQe8dUesVD0LzIqfpJoQ6CDdGNwgttag3VkcILbXIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-29_12-53-03__b4a8516c-8647-463d-887c-e481f569e646__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.46.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10940', '10941', '10942', '10943', '10944']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10940:10940 -p 10941:10941 -p 10942:10942 -p 10943:10943 -p 10944:10944 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10942 --rest-port=10940 --tcp-port=10941 --discv5-udp-port=10943 --rest-address=0.0.0.0 --nat=extip:172.18.46.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f379d26e39d9bcf73e5c9b5b46bbccacbebc67571ff418baadecff25ea65a2c0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10944 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QA5GJyToRonyvTWW60EBfIYo4VJKZTa0jxdOdMNppqmMI-LcgXdF98P-eLbmbgCjPXAeV0SfTo2VfgAdQCFhyMwCgmlkgnY0gmlwhKwSrz6KbXVsdGlhZGRyc5YACASsEq8-BttaAAoErBKvPgbbW90DgnJzhQADAQAAiXNlY3AyNTZrMaEC-6xd03z6srHZNwQbgTi5mwQe8dUesVD0LzIqfpJoQ6CDdGNwgttag3VkcILbXIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.46.229 waku 420cb82c054172e9abef2f26e571cf1056f24d96e7fb5af234f797d67a36dac0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 420cb82c0541. Setting up logs at ./log/docker/node2_2025-01-29_12-53-03__b4a8516c-8647-463d-887c-e481f569e646__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 10940
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10940/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10940/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.229/tcp/10941/p2p/16Uiu2HAm3Gh3EPHNti6dWqr6Bbbj3wT6Bj5hDSvRucHb7atn3HXs","/ip4/172.18.46.229/tcp/10942/ws/p2p/16Uiu2HAm3Gh3EPHNti6dWqr6Bbbj3wT6Bj5hDSvRucHb7atn3HXs"],"enrUri":"enr:-L24QNKX48xsrdB0HBEssvZ691tPJQP4rKAnyQ3xovrhET3cHgB-9475Wx-YaBj22T5vzfageIKa7VDkwaaYYhfHQQoCgmlkgnY0gmlwhKwSLuWKbXVsdGlhZGRyc5YACASsEi7lBiq9AAoErBIu5QYqvt0DgnJzhQADAQAAiXNlY3AyNTZrMaECdJB3Qm24kXYJO0iPFm8FTDgSEEHAQQeIBB-E6V8SQ36DdGNwgiq9g3VkcIIqv4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10940/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.175.62/tcp/56154/p2p/16Uiu2HAmCN6kgYvx7mRs8PmvhnwQ7xFXviqC8pET2MHEwfkCSfZH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-29_12-53-03__b4a8516c-8647-463d-887c-e481f569e646__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.63.152
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22707', '22708', '22709', '22710', '22711']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22707:22707 -p 22708:22708 -p 22709:22709 -p 22710:22710 -p 22711:22711 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22709 --rest-port=22707 --tcp-port=22708 --discv5-udp-port=22710 --rest-address=0.0.0.0 --nat=extip:172.18.63.152 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9a196da0b3fae4dacf97ddf19b93e4b056e65dbe044b0fe3d72fe1ce1d1dada0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22711 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QA5GJyToRonyvTWW60EBfIYo4VJKZTa0jxdOdMNppqmMI-LcgXdF98P-eLbmbgCjPXAeV0SfTo2VfgAdQCFhyMwCgmlkgnY0gmlwhKwSrz6KbXVsdGlhZGRyc5YACASsEq8-BttaAAoErBKvPgbbW90DgnJzhQADAQAAiXNlY3AyNTZrMaEC-6xd03z6srHZNwQbgTi5mwQe8dUesVD0LzIqfpJoQ6CDdGNwgttag3VkcILbXIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.63.152 waku 4f0eae35ed18d73053802166d8d0c8f34aef5fa8e6b3d08ce219e7544fc098ce
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4f0eae35ed18. Setting up logs at ./log/docker/node3_2025-01-29_12-53-03__b4a8516c-8647-463d-887c-e481f569e646__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 22707
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22707/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22707/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.152/tcp/22708/p2p/16Uiu2HAmEpZ31ZgyHsLxquvsyCcpnwCJfvqDcyXWG4x1BE6cSbCC","/ip4/172.18.63.152/tcp/22709/ws/p2p/16Uiu2HAmEpZ31ZgyHsLxquvsyCcpnwCJfvqDcyXWG4x1BE6cSbCC"],"enrUri":"enr:-L24QGeJ-iwUR7N6maC1eWIBmmRKLKTVMada4C37rrkjqmBZeTklWxbjBZ4w99LkaUBrWhzbiJiW3rr5Tkse7wrIQZkCgmlkgnY0gmlwhKwSP5iKbXVsdGlhZGRyc5YACASsEj-YBli0AAoErBI_mAZYtd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDICqO2Q9hzZhvDrpD87NCD03kAAVNoHK5Jmw3FDH2CMmDdGNwgli0g3VkcIJYtoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22707/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.175.62/tcp/56154/p2p/16Uiu2HAmCN6kgYvx7mRs8PmvhnwQ7xFXviqC8pET2MHEwfkCSfZH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-29_12-53-03__b4a8516c-8647-463d-887c-e481f569e646__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.152.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38825', '38826', '38827', '38828', '38829']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38825:38825 -p 38826:38826 -p 38827:38827 -p 38828:38828 -p 38829:38829 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38827 --rest-port=38825 --tcp-port=38826 --discv5-udp-port=38828 --rest-address=0.0.0.0 --nat=extip:172.18.152.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b2fba808fac8a70f3fdd921caac50ccb21e3dadcc2deade1b1eddac8fae0dd20 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38829 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QA5GJyToRonyvTWW60EBfIYo4VJKZTa0jxdOdMNppqmMI-LcgXdF98P-eLbmbgCjPXAeV0SfTo2VfgAdQCFhyMwCgmlkgnY0gmlwhKwSrz6KbXVsdGlhZGRyc5YACASsEq8-BttaAAoErBKvPgbbW90DgnJzhQADAQAAiXNlY3AyNTZrMaEC-6xd03z6srHZNwQbgTi5mwQe8dUesVD0LzIqfpJoQ6CDdGNwgttag3VkcILbXIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.152.34 waku e0d9481d3c47c60ca7483987627f547ced103bed6f320d04aedfa51a53b5d037
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e0d9481d3c47. Setting up logs at ./log/docker/node4_2025-01-29_12-53-03__b4a8516c-8647-463d-887c-e481f569e646__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38825
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38825/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38825/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.34/tcp/38826/p2p/16Uiu2HAm8rB2iX2eGHvEvac3RkPGZfYfiU51wbTrU2yT4w2Uj523","/ip4/172.18.152.34/tcp/38827/ws/p2p/16Uiu2HAm8rB2iX2eGHvEvac3RkPGZfYfiU51wbTrU2yT4w2Uj523"],"enrUri":"enr:-L24QM-3uXMcnac7nxtXkcoaCkR3i-v2KJf3O5dpb5bKZxe7OYnTKF-Dr1vscSx9ce1YqlWnWPWmFEka-69uFyDbnroCgmlkgnY0gmlwhKwSmCKKbXVsdGlhZGRyc5YACASsEpgiBpeqAAoErBKYIgaXq90DgnJzhQADAQAAiXNlY3AyNTZrMaECx263g4nSsAUSBaMkmotxrO9mf1qqr55asxYjr-nAfKyDdGNwgpeqg3VkcIKXrIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38825/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.175.62/tcp/56154/p2p/16Uiu2HAmCN6kgYvx7mRs8PmvhnwQ7xFXviqC8pET2MHEwfkCSfZH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-29_12-53-03__b4a8516c-8647-463d-887c-e481f569e646__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.139.66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11643', '11644', '11645', '11646', '11647']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11643:11643 -p 11644:11644 -p 11645:11645 -p 11646:11646 -p 11647:11647 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11645 --rest-port=11643 --tcp-port=11644 --discv5-udp-port=11646 --rest-address=0.0.0.0 --nat=extip:172.18.139.66 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b4088e9bd62ddb064fe6dbdfabed8cbccbebcf9f4faf1be3daca629bfcb8d5f6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11647 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QA5GJyToRonyvTWW60EBfIYo4VJKZTa0jxdOdMNppqmMI-LcgXdF98P-eLbmbgCjPXAeV0SfTo2VfgAdQCFhyMwCgmlkgnY0gmlwhKwSrz6KbXVsdGlhZGRyc5YACASsEq8-BttaAAoErBKvPgbbW90DgnJzhQADAQAAiXNlY3AyNTZrMaEC-6xd03z6srHZNwQbgTi5mwQe8dUesVD0LzIqfpJoQ6CDdGNwgttag3VkcILbXIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.139.66 waku 2a7e5cf20fd524085d7be8f63ccab87483ea4a7b3ee44ac03e9238a56e32fff7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2a7e5cf20fd5. Setting up logs at ./log/docker/node5_2025-01-29_12-53-03__b4a8516c-8647-463d-887c-e481f569e646__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11643
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11643/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11643/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.139.66/tcp/11644/p2p/16Uiu2HAkwoNHAguX9gXRvsgbgPpX9Jfgxi415NVmzGmbhm8RBzw5","/ip4/172.18.139.66/tcp/11645/ws/p2p/16Uiu2HAkwoNHAguX9gXRvsgbgPpX9Jfgxi415NVmzGmbhm8RBzw5"],"enrUri":"enr:-L24QG9NnNq3yTMOOzLZoCHMkw8f8ZpzLqW0wCuNZv5_fH1EBSdYwP20Bl4M3bvI0yiiCr7WI_AayCyti2pob9s_MegCgmlkgnY0gmlwhKwSi0KKbXVsdGlhZGRyc5YACASsEotCBi18AAoErBKLQgYtfd0DgnJzhQADAQAAiXNlY3AyNTZrMaECI0YjQDB5kYxM39oAxabAiyOXXEjHkhtlKnyaLMaxBLSDdGNwgi18g3VkcIItfoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11643/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.175.62/tcp/56154/p2p/16Uiu2HAmCN6kgYvx7mRs8PmvhnwQ7xFXviqC8pET2MHEwfkCSfZH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56153/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10940/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22707/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38825/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11643/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56153/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56153/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738155189774052608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10940/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738155189774052608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22707/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738155189774052608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738155189774052608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11643/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738155189774052608,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11643/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56153/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738155189908339712,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10940/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738155189908339712,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22707/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738155189908339712,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738155189908339712,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11643/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738155189908339712,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4b6c440e6aef
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 420cb82c0541
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4b6c440e6aef. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4f0eae35ed18
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 420cb82c0541. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e0d9481d3c47
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4f0eae35ed18. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2a7e5cf20fd5
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e0d9481d3c47. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.