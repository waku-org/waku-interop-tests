{"uid":"17deabdf48e4ee7f","name":"test_relay_resubscribe_to_unsubscribed_pubsub_topic","fullName":"tests.relay.test_subscribe.TestRelaySubscribe#test_relay_resubscribe_to_unsubscribed_pubsub_topic","historyId":"511226399ee6ffa64231dd8306341d81","time":{"start":1714192769982,"stop":1714192769982,"duration":0},"status":"broken","statusMessage":"docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.43/networks/9b975d7edb96cba04d375e061e2ee0cc526f6c5d1292f45acf25efefb77d92de/connect: Internal Server Error (\"Container 74f61da4c25199c2c798e202423bfabf66ad4dfd76d7841531337b1b648cccc1 is marked for removal and cannot be connected or disconnected to the network\")","statusTrace":"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:265: in _raise_for_status\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.43/networks/9b975d7edb96cba04d375e061e2ee0cc526f6c5d1292f45acf25efefb77d92de/connect\n\nThe above exception was the direct cause of the following exception:\nsrc/steps/relay.py:40: in setup_main_relay_nodes\n    self.node1.start(relay=\"true\", nodekey=NODEKEY)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:325: in iter\n    raise retry_exc.reraise()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:158: in reraise\n    raise self.last_attempt.result()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/node/waku_node.py:115: in start\n    self._container = self._docker_manager.start_container(\nsrc/node/docker_mananger.py:54: in start_container\n    network.connect(container, ipv4_address=container_ip)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/models/networks.py:58: in connect\n    return self.client.api.connect_container_to_network(\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/utils/decorators.py:19: in wrapped\n    return f(self, resource_id, *args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/network.py:254: in connect_container_to_network\n    self._raise_for_status(res)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:267: in _raise_for_status\n    raise create_api_error_from_http_exception(e) from e\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/errors.py:39: in create_api_error_from_http_exception\n    raise cls(e, response=response, explanation=explanation) from e\nE   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.43/networks/9b975d7edb96cba04d375e061e2ee0cc526f6c5d1292f45acf25efefb77d92de/connect: Internal Server Error (\"Container 74f61da4c25199c2c798e202423bfabf66ad4dfd76d7841531337b1b648cccc1 is marked for removal and cannot be connected or disconnected to the network\")","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"test_id","time":{"start":1714192769983,"stop":1714192769983,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1714192769983,"stop":1714192769983,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1714192769983,"stop":1714192769983,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1714192769983,"stop":1714192769983,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1714192769984,"stop":1714192769984,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1714192769984,"stop":1714192769984,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_nodes","time":{"start":1714192769984,"stop":1714192776252,"duration":6268},"status":"broken","statusMessage":"docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.43/networks/9b975d7edb96cba04d375e061e2ee0cc526f6c5d1292f45acf25efefb77d92de/connect: Internal Server Error (\"Container 74f61da4c25199c2c798e202423bfabf66ad4dfd76d7841531337b1b648cccc1 is marked for removal and cannot be connected or disconnected to the network\")\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 137, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 917, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/relay.py\", line 40, in setup_main_relay_nodes\n    self.node1.start(relay=\"true\", nodekey=NODEKEY)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 325, in iter\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 158, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 115, in start\n    self._container = self._docker_manager.start_container(\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/docker_mananger.py\", line 54, in start_container\n    network.connect(container, ipv4_address=container_ip)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/models/networks.py\", line 58, in connect\n    return self.client.api.connect_container_to_network(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/utils/decorators.py\", line 19, in wrapped\n    return f(self, resource_id, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/network.py\", line 254, in connect_container_to_network\n    self._raise_for_status(res)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py\", line 267, in _raise_for_status\n    raise create_api_error_from_http_exception(e) from e\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/errors.py\", line 39, in create_api_error_from_http_exception\n    raise cls(e, response=response, explanation=explanation) from e\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.43/networks/9b975d7edb96cba04d375e061e2ee0cc526f6c5d1292f45acf25efefb77d92de/connect: Internal Server Error (\"Container 74f61da4c25199c2c798e202423bfabf66ad4dfd76d7841531337b1b648cccc1 is marked for removal and cannot be connected or disconnected to the network\")","statusTrace":"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:265: in _raise_for_status\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.43/networks/9b975d7edb96cba04d375e061e2ee0cc526f6c5d1292f45acf25efefb77d92de/connect\n\nThe above exception was the direct cause of the following exception:\nsrc/steps/relay.py:40: in setup_main_relay_nodes\n    self.node1.start(relay=\"true\", nodekey=NODEKEY)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:325: in iter\n    raise retry_exc.reraise()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:158: in reraise\n    raise self.last_attempt.result()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/node/waku_node.py:115: in start\n    self._container = self._docker_manager.start_container(\nsrc/node/docker_mananger.py:54: in start_container\n    network.connect(container, ipv4_address=container_ip)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/models/networks.py:58: in connect\n    return self.client.api.connect_container_to_network(\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/utils/decorators.py:19: in wrapped\n    return f(self, resource_id, *args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/network.py:254: in connect_container_to_network\n    self._raise_for_status(res)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:267: in _raise_for_status\n    raise create_api_error_from_http_exception(e) from e\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/errors.py:39: in create_api_error_from_http_exception\n    raise cls(e, response=response, explanation=explanation) from e\nE   docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.43/networks/9b975d7edb96cba04d375e061e2ee0cc526f6c5d1292f45acf25efefb77d92de/connect: Internal Server Error (\"Container 74f61da4c25199c2c798e202423bfabf66ad4dfd76d7841531337b1b648cccc1 is marked for removal and cannot be connected or disconnected to the network\")","steps":[],"attachments":[{"uid":"9a10b485fc66396f","name":"log","source":"9a10b485fc66396f.txt","type":"text/plain","size":53392}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1714192776409,"stop":1714192776414,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1714192776414,"stop":1714192776415,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1714192776415,"stop":1714192776415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_nodes')"},{"name":"parentSuite","value":"tests.relay"},{"name":"suite","value":"test_subscribe"},{"name":"subSuite","value":"TestRelaySubscribe"},{"name":"host","value":"fv-az1487-137"},{"name":"thread","value":"2206-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.relay.test_subscribe"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6fd71221674f0121","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=24038): Max retries exceeded with url: /debug/v1/info (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa836257d40>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1714192753169,"stop":1714192753169,"duration":0}},{"uid":"95df6a0261286dfa","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=27103): Max retries exceeded with url: /debug/v1/info (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa8362c3200>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1714192736370,"stop":1714192736370,"duration":0}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":25,"unknown":0,"total":26},"items":[{"uid":"702f1dc4578a0f81","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/166//#testresult/702f1dc4578a0f81","status":"passed","time":{"start":1714105002582,"stop":1714105002843,"duration":261}},{"uid":"491760971aba9d59","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/165//#testresult/491760971aba9d59","status":"passed","time":{"start":1714018699677,"stop":1714018699934,"duration":257}},{"uid":"ffdf0066c84459dc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/164//#testresult/ffdf0066c84459dc","status":"passed","time":{"start":1713932203933,"stop":1713932204203,"duration":270}},{"uid":"4d01dca09012da3e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/163//#testresult/4d01dca09012da3e","status":"passed","time":{"start":1713845820446,"stop":1713845820736,"duration":290}},{"uid":"b5f5b7a347286962","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/162//#testresult/b5f5b7a347286962","status":"passed","time":{"start":1713799608132,"stop":1713799608397,"duration":265}},{"uid":"10a0df3250e5ffa5","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/161//#testresult/10a0df3250e5ffa5","status":"passed","time":{"start":1713796199969,"stop":1713796200238,"duration":269}},{"uid":"ab737aa66278002e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/160//#testresult/ab737aa66278002e","status":"passed","time":{"start":1713787578665,"stop":1713787578931,"duration":266}},{"uid":"95fe6f4f25b5fc12","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/159//#testresult/95fe6f4f25b5fc12","status":"passed","time":{"start":1713759429818,"stop":1713759430092,"duration":274}},{"uid":"edfeebe1f3d33ea","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/158//#testresult/edfeebe1f3d33ea","status":"passed","time":{"start":1713672983270,"stop":1713672983528,"duration":258}},{"uid":"c51c79cfe9da7242","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/157//#testresult/c51c79cfe9da7242","status":"passed","time":{"start":1713586669352,"stop":1713586669606,"duration":254}},{"uid":"28cd551ce1d328ba","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/155//#testresult/28cd551ce1d328ba","status":"passed","time":{"start":1713433850903,"stop":1713433851160,"duration":257}},{"uid":"3ff105c133c7b9e1","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/153//#testresult/3ff105c133c7b9e1","status":"passed","time":{"start":1713413839523,"stop":1713413839783,"duration":260}},{"uid":"2099d22afe4c4671","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/152//#testresult/2099d22afe4c4671","status":"passed","time":{"start":1713327494172,"stop":1713327494431,"duration":259}},{"uid":"4b05cfda8f80c53","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/151//#testresult/4b05cfda8f80c53","status":"passed","time":{"start":1713277669356,"stop":1713277669621,"duration":265}},{"uid":"5cc240b307fe082f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/150//#testresult/5cc240b307fe082f","status":"passed","time":{"start":1713241029486,"stop":1713241029749,"duration":263}},{"uid":"bd20a0be1ca9ddc8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/149//#testresult/bd20a0be1ca9ddc8","status":"passed","time":{"start":1713187465133,"stop":1713187465417,"duration":284}},{"uid":"3638c8a3b22a945f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/148//#testresult/3638c8a3b22a945f","status":"passed","time":{"start":1713155529616,"stop":1713155529872,"duration":256}},{"uid":"ec673bedf423f232","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/147//#testresult/ec673bedf423f232","status":"passed","time":{"start":1713069565779,"stop":1713069566045,"duration":266}},{"uid":"11e8d6d010331e94","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/146//#testresult/11e8d6d010331e94","status":"passed","time":{"start":1712981831792,"stop":1712981832054,"duration":262}},{"uid":"5d2cf2683e8e7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/145//#testresult/5d2cf2683e8e7","status":"passed","time":{"start":1712895402320,"stop":1712895402579,"duration":259}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_nodes')"]},"source":"17deabdf48e4ee7f.json","parameterValues":[]}