[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_cursor_equal_to_first_message with id: 2024-12-10_04-22-52__9066b29e-6299-4a58-8d91-149e35a7f297
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-12-10_04-22-52__9066b29e-6299-4a58-8d91-149e35a7f297__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.19.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51193', '51194', '51195', '51196', '51197']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51193:51193 -p 51194:51194 -p 51195:51195 -p 51196:51196 -p 51197:51197 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51195 --rest-port=51193 --tcp-port=51194 --discv5-udp-port=51196 --rest-address=0.0.0.0 --nat=extip:172.18.19.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e9c0c8ee3d9c1e5bd43ed2c50bbeb1cd1b07ad62c05fbb11a770cd0c36e1ff4e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51197 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.19.41 waku 09aa9db2dd7f63ac8f6e34e686c115362374e5ef78519cc039ae08eca479a409
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 09aa9db2dd7f. Setting up logs at ./log/docker/publishing_node1_2024-12-10_04-22-52__9066b29e-6299-4a58-8d91-149e35a7f297__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51193
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 656b1297d7fa. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51193/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51193/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.41/tcp/51194/p2p/16Uiu2HAkySnGWr7NEvHNZytQztYoeuLfWFCf4XE56JiDPkCbbXAv","/ip4/172.18.19.41/tcp/51195/ws/p2p/16Uiu2HAkySnGWr7NEvHNZytQztYoeuLfWFCf4XE56JiDPkCbbXAv"],"enrUri":"enr:-L24QLvQQkM2CFMEH9LrsC2WKFgqGxmdekN42KzTdvwCaIH0fXYTL8DIp83ZCbkmrzVic0lcDOJfvzBoMJaL_4uDvgQCgmlkgnY0gmlwhKwSEymKbXVsdGlhZGRyc5YACASsEhMpBsf6AAoErBITKQbH-90DgnJzhQADAQAAiXNlY3AyNTZrMaECO7dwUHTk-TKSxkaL6-CRD-6Q6LZ1WfrBed12CrVxRYeDdGNwgsf6g3VkcILH_IV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-12-10_04-22-52__9066b29e-6299-4a58-8d91-149e35a7f297__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.2.38
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42385', '42386', '42387', '42388', '42389']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42385:42385 -p 42386:42386 -p 42387:42387 -p 42388:42388 -p 42389:42389 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42387 --rest-port=42385 --tcp-port=42386 --discv5-udp-port=42388 --rest-address=0.0.0.0 --nat=extip:172.18.2.38 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9aee3d9ceeebe2efb141916d1b265a58bd8ccb091015bdabaceda2fe0abacb3e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42389 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QLvQQkM2CFMEH9LrsC2WKFgqGxmdekN42KzTdvwCaIH0fXYTL8DIp83ZCbkmrzVic0lcDOJfvzBoMJaL_4uDvgQCgmlkgnY0gmlwhKwSEymKbXVsdGlhZGRyc5YACASsEhMpBsf6AAoErBITKQbH-90DgnJzhQADAQAAiXNlY3AyNTZrMaECO7dwUHTk-TKSxkaL6-CRD-6Q6LZ1WfrBed12CrVxRYeDdGNwgsf6g3VkcILH_IV3YWt1MgM --storenode=/ip4/172.18.19.41/tcp/51194/p2p/16Uiu2HAkySnGWr7NEvHNZytQztYoeuLfWFCf4XE56JiDPkCbbXAv --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.2.38 waku c543951ca11973f4896ba1c6995b4cf15cac625ccf4c9e04812bec7ae4de4fb0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c543951ca119. Setting up logs at ./log/docker/store_node1_2024-12-10_04-22-52__9066b29e-6299-4a58-8d91-149e35a7f297__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42385
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42385/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42385/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.2.38/tcp/42386/p2p/16Uiu2HAm8yymA9xPevXKTt1G9aAbK1tBrNZTCn2AdLbWUcpsYs24","/ip4/172.18.2.38/tcp/42387/ws/p2p/16Uiu2HAm8yymA9xPevXKTt1G9aAbK1tBrNZTCn2AdLbWUcpsYs24"],"enrUri":"enr:-L24QKXQ65cjFVZiUMUB5xrQ4LB21Qi9QWUwEQrA2OrggK3RGnWymvv3_op-uzPDiMWKIeHEzsWRAOSMMLbHV5p5dnICgmlkgnY0gmlwhKwSAiaKbXVsdGlhZGRyc5YACASsEgImBqWSAAoErBICJgalk90DgnJzhQADAQAAiXNlY3AyNTZrMaECyW6fTein3IwY5ZnvIh3nSfoLQqiLYcGcSEQiNi6f5N2DdGNwgqWSg3VkcIKllIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42385/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.41/tcp/51194/p2p/16Uiu2HAkySnGWr7NEvHNZytQztYoeuLfWFCf4XE56JiDPkCbbXAv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51193/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42385/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51193/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=NceilAWSjnSbyA6B%2FwVm6t2dJTu9zMH6eMwAsIf25q4%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"bsg4dLcFsyKOMe9ZU/nuqqFs9x0QtxjY6FIVmbEij94="},{"messageHash":"B2kvuV+c4O/Ga+I54i813xIjzp8yns1vfIxwaeXvRpE="},{"messageHash":"inctZmZLXqGtjzrvt3qe6Q5mxGLA11qYi3Quspg+qSQ="},{"messageHash":"BVQ9TFmpE9GmwwBbK407TprE0OMpzsVycpGTbAXe2Xc="},{"messageHash":"baru+LnailAVN5M+fBHj9wO1q7RjP5YexSJt5QKwIcU="},{"messageHash":"XuXQDPDd0qz/rsG3ScomlhueTPV+suTO1lHx3PvQXXA="},{"messageHash":"HJl04s/DNWwk25mdooeiwmgB/iWN4H+rGBfNfgO3TqM="},{"messageHash":"EdIt4HXSxqh0on5Q80yYQ1r4/qlz+62ichfOUdphKE0="},{"messageHash":"m5+qYi3ObIEn0fydz1x+Y66S5zJIQxAG3+dCLRcC/Us="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42385/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=NceilAWSjnSbyA6B%2FwVm6t2dJTu9zMH6eMwAsIf25q4%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"bsg4dLcFsyKOMe9ZU/nuqqFs9x0QtxjY6FIVmbEij94="},{"messageHash":"B2kvuV+c4O/Ga+I54i813xIjzp8yns1vfIxwaeXvRpE="},{"messageHash":"inctZmZLXqGtjzrvt3qe6Q5mxGLA11qYi3Quspg+qSQ="},{"messageHash":"BVQ9TFmpE9GmwwBbK407TprE0OMpzsVycpGTbAXe2Xc="},{"messageHash":"baru+LnailAVN5M+fBHj9wO1q7RjP5YexSJt5QKwIcU="},{"messageHash":"XuXQDPDd0qz/rsG3ScomlhueTPV+suTO1lHx3PvQXXA="},{"messageHash":"HJl04s/DNWwk25mdooeiwmgB/iWN4H+rGBfNfgO3TqM="},{"messageHash":"EdIt4HXSxqh0on5Q80yYQ1r4/qlz+62ichfOUdphKE0="},{"messageHash":"m5+qYi3ObIEn0fydz1x+Y66S5zJIQxAG3+dCLRcC/Us="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 09aa9db2dd7f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c543951ca119
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 09aa9db2dd7f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.