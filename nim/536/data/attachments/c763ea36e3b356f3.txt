[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-23_04-13-27__747d5835-af66-4135-941e-7b1cd2b6dea9
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-23_04-13-27__747d5835-af66-4135-941e-7b1cd2b6dea9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.56.194
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62790', '62791', '62792', '62793', '62794']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62790:62790 -p 62791:62791 -p 62792:62792 -p 62793:62793 -p 62794:62794 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62792 --rest-port=62790 --tcp-port=62791 --discv5-udp-port=62793 --rest-address=0.0.0.0 --nat=extip:172.18.56.194 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6772d1f16b02c8c1c47d17f24e9beb7c0add1af84e4cf78af0eb7a9ebdbd501a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62794 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.56.194 waku 8d73aa4eb4aa02439860b9a1ceff81c7d590a1b450903b33c3455e3b0aa73255
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8d73aa4eb4aa. Setting up logs at ./log/docker/node1_2024-12-23_04-13-27__747d5835-af66-4135-941e-7b1cd2b6dea9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 62790
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ca47799fd8bd. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62790/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62790/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.194/tcp/62791/p2p/16Uiu2HAm2Qv4MYfDtX99i2AwKWR5umdy1cKpwJkijTQByLSVc2D8","/ip4/172.18.56.194/tcp/62792/ws/p2p/16Uiu2HAm2Qv4MYfDtX99i2AwKWR5umdy1cKpwJkijTQByLSVc2D8"],"enrUri":"enr:-L24QKbdaZss91NYzD9dnSTaxPU7lVi-oibw1Zs5COxKw08OZVhnoKpMSUbfBdWhzdwwrAn9GE4l7jpMqE3OhiUHRhQCgmlkgnY0gmlwhKwSOMKKbXVsdGlhZGRyc5YACASsEjjCBvVHAAoErBI4wgb1SN0DgnJzhQADAQAAiXNlY3AyNTZrMaECZ9Alfenk-loQ9VHv2ZD8nyvVAbJMlq-rMLNrmm5NuHuDdGNwgvVHg3VkcIL1SYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-23_04-13-27__747d5835-af66-4135-941e-7b1cd2b6dea9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.235.79
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60750', '60751', '60752', '60753', '60754']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60750:60750 -p 60751:60751 -p 60752:60752 -p 60753:60753 -p 60754:60754 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60752 --rest-port=60750 --tcp-port=60751 --discv5-udp-port=60753 --rest-address=0.0.0.0 --nat=extip:172.18.235.79 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e5a8e1b7acaadc4d68a3de6984a0b25bd36a8a4f60afbeab55bfeaa36f21e1c2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60754 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKbdaZss91NYzD9dnSTaxPU7lVi-oibw1Zs5COxKw08OZVhnoKpMSUbfBdWhzdwwrAn9GE4l7jpMqE3OhiUHRhQCgmlkgnY0gmlwhKwSOMKKbXVsdGlhZGRyc5YACASsEjjCBvVHAAoErBI4wgb1SN0DgnJzhQADAQAAiXNlY3AyNTZrMaECZ9Alfenk-loQ9VHv2ZD8nyvVAbJMlq-rMLNrmm5NuHuDdGNwgvVHg3VkcIL1SYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.235.79 waku 044036aa1fc79e2d4025e87f4a6045d5f508547e56a6014e389162b9de48156a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 044036aa1fc7. Setting up logs at ./log/docker/node2_2024-12-23_04-13-27__747d5835-af66-4135-941e-7b1cd2b6dea9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60750
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60750/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60750/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.235.79/tcp/60751/p2p/16Uiu2HAkxVYguvA4TPf861FMQxdynoBR2nVextTkzpBYi3iCGdvb","/ip4/172.18.235.79/tcp/60752/ws/p2p/16Uiu2HAkxVYguvA4TPf861FMQxdynoBR2nVextTkzpBYi3iCGdvb"],"enrUri":"enr:-L24QHn4gv71lml5-l5bBiT_GmrWnB7qJpnesW1wrGBuR8puZ9El-kdRYe5Hw3Jd88NjYnk4RcYZR9DY91aZXqS554gCgmlkgnY0gmlwhKwS60-KbXVsdGlhZGRyc5YACASsEutPBu1PAAoErBLrTwbtUN0DgnJzhQADAQAAiXNlY3AyNTZrMaECLZEj16uCs9ie4_S4Q8KasXw92hYDPmJzoNB-56VxpdyDdGNwgu1Pg3VkcILtUYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60750/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.194/tcp/62791/p2p/16Uiu2HAm2Qv4MYfDtX99i2AwKWR5umdy1cKpwJkijTQByLSVc2D8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-23_04-13-27__747d5835-af66-4135-941e-7b1cd2b6dea9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.107.107
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3652', '3653', '3654', '3655', '3656']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3652:3652 -p 3653:3653 -p 3654:3654 -p 3655:3655 -p 3656:3656 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3654 --rest-port=3652 --tcp-port=3653 --discv5-udp-port=3655 --rest-address=0.0.0.0 --nat=extip:172.18.107.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a66c48acc1eedbbf9d3d7efa3c12cb3b68151dae9850b9aae4b6c02ae8dfabf6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3656 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKbdaZss91NYzD9dnSTaxPU7lVi-oibw1Zs5COxKw08OZVhnoKpMSUbfBdWhzdwwrAn9GE4l7jpMqE3OhiUHRhQCgmlkgnY0gmlwhKwSOMKKbXVsdGlhZGRyc5YACASsEjjCBvVHAAoErBI4wgb1SN0DgnJzhQADAQAAiXNlY3AyNTZrMaECZ9Alfenk-loQ9VHv2ZD8nyvVAbJMlq-rMLNrmm5NuHuDdGNwgvVHg3VkcIL1SYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.107.107 waku bc16a0391e2ea6ea118fd67b12d335389c931de1f0e9676a53ed9e434967fa77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bc16a0391e2e. Setting up logs at ./log/docker/node3_2024-12-23_04-13-27__747d5835-af66-4135-941e-7b1cd2b6dea9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3652
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3652/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3652/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.107/tcp/3653/p2p/16Uiu2HAmDXExbeMYUe1wQ831gCGcpvCfqcnBCHFhJUP2EtntouVV","/ip4/172.18.107.107/tcp/3654/ws/p2p/16Uiu2HAmDXExbeMYUe1wQ831gCGcpvCfqcnBCHFhJUP2EtntouVV"],"enrUri":"enr:-L24QM3H2dMtuK-QolQlDuR8ZvkV7since-QlrxCWlk3taKlV-TJ8n5q2HBPhaMCyre-E3nY2VKxrcEhqBQvfZNysIoCgmlkgnY0gmlwhKwSa2uKbXVsdGlhZGRyc5YACASsEmtrBg5FAAoErBJrawYORt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDDN-PAq7IC5KgNfdO1vAM8vyeJCAoSwybg9EwXeQ6pISDdGNwgg5Fg3VkcIIOR4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3652/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.194/tcp/62791/p2p/16Uiu2HAm2Qv4MYfDtX99i2AwKWR5umdy1cKpwJkijTQByLSVc2D8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-23_04-13-27__747d5835-af66-4135-941e-7b1cd2b6dea9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.239.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23091', '23092', '23093', '23094', '23095']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23091:23091 -p 23092:23092 -p 23093:23093 -p 23094:23094 -p 23095:23095 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23093 --rest-port=23091 --tcp-port=23092 --discv5-udp-port=23094 --rest-address=0.0.0.0 --nat=extip:172.18.239.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0572196b7b776a1bbfad6519fe5cedc9b1ef79beafeb6dd4e18c9bfd962c9909 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23095 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKbdaZss91NYzD9dnSTaxPU7lVi-oibw1Zs5COxKw08OZVhnoKpMSUbfBdWhzdwwrAn9GE4l7jpMqE3OhiUHRhQCgmlkgnY0gmlwhKwSOMKKbXVsdGlhZGRyc5YACASsEjjCBvVHAAoErBI4wgb1SN0DgnJzhQADAQAAiXNlY3AyNTZrMaECZ9Alfenk-loQ9VHv2ZD8nyvVAbJMlq-rMLNrmm5NuHuDdGNwgvVHg3VkcIL1SYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.239.89 waku 168824008b11b5b87652d544aace315158ffc5cc2cd4d25e63bdea69b99e3445
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 168824008b11. Setting up logs at ./log/docker/node4_2024-12-23_04-13-27__747d5835-af66-4135-941e-7b1cd2b6dea9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 23091
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23091/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23091/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.239.89/tcp/23092/p2p/16Uiu2HAmQN4KmkPFsM1vGuhoFgTdghzNV6ugts272maMz7D8GvNF","/ip4/172.18.239.89/tcp/23093/ws/p2p/16Uiu2HAmQN4KmkPFsM1vGuhoFgTdghzNV6ugts272maMz7D8GvNF"],"enrUri":"enr:-L24QDTxtWaRFAQkRDYstxERZu-c3P2xcgAkOZbADNxsKfKGa4PxdxZZvsmj41dkNC6PaN3Q0CF31pfmch1sWuZqXh4CgmlkgnY0gmlwhKwS71mKbXVsdGlhZGRyc5YACASsEu9ZBlo0AAoErBLvWQZaNd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDrfXc0tUd6zVnxDJqi16lq_hpfeqLSYHHt-UrIvV8JoyDdGNwglo0g3VkcIJaNoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23091/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.194/tcp/62791/p2p/16Uiu2HAm2Qv4MYfDtX99i2AwKWR5umdy1cKpwJkijTQByLSVc2D8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-23_04-13-27__747d5835-af66-4135-941e-7b1cd2b6dea9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.50.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40591', '40592', '40593', '40594', '40595']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40591:40591 -p 40592:40592 -p 40593:40593 -p 40594:40594 -p 40595:40595 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40593 --rest-port=40591 --tcp-port=40592 --discv5-udp-port=40594 --rest-address=0.0.0.0 --nat=extip:172.18.50.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f3a7ce12dae0afdbba299f4832c52515e33a2cfbf6b8fe8fccf00d19e3145f70 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40595 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKbdaZss91NYzD9dnSTaxPU7lVi-oibw1Zs5COxKw08OZVhnoKpMSUbfBdWhzdwwrAn9GE4l7jpMqE3OhiUHRhQCgmlkgnY0gmlwhKwSOMKKbXVsdGlhZGRyc5YACASsEjjCBvVHAAoErBI4wgb1SN0DgnJzhQADAQAAiXNlY3AyNTZrMaECZ9Alfenk-loQ9VHv2ZD8nyvVAbJMlq-rMLNrmm5NuHuDdGNwgvVHg3VkcIL1SYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.50.136 waku 9715126a1845f645d351e5eeec931d4770e968df65b805e3961a0df9637adcbc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9715126a1845. Setting up logs at ./log/docker/node5_2024-12-23_04-13-27__747d5835-af66-4135-941e-7b1cd2b6dea9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 40591
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40591/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40591/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.136/tcp/40592/p2p/16Uiu2HAmG8CUoMxz2RMJTKLxi193t9HZno5EBqYeAJFL8MT6A66y","/ip4/172.18.50.136/tcp/40593/ws/p2p/16Uiu2HAmG8CUoMxz2RMJTKLxi193t9HZno5EBqYeAJFL8MT6A66y"],"enrUri":"enr:-L24QOaA9C0dvKhlmHM-4ijr2YYCAMpZOYbLgCEUuwbz-aDEPSfRwl77DnnfFIYxMYc2OYiK2eLTVq5KuCq4L2WNuSoCgmlkgnY0gmlwhKwSMoiKbXVsdGlhZGRyc5YACASsEjKIBp6QAAoErBIyiAaekd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDM4t1HV3CgqdmRFHUczaIr6B4wnBm0n9LBcSKHGASI4aDdGNwgp6Qg3VkcIKekoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40591/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.194/tcp/62791/p2p/16Uiu2HAm2Qv4MYfDtX99i2AwKWR5umdy1cKpwJkijTQByLSVc2D8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62790/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60750/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3652/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23091/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40591/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62790/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62790/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927214616466432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60750/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927214616466432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3652/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927214616466432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927214616466432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40591/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927214616466432,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62790/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62790/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927214754505472,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60750/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927214754505472,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3652/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927214754505472,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927214754505472,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40591/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927214754505472,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8d73aa4eb4aa
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 044036aa1fc7
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8d73aa4eb4aa. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bc16a0391e2e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 044036aa1fc7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 168824008b11
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bc16a0391e2e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9715126a1845
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 168824008b11. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.