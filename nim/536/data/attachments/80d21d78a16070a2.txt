[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-23_04-13-42__c8a4f2bf-4b17-4922-8306-87f055e5259f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-23_04-13-42__c8a4f2bf-4b17-4922-8306-87f055e5259f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.159.12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45121', '45122', '45123', '45124', '45125']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45121:45121 -p 45122:45122 -p 45123:45123 -p 45124:45124 -p 45125:45125 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45123 --rest-port=45121 --tcp-port=45122 --discv5-udp-port=45124 --rest-address=0.0.0.0 --nat=extip:172.18.159.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=debf2bb2bbaa7cd070ceaceeba8c7cffcfaa12f2f4bcff3dfbbf1cb2f4a8ec6a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45125 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.159.12 waku 7277a449a419d63457c4b4a4d0c1cf60b9e8156f4956e03fbb28f45e7b5a29d5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7277a449a419. Setting up logs at ./log/docker/node1_2024-12-23_04-13-42__c8a4f2bf-4b17-4922-8306-87f055e5259f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 45121
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9715126a1845. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45121/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45121/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.159.12/tcp/45122/p2p/16Uiu2HAmFZaHeSnFMkV4zc1ikRsz6ZDFHK6N9euZ8UmPGx2ajvaL","/ip4/172.18.159.12/tcp/45123/ws/p2p/16Uiu2HAmFZaHeSnFMkV4zc1ikRsz6ZDFHK6N9euZ8UmPGx2ajvaL"],"enrUri":"enr:-L24QPAWql-jfin6hGP_Ks2EYORmzpO5p49vzQ3vMEjUqGUaY0uO2bWGCppXZEPmo7b5Q7H-kNHZ5KBgBIYyp_b2PNsCgmlkgnY0gmlwhKwSnwyKbXVsdGlhZGRyc5YACASsEp8MBrBCAAoErBKfDAawQ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDKy_y5cAxTElJKvaPwK8qNy3DB1fQuWbWihlvgMwldoGDdGNwgrBCg3VkcIKwRIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-23_04-13-42__c8a4f2bf-4b17-4922-8306-87f055e5259f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.231.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46479', '46480', '46481', '46482', '46483']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46479:46479 -p 46480:46480 -p 46481:46481 -p 46482:46482 -p 46483:46483 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46481 --rest-port=46479 --tcp-port=46480 --discv5-udp-port=46482 --rest-address=0.0.0.0 --nat=extip:172.18.231.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3be13bbb6f0bcf00daaf953abbded2eaa293e23e5d830ed5ddb87cdb322d5afd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46483 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPAWql-jfin6hGP_Ks2EYORmzpO5p49vzQ3vMEjUqGUaY0uO2bWGCppXZEPmo7b5Q7H-kNHZ5KBgBIYyp_b2PNsCgmlkgnY0gmlwhKwSnwyKbXVsdGlhZGRyc5YACASsEp8MBrBCAAoErBKfDAawQ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDKy_y5cAxTElJKvaPwK8qNy3DB1fQuWbWihlvgMwldoGDdGNwgrBCg3VkcIKwRIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.231.102 waku 5f6f7ceea4d5784d41003c93fc7079e269ca430c7d1e8dbfb658bdc2005577eb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5f6f7ceea4d5. Setting up logs at ./log/docker/node2_2024-12-23_04-13-42__c8a4f2bf-4b17-4922-8306-87f055e5259f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 46479
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46479/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46479/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.231.102/tcp/46480/p2p/16Uiu2HAmTJ25juEFxiv8B5J891H68KaqxFhCun4aR94FQLxJUgDB","/ip4/172.18.231.102/tcp/46481/ws/p2p/16Uiu2HAmTJ25juEFxiv8B5J891H68KaqxFhCun4aR94FQLxJUgDB"],"enrUri":"enr:-L24QPQjMhJLuDKFF5WiUKaixyEK-VWMfepcUwhsfU6Os3CfEzT8ksMQa2NAb2x30nio3VUBPknocdJrQyV8qTnM-AkCgmlkgnY0gmlwhKwS52aKbXVsdGlhZGRyc5YACASsEudmBrWQAAoErBLnZga1kd0DgnJzhQADAQAAiXNlY3AyNTZrMaED2YAQr4QOsT3Ndp-PqV4UjD-nG4akXPiqLG-FR3KF3SaDdGNwgrWQg3VkcIK1koV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46479/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.12/tcp/45122/p2p/16Uiu2HAmFZaHeSnFMkV4zc1ikRsz6ZDFHK6N9euZ8UmPGx2ajvaL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-23_04-13-42__c8a4f2bf-4b17-4922-8306-87f055e5259f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.129.125
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36155', '36156', '36157', '36158', '36159']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36155:36155 -p 36156:36156 -p 36157:36157 -p 36158:36158 -p 36159:36159 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36157 --rest-port=36155 --tcp-port=36156 --discv5-udp-port=36158 --rest-address=0.0.0.0 --nat=extip:172.18.129.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c28402b8c2af7a78e13f7074596a052d05e4c603acae5dcd572d37ebce49ddaa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36159 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPAWql-jfin6hGP_Ks2EYORmzpO5p49vzQ3vMEjUqGUaY0uO2bWGCppXZEPmo7b5Q7H-kNHZ5KBgBIYyp_b2PNsCgmlkgnY0gmlwhKwSnwyKbXVsdGlhZGRyc5YACASsEp8MBrBCAAoErBKfDAawQ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDKy_y5cAxTElJKvaPwK8qNy3DB1fQuWbWihlvgMwldoGDdGNwgrBCg3VkcIKwRIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.129.125 waku 3d61122213b0f881b80337c91126bd2d634bf966313bfad7386c8bcafb28f73f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3d61122213b0. Setting up logs at ./log/docker/node3_2024-12-23_04-13-42__c8a4f2bf-4b17-4922-8306-87f055e5259f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36155
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36155/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36155/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.125/tcp/36156/p2p/16Uiu2HAm9S2ppCDAo8hDS3SBHQwkPQxYhy6woYPpssnhRBJyEmG3","/ip4/172.18.129.125/tcp/36157/ws/p2p/16Uiu2HAm9S2ppCDAo8hDS3SBHQwkPQxYhy6woYPpssnhRBJyEmG3"],"enrUri":"enr:-L24QCL6-tDsuSD0jcgBiyEVxj0XFIFRiFKEheoc9HIf9nAqG7HwWYlIbBHQpraNsNSgrDESZmqTwMY5TQKQLOWdjL8CgmlkgnY0gmlwhKwSgX2KbXVsdGlhZGRyc5YACASsEoF9Bo08AAoErBKBfQaNPd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0Bsvy4rWKa_UkeVi5PQiHzj83RchBl-lwrEPRslNwUCDdGNwgo08g3VkcIKNPoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36155/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.12/tcp/45122/p2p/16Uiu2HAmFZaHeSnFMkV4zc1ikRsz6ZDFHK6N9euZ8UmPGx2ajvaL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-23_04-13-42__c8a4f2bf-4b17-4922-8306-87f055e5259f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.190.70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58404', '58405', '58406', '58407', '58408']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58404:58404 -p 58405:58405 -p 58406:58406 -p 58407:58407 -p 58408:58408 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58406 --rest-port=58404 --tcp-port=58405 --discv5-udp-port=58407 --rest-address=0.0.0.0 --nat=extip:172.18.190.70 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fadff058a5f93dfb84fddd0fffcbbfe8eb4e82c0c53d3b24a87c7c9e7d4dba13 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58408 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPAWql-jfin6hGP_Ks2EYORmzpO5p49vzQ3vMEjUqGUaY0uO2bWGCppXZEPmo7b5Q7H-kNHZ5KBgBIYyp_b2PNsCgmlkgnY0gmlwhKwSnwyKbXVsdGlhZGRyc5YACASsEp8MBrBCAAoErBKfDAawQ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDKy_y5cAxTElJKvaPwK8qNy3DB1fQuWbWihlvgMwldoGDdGNwgrBCg3VkcIKwRIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.190.70 waku f8188fcae147f301ac8381963b187cc1419da2bbe80f8e0283ca83e1ceafaa1c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f8188fcae147. Setting up logs at ./log/docker/node4_2024-12-23_04-13-42__c8a4f2bf-4b17-4922-8306-87f055e5259f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 58404
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58404/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58404/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.70/tcp/58405/p2p/16Uiu2HAmShki7ALjYko57VGcqHFdZvSYUofAq9uEuHc97qarvsSy","/ip4/172.18.190.70/tcp/58406/ws/p2p/16Uiu2HAmShki7ALjYko57VGcqHFdZvSYUofAq9uEuHc97qarvsSy"],"enrUri":"enr:-L24QHKdJ2F22uulR8MxNHz9zK7VvofgeZT3Adr-Qa9HKw8uaA4vHstSjIPFddKY2AlmyDN5gkqUzI97UZqEQFk1_GoCgmlkgnY0gmlwhKwSvkaKbXVsdGlhZGRyc5YACASsEr5GBuQlAAoErBK-RgbkJt0DgnJzhQADAQAAiXNlY3AyNTZrMaED0LjvdKwqjf3OLhrNbbd1twqwsvAJF2SNoVxFsRsJ--KDdGNwguQlg3VkcILkJ4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58404/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.12/tcp/45122/p2p/16Uiu2HAmFZaHeSnFMkV4zc1ikRsz6ZDFHK6N9euZ8UmPGx2ajvaL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-23_04-13-42__c8a4f2bf-4b17-4922-8306-87f055e5259f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.173.247
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25879', '25880', '25881', '25882', '25883']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25879:25879 -p 25880:25880 -p 25881:25881 -p 25882:25882 -p 25883:25883 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25881 --rest-port=25879 --tcp-port=25880 --discv5-udp-port=25882 --rest-address=0.0.0.0 --nat=extip:172.18.173.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2fafc69d6cd8aa95c9fa8f3e8a5edfbc79ddc4d9e077b4caecdba80bd8ce605a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25883 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPAWql-jfin6hGP_Ks2EYORmzpO5p49vzQ3vMEjUqGUaY0uO2bWGCppXZEPmo7b5Q7H-kNHZ5KBgBIYyp_b2PNsCgmlkgnY0gmlwhKwSnwyKbXVsdGlhZGRyc5YACASsEp8MBrBCAAoErBKfDAawQ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDKy_y5cAxTElJKvaPwK8qNy3DB1fQuWbWihlvgMwldoGDdGNwgrBCg3VkcIKwRIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.173.247 waku e6c3683f5742ee209118c5ecc0e0679dded68957fbd27e6f00699819a3fde32e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e6c3683f5742. Setting up logs at ./log/docker/node5_2024-12-23_04-13-42__c8a4f2bf-4b17-4922-8306-87f055e5259f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 25879
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25879/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25879/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.173.247/tcp/25880/p2p/16Uiu2HAmK9VyjVwvu4snEsi2igMLk6xH86vK8BcqdzAu4ztjUvFN","/ip4/172.18.173.247/tcp/25881/ws/p2p/16Uiu2HAmK9VyjVwvu4snEsi2igMLk6xH86vK8BcqdzAu4ztjUvFN"],"enrUri":"enr:-L24QKjInYK0_sS809YW9lU-644eR64zZCN1sNgDpsJ04EwrJZswZpwG2vBiLkwC2QyfliVP8zsNIZGofQC_bstWgm8CgmlkgnY0gmlwhKwSrfeKbXVsdGlhZGRyc5YACASsEq33BmUYAAoErBKt9wZlGd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYHPilMGVneibFIsami8OpZQ_GFATqagaDmcgKBTBty2DdGNwgmUYg3VkcIJlGoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25879/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.12/tcp/45122/p2p/16Uiu2HAmFZaHeSnFMkV4zc1ikRsz6ZDFHK6N9euZ8UmPGx2ajvaL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45121/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46479/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36155/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58404/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25879/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927229578193152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46479/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927229578193152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36155/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927229578193152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58404/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927229578193152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25879/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927229578193152,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25879/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927229700595968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46479/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927229700595968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36155/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927229700595968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58404/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927229700595968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25879/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734927229700595968,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7277a449a419
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5f6f7ceea4d5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7277a449a419. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3d61122213b0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5f6f7ceea4d5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f8188fcae147
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3d61122213b0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e6c3683f5742
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f8188fcae147. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.