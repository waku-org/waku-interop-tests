[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.182.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['37752', '37753', '37754', '37755', '37756']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 37752:37752 -p 37753:37753 -p 37754:37754 -p 37755:37755 -p 37756:37756 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37754 --rest-port=37752 --tcp-port=37753 --discv5-udp-port=37755 --rest-address=0.0.0.0 --nat=extip:172.18.182.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6d5af1d82dbaf84115e1bb8a93a7dee0979bc2a594d6affcd1fe3ba5ab9aadbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37756 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.182.41 waku 8f084a63de89f17993f25551a8a710ca42fa086068b2da523692064e598fd9db
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8f084a63de89. Setting up logs at ./log/docker/receiving_node1_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 37752
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37752/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37752/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.41/tcp/37753/p2p/16Uiu2HAmDwUufWAQZ5GsWyn6h8S6Ecq24M7QY3Uw8JSecSemEp8a","/ip4/172.18.182.41/tcp/37754/ws/p2p/16Uiu2HAmDwUufWAQZ5GsWyn6h8S6Ecq24M7QY3Uw8JSecSemEp8a"],"enrUri":"enr:-LO4QNibHXv3LZFfXcXPPakSbn5a6bDya-gExT2NglMGHw4EYPkZZJ7Lo1PUONzu2CjWqRfh9D1p9_Sz4mtkL1RzyG4BgmlkgnY0gmlwhKwStimKbXVsdGlhZGRyc4wACgSsErYpBpN63QOCcnOFAAMBAACJc2VjcDI1NmsxoQMTFUVNmM54OlSl176poGO16XZ5B600RMWxOiTlHM4U-4N0Y3CCk3mDdWRwgpN7hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.56.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['20010', '20011', '20012', '20013', '20014']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 20010:20010 -p 20011:20011 -p 20012:20012 -p 20013:20013 -p 20014:20014 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20012 --rest-port=20010 --tcp-port=20011 --discv5-udp-port=20013 --rest-address=0.0.0.0 --nat=extip:172.18.56.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cfce10041499686beeb9a7e66debd9e35a7eb8b42a1efadbef7becebdac45e40 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20014 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.56.15 waku 39b1b7578dd226161fd28d2fd9169409f13aa0f82367573efd343a929f7c7ee9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 39b1b7578dd2. Setting up logs at ./log/docker/receiving_node2_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 20010
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20010/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20010/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.15/tcp/20011/p2p/16Uiu2HAmQz3ZYZsrsjFF5G5TSou1WyPertgZjcfgSdHtBDx4BmSe","/ip4/172.18.56.15/tcp/20012/ws/p2p/16Uiu2HAmQz3ZYZsrsjFF5G5TSou1WyPertgZjcfgSdHtBDx4BmSe"],"enrUri":"enr:-LO4QHNppoTAB-QhVnond7mm-B-GG5rUVeimY87sUQ5xi0HVArg2poqoyZZrci2FMEnF6Tj0haKWW1-IijNB0y3_NXEBgmlkgnY0gmlwhKwSOA-KbXVsdGlhZGRyc4wACgSsEjgPBk4s3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO3LejV2uI5u2z5upOefTG5d9a1iNys1k54xOHVsZ2pH4N0Y3CCTiuDdWRwgk4thXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20010/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.41/tcp/37753/p2p/16Uiu2HAmDwUufWAQZ5GsWyn6h8S6Ecq24M7QY3Uw8JSecSemEp8a"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.13.145
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['19113', '19114', '19115', '19116', '19117']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 19113:19113 -p 19114:19114 -p 19115:19115 -p 19116:19116 -p 19117:19117 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19115 --rest-port=19113 --tcp-port=19114 --discv5-udp-port=19116 --rest-address=0.0.0.0 --nat=extip:172.18.13.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bce6dacf8e6dae49acdfb4ab3ded2bdfaf33dad0c977ef70aafe6bd9e3fdfe61 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19117 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNibHXv3LZFfXcXPPakSbn5a6bDya-gExT2NglMGHw4EYPkZZJ7Lo1PUONzu2CjWqRfh9D1p9_Sz4mtkL1RzyG4BgmlkgnY0gmlwhKwStimKbXVsdGlhZGRyc4wACgSsErYpBpN63QOCcnOFAAMBAACJc2VjcDI1NmsxoQMTFUVNmM54OlSl176poGO16XZ5B600RMWxOiTlHM4U-4N0Y3CCk3mDdWRwgpN7hXdha3UyCQ --lightpushnode=/ip4/172.18.182.41/tcp/37753/p2p/16Uiu2HAmDwUufWAQZ5GsWyn6h8S6Ecq24M7QY3Uw8JSecSemEp8a --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.13.145 waku 752852fc0f6be5039b4e1211b2f86a0818f7f64c4dc1ea8826bff1e7404fbfa7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 752852fc0f6b. Setting up logs at ./log/docker/lightpush_node1_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 19113
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19113/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19113/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.13.145/tcp/19114/p2p/16Uiu2HAm94kCGhkWGadKUw47uCH3VhELAYHh3Lo4ZUCfWnHQz9eu","/ip4/172.18.13.145/tcp/19115/ws/p2p/16Uiu2HAm94kCGhkWGadKUw47uCH3VhELAYHh3Lo4ZUCfWnHQz9eu"],"enrUri":"enr:-LO4QANe-uUgyJX498OY3K8TG53iofpU_4uNi2PHwWTg88_oLADp1J76ctgxcILb4l-G1GMQeFw5CwiTYKFsTXQeFYcBgmlkgnY0gmlwhKwSDZGKbXVsdGlhZGRyc4wACgSsEg2RBkqr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLKpy-hBDdQOvTyAmejWGdnr0RYrDDfeLj_uKHnTME0zoN0Y3CCSqqDdWRwgkqshXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19113/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.41/tcp/37753/p2p/16Uiu2HAmDwUufWAQZ5GsWyn6h8S6Ecq24M7QY3Uw8JSecSemEp8a"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19113/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.15/tcp/20011/p2p/16Uiu2HAmQz3ZYZsrsjFF5G5TSou1WyPertgZjcfgSdHtBDx4BmSe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.87.5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['54037', '54038', '54039', '54040', '54041']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 54037:54037 -p 54038:54038 -p 54039:54039 -p 54040:54040 -p 54041:54041 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54039 --rest-port=54037 --tcp-port=54038 --discv5-udp-port=54040 --rest-address=0.0.0.0 --nat=extip:172.18.87.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac07c9d620d09adc0c77145406f9d8afd68a4fa8d639ce9ed6ac0fa80eac0ab2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54041 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNibHXv3LZFfXcXPPakSbn5a6bDya-gExT2NglMGHw4EYPkZZJ7Lo1PUONzu2CjWqRfh9D1p9_Sz4mtkL1RzyG4BgmlkgnY0gmlwhKwStimKbXVsdGlhZGRyc4wACgSsErYpBpN63QOCcnOFAAMBAACJc2VjcDI1NmsxoQMTFUVNmM54OlSl176poGO16XZ5B600RMWxOiTlHM4U-4N0Y3CCk3mDdWRwgpN7hXdha3UyCQ --lightpushnode=/ip4/172.18.182.41/tcp/37753/p2p/16Uiu2HAmDwUufWAQZ5GsWyn6h8S6Ecq24M7QY3Uw8JSecSemEp8a --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.87.5 waku 9cb6cb80136b9851c1c353f8898d4d74713df6df49a1b2fff4988f7082a6ed0f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9cb6cb80136b. Setting up logs at ./log/docker/lightpush_node2_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 54037
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54037/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54037/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.87.5/tcp/54038/p2p/16Uiu2HAmFso34je6iKPUppCc7MgdBrMgyvcBSHhNLDBsMek7rjy8","/ip4/172.18.87.5/tcp/54039/ws/p2p/16Uiu2HAmFso34je6iKPUppCc7MgdBrMgyvcBSHhNLDBsMek7rjy8"],"enrUri":"enr:-LO4QJePHjYdkBLu6vIYLQ5ZSxe617-bLr6V4qXJWG_oJ2PnA2kpY4VKLVd8AFBSR9runIZsVOdZyfhWpz5vYF28iWgBgmlkgnY0gmlwhKwSVwWKbXVsdGlhZGRyc4wACgSsElcFBtMX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMv2tF6HnpEhyGkD-o1LGHWIr3fOnDlIm7ueQeTLV6tx4N0Y3CC0xaDdWRwgtMYhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54037/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.41/tcp/37753/p2p/16Uiu2HAmDwUufWAQZ5GsWyn6h8S6Ecq24M7QY3Uw8JSecSemEp8a"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54037/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.15/tcp/20011/p2p/16Uiu2HAmQz3ZYZsrsjFF5G5TSou1WyPertgZjcfgSdHtBDx4BmSe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.229.191
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['30544', '30545', '30546', '30547', '30548']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 30544:30544 -p 30545:30545 -p 30546:30546 -p 30547:30547 -p 30548:30548 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30546 --rest-port=30544 --tcp-port=30545 --discv5-udp-port=30547 --rest-address=0.0.0.0 --nat=extip:172.18.229.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1db84b517532abc6dff843be1b5bd6e16c66c3a7fae69279fae24e114cd7b0b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30548 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNibHXv3LZFfXcXPPakSbn5a6bDya-gExT2NglMGHw4EYPkZZJ7Lo1PUONzu2CjWqRfh9D1p9_Sz4mtkL1RzyG4BgmlkgnY0gmlwhKwStimKbXVsdGlhZGRyc4wACgSsErYpBpN63QOCcnOFAAMBAACJc2VjcDI1NmsxoQMTFUVNmM54OlSl176poGO16XZ5B600RMWxOiTlHM4U-4N0Y3CCk3mDdWRwgpN7hXdha3UyCQ --lightpushnode=/ip4/172.18.182.41/tcp/37753/p2p/16Uiu2HAmDwUufWAQZ5GsWyn6h8S6Ecq24M7QY3Uw8JSecSemEp8a --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.229.191 waku 05593dcdb8cbab200bc06cc54eefe208c53021b3a05013e21971a61209968de4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 05593dcdb8cb. Setting up logs at ./log/docker/lightpush_node3_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 30544
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30544/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30544/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.229.191/tcp/30545/p2p/16Uiu2HAm5or3pVkv5xGoyEemRq7gJYbcEztQak841L9E7K4pn4xo","/ip4/172.18.229.191/tcp/30546/ws/p2p/16Uiu2HAm5or3pVkv5xGoyEemRq7gJYbcEztQak841L9E7K4pn4xo"],"enrUri":"enr:-LO4QHSR8b9OYunMQtFuOihBWmoVoj2TsXoSJevJNtXDTZEkMmJ7hTPBWJs-T9N2fon0N2R1VrQyRrbqISRaNbVaNxgBgmlkgnY0gmlwhKwS5b-KbXVsdGlhZGRyc4wACgSsEuW_BndS3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKaQwhXx3wQ2dG-Jq6BqXW3joptpHr8N9h5SvVjk7I8aIN0Y3CCd1GDdWRwgndThXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30544/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.41/tcp/37753/p2p/16Uiu2HAmDwUufWAQZ5GsWyn6h8S6Ecq24M7QY3Uw8JSecSemEp8a"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30544/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.15/tcp/20011/p2p/16Uiu2HAmQz3ZYZsrsjFF5G5TSou1WyPertgZjcfgSdHtBDx4BmSe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.0.209
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['25847', '25848', '25849', '25850', '25851']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 25847:25847 -p 25848:25848 -p 25849:25849 -p 25850:25850 -p 25851:25851 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25849 --rest-port=25847 --tcp-port=25848 --discv5-udp-port=25850 --rest-address=0.0.0.0 --nat=extip:172.18.0.209 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=53dad2e2ce0f8ede6037af5872e4607579bec1bbef36998aed9aeb35154d57c7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25851 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNibHXv3LZFfXcXPPakSbn5a6bDya-gExT2NglMGHw4EYPkZZJ7Lo1PUONzu2CjWqRfh9D1p9_Sz4mtkL1RzyG4BgmlkgnY0gmlwhKwStimKbXVsdGlhZGRyc4wACgSsErYpBpN63QOCcnOFAAMBAACJc2VjcDI1NmsxoQMTFUVNmM54OlSl176poGO16XZ5B600RMWxOiTlHM4U-4N0Y3CCk3mDdWRwgpN7hXdha3UyCQ --lightpushnode=/ip4/172.18.182.41/tcp/37753/p2p/16Uiu2HAmDwUufWAQZ5GsWyn6h8S6Ecq24M7QY3Uw8JSecSemEp8a --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.0.209 waku 1bab155a55e7ac0ea28c9e5812e365589e9ecbf57c60f49d28022c114b70716d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1bab155a55e7. Setting up logs at ./log/docker/lightpush_node4_2024-08-23_04-19-37__6b33d5c7-d64b-49d4-a831-8737e5724307__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 25847
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25847/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25847/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.209/tcp/25848/p2p/16Uiu2HAkyQWyy2KRRZkz2xpJBp9wd4ChrxSg5fdRpH9sV8Mjb35u","/ip4/172.18.0.209/tcp/25849/ws/p2p/16Uiu2HAkyQWyy2KRRZkz2xpJBp9wd4ChrxSg5fdRpH9sV8Mjb35u"],"enrUri":"enr:-LO4QAiizj8VBwFQ6Bm4BwKGIFQADwq2SwKgtM5c2_dQckKxCTWc81o8FmdJmtb_5GbrdvvhunBB-gwHHvyNjLlWioUBgmlkgnY0gmlwhKwSANGKbXVsdGlhZGRyc4wACgSsEgDRBmT53QOCcnOFAAMBAACJc2VjcDI1NmsxoQI7Iv5y45speQJb2mMq18Va6-o5sKvCfaoBzwLLozn1lIN0Y3CCZPiDdWRwgmT6hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25847/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.41/tcp/37753/p2p/16Uiu2HAmDwUufWAQZ5GsWyn6h8S6Ecq24M7QY3Uw8JSecSemEp8a"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25847/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.15/tcp/20011/p2p/16Uiu2HAmQz3ZYZsrsjFF5G5TSou1WyPertgZjcfgSdHtBDx4BmSe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37752/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20010/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19113/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724386786688704512}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37752/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724386786688704512,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20010/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724386786688704512,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54037/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724386786804333824}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37752/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724386786804333824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20010/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724386786804333824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30544/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724386786918315520}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37752/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724386786918315520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20010/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724386786918315520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25847/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724386787032534272}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37752/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724386787032534272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20010/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724386787032534272,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 8f084a63de89
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 39b1b7578dd2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 752852fc0f6b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 9cb6cb80136b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 05593dcdb8cb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 1bab155a55e7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.