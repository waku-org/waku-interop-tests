[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2024-08-23_04-19-07__780082bc-2cdf-44b2-b399-7568ff2ede5b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-23_04-19-07__780082bc-2cdf-44b2-b399-7568ff2ede5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.118.153
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['8079', '8080', '8081', '8082', '8083']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 8079:8079 -p 8080:8080 -p 8081:8081 -p 8082:8082 -p 8083:8083 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8081 --rest-port=8079 --tcp-port=8080 --discv5-udp-port=8082 --rest-address=0.0.0.0 --nat=extip:172.18.118.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c77ae2bf8d802db07e1d73fe1fbacfdbeee6cf2de0bbbda90ef3c2c1cfbc823b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8083 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.118.153 waku bf14b6615eea1f1a7573973351f7d38beb5bbf344501785ce1a812fb11753352
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID bf14b6615eea. Setting up logs at ./log/docker/node1_2024-08-23_04-19-07__780082bc-2cdf-44b2-b399-7568ff2ede5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 8079
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8079/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8079/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.118.153/tcp/8080/p2p/16Uiu2HAm9aoAdiPTtZcyy3JAdLwBMrmTo5yZRmX5vqw7C1q3VBu6","/ip4/172.18.118.153/tcp/8081/ws/p2p/16Uiu2HAm9aoAdiPTtZcyy3JAdLwBMrmTo5yZRmX5vqw7C1q3VBu6"],"enrUri":"enr:-LO4QHf-UW4W1uPD8eaCZoQvRTt0QM3tmomNmCk1wkYUUd0VQ_5fU7O2Rhk8sLo6WpbdZUqqhU-cBiALg86U2VedvZsBgmlkgnY0gmlwhKwSdpmKbXVsdGlhZGRyc4wACgSsEnaZBh-R3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLSWfhzFyKD4obF2EH32B8peub8DPqqhbl2VB3pVMYxNYN0Y3CCH5CDdWRwgh-ShXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-23_04-19-07__780082bc-2cdf-44b2-b399-7568ff2ede5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.71.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['60871', '60872', '60873', '60874', '60875']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 60871:60871 -p 60872:60872 -p 60873:60873 -p 60874:60874 -p 60875:60875 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60873 --rest-port=60871 --tcp-port=60872 --discv5-udp-port=60874 --rest-address=0.0.0.0 --nat=extip:172.18.71.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eaf1fbbfb1e10efa3cd83fd7133b8bb6a4debe2fb9193ddf64d52a28dfe0e2cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60875 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QHf-UW4W1uPD8eaCZoQvRTt0QM3tmomNmCk1wkYUUd0VQ_5fU7O2Rhk8sLo6WpbdZUqqhU-cBiALg86U2VedvZsBgmlkgnY0gmlwhKwSdpmKbXVsdGlhZGRyc4wACgSsEnaZBh-R3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLSWfhzFyKD4obF2EH32B8peub8DPqqhbl2VB3pVMYxNYN0Y3CCH5CDdWRwgh-ShXdha3UyBQ --filternode=/ip4/172.18.118.153/tcp/8080/p2p/16Uiu2HAm9aoAdiPTtZcyy3JAdLwBMrmTo5yZRmX5vqw7C1q3VBu6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.71.184 waku 7929a2866f294b74e6c857c149eff65e946d431080de1df718ff416e03a26300
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 7929a2866f29. Setting up logs at ./log/docker/node2_2024-08-23_04-19-07__780082bc-2cdf-44b2-b399-7568ff2ede5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 60871
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60871/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60871/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.71.184/tcp/60872/p2p/16Uiu2HAmHdSWTMRyJkg78etC24ZzPxa555CFhUMQKqCRFK2R8Ufx","/ip4/172.18.71.184/tcp/60873/ws/p2p/16Uiu2HAmHdSWTMRyJkg78etC24ZzPxa555CFhUMQKqCRFK2R8Ufx"],"enrUri":"enr:-LO4QAGG7CssWXrc1oyaLkCz3GWKb9jWZfUoSJQuhhaTtmzkPAYM-AaQFIRExRfT-lEBtuDBPqC1YnoV0iW70X15i40BgmlkgnY0gmlwhKwSR7iKbXVsdGlhZGRyc4wACgSsEke4Bu3J3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNJ5NmYhy6XI0vWZbgVOLu7z9tc11m5UFZyDd4yxI1LV4N0Y3CC7ciDdWRwgu3KhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60871/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.153/tcp/8080/p2p/16Uiu2HAm9aoAdiPTtZcyy3JAdLwBMrmTo5yZRmX5vqw7C1q3VBu6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8079/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60871/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "196b90e5-cf72-48db-88e8-99fdb78426d2", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"196b90e5-cf72-48db-88e8-99fdb78426d2","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:60871/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:60871/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id bf14b6615eea
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 7929a2866f29
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.