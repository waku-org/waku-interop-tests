[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_sort_ascending[true] with id: 2024-08-23_04-35-45__b8ff9b99-026f-4297-a6f0-ce0b5b377717
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-08-23_04-35-45__b8ff9b99-026f-4297-a6f0-ce0b5b377717__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.154.243
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['12497', '12498', '12499', '12500', '12501']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 12497:12497 -p 12498:12498 -p 12499:12499 -p 12500:12500 -p 12501:12501 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12499 --rest-port=12497 --tcp-port=12498 --discv5-udp-port=12500 --rest-address=0.0.0.0 --nat=extip:172.18.154.243 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=032ff988ece7fa33b4f92df54962bca3993d320dece5c816090e187c792caefa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12501 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.154.243 waku c4e9c51587d694adc5c6245453ece0883827ea9c33fd8b968faa74de160bc80f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c4e9c51587d6. Setting up logs at ./log/docker/publishing_node1_2024-08-23_04-35-45__b8ff9b99-026f-4297-a6f0-ce0b5b377717__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 12497
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12497/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12497/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.243/tcp/12498/p2p/16Uiu2HAm5zd59RUc6UQPinHoZibV9GCajzL6Z6goxZwkNuA8Yvhc","/ip4/172.18.154.243/tcp/12499/ws/p2p/16Uiu2HAm5zd59RUc6UQPinHoZibV9GCajzL6Z6goxZwkNuA8Yvhc"],"enrUri":"enr:-LO4QCjMrijGW34jNqLRScnxAWPHc8P94apVWwQRUppeFuZ3Bpwq7DfX3IjegvrjNn1fMgwTggD0CO7MU52uUyYPm9ABgmlkgnY0gmlwhKwSmvOKbXVsdGlhZGRyc4wACgSsEprzBjDT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKdBb-J80lnBsJ_9QFPGax59sle2p-h8Agwbt0wR7XLD4N0Y3CCMNKDdWRwgjDUhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/store_node1_2024-08-23_04-35-45__b8ff9b99-026f-4297-a6f0-ce0b5b377717__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.242.228
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['42915', '42916', '42917', '42918', '42919']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 42915:42915 -p 42916:42916 -p 42917:42917 -p 42918:42918 -p 42919:42919 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42917 --rest-port=42915 --tcp-port=42916 --discv5-udp-port=42918 --rest-address=0.0.0.0 --nat=extip:172.18.242.228 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8c2aaabba7cbf2b6d60e8cc7adbd7ddae4610a3636546ec6b6df9bfecbaa91a2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42919 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QCjMrijGW34jNqLRScnxAWPHc8P94apVWwQRUppeFuZ3Bpwq7DfX3IjegvrjNn1fMgwTggD0CO7MU52uUyYPm9ABgmlkgnY0gmlwhKwSmvOKbXVsdGlhZGRyc4wACgSsEprzBjDT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKdBb-J80lnBsJ_9QFPGax59sle2p-h8Agwbt0wR7XLD4N0Y3CCMNKDdWRwgjDUhXdha3UyAw --storenode=/ip4/172.18.154.243/tcp/12498/p2p/16Uiu2HAm5zd59RUc6UQPinHoZibV9GCajzL6Z6goxZwkNuA8Yvhc --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.242.228 waku 05cbdf01e9b2375dffdb27412057f46d61c818d806b989330ab1c9d645d99c0c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 05cbdf01e9b2. Setting up logs at ./log/docker/store_node1_2024-08-23_04-35-45__b8ff9b99-026f-4297-a6f0-ce0b5b377717__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 42915
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42915/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42915/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.228/tcp/42916/p2p/16Uiu2HAm3VfdRJ947LHkovEMbx5i9xUpUEMAUGhtUsERbjSqYo78","/ip4/172.18.242.228/tcp/42917/ws/p2p/16Uiu2HAm3VfdRJ947LHkovEMbx5i9xUpUEMAUGhtUsERbjSqYo78"],"enrUri":"enr:-LO4QI2V8oFD6ud_-WaLsd7UGXU3Jz-qODsNRea7BoQM1ixAbfuVHtar2K4pyhEY-bXKi5_s32pgLpCkaIxagvBonOMBgmlkgnY0gmlwhKwS8uSKbXVsdGlhZGRyc4wACgSsEvLkBqel3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ342vk7RohBmnwwH42jbGAiiGRaMhfWMlxE8S6Gkw904N0Y3CCp6SDdWRwgqemhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42915/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.243/tcp/12498/p2p/16Uiu2HAm5zd59RUc6UQPinHoZibV9GCajzL6Z6goxZwkNuA8Yvhc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12497/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42915/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12497/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"VaTg6pFTQYd738MKcNXcA+imoqq4iOoB+YsM0JdCekg="},{"messageHash":"NbOBqyrKDmicvmtyjuiYSzvMa/GEIt9IgHqg/L8UUwA="},{"messageHash":"QWq+9NXzmjD8PpQoSxFCsfv2PVbaXSbhAICe4u3SlPA="},{"messageHash":"4PfvvHXVAwxQdatbx9NhrB5DKXgjLiM1hISkG2ftZa0="},{"messageHash":"6WDF44Htv6ITcBWRIN51QebICeXFIL0/C544KeHg0yc="}],"paginationCursor":"6WDF44Htv6ITcBWRIN51QebICeXFIL0/C544KeHg0yc="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42915/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"VaTg6pFTQYd738MKcNXcA+imoqq4iOoB+YsM0JdCekg="},{"messageHash":"NbOBqyrKDmicvmtyjuiYSzvMa/GEIt9IgHqg/L8UUwA="},{"messageHash":"QWq+9NXzmjD8PpQoSxFCsfv2PVbaXSbhAICe4u3SlPA="},{"messageHash":"4PfvvHXVAwxQdatbx9NhrB5DKXgjLiM1hISkG2ftZa0="},{"messageHash":"6WDF44Htv6ITcBWRIN51QebICeXFIL0/C544KeHg0yc="}],"paginationCursor":"6WDF44Htv6ITcBWRIN51QebICeXFIL0/C544KeHg0yc="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id c4e9c51587d6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 05cbdf01e9b2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.