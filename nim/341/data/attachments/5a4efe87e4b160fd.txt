[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_with_no_pubsub_topic with id: 2024-09-01_04-17-50__babbb9de-1880-4140-abfc-158fd941809f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-01_04-17-50__babbb9de-1880-4140-abfc-158fd941809f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.138.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47565', '47566', '47567', '47568', '47569']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47565:47565 -p 47566:47566 -p 47567:47567 -p 47568:47568 -p 47569:47569 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47567 --rest-port=47565 --tcp-port=47566 --discv5-udp-port=47568 --rest-address=0.0.0.0 --nat=extip:172.18.138.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1728cb132c7dab3fecb0f4eb1d3e9dbcb3f6ff0aafdefac3fca95411d40c8a76 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47569 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.138.55 waku a7b9cc0de1a729aee7a90b60df06975a53fa8ed6a4dcc818154c39a2270e2edb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a7b9cc0de1a7. Setting up logs at ./log/docker/node1_2024-09-01_04-17-50__babbb9de-1880-4140-abfc-158fd941809f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47565
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47565/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47565/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.55/tcp/47566/p2p/16Uiu2HAkwKN9hkrLZiAPXH8hXnQwAyyfNyZaUsi3HC74LQaNvJiH","/ip4/172.18.138.55/tcp/47567/ws/p2p/16Uiu2HAkwKN9hkrLZiAPXH8hXnQwAyyfNyZaUsi3HC74LQaNvJiH"],"enrUri":"enr:-LO4QAeZRzfoFY1YAf6g7T3uDZExvEigZAdOD7QrAcrpVWFPL4ABHi0zDHsCCmjBtnK5X75bC33W4Je3eU8KbHx28NgBgmlkgnY0gmlwhKwSijeKbXVsdGlhZGRyc4wACgSsEoo3BrnP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIcGbrCUOmn0Xe8auuitk5GzaW7MX1hXhmGRYjC9bfxNoN0Y3CCuc6DdWRwgrnQhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-01_04-17-50__babbb9de-1880-4140-abfc-158fd941809f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.116.66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61824', '61825', '61826', '61827', '61828']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61824:61824 -p 61825:61825 -p 61826:61826 -p 61827:61827 -p 61828:61828 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61826 --rest-port=61824 --tcp-port=61825 --discv5-udp-port=61827 --rest-address=0.0.0.0 --nat=extip:172.18.116.66 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9909b5ed77dafddac1ce5cefd7ecd9aa308d8100a0dba4ea12c22d9f74e7c80d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61828 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QAeZRzfoFY1YAf6g7T3uDZExvEigZAdOD7QrAcrpVWFPL4ABHi0zDHsCCmjBtnK5X75bC33W4Je3eU8KbHx28NgBgmlkgnY0gmlwhKwSijeKbXVsdGlhZGRyc4wACgSsEoo3BrnP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIcGbrCUOmn0Xe8auuitk5GzaW7MX1hXhmGRYjC9bfxNoN0Y3CCuc6DdWRwgrnQhXdha3UyBQ --filternode=/ip4/172.18.138.55/tcp/47566/p2p/16Uiu2HAkwKN9hkrLZiAPXH8hXnQwAyyfNyZaUsi3HC74LQaNvJiH
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.116.66 waku e869ccbfba5d78b70bf1b0c26a603c72fa8238cd8b2127e3b03536406462e965
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e869ccbfba5d. Setting up logs at ./log/docker/node2_2024-09-01_04-17-50__babbb9de-1880-4140-abfc-158fd941809f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61824
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61824/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61824/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.66/tcp/61825/p2p/16Uiu2HAm9S3B5EPwNk2genAycEUsAT5JYaKMRczW7EZNNjZs1TGx","/ip4/172.18.116.66/tcp/61826/ws/p2p/16Uiu2HAm9S3B5EPwNk2genAycEUsAT5JYaKMRczW7EZNNjZs1TGx"],"enrUri":"enr:-LO4QPuKa6-Y_39fY6ydgqRFI0dUUK7eQqlf1LuSmLOKEN0nbfJjr3QX0SgIOEFUqqgvPUL1D0dXguDBIVL2X09dlrEBgmlkgnY0gmlwhKwSdEKKbXVsdGlhZGRyc4wACgSsEnRCBvGC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLQG5TnIeyax7oD75rGakGedkRLDHdZOqr9jeyaFTcGZYN0Y3CC8YGDdWRwgvGDhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61824/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.55/tcp/47566/p2p/16Uiu2HAkwKN9hkrLZiAPXH8hXnQwAyyfNyZaUsi3HC74LQaNvJiH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47565/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61824/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "83e8014a-ce0d-46fe-b7c5-2a5f83ee0b89", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"83e8014a-ce0d-46fe-b7c5-2a5f83ee0b89","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61824/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a7b9cc0de1a7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e869ccbfba5d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.