[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_subscribe_to_pubsub_topic_from_another_cluster_id with id: 2024-03-31_04-11-52__365310ea-b8d6-4714-b0b9-d76a9b4b137e
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-03-31_04-11-52__365310ea-b8d6-4714-b0b9-d76a9b4b137e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.249.26
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['19769', '19770', '19771', '19772', '19773']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 19769:19769 -p 19770:19770 -p 19771:19771 -p 19772:19772 -p 19773:19773 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19771 --rest-port=19769 --tcp-port=19770 --discv5-udp-port=19772 --rest-address=0.0.0.0 --nat=extip:172.18.249.26 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19773 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.249.26 waku 0d69879df19f242e3f262c97ff5a04ca63680e7fd60baa17cd0982775894171a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0d69879df19f. Setting up logs at ./log/docker/node1_2024-03-31_04-11-52__365310ea-b8d6-4714-b0b9-d76a9b4b137e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 19769
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:19769/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.26/tcp/19770/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.249.26/tcp/19771/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LG4QEkBMWPyLWupTsODhJtgJMDlpY8E5i6sEs1rJZMpKofKM4nD0PVseAaD9fKuarpNaukWu5OXB_GwY-i26YJwF78BgmlkgnY0gmlwhKwS-RqKbXVsdGlhZGRyc4wACgSsEvkaBk073QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwgk06g3VkcIJNPIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-03-31_04-11-52__365310ea-b8d6-4714-b0b9-d76a9b4b137e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.54.112
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['58021', '58022', '58023', '58024', '58025']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 58021:58021 -p 58022:58022 -p 58023:58023 -p 58024:58024 -p 58025:58025 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58023 --rest-port=58021 --tcp-port=58022 --discv5-udp-port=58024 --rest-address=0.0.0.0 --nat=extip:172.18.54.112 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58025 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LG4QEkBMWPyLWupTsODhJtgJMDlpY8E5i6sEs1rJZMpKofKM4nD0PVseAaD9fKuarpNaukWu5OXB_GwY-i26YJwF78BgmlkgnY0gmlwhKwS-RqKbXVsdGlhZGRyc4wACgSsEvkaBk073QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwgk06g3VkcIJNPIV3YWt1MgU --filternode=/ip4/172.18.249.26/tcp/19770/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.54.112 waku 36670ccd96c3495f1eddcd6c79ba53c1b0d10108a64f8b1ed8cb4ab7c0b81dfb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 36670ccd96c3. Setting up logs at ./log/docker/node2_2024-03-31_04-11-52__365310ea-b8d6-4714-b0b9-d76a9b4b137e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 58021
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:58021/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.112/tcp/58022/p2p/16Uiu2HAm1eCka6QHh6Ps9L3osDhEHeFjt3dNfXXXgTjFVT4gCyYn","/ip4/172.18.54.112/tcp/58023/ws/p2p/16Uiu2HAm1eCka6QHh6Ps9L3osDhEHeFjt3dNfXXXgTjFVT4gCyYn"],"enrUri":"enr:-LG4QJzrV7YoNMDmK76rLod7gvWI95axAR4HWnPITXFnFb9IOj19uZf5VSo61qgEqPkv7T-FlT133a09Q2vRJAfuEykBgmlkgnY0gmlwhKwSNnCKbXVsdGlhZGRyc4wACgSsEjZwBuKn3QOCcnODAAAAiXNlY3AyNTZrMaECXFvio_28YKhijLhHoZTw2IQaeU2xPCRxeBlIbJ0g35uDdGNwguKmg3VkcILiqIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:19769/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:58021/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b4912ac3-2e50-4856-ae54-4e024de65256", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/2/2"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"b4912ac3-2e50-4856-ae54-4e024de65256","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:19769/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:94 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:58021/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1711858316660786688,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 0d69879df19f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 36670ccd96c3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.