[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_sort_ascending[false] with id: 2024-12-29_11-33-01__aca59a8e-0b54-4832-92b4-66b13e92fcdb
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-12-29_11-33-01__aca59a8e-0b54-4832-92b4-66b13e92fcdb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.82.54
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10514', '10515', '10516', '10517', '10518']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10514:10514 -p 10515:10515 -p 10516:10516 -p 10517:10517 -p 10518:10518 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10516 --rest-port=10514 --tcp-port=10515 --discv5-udp-port=10517 --rest-address=0.0.0.0 --nat=extip:172.18.82.54 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=96f5ead38bae6a0703a7ec63bd3d9a65a44c38e495ba2d1ede516f75ba3d5ac3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10518 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.82.54 waku 3617e19cd159e358385f824455f8028f44700e23e093d3818076090d22c98e2f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3617e19cd159. Setting up logs at ./log/docker/publishing_node1_2024-12-29_11-33-01__aca59a8e-0b54-4832-92b4-66b13e92fcdb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 10514
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3030c5a77def. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10514/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10514/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.54/tcp/10515/p2p/16Uiu2HAm6XwrdycefgvysWhuBz4QV5rBDcuPnSpZGUkp2gcAZVe3","/ip4/172.18.82.54/tcp/10516/ws/p2p/16Uiu2HAm6XwrdycefgvysWhuBz4QV5rBDcuPnSpZGUkp2gcAZVe3"],"enrUri":"enr:-L24QOCAq-rJc5HdEkOV_GyMoqtb_cqdPlZxTywK8xg--q4kNUBeHqU-dBhBShngHixlsJRik2JYNrtJKpxgkvYg2BYCgmlkgnY0gmlwhKwSUjaKbXVsdGlhZGRyc5YACASsElI2BikTAAoErBJSNgYpFN0DgnJzhQADAQAAiXNlY3AyNTZrMaECpQv-KPZBsw2kqg2OXdqPro_vEA_D2-J_3hMWxkMCdwSDdGNwgikTg3VkcIIpFYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-12-29_11-33-01__aca59a8e-0b54-4832-92b4-66b13e92fcdb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.255.54
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8839', '8840', '8841', '8842', '8843']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8839:8839 -p 8840:8840 -p 8841:8841 -p 8842:8842 -p 8843:8843 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8841 --rest-port=8839 --tcp-port=8840 --discv5-udp-port=8842 --rest-address=0.0.0.0 --nat=extip:172.18.255.54 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1e48b30a56ed77921a1c313239edbc08daaa298d1d1eaffd54d63daeabd011f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8843 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QOCAq-rJc5HdEkOV_GyMoqtb_cqdPlZxTywK8xg--q4kNUBeHqU-dBhBShngHixlsJRik2JYNrtJKpxgkvYg2BYCgmlkgnY0gmlwhKwSUjaKbXVsdGlhZGRyc5YACASsElI2BikTAAoErBJSNgYpFN0DgnJzhQADAQAAiXNlY3AyNTZrMaECpQv-KPZBsw2kqg2OXdqPro_vEA_D2-J_3hMWxkMCdwSDdGNwgikTg3VkcIIpFYV3YWt1MgM --storenode=/ip4/172.18.82.54/tcp/10515/p2p/16Uiu2HAm6XwrdycefgvysWhuBz4QV5rBDcuPnSpZGUkp2gcAZVe3 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.255.54 waku 0f1955ff51c9c509f02b38b4ed2e652046769e8b88a40e6f43c9fb0685c897ff
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0f1955ff51c9. Setting up logs at ./log/docker/store_node1_2024-12-29_11-33-01__aca59a8e-0b54-4832-92b4-66b13e92fcdb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 8839
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8839/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8839/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.255.54/tcp/8840/p2p/16Uiu2HAmCDgTAYD5V8ujTX6yy6SJsWuM5kMXEPVdUrdF51KdPNW7","/ip4/172.18.255.54/tcp/8841/ws/p2p/16Uiu2HAmCDgTAYD5V8ujTX6yy6SJsWuM5kMXEPVdUrdF51KdPNW7"],"enrUri":"enr:-L24QLOBy0oU8w3nKNsOZ-aGQ3VyjX4I36lWjXuMudCV0n5geehF7fzzq8Gpz0d__IASowMAuxt7kw4hKo1OeRxcb1kCgmlkgnY0gmlwhKwS_zaKbXVsdGlhZGRyc5YACASsEv82BiKIAAoErBL_NgYiid0DgnJzhQADAQAAiXNlY3AyNTZrMaEC-YQ93KoBcmcMoKKUZS96ULkC7f1IcP_d2a_zWi98sXyDdGNwgiKIg3VkcIIiioV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8839/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.82.54/tcp/10515/p2p/16Uiu2HAm6XwrdycefgvysWhuBz4QV5rBDcuPnSpZGUkp2gcAZVe3"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10514/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8839/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10514/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"U6jt9hwHQBCvXpa3MPF/Q3pBZpVRlmnYTfsQDWjp0jw="},{"messageHash":"V1Wn8g9jgjo+eWEKZ+p4ll6nz9EvJrRlmgn9FkTo9Hw="},{"messageHash":"84fxdgS1mUrFwTLQ6yTOyY/WGkK1GtjXN9l+mFiwd0s="},{"messageHash":"Ad6X1qlMETYZRLeHb/GR/DjyNImQddbjlYWbj9q8Pkg="},{"messageHash":"/CGmll+tg4N/us56sWoouvxnoHXgdxv6Gq00SUZjcgg="}],"paginationCursor":"U6jt9hwHQBCvXpa3MPF/Q3pBZpVRlmnYTfsQDWjp0jw="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8839/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"U6jt9hwHQBCvXpa3MPF/Q3pBZpVRlmnYTfsQDWjp0jw="},{"messageHash":"V1Wn8g9jgjo+eWEKZ+p4ll6nz9EvJrRlmgn9FkTo9Hw="},{"messageHash":"84fxdgS1mUrFwTLQ6yTOyY/WGkK1GtjXN9l+mFiwd0s="},{"messageHash":"Ad6X1qlMETYZRLeHb/GR/DjyNImQddbjlYWbj9q8Pkg="},{"messageHash":"/CGmll+tg4N/us56sWoouvxnoHXgdxv6Gq00SUZjcgg="}],"paginationCursor":"U6jt9hwHQBCvXpa3MPF/Q3pBZpVRlmnYTfsQDWjp0jw="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3617e19cd159
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0f1955ff51c9
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3617e19cd159. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.