[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-29_11-30-16__8c75f22b-dcf6-4935-8af4-6808b449ea79
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-29_11-30-16__8c75f22b-dcf6-4935-8af4-6808b449ea79__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.110.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3969', '3970', '3971', '3972', '3973']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3969:3969 -p 3970:3970 -p 3971:3971 -p 3972:3972 -p 3973:3973 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3971 --rest-port=3969 --tcp-port=3970 --discv5-udp-port=3972 --rest-address=0.0.0.0 --nat=extip:172.18.110.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe01e62becefdc0cf2d9fc6304e0ddae4a910cb5a1b1fb1d7ae2144560dac04c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3973 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.110.120 waku 443ca5cef83fa7eb47ac945e6807b9afe907cf5fbfdcc7419785607424e4b1cb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 443ca5cef83f. Setting up logs at ./log/docker/node1_2024-12-29_11-30-16__8c75f22b-dcf6-4935-8af4-6808b449ea79__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3969
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1430725deeff. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3969/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3969/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.110.120/tcp/3970/p2p/16Uiu2HAmPDb3g7CZXaiSAA4bv5nyRQQ9FJpnwGeoSMgjrcZKhx17","/ip4/172.18.110.120/tcp/3971/ws/p2p/16Uiu2HAmPDb3g7CZXaiSAA4bv5nyRQQ9FJpnwGeoSMgjrcZKhx17"],"enrUri":"enr:-L24QITo0KEdl2PsGQQ25uhJqB6FqKEXjjFMEuC-MIEEMVPbTOStLs7rct19Vj8xLdVoj345fBOudv4BpUhJH-ycLZkCgmlkgnY0gmlwhKwSbniKbXVsdGlhZGRyc5YACASsEm54Bg-CAAoErBJueAYPg90DgnJzhQADAQAAiXNlY3AyNTZrMaEDnO6vtrHS1J3cS5HxVK3dcNn90SEOMiPmco5hn4wKHWKDdGNwgg-Cg3VkcIIPhIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-29_11-30-16__8c75f22b-dcf6-4935-8af4-6808b449ea79__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.47.245
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7474', '7475', '7476', '7477', '7478']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7474:7474 -p 7475:7475 -p 7476:7476 -p 7477:7477 -p 7478:7478 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7476 --rest-port=7474 --tcp-port=7475 --discv5-udp-port=7477 --rest-address=0.0.0.0 --nat=extip:172.18.47.245 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7152b6bf2fa05dea61e71339a7a73d3f9e48dcb9ddbe4d2373ddf8c5d0aec559 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7478 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QITo0KEdl2PsGQQ25uhJqB6FqKEXjjFMEuC-MIEEMVPbTOStLs7rct19Vj8xLdVoj345fBOudv4BpUhJH-ycLZkCgmlkgnY0gmlwhKwSbniKbXVsdGlhZGRyc5YACASsEm54Bg-CAAoErBJueAYPg90DgnJzhQADAQAAiXNlY3AyNTZrMaEDnO6vtrHS1J3cS5HxVK3dcNn90SEOMiPmco5hn4wKHWKDdGNwgg-Cg3VkcIIPhIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.47.245 waku 3703f7b78370d8238799154744da8fa1658a572f216e884f95f471fd435437d3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3703f7b78370. Setting up logs at ./log/docker/node2_2024-12-29_11-30-16__8c75f22b-dcf6-4935-8af4-6808b449ea79__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7474
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7474/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7474/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.47.245/tcp/7475/p2p/16Uiu2HAm3B4Xz3tKykNiK7iCSsGZHWoLr9dwtM4wEjd6xXcFGgKz","/ip4/172.18.47.245/tcp/7476/ws/p2p/16Uiu2HAm3B4Xz3tKykNiK7iCSsGZHWoLr9dwtM4wEjd6xXcFGgKz"],"enrUri":"enr:-L24QMPKR6MhBqmUoCvwPfxPuxC-zX5o1v_cmtY8JUCI4Dc3ZnGBafOIaeddwTLYmNKEfVTxiP_Bo0AQat-UnqEPwu8CgmlkgnY0gmlwhKwSL_WKbXVsdGlhZGRyc5YACASsEi_1Bh0zAAoErBIv9QYdNN0DgnJzhQADAQAAiXNlY3AyNTZrMaECcx9JS8QZmxfQZHNukntOSryDymLxpdVRKidlZIuOkuGDdGNwgh0zg3VkcIIdNYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7474/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.110.120/tcp/3970/p2p/16Uiu2HAmPDb3g7CZXaiSAA4bv5nyRQQ9FJpnwGeoSMgjrcZKhx17"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-29_11-30-16__8c75f22b-dcf6-4935-8af4-6808b449ea79__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.9.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23028', '23029', '23030', '23031', '23032']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23028:23028 -p 23029:23029 -p 23030:23030 -p 23031:23031 -p 23032:23032 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23030 --rest-port=23028 --tcp-port=23029 --discv5-udp-port=23031 --rest-address=0.0.0.0 --nat=extip:172.18.9.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef00557ad3fdbb52f6d8b87fa0b0cc5bbfccd27dbc55feaafe9dac5debb2e5d9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23032 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QITo0KEdl2PsGQQ25uhJqB6FqKEXjjFMEuC-MIEEMVPbTOStLs7rct19Vj8xLdVoj345fBOudv4BpUhJH-ycLZkCgmlkgnY0gmlwhKwSbniKbXVsdGlhZGRyc5YACASsEm54Bg-CAAoErBJueAYPg90DgnJzhQADAQAAiXNlY3AyNTZrMaEDnO6vtrHS1J3cS5HxVK3dcNn90SEOMiPmco5hn4wKHWKDdGNwgg-Cg3VkcIIPhIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.9.225 waku f11e08e834501339f17c257d304730f60c6f6fd866ba6273275504a464c58763
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f11e08e83450. Setting up logs at ./log/docker/node3_2024-12-29_11-30-16__8c75f22b-dcf6-4935-8af4-6808b449ea79__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 23028
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23028/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23028/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.225/tcp/23029/p2p/16Uiu2HAmUCqqm7iYPgCv5Wopj7tTzqQeeQF5hDGDS1wLgE2c6rPK","/ip4/172.18.9.225/tcp/23030/ws/p2p/16Uiu2HAmUCqqm7iYPgCv5Wopj7tTzqQeeQF5hDGDS1wLgE2c6rPK"],"enrUri":"enr:-L24QCmN-5dAhG1yzqgU58UfNcCx3XPU1-IQZAVZVEr3YPyMaiMNPb2P4gjEgeKcToKneJuo2lFEyGsHchcgFLjn-cUCgmlkgnY0gmlwhKwSCeGKbXVsdGlhZGRyc5YACASsEgnhBln1AAoErBIJ4QZZ9t0DgnJzhQADAQAAiXNlY3AyNTZrMaED5whEvJ7UXnVL2IjVn04NvR6ds5_cN-SP-xn3Xi7s7EqDdGNwgln1g3VkcIJZ94V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23028/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.110.120/tcp/3970/p2p/16Uiu2HAmPDb3g7CZXaiSAA4bv5nyRQQ9FJpnwGeoSMgjrcZKhx17"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-29_11-30-16__8c75f22b-dcf6-4935-8af4-6808b449ea79__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.139.164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46461', '46462', '46463', '46464', '46465']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46461:46461 -p 46462:46462 -p 46463:46463 -p 46464:46464 -p 46465:46465 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46463 --rest-port=46461 --tcp-port=46462 --discv5-udp-port=46464 --rest-address=0.0.0.0 --nat=extip:172.18.139.164 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcc4ed9fbd9ef6976ec50eeffd87ed25b257ba5ec10e59efbbfc9abeaf8ca9eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46465 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QITo0KEdl2PsGQQ25uhJqB6FqKEXjjFMEuC-MIEEMVPbTOStLs7rct19Vj8xLdVoj345fBOudv4BpUhJH-ycLZkCgmlkgnY0gmlwhKwSbniKbXVsdGlhZGRyc5YACASsEm54Bg-CAAoErBJueAYPg90DgnJzhQADAQAAiXNlY3AyNTZrMaEDnO6vtrHS1J3cS5HxVK3dcNn90SEOMiPmco5hn4wKHWKDdGNwgg-Cg3VkcIIPhIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.139.164 waku 2013672a5a79e52f5551173d97b60751626416af3ee97756d38846fb6eb71002
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2013672a5a79. Setting up logs at ./log/docker/node4_2024-12-29_11-30-16__8c75f22b-dcf6-4935-8af4-6808b449ea79__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 46461
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46461/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46461/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.139.164/tcp/46462/p2p/16Uiu2HAm2rSnf8W7KCztoTdzbjWyP1Qsd8kExCvRhztfuJkUr3CF","/ip4/172.18.139.164/tcp/46463/ws/p2p/16Uiu2HAm2rSnf8W7KCztoTdzbjWyP1Qsd8kExCvRhztfuJkUr3CF"],"enrUri":"enr:-L24QCBN1UkSrAMthehGfyQWGofA0UjR6BSdIls-QeoqAD8HRO_bH7FNbrRg6bKyLbhGqZC2oUKBGhM_WFN0lOYoD1UCgmlkgnY0gmlwhKwSi6SKbXVsdGlhZGRyc5YACASsEoukBrV-AAoErBKLpAa1f90DgnJzhQADAQAAiXNlY3AyNTZrMaECblppmH2UUIUdr9PMR_a2hB3OdEVOCvAlbdRdH4E0RUyDdGNwgrV-g3VkcIK1gIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46461/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.110.120/tcp/3970/p2p/16Uiu2HAmPDb3g7CZXaiSAA4bv5nyRQQ9FJpnwGeoSMgjrcZKhx17"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-29_11-30-16__8c75f22b-dcf6-4935-8af4-6808b449ea79__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.76.103
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3070', '3071', '3072', '3073', '3074']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3070:3070 -p 3071:3071 -p 3072:3072 -p 3073:3073 -p 3074:3074 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3072 --rest-port=3070 --tcp-port=3071 --discv5-udp-port=3073 --rest-address=0.0.0.0 --nat=extip:172.18.76.103 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=37e28aabf2ab921db09fb1a62cc0ab4fc2ed3d4ec7317f9e8beedad7bd52b088 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3074 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QITo0KEdl2PsGQQ25uhJqB6FqKEXjjFMEuC-MIEEMVPbTOStLs7rct19Vj8xLdVoj345fBOudv4BpUhJH-ycLZkCgmlkgnY0gmlwhKwSbniKbXVsdGlhZGRyc5YACASsEm54Bg-CAAoErBJueAYPg90DgnJzhQADAQAAiXNlY3AyNTZrMaEDnO6vtrHS1J3cS5HxVK3dcNn90SEOMiPmco5hn4wKHWKDdGNwgg-Cg3VkcIIPhIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.76.103 waku 2f46add76b05f0e8e836d7eb2b8b53d53697401962f5c6ad6f737a780dc1b958
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2f46add76b05. Setting up logs at ./log/docker/node5_2024-12-29_11-30-16__8c75f22b-dcf6-4935-8af4-6808b449ea79__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3070
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3070/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3070/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.103/tcp/3071/p2p/16Uiu2HAkwNT9cQz5CpaLhvrsenk5RyvDqGu3LbeskU4GGweqgXT3","/ip4/172.18.76.103/tcp/3072/ws/p2p/16Uiu2HAkwNT9cQz5CpaLhvrsenk5RyvDqGu3LbeskU4GGweqgXT3"],"enrUri":"enr:-L24QMxeYs-sXxw0u6cIivNaBgj8ycF3HL-R3m6CO8KlAvyWMTwpXY4tl1cFdGr0PDCSu9UkmdkiiUiZHwEZpOUSHiICgmlkgnY0gmlwhKwSTGeKbXVsdGlhZGRyc5YACASsEkxnBgv_AAoErBJMZwYMAN0DgnJzhQADAQAAiXNlY3AyNTZrMaECHOQfqUygGybcOBNurDSM9jcXwhM6iL3Me6VMOWrBD1aDdGNwggv_g3VkcIIMAYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3070/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.110.120/tcp/3970/p2p/16Uiu2HAmPDb3g7CZXaiSAA4bv5nyRQQ9FJpnwGeoSMgjrcZKhx17"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3969/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7474/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23028/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46461/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3070/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3969/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3969/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735471822498258176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7474/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735471822498258176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23028/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735471822498258176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735471822498258176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3070/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735471822498258176,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3969/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3969/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735471822629211136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7474/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735471822629211136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23028/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735471822629211136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735471822629211136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3070/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735471822629211136,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 443ca5cef83f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3703f7b78370
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f11e08e83450
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 443ca5cef83f. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3703f7b78370. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2013672a5a79
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f11e08e83450. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2f46add76b05
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2013672a5a79. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.