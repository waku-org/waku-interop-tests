{"uid":"98fef4231522d55","name":"test_2_nodes_different_cluster_different_shard","fullName":"tests.sharding.test_running_nodes_static_sharding.TestRunningNodesStaticSharding#test_2_nodes_different_cluster_different_shard","historyId":"933f2c09f6501f410bcfbbae28d248cf","time":{"start":1739678770702,"stop":1739678773450,"duration":2748},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1739678616146,"stop":1739678616146,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1739678770700,"stop":1739678770700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1739678770700,"stop":1739678770700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1739678770700,"stop":1739678770700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1739678770700,"stop":1739678770700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1739678770700,"stop":1739678770701,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1739678770701,"stop":1739678770701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1739678770701,"stop":1739678770701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sharding_setup","time":{"start":1739678770701,"stop":1739678770701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"setup_first_relay_node_with_filter","time":{"start":1739678770702,"stop":1739678771985,"duration":1283},"status":"passed","steps":[{"name":"setup_first_relay_node","time":{"start":1739678770702,"stop":1739678771985,"duration":1283},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"filter","value":"'true'"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_second_relay_node","time":{"start":1739678771985,"stop":1739678773316,"duration":1331},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1739678773291,"stop":1739678773316,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.sharding.test_running_nodes_static_sharding.TestRunningNodesStaticSharding object at 0x7f55332ff770>, <src.node.waku_node.WakuNode object at 0x7f5531dfe660>, ['/ip4/172.18.215.224/tcp/13649/p2p/16Uiu2HAmPdF8X3gu3UdfrbUfY3wzzrTkMnJZBsTwcGKjL1PSeJ2i'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/4/1'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_first_relay_node","time":{"start":1739678773317,"stop":1739678773326,"duration":9},"status":"passed","steps":[{"name":"subscribe_relay_node","time":{"start":1739678773318,"stop":1739678773326,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f5531dfc9e0>"},{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_second_relay_node","time":{"start":1739678773326,"stop":1739678773334,"duration":8},"status":"passed","steps":[{"name":"subscribe_relay_node","time":{"start":1739678773327,"stop":1739678773334,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f5531dfe660>"},{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/4/1']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/4/1']"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1739678773334,"stop":1739678773449,"duration":115},"status":"broken","statusMessage":"Exception: Error: 404 Client Error: Not Found for url: http://127.0.0.1:42854/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0 with response: b''\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/sharding.py\", line 158, in check_published_message_reaches_relay_peer\n    get_messages_response = self.retrieve_relay_message(peer, content_topic, pubsub_topic)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/sharding.py\", line 142, in retrieve_relay_message\n    return node.get_relay_messages(pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 352, in get_relay_messages\n    return self._api.get_relay_messages(pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 60, in get_relay_messages\n    get_messages_response = self.rest_call(\"get\", f\"relay/v1/messages/{quote(pubsub_topic, safe='')}\")\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_message","time":{"start":1739678773334,"stop":1739678773334,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_message","time":{"start":1739678773334,"stop":1739678773342,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f5531dfc9e0>"},{"name":"message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1739678773334376448}"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1739678773442,"stop":1739678773445,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f5531dfc9e0>"},{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1739678773446,"stop":1739678773446,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1739678773334376448}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1739678773447,"stop":1739678773449,"duration":2},"status":"broken","statusMessage":"Exception: Error: 404 Client Error: Not Found for url: http://127.0.0.1:42854/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0 with response: b''\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/sharding.py\", line 142, in retrieve_relay_message\n    return node.get_relay_messages(pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 352, in get_relay_messages\n    return self._api.get_relay_messages(pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 60, in get_relay_messages\n    get_messages_response = self.rest_call(\"get\", f\"relay/v1/messages/{quote(pubsub_topic, safe='')}\")\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f5531dfe660>"},{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8c130231ad01dc18","name":"log","source":"8c130231ad01dc18.txt","type":"text/plain","size":12099},{"uid":"86ef3f5188502ece","name":"stderr","source":"86ef3f5188502ece.txt","type":"text/plain","size":11753}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":14,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1739678773451,"stop":1739678773451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1739678773452,"stop":1739678775925,"duration":2473},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1739678775926,"stop":1739678775941,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1739678775941,"stop":1739678775941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1739678858570,"stop":1739678858570,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.sharding"},{"name":"suite","value":"test_running_nodes_static_sharding"},{"name":"subSuite","value":"TestRunningNodesStaticSharding"},{"name":"host","value":"fv-az1979-234"},{"name":"thread","value":"1964-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.sharding.test_running_nodes_static_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":18,"unknown":0,"total":18},"items":[{"uid":"7a4cc9395a6fdbc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/652//#testresult/7a4cc9395a6fdbc","status":"passed","time":{"start":1739592298129,"stop":1739592300884,"duration":2755}},{"uid":"dd185244c0ab9d78","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/651//#testresult/dd185244c0ab9d78","status":"passed","time":{"start":1739505892530,"stop":1739505895295,"duration":2765}},{"uid":"8ffafb7d970aa434","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/650//#testresult/8ffafb7d970aa434","status":"passed","time":{"start":1739419500511,"stop":1739419503279,"duration":2768}},{"uid":"9ed7c5228af9395f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/649//#testresult/9ed7c5228af9395f","status":"passed","time":{"start":1739333098392,"stop":1739333101155,"duration":2763}},{"uid":"2e502e97e66f182","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/648//#testresult/2e502e97e66f182","status":"passed","time":{"start":1739286296068,"stop":1739286298839,"duration":2771}},{"uid":"e37b3eebccb90e5f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/647//#testresult/e37b3eebccb90e5f","status":"passed","time":{"start":1739246697778,"stop":1739246700526,"duration":2748}},{"uid":"1e66167dfa9e2a11","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/646//#testresult/1e66167dfa9e2a11","status":"passed","time":{"start":1739160297596,"stop":1739160300333,"duration":2737}},{"uid":"7bc5b0c49f55ed9b","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/645//#testresult/7bc5b0c49f55ed9b","status":"passed","time":{"start":1739073888187,"stop":1739073890956,"duration":2769}},{"uid":"15a617a813e807db","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/644//#testresult/15a617a813e807db","status":"passed","time":{"start":1738987577831,"stop":1738987580590,"duration":2759}},{"uid":"275a4cff1876b60b","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/643//#testresult/275a4cff1876b60b","status":"passed","time":{"start":1738901109224,"stop":1738901111996,"duration":2772}},{"uid":"33755142fe4934f3","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/642//#testresult/33755142fe4934f3","status":"passed","time":{"start":1738814707749,"stop":1738814710514,"duration":2765}},{"uid":"f7a996077afb67a1","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/641//#testresult/f7a996077afb67a1","status":"passed","time":{"start":1738728300923,"stop":1738728303702,"duration":2779}},{"uid":"1a4e25d8a002850d","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/640//#testresult/1a4e25d8a002850d","status":"passed","time":{"start":1738689065324,"stop":1738689068112,"duration":2788}},{"uid":"cee958c56287b241","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/639//#testresult/cee958c56287b241","status":"passed","time":{"start":1738641888323,"stop":1738641891075,"duration":2752}},{"uid":"20ff6165de89d0d3","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/638//#testresult/20ff6165de89d0d3","status":"passed","time":{"start":1738555500038,"stop":1738555502804,"duration":2766}},{"uid":"526d2e79c8f8a818","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/637//#testresult/526d2e79c8f8a818","status":"passed","time":{"start":1738469093181,"stop":1738469095984,"duration":2803}},{"uid":"e114e66b0383272e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/636//#testresult/e114e66b0383272e","status":"passed","time":{"start":1738382697440,"stop":1738382700164,"duration":2724}}]},"tags":[]},"source":"98fef4231522d55.json","parameterValues":[]}