2025-02-16 04:05:18.349 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:05:18.349 DEBUG [tests.conftest] Running test: test_store_is_empty with id: 2025-02-16_04-05-18__903d9bdc-7a25-41a5-a247-bb09fca40314
2025-02-16 04:05:18.350 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:05:18.350 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-16 04:05:18.350 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-16 04:05:18.358 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:18.358 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-16_04-05-18__903d9bdc-7a25-41a5-a247-bb09fca40314__wakuorg_nwaku:latest.log
2025-02-16 04:05:18.358 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:18.358 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:18.360 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:18.360 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.216.25
2025-02-16 04:05:18.360 DEBUG [src.node.docker_mananger] Generated ports ['38620', '38621', '38622', '38623', '38624']
2025-02-16 04:05:18.360 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:18.360 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:18.360 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:18.360 DEBUG [src.node.docker_mananger] docker run -i -t -p 38620:38620 -p 38621:38621 -p 38622:38622 -p 38623:38623 -p 38624:38624 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38622 --rest-port=38620 --tcp-port=38621 --discv5-udp-port=38623 --rest-address=0.0.0.0 --nat=extip:172.18.216.25 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cce6fef894a37531adba5fda06caa0b155ffc9d1acac03e4d8f178d8239f66c3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38624 --metrics-logging=true --store=true --relay=true
2025-02-16 04:05:18.619 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.216.25 waku 0a6923214fd868e26913a7d21a8843c108bb06313528500790267f21f7ea09e1
2025-02-16 04:05:18.674 DEBUG [src.node.docker_mananger] Container started with ID 0a6923214fd8. Setting up logs at ./log/docker/publishing_node1_2025-02-16_04-05-18__903d9bdc-7a25-41a5-a247-bb09fca40314__wakuorg_nwaku:latest.log
2025-02-16 04:05:18.675 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 38620
2025-02-16 04:05:18.675 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:19.149 ERROR [src.node.docker_mananger] Max retries reached for container 8237bc288fde. Exiting log stream.
2025-02-16 04:05:19.676 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38620/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:19.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:19.679 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:19.679 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38620/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:19.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.25/tcp/38621/p2p/16Uiu2HAmKoF1BGSxyEcd3gfCEVnWRyjEJqq8PZYQxfxN2K3pvzC6","/ip4/172.18.216.25/tcp/38622/ws/p2p/16Uiu2HAmKoF1BGSxyEcd3gfCEVnWRyjEJqq8PZYQxfxN2K3pvzC6"],"enrUri":"enr:-L24QAW1oKHJSznOvFuxxQxfbXFZP60PFSwaU2AuUIVvLxDoKA7FLZuSaQn9-8LYAkujRsoPp_C3CTwsWhCCEI83h_YCgmlkgnY0gmlwhKwS2BmKbXVsdGlhZGRyc5YACASsEtgZBpbdAAoErBLYGQaW3t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDah8F_28pjf5NZgXDODnE9Oceb3M0AAaGUsMvpmZmcP-DdGNwgpbdg3VkcIKW34V3YWt1MgM"}'
2025-02-16 04:05:19.681 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:19.688 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:19.688 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-16_04-05-18__903d9bdc-7a25-41a5-a247-bb09fca40314__wakuorg_nwaku:latest.log
2025-02-16 04:05:19.688 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:19.688 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:19.690 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:19.690 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.180.107
2025-02-16 04:05:19.690 DEBUG [src.node.docker_mananger] Generated ports ['17661', '17662', '17663', '17664', '17665']
2025-02-16 04:05:19.690 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:19.690 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:19.691 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:19.691 DEBUG [src.node.docker_mananger] docker run -i -t -p 17661:17661 -p 17662:17662 -p 17663:17663 -p 17664:17664 -p 17665:17665 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17663 --rest-port=17661 --tcp-port=17662 --discv5-udp-port=17664 --rest-address=0.0.0.0 --nat=extip:172.18.180.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e68d62998ded47bb4bedefd4f94dfac7ac6e6c20b61cbcc9d816ddac2a4cda28 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17665 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QAW1oKHJSznOvFuxxQxfbXFZP60PFSwaU2AuUIVvLxDoKA7FLZuSaQn9-8LYAkujRsoPp_C3CTwsWhCCEI83h_YCgmlkgnY0gmlwhKwS2BmKbXVsdGlhZGRyc5YACASsEtgZBpbdAAoErBLYGQaW3t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDah8F_28pjf5NZgXDODnE9Oceb3M0AAaGUsMvpmZmcP-DdGNwgpbdg3VkcIKW34V3YWt1MgM --storenode=/ip4/172.18.216.25/tcp/38621/p2p/16Uiu2HAmKoF1BGSxyEcd3gfCEVnWRyjEJqq8PZYQxfxN2K3pvzC6 --store=true --relay=true
2025-02-16 04:05:19.920 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.180.107 waku e45e05b9cd9001862f63ee53e7660095df75a755d4c97ff10d039ddec0e99a88
2025-02-16 04:05:19.968 DEBUG [src.node.docker_mananger] Container started with ID e45e05b9cd90. Setting up logs at ./log/docker/store_node1_2025-02-16_04-05-18__903d9bdc-7a25-41a5-a247-bb09fca40314__wakuorg_nwaku:latest.log
2025-02-16 04:05:19.969 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17661
2025-02-16 04:05:19.970 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:20.970 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17661/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:20.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:20.973 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:20.973 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17661/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:20.976 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.180.107/tcp/17662/p2p/16Uiu2HAmAjkHst4npHZTabuRaiTGT5DDrrMFN92av9EKKrFbpmz3","/ip4/172.18.180.107/tcp/17663/ws/p2p/16Uiu2HAmAjkHst4npHZTabuRaiTGT5DDrrMFN92av9EKKrFbpmz3"],"enrUri":"enr:-L24QGXdogBj5xKIc6S4QP1y4ZEVQ-ZxS8pNwvM9fTUyU9I1KcYKeMJvkNninuJAbUE_ghtMM4dfznxmXt9TtEI9ed0CgmlkgnY0gmlwhKwStGuKbXVsdGlhZGRyc5YACASsErRrBkT-AAoErBK0awZE_90DgnJzhQADAQAAiXNlY3AyNTZrMaEC44CiQqOUETYMeSnrfVrMoOmEwgZNdxP3jZy_5TdEkpSDdGNwgkT-g3VkcIJFAIV3YWt1MgM"}'
2025-02-16 04:05:20.976 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:20.976 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17661/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.25/tcp/38621/p2p/16Uiu2HAmKoF1BGSxyEcd3gfCEVnWRyjEJqq8PZYQxfxN2K3pvzC6"]'
2025-02-16 04:05:20.979 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:20.979 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38620/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-16 04:05:20.981 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:20.981 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17661/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-16 04:05:20.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:20.984 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38620/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:20.987 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2025-02-16 04:05:20.987 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17661/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:20.990 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2025-02-16 04:05:20.991 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:05:20.992 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:05:20.992 DEBUG [src.node.waku_node] Stopping container with id 0a6923214fd8
2025-02-16 04:05:22.192 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:22.192 DEBUG [src.node.waku_node] Stopping container with id e45e05b9cd90
2025-02-16 04:05:23.019 ERROR [src.node.docker_mananger] Max retries reached for container 0a6923214fd8. Exiting log stream.
2025-02-16 04:05:23.698 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:23.699 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:05:23.709 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:05:23.716 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
