[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publishing_node_paused_and_unpaused with id: 2025-02-16_04-07-19__1e7f80e3-4736-4a4c-854e-a8e2eefb8447
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-16_04-07-19__1e7f80e3-4736-4a4c-854e-a8e2eefb8447__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.45.63
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53446', '53447', '53448', '53449', '53450']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53446:53446 -p 53447:53447 -p 53448:53448 -p 53449:53449 -p 53450:53450 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53448 --rest-port=53446 --tcp-port=53447 --discv5-udp-port=53449 --rest-address=0.0.0.0 --nat=extip:172.18.45.63 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7482a4dd3cfcb1a3c2b8ec0bc8f8ce310e1defa9cc8c91eadbc17cdb07a0d80c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53450 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.102.112
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22475', '22476', '22477', '22478', '22479']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22475:22475 -p 22476:22476 -p 22477:22477 -p 22478:22478 -p 22479:22479 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22477 --rest-port=22475 --tcp-port=22476 --discv5-udp-port=22478 --rest-address=0.0.0.0 --nat=extip:172.18.102.112 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3d521eec92822a7dc5fbebe5cc2c52d0b7dccd8d1c8ad33fc37eb2eadbbf4a6a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22479 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.102.112 waku 49d024337d33a25b0d0ac4b98b058bc2fde313b65cfb4d946e15de1fbab0935a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 49d024337d33. Setting up logs at ./log/docker/publishing_node1_2025-02-16_04-07-19__1e7f80e3-4736-4a4c-854e-a8e2eefb8447__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 22475
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fcdcd95949f7. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22475/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22475/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.112/tcp/22476/p2p/16Uiu2HAmVhGcQwmwpZE5vJVxwevMtqk6MZ66eZHUWhcNXZWXuk7y","/ip4/172.18.102.112/tcp/22477/ws/p2p/16Uiu2HAmVhGcQwmwpZE5vJVxwevMtqk6MZ66eZHUWhcNXZWXuk7y"],"enrUri":"enr:-L24QNUXwsU7XL_UeD26DQWEzMe5rzrxmpOiopA_QY4sHZ6JISeowBok6GKFeVrTYhhCvackASXB8x2BSppzsJvrd9oCgmlkgnY0gmlwhKwSZnCKbXVsdGlhZGRyc5YACASsEmZwBlfMAAoErBJmcAZXzd0DgnJzhQADAQAAiXNlY3AyNTZrMaED_Sw5t8FtuYqZvJNhzEk0tTQxITOeJSsf2VzrkKOQX8CDdGNwglfMg3VkcIJXzoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-16_04-07-19__1e7f80e3-4736-4a4c-854e-a8e2eefb8447__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.208.148
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29698', '29699', '29700', '29701', '29702']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29698:29698 -p 29699:29699 -p 29700:29700 -p 29701:29701 -p 29702:29702 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29700 --rest-port=29698 --tcp-port=29699 --discv5-udp-port=29701 --rest-address=0.0.0.0 --nat=extip:172.18.208.148 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b0db0f91e0f4f07f16b9ceacf0d0c9e7d340b1c0db23a5b517e6afef1ed60a2c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29702 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QNUXwsU7XL_UeD26DQWEzMe5rzrxmpOiopA_QY4sHZ6JISeowBok6GKFeVrTYhhCvackASXB8x2BSppzsJvrd9oCgmlkgnY0gmlwhKwSZnCKbXVsdGlhZGRyc5YACASsEmZwBlfMAAoErBJmcAZXzd0DgnJzhQADAQAAiXNlY3AyNTZrMaED_Sw5t8FtuYqZvJNhzEk0tTQxITOeJSsf2VzrkKOQX8CDdGNwglfMg3VkcIJXzoV3YWt1MgM --storenode=/ip4/172.18.102.112/tcp/22476/p2p/16Uiu2HAmVhGcQwmwpZE5vJVxwevMtqk6MZ66eZHUWhcNXZWXuk7y --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.208.148 waku aad4846458396be9aa41113c187a66958e256679073c0e5054ca9333ea730b7a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID aad484645839. Setting up logs at ./log/docker/store_node1_2025-02-16_04-07-19__1e7f80e3-4736-4a4c-854e-a8e2eefb8447__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29698
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29698/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29698/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.208.148/tcp/29699/p2p/16Uiu2HAmPuZeFkjjaP59ALWcc7TCLPsKdLc8vnnWCCxnCuPSRrnx","/ip4/172.18.208.148/tcp/29700/ws/p2p/16Uiu2HAmPuZeFkjjaP59ALWcc7TCLPsKdLc8vnnWCCxnCuPSRrnx"],"enrUri":"enr:-L24QPSQJfV9tfcdnNmEUxaPB6lXd5hJ-UZ0BRWcRNm7I0rMWpudluW9GkWr1gSygnUivi9-Z4lpChruyqu88Ev4lxoCgmlkgnY0gmlwhKwS0JSKbXVsdGlhZGRyc5YACASsEtCUBnQDAAoErBLQlAZ0BN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpyxU22k8EJ47AyB-tlD1DlVmWULM1Fd5wKZ8E_n8k92DdGNwgnQDg3VkcIJ0BYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29698/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.112/tcp/22476/p2p/16Uiu2HAmVhGcQwmwpZE5vJVxwevMtqk6MZ66eZHUWhcNXZWXuk7y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22475/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29698/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22475/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22475/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x57ccc30e423063a452cedcf910e8f73bd5f1ff6b9b5470ba9c78db45e39c2726"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29698/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x57ccc30e423063a452cedcf910e8f73bd5f1ff6b9b5470ba9c78db45e39c2726"}]}'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:254 Pausing container with id 49d024337d33
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:259 Unpause container with id 49d024337d33
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22475/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22475/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.112/tcp/22476/p2p/16Uiu2HAmVhGcQwmwpZE5vJVxwevMtqk6MZ66eZHUWhcNXZWXuk7y","/ip4/172.18.102.112/tcp/22477/ws/p2p/16Uiu2HAmVhGcQwmwpZE5vJVxwevMtqk6MZ66eZHUWhcNXZWXuk7y"],"enrUri":"enr:-L24QNUXwsU7XL_UeD26DQWEzMe5rzrxmpOiopA_QY4sHZ6JISeowBok6GKFeVrTYhhCvackASXB8x2BSppzsJvrd9oCgmlkgnY0gmlwhKwSZnCKbXVsdGlhZGRyc5YACASsEmZwBlfMAAoErBJmcAZXzd0DgnJzhQADAQAAiXNlY3AyNTZrMaED_Sw5t8FtuYqZvJNhzEk0tTQxITOeJSsf2VzrkKOQX8CDdGNwglfMg3VkcIJXzoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22475/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22475/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x57ccc30e423063a452cedcf910e8f73bd5f1ff6b9b5470ba9c78db45e39c2726"},{"messageHash":"0x985735e7af7305d42d03b6cec17f3eedfa09320e0f7bce6404b3a29be3b027e3"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29698/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x57ccc30e423063a452cedcf910e8f73bd5f1ff6b9b5470ba9c78db45e39c2726"},{"messageHash":"0x985735e7af7305d42d03b6cec17f3eedfa09320e0f7bce6404b3a29be3b027e3"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22475/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x57ccc30e423063a452cedcf910e8f73bd5f1ff6b9b5470ba9c78db45e39c2726"},{"messageHash":"0x985735e7af7305d42d03b6cec17f3eedfa09320e0f7bce6404b3a29be3b027e3"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29698/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x57ccc30e423063a452cedcf910e8f73bd5f1ff6b9b5470ba9c78db45e39c2726"},{"messageHash":"0x985735e7af7305d42d03b6cec17f3eedfa09320e0f7bce6404b3a29be3b027e3"}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 49d024337d33
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id aad484645839
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 49d024337d33. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.