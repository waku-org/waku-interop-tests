2025-02-16 04:03:05.300 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:03:05.300 DEBUG [tests.conftest] Running test: test_filter_ping_on_peer_without_subscription with id: 2025-02-16_04-03-05__481e8794-887d-4266-b587-51b2e365ed2e
2025-02-16 04:03:05.300 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:03:05.301 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-16 04:03:05.301 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-16 04:03:05.306 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:03:05.307 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_04-03-05__481e8794-887d-4266-b587-51b2e365ed2e__wakuorg_nwaku:latest.log
2025-02-16 04:03:05.307 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:03:05.307 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:03:05.308 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:03:05.308 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.167.44
2025-02-16 04:03:05.308 DEBUG [src.node.docker_mananger] Generated ports ['23622', '23623', '23624', '23625', '23626']
2025-02-16 04:03:05.309 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:03:05.309 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:03:05.309 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:03:05.309 DEBUG [src.node.docker_mananger] docker run -i -t -p 23622:23622 -p 23623:23623 -p 23624:23624 -p 23625:23625 -p 23626:23626 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23624 --rest-port=23622 --tcp-port=23623 --discv5-udp-port=23625 --rest-address=0.0.0.0 --nat=extip:172.18.167.44 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aba2aaaca6f7e4bcd9ff87d2f4dca63e7acea7cdfc66ae26193bb42cafe0ebba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23626 --metrics-logging=true --relay=true --filter=true
2025-02-16 04:03:05.534 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.167.44 waku 9eed66907c81491e2ea63acd32d47d684c6a765250cfa85565010a5a57903e7a
2025-02-16 04:03:05.581 DEBUG [src.node.docker_mananger] Container started with ID 9eed66907c81. Setting up logs at ./log/docker/node1_2025-02-16_04-03-05__481e8794-887d-4266-b587-51b2e365ed2e__wakuorg_nwaku:latest.log
2025-02-16 04:03:05.582 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 23622
2025-02-16 04:03:05.582 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:03:06.081 ERROR [src.node.docker_mananger] Max retries reached for container d081ea88424e. Exiting log stream.
2025-02-16 04:03:06.584 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23622/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:03:06.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:03:06.587 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:03:06.587 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23622/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:03:06.589 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.167.44/tcp/23623/p2p/16Uiu2HAm5dNvnKJNLJL9x99h8H4jqRT6M6AQjHxzQW1htkV3KCqZ","/ip4/172.18.167.44/tcp/23624/ws/p2p/16Uiu2HAm5dNvnKJNLJL9x99h8H4jqRT6M6AQjHxzQW1htkV3KCqZ"],"enrUri":"enr:-L24QCmffhYxL_qwFJ_f0jQ-ELS_Cvd6tUdtjOsZSXDmebDaLOVXv81d1rClUUB61McyyVMm2TZ5gomHgwGOXlcIZ2oCgmlkgnY0gmlwhKwSpyyKbXVsdGlhZGRyc5YACASsEqcsBlxHAAoErBKnLAZcSN0DgnJzhQADAQAAiXNlY3AyNTZrMaECl5SO7Qcbd4CevhqJqla_kN4orx2s8mzF2ZzWIkB1EjyDdGNwglxHg3VkcIJcSYV3YWt1MgU"}'
2025-02-16 04:03:06.590 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:03:06.590 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-16 04:03:06.596 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:03:06.596 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_04-03-05__481e8794-887d-4266-b587-51b2e365ed2e__wakuorg_nwaku:latest.log
2025-02-16 04:03:06.596 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:03:06.596 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:03:06.597 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:03:06.597 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.76.183
2025-02-16 04:03:06.598 DEBUG [src.node.docker_mananger] Generated ports ['64065', '64066', '64067', '64068', '64069']
2025-02-16 04:03:06.598 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:03:06.598 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:03:06.598 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:03:06.598 DEBUG [src.node.docker_mananger] docker run -i -t -p 64065:64065 -p 64066:64066 -p 64067:64067 -p 64068:64068 -p 64069:64069 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64067 --rest-port=64065 --tcp-port=64066 --discv5-udp-port=64068 --rest-address=0.0.0.0 --nat=extip:172.18.76.183 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=04cbf468fbd4725e74dfa2ba601b2815ed80c16c99fcf64a9dec289cccb039e2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64069 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCmffhYxL_qwFJ_f0jQ-ELS_Cvd6tUdtjOsZSXDmebDaLOVXv81d1rClUUB61McyyVMm2TZ5gomHgwGOXlcIZ2oCgmlkgnY0gmlwhKwSpyyKbXVsdGlhZGRyc5YACASsEqcsBlxHAAoErBKnLAZcSN0DgnJzhQADAQAAiXNlY3AyNTZrMaECl5SO7Qcbd4CevhqJqla_kN4orx2s8mzF2ZzWIkB1EjyDdGNwglxHg3VkcIJcSYV3YWt1MgU --filternode=/ip4/172.18.167.44/tcp/23623/p2p/16Uiu2HAm5dNvnKJNLJL9x99h8H4jqRT6M6AQjHxzQW1htkV3KCqZ
2025-02-16 04:03:06.816 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.76.183 waku 3c9508b7f2cdc4dda2f18e8c2298b62114d6605a7b54e5a6b356595bd71d0dd6
2025-02-16 04:03:06.869 DEBUG [src.node.docker_mananger] Container started with ID 3c9508b7f2cd. Setting up logs at ./log/docker/node2_2025-02-16_04-03-05__481e8794-887d-4266-b587-51b2e365ed2e__wakuorg_nwaku:latest.log
2025-02-16 04:03:06.869 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64065
2025-02-16 04:03:06.869 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:03:07.870 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64065/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:03:07.872 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:03:07.873 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:03:07.873 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64065/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:03:07.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.183/tcp/64066/p2p/16Uiu2HAmLD6cVBtus7Y94PbWWXmH961UpyJ148A3pjbyEyJpjSPf","/ip4/172.18.76.183/tcp/64067/ws/p2p/16Uiu2HAmLD6cVBtus7Y94PbWWXmH961UpyJ148A3pjbyEyJpjSPf"],"enrUri":"enr:-L24QAL5gfjT37u6sfqy6xvnt1rqVgyxc73cuzlN2TVkWJivDkP3E0nuEFXobSiJCwitrh5YSLFuNAAUJru0mIhgzSwCgmlkgnY0gmlwhKwSTLeKbXVsdGlhZGRyc5YACASsEky3BvpCAAoErBJMtwb6Q90DgnJzhQADAQAAiXNlY3AyNTZrMaEDcDt5kF4K9BrZ4qBkxT_5nRkQpSP3XBbwR8E5q4x8YEaDdGNwgvpCg3VkcIL6RIV3YWt1MgA"}'
2025-02-16 04:03:07.875 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:03:07.875 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64065/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.167.44/tcp/23623/p2p/16Uiu2HAm5dNvnKJNLJL9x99h8H4jqRT6M6AQjHxzQW1htkV3KCqZ"]'
2025-02-16 04:03:07.908 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:03:07.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64065/filter/v2/subscriptions/e97d2e35-958a-4b6f-866f-a61d6cc53bab" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:03:07.936 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:64065/filter/v2/subscriptions/e97d2e35-958a-4b6f-866f-a61d6cc53bab. Response content: b'{"requestId":"e97d2e35-958a-4b6f-866f-a61d6cc53bab","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
2025-02-16 04:03:07.941 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:03:07.942 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:03:07.942 DEBUG [src.node.waku_node] Stopping container with id 9eed66907c81
2025-02-16 04:03:09.045 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:03:09.046 DEBUG [src.node.waku_node] Stopping container with id 3c9508b7f2cd
2025-02-16 04:03:09.856 ERROR [src.node.docker_mananger] Max retries reached for container 9eed66907c81. Exiting log stream.
2025-02-16 04:03:10.412 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:03:10.414 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:03:10.419 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:03:10.424 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
