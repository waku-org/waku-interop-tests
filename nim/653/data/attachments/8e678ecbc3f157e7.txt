2025-02-16 04:05:28.982 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:05:28.982 DEBUG [tests.conftest] Running test: test_filter_static_sharding_multiple_shards with id: 2025-02-16_04-05-28__f0bbd96c-9f58-458e-ae8e-0db0869026bd
2025-02-16 04:05:28.982 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:05:28.982 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-16 04:05:28.983 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-16 04:05:28.989 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:28.990 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_04-05-28__f0bbd96c-9f58-458e-ae8e-0db0869026bd__wakuorg_nwaku:latest.log
2025-02-16 04:05:28.990 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:28.990 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:28.991 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:28.991 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.238.85
2025-02-16 04:05:28.991 DEBUG [src.node.docker_mananger] Generated ports ['4972', '4973', '4974', '4975', '4976']
2025-02-16 04:05:28.992 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-16 04:05:28.992 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:28.992 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:28.992 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:28.992 DEBUG [src.node.docker_mananger] docker run -i -t -p 4972:4972 -p 4973:4973 -p 4974:4974 -p 4975:4975 -p 4976:4976 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4974 --rest-port=4972 --tcp-port=4973 --discv5-udp-port=4975 --rest-address=0.0.0.0 --nat=extip:172.18.238.85 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=c7e8cafc27ffeee3a525fe7d7adbba3ce9043d7d32b1b4ccf16cfd3dd7ccb86e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4976 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-16 04:05:29.248 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.238.85 waku e715ae4846915cc44fef44e062fd0786a224681de633f262bf432e7c076d29a1
2025-02-16 04:05:29.300 DEBUG [src.node.docker_mananger] Container started with ID e715ae484691. Setting up logs at ./log/docker/node1_2025-02-16_04-05-28__f0bbd96c-9f58-458e-ae8e-0db0869026bd__wakuorg_nwaku:latest.log
2025-02-16 04:05:29.300 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4972
2025-02-16 04:05:29.301 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:29.771 ERROR [src.node.docker_mananger] Max retries reached for container 6c3d4f6805ad. Exiting log stream.
2025-02-16 04:05:30.301 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4972/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:30.304 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:30.304 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:30.304 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4972/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:30.306 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.85/tcp/4973/p2p/16Uiu2HAmFuVMymdaMbgpGGhCPDg3PPHGkKmcPHaaxovR3EtmYKA6","/ip4/172.18.238.85/tcp/4974/ws/p2p/16Uiu2HAmFuVMymdaMbgpGGhCPDg3PPHGkKmcPHaaxovR3EtmYKA6"],"enrUri":"enr:-Mu4QDGvJ4yaK00JHPt-dDyVxCp6vXlcUhBBaQlAxxofHiRwc6bXDW9TPtLD4PZCIM414WS1Gg4G8wME8SfarQ7cz1MCgmlkgnY0gmlwhKwS7lWKbXVsdGlhZGRyc5YACASsEu5VBhNtAAoErBLuVQYTbt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMwSf73BZDqoF666bMAM1kaYFqIDnHWiLKzPB7V9HIHT4N0Y3CCE22DdWRwghNvhXdha3UyBQ"}'
2025-02-16 04:05:30.307 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:30.313 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:30.313 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_04-05-28__f0bbd96c-9f58-458e-ae8e-0db0869026bd__wakuorg_nwaku:latest.log
2025-02-16 04:05:30.314 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:30.314 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:30.315 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:30.315 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.206.166
2025-02-16 04:05:30.315 DEBUG [src.node.docker_mananger] Generated ports ['60999', '61000', '61001', '61002', '61003']
2025-02-16 04:05:30.316 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-16 04:05:30.316 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:30.316 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:30.316 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:30.316 DEBUG [src.node.docker_mananger] docker run -i -t -p 60999:60999 -p 61000:61000 -p 61001:61001 -p 61002:61002 -p 61003:61003 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61001 --rest-port=60999 --tcp-port=61000 --discv5-udp-port=61002 --rest-address=0.0.0.0 --nat=extip:172.18.206.166 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=4d7ff7be3edb07fc7bcd2bb8d79fa3aabed5b2cca86afdda9ffa292dd49ded89 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61003 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-Mu4QDGvJ4yaK00JHPt-dDyVxCp6vXlcUhBBaQlAxxofHiRwc6bXDW9TPtLD4PZCIM414WS1Gg4G8wME8SfarQ7cz1MCgmlkgnY0gmlwhKwS7lWKbXVsdGlhZGRyc5YACASsEu5VBhNtAAoErBLuVQYTbt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMwSf73BZDqoF666bMAM1kaYFqIDnHWiLKzPB7V9HIHT4N0Y3CCE22DdWRwghNvhXdha3UyBQ --filternode=/ip4/172.18.238.85/tcp/4973/p2p/16Uiu2HAmFuVMymdaMbgpGGhCPDg3PPHGkKmcPHaaxovR3EtmYKA6 --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-16 04:05:30.544 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.206.166 waku 1daf22dca9be9d2966d43e51fc4f394c9ccd1fb3070770a18864a25c0d7d3017
2025-02-16 04:05:30.589 DEBUG [src.node.docker_mananger] Container started with ID 1daf22dca9be. Setting up logs at ./log/docker/node2_2025-02-16_04-05-28__f0bbd96c-9f58-458e-ae8e-0db0869026bd__wakuorg_nwaku:latest.log
2025-02-16 04:05:30.590 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60999
2025-02-16 04:05:30.590 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:31.591 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60999/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:31.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:31.594 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:31.595 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60999/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:31.597 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.206.166/tcp/61000/p2p/16Uiu2HAmGRi5vgfNR5bhiE22sBarNbZQa4DC33HbjixCp21RBPqG","/ip4/172.18.206.166/tcp/61001/ws/p2p/16Uiu2HAmGRi5vgfNR5bhiE22sBarNbZQa4DC33HbjixCp21RBPqG"],"enrUri":"enr:-Mu4QGbQzIJwTCK64_k5rrjYmQg1TTRIlPb4PZZK3ZJNODh5Ix21lA1i4aLYxBogi8snWg_ucAg81EMA7Tn6Ox_OODICgmlkgnY0gmlwhKwSzqaKbXVsdGlhZGRyc5YACASsEs6mBu5IAAoErBLOpgbuSd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQM4B85xkocPWvjS8RxGXRFJgaN4PEbEfVfqlMTszdQz14N0Y3CC7kiDdWRwgu5KhXdha3UyAA"}'
2025-02-16 04:05:31.597 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:31.598 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60999/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.238.85/tcp/4973/p2p/16Uiu2HAmFuVMymdaMbgpGGhCPDg3PPHGkKmcPHaaxovR3EtmYKA6"]'
2025-02-16 04:05:31.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:31.639 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4972/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-16 04:05:31.657 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:31.659 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60999/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c581034d-8632-43d7-b6d9-ad478f236a3b", "contentFilters": ["/myapp/1/latest/proto"], "pubsubTopic": "/waku/2/rs/2/0"}'
2025-02-16 04:05:31.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"c581034d-8632-43d7-b6d9-ad478f236a3b","statusDesc":"OK"}'
2025-02-16 04:05:31.671 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60999/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6732d9ee-2acb-4346-93a7-51bef51d15ee", "contentFilters": ["/waku/2/content/test.js"], "pubsubTopic": "/waku/2/rs/2/1"}'
2025-02-16 04:05:31.680 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"6732d9ee-2acb-4346-93a7-51bef51d15ee","statusDesc":"OK"}'
2025-02-16 04:05:31.680 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60999/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fcc15fe8-9c49-4f74-b16d-1e69b99d25a4", "contentFilters": ["/app/22/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/2"}'
2025-02-16 04:05:31.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"fcc15fe8-9c49-4f74-b16d-1e69b99d25a4","statusDesc":"OK"}'
2025-02-16 04:05:31.689 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60999/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "76422ef2-a470-4441-b6ab-ef83d76fe8a7", "contentFilters": ["/toychat/2/huilong/proto"], "pubsubTopic": "/waku/2/rs/2/3"}'
2025-02-16 04:05:31.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"76422ef2-a470-4441-b6ab-ef83d76fe8a7","statusDesc":"OK"}'
2025-02-16 04:05:31.699 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60999/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d002a519-b575-4cc8-9d3e-c3fbf83ab6d7", "contentFilters": ["/statusim/1/community/cbor"], "pubsubTopic": "/waku/2/rs/2/4"}'
2025-02-16 04:05:31.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"d002a519-b575-4cc8-9d3e-c3fbf83ab6d7","statusDesc":"OK"}'
2025-02-16 04:05:31.708 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60999/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ea557634-d007-4a4e-b733-0909626ae6c3", "contentFilters": ["/app/27/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/5"}'
2025-02-16 04:05:31.717 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"ea557634-d007-4a4e-b733-0909626ae6c3","statusDesc":"OK"}'
2025-02-16 04:05:31.717 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60999/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a101c6e7-f7d2-46ef-81a0-33f2420fc415", "contentFilters": ["/app/29/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/6"}'
2025-02-16 04:05:31.726 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"a101c6e7-f7d2-46ef-81a0-33f2420fc415","statusDesc":"OK"}'
2025-02-16 04:05:31.726 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60999/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e27f1f11-db24-4b43-88b6-2f235ccb0c63", "contentFilters": ["/app/20/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/7"}'
2025-02-16 04:05:31.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"e27f1f11-db24-4b43-88b6-2f235ccb0c63","statusDesc":"OK"}'
2025-02-16 04:05:31.736 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:31.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:31.746 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:31.846 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:31.847 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60999/filter/v2/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:31.850 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739678731736718848,"ephemeral":false}]'
2025-02-16 04:05:31.852 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:31.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:31.858 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:31.958 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:31.959 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60999/filter/v2/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:31.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739678731852018688,"ephemeral":false}]'
2025-02-16 04:05:31.963 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:31.969 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:31.970 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:32.070 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:32.071 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60999/filter/v2/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:32.073 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739678731963747840,"ephemeral":false}]'
2025-02-16 04:05:32.075 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:32.081 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:32.081 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:32.182 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:32.182 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60999/filter/v2/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:32.185 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739678732075577856,"ephemeral":false}]'
2025-02-16 04:05:32.187 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:32.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:32.193 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:32.293 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:32.294 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60999/filter/v2/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:32.297 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739678732187241728,"ephemeral":false}]'
2025-02-16 04:05:32.298 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:32.304 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:32.304 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:32.404 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:32.405 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60999/filter/v2/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:32.408 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739678732298585856,"ephemeral":false}]'
2025-02-16 04:05:32.409 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:32.415 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:32.415 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:32.516 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:32.516 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60999/filter/v2/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:32.519 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739678732409752576,"ephemeral":false}]'
2025-02-16 04:05:32.521 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:32.527 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:32.527 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:32.627 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:32.628 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60999/filter/v2/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:32.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739678732521155840,"ephemeral":false}]'
2025-02-16 04:05:32.634 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:05:32.635 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:05:32.635 DEBUG [src.node.waku_node] Stopping container with id e715ae484691
2025-02-16 04:05:33.702 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:33.702 DEBUG [src.node.waku_node] Stopping container with id 1daf22dca9be
2025-02-16 04:05:34.515 ERROR [src.node.docker_mananger] Max retries reached for container e715ae484691. Exiting log stream.
2025-02-16 04:05:35.204 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:35.205 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:05:35.214 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:05:35.223 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
