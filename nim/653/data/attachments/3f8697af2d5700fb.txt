2025-02-16 04:04:48.745 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:04:48.745 DEBUG [tests.conftest] Running test: test_passing_invalid_cursor with id: 2025-02-16_04-04-48__46f9324e-e5e3-45bf-af64-f457954f6bd7
2025-02-16 04:04:48.746 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:04:48.746 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-16 04:04:48.746 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-16 04:04:48.752 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:04:48.752 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-16_04-04-48__46f9324e-e5e3-45bf-af64-f457954f6bd7__wakuorg_nwaku:latest.log
2025-02-16 04:04:48.752 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:04:48.752 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:04:48.754 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:04:48.754 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.114.8
2025-02-16 04:04:48.754 DEBUG [src.node.docker_mananger] Generated ports ['44282', '44283', '44284', '44285', '44286']
2025-02-16 04:04:48.754 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:04:48.754 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:04:48.754 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:04:48.754 DEBUG [src.node.docker_mananger] docker run -i -t -p 44282:44282 -p 44283:44283 -p 44284:44284 -p 44285:44285 -p 44286:44286 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44284 --rest-port=44282 --tcp-port=44283 --discv5-udp-port=44285 --rest-address=0.0.0.0 --nat=extip:172.18.114.8 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=25175f76c2d1e30f7d633ac212c23eaaad693c1f283da1baae3f9c6eacadf7ab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44286 --metrics-logging=true --store=true --relay=true
2025-02-16 04:04:48.978 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.114.8 waku a75aa4e215f9be43d9fea2b4710d94ff7daf90234c2b05a8f9b8136a8b31f9b7
2025-02-16 04:04:49.026 DEBUG [src.node.docker_mananger] Container started with ID a75aa4e215f9. Setting up logs at ./log/docker/publishing_node1_2025-02-16_04-04-48__46f9324e-e5e3-45bf-af64-f457954f6bd7__wakuorg_nwaku:latest.log
2025-02-16 04:04:49.027 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44282
2025-02-16 04:04:49.028 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:04:49.539 ERROR [src.node.docker_mananger] Max retries reached for container 78f82e538d45. Exiting log stream.
2025-02-16 04:04:50.029 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44282/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:50.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:04:50.031 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:04:50.031 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44282/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:50.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.8/tcp/44283/p2p/16Uiu2HAmSRkUJbzEPYoBPyt4Z8qY7FDKMSayfy5qpiBXCAfx8brt","/ip4/172.18.114.8/tcp/44284/ws/p2p/16Uiu2HAmSRkUJbzEPYoBPyt4Z8qY7FDKMSayfy5qpiBXCAfx8brt"],"enrUri":"enr:-L24QP-JJuZjypMsOsH40g1PE-sc9YBty-aVcyJwAbAsoHRMBtW_dm0A_jRmYpPd4gjh246g0Y9CR1eEEbJ_aRmWllkCgmlkgnY0gmlwhKwScgiKbXVsdGlhZGRyc5YACASsEnIIBqz7AAoErBJyCAas_N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzJ9fk5-gldDzq3UzTKTjxKfuHg9poyBllQddAQpKLx2DdGNwgqz7g3VkcIKs_YV3YWt1MgM"}'
2025-02-16 04:04:50.034 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:04:50.039 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:04:50.039 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-16_04-04-48__46f9324e-e5e3-45bf-af64-f457954f6bd7__wakuorg_nwaku:latest.log
2025-02-16 04:04:50.040 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:04:50.040 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:04:50.041 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:04:50.041 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.221.186
2025-02-16 04:04:50.041 DEBUG [src.node.docker_mananger] Generated ports ['26675', '26676', '26677', '26678', '26679']
2025-02-16 04:04:50.041 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:04:50.041 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:04:50.041 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:04:50.042 DEBUG [src.node.docker_mananger] docker run -i -t -p 26675:26675 -p 26676:26676 -p 26677:26677 -p 26678:26678 -p 26679:26679 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26677 --rest-port=26675 --tcp-port=26676 --discv5-udp-port=26678 --rest-address=0.0.0.0 --nat=extip:172.18.221.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ed29b8a4fbfa711bb6f9feffde13bde4dd1299b9ec13cdd73a6ac53a90fb996e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26679 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QP-JJuZjypMsOsH40g1PE-sc9YBty-aVcyJwAbAsoHRMBtW_dm0A_jRmYpPd4gjh246g0Y9CR1eEEbJ_aRmWllkCgmlkgnY0gmlwhKwScgiKbXVsdGlhZGRyc5YACASsEnIIBqz7AAoErBJyCAas_N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzJ9fk5-gldDzq3UzTKTjxKfuHg9poyBllQddAQpKLx2DdGNwgqz7g3VkcIKs_YV3YWt1MgM --storenode=/ip4/172.18.114.8/tcp/44283/p2p/16Uiu2HAmSRkUJbzEPYoBPyt4Z8qY7FDKMSayfy5qpiBXCAfx8brt --store=true --relay=true
2025-02-16 04:04:50.252 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.221.186 waku 32a02335854a611cadb052734f9b264756cdb30fde2b52a8643e94ca249749f1
2025-02-16 04:04:50.300 DEBUG [src.node.docker_mananger] Container started with ID 32a02335854a. Setting up logs at ./log/docker/store_node1_2025-02-16_04-04-48__46f9324e-e5e3-45bf-af64-f457954f6bd7__wakuorg_nwaku:latest.log
2025-02-16 04:04:50.301 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 26675
2025-02-16 04:04:50.303 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:04:51.303 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26675/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:51.305 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:04:51.306 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:04:51.306 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26675/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:51.308 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.186/tcp/26676/p2p/16Uiu2HAmKhNc8JZfnQr6TeuiFzBEGUXVMrdBoS2VuNYRQ7swnd5i","/ip4/172.18.221.186/tcp/26677/ws/p2p/16Uiu2HAmKhNc8JZfnQr6TeuiFzBEGUXVMrdBoS2VuNYRQ7swnd5i"],"enrUri":"enr:-L24QNYIqQgC8WI5hiPAj5JRyVqu23dYevh-2GGOXbhXD2dKUUsfq_lvGEDw0t1psQpuLzto1XHD7NUsZvlgdzQEKoICgmlkgnY0gmlwhKwS3bqKbXVsdGlhZGRyc5YACASsEt26Bmg0AAoErBLdugZoNd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDaJ4ig98FhO5ADrd1O9SN_egi1b8KIAbAQTqctXDwFsmDdGNwgmg0g3VkcIJoNoV3YWt1MgM"}'
2025-02-16 04:04:51.308 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:04:51.308 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26675/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.114.8/tcp/44283/p2p/16Uiu2HAmSRkUJbzEPYoBPyt4Z8qY7FDKMSayfy5qpiBXCAfx8brt"]'
2025-02-16 04:04:51.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:04:51.312 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44282/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-16 04:04:51.314 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:04:51.314 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26675/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-16 04:04:51.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:04:51.317 DEBUG [src.steps.store] Relaying message
2025-02-16 04:04:51.317 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44282/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:04:51.322 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:04:51.323 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 04:04:51.524 DEBUG [src.steps.store] Relaying message
2025-02-16 04:04:51.524 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44282/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:04:51.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:04:51.529 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 04:04:51.730 DEBUG [src.steps.store] Relaying message
2025-02-16 04:04:51.730 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44282/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:04:51.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:04:51.735 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 04:04:51.936 DEBUG [src.steps.store] Relaying message
2025-02-16 04:04:51.936 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44282/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:04:51.942 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:04:51.942 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 04:04:52.143 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44282/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:52.145 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44282/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 4'
2025-02-16 04:04:52.146 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26675/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:52.148 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:26675/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 4'
2025-02-16 04:04:52.150 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:04:52.151 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:04:52.151 DEBUG [src.node.waku_node] Stopping container with id a75aa4e215f9
2025-02-16 04:04:52.803 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:04:52.803 DEBUG [src.node.waku_node] Stopping container with id 32a02335854a
2025-02-16 04:04:53.614 ERROR [src.node.docker_mananger] Max retries reached for container a75aa4e215f9. Exiting log stream.
2025-02-16 04:04:54.049 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:04:54.050 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:04:54.056 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:04:54.062 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
