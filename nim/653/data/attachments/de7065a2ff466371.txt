2025-02-16 04:05:11.734 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:05:11.734 DEBUG [tests.conftest] Running test: test_filter_ping_without_request_id with id: 2025-02-16_04-05-11__eddf4ef7-6d6f-4f03-9f03-bcf08f92c54c
2025-02-16 04:05:11.734 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:05:11.735 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-16 04:05:11.735 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-16 04:05:11.741 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:11.741 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_04-05-11__eddf4ef7-6d6f-4f03-9f03-bcf08f92c54c__wakuorg_nwaku:latest.log
2025-02-16 04:05:11.741 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:11.741 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:11.742 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:11.743 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.177.222
2025-02-16 04:05:11.743 DEBUG [src.node.docker_mananger] Generated ports ['5312', '5313', '5314', '5315', '5316']
2025-02-16 04:05:11.743 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:11.743 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:11.743 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:11.743 DEBUG [src.node.docker_mananger] docker run -i -t -p 5312:5312 -p 5313:5313 -p 5314:5314 -p 5315:5315 -p 5316:5316 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5314 --rest-port=5312 --tcp-port=5313 --discv5-udp-port=5315 --rest-address=0.0.0.0 --nat=extip:172.18.177.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2fad7bee319aad3e83823b3f9e34721496d3eb1c3ad938804ca0be500c05c00a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5316 --metrics-logging=true --relay=true --filter=true
2025-02-16 04:05:11.960 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.177.222 waku ebe10b6d0ae9c26526c6eb053b95c8e603d70684ad762a775fe67779175ccebc
2025-02-16 04:05:12.007 DEBUG [src.node.docker_mananger] Container started with ID ebe10b6d0ae9. Setting up logs at ./log/docker/node1_2025-02-16_04-05-11__eddf4ef7-6d6f-4f03-9f03-bcf08f92c54c__wakuorg_nwaku:latest.log
2025-02-16 04:05:12.008 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5312
2025-02-16 04:05:12.008 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:12.541 ERROR [src.node.docker_mananger] Max retries reached for container f60ff6c21a13. Exiting log stream.
2025-02-16 04:05:13.008 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5312/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:13.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:13.011 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:13.012 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5312/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:13.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.222/tcp/5313/p2p/16Uiu2HAmUiaZtDXTxcGuKJEkRCqwCDGyvrUCuorvD5MRUqD4t3wW","/ip4/172.18.177.222/tcp/5314/ws/p2p/16Uiu2HAmUiaZtDXTxcGuKJEkRCqwCDGyvrUCuorvD5MRUqD4t3wW"],"enrUri":"enr:-L24QF_bfr_imq-RJB31GMwZqlcxXUMXSq5_bI75OLg3RpJebDQSpMfJOLBc5NjsRnbOw1MaL5f0oi5AOB_xHU9OjdQCgmlkgnY0gmlwhKwSsd6KbXVsdGlhZGRyc5YACASsErHeBhTBAAoErBKx3gYUwt0DgnJzhQADAQAAiXNlY3AyNTZrMaED7qZsNWIJvecpYVNXZYCY3SnOpu_ze3NqdEgqibjTLsmDdGNwghTBg3VkcIIUw4V3YWt1MgU"}'
2025-02-16 04:05:13.014 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:13.015 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-16 04:05:13.021 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:13.021 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_04-05-11__eddf4ef7-6d6f-4f03-9f03-bcf08f92c54c__wakuorg_nwaku:latest.log
2025-02-16 04:05:13.021 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:13.021 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:13.022 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:13.022 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.189.12
2025-02-16 04:05:13.022 DEBUG [src.node.docker_mananger] Generated ports ['47792', '47793', '47794', '47795', '47796']
2025-02-16 04:05:13.023 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:13.023 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:13.023 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:13.023 DEBUG [src.node.docker_mananger] docker run -i -t -p 47792:47792 -p 47793:47793 -p 47794:47794 -p 47795:47795 -p 47796:47796 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47794 --rest-port=47792 --tcp-port=47793 --discv5-udp-port=47795 --rest-address=0.0.0.0 --nat=extip:172.18.189.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6fa83da7cdb9a5b32cbbd283f45ba79deebdbdf5cbde4a68cd2cdfefd0e8d5c5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47796 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QF_bfr_imq-RJB31GMwZqlcxXUMXSq5_bI75OLg3RpJebDQSpMfJOLBc5NjsRnbOw1MaL5f0oi5AOB_xHU9OjdQCgmlkgnY0gmlwhKwSsd6KbXVsdGlhZGRyc5YACASsErHeBhTBAAoErBKx3gYUwt0DgnJzhQADAQAAiXNlY3AyNTZrMaED7qZsNWIJvecpYVNXZYCY3SnOpu_ze3NqdEgqibjTLsmDdGNwghTBg3VkcIIUw4V3YWt1MgU --filternode=/ip4/172.18.177.222/tcp/5313/p2p/16Uiu2HAmUiaZtDXTxcGuKJEkRCqwCDGyvrUCuorvD5MRUqD4t3wW
2025-02-16 04:05:13.240 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.189.12 waku ef9d4a928ea264076e39d3ae6e2d4d1cdc21257c47bf79374187b30ea8b996f5
2025-02-16 04:05:13.287 DEBUG [src.node.docker_mananger] Container started with ID ef9d4a928ea2. Setting up logs at ./log/docker/node2_2025-02-16_04-05-11__eddf4ef7-6d6f-4f03-9f03-bcf08f92c54c__wakuorg_nwaku:latest.log
2025-02-16 04:05:13.288 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 47792
2025-02-16 04:05:13.289 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:14.289 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47792/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:14.292 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:14.292 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:14.293 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47792/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:14.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.189.12/tcp/47793/p2p/16Uiu2HAm5PfrwyjPKjXX2XKNjXnewZUPJQB9EyHLhoKrAPGZ4DYN","/ip4/172.18.189.12/tcp/47794/ws/p2p/16Uiu2HAm5PfrwyjPKjXX2XKNjXnewZUPJQB9EyHLhoKrAPGZ4DYN"],"enrUri":"enr:-L24QB2qw5dZo5_CjnPP5r75U8a05NUrUDIS5isU6r2N3u3gXVtYUtbGY_f1QgfzP8C3wgAcNwbOaxMiJ30TI8YQIKwCgmlkgnY0gmlwhKwSvQyKbXVsdGlhZGRyc5YACASsEr0MBrqxAAoErBK9DAa6st0DgnJzhQADAQAAiXNlY3AyNTZrMaEClBGS_zYKC9mgyfmlFc5RHHQav5iEH1RGLfFOxX8WbqODdGNwgrqxg3VkcIK6s4V3YWt1MgA"}'
2025-02-16 04:05:14.295 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:14.295 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47792/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.222/tcp/5313/p2p/16Uiu2HAmUiaZtDXTxcGuKJEkRCqwCDGyvrUCuorvD5MRUqD4t3wW"]'
2025-02-16 04:05:14.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:14.330 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-16 04:05:14.332 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5312/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-16 04:05:14.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:14.351 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47792/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1ec16177-f0a2-4893-a307-4b377aa4cfc7", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-16 04:05:14.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1ec16177-f0a2-4893-a307-4b377aa4cfc7","statusDesc":"OK"}'
2025-02-16 04:05:14.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47792/filter/v2/subscriptions/" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:14.371 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusDesc":"OK"}'
2025-02-16 04:05:14.372 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:05:14.373 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:05:14.373 DEBUG [src.node.waku_node] Stopping container with id ebe10b6d0ae9
2025-02-16 04:05:15.463 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:15.463 DEBUG [src.node.waku_node] Stopping container with id ef9d4a928ea2
2025-02-16 04:05:16.276 ERROR [src.node.docker_mananger] Max retries reached for container ebe10b6d0ae9. Exiting log stream.
2025-02-16 04:05:16.960 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:16.962 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:05:16.969 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:05:16.973 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
