2025-02-16 04:05:41.602 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:05:41.602 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2025-02-16_04-05-41__efb46727-114e-4298-968c-2135e881290c
2025-02-16 04:05:41.602 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:05:41.602 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-16 04:05:41.603 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-16 04:05:41.609 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:41.609 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_04-05-41__efb46727-114e-4298-968c-2135e881290c__wakuorg_nwaku:latest.log
2025-02-16 04:05:41.610 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:41.610 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:41.611 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:41.611 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.66.233
2025-02-16 04:05:41.611 DEBUG [src.node.docker_mananger] Generated ports ['3957', '3958', '3959', '3960', '3961']
2025-02-16 04:05:41.611 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:41.611 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:41.612 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:41.612 DEBUG [src.node.docker_mananger] docker run -i -t -p 3957:3957 -p 3958:3958 -p 3959:3959 -p 3960:3960 -p 3961:3961 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3959 --rest-port=3957 --tcp-port=3958 --discv5-udp-port=3960 --rest-address=0.0.0.0 --nat=extip:172.18.66.233 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=3b8716c4de1bf80a3b5529998f7ea39fd0b7193b4513c4ed6d2b6e737a65dcec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3961 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-16 04:05:41.842 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.66.233 waku b47325db5ecf6531acebf33507bfaa8cac718e8235d65c0d2753894976f1dd20
2025-02-16 04:05:41.891 DEBUG [src.node.docker_mananger] Container started with ID b47325db5ecf. Setting up logs at ./log/docker/node1_2025-02-16_04-05-41__efb46727-114e-4298-968c-2135e881290c__wakuorg_nwaku:latest.log
2025-02-16 04:05:41.892 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 3957
2025-02-16 04:05:41.893 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:42.414 ERROR [src.node.docker_mananger] Max retries reached for container 1ea47f1f6c08. Exiting log stream.
2025-02-16 04:05:42.894 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:42.897 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:42.897 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:42.897 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:42.899 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.66.233/tcp/3958/p2p/16Uiu2HAmTE95uPcRKEYAxFGesHgF5WZuD1iiSdxx2vMiqQRxt8oW","/ip4/172.18.66.233/tcp/3959/ws/p2p/16Uiu2HAmTE95uPcRKEYAxFGesHgF5WZuD1iiSdxx2vMiqQRxt8oW"],"enrUri":"enr:-L24QENSefHczf8ctlEVkwEeoGsISmFY-DjP0_JjVfmBWIQcUcJnOy6zu94ZdWaWVVA1AnVFOVkZ3abvTlQU6CGz68cCgmlkgnY0gmlwhKwSQumKbXVsdGlhZGRyc5YACASsEkLpBg92AAoErBJC6QYPd90DgnJzhQACAQAAiXNlY3AyNTZrMaED2IGo-XjSKCT6w04zjUXAaBvLlqcuvSTCS_-7ubSNlq2DdGNwgg92g3VkcIIPeIV3YWt1MgU"}'
2025-02-16 04:05:42.899 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:42.906 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:42.906 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_04-05-41__efb46727-114e-4298-968c-2135e881290c__wakuorg_nwaku:latest.log
2025-02-16 04:05:42.906 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:42.906 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:42.907 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:42.907 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.84.248
2025-02-16 04:05:42.908 DEBUG [src.node.docker_mananger] Generated ports ['40254', '40255', '40256', '40257', '40258']
2025-02-16 04:05:42.908 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:42.908 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:42.908 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:42.908 DEBUG [src.node.docker_mananger] docker run -i -t -p 40254:40254 -p 40255:40255 -p 40256:40256 -p 40257:40257 -p 40258:40258 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40256 --rest-port=40254 --tcp-port=40255 --discv5-udp-port=40257 --rest-address=0.0.0.0 --nat=extip:172.18.84.248 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=d2dad4e6be100be04db839a4267071e9befedc1edbd7ea58cf1855eb0ed70caf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40258 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QENSefHczf8ctlEVkwEeoGsISmFY-DjP0_JjVfmBWIQcUcJnOy6zu94ZdWaWVVA1AnVFOVkZ3abvTlQU6CGz68cCgmlkgnY0gmlwhKwSQumKbXVsdGlhZGRyc5YACASsEkLpBg92AAoErBJC6QYPd90DgnJzhQACAQAAiXNlY3AyNTZrMaED2IGo-XjSKCT6w04zjUXAaBvLlqcuvSTCS_-7ubSNlq2DdGNwgg92g3VkcIIPeIV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-16 04:05:43.137 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.84.248 waku bc3136b2cb3f208dbb01e53263e8a81a465d9857037b870f616d1908ee6352ca
2025-02-16 04:05:43.189 DEBUG [src.node.docker_mananger] Container started with ID bc3136b2cb3f. Setting up logs at ./log/docker/node2_2025-02-16_04-05-41__efb46727-114e-4298-968c-2135e881290c__wakuorg_nwaku:latest.log
2025-02-16 04:05:43.189 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 40254
2025-02-16 04:05:43.190 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:44.190 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:44.198 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:44.199 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.84.248/tcp/40255/p2p/16Uiu2HAmSHJs4PzCpUZWWtd9Q6KhxYfzryfhKWynKSZCTXcqD2Rf","/ip4/172.18.84.248/tcp/40256/ws/p2p/16Uiu2HAmSHJs4PzCpUZWWtd9Q6KhxYfzryfhKWynKSZCTXcqD2Rf"],"enrUri":"enr:-L24QOXQCxVKGiZgHllygAdgmcKrs4cjOhbM2wCai9foO4uPBuYEKt6z4nrPS2xzIPTzP-h02WB-R8R6Pvgxf4Ltp8oCgmlkgnY0gmlwhKwSVPiKbXVsdGlhZGRyc5YACASsElT4Bp0_AAoErBJU-AadQN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDynXFrhAbHRgECtyceFyKmpZ_liGlrEKk3q2Og9D9b_qDdGNwgp0_g3VkcIKdQYV3YWt1MgE"}'
2025-02-16 04:05:44.204 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:44.204 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40254/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.66.233/tcp/3958/p2p/16Uiu2HAmTE95uPcRKEYAxFGesHgF5WZuD1iiSdxx2vMiqQRxt8oW"]'
2025-02-16 04:05:44.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:44.208 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-16 04:05:44.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:44.219 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40254/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-16 04:05:44.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:44.244 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:44.250 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:44.250 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:44.351 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.351 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.354 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739678744244276224,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.355 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.356 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.358 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739678744244276224,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.360 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:44.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:44.365 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:44.465 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.466 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739678744359955456,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.470 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.470 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739678744359955456,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.474 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:44.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:44.479 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:44.579 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.580 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.582 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739678744474464256,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.583 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.584 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.586 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739678744474464256,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.587 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:44.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:44.593 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:44.694 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.694 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.697 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739678744587769344,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.699 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739678744587769344,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.703 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:44.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:44.708 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:44.809 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.809 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.812 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739678744703014144,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.813 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.813 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739678744703014144,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.817 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:44.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:44.823 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:44.924 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.924 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739678744817732352,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.928 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:44.928 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:44.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739678744817732352,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:44.932 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:44.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:44.938 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:45.039 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.039 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739678744932372480,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.043 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.043 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739678744932372480,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.047 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:45.052 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:45.053 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:45.153 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.153 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739678745047816448,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.157 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.158 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.160 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739678745047816448,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.161 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:3957/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-16 04:05:45.172 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:45.172 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:40254/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-16 04:05:45.180 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:45.180 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:45.183 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:45.183 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:45.283 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.284 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.286 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:3957/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-16 04:05:45.288 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:45.291 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:45.291 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:45.392 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.392 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.394 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:3957/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-16 04:05:45.396 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:45.398 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:45.398 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:45.499 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.499 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.501 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:3957/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-16 04:05:45.503 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:45.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:45.508 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:45.608 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.608 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739678745502898944,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.612 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.612 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.614 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739678745502898944,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.616 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:45.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:45.622 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:45.722 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.722 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739678745616350720,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.726 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.726 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.729 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739678745616350720,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.730 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:45.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:45.735 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:45.835 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.836 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739678745730519040,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.840 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.840 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739678745730519040,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.844 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:45.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:45.849 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:45.949 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.950 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.952 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739678745844361728,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.954 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:45.954 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:45.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739678745844361728,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:45.957 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3957/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:45.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:45.963 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:46.063 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:46.064 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3957/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:46.066 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739678745957778944,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:46.068 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:46.068 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40254/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:46.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739678745957778944,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:46.073 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:05:46.074 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:05:46.074 DEBUG [src.node.waku_node] Stopping container with id b47325db5ecf
2025-02-16 04:05:47.369 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:47.369 DEBUG [src.node.waku_node] Stopping container with id bc3136b2cb3f
2025-02-16 04:05:48.182 ERROR [src.node.docker_mananger] Max retries reached for container b47325db5ecf. Exiting log stream.
2025-02-16 04:05:48.875 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:48.876 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:05:48.892 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:05:48.904 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
