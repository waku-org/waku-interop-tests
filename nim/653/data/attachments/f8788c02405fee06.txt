2025-02-16 04:05:13.620 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:05:13.620 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list0] with id: 2025-02-16_04-05-13__b1eb53f7-53c2-4fa2-af0a-5acba0e5c069
2025-02-16 04:05:13.620 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:05:13.621 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-16 04:05:13.621 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-16 04:05:13.628 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:13.629 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_04-05-13__b1eb53f7-53c2-4fa2-af0a-5acba0e5c069__wakuorg_nwaku:latest.log
2025-02-16 04:05:13.629 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:13.629 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:13.631 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:13.631 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.68.0
2025-02-16 04:05:13.631 DEBUG [src.node.docker_mananger] Generated ports ['27069', '27070', '27071', '27072', '27073']
2025-02-16 04:05:13.631 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:13.631 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:13.631 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:13.632 DEBUG [src.node.docker_mananger] docker run -i -t -p 27069:27069 -p 27070:27070 -p 27071:27071 -p 27072:27072 -p 27073:27073 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27071 --rest-port=27069 --tcp-port=27070 --discv5-udp-port=27072 --rest-address=0.0.0.0 --nat=extip:172.18.68.0 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=efb4bf945ff6a640ab7db51caa2bfdaacc4cefbeecdff586df1d3a864bbacd1b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27073 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-16 04:05:13.870 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.68.0 waku 691032771c47b64dbef1b20e6bf933e3f1a865cdf1e81fe15c1e810a4e8c1b04
2025-02-16 04:05:13.928 DEBUG [src.node.docker_mananger] Container started with ID 691032771c47. Setting up logs at ./log/docker/node1_2025-02-16_04-05-13__b1eb53f7-53c2-4fa2-af0a-5acba0e5c069__wakuorg_nwaku:latest.log
2025-02-16 04:05:13.928 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 27069
2025-02-16 04:05:13.929 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:14.427 ERROR [src.node.docker_mananger] Max retries reached for container ce5ca5f8e3ce. Exiting log stream.
2025-02-16 04:05:14.929 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:14.932 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:14.932 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:14.932 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:14.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.0/tcp/27070/p2p/16Uiu2HAmGSSeNPrNzADsonz5qeYCiw4eHGsCNkir1wXBaftTN72p","/ip4/172.18.68.0/tcp/27071/ws/p2p/16Uiu2HAmGSSeNPrNzADsonz5qeYCiw4eHGsCNkir1wXBaftTN72p"],"enrUri":"enr:-L24QLWwxos3hvxAou9kMQ3dFB_iDNUH5I-h3Fxetw2K2BOKNNbWPSH2NjsSkOuqenwsgzzkga_sDIYO_Pt4YdVXWlMCgmlkgnY0gmlwhKwSRACKbXVsdGlhZGRyc5YACASsEkQABmm-AAoErBJEAAZpv90DgnJzhQACAQAAiXNlY3AyNTZrMaEDODftruaB-c7kwbPYsHP4_oIxb4LGM9pYGZQ7AhU53QmDdGNwgmm-g3VkcIJpwIV3YWt1MgU"}'
2025-02-16 04:05:14.935 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:14.942 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:14.942 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_04-05-13__b1eb53f7-53c2-4fa2-af0a-5acba0e5c069__wakuorg_nwaku:latest.log
2025-02-16 04:05:14.942 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:14.942 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:14.944 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:14.944 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.155.196
2025-02-16 04:05:14.944 DEBUG [src.node.docker_mananger] Generated ports ['60005', '60006', '60007', '60008', '60009']
2025-02-16 04:05:14.944 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:14.944 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:14.945 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:14.945 DEBUG [src.node.docker_mananger] docker run -i -t -p 60005:60005 -p 60006:60006 -p 60007:60007 -p 60008:60008 -p 60009:60009 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60007 --rest-port=60005 --tcp-port=60006 --discv5-udp-port=60008 --rest-address=0.0.0.0 --nat=extip:172.18.155.196 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=4e61f28fec50ac6e5adcbe4d69d21beb00ee63fbcbab4b5be02fdc9f55af1889 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60009 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLWwxos3hvxAou9kMQ3dFB_iDNUH5I-h3Fxetw2K2BOKNNbWPSH2NjsSkOuqenwsgzzkga_sDIYO_Pt4YdVXWlMCgmlkgnY0gmlwhKwSRACKbXVsdGlhZGRyc5YACASsEkQABmm-AAoErBJEAAZpv90DgnJzhQACAQAAiXNlY3AyNTZrMaEDODftruaB-c7kwbPYsHP4_oIxb4LGM9pYGZQ7AhU53QmDdGNwgmm-g3VkcIJpwIV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-16 04:05:15.181 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.155.196 waku 5de53b7140af5c626ad2d84db99ecbc109f705e02a018119be04cbb40c05464d
2025-02-16 04:05:15.234 DEBUG [src.node.docker_mananger] Container started with ID 5de53b7140af. Setting up logs at ./log/docker/node2_2025-02-16_04-05-13__b1eb53f7-53c2-4fa2-af0a-5acba0e5c069__wakuorg_nwaku:latest.log
2025-02-16 04:05:15.234 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60005
2025-02-16 04:05:15.234 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:16.234 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:16.240 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:16.240 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.196/tcp/60006/p2p/16Uiu2HAkxbugJrDF8PARZYXfJ1PvaGSGTx4vUmP1LEBawKWU9CTj","/ip4/172.18.155.196/tcp/60007/ws/p2p/16Uiu2HAkxbugJrDF8PARZYXfJ1PvaGSGTx4vUmP1LEBawKWU9CTj"],"enrUri":"enr:-L24QNL-9OimqViIwIrfm2Dd_PD6gtA7b8kD5vIz8bEuyTrnAbMq7bmkzzdVGl1YdMYVGd1vp11x6DxkTHCP3KlsLywCgmlkgnY0gmlwhKwSm8SKbXVsdGlhZGRyc5YACASsEpvEBupmAAoErBKbxAbqZ90DgnJzhQACAQAAiXNlY3AyNTZrMaECLzJbnDzAq8VQd7my0XtJYwl1e2MUfcFMKKm4ofm2dCqDdGNwgupmg3VkcILqaIV3YWt1MgE"}'
2025-02-16 04:05:16.252 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:16.252 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60005/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.68.0/tcp/27070/p2p/16Uiu2HAmGSSeNPrNzADsonz5qeYCiw4eHGsCNkir1wXBaftTN72p"]'
2025-02-16 04:05:16.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:16.256 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-16 04:05:16.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:16.262 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60005/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-16 04:05:16.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:16.275 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:16.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:16.284 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:16.384 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.384 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.387 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739678716275552512,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.389 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.389 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.391 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739678716275552512,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.393 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:16.398 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:16.399 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:16.499 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.500 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.503 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739678716393433856,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.504 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.504 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739678716393433856,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.508 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:16.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:16.514 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:16.614 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.615 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.618 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739678716508639744,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.619 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.619 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739678716508639744,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.623 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:16.628 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:16.628 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:16.729 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.729 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.732 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739678716623441664,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.733 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739678716623441664,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.738 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:16.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:16.743 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:16.844 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.845 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739678716738287360,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.849 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.849 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739678716738287360,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.853 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:16.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:16.859 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:16.959 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.959 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739678716853620480,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.964 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:16.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:16.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739678716853620480,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:16.968 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:16.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:16.973 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:17.074 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.074 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739678716968099328,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.078 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.079 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.081 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739678716968099328,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.083 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:17.088 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:17.088 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:17.189 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.190 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739678717083055360,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.194 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.194 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739678717083055360,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.198 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:27069/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-16 04:05:17.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:17.204 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:60005/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-16 04:05:17.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:17.210 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:17.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:17.213 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:17.314 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.314 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.317 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf. Response content: b'/newsService/1.0/weekly/protobuf'
2025-02-16 04:05:17.319 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:17.322 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:17.322 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:17.422 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.423 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.426 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml. Response content: b'/newsService/1.0/alerts/xml'
2025-02-16 04:05:17.427 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:17.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:17.430 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:17.531 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.531 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.534 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson. Response content: b'/newsService/1.0/updates/json'
2025-02-16 04:05:17.535 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:17.540 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:17.540 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:17.641 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.641 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.644 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739678717535666176,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.645 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.645 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.648 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739678717535666176,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.650 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:17.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:17.655 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:17.755 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.755 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.758 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739678717649903616,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.760 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.760 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739678717649903616,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.764 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:17.770 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:17.770 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:17.871 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.871 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.874 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739678717764265984,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.876 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.876 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.878 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739678717764265984,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.880 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:17.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:17.887 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:17.988 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.988 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739678717880364800,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.992 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:17.993 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:17.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739678717880364800,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:17.997 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27069/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:18.002 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:18.003 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:18.103 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:18.104 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27069/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:18.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739678717997428992,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:18.108 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:18.108 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60005/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:18.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739678717997428992,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:18.114 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:05:18.116 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:05:18.116 DEBUG [src.node.waku_node] Stopping container with id 691032771c47
2025-02-16 04:05:19.399 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:19.399 DEBUG [src.node.waku_node] Stopping container with id 5de53b7140af
2025-02-16 04:05:20.242 ERROR [src.node.docker_mananger] Max retries reached for container 691032771c47. Exiting log stream.
2025-02-16 04:05:20.913 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:20.914 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:05:20.933 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:05:20.944 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
