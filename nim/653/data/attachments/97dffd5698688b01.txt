2025-02-16 04:04:50.771 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:04:50.771 DEBUG [tests.conftest] Running test: test_filter_subscribe_to_101_content_topics with id: 2025-02-16_04-04-50__eafdcca6-4878-4a0d-9b93-11dc2ed7784f
2025-02-16 04:04:50.771 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:04:50.772 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-16 04:04:50.772 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-16 04:04:50.778 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:04:50.778 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_04-04-50__eafdcca6-4878-4a0d-9b93-11dc2ed7784f__wakuorg_nwaku:latest.log
2025-02-16 04:04:50.778 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:04:50.778 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:04:50.779 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:04:50.780 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.255.135
2025-02-16 04:04:50.780 DEBUG [src.node.docker_mananger] Generated ports ['12728', '12729', '12730', '12731', '12732']
2025-02-16 04:04:50.780 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:04:50.780 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:04:50.780 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:04:50.780 DEBUG [src.node.docker_mananger] docker run -i -t -p 12728:12728 -p 12729:12729 -p 12730:12730 -p 12731:12731 -p 12732:12732 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12730 --rest-port=12728 --tcp-port=12729 --discv5-udp-port=12731 --rest-address=0.0.0.0 --nat=extip:172.18.255.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef1beaddecd095feba6bfc13fe2ea6879c823ad2d52fe7cfd3b71afac053ac3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12732 --metrics-logging=true --relay=true --filter=true
2025-02-16 04:04:50.995 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.255.135 waku 3014b67baad6cb41f4710e6916b37af15531bd68c772d13542be990b3e0d9440
2025-02-16 04:04:51.044 DEBUG [src.node.docker_mananger] Container started with ID 3014b67baad6. Setting up logs at ./log/docker/node1_2025-02-16_04-04-50__eafdcca6-4878-4a0d-9b93-11dc2ed7784f__wakuorg_nwaku:latest.log
2025-02-16 04:04:51.045 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 12728
2025-02-16 04:04:51.045 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:04:51.578 ERROR [src.node.docker_mananger] Max retries reached for container 4acbde7250ef. Exiting log stream.
2025-02-16 04:04:52.045 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12728/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:52.048 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:04:52.049 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:04:52.049 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12728/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:52.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.255.135/tcp/12729/p2p/16Uiu2HAkzDcmPrQGz6ZpPz8dF3vLG4EeNJHVvm37p1BQdVaeA5MB","/ip4/172.18.255.135/tcp/12730/ws/p2p/16Uiu2HAkzDcmPrQGz6ZpPz8dF3vLG4EeNJHVvm37p1BQdVaeA5MB"],"enrUri":"enr:-L24QAzg9M-h3d92Swp3yLaWWXycWsTZTOJS_EeN91N9xSQ5VmCgbb4e8AcwUC-VSK25XDAW5xY7tPw0WTg82-lM_D8CgmlkgnY0gmlwhKwS_4eKbXVsdGlhZGRyc5YACASsEv-HBjG5AAoErBL_hwYxut0DgnJzhQADAQAAiXNlY3AyNTZrMaECRzPUwwNL_ixjiXMCJKd-wUEiszBIbetaX1leNj3YzXqDdGNwgjG5g3VkcIIxu4V3YWt1MgU"}'
2025-02-16 04:04:52.051 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:04:52.052 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-16 04:04:52.058 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:04:52.058 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_04-04-50__eafdcca6-4878-4a0d-9b93-11dc2ed7784f__wakuorg_nwaku:latest.log
2025-02-16 04:04:52.058 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:04:52.058 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:04:52.060 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:04:52.060 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.165.177
2025-02-16 04:04:52.060 DEBUG [src.node.docker_mananger] Generated ports ['53215', '53216', '53217', '53218', '53219']
2025-02-16 04:04:52.060 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:04:52.060 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:04:52.060 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:04:52.060 DEBUG [src.node.docker_mananger] docker run -i -t -p 53215:53215 -p 53216:53216 -p 53217:53217 -p 53218:53218 -p 53219:53219 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53217 --rest-port=53215 --tcp-port=53216 --discv5-udp-port=53218 --rest-address=0.0.0.0 --nat=extip:172.18.165.177 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=02e8fdaf659932c6958a1fd0ba8ebd92de5cdaef2a562ea3f94bb1b1fe1f6ca5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53219 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAzg9M-h3d92Swp3yLaWWXycWsTZTOJS_EeN91N9xSQ5VmCgbb4e8AcwUC-VSK25XDAW5xY7tPw0WTg82-lM_D8CgmlkgnY0gmlwhKwS_4eKbXVsdGlhZGRyc5YACASsEv-HBjG5AAoErBL_hwYxut0DgnJzhQADAQAAiXNlY3AyNTZrMaECRzPUwwNL_ixjiXMCJKd-wUEiszBIbetaX1leNj3YzXqDdGNwgjG5g3VkcIIxu4V3YWt1MgU --filternode=/ip4/172.18.255.135/tcp/12729/p2p/16Uiu2HAkzDcmPrQGz6ZpPz8dF3vLG4EeNJHVvm37p1BQdVaeA5MB
2025-02-16 04:04:52.289 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.165.177 waku 085947b767c8b142a158e14608c0a14bea76a9c1c0879861dc66ed11d3728e8a
2025-02-16 04:04:52.338 DEBUG [src.node.docker_mananger] Container started with ID 085947b767c8. Setting up logs at ./log/docker/node2_2025-02-16_04-04-50__eafdcca6-4878-4a0d-9b93-11dc2ed7784f__wakuorg_nwaku:latest.log
2025-02-16 04:04:52.338 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 53215
2025-02-16 04:04:52.338 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:04:53.339 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53215/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:53.342 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:04:53.342 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:04:53.342 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53215/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:53.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.165.177/tcp/53216/p2p/16Uiu2HAmPDe7uC7YP4TzhDUBd4pHnyuYgtmwekS4YkcbsnaJBRER","/ip4/172.18.165.177/tcp/53217/ws/p2p/16Uiu2HAmPDe7uC7YP4TzhDUBd4pHnyuYgtmwekS4YkcbsnaJBRER"],"enrUri":"enr:-L24QLCN3pXSznYMZwR5bbsT-f-74_sUcBXMtZ1BRMkURdP4Z0Dv4ZbmXw6xCjwK2csWejnhZ_lGA2qvSL1Bi0S8iusCgmlkgnY0gmlwhKwSpbGKbXVsdGlhZGRyc5YACASsEqWxBs_gAAoErBKlsQbP4d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnPIpLsQPMTqQbcSN5_luqsvKhlo3WPZYZ-pcaRE_9eqDdGNwgs_gg3VkcILP4oV3YWt1MgA"}'
2025-02-16 04:04:53.344 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:04:53.345 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53215/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.255.135/tcp/12729/p2p/16Uiu2HAkzDcmPrQGz6ZpPz8dF3vLG4EeNJHVvm37p1BQdVaeA5MB"]'
2025-02-16 04:04:53.379 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:04:53.379 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-16 04:04:53.380 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12728/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-16 04:04:53.399 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:04:53.399 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53215/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4390f44f-d111-4090-b135-ba4bd307fa71", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-16 04:04:53.410 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"4390f44f-d111-4090-b135-ba4bd307fa71","statusDesc":"OK"}'
2025-02-16 04:04:53.413 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53215/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59", "60", "61", "62", "63", "64", "65", "66", "67", "68", "69", "70", "71", "72", "73", "74", "75", "76", "77", "78", "79", "80", "81", "82", "83", "84", "85", "86", "87", "88", "89", "90", "91", "92", "93", "94", "95", "96", "97", "98", "99", "100"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-16 04:04:53.421 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:53215/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"BAD_REQUEST: exceeds maximum content topics: 100"}'
2025-02-16 04:04:53.424 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:04:53.425 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:04:53.425 DEBUG [src.node.waku_node] Stopping container with id 3014b67baad6
2025-02-16 04:04:54.519 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:04:54.519 DEBUG [src.node.waku_node] Stopping container with id 085947b767c8
2025-02-16 04:04:55.332 ERROR [src.node.docker_mananger] Max retries reached for container 3014b67baad6. Exiting log stream.
2025-02-16 04:04:56.016 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:04:56.019 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:04:56.023 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:04:56.028 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
