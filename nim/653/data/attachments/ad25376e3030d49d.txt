2025-02-16 04:05:48.854 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:05:48.854 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics with id: 2025-02-16_04-05-48__d1ca83f5-3df4-4a2f-9760-a7a217c600e1
2025-02-16 04:05:48.855 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:05:48.855 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-16 04:05:48.855 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-16 04:05:48.862 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:48.862 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_04-05-48__d1ca83f5-3df4-4a2f-9760-a7a217c600e1__wakuorg_nwaku:latest.log
2025-02-16 04:05:48.862 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:48.862 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:48.864 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:48.864 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.131.134
2025-02-16 04:05:48.864 DEBUG [src.node.docker_mananger] Generated ports ['41547', '41548', '41549', '41550', '41551']
2025-02-16 04:05:48.864 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:48.864 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:48.864 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:48.864 DEBUG [src.node.docker_mananger] docker run -i -t -p 41547:41547 -p 41548:41548 -p 41549:41549 -p 41550:41550 -p 41551:41551 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41549 --rest-port=41547 --tcp-port=41548 --discv5-udp-port=41550 --rest-address=0.0.0.0 --nat=extip:172.18.131.134 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=3e7c2db58819f5bc486afc1b30a3a88822bb9beefe2c8f9d50c0e7cf0bc3cb4d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41551 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-16 04:05:49.097 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.131.134 waku 01bac089e1bd987211e484bb77d55b1c06851963901b1b4e5be42aa62ceb5c64
2025-02-16 04:05:49.146 DEBUG [src.node.docker_mananger] Container started with ID 01bac089e1bd. Setting up logs at ./log/docker/node1_2025-02-16_04-05-48__d1ca83f5-3df4-4a2f-9760-a7a217c600e1__wakuorg_nwaku:latest.log
2025-02-16 04:05:49.146 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 41547
2025-02-16 04:05:49.147 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:49.655 ERROR [src.node.docker_mananger] Max retries reached for container cdeade0fa156. Exiting log stream.
2025-02-16 04:05:50.148 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:50.151 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:50.151 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:50.151 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:50.153 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.134/tcp/41548/p2p/16Uiu2HAm2VrUKNGLYYtaL6p5h2rQDKuky6sFfAMV1Q2sbyJmT1xh","/ip4/172.18.131.134/tcp/41549/ws/p2p/16Uiu2HAm2VrUKNGLYYtaL6p5h2rQDKuky6sFfAMV1Q2sbyJmT1xh"],"enrUri":"enr:-L24QGjprWL_a0ALfwoxzyyeSCeFybhVVN2ZOqbhlXTNGq6FSkQa7pWS62ktD-CN6HoQ8cbYjcCBepyg2aB7YArzqisCgmlkgnY0gmlwhKwSg4aKbXVsdGlhZGRyc5YACASsEoOGBqJMAAoErBKDhgaiTd0DgnJzhQACAQAAiXNlY3AyNTZrMaECaRP-rRKDqifo3wHbpdOGGwycojzkaYNLd3RIb7cX7g6DdGNwgqJMg3VkcIKiToV3YWt1MgU"}'
2025-02-16 04:05:50.154 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:50.160 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:50.160 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_04-05-48__d1ca83f5-3df4-4a2f-9760-a7a217c600e1__wakuorg_nwaku:latest.log
2025-02-16 04:05:50.160 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:50.160 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:50.161 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:50.162 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.128.141
2025-02-16 04:05:50.162 DEBUG [src.node.docker_mananger] Generated ports ['24220', '24221', '24222', '24223', '24224']
2025-02-16 04:05:50.162 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:50.162 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:50.162 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:50.162 DEBUG [src.node.docker_mananger] docker run -i -t -p 24220:24220 -p 24221:24221 -p 24222:24222 -p 24223:24223 -p 24224:24224 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24222 --rest-port=24220 --tcp-port=24221 --discv5-udp-port=24223 --rest-address=0.0.0.0 --nat=extip:172.18.128.141 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=f65015b981b7c04a9409ffd3cfb4bf8aa5dc1fbfd4ea1dab6f152e0765e6f44e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24224 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGjprWL_a0ALfwoxzyyeSCeFybhVVN2ZOqbhlXTNGq6FSkQa7pWS62ktD-CN6HoQ8cbYjcCBepyg2aB7YArzqisCgmlkgnY0gmlwhKwSg4aKbXVsdGlhZGRyc5YACASsEoOGBqJMAAoErBKDhgaiTd0DgnJzhQACAQAAiXNlY3AyNTZrMaECaRP-rRKDqifo3wHbpdOGGwycojzkaYNLd3RIb7cX7g6DdGNwgqJMg3VkcIKiToV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-16 04:05:50.401 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.128.141 waku 98813cd358d906944427873804e077b05848cebd04346536ec39adf89462e25b
2025-02-16 04:05:50.450 DEBUG [src.node.docker_mananger] Container started with ID 98813cd358d9. Setting up logs at ./log/docker/node2_2025-02-16_04-05-48__d1ca83f5-3df4-4a2f-9760-a7a217c600e1__wakuorg_nwaku:latest.log
2025-02-16 04:05:50.450 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 24220
2025-02-16 04:05:50.450 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:51.451 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24220/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:51.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:51.461 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:51.461 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24220/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:51.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.141/tcp/24221/p2p/16Uiu2HAmCesN8dDGGFuxkZYJt3dRBuJv6MtDC1p7sfTWRU8PsmQo","/ip4/172.18.128.141/tcp/24222/ws/p2p/16Uiu2HAmCesN8dDGGFuxkZYJt3dRBuJv6MtDC1p7sfTWRU8PsmQo"],"enrUri":"enr:-L24QAy7dfzlk-dW9vaP1BaSncitdKfOA3jBMVYdgHLzsl6vLQnBU6kfOpb6YOsn0Ncolm_xtClNs57lQVR2v5r3O4wCgmlkgnY0gmlwhKwSgI2KbXVsdGlhZGRyc5YACASsEoCNBl6dAAoErBKAjQZent0DgnJzhQACAQAAiXNlY3AyNTZrMaEC__gZ-7eopPVNgr5zUsuddsUwo2nIllraopaCAxDjh-SDdGNwgl6dg3VkcIJen4V3YWt1MgE"}'
2025-02-16 04:05:51.468 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:51.469 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24220/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.131.134/tcp/41548/p2p/16Uiu2HAm2VrUKNGLYYtaL6p5h2rQDKuky6sFfAMV1Q2sbyJmT1xh"]'
2025-02-16 04:05:51.471 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:51.471 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-16 04:05:51.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:51.482 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24220/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-16 04:05:51.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:51.503 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:51.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:51.515 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:51.615 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:51.616 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:51.618 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739678751503256320,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:51.621 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:51.621 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24220/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:51.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739678751503256320,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:51.624 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:51.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:51.629 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:51.730 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:51.730 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:51.732 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739678751624756992,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:51.734 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:51.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24220/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:51.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739678751624756992,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:51.738 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:51.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:51.744 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:51.844 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:51.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:51.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739678751737992960,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:51.848 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:51.848 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24220/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:51.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739678751737992960,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:51.852 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:51.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:51.857 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:51.957 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:51.958 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:51.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739678751852455936,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:51.961 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:51.961 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24220/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:51.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739678751852455936,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:51.965 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:51.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:51.970 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.071 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.071 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.073 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739678751965432576,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.074 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24220/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739678751965432576,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.078 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.083 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.184 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.184 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.186 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739678752078689536,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.187 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.188 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24220/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739678752078689536,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.192 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.197 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.298 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.298 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.300 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739678752191968256,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.301 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.302 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24220/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.304 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739678752191968256,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.305 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.310 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.310 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.411 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.411 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.415 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739678752305804544,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.417 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.417 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24220/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.419 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739678752305804544,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.421 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:41547/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-16 04:05:52.436 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.437 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:24220/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-16 04:05:52.455 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.455 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.458 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.558 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.559 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.561 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:41547/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-16 04:05:52.563 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.566 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.566 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.666 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.666 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.669 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:41547/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-16 04:05:52.670 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.673 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.773 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.774 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.776 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-16 04:05:52.778 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.781 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.881 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.881 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.884 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:41547/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-16 04:05:52.885 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.888 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.888 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.988 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.988 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.991 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:41547/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-16 04:05:52.992 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.995 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:53.095 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:53.095 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:53.098 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-16 04:05:53.099 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:53.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:53.102 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:53.202 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:53.202 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:53.205 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-16 04:05:53.206 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41547/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:53.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:53.209 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:53.309 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:53.309 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:53.311 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:41547/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-16 04:05:53.314 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:05:53.315 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:05:53.315 DEBUG [src.node.waku_node] Stopping container with id 01bac089e1bd
2025-02-16 04:05:54.638 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:54.640 DEBUG [src.node.waku_node] Stopping container with id 98813cd358d9
2025-02-16 04:05:55.484 ERROR [src.node.docker_mananger] Max retries reached for container 01bac089e1bd. Exiting log stream.
2025-02-16 04:05:55.802 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:55.803 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:05:55.833 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:05:55.845 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
