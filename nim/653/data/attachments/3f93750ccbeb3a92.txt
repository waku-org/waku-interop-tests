2025-02-16 04:09:57.576 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:09:57.576 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2025-02-16_04-09-57__075d11ce-00c9-495e-b7b6-b5e727d995ac
2025-02-16 04:09:57.576 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:09:57.576 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-16 04:09:57.577 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-16 04:09:57.583 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:09:57.583 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_04-09-57__075d11ce-00c9-495e-b7b6-b5e727d995ac__wakuorg_nwaku:latest.log
2025-02-16 04:09:57.583 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:09:57.583 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:09:57.585 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:09:57.585 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.10.64
2025-02-16 04:09:57.585 DEBUG [src.node.docker_mananger] Generated ports ['13525', '13526', '13527', '13528', '13529']
2025-02-16 04:09:57.585 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:09:57.585 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:09:57.585 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:09:57.585 DEBUG [src.node.docker_mananger] docker run -i -t -p 13525:13525 -p 13526:13526 -p 13527:13527 -p 13528:13528 -p 13529:13529 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13527 --rest-port=13525 --tcp-port=13526 --discv5-udp-port=13528 --rest-address=0.0.0.0 --nat=extip:172.18.10.64 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ba6aa1dc9225a19d0e63fbd3e596ac219bfbbb68be3a3eeaf7ac6fce69d8fbfc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13529 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-16 04:09:57.806 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.10.64 waku 054d4bb5153269afbab8fbc328b612f232f02970ce66cff1b9a4ef3438d24160
2025-02-16 04:09:57.852 DEBUG [src.node.docker_mananger] Container started with ID 054d4bb51532. Setting up logs at ./log/docker/node1_2025-02-16_04-09-57__075d11ce-00c9-495e-b7b6-b5e727d995ac__wakuorg_nwaku:latest.log
2025-02-16 04:09:57.852 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 13525
2025-02-16 04:09:57.853 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:09:58.363 ERROR [src.node.docker_mananger] Max retries reached for container d50e4802dda3. Exiting log stream.
2025-02-16 04:09:58.854 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:09:58.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:09:58.857 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:09:58.857 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:09:58.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.10.64/tcp/13526/p2p/16Uiu2HAmG3Tp7eAvgHeDXdCm218VQTTrHy6WLNDqkGPEYFJ2jUkf","/ip4/172.18.10.64/tcp/13527/ws/p2p/16Uiu2HAmG3Tp7eAvgHeDXdCm218VQTTrHy6WLNDqkGPEYFJ2jUkf"],"enrUri":"enr:-Mu4QJ4boey-EThDXo6w9wjXjB3ftKQ7EETNiLGDNXLnXZ0bDLGX1rqiwJRQlQRs7VJfdeDrEcb3cu7pYvdIchD9jCsCgmlkgnY0gmlwhKwSCkCKbXVsdGlhZGRyc5YACASsEgpABjTWAAoErBIKQAY0190DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMyVOP6GgUgzoPu0jUTcmWGeh2k_0maSQ49vk0BBUut8IN0Y3CCNNaDdWRwgjTYhXdha3UyBQ"}'
2025-02-16 04:09:58.859 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:09:58.865 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:09:58.866 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_04-09-57__075d11ce-00c9-495e-b7b6-b5e727d995ac__wakuorg_nwaku:latest.log
2025-02-16 04:09:58.866 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:09:58.866 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:09:58.867 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:09:58.867 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.152.41
2025-02-16 04:09:58.867 DEBUG [src.node.docker_mananger] Generated ports ['27439', '27440', '27441', '27442', '27443']
2025-02-16 04:09:58.868 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:09:58.868 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:09:58.868 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:09:58.868 DEBUG [src.node.docker_mananger] docker run -i -t -p 27439:27439 -p 27440:27440 -p 27441:27441 -p 27442:27442 -p 27443:27443 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27441 --rest-port=27439 --tcp-port=27440 --discv5-udp-port=27442 --rest-address=0.0.0.0 --nat=extip:172.18.152.41 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=bcae691a3ecbebb239cba5f4bb393aeacec0bea2deaef3058c3bde34b86c10fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27443 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QJ4boey-EThDXo6w9wjXjB3ftKQ7EETNiLGDNXLnXZ0bDLGX1rqiwJRQlQRs7VJfdeDrEcb3cu7pYvdIchD9jCsCgmlkgnY0gmlwhKwSCkCKbXVsdGlhZGRyc5YACASsEgpABjTWAAoErBIKQAY0190DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMyVOP6GgUgzoPu0jUTcmWGeh2k_0maSQ49vk0BBUut8IN0Y3CCNNaDdWRwgjTYhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-16 04:09:59.092 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.152.41 waku 5d0e145168a356b9962068205bca748ac2e5cf29de0c401f1936af0d43d81d29
2025-02-16 04:09:59.142 DEBUG [src.node.docker_mananger] Container started with ID 5d0e145168a3. Setting up logs at ./log/docker/node2_2025-02-16_04-09-57__075d11ce-00c9-495e-b7b6-b5e727d995ac__wakuorg_nwaku:latest.log
2025-02-16 04:09:59.143 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 27439
2025-02-16 04:09:59.143 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:10:00.143 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.153 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:10:00.153 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:10:00.153 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.168 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.41/tcp/27440/p2p/16Uiu2HAmMdZC8cS4BKBnrsAAw1Lhj8V9vhquk1QmDyMtWhw4crMY","/ip4/172.18.152.41/tcp/27441/ws/p2p/16Uiu2HAmMdZC8cS4BKBnrsAAw1Lhj8V9vhquk1QmDyMtWhw4crMY"],"enrUri":"enr:-Mu4QGUOS45xtRoe8XgNR6Q4brJa_DwQj52E0iT3RbBx65IpUquMENOKYaoCci24Ad6D3ntRqEtu90ipsCIHDKOSbzoCgmlkgnY0gmlwhKwSmCmKbXVsdGlhZGRyc5YACASsEpgpBmswAAoErBKYKQZrMd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOFWyfIv_XLrwIAW22KAOqzdG61ZnZBlM4FdgJcU0RYc4N0Y3CCazCDdWRwgmsyhXdha3UyAQ"}'
2025-02-16 04:10:00.168 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:10:00.169 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27439/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.10.64/tcp/13526/p2p/16Uiu2HAmG3Tp7eAvgHeDXdCm218VQTTrHy6WLNDqkGPEYFJ2jUkf"]'
2025-02-16 04:10:00.176 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:00.177 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-16 04:10:00.184 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:00.184 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27439/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-16 04:10:00.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:00.188 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:00.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:00.193 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:00.293 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.293 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.296 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000187909632,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.297 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.298 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.300 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000187909632,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.301 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:00.306 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:00.307 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:00.407 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.407 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.410 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000301732352,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.411 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.411 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.414 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000301732352,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.415 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:00.420 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:00.420 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:00.521 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.522 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.524 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000415629568,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.526 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.526 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.528 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000415629568,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.530 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:00.535 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:00.535 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:00.635 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.635 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.638 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000530115584,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.639 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.639 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.641 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000530115584,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.643 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:00.647 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:00.648 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:00.748 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.749 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.751 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000643255808,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.753 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.753 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.755 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000643255808,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.757 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:00.761 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:00.762 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:00.863 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.863 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.865 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000757032960,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.866 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.867 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.869 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000757032960,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.870 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:00.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:00.876 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:00.976 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.977 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.979 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000870664448,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.980 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:00.980 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:00.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000870664448,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:00.984 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:00.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:00.990 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:01.091 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.091 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000984481280,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.096 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.096 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679000984481280,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.100 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:13525/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-16 04:10:01.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:01.113 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:27439/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-16 04:10:01.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:01.122 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:01.126 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-16 04:10:01.128 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:01.130 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-16 04:10:01.132 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:01.134 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-16 04:10:01.136 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:01.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:01.143 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:01.243 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.243 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.246 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679001136510720,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.247 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.247 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.249 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679001136510720,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.251 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:01.256 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:01.256 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:01.357 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.357 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679001251444736,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.361 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.361 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679001251444736,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.365 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:01.369 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:01.370 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:01.470 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.471 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679001365224704,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.474 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.474 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679001365224704,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.479 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:01.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:01.484 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:01.585 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.585 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679001479115776,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.588 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.588 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679001479115776,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.614 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:10:01.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:10:01.620 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:10:01.721 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.721 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13525/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.724 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679001614590208,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.725 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:10:01.726 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:10:01.727 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739679001614590208,"ephemeral":false,"proof":""}]'
2025-02-16 04:10:01.730 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:10:01.731 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:10:01.731 DEBUG [src.node.waku_node] Stopping container with id 054d4bb51532
2025-02-16 04:10:02.355 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:10:02.355 DEBUG [src.node.waku_node] Stopping container with id 5d0e145168a3
2025-02-16 04:10:03.168 ERROR [src.node.docker_mananger] Max retries reached for container 054d4bb51532. Exiting log stream.
2025-02-16 04:10:03.386 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:10:03.387 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:10:03.398 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:10:03.409 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
