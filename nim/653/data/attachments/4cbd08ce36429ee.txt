2025-02-16 04:05:49.406 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:05:49.407 DEBUG [tests.conftest] Running test: test_multiple_content_topics_different_shard with id: 2025-02-16_04-05-49__088ce2fc-ca6c-45a4-abdb-7a4904cba2fd
2025-02-16 04:05:49.407 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:05:49.407 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-16 04:05:49.408 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-16 04:05:49.414 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:49.414 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_04-05-49__088ce2fc-ca6c-45a4-abdb-7a4904cba2fd__wakuorg_nwaku:latest.log
2025-02-16 04:05:49.414 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:49.415 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:49.416 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:49.416 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.136.15
2025-02-16 04:05:49.416 DEBUG [src.node.docker_mananger] Generated ports ['43403', '43404', '43405', '43406', '43407']
2025-02-16 04:05:49.416 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:49.417 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:49.417 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:49.417 DEBUG [src.node.docker_mananger] docker run -i -t -p 43403:43403 -p 43404:43404 -p 43405:43405 -p 43406:43406 -p 43407:43407 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43405 --rest-port=43403 --tcp-port=43404 --discv5-udp-port=43406 --rest-address=0.0.0.0 --nat=extip:172.18.136.15 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=fab51aa8b74cfaea844d8e401f0bbdf10fc5e46fe26abdcfe3cc4fa43bc2bf2d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43407 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding
2025-02-16 04:05:49.639 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.136.15 waku 426e09d17d912aecb2b3132d4c7e48c5f4ccd7b609e90792f29ec83f98872d1a
2025-02-16 04:05:49.691 DEBUG [src.node.docker_mananger] Container started with ID 426e09d17d91. Setting up logs at ./log/docker/node1_2025-02-16_04-05-49__088ce2fc-ca6c-45a4-abdb-7a4904cba2fd__wakuorg_nwaku:latest.log
2025-02-16 04:05:49.694 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 43403
2025-02-16 04:05:49.694 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:50.213 ERROR [src.node.docker_mananger] Max retries reached for container 0887fcacad7e. Exiting log stream.
2025-02-16 04:05:50.695 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43403/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:50.697 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:50.698 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:50.698 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43403/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:50.700 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.136.15/tcp/43404/p2p/16Uiu2HAm3B2aPYZ92yESaFDsgCSWh232xCYiPQk42MNpUD6eXJRA","/ip4/172.18.136.15/tcp/43405/ws/p2p/16Uiu2HAm3B2aPYZ92yESaFDsgCSWh232xCYiPQk42MNpUD6eXJRA"],"enrUri":"enr:-L24QLtcTnvT4YQ1QSNbUmizGMHNXIeBrpB9nkgeJ50tVD5WQ_jDnRPf1I89oAwsB4IEvnFCX7o8ItGMcIAmGCgOfMoCgmlkgnY0gmlwhKwSiA-KbXVsdGlhZGRyc5YACASsEogPBqmMAAoErBKIDwapjd0DgnJzhQACAQAAiXNlY3AyNTZrMaECcx0SYPJmXOM0IHD5h1_6euvAl2bOi7RZslbIAKk1ZH2DdGNwgqmMg3VkcIKpjoV3YWt1MgU"}'
2025-02-16 04:05:50.700 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:50.706 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:05:50.707 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_04-05-49__088ce2fc-ca6c-45a4-abdb-7a4904cba2fd__wakuorg_nwaku:latest.log
2025-02-16 04:05:50.707 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:05:50.707 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:05:50.708 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:05:50.708 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.79.112
2025-02-16 04:05:50.708 DEBUG [src.node.docker_mananger] Generated ports ['30081', '30082', '30083', '30084', '30085']
2025-02-16 04:05:50.709 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:05:50.709 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:05:50.709 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:05:50.709 DEBUG [src.node.docker_mananger] docker run -i -t -p 30081:30081 -p 30082:30082 -p 30083:30083 -p 30084:30084 -p 30085:30085 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30083 --rest-port=30081 --tcp-port=30082 --discv5-udp-port=30084 --rest-address=0.0.0.0 --nat=extip:172.18.79.112 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=5dbfb5a415d6efef55dd627d6a04bef08c132a67461d3bdd7cf9fc5e081dfefd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30085 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLtcTnvT4YQ1QSNbUmizGMHNXIeBrpB9nkgeJ50tVD5WQ_jDnRPf1I89oAwsB4IEvnFCX7o8ItGMcIAmGCgOfMoCgmlkgnY0gmlwhKwSiA-KbXVsdGlhZGRyc5YACASsEogPBqmMAAoErBKIDwapjd0DgnJzhQACAQAAiXNlY3AyNTZrMaECcx0SYPJmXOM0IHD5h1_6euvAl2bOi7RZslbIAKk1ZH2DdGNwgqmMg3VkcIKpjoV3YWt1MgU --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding
2025-02-16 04:05:50.947 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.79.112 waku a5fc19e94e06fc8dd7cc968570a96117d7b963835abc1cabb396d7832214343c
2025-02-16 04:05:50.997 DEBUG [src.node.docker_mananger] Container started with ID a5fc19e94e06. Setting up logs at ./log/docker/node2_2025-02-16_04-05-49__088ce2fc-ca6c-45a4-abdb-7a4904cba2fd__wakuorg_nwaku:latest.log
2025-02-16 04:05:50.998 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 30081
2025-02-16 04:05:50.999 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:05:51.999 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30081/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.015 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:05:52.016 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:05:52.016 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30081/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.036 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.79.112/tcp/30082/p2p/16Uiu2HAmT1ihPq9dAu62ukaDvp5tz9Y1tN3TWwPgjqkdTt8Wago4","/ip4/172.18.79.112/tcp/30083/ws/p2p/16Uiu2HAmT1ihPq9dAu62ukaDvp5tz9Y1tN3TWwPgjqkdTt8Wago4"],"enrUri":"enr:-L24QJV8wGs2AYJtiN1cz9-w5P-NxSGiDQGX-qAkbuxnxn6VNDsFz_B6yYeID0ms8V16s6rljgo9-j2OfYm3Z4zE57QCgmlkgnY0gmlwhKwST3CKbXVsdGlhZGRyc5YACASsEk9wBnWCAAoErBJPcAZ1g90DgnJzhQACAQAAiXNlY3AyNTZrMaED1VMdWOvncIZgaVZ_Nx7SVMswApcTNFv91JqIb1hO7gODdGNwgnWCg3VkcIJ1hIV3YWt1MgE"}'
2025-02-16 04:05:52.036 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:05:52.037 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30081/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.136.15/tcp/43404/p2p/16Uiu2HAm3B2aPYZ92yESaFDsgCSWh232xCYiPQk42MNpUD6eXJRA"]'
2025-02-16 04:05:52.041 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.042 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43403/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-16 04:05:52.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.048 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30081/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-16 04:05:52.052 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.052 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43403/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.059 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.159 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.159 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43403/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739678752052666624,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.163 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.164 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30081/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.166 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739678752052666624,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.167 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43403/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.172 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.173 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.273 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.274 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43403/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.276 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739678752167862528,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.278 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.278 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30081/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.280 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739678752167862528,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.282 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43403/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.287 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.288 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.389 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.389 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43403/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739678752282657792,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.393 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30081/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739678752282657792,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.397 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43403/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.403 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.403 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.503 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.504 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43403/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739678752397715200,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.508 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.509 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30081/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739678752397715200,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.513 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43403/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.518 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.518 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.619 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.619 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43403/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739678752513095168,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.624 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.624 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30081/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.627 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739678752513095168,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.628 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43403/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.633 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.634 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.734 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43403/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739678752628629760,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.739 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.739 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30081/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.741 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739678752628629760,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.743 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43403/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.748 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.748 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.848 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.849 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43403/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739678752743126528,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.853 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.853 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30081/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739678752743126528,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.857 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43403/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 04:05:52.862 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:05:52.863 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 04:05:52.963 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.963 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43403/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739678752857296896,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.969 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 04:05:52.969 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30081/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:05:52.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739678752857296896,"ephemeral":false,"proof":""}]'
2025-02-16 04:05:52.974 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:05:52.975 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:05:52.975 DEBUG [src.node.waku_node] Stopping container with id 426e09d17d91
2025-02-16 04:05:54.200 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:54.200 DEBUG [src.node.waku_node] Stopping container with id a5fc19e94e06
2025-02-16 04:05:55.012 ERROR [src.node.docker_mananger] Max retries reached for container 426e09d17d91. Exiting log stream.
2025-02-16 04:05:55.653 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:05:55.654 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:05:55.664 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:05:55.673 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
