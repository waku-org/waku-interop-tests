2025-02-16 04:04:07.097 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 04:04:07.097 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2025-02-16_04-04-07__625fa649-8f3f-4c64-86f7-ed4cc5dc37b3
2025-02-16 04:04:07.098 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 04:04:07.098 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-16 04:04:07.098 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-16 04:04:07.104 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:04:07.104 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_04-04-07__625fa649-8f3f-4c64-86f7-ed4cc5dc37b3__wakuorg_nwaku:latest.log
2025-02-16 04:04:07.105 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:04:07.105 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:04:07.106 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:04:07.106 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.64.62
2025-02-16 04:04:07.106 DEBUG [src.node.docker_mananger] Generated ports ['26483', '26484', '26485', '26486', '26487']
2025-02-16 04:04:07.106 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:04:07.107 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:04:07.107 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:04:07.107 DEBUG [src.node.docker_mananger] docker run -i -t -p 26483:26483 -p 26484:26484 -p 26485:26485 -p 26486:26486 -p 26487:26487 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26485 --rest-port=26483 --tcp-port=26484 --discv5-udp-port=26486 --rest-address=0.0.0.0 --nat=extip:172.18.64.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=896a15f324cf30a410d3bbfb5bfc94872c2769f8e7ad3f4e244caabcc692cb12 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26487 --metrics-logging=true --relay=true --filter=true
2025-02-16 04:04:07.326 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.64.62 waku 3d297467c7e0e6d2845258ca52b6c8390a0362e2e60c9a413bb85ebbfe0749d9
2025-02-16 04:04:07.376 DEBUG [src.node.docker_mananger] Container started with ID 3d297467c7e0. Setting up logs at ./log/docker/node1_2025-02-16_04-04-07__625fa649-8f3f-4c64-86f7-ed4cc5dc37b3__wakuorg_nwaku:latest.log
2025-02-16 04:04:07.376 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 26483
2025-02-16 04:04:07.376 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:04:07.892 ERROR [src.node.docker_mananger] Max retries reached for container 061bbfb0add6. Exiting log stream.
2025-02-16 04:04:08.377 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26483/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:08.380 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:04:08.380 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:04:08.380 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26483/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:08.383 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.64.62/tcp/26484/p2p/16Uiu2HAmNB1c5QUvoYwGzTGQyt6bbtQmDNMU6FRUoND7H8gPJgyS","/ip4/172.18.64.62/tcp/26485/ws/p2p/16Uiu2HAmNB1c5QUvoYwGzTGQyt6bbtQmDNMU6FRUoND7H8gPJgyS"],"enrUri":"enr:-L24QG1WoogfBJB9D2gwFblSbbXsfVIJ23_WKNanxDRTyARxXnT3_NuNbxHJuh9Vhqy3F5M-WbhXMnmtPofqMEMQoXQCgmlkgnY0gmlwhKwSQD6KbXVsdGlhZGRyc5YACASsEkA-Bmd0AAoErBJAPgZndd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjWoGjIZntqdaCQeyyPgEMJm8xglcWMmcv_K-T4hCOm2DdGNwgmd0g3VkcIJndoV3YWt1MgU"}'
2025-02-16 04:04:08.383 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:04:08.383 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-16 04:04:08.389 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 04:04:08.390 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_04-04-07__625fa649-8f3f-4c64-86f7-ed4cc5dc37b3__wakuorg_nwaku:latest.log
2025-02-16 04:04:08.390 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 04:04:08.390 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 04:04:08.391 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 04:04:08.391 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.227.113
2025-02-16 04:04:08.391 DEBUG [src.node.docker_mananger] Generated ports ['42158', '42159', '42160', '42161', '42162']
2025-02-16 04:04:08.392 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 04:04:08.392 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 04:04:08.392 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 04:04:08.392 DEBUG [src.node.docker_mananger] docker run -i -t -p 42158:42158 -p 42159:42159 -p 42160:42160 -p 42161:42161 -p 42162:42162 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42160 --rest-port=42158 --tcp-port=42159 --discv5-udp-port=42161 --rest-address=0.0.0.0 --nat=extip:172.18.227.113 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=510817f0b6dedcff3d6d06f1ed23afba11d5337a2e11eaa1a4e58eb10db7dd7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42162 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QG1WoogfBJB9D2gwFblSbbXsfVIJ23_WKNanxDRTyARxXnT3_NuNbxHJuh9Vhqy3F5M-WbhXMnmtPofqMEMQoXQCgmlkgnY0gmlwhKwSQD6KbXVsdGlhZGRyc5YACASsEkA-Bmd0AAoErBJAPgZndd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjWoGjIZntqdaCQeyyPgEMJm8xglcWMmcv_K-T4hCOm2DdGNwgmd0g3VkcIJndoV3YWt1MgU --filternode=/ip4/172.18.64.62/tcp/26484/p2p/16Uiu2HAmNB1c5QUvoYwGzTGQyt6bbtQmDNMU6FRUoND7H8gPJgyS
2025-02-16 04:04:08.625 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.227.113 waku 99dffba52250f3ffe34d5cc3059a379c2e4f9ec86c1ea31489ca7cac361e2453
2025-02-16 04:04:08.676 DEBUG [src.node.docker_mananger] Container started with ID 99dffba52250. Setting up logs at ./log/docker/node2_2025-02-16_04-04-07__625fa649-8f3f-4c64-86f7-ed4cc5dc37b3__wakuorg_nwaku:latest.log
2025-02-16 04:04:08.678 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42158
2025-02-16 04:04:08.678 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 04:04:09.679 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42158/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:09.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 04:04:09.682 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 04:04:09.682 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42158/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 04:04:09.684 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.227.113/tcp/42159/p2p/16Uiu2HAmFNu2Uevwv5MNXEwyDtkkc9eoF1dWVTcijo2NGdFXqQjq","/ip4/172.18.227.113/tcp/42160/ws/p2p/16Uiu2HAmFNu2Uevwv5MNXEwyDtkkc9eoF1dWVTcijo2NGdFXqQjq"],"enrUri":"enr:-L24QIMB80OiS-xik6mgX5IwKodIZ2ArMa7_U5lXBX3ogUfLOCuGetFuxrfwteDM1s6dvhx4lpsjyxj4AE98LheTxNYCgmlkgnY0gmlwhKwS43GKbXVsdGlhZGRyc5YACASsEuNxBqSvAAoErBLjcQaksN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDKHO_YO2ri-fp4d2jniOw4H3a2XIkiCmZ1sxG7--MW5CDdGNwgqSvg3VkcIKksYV3YWt1MgA"}'
2025-02-16 04:04:09.684 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 04:04:09.685 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42158/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.64.62/tcp/26484/p2p/16Uiu2HAmNB1c5QUvoYwGzTGQyt6bbtQmDNMU6FRUoND7H8gPJgyS"]'
2025-02-16 04:04:09.719 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:04:09.720 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-16 04:04:09.720 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26483/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-16 04:04:09.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 04:04:09.747 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42158/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c6ce3ab2-92d8-4852-b0bb-da5282f15596", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-16 04:04:09.758 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"c6ce3ab2-92d8-4852-b0bb-da5282f15596","statusDesc":"OK"}'
2025-02-16 04:04:09.760 INFO [src.node.api_clients.base_client] curl -v -X PUT "http://127.0.0.1:42158/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
2025-02-16 04:04:09.768 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2025-02-16 04:04:09.770 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 04:04:09.771 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 04:04:09.771 DEBUG [src.node.waku_node] Stopping container with id 3d297467c7e0
2025-02-16 04:04:10.842 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:04:10.842 DEBUG [src.node.waku_node] Stopping container with id 99dffba52250
2025-02-16 04:04:11.655 ERROR [src.node.docker_mananger] Max retries reached for container 3d297467c7e0. Exiting log stream.
2025-02-16 04:04:12.346 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 04:04:12.349 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 04:04:12.354 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 04:04:12.359 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
