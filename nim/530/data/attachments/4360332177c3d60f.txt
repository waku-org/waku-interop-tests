[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-17_04-13-38__804811c6-8c58-45b8-baf7-ac5e236e31ce
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-17_04-13-38__804811c6-8c58-45b8-baf7-ac5e236e31ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.176.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51949', '51950', '51951', '51952', '51953']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51949:51949 -p 51950:51950 -p 51951:51951 -p 51952:51952 -p 51953:51953 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51951 --rest-port=51949 --tcp-port=51950 --discv5-udp-port=51952 --rest-address=0.0.0.0 --nat=extip:172.18.176.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ba0aab46f221ef9afb0a13a9b6ecbddecbaddeb1ce5b5d2bac4ad4428abd5afc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51953 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.176.207 waku 37d81ecd6a848817c380861a5b180e0953cf68d94c38dab90e8213abeb38c6c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 37d81ecd6a84. Setting up logs at ./log/docker/node1_2024-12-17_04-13-38__804811c6-8c58-45b8-baf7-ac5e236e31ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51949
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5f389982a52c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51949/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51949/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.176.207/tcp/51950/p2p/16Uiu2HAmLNeurwAPKSPRugomu7EBvUVFcSd91ZpHtMLnDKzJ375m","/ip4/172.18.176.207/tcp/51951/ws/p2p/16Uiu2HAmLNeurwAPKSPRugomu7EBvUVFcSd91ZpHtMLnDKzJ375m"],"enrUri":"enr:-L24QB7MjzVEamIOJ-My19JjoWhpndxTgH74c8yieRkelamYFQoSJ-LsF8x-BlojPgY90sgA8i4ThqJw9NPcNwnTV7ECgmlkgnY0gmlwhKwSsM-KbXVsdGlhZGRyc5YACASsErDPBsruAAoErBKwzwbK790DgnJzhQADAQAAiXNlY3AyNTZrMaEDcq45L1Vw6xNT71giVdoTmhaIqPXhi0L66RKGe2AN5GyDdGNwgsrug3VkcILK8IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-17_04-13-38__804811c6-8c58-45b8-baf7-ac5e236e31ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.182.2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17096', '17097', '17098', '17099', '17100']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17096:17096 -p 17097:17097 -p 17098:17098 -p 17099:17099 -p 17100:17100 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17098 --rest-port=17096 --tcp-port=17097 --discv5-udp-port=17099 --rest-address=0.0.0.0 --nat=extip:172.18.182.2 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a9ce26bed60ea32bdca85f20fe2c5ab8eb5ebf09098dbecb2d1dfeaebc3e0ae6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17100 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB7MjzVEamIOJ-My19JjoWhpndxTgH74c8yieRkelamYFQoSJ-LsF8x-BlojPgY90sgA8i4ThqJw9NPcNwnTV7ECgmlkgnY0gmlwhKwSsM-KbXVsdGlhZGRyc5YACASsErDPBsruAAoErBKwzwbK790DgnJzhQADAQAAiXNlY3AyNTZrMaEDcq45L1Vw6xNT71giVdoTmhaIqPXhi0L66RKGe2AN5GyDdGNwgsrug3VkcILK8IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.182.2 waku a2ee7613a9322e0e5d4be3613186043cb96b90146dcfe8c0b1936e9e2ae2fb8c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a2ee7613a932. Setting up logs at ./log/docker/node2_2024-12-17_04-13-38__804811c6-8c58-45b8-baf7-ac5e236e31ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 17096
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17096/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17096/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.2/tcp/17097/p2p/16Uiu2HAmQbF96J6Atk38DnVH38hpnh7gbCSRxfzLMEvzg6WBkZgy","/ip4/172.18.182.2/tcp/17098/ws/p2p/16Uiu2HAmQbF96J6Atk38DnVH38hpnh7gbCSRxfzLMEvzg6WBkZgy"],"enrUri":"enr:-L24QMshVLOZIAyH54lm3W0tmXNm-2E7wU3PvW9ucVIYAvOnGzUJ-CjEF-H-cpXuO6C-NhBs_1CZUqgP1-vnFIC8SfMCgmlkgnY0gmlwhKwStgKKbXVsdGlhZGRyc5YACASsErYCBkLJAAoErBK2AgZCyt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsVakhAolhqUA157e1Rpn_E2kCQG1LdRsQ8whr-9rn8aDdGNwgkLJg3VkcIJCy4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17096/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.176.207/tcp/51950/p2p/16Uiu2HAmLNeurwAPKSPRugomu7EBvUVFcSd91ZpHtMLnDKzJ375m"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-17_04-13-38__804811c6-8c58-45b8-baf7-ac5e236e31ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.241.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4268', '4269', '4270', '4271', '4272']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4268:4268 -p 4269:4269 -p 4270:4270 -p 4271:4271 -p 4272:4272 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4270 --rest-port=4268 --tcp-port=4269 --discv5-udp-port=4271 --rest-address=0.0.0.0 --nat=extip:172.18.241.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2fd8aeff8029edfc13dd39c7f47e544bb8ac7ead8db0fafcbf20d43191f603b9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4272 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB7MjzVEamIOJ-My19JjoWhpndxTgH74c8yieRkelamYFQoSJ-LsF8x-BlojPgY90sgA8i4ThqJw9NPcNwnTV7ECgmlkgnY0gmlwhKwSsM-KbXVsdGlhZGRyc5YACASsErDPBsruAAoErBKwzwbK790DgnJzhQADAQAAiXNlY3AyNTZrMaEDcq45L1Vw6xNT71giVdoTmhaIqPXhi0L66RKGe2AN5GyDdGNwgsrug3VkcILK8IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.241.6 waku a6e0117091434c346d9c5cf685fa186af60f5dd6e2381c4cd309611d72b73712
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a6e011709143. Setting up logs at ./log/docker/node3_2024-12-17_04-13-38__804811c6-8c58-45b8-baf7-ac5e236e31ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4268
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4268/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4268/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.6/tcp/4269/p2p/16Uiu2HAmCdLS7UV1bgAMSUZrp1TVKTnTMLSa2WNLCBXV1njaB1Km","/ip4/172.18.241.6/tcp/4270/ws/p2p/16Uiu2HAmCdLS7UV1bgAMSUZrp1TVKTnTMLSa2WNLCBXV1njaB1Km"],"enrUri":"enr:-L24QMZPHnU1eLWy97i3TZot0tj4mvICEViRSW-RqmkB-JB_DOBogs6CY6iNjA5Ekk21d4du2_WYrGe5XAwwjINxWNECgmlkgnY0gmlwhKwS8QaKbXVsdGlhZGRyc5YACASsEvEGBhCtAAoErBLxBgYQrt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC_5OL5WebPfwSTYrWxz9B_j75R0ezdIVbxArpLcqttmCDdGNwghCtg3VkcIIQr4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4268/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.176.207/tcp/51950/p2p/16Uiu2HAmLNeurwAPKSPRugomu7EBvUVFcSd91ZpHtMLnDKzJ375m"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-17_04-13-38__804811c6-8c58-45b8-baf7-ac5e236e31ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.212.104
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35841', '35842', '35843', '35844', '35845']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35841:35841 -p 35842:35842 -p 35843:35843 -p 35844:35844 -p 35845:35845 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35843 --rest-port=35841 --tcp-port=35842 --discv5-udp-port=35844 --rest-address=0.0.0.0 --nat=extip:172.18.212.104 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d0d27bc66c08a8a90d005eded7558fdfa3a3eabedf317f817df8fa02266c9e0c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35845 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB7MjzVEamIOJ-My19JjoWhpndxTgH74c8yieRkelamYFQoSJ-LsF8x-BlojPgY90sgA8i4ThqJw9NPcNwnTV7ECgmlkgnY0gmlwhKwSsM-KbXVsdGlhZGRyc5YACASsErDPBsruAAoErBKwzwbK790DgnJzhQADAQAAiXNlY3AyNTZrMaEDcq45L1Vw6xNT71giVdoTmhaIqPXhi0L66RKGe2AN5GyDdGNwgsrug3VkcILK8IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.212.104 waku bf5ecc096f41158be2fbf5d601391385d7d596844e475177e4fbd41a27fa5e86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bf5ecc096f41. Setting up logs at ./log/docker/node4_2024-12-17_04-13-38__804811c6-8c58-45b8-baf7-ac5e236e31ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 35841
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35841/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35841/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.104/tcp/35842/p2p/16Uiu2HAm7gdTzjPAag9ENeLzQrskJMoyhsZqB7qmrELkexGLzzxC","/ip4/172.18.212.104/tcp/35843/ws/p2p/16Uiu2HAm7gdTzjPAag9ENeLzQrskJMoyhsZqB7qmrELkexGLzzxC"],"enrUri":"enr:-L24QNkdce5nfb2rBv8HETdJRi_QIOaT7o9LPgZLZvy-OiPXGa0oZr9hvDK0Lsn3aVXbGOQw4IpFXfDQ1T52wSuAT64CgmlkgnY0gmlwhKwS1GiKbXVsdGlhZGRyc5YACASsEtRoBowCAAoErBLUaAaMA90DgnJzhQADAQAAiXNlY3AyNTZrMaECtiEc6j2DqyfkfunpiP3bynwQAmCbAM7jEBOQY-x32j2DdGNwgowCg3VkcIKMBIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35841/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.176.207/tcp/51950/p2p/16Uiu2HAmLNeurwAPKSPRugomu7EBvUVFcSd91ZpHtMLnDKzJ375m"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-17_04-13-38__804811c6-8c58-45b8-baf7-ac5e236e31ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.209.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25447', '25448', '25449', '25450', '25451']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25447:25447 -p 25448:25448 -p 25449:25449 -p 25450:25450 -p 25451:25451 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25449 --rest-port=25447 --tcp-port=25448 --discv5-udp-port=25450 --rest-address=0.0.0.0 --nat=extip:172.18.209.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=527abac2cb2eaba9a88d3711faa9c9bff7859c5c895b01a7f3882df92bb1c5f3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25451 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB7MjzVEamIOJ-My19JjoWhpndxTgH74c8yieRkelamYFQoSJ-LsF8x-BlojPgY90sgA8i4ThqJw9NPcNwnTV7ECgmlkgnY0gmlwhKwSsM-KbXVsdGlhZGRyc5YACASsErDPBsruAAoErBKwzwbK790DgnJzhQADAQAAiXNlY3AyNTZrMaEDcq45L1Vw6xNT71giVdoTmhaIqPXhi0L66RKGe2AN5GyDdGNwgsrug3VkcILK8IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.209.169 waku e4c6f935617d4cfac9b1178bcaa0a3cdcff9f2b4808b573f9934467b384fd2ac
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e4c6f935617d. Setting up logs at ./log/docker/node5_2024-12-17_04-13-38__804811c6-8c58-45b8-baf7-ac5e236e31ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 25447
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25447/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25447/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.169/tcp/25448/p2p/16Uiu2HAmEez3jT4w2iNcTSKUkU4CPC5Qvz26aaeFcRVGQsQqmDo6","/ip4/172.18.209.169/tcp/25449/ws/p2p/16Uiu2HAmEez3jT4w2iNcTSKUkU4CPC5Qvz26aaeFcRVGQsQqmDo6"],"enrUri":"enr:-L24QKwKZv9_zz5GqgEFOZoriz6FhO_T_IMxWN-gV6xlk38fXVVlJYPpDFKISUbmjN3mQfvEDd1Nv6KP-NYrYTYwtbkCgmlkgnY0gmlwhKwS0amKbXVsdGlhZGRyc5YACASsEtGpBmNoAAoErBLRqQZjad0DgnJzhQADAQAAiXNlY3AyNTZrMaEDHbcIFXeJfV4XRcvgKpaLxD7ahrmuh0aI44yco0MCFGGDdGNwgmNog3VkcIJjaoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25447/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.176.207/tcp/51950/p2p/16Uiu2HAmLNeurwAPKSPRugomu7EBvUVFcSd91ZpHtMLnDKzJ375m"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51949/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17096/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4268/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35841/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25447/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51949/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51949/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408825548442624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17096/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408825548442624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408825548442624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35841/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408825548442624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408825548442624,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51949/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51949/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408825675161600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17096/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408825675161600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4268/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408825675161600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35841/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408825675161600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408825675161600,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 37d81ecd6a84
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a2ee7613a932
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 37d81ecd6a84. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a6e011709143
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a2ee7613a932. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bf5ecc096f41
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a6e011709143. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e4c6f935617d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bf5ecc096f41. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.