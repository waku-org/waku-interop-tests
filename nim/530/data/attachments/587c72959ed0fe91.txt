[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-17_04-13-52__ab8ddfa0-72fb-4d43-82af-ec5714d2cd43
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-17_04-13-52__ab8ddfa0-72fb-4d43-82af-ec5714d2cd43__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.150.84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11970', '11971', '11972', '11973', '11974']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11970:11970 -p 11971:11971 -p 11972:11972 -p 11973:11973 -p 11974:11974 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11972 --rest-port=11970 --tcp-port=11971 --discv5-udp-port=11973 --rest-address=0.0.0.0 --nat=extip:172.18.150.84 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=15df641f95a6db94b576f9dcecb19bcad85bedfbffb2e68b569f93b682f9cfcd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11974 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.150.84 waku 22ca90d85f6b89783ed04bfc8197d04f9848cce493e56f538c3c61fcae5f8fbd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 22ca90d85f6b. Setting up logs at ./log/docker/node1_2024-12-17_04-13-52__ab8ddfa0-72fb-4d43-82af-ec5714d2cd43__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11970
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e4c6f935617d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11970/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11970/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.150.84/tcp/11971/p2p/16Uiu2HAkzsUnNTWZ8ob3y3aTmaoApUQSgz7XsVtuJE33oUPbekwK","/ip4/172.18.150.84/tcp/11972/ws/p2p/16Uiu2HAkzsUnNTWZ8ob3y3aTmaoApUQSgz7XsVtuJE33oUPbekwK"],"enrUri":"enr:-L24QMIjZioisyTMoybjB3XWqcn8gaBxFnOru4B5uCPP8DdlPaBxahjSBYbHV9HGW_51tZp0BKoX-lfIYdtShVytqOMCgmlkgnY0gmlwhKwSllSKbXVsdGlhZGRyc5YACASsEpZUBi7DAAoErBKWVAYuxN0DgnJzhQADAQAAiXNlY3AyNTZrMaECUObgD-k8YvErqy9rW_TAav86kbrv0KFODQJor_Ql_sKDdGNwgi7Dg3VkcIIuxYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-17_04-13-52__ab8ddfa0-72fb-4d43-82af-ec5714d2cd43__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.195.195
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14169', '14170', '14171', '14172', '14173']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14169:14169 -p 14170:14170 -p 14171:14171 -p 14172:14172 -p 14173:14173 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14171 --rest-port=14169 --tcp-port=14170 --discv5-udp-port=14172 --rest-address=0.0.0.0 --nat=extip:172.18.195.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b84fbda06d564ea1ed2f00b10706a9cdfaddcd21282ac5d7cc7407c7effcb63a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14173 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMIjZioisyTMoybjB3XWqcn8gaBxFnOru4B5uCPP8DdlPaBxahjSBYbHV9HGW_51tZp0BKoX-lfIYdtShVytqOMCgmlkgnY0gmlwhKwSllSKbXVsdGlhZGRyc5YACASsEpZUBi7DAAoErBKWVAYuxN0DgnJzhQADAQAAiXNlY3AyNTZrMaECUObgD-k8YvErqy9rW_TAav86kbrv0KFODQJor_Ql_sKDdGNwgi7Dg3VkcIIuxYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.195.195 waku 2a37eb797d0179e9ef477dcbcb362944b2b220ec6ca79e0149c8aa70cc7af65f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2a37eb797d01. Setting up logs at ./log/docker/node2_2024-12-17_04-13-52__ab8ddfa0-72fb-4d43-82af-ec5714d2cd43__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 14169
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14169/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14169/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.195.195/tcp/14170/p2p/16Uiu2HAmS5HLYrr2rwpAkoKnYg7hd7KEMLM2uxEWfNgygBUTCToy","/ip4/172.18.195.195/tcp/14171/ws/p2p/16Uiu2HAmS5HLYrr2rwpAkoKnYg7hd7KEMLM2uxEWfNgygBUTCToy"],"enrUri":"enr:-L24QGKENNVJPj-5reTM_oSRjsSRVJlzkvBiauU8-nmZ63OvGudi4ZOsAJduN3pEICdwtN4AA2erwmhEl6JtbJShhgwCgmlkgnY0gmlwhKwSw8OKbXVsdGlhZGRyc5YACASsEsPDBjdaAAoErBLDwwY3W90DgnJzhQADAQAAiXNlY3AyNTZrMaEDx2ETtkfT98vNg1xv4djouNaGJ9kM-EdaGT8ulaE8tYSDdGNwgjdag3VkcII3XIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14169/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.150.84/tcp/11971/p2p/16Uiu2HAkzsUnNTWZ8ob3y3aTmaoApUQSgz7XsVtuJE33oUPbekwK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-17_04-13-52__ab8ddfa0-72fb-4d43-82af-ec5714d2cd43__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.4.7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25947', '25948', '25949', '25950', '25951']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25947:25947 -p 25948:25948 -p 25949:25949 -p 25950:25950 -p 25951:25951 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25949 --rest-port=25947 --tcp-port=25948 --discv5-udp-port=25950 --rest-address=0.0.0.0 --nat=extip:172.18.4.7 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dda7ebea4a086d6ea94ccaac66c5e5daa6adf1bfe4eb0debe8bdb43a0d27b12e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25951 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMIjZioisyTMoybjB3XWqcn8gaBxFnOru4B5uCPP8DdlPaBxahjSBYbHV9HGW_51tZp0BKoX-lfIYdtShVytqOMCgmlkgnY0gmlwhKwSllSKbXVsdGlhZGRyc5YACASsEpZUBi7DAAoErBKWVAYuxN0DgnJzhQADAQAAiXNlY3AyNTZrMaECUObgD-k8YvErqy9rW_TAav86kbrv0KFODQJor_Ql_sKDdGNwgi7Dg3VkcIIuxYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.4.7 waku 491a6ede23f0c893477a82678de93e12d79659cb0ea718fac548f0fa90285c53
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 491a6ede23f0. Setting up logs at ./log/docker/node3_2024-12-17_04-13-52__ab8ddfa0-72fb-4d43-82af-ec5714d2cd43__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 25947
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25947/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25947/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.4.7/tcp/25948/p2p/16Uiu2HAmDG4PJZQb5w6fjTiSPHx36zZdX58BoAGJu3aWRDhht19g","/ip4/172.18.4.7/tcp/25949/ws/p2p/16Uiu2HAmDG4PJZQb5w6fjTiSPHx36zZdX58BoAGJu3aWRDhht19g"],"enrUri":"enr:-L24QAGC2utNi-nX3kwGN8Rsos0DcTgIaTGOCV6UYupQ9TYkAn70YEJFzJR31MyfNRgzDSMBDkBhZwLfarw04y8cbYICgmlkgnY0gmlwhKwSBAeKbXVsdGlhZGRyc5YACASsEgQHBmVcAAoErBIEBwZlXd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCPvj8H-E0OBGeHO9YIUR2-5lGGS3urwqdiYIKmJcGW-DdGNwgmVcg3VkcIJlXoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25947/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.150.84/tcp/11971/p2p/16Uiu2HAkzsUnNTWZ8ob3y3aTmaoApUQSgz7XsVtuJE33oUPbekwK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-17_04-13-52__ab8ddfa0-72fb-4d43-82af-ec5714d2cd43__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.135.20
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55928', '55929', '55930', '55931', '55932']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55928:55928 -p 55929:55929 -p 55930:55930 -p 55931:55931 -p 55932:55932 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55930 --rest-port=55928 --tcp-port=55929 --discv5-udp-port=55931 --rest-address=0.0.0.0 --nat=extip:172.18.135.20 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d0c49a93aefd85cb9c86eb18cf1bc3fcbd7dcc92deba0f1fb63c8826bc251fe3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55932 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMIjZioisyTMoybjB3XWqcn8gaBxFnOru4B5uCPP8DdlPaBxahjSBYbHV9HGW_51tZp0BKoX-lfIYdtShVytqOMCgmlkgnY0gmlwhKwSllSKbXVsdGlhZGRyc5YACASsEpZUBi7DAAoErBKWVAYuxN0DgnJzhQADAQAAiXNlY3AyNTZrMaECUObgD-k8YvErqy9rW_TAav86kbrv0KFODQJor_Ql_sKDdGNwgi7Dg3VkcIIuxYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.135.20 waku 0cee62f05ee4511a13bfb11d7c800a033ecb1cdaf245cd1bae80436d1cf4f259
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0cee62f05ee4. Setting up logs at ./log/docker/node4_2024-12-17_04-13-52__ab8ddfa0-72fb-4d43-82af-ec5714d2cd43__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 55928
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55928/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55928/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.20/tcp/55929/p2p/16Uiu2HAmHCn74oeHiCSgCmWvZFoH6vdm5msNTTxfL3Qz2qRh5KQT","/ip4/172.18.135.20/tcp/55930/ws/p2p/16Uiu2HAmHCn74oeHiCSgCmWvZFoH6vdm5msNTTxfL3Qz2qRh5KQT"],"enrUri":"enr:-L24QIEba-1naD2j09w_dOs1Qj8gIkbAsQB8qSuVOkQAmzRcYF5dx7nrCaoSSEyMK37gBrYd7N4SaBwSCIQzwsPfiR4CgmlkgnY0gmlwhKwShxSKbXVsdGlhZGRyc5YACASsEocUBtp5AAoErBKHFAbaet0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQ5N85OOdTKpleqoMtQSLORrYz_VUo3IR-5V3gtvjEXiDdGNwgtp5g3VkcILae4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55928/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.150.84/tcp/11971/p2p/16Uiu2HAkzsUnNTWZ8ob3y3aTmaoApUQSgz7XsVtuJE33oUPbekwK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-17_04-13-52__ab8ddfa0-72fb-4d43-82af-ec5714d2cd43__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.250.203
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4628', '4629', '4630', '4631', '4632']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4628:4628 -p 4629:4629 -p 4630:4630 -p 4631:4631 -p 4632:4632 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4630 --rest-port=4628 --tcp-port=4629 --discv5-udp-port=4631 --rest-address=0.0.0.0 --nat=extip:172.18.250.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=63f5bbcd99efa7dc89ed9d5ed3e5e35274f84293fd6687edfd7483bf063bbb9e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4632 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMIjZioisyTMoybjB3XWqcn8gaBxFnOru4B5uCPP8DdlPaBxahjSBYbHV9HGW_51tZp0BKoX-lfIYdtShVytqOMCgmlkgnY0gmlwhKwSllSKbXVsdGlhZGRyc5YACASsEpZUBi7DAAoErBKWVAYuxN0DgnJzhQADAQAAiXNlY3AyNTZrMaECUObgD-k8YvErqy9rW_TAav86kbrv0KFODQJor_Ql_sKDdGNwgi7Dg3VkcIIuxYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.250.203 waku 2e10e524b2a65e324c44f7827378622204d645393a640abbedf656387a01a53b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2e10e524b2a6. Setting up logs at ./log/docker/node5_2024-12-17_04-13-52__ab8ddfa0-72fb-4d43-82af-ec5714d2cd43__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4628
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4628/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4628/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.203/tcp/4629/p2p/16Uiu2HAmLcjcLK1i8wwpVS7wEk8RhxoDZnqa6yVLiCeqJtMSQcYb","/ip4/172.18.250.203/tcp/4630/ws/p2p/16Uiu2HAmLcjcLK1i8wwpVS7wEk8RhxoDZnqa6yVLiCeqJtMSQcYb"],"enrUri":"enr:-L24QEaUVN4JGLyV8Rl6TtKia5WW7COvQ9AHuupeRywBAWagBGh2_sZaEytvMwwen_Gm9m9XZi3zQcEv75H4CczTXX8CgmlkgnY0gmlwhKwS-suKbXVsdGlhZGRyc5YACASsEvrLBhIVAAoErBL6ywYSFt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDdkmqoOJdJiGn5Vg3_dBWSZhPLjSM8kFXiqpd7uSkyvyDdGNwghIVg3VkcIISF4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4628/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.150.84/tcp/11971/p2p/16Uiu2HAkzsUnNTWZ8ob3y3aTmaoApUQSgz7XsVtuJE33oUPbekwK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11970/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14169/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25947/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55928/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4628/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11970/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11970/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408840108707072,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14169/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408840108707072,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25947/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408840108707072,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55928/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408840108707072,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4628/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408840108707072,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4628/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11970/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408840238958592,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14169/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408840238958592,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25947/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408840238958592,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55928/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408840238958592,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4628/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734408840238958592,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 22ca90d85f6b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2a37eb797d01
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 22ca90d85f6b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 491a6ede23f0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2a37eb797d01. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0cee62f05ee4
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 491a6ede23f0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2e10e524b2a6
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0cee62f05ee4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.