[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-15_12-23-24__01dd2172-17f2-48d5-9a7a-62056ff3f537
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-15_12-23-24__01dd2172-17f2-48d5-9a7a-62056ff3f537__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.11.193
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44690', '44691', '44692', '44693', '44694']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44690:44690 -p 44691:44691 -p 44692:44692 -p 44693:44693 -p 44694:44694 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44692 --rest-port=44690 --tcp-port=44691 --discv5-udp-port=44693 --rest-address=0.0.0.0 --nat=extip:172.18.11.193 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c0bf7eb3df2aee7f8a82a87727dcc2cf1ed7c7191ba9f15af17c8ad6ac3bfce2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44694 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.11.193 waku 84b305d79ce561bbbd86da7990485d196ab83bca3181c408dab4edee1e4984e7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 84b305d79ce5. Setting up logs at ./log/docker/node1_2024-12-15_12-23-24__01dd2172-17f2-48d5-9a7a-62056ff3f537__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 44690
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5255e8abbcd4. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44690/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44690/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.193/tcp/44691/p2p/16Uiu2HAmDyrgabBCrqwccDYHpx1rrj7SRWuNoex4qsKbFkzigW56","/ip4/172.18.11.193/tcp/44692/ws/p2p/16Uiu2HAmDyrgabBCrqwccDYHpx1rrj7SRWuNoex4qsKbFkzigW56"],"enrUri":"enr:-L24QCzoEK8-W5TiJYBOCf7tPR1r-GIBKm_7ZVXqsksZf3e8TuqKU7w42UWY06-MzX2wMHNVHu5-avsaybp5EpxkYowCgmlkgnY0gmlwhKwSC8GKbXVsdGlhZGRyc5YACASsEgvBBq6TAAoErBILwQaulN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDE7ENf47oRbddAulIS96fb2VeLblWnPJstqfuFQw_UAmDdGNwgq6Tg3VkcIKulYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-15_12-23-24__01dd2172-17f2-48d5-9a7a-62056ff3f537__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.58.8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49684', '49685', '49686', '49687', '49688']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49684:49684 -p 49685:49685 -p 49686:49686 -p 49687:49687 -p 49688:49688 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49686 --rest-port=49684 --tcp-port=49685 --discv5-udp-port=49687 --rest-address=0.0.0.0 --nat=extip:172.18.58.8 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b9345abc7d9ac0fe1a867bd71b26e7da92e033ee2e084bf0aa741a1dd5a2eb09 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49688 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCzoEK8-W5TiJYBOCf7tPR1r-GIBKm_7ZVXqsksZf3e8TuqKU7w42UWY06-MzX2wMHNVHu5-avsaybp5EpxkYowCgmlkgnY0gmlwhKwSC8GKbXVsdGlhZGRyc5YACASsEgvBBq6TAAoErBILwQaulN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDE7ENf47oRbddAulIS96fb2VeLblWnPJstqfuFQw_UAmDdGNwgq6Tg3VkcIKulYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.58.8 waku 705a1cbc5c497e8614944f23adb71164e6c714d9374bf1028235b2150bb00517
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 705a1cbc5c49. Setting up logs at ./log/docker/node2_2024-12-15_12-23-24__01dd2172-17f2-48d5-9a7a-62056ff3f537__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 49684
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49684/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49684/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.58.8/tcp/49685/p2p/16Uiu2HAm7yxduYWGFcvFb1DfXr2fgqoaYf9GRSv43AGFVinF1CPG","/ip4/172.18.58.8/tcp/49686/ws/p2p/16Uiu2HAm7yxduYWGFcvFb1DfXr2fgqoaYf9GRSv43AGFVinF1CPG"],"enrUri":"enr:-L24QPIC4sFItVPg1IwNde1CbeiSITClP_bkImFBXhuIr4uTDg-T8nZeBH-PZyDgFsZaMzsEKgqu4IlGekG7edbhdfYCgmlkgnY0gmlwhKwSOgiKbXVsdGlhZGRyc5YACASsEjoIBsIVAAoErBI6CAbCFt0DgnJzhQADAQAAiXNlY3AyNTZrMaECupGpzInGES_M-OK4Dyq17CeXZF5f6C_B8WsOclDu19eDdGNwgsIVg3VkcILCF4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49684/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.11.193/tcp/44691/p2p/16Uiu2HAmDyrgabBCrqwccDYHpx1rrj7SRWuNoex4qsKbFkzigW56"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-15_12-23-24__01dd2172-17f2-48d5-9a7a-62056ff3f537__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.60.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37120', '37121', '37122', '37123', '37124']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37120:37120 -p 37121:37121 -p 37122:37122 -p 37123:37123 -p 37124:37124 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37122 --rest-port=37120 --tcp-port=37121 --discv5-udp-port=37123 --rest-address=0.0.0.0 --nat=extip:172.18.60.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=db9ee925efba1dd6e6cb3b8c71ea1ca6d2351cbebaaaf8e1278228cc5aeae6f5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37124 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCzoEK8-W5TiJYBOCf7tPR1r-GIBKm_7ZVXqsksZf3e8TuqKU7w42UWY06-MzX2wMHNVHu5-avsaybp5EpxkYowCgmlkgnY0gmlwhKwSC8GKbXVsdGlhZGRyc5YACASsEgvBBq6TAAoErBILwQaulN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDE7ENf47oRbddAulIS96fb2VeLblWnPJstqfuFQw_UAmDdGNwgq6Tg3VkcIKulYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.60.230 waku 943408c7d24f4764fea303f13763a82940b1cc3b8479b3b6b95dcb7b275f9b2d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 943408c7d24f. Setting up logs at ./log/docker/node3_2024-12-15_12-23-24__01dd2172-17f2-48d5-9a7a-62056ff3f537__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 37120
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37120/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37120/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.230/tcp/37121/p2p/16Uiu2HAmFhRVDnLHGL2NVWcCGM31xMJAbAqWyCPHybLX4yroVuTr","/ip4/172.18.60.230/tcp/37122/ws/p2p/16Uiu2HAmFhRVDnLHGL2NVWcCGM31xMJAbAqWyCPHybLX4yroVuTr"],"enrUri":"enr:-L24QHIxEWTI19AMqValn-QzKicEfngp7M0zW8w8qrvUFlbDch_vMFgynmVe7d2I6NyoZGITsN5NicBTdrtdnQ7wmrACgmlkgnY0gmlwhKwSPOaKbXVsdGlhZGRyc5YACASsEjzmBpEBAAoErBI85gaRAt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLTKlBP1xYzmzkANgbmvwqfejD0B1FMpc7qBPPzv_u8WDdGNwgpEBg3VkcIKRA4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37120/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.11.193/tcp/44691/p2p/16Uiu2HAmDyrgabBCrqwccDYHpx1rrj7SRWuNoex4qsKbFkzigW56"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-15_12-23-24__01dd2172-17f2-48d5-9a7a-62056ff3f537__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.158.182
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['65308', '65309', '65310', '65311', '65312']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 65308:65308 -p 65309:65309 -p 65310:65310 -p 65311:65311 -p 65312:65312 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65310 --rest-port=65308 --tcp-port=65309 --discv5-udp-port=65311 --rest-address=0.0.0.0 --nat=extip:172.18.158.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fcde5d4cc1dda98ff726c7e23edbc5622a0adfcdce52c9be6f80ca6d5f9c5a84 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65312 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCzoEK8-W5TiJYBOCf7tPR1r-GIBKm_7ZVXqsksZf3e8TuqKU7w42UWY06-MzX2wMHNVHu5-avsaybp5EpxkYowCgmlkgnY0gmlwhKwSC8GKbXVsdGlhZGRyc5YACASsEgvBBq6TAAoErBILwQaulN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDE7ENf47oRbddAulIS96fb2VeLblWnPJstqfuFQw_UAmDdGNwgq6Tg3VkcIKulYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.158.182 waku cdcc98e48c53606c79533b80e3d1b345393d24dd0bde969435f507149ff62ff6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cdcc98e48c53. Setting up logs at ./log/docker/node4_2024-12-15_12-23-24__01dd2172-17f2-48d5-9a7a-62056ff3f537__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 65308
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65308/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65308/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.158.182/tcp/65309/p2p/16Uiu2HAmPBMDHnyLHriemccTcZMb1AnCgQwc281Txt929AQpziDn","/ip4/172.18.158.182/tcp/65310/ws/p2p/16Uiu2HAmPBMDHnyLHriemccTcZMb1AnCgQwc281Txt929AQpziDn"],"enrUri":"enr:-L24QE42nD9lQJGEQwFEvAhaPHJLWhX_5U4H-LkMlRu6o6hXb4ogXRjRkDPMjsOKIuSjQdAcAHaakhvnD_frO2ajr60CgmlkgnY0gmlwhKwSnraKbXVsdGlhZGRyc5YACASsEp62Bv8dAAoErBKetgb_Ht0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnFvh4nErsOCY7YFcJ5ld3VlHlfZ7IexQwxqTYoTAqSGDdGNwgv8dg3VkcIL_H4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65308/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.11.193/tcp/44691/p2p/16Uiu2HAmDyrgabBCrqwccDYHpx1rrj7SRWuNoex4qsKbFkzigW56"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-15_12-23-24__01dd2172-17f2-48d5-9a7a-62056ff3f537__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.137.5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17136', '17137', '17138', '17139', '17140']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17136:17136 -p 17137:17137 -p 17138:17138 -p 17139:17139 -p 17140:17140 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17138 --rest-port=17136 --tcp-port=17137 --discv5-udp-port=17139 --rest-address=0.0.0.0 --nat=extip:172.18.137.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b20f64f4fbe9e37cd0ffe7e3bf6eedcdcde745a7b213341bf368b850cdfaa5bd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17140 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCzoEK8-W5TiJYBOCf7tPR1r-GIBKm_7ZVXqsksZf3e8TuqKU7w42UWY06-MzX2wMHNVHu5-avsaybp5EpxkYowCgmlkgnY0gmlwhKwSC8GKbXVsdGlhZGRyc5YACASsEgvBBq6TAAoErBILwQaulN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDE7ENf47oRbddAulIS96fb2VeLblWnPJstqfuFQw_UAmDdGNwgq6Tg3VkcIKulYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.137.5 waku 145ce9edc7090b5b1f7f9135158925d9f88b12d956f40c69d502afbfb71aa5c1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 145ce9edc709. Setting up logs at ./log/docker/node5_2024-12-15_12-23-24__01dd2172-17f2-48d5-9a7a-62056ff3f537__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 17136
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17136/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17136/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.5/tcp/17137/p2p/16Uiu2HAmMQ45ZaGJ2sreT8rinNR5peqUpfyzJ9G7ycnU7owoLxQw","/ip4/172.18.137.5/tcp/17138/ws/p2p/16Uiu2HAmMQ45ZaGJ2sreT8rinNR5peqUpfyzJ9G7ycnU7owoLxQw"],"enrUri":"enr:-L24QP1YP0xEqw7ArBTmalxQcbh-rTqapGL8a7HzP5w1dL8Wb6LL6xVBnj7u5T8Z23W65J9eBu8tQUWMdF-gPZQJNKsCgmlkgnY0gmlwhKwSiQWKbXVsdGlhZGRyc5YACASsEokFBkLxAAoErBKJBQZC8t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgeWvuJscBNsb24AwkQaBP9J7P0kC1I6QB6ErTQlHiUCDdGNwgkLxg3VkcIJC84V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17136/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.11.193/tcp/44691/p2p/16Uiu2HAmDyrgabBCrqwccDYHpx1rrj7SRWuNoex4qsKbFkzigW56"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44690/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49684/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37120/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65308/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17136/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734265411033393920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49684/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734265411033393920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37120/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734265411033393920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65308/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734265411033393920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734265411033393920,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734265411157352192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49684/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734265411157352192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37120/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734265411157352192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65308/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734265411157352192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734265411157352192,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 84b305d79ce5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 705a1cbc5c49
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 84b305d79ce5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 943408c7d24f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 705a1cbc5c49. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id cdcc98e48c53
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 943408c7d24f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 145ce9edc709
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cdcc98e48c53. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.