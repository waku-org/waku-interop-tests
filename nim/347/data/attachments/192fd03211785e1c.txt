[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-09-06_09-34-30__da98bae7-6d7a-4498-92d5-c5feb593ee50
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-06_09-34-30__da98bae7-6d7a-4498-92d5-c5feb593ee50__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.61.134
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['60373', '60374', '60375', '60376', '60377']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 60373:60373 -p 60374:60374 -p 60375:60375 -p 60376:60376 -p 60377:60377 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60375 --rest-port=60373 --tcp-port=60374 --discv5-udp-port=60376 --rest-address=0.0.0.0 --nat=extip:172.18.61.134 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe7a68bcd90a3a1bc721aae3ba1ebc9cddb8f6f0fe05807752bc0a7ffaf41064 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60377 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.61.134 waku 3dc14a1c4bad68028dbf9ae1bdcad896ccc09e822097c45d3e280efd0579474e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3dc14a1c4bad. Setting up logs at ./log/docker/node1_2024-09-06_09-34-30__da98bae7-6d7a-4498-92d5-c5feb593ee50__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60373
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60373/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60373/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.61.134/tcp/60374/p2p/16Uiu2HAkz4Dhd79Bco3YvJ41YBw5XQaGXxT54BN1Cq4LLoUaVxBy","/ip4/172.18.61.134/tcp/60375/ws/p2p/16Uiu2HAkz4Dhd79Bco3YvJ41YBw5XQaGXxT54BN1Cq4LLoUaVxBy"],"enrUri":"enr:-LO4QFYibfmkK-_HEBE8YQPSBKIW55O4bI97TKpSiBIjdEp3DtPR7jyavD4ip6nDnEmPqIfMmC3DsVeYzjusysoniQABgmlkgnY0gmlwhKwSPYaKbXVsdGlhZGRyc4wACgSsEj2GBuvX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJEy4YsK4RNE-wB0oiF1vFq5IQY8SLhf9Zg-GPumeuoiIN0Y3CC69aDdWRwguvYhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-06_09-34-30__da98bae7-6d7a-4498-92d5-c5feb593ee50__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.124.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['23410', '23411', '23412', '23413', '23414']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 23410:23410 -p 23411:23411 -p 23412:23412 -p 23413:23413 -p 23414:23414 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23412 --rest-port=23410 --tcp-port=23411 --discv5-udp-port=23413 --rest-address=0.0.0.0 --nat=extip:172.18.124.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f699e9bc7b784dc3282adb8c56f87150dbf399f5016aff8c7e76aec7dfce1583 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23414 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QFYibfmkK-_HEBE8YQPSBKIW55O4bI97TKpSiBIjdEp3DtPR7jyavD4ip6nDnEmPqIfMmC3DsVeYzjusysoniQABgmlkgnY0gmlwhKwSPYaKbXVsdGlhZGRyc4wACgSsEj2GBuvX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJEy4YsK4RNE-wB0oiF1vFq5IQY8SLhf9Zg-GPumeuoiIN0Y3CC69aDdWRwguvYhXdha3UyBQ --filternode=/ip4/172.18.61.134/tcp/60374/p2p/16Uiu2HAkz4Dhd79Bco3YvJ41YBw5XQaGXxT54BN1Cq4LLoUaVxBy
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.124.246 waku 4d501c9aaa4d6499d079441d47798bd56c306909d8e741c0a8c234dfa517ca0f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4d501c9aaa4d. Setting up logs at ./log/docker/node2_2024-09-06_09-34-30__da98bae7-6d7a-4498-92d5-c5feb593ee50__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23410
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23410/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23410/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.124.246/tcp/23411/p2p/16Uiu2HAm5EhYxQ1UsD99QZwbKZf7XR9tQZoEp1cJ1u9GZUQfxGsY","/ip4/172.18.124.246/tcp/23412/ws/p2p/16Uiu2HAm5EhYxQ1UsD99QZwbKZf7XR9tQZoEp1cJ1u9GZUQfxGsY"],"enrUri":"enr:-LO4QP8a4Pu2S3guvnFeeW7oHGEHO-2WUnKQttjUkZSvER_ybZTTXgxnWV4I5mw9_2j8d7_hkhcBniSrwIoLYJLwPl0BgmlkgnY0gmlwhKwSfPaKbXVsdGlhZGRyc4wACgSsEnz2Blt03QOCcnOFAAMBAACJc2VjcDI1NmsxoQKRxUHvxlhyvwW-nv2VLS61n4hLzASZ7hZRSZzFCydop4N0Y3CCW3ODdWRwglt1hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23410/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.61.134/tcp/60374/p2p/16Uiu2HAkz4Dhd79Bco3YvJ41YBw5XQaGXxT54BN1Cq4LLoUaVxBy"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-06_09-34-30__da98bae7-6d7a-4498-92d5-c5feb593ee50__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.138.204
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['49085', '49086', '49087', '49088', '49089']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 49085:49085 -p 49086:49086 -p 49087:49087 -p 49088:49088 -p 49089:49089 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49087 --rest-port=49085 --tcp-port=49086 --discv5-udp-port=49088 --rest-address=0.0.0.0 --nat=extip:172.18.138.204 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0dcd2ee9ab7cfbdcb08f67aa2ff5ed5fe367b7f61bca14af33a0fdaeadbbae1a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49089 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QFYibfmkK-_HEBE8YQPSBKIW55O4bI97TKpSiBIjdEp3DtPR7jyavD4ip6nDnEmPqIfMmC3DsVeYzjusysoniQABgmlkgnY0gmlwhKwSPYaKbXVsdGlhZGRyc4wACgSsEj2GBuvX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJEy4YsK4RNE-wB0oiF1vFq5IQY8SLhf9Zg-GPumeuoiIN0Y3CC69aDdWRwguvYhXdha3UyBQ --filternode=/ip4/172.18.61.134/tcp/60374/p2p/16Uiu2HAkz4Dhd79Bco3YvJ41YBw5XQaGXxT54BN1Cq4LLoUaVxBy
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.138.204 waku 58c5f64f555c56c3ec43e6e46fd6e027970aa560c220852e61fd83dfd8f6e667
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 58c5f64f555c. Setting up logs at ./log/docker/node3_2024-09-06_09-34-30__da98bae7-6d7a-4498-92d5-c5feb593ee50__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 49085
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49085/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49085/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.204/tcp/49086/p2p/16Uiu2HAmJ6MtNtusGakzkV2mAz23fPgrHQeqJgGvfXC2CsdGKMPs","/ip4/172.18.138.204/tcp/49087/ws/p2p/16Uiu2HAmJ6MtNtusGakzkV2mAz23fPgrHQeqJgGvfXC2CsdGKMPs"],"enrUri":"enr:-LO4QMgGCjJ2WqibVKDjZeBzwNqFrJUu8m18KI6gAH5o7_IZGZlyiSBfnigzzLTKiJ3oA-804czqFuSWlpJM6rZOLH4BgmlkgnY0gmlwhKwSisyKbXVsdGlhZGRyc4wACgSsEorMBr-_3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNQyk5CW_0dOoy1AAmttC9-dBGqgh0KGTIFKEFA7tsUPoN0Y3CCv76DdWRwgr_AhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49085/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.61.134/tcp/60374/p2p/16Uiu2HAkz4Dhd79Bco3YvJ41YBw5XQaGXxT54BN1Cq4LLoUaVxBy"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-06_09-34-30__da98bae7-6d7a-4498-92d5-c5feb593ee50__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.78.123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['22667', '22668', '22669', '22670', '22671']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 22667:22667 -p 22668:22668 -p 22669:22669 -p 22670:22670 -p 22671:22671 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22669 --rest-port=22667 --tcp-port=22668 --discv5-udp-port=22670 --rest-address=0.0.0.0 --nat=extip:172.18.78.123 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3487ce6c94fb8c7d31a7f0fc5f2128fe52fddafb7b7f58ddf0fbd5dcac97dc2a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22671 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QFYibfmkK-_HEBE8YQPSBKIW55O4bI97TKpSiBIjdEp3DtPR7jyavD4ip6nDnEmPqIfMmC3DsVeYzjusysoniQABgmlkgnY0gmlwhKwSPYaKbXVsdGlhZGRyc4wACgSsEj2GBuvX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJEy4YsK4RNE-wB0oiF1vFq5IQY8SLhf9Zg-GPumeuoiIN0Y3CC69aDdWRwguvYhXdha3UyBQ --filternode=/ip4/172.18.61.134/tcp/60374/p2p/16Uiu2HAkz4Dhd79Bco3YvJ41YBw5XQaGXxT54BN1Cq4LLoUaVxBy
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.78.123 waku f86779791bbffc5d1376ace90f7471deefce5e3ec61ab0c927f33c693f38f2c0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f86779791bbf. Setting up logs at ./log/docker/node4_2024-09-06_09-34-30__da98bae7-6d7a-4498-92d5-c5feb593ee50__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 22667
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22667/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22667/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.123/tcp/22668/p2p/16Uiu2HAkvunJBswDN4oQZZFTxp7Q7MuLuidueXtT8fVShsbstCnf","/ip4/172.18.78.123/tcp/22669/ws/p2p/16Uiu2HAkvunJBswDN4oQZZFTxp7Q7MuLuidueXtT8fVShsbstCnf"],"enrUri":"enr:-LO4QB37C4C2ar6g97mzkO1_iRTa-yNMDWfn7A1yQh9k-lEYDBg62lFr06bD1qjIwu-0VE8SDraja9DRPFKaalHzz7IBgmlkgnY0gmlwhKwSTnuKbXVsdGlhZGRyc4wACgSsEk57BliN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIWDxeoCJQk4Jc3V02W75EyJr_HQDhDI2phcyUzHnt6vIN0Y3CCWIyDdWRwgliOhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22667/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.61.134/tcp/60374/p2p/16Uiu2HAkz4Dhd79Bco3YvJ41YBw5XQaGXxT54BN1Cq4LLoUaVxBy"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-06_09-34-30__da98bae7-6d7a-4498-92d5-c5feb593ee50__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.188.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63413', '63414', '63415', '63416', '63417']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63413:63413 -p 63414:63414 -p 63415:63415 -p 63416:63416 -p 63417:63417 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63415 --rest-port=63413 --tcp-port=63414 --discv5-udp-port=63416 --rest-address=0.0.0.0 --nat=extip:172.18.188.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=04260d8dd3e2edd6cefe47dbcaf71348e8801c37c1eab9e09cbdb5bd3b3e2c56 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63417 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QFYibfmkK-_HEBE8YQPSBKIW55O4bI97TKpSiBIjdEp3DtPR7jyavD4ip6nDnEmPqIfMmC3DsVeYzjusysoniQABgmlkgnY0gmlwhKwSPYaKbXVsdGlhZGRyc4wACgSsEj2GBuvX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJEy4YsK4RNE-wB0oiF1vFq5IQY8SLhf9Zg-GPumeuoiIN0Y3CC69aDdWRwguvYhXdha3UyBQ --filternode=/ip4/172.18.61.134/tcp/60374/p2p/16Uiu2HAkz4Dhd79Bco3YvJ41YBw5XQaGXxT54BN1Cq4LLoUaVxBy
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.188.136 waku 3ae16e0c9d3eadb86b8cc7ed51a93d679130535149daff104374c887cb5ea07c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3ae16e0c9d3e. Setting up logs at ./log/docker/node5_2024-09-06_09-34-30__da98bae7-6d7a-4498-92d5-c5feb593ee50__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63413
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63413/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63413/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.188.136/tcp/63414/p2p/16Uiu2HAmTS6oD6DQUyuB1eiLaCsCopsWcaWAPe82VBt1iHQDs4Ke","/ip4/172.18.188.136/tcp/63415/ws/p2p/16Uiu2HAmTS6oD6DQUyuB1eiLaCsCopsWcaWAPe82VBt1iHQDs4Ke"],"enrUri":"enr:-LO4QGsz5r_KuHHSQ78U0G-tQ-gzsXvMyvuM0KnP2TiofWylbUXCHp1MS_bNfzqAG_MQKY88PZJgy5VLCwXyugER_vQBgmlkgnY0gmlwhKwSvIiKbXVsdGlhZGRyc4wACgSsEryIBve33QOCcnOFAAMBAACJc2VjcDI1NmsxoQPbkgr7Iry4Ez0D91BQeco6U6tbSi24kbETl5XYZ3FuFYN0Y3CC97aDdWRwgve4hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63413/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.61.134/tcp/60374/p2p/16Uiu2HAkz4Dhd79Bco3YvJ41YBw5XQaGXxT54BN1Cq4LLoUaVxBy"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60373/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23410/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f3104279-5e6f-4880-b862-9d4df20284fe", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f3104279-5e6f-4880-b862-9d4df20284fe","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49085/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b568a192-39c5-4c7e-8687-5d085f6ec36f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b568a192-39c5-4c7e-8687-5d085f6ec36f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22667/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9b27166f-bcc5-4832-bfdd-c0f2e130377b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9b27166f-bcc5-4832-bfdd-c0f2e130377b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63413/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "aea70c52-4252-4051-bdc3-d67cf3820e81", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"aea70c52-4252-4051-bdc3-d67cf3820e81","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23410/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1725615278992200704,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49085/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:49085/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3dc14a1c4bad
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4d501c9aaa4d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 58c5f64f555c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f86779791bbf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3ae16e0c9d3e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.