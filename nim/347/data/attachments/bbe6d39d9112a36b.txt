[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_pubsub_topic with id: 2024-09-06_09-37-06__d125706e-7ed6-4a5c-a933-b09770df37eb
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-06_09-37-06__d125706e-7ed6-4a5c-a933-b09770df37eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.221.163
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['23333', '23334', '23335', '23336', '23337']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 23333:23333 -p 23334:23334 -p 23335:23335 -p 23336:23336 -p 23337:23337 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23335 --rest-port=23333 --tcp-port=23334 --discv5-udp-port=23336 --rest-address=0.0.0.0 --nat=extip:172.18.221.163 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3ca48153d93e677d6fa4a7ac80e2bf82e6e05ae4cdd80a15bedec8af6be16845 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23337 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.221.163 waku 45256d632b912b7ff9e343048d98737fb88b2c0b6d613bbe040286beffe92a9c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 45256d632b91. Setting up logs at ./log/docker/node1_2024-09-06_09-37-06__d125706e-7ed6-4a5c-a933-b09770df37eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23333
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23333/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23333/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.163/tcp/23334/p2p/16Uiu2HAkwewNB5bn5LwVBGYD7BFeK3ct7FcW9UUgMsPi1h3Q8cad","/ip4/172.18.221.163/tcp/23335/ws/p2p/16Uiu2HAkwewNB5bn5LwVBGYD7BFeK3ct7FcW9UUgMsPi1h3Q8cad"],"enrUri":"enr:-LO4QDPH6NlT4CmoiDNFfeFh8u9asN_5Z7rcSNUyC3cEWKejLBNeuAHh0d2-syFhmNQQ8gbEG_HkGp3eQ-aqZyTCwmABgmlkgnY0gmlwhKwS3aOKbXVsdGlhZGRyc4wACgSsEt2jBlsn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIhHVI84SZrZ7qtIx3pVtfEafrzQunELOlJfJWVpVUZUoN0Y3CCWyaDdWRwglsohXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-06_09-37-06__d125706e-7ed6-4a5c-a933-b09770df37eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.35.66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['22078', '22079', '22080', '22081', '22082']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 22078:22078 -p 22079:22079 -p 22080:22080 -p 22081:22081 -p 22082:22082 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22080 --rest-port=22078 --tcp-port=22079 --discv5-udp-port=22081 --rest-address=0.0.0.0 --nat=extip:172.18.35.66 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d76e4ee1cf5efddbe07625f170ca69c39cab34c59d2dfb6b0adc0ee00a82bacb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22082 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDPH6NlT4CmoiDNFfeFh8u9asN_5Z7rcSNUyC3cEWKejLBNeuAHh0d2-syFhmNQQ8gbEG_HkGp3eQ-aqZyTCwmABgmlkgnY0gmlwhKwS3aOKbXVsdGlhZGRyc4wACgSsEt2jBlsn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIhHVI84SZrZ7qtIx3pVtfEafrzQunELOlJfJWVpVUZUoN0Y3CCWyaDdWRwglsohXdha3UyBQ --filternode=/ip4/172.18.221.163/tcp/23334/p2p/16Uiu2HAkwewNB5bn5LwVBGYD7BFeK3ct7FcW9UUgMsPi1h3Q8cad
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.35.66 waku 1b1f29cc686c643b28a2d4fe6ced54ffa5dcf44fc93302780c20185304aada84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1b1f29cc686c. Setting up logs at ./log/docker/node2_2024-09-06_09-37-06__d125706e-7ed6-4a5c-a933-b09770df37eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 22078
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22078/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22078/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.66/tcp/22079/p2p/16Uiu2HAmPEdGfR3aqGbvVceDuWGiXQ6KqeLpRy4dCnubGw5caJkR","/ip4/172.18.35.66/tcp/22080/ws/p2p/16Uiu2HAmPEdGfR3aqGbvVceDuWGiXQ6KqeLpRy4dCnubGw5caJkR"],"enrUri":"enr:-LO4QOwdInLGbrRkxRYML7XUoZvXhRc3F_I8ld0r7FZgpu_2IYyPRg__OAbbrJeLb9VmmF6wCU8wmbUmwPkgXsHbr64BgmlkgnY0gmlwhKwSI0KKbXVsdGlhZGRyc4wACgSsEiNCBlZA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOdMsgj8-0o2pGHaiuzwvZoFX3gyef8Mowepciy6jyNEoN0Y3CCVj-DdWRwglZBhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22078/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.163/tcp/23334/p2p/16Uiu2HAkwewNB5bn5LwVBGYD7BFeK3ct7FcW9UUgMsPi1h3Q8cad"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23333/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22078/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f7286e5a-91de-4722-b490-6e8f9ee727a9", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f7286e5a-91de-4722-b490-6e8f9ee727a9","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:22078/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:22078/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 45256d632b91
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1b1f29cc686c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.