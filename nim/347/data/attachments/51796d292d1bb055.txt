[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_messages_with_timestamps_close_to_now with id: 2024-09-06_09-57-59__fe0c761e-ea37-4543-a8af-28150837f7a8
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-06_09-57-59__fe0c761e-ea37-4543-a8af-28150837f7a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.122.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['41849', '41850', '41851', '41852', '41853']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 41849:41849 -p 41850:41850 -p 41851:41851 -p 41852:41852 -p 41853:41853 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41851 --rest-port=41849 --tcp-port=41850 --discv5-udp-port=41852 --rest-address=0.0.0.0 --nat=extip:172.18.122.29 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=68ebb1bdb79f2f2d8b06822dce0ffdec2ac1ddd5a16bdebceaafbc4f0ca3d5ec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41853 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.122.29 waku da255c5e7d35c1faffdab46afea09db68223c737c033f4b85911d4a060f25cf5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID da255c5e7d35. Setting up logs at ./log/docker/publishing_node1_2024-09-06_09-57-59__fe0c761e-ea37-4543-a8af-28150837f7a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 41849
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41849/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41849/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.122.29/tcp/41850/p2p/16Uiu2HAmBRWSVHvdbx6SEeV25hqV8JKdkwbd7Kkwyobz7FWvYqQM","/ip4/172.18.122.29/tcp/41851/ws/p2p/16Uiu2HAmBRWSVHvdbx6SEeV25hqV8JKdkwbd7Kkwyobz7FWvYqQM"],"enrUri":"enr:-LO4QDC5mFjzGTIoFtyt9_MCAeLFhlW9rBGObTgHPzYe8cVVBSHns2uVsTp8slV4MXdY1eNAVp188m7vGwBAYO5UzREBgmlkgnY0gmlwhKwSeh2KbXVsdGlhZGRyc4wACgSsEnodBqN73QOCcnOFAAMBAACJc2VjcDI1NmsxoQLtsDRGrLShDY6oL2i3ueXSiCfi55mtSStFDNb4cq7J0oN0Y3CCo3qDdWRwgqN8hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-06_09-57-59__fe0c761e-ea37-4543-a8af-28150837f7a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.106.36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32483', '32484', '32485', '32486', '32487']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32483:32483 -p 32484:32484 -p 32485:32485 -p 32486:32486 -p 32487:32487 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32485 --rest-port=32483 --tcp-port=32484 --discv5-udp-port=32486 --rest-address=0.0.0.0 --nat=extip:172.18.106.36 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=233a6435e91eeceb4d8442bbb1abdd9fefcef2a6aadac3ffaf2acda1c3cd8f6c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32487 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDC5mFjzGTIoFtyt9_MCAeLFhlW9rBGObTgHPzYe8cVVBSHns2uVsTp8slV4MXdY1eNAVp188m7vGwBAYO5UzREBgmlkgnY0gmlwhKwSeh2KbXVsdGlhZGRyc4wACgSsEnodBqN73QOCcnOFAAMBAACJc2VjcDI1NmsxoQLtsDRGrLShDY6oL2i3ueXSiCfi55mtSStFDNb4cq7J0oN0Y3CCo3qDdWRwgqN8hXdha3UyAw --storenode=/ip4/172.18.122.29/tcp/41850/p2p/16Uiu2HAmBRWSVHvdbx6SEeV25hqV8JKdkwbd7Kkwyobz7FWvYqQM --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.106.36 waku 0e04b3bf43ff816a98a6b754806f28312cdaf15b63da1b5595219f7a85850228
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0e04b3bf43ff. Setting up logs at ./log/docker/store_node1_2024-09-06_09-57-59__fe0c761e-ea37-4543-a8af-28150837f7a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32483
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32483/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32483/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.106.36/tcp/32484/p2p/16Uiu2HAkzJU844KwZ74dkYsXTRDhb8dUW94psVgSM3H5tRhyvJHH","/ip4/172.18.106.36/tcp/32485/ws/p2p/16Uiu2HAkzJU844KwZ74dkYsXTRDhb8dUW94psVgSM3H5tRhyvJHH"],"enrUri":"enr:-LO4QJw4FYBbzchk_cwopT4nqCvy2KalAZ_d2Q6vOzzlfGWsSW3ycZO0s4mc0w5TOc-DKRrs2AgPaMk_KaNe8WNxD3IBgmlkgnY0gmlwhKwSaiSKbXVsdGlhZGRyc4wACgSsEmokBn7l3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJIcfYoVoyKUw7dJ94MEQdHf4LE6lb8TJUBvKWHPP_zXIN0Y3CCfuSDdWRwgn7mhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32483/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.122.29/tcp/41850/p2p/16Uiu2HAmBRWSVHvdbx6SEeV25hqV8JKdkwbd7Kkwyobz7FWvYqQM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41849/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32483/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 3 sec Past
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41849/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo="}]}'
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32483/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo="}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41849/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo="},{"messageHash":"xtFIQo5gJRqAGxbzXgM8TyAA8TP6bQSXYeF4zPWtyVA="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 1 sec Past failed: Message hash at index 0 returned by store doesn't match the computed message hash xtFIQo5gJRqAGxbzXgM8TyAA8TP6bQSXYeF4zPWtyVA=. Actual hash: kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 0.1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41849/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo="},{"messageHash":"xtFIQo5gJRqAGxbzXgM8TyAA8TP6bQSXYeF4zPWtyVA="},{"messageHash":"AHsqraHKtzx7oWa65Z17rXXa5HBgcwio+sDunqTkUIA="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 0.1 sec Past failed: Message hash at index 0 returned by store doesn't match the computed message hash AHsqraHKtzx7oWa65Z17rXXa5HBgcwio+sDunqTkUIA=. Actual hash: kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 0.1 sec Future
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41849/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo="},{"messageHash":"xtFIQo5gJRqAGxbzXgM8TyAA8TP6bQSXYeF4zPWtyVA="},{"messageHash":"AHsqraHKtzx7oWa65Z17rXXa5HBgcwio+sDunqTkUIA="},{"messageHash":"tduGDZHETubBL1XSqotQg8mmbSudBeo7FaSY9qMf+XQ="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 0.1 sec Future failed: Message hash at index 0 returned by store doesn't match the computed message hash tduGDZHETubBL1XSqotQg8mmbSudBeo7FaSY9qMf+XQ=. Actual hash: kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 2 sec Future
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41849/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo="},{"messageHash":"xtFIQo5gJRqAGxbzXgM8TyAA8TP6bQSXYeF4zPWtyVA="},{"messageHash":"AHsqraHKtzx7oWa65Z17rXXa5HBgcwio+sDunqTkUIA="},{"messageHash":"tduGDZHETubBL1XSqotQg8mmbSudBeo7FaSY9qMf+XQ="},{"messageHash":"7LTuo9lf5Nt6psdZvg5dYf7I+ht6V7i1PtMUxlEvqx0="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 2 sec Future failed: Message hash at index 0 returned by store doesn't match the computed message hash 7LTuo9lf5Nt6psdZvg5dYf7I+ht6V7i1PtMUxlEvqx0=. Actual hash: kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 10 sec Future
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41849/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41849/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo="},{"messageHash":"xtFIQo5gJRqAGxbzXgM8TyAA8TP6bQSXYeF4zPWtyVA="},{"messageHash":"AHsqraHKtzx7oWa65Z17rXXa5HBgcwio+sDunqTkUIA="},{"messageHash":"tduGDZHETubBL1XSqotQg8mmbSudBeo7FaSY9qMf+XQ="},{"messageHash":"7LTuo9lf5Nt6psdZvg5dYf7I+ht6V7i1PtMUxlEvqx0="},{"messageHash":"ZQNGUNrFoiI7Ty5L/lcLIX8G82zz2zc6o2vM5y5MU14="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 10 sec Future failed: Message hash at index 0 returned by store doesn't match the computed message hash ZQNGUNrFoiI7Ty5L/lcLIX8G82zz2zc6o2vM5y5MU14=. Actual hash: kaHy/BZwPxfDf7tmTuSP65S4XXxgvkTl/JT1RCgDhIo=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id da255c5e7d35
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0e04b3bf43ff
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-09-06_09-57-59__fe0c761e-ea37-4543-a8af-28150837f7a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-09-06_09-57-59__fe0c761e-ea37-4543-a8af-28150837f7a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_messages_with_timestamps_close_to_now with id: 2024-09-06_09-58-16__ca2d82de-5004-4242-babd-5cc2ba574864
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-06_09-58-16__ca2d82de-5004-4242-babd-5cc2ba574864__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.215.191
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['22187', '22188', '22189', '22190', '22191']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 22187:22187 -p 22188:22188 -p 22189:22189 -p 22190:22190 -p 22191:22191 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22189 --rest-port=22187 --tcp-port=22188 --discv5-udp-port=22190 --rest-address=0.0.0.0 --nat=extip:172.18.215.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fcca0aa87c5a88ea7abeebc6edb4d83bac720d444019dc85d3f351efabb517e2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22191 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.215.191 waku 1f0fcf4431b9aba9c239b7607b05a94ade3aff1fb6048b9ba2eeed81c5be8ff3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1f0fcf4431b9. Setting up logs at ./log/docker/publishing_node1_2024-09-06_09-58-16__ca2d82de-5004-4242-babd-5cc2ba574864__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 22187
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22187/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22187/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.215.191/tcp/22188/p2p/16Uiu2HAkxzjXNUUfP3ZAJBPbC3naR1PFpmq17kGSwBV8cPE3ooxu","/ip4/172.18.215.191/tcp/22189/ws/p2p/16Uiu2HAkxzjXNUUfP3ZAJBPbC3naR1PFpmq17kGSwBV8cPE3ooxu"],"enrUri":"enr:-LO4QLvlcad3O6hsBQ2dlr1WsRsOTwrGhhQH4A6xktEntHSjUfufAp_uTqOa6712axPyjExirTcBu4g3j3mhN-Ltfm0BgmlkgnY0gmlwhKwS17-KbXVsdGlhZGRyc4wACgSsEte_Blat3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI1Czw1aFku_-OK_WHo_tT5rNKv29UEaX4cqoht54RPkoN0Y3CCVqyDdWRwglauhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-06_09-58-16__ca2d82de-5004-4242-babd-5cc2ba574864__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.116.236
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['30037', '30038', '30039', '30040', '30041']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 30037:30037 -p 30038:30038 -p 30039:30039 -p 30040:30040 -p 30041:30041 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30039 --rest-port=30037 --tcp-port=30038 --discv5-udp-port=30040 --rest-address=0.0.0.0 --nat=extip:172.18.116.236 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fc187cd2e87adea0b38f1eb4de27dc201772d01d63cffcfccd23af195a1cfbd7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30041 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLvlcad3O6hsBQ2dlr1WsRsOTwrGhhQH4A6xktEntHSjUfufAp_uTqOa6712axPyjExirTcBu4g3j3mhN-Ltfm0BgmlkgnY0gmlwhKwS17-KbXVsdGlhZGRyc4wACgSsEte_Blat3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI1Czw1aFku_-OK_WHo_tT5rNKv29UEaX4cqoht54RPkoN0Y3CCVqyDdWRwglauhXdha3UyAw --storenode=/ip4/172.18.215.191/tcp/22188/p2p/16Uiu2HAkxzjXNUUfP3ZAJBPbC3naR1PFpmq17kGSwBV8cPE3ooxu --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.116.236 waku b67bc18e93224263cdac607f7e742280ce949c8df631c4fbccb868f0219abcb5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b67bc18e9322. Setting up logs at ./log/docker/store_node1_2024-09-06_09-58-16__ca2d82de-5004-4242-babd-5cc2ba574864__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30037
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30037/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30037/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.236/tcp/30038/p2p/16Uiu2HAm1cCNtVaGQvfjvVKE1orCNXr111zGzJbGuvgKRCZmZAPe","/ip4/172.18.116.236/tcp/30039/ws/p2p/16Uiu2HAm1cCNtVaGQvfjvVKE1orCNXr111zGzJbGuvgKRCZmZAPe"],"enrUri":"enr:-LO4QN_G3DwA-vn2hjqrUANOn9ZbFMaOntBOT-lTskPoD1XkLbe23ohtHKFlpcqy8N4idgvT6ZltgbGq9B5QBV7hAhUBgmlkgnY0gmlwhKwSdOyKbXVsdGlhZGRyc4wACgSsEnTsBnVX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJb2E0N6Q-2ca9fWz3IXEVKHKp2ZLyMpP89g0KOeSW_5YN0Y3CCdVaDdWRwgnVYhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30037/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.215.191/tcp/22188/p2p/16Uiu2HAkxzjXNUUfP3ZAJBPbC3naR1PFpmq17kGSwBV8cPE3ooxu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22187/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30037/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 3 sec Past
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22187/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22187/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo="}]}'
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30037/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo="}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22187/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22187/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo="},{"messageHash":"csV5woizDP4wTIVYqqFYubU/ggVBZeEntMyqAFrtPvA="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 1 sec Past failed: Message hash at index 0 returned by store doesn't match the computed message hash csV5woizDP4wTIVYqqFYubU/ggVBZeEntMyqAFrtPvA=. Actual hash: QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 0.1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22187/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22187/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo="},{"messageHash":"csV5woizDP4wTIVYqqFYubU/ggVBZeEntMyqAFrtPvA="},{"messageHash":"hM5kPSZSvLs9Mn+nkj75u8+e8QkNZpqDdeCWFuISsII="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 0.1 sec Past failed: Message hash at index 0 returned by store doesn't match the computed message hash hM5kPSZSvLs9Mn+nkj75u8+e8QkNZpqDdeCWFuISsII=. Actual hash: QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 0.1 sec Future
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22187/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22187/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo="},{"messageHash":"csV5woizDP4wTIVYqqFYubU/ggVBZeEntMyqAFrtPvA="},{"messageHash":"hM5kPSZSvLs9Mn+nkj75u8+e8QkNZpqDdeCWFuISsII="},{"messageHash":"PG/ArMXftr/OuvOokeu5FZPkr6zOtlDEe5Y6hmOp5ho="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 0.1 sec Future failed: Message hash at index 0 returned by store doesn't match the computed message hash PG/ArMXftr/OuvOokeu5FZPkr6zOtlDEe5Y6hmOp5ho=. Actual hash: QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 2 sec Future
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22187/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22187/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo="},{"messageHash":"csV5woizDP4wTIVYqqFYubU/ggVBZeEntMyqAFrtPvA="},{"messageHash":"hM5kPSZSvLs9Mn+nkj75u8+e8QkNZpqDdeCWFuISsII="},{"messageHash":"PG/ArMXftr/OuvOokeu5FZPkr6zOtlDEe5Y6hmOp5ho="},{"messageHash":"Eh8jQPxebHV17qGF4YIpbvPjI3GQi6hQdfwYFrnRi+4="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 2 sec Future failed: Message hash at index 0 returned by store doesn't match the computed message hash Eh8jQPxebHV17qGF4YIpbvPjI3GQi6hQdfwYFrnRi+4=. Actual hash: QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 10 sec Future
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22187/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22187/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo="},{"messageHash":"csV5woizDP4wTIVYqqFYubU/ggVBZeEntMyqAFrtPvA="},{"messageHash":"hM5kPSZSvLs9Mn+nkj75u8+e8QkNZpqDdeCWFuISsII="},{"messageHash":"PG/ArMXftr/OuvOokeu5FZPkr6zOtlDEe5Y6hmOp5ho="},{"messageHash":"Eh8jQPxebHV17qGF4YIpbvPjI3GQi6hQdfwYFrnRi+4="},{"messageHash":"bGpIxRzb0B8HZM70iB6gJGzqepGR9RdYs1tJaWgQteI="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 10 sec Future failed: Message hash at index 0 returned by store doesn't match the computed message hash bGpIxRzb0B8HZM70iB6gJGzqepGR9RdYs1tJaWgQteI=. Actual hash: QFBx4ShzVDSVNeNRzKkMsaZhgHH9O3MXInhs+tQzzNo=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1f0fcf4431b9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b67bc18e9322
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-09-06_09-58-16__ca2d82de-5004-4242-babd-5cc2ba574864__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-09-06_09-58-16__ca2d82de-5004-4242-babd-5cc2ba574864__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_messages_with_timestamps_close_to_now with id: 2024-09-06_09-58-33__1430cd02-9db9-49dc-a7a2-ce2fda9678d9
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-06_09-58-33__1430cd02-9db9-49dc-a7a2-ce2fda9678d9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.144.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6405', '6406', '6407', '6408', '6409']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6405:6405 -p 6406:6406 -p 6407:6407 -p 6408:6408 -p 6409:6409 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6407 --rest-port=6405 --tcp-port=6406 --discv5-udp-port=6408 --rest-address=0.0.0.0 --nat=extip:172.18.144.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3ca02b5c212f62546eae4dcdc47da5d4fbde0f17fb95b3158edcce43111d8aba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6409 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.144.69 waku 82ca194dba0380d24ef33a1fa577898566b91c84328eb3cb363c47d8d365fda4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 82ca194dba03. Setting up logs at ./log/docker/publishing_node1_2024-09-06_09-58-33__1430cd02-9db9-49dc-a7a2-ce2fda9678d9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6405
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6405/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6405/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.144.69/tcp/6406/p2p/16Uiu2HAmTXJX3gR2pp3UAdGRKkFm5RA5AdPXajnjXijgw9RTuFFD","/ip4/172.18.144.69/tcp/6407/ws/p2p/16Uiu2HAmTXJX3gR2pp3UAdGRKkFm5RA5AdPXajnjXijgw9RTuFFD"],"enrUri":"enr:-LO4QKC93ZIr76uMp5I1dA-ithtbY6xzVr599U8hkPpD2lgAQoYYe0nK8x6CsWBQqJOV7Y-22b3ZS5dJg85kwWf9cQcBgmlkgnY0gmlwhKwSkEWKbXVsdGlhZGRyc4wACgSsEpBFBhkH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPc5zNG_MaCWvZIGiP_WF0f-f6ApIfU2xltk8Gz_daN8IN0Y3CCGQaDdWRwghkIhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-06_09-58-33__1430cd02-9db9-49dc-a7a2-ce2fda9678d9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.71.188
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['51414', '51415', '51416', '51417', '51418']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 51414:51414 -p 51415:51415 -p 51416:51416 -p 51417:51417 -p 51418:51418 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51416 --rest-port=51414 --tcp-port=51415 --discv5-udp-port=51417 --rest-address=0.0.0.0 --nat=extip:172.18.71.188 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=34a6f1da67c2ad1dc723d13ae944bedcfdd668dadb6c2b2c1eeeefaf9981a9cb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51418 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKC93ZIr76uMp5I1dA-ithtbY6xzVr599U8hkPpD2lgAQoYYe0nK8x6CsWBQqJOV7Y-22b3ZS5dJg85kwWf9cQcBgmlkgnY0gmlwhKwSkEWKbXVsdGlhZGRyc4wACgSsEpBFBhkH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPc5zNG_MaCWvZIGiP_WF0f-f6ApIfU2xltk8Gz_daN8IN0Y3CCGQaDdWRwghkIhXdha3UyAw --storenode=/ip4/172.18.144.69/tcp/6406/p2p/16Uiu2HAmTXJX3gR2pp3UAdGRKkFm5RA5AdPXajnjXijgw9RTuFFD --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.71.188 waku 44db6a88803a0abd954632fcfff21de0df694c9769e92cab330f13676ef3b4c5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 44db6a88803a. Setting up logs at ./log/docker/store_node1_2024-09-06_09-58-33__1430cd02-9db9-49dc-a7a2-ce2fda9678d9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 51414
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51414/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51414/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.71.188/tcp/51415/p2p/16Uiu2HAmADD9wo6CPxkGC5kwAxX7d93dTH432ygjjgwEGAFwuQzV","/ip4/172.18.71.188/tcp/51416/ws/p2p/16Uiu2HAmADD9wo6CPxkGC5kwAxX7d93dTH432ygjjgwEGAFwuQzV"],"enrUri":"enr:-LO4QN43nYHtamFBIslPEyRGTuPm0QcH7aI-ouCd5N1ywctgd2z1Q3Rytf11yneQIa2Q3z_JhwD5iYHrZpIVZUJvV2ABgmlkgnY0gmlwhKwSR7yKbXVsdGlhZGRyc4wACgSsEke8BsjY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLbrgDLSHkgXNPNY8qXawdJHgi3nD4mMYE1fpO5BPnGQoN0Y3CCyNeDdWRwgsjZhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51414/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.144.69/tcp/6406/p2p/16Uiu2HAmTXJX3gR2pp3UAdGRKkFm5RA5AdPXajnjXijgw9RTuFFD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6405/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51414/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 3 sec Past
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6405/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6405/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs="}]}'
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51414/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs="}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6405/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6405/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs="},{"messageHash":"5tbBICRgWoBIxjEUfgNmg4Jhg3x1G3kw1dzqFTJ8hDc="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 1 sec Past failed: Message hash at index 0 returned by store doesn't match the computed message hash 5tbBICRgWoBIxjEUfgNmg4Jhg3x1G3kw1dzqFTJ8hDc=. Actual hash: nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 0.1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6405/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6405/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs="},{"messageHash":"5tbBICRgWoBIxjEUfgNmg4Jhg3x1G3kw1dzqFTJ8hDc="},{"messageHash":"//hcBcVbQ0Wn6Cc7Z9wrCYdZCf+i1UMtqQdlp7iiUYU="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 0.1 sec Past failed: Message hash at index 0 returned by store doesn't match the computed message hash //hcBcVbQ0Wn6Cc7Z9wrCYdZCf+i1UMtqQdlp7iiUYU=. Actual hash: nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 0.1 sec Future
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6405/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6405/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs="},{"messageHash":"5tbBICRgWoBIxjEUfgNmg4Jhg3x1G3kw1dzqFTJ8hDc="},{"messageHash":"//hcBcVbQ0Wn6Cc7Z9wrCYdZCf+i1UMtqQdlp7iiUYU="},{"messageHash":"OQsr/YAgi6xZvsvepHmCpaEGH2ObrU8qZ8ODfu7v8nQ="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 0.1 sec Future failed: Message hash at index 0 returned by store doesn't match the computed message hash OQsr/YAgi6xZvsvepHmCpaEGH2ObrU8qZ8ODfu7v8nQ=. Actual hash: nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 2 sec Future
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6405/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6405/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs="},{"messageHash":"5tbBICRgWoBIxjEUfgNmg4Jhg3x1G3kw1dzqFTJ8hDc="},{"messageHash":"//hcBcVbQ0Wn6Cc7Z9wrCYdZCf+i1UMtqQdlp7iiUYU="},{"messageHash":"OQsr/YAgi6xZvsvepHmCpaEGH2ObrU8qZ8ODfu7v8nQ="},{"messageHash":"N4S4pKXzHCh+shEaZ0SZAoLm7eo1+SltKdbIgUJ77d8="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 2 sec Future failed: Message hash at index 0 returned by store doesn't match the computed message hash N4S4pKXzHCh+shEaZ0SZAoLm7eo1+SltKdbIgUJ77d8=. Actual hash: nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:29 Running test with payload 10 sec Future
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6405/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6405/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs="},{"messageHash":"5tbBICRgWoBIxjEUfgNmg4Jhg3x1G3kw1dzqFTJ8hDc="},{"messageHash":"//hcBcVbQ0Wn6Cc7Z9wrCYdZCf+i1UMtqQdlp7iiUYU="},{"messageHash":"OQsr/YAgi6xZvsvepHmCpaEGH2ObrU8qZ8ODfu7v8nQ="},{"messageHash":"N4S4pKXzHCh+shEaZ0SZAoLm7eo1+SltKdbIgUJ77d8="},{"messageHash":"M7Dixarq21p3u6aFWzCawF3sHZ1m8rFlai0BhAukfZs="}]}'
[31m[1mERROR   [0m tests.store.test_time_filter:test_time_filter.py:35 Payload 10 sec Future failed: Message hash at index 0 returned by store doesn't match the computed message hash M7Dixarq21p3u6aFWzCawF3sHZ1m8rFlai0BhAukfZs=. Actual hash: nmWSQFiFC0AemayF2j6gFqH9wgruEymZJSBFFJuDKVs=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 82ca194dba03
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 44db6a88803a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-09-06_09-58-33__1430cd02-9db9-49dc-a7a2-ce2fda9678d9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-09-06_09-58-33__1430cd02-9db9-49dc-a7a2-ce2fda9678d9__wakuorg_nwaku:latest.log