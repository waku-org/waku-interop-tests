[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-09-06_09-38-56__8c6c44dc-98d5-4b63-a033-b5099ecf99fe
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-06_09-38-56__8c6c44dc-98d5-4b63-a033-b5099ecf99fe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.117.215
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40415', '40416', '40417', '40418', '40419']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40415:40415 -p 40416:40416 -p 40417:40417 -p 40418:40418 -p 40419:40419 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40417 --rest-port=40415 --tcp-port=40416 --discv5-udp-port=40418 --rest-address=0.0.0.0 --nat=extip:172.18.117.215 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=40d105d7deeb5a6e5edbfdd669cf45e40cca4cd754f0ce05da3cd5e6bebae07e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40419 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.117.215 waku 3ff14899d247ee0a928c63ff590646f4ff2dfc71890eede21a310e5bf7b41923
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3ff14899d247. Setting up logs at ./log/docker/receiving_node1_2024-09-06_09-38-56__8c6c44dc-98d5-4b63-a033-b5099ecf99fe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40415
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40415/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40415/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.117.215/tcp/40416/p2p/16Uiu2HAmFgTxTiGsY1N55YL3mDBr5yKJ6JzPyv3Rs4cQhSoeAd1h","/ip4/172.18.117.215/tcp/40417/ws/p2p/16Uiu2HAmFgTxTiGsY1N55YL3mDBr5yKJ6JzPyv3Rs4cQhSoeAd1h"],"enrUri":"enr:-LO4QBFJazeX3fejgSldNsVX0qo4kmx5XO3Fv8UlsEGKVyW4P51i9m9izYoAoczUWZtSJD9goUDf1WMaD_qFT2XBoZUBgmlkgnY0gmlwhKwSddeKbXVsdGlhZGRyc4wACgSsEnXXBp3h3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMs89szLgKrdHQZ-RatxqggU35_esB2hD76XJAlNdeL8IN0Y3CCneCDdWRwgp3ihXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-06_09-38-56__8c6c44dc-98d5-4b63-a033-b5099ecf99fe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.213.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63675', '63676', '63677', '63678', '63679']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63675:63675 -p 63676:63676 -p 63677:63677 -p 63678:63678 -p 63679:63679 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63677 --rest-port=63675 --tcp-port=63676 --discv5-udp-port=63678 --rest-address=0.0.0.0 --nat=extip:172.18.213.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=adccdc7bbdaaed9f0159c99ff1f6862ee589d3240e0e7c96dbc05bc8b2fdc7df --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63679 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.213.14 waku 2b78a7c5044faf5c70123997913a900fd18ff8e35486c2a3c4cb042753a8e076
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2b78a7c5044f. Setting up logs at ./log/docker/receiving_node2_2024-09-06_09-38-56__8c6c44dc-98d5-4b63-a033-b5099ecf99fe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63675
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63675/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63675/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.213.14/tcp/63676/p2p/16Uiu2HAm8A1iyt8uzaKSxEpj9UJxE6EJHSgYX3AjELMrMDyTfwnE","/ip4/172.18.213.14/tcp/63677/ws/p2p/16Uiu2HAm8A1iyt8uzaKSxEpj9UJxE6EJHSgYX3AjELMrMDyTfwnE"],"enrUri":"enr:-LO4QLKHnBmosITcafpT-RxDr_Yr0ZX-kbFDnrsCijNY6XB1aA_5920j8SChdOIS2XjeCh-rEDPgKKhAA2dbizAWsOIBgmlkgnY0gmlwhKwS1Q6KbXVsdGlhZGRyc4wACgSsEtUOBvi93QOCcnOFAAMBAACJc2VjcDI1NmsxoQK9JPZgmdbWOyZQ7kp93Z0PYrxsAsEHJMYAOTRJ1zSqZ4N0Y3CC-LyDdWRwgvi-hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63675/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.117.215/tcp/40416/p2p/16Uiu2HAmFgTxTiGsY1N55YL3mDBr5yKJ6JzPyv3Rs4cQhSoeAd1h"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-06_09-38-56__8c6c44dc-98d5-4b63-a033-b5099ecf99fe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.227.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['12663', '12664', '12665', '12666', '12667']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 12663:12663 -p 12664:12664 -p 12665:12665 -p 12666:12666 -p 12667:12667 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12665 --rest-port=12663 --tcp-port=12664 --discv5-udp-port=12666 --rest-address=0.0.0.0 --nat=extip:172.18.227.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9a571b7c0ba98a86188dd8e6f4eb5aeee017f605ddfea1eadd2e62c22542e18c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12667 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QBFJazeX3fejgSldNsVX0qo4kmx5XO3Fv8UlsEGKVyW4P51i9m9izYoAoczUWZtSJD9goUDf1WMaD_qFT2XBoZUBgmlkgnY0gmlwhKwSddeKbXVsdGlhZGRyc4wACgSsEnXXBp3h3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMs89szLgKrdHQZ-RatxqggU35_esB2hD76XJAlNdeL8IN0Y3CCneCDdWRwgp3ihXdha3UyCQ --lightpushnode=/ip4/172.18.117.215/tcp/40416/p2p/16Uiu2HAmFgTxTiGsY1N55YL3mDBr5yKJ6JzPyv3Rs4cQhSoeAd1h --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.227.124 waku 9fe4b3d155a0ca5f492f3e283a43a7989e3ea30f6ec52e473bcc55db1b513084
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9fe4b3d155a0. Setting up logs at ./log/docker/lightpush_node1_2024-09-06_09-38-56__8c6c44dc-98d5-4b63-a033-b5099ecf99fe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 12663
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12663/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12663/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.227.124/tcp/12664/p2p/16Uiu2HAmCPQukp9b1jqfenhek3bivAkzk59u6pfNt9PMa8JroAAs","/ip4/172.18.227.124/tcp/12665/ws/p2p/16Uiu2HAmCPQukp9b1jqfenhek3bivAkzk59u6pfNt9PMa8JroAAs"],"enrUri":"enr:-LO4QGFPvCHUpLwQCK0EHRHNKDj52czwBtKcSuEIQtC8YPRGHRKqxbBWvLWtEkAcubJHoqaqxUOdUenmjYFSicQSTwEBgmlkgnY0gmlwhKwS43yKbXVsdGlhZGRyc4wACgSsEuN8BjF53QOCcnOFAAMBAACJc2VjcDI1NmsxoQL8AnoUFShEK5IxyJGPdeNhotOLnJjz58cEQ8oqVjeZoIN0Y3CCMXiDdWRwgjF6hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12663/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.117.215/tcp/40416/p2p/16Uiu2HAmFgTxTiGsY1N55YL3mDBr5yKJ6JzPyv3Rs4cQhSoeAd1h"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12663/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.213.14/tcp/63676/p2p/16Uiu2HAm8A1iyt8uzaKSxEpj9UJxE6EJHSgYX3AjELMrMDyTfwnE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40415/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63675/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12663/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1725615541438548992}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:12663/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3ff14899d247
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2b78a7c5044f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9fe4b3d155a0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.