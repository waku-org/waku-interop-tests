[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_passing_cursor_of_the_last_message_from_the_store with id: 2024-09-06_09-50-15__68d168af-a232-4a3e-a323-7a7367c940e1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-06_09-50-15__68d168af-a232-4a3e-a323-7a7367c940e1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.100.20
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['11680', '11681', '11682', '11683', '11684']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 11680:11680 -p 11681:11681 -p 11682:11682 -p 11683:11683 -p 11684:11684 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11682 --rest-port=11680 --tcp-port=11681 --discv5-udp-port=11683 --rest-address=0.0.0.0 --nat=extip:172.18.100.20 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=42bed82bdc070a5ef3dffea9f1eddd8e0ce47fb745cedff0dd8bdda7ecd3bc5d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11684 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.100.20 waku ad230287edd51a1c9207377a512b1a1990c43355bf523c2cec721cadc2fb434c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ad230287edd5. Setting up logs at ./log/docker/publishing_node1_2024-09-06_09-50-15__68d168af-a232-4a3e-a323-7a7367c940e1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11680
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11680/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11680/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.100.20/tcp/11681/p2p/16Uiu2HAmRg2xN3y7e2VYdg7PpGuUX2GiiuTaGHWiksk7q8W85RhY","/ip4/172.18.100.20/tcp/11682/ws/p2p/16Uiu2HAmRg2xN3y7e2VYdg7PpGuUX2GiiuTaGHWiksk7q8W85RhY"],"enrUri":"enr:-LO4QDkhYieAQO4W5iok-s0sem9WhMPydx1yQXKgxl0PSUIEd5OuqMe0Ycw7yOl--F62Wi3NWa2ekwOLrULwfoMA2YoBgmlkgnY0gmlwhKwSZBSKbXVsdGlhZGRyc4wACgSsEmQUBi2i3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPBbHS9wqFH60g-mGxzDQPg9nQZIC1rupok1T7-UA8zf4N0Y3CCLaGDdWRwgi2jhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-06_09-50-15__68d168af-a232-4a3e-a323-7a7367c940e1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.206.234
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['45742', '45743', '45744', '45745', '45746']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 45742:45742 -p 45743:45743 -p 45744:45744 -p 45745:45745 -p 45746:45746 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45744 --rest-port=45742 --tcp-port=45743 --discv5-udp-port=45745 --rest-address=0.0.0.0 --nat=extip:172.18.206.234 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be7eefe203afa7fd8923b30e4572a453acb7406b8ed7e5f3b41b764f5958b317 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45746 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDkhYieAQO4W5iok-s0sem9WhMPydx1yQXKgxl0PSUIEd5OuqMe0Ycw7yOl--F62Wi3NWa2ekwOLrULwfoMA2YoBgmlkgnY0gmlwhKwSZBSKbXVsdGlhZGRyc4wACgSsEmQUBi2i3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPBbHS9wqFH60g-mGxzDQPg9nQZIC1rupok1T7-UA8zf4N0Y3CCLaGDdWRwgi2jhXdha3UyAw --storenode=/ip4/172.18.100.20/tcp/11681/p2p/16Uiu2HAmRg2xN3y7e2VYdg7PpGuUX2GiiuTaGHWiksk7q8W85RhY --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.206.234 waku 71176600adb28a04adaf969a4f030a5e99fe7b09d18952abd7c5f2116401adbc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 71176600adb2. Setting up logs at ./log/docker/store_node1_2024-09-06_09-50-15__68d168af-a232-4a3e-a323-7a7367c940e1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 45742
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45742/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45742/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.206.234/tcp/45743/p2p/16Uiu2HAmD9ahjxMs2EVmDCgj5JDCAa5osTiDR1CRbCobpumb2dT9","/ip4/172.18.206.234/tcp/45744/ws/p2p/16Uiu2HAmD9ahjxMs2EVmDCgj5JDCAa5osTiDR1CRbCobpumb2dT9"],"enrUri":"enr:-LO4QK-zmnePjlVy-_v_WbhPU31cS4rktldp_X7znstRAmJyL0uQfesA7tykdAvwGwxvc-MVNkPLMJVnn5JuYBI7yLIBgmlkgnY0gmlwhKwSzuqKbXVsdGlhZGRyc4wACgSsEs7qBrKw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMHUxrzcEgG3fxHePMIu8OUPcxxUD6CDdMQ3f8dLFQpRIN0Y3CCsq-DdWRwgrKxhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45742/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.100.20/tcp/11681/p2p/16Uiu2HAmRg2xN3y7e2VYdg7PpGuUX2GiiuTaGHWiksk7q8W85RhY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11680/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45742/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11680/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=10&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"yacTCO9iZ317js2WP2sfGE3h3/gqt3dgEQ//3tAdNLc="},{"messageHash":"/+O8g4UTUcfcwgkRzgiTbJu/ivYcB/VucIYIMb1Tf5g="},{"messageHash":"D1cLv2XAc3pGZwWvTJEf9f9iYEwBc+9yVKWa8LClyDk="},{"messageHash":"FcYesIV8qGTUw1rYOcQMGjzFtu29vCJCiK1dfO26Fg4="},{"messageHash":"iGpimwIbnReBx81osmct4+mxC6TZajBzv1Uw+MNiW7w="},{"messageHash":"L+y2HocjGFBynydsX8Qxm/PoPGFVeqUbTTv2saF21nA="},{"messageHash":"3DynL8/NobabXxBJtb1ikkQXQ+2ZWLrkIJBSucPgMQo="},{"messageHash":"EKF1nzFf6sEFeIpb93ItwrqHL6e0cyPGzbb5S2H4SKk="},{"messageHash":"NFBtZD/YcSYZLkHeT6XAPiuxuY/llDQRnL0qn5lfdUw="},{"messageHash":"HJhjit6D8u67OvKy3zA7kr9aan/j9RVpKsv85K/lJpo="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45742/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=10&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"yacTCO9iZ317js2WP2sfGE3h3/gqt3dgEQ//3tAdNLc="},{"messageHash":"/+O8g4UTUcfcwgkRzgiTbJu/ivYcB/VucIYIMb1Tf5g="},{"messageHash":"D1cLv2XAc3pGZwWvTJEf9f9iYEwBc+9yVKWa8LClyDk="},{"messageHash":"FcYesIV8qGTUw1rYOcQMGjzFtu29vCJCiK1dfO26Fg4="},{"messageHash":"iGpimwIbnReBx81osmct4+mxC6TZajBzv1Uw+MNiW7w="},{"messageHash":"L+y2HocjGFBynydsX8Qxm/PoPGFVeqUbTTv2saF21nA="},{"messageHash":"3DynL8/NobabXxBJtb1ikkQXQ+2ZWLrkIJBSucPgMQo="},{"messageHash":"EKF1nzFf6sEFeIpb93ItwrqHL6e0cyPGzbb5S2H4SKk="},{"messageHash":"NFBtZD/YcSYZLkHeT6XAPiuxuY/llDQRnL0qn5lfdUw="},{"messageHash":"HJhjit6D8u67OvKy3zA7kr9aan/j9RVpKsv85K/lJpo="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11680/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=HJhjit6D8u67OvKy3zA7kr9aan%2Fj9RVpKsv85K%2FlJpo%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45742/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=HJhjit6D8u67OvKy3zA7kr9aan%2Fj9RVpKsv85K%2FlJpo%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ad230287edd5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 71176600adb2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.