[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.18.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['1706', '1707', '1708', '1709', '1710']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 1706:1706 -p 1707:1707 -p 1708:1708 -p 1709:1709 -p 1710:1710 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1708 --rest-port=1706 --tcp-port=1707 --discv5-udp-port=1709 --rest-address=0.0.0.0 --nat=extip:172.18.18.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=76e9a7b689f048ac11b11f629b41a8aabffc8e22dafdcef853f15dcb50eeed5d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1710 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.18.69 waku 6721732cfb4b4db7774f347bc756af985bc2bb6b57a3851a8a62520a5b8ef0af
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6721732cfb4b. Setting up logs at ./log/docker/receiving_node1_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1706
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1706/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1706/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.18.69/tcp/1707/p2p/16Uiu2HAmH5QWkYMeVES3LLdDa6KjRoqx8RQfkxbtcSxD3tPDdSsm","/ip4/172.18.18.69/tcp/1708/ws/p2p/16Uiu2HAmH5QWkYMeVES3LLdDa6KjRoqx8RQfkxbtcSxD3tPDdSsm"],"enrUri":"enr:-LO4QFEiJoJe46MqUaU7WFYRpnlA3JIClZn_oviFBvB0ySE-Cla3CQ7Bk3luJvMRz-KgnoCN5G5VWcT8ASDa7EraXMsBgmlkgnY0gmlwhKwSEkWKbXVsdGlhZGRyc4wACgSsEhJFBgas3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNBsAIqp7rHO4MAj3veg5Dl-XcEHX5SPYrE83PTfawb5IN0Y3CCBquDdWRwggathXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.154.28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50952', '50953', '50954', '50955', '50956']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50952:50952 -p 50953:50953 -p 50954:50954 -p 50955:50955 -p 50956:50956 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50954 --rest-port=50952 --tcp-port=50953 --discv5-udp-port=50955 --rest-address=0.0.0.0 --nat=extip:172.18.154.28 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b0afc2e649eae888e7e0eaebea7bfeda0abf8a77d3cd8abbff1fee27c4a8deb0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50956 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.154.28 waku 413ca7231a915effba19fdd25ca5fce847c82bc55b8d00454d9e4149839b4b47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 413ca7231a91. Setting up logs at ./log/docker/receiving_node2_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50952
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50952/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50952/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.28/tcp/50953/p2p/16Uiu2HAkwStaHTo8Ro8bWdfrX2fx82TqsTZsPdDhbj1YHYFpV6Z4","/ip4/172.18.154.28/tcp/50954/ws/p2p/16Uiu2HAkwStaHTo8Ro8bWdfrX2fx82TqsTZsPdDhbj1YHYFpV6Z4"],"enrUri":"enr:-LO4QMJXjy2rtxuUL83p0zTZofL05b93CEKsI-5CB2svhNChA3k3DoyTaBrgoMBY--v1GF4u2zIBsC0ePR5Vw2mCVvEBgmlkgnY0gmlwhKwSmhyKbXVsdGlhZGRyc4wACgSsEpocBscK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIeBzIMqjD_Imr3SRwbpqEK-uywvzihb8f-rI7T9oNax4N0Y3CCxwmDdWRwgscLhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50952/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.18.69/tcp/1707/p2p/16Uiu2HAmH5QWkYMeVES3LLdDa6KjRoqx8RQfkxbtcSxD3tPDdSsm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.251.216
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56226', '56227', '56228', '56229', '56230']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56226:56226 -p 56227:56227 -p 56228:56228 -p 56229:56229 -p 56230:56230 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56228 --rest-port=56226 --tcp-port=56227 --discv5-udp-port=56229 --rest-address=0.0.0.0 --nat=extip:172.18.251.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a36ccf4ae0a9f263da5ddbf4ddc4e6e271848cacab99ded32de2fe8b5cdb1bbe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56230 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QFEiJoJe46MqUaU7WFYRpnlA3JIClZn_oviFBvB0ySE-Cla3CQ7Bk3luJvMRz-KgnoCN5G5VWcT8ASDa7EraXMsBgmlkgnY0gmlwhKwSEkWKbXVsdGlhZGRyc4wACgSsEhJFBgas3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNBsAIqp7rHO4MAj3veg5Dl-XcEHX5SPYrE83PTfawb5IN0Y3CCBquDdWRwggathXdha3UyCQ --lightpushnode=/ip4/172.18.18.69/tcp/1707/p2p/16Uiu2HAmH5QWkYMeVES3LLdDa6KjRoqx8RQfkxbtcSxD3tPDdSsm --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.251.216 waku 705f7d31ca8ffead527c3ad2cb180d7697159ce084be30a200d32d5a47d456f6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 705f7d31ca8f. Setting up logs at ./log/docker/lightpush_node1_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56226
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56226/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56226/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.251.216/tcp/56227/p2p/16Uiu2HAmD3monTeNPokBCyyXJJoQpDmRFniW744PaGfsQqZioTeB","/ip4/172.18.251.216/tcp/56228/ws/p2p/16Uiu2HAmD3monTeNPokBCyyXJJoQpDmRFniW744PaGfsQqZioTeB"],"enrUri":"enr:-LO4QKRSy7SujYGopJ3u1kYvEkiKt1MRWIGUWb-aV_8RW5K_b11VeLiAEDeS3flqyMEt7PYimlLNt5KwOpdOZzJFTGoBgmlkgnY0gmlwhKwS-9iKbXVsdGlhZGRyc4wACgSsEvvYBtuk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMF1i0MmoHLRxT2olV1gTBzAuGyE-kws2Gqp9d2nYSMVIN0Y3CC26ODdWRwgtulhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56226/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.18.69/tcp/1707/p2p/16Uiu2HAmH5QWkYMeVES3LLdDa6KjRoqx8RQfkxbtcSxD3tPDdSsm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56226/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.28/tcp/50953/p2p/16Uiu2HAkwStaHTo8Ro8bWdfrX2fx82TqsTZsPdDhbj1YHYFpV6Z4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.48.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['1109', '1110', '1111', '1112', '1113']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 1109:1109 -p 1110:1110 -p 1111:1111 -p 1112:1112 -p 1113:1113 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1111 --rest-port=1109 --tcp-port=1110 --discv5-udp-port=1112 --rest-address=0.0.0.0 --nat=extip:172.18.48.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebccac1a9e17a291752f9efea3aadf1ce05b1406cc3a0cf08a32eae351a091dd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1113 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QFEiJoJe46MqUaU7WFYRpnlA3JIClZn_oviFBvB0ySE-Cla3CQ7Bk3luJvMRz-KgnoCN5G5VWcT8ASDa7EraXMsBgmlkgnY0gmlwhKwSEkWKbXVsdGlhZGRyc4wACgSsEhJFBgas3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNBsAIqp7rHO4MAj3veg5Dl-XcEHX5SPYrE83PTfawb5IN0Y3CCBquDdWRwggathXdha3UyCQ --lightpushnode=/ip4/172.18.18.69/tcp/1707/p2p/16Uiu2HAmH5QWkYMeVES3LLdDa6KjRoqx8RQfkxbtcSxD3tPDdSsm --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.48.189 waku c9f7df19ec88776f84c85decf92026f44eb307e0562ca3350ca9f810f8dd080a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c9f7df19ec88. Setting up logs at ./log/docker/lightpush_node2_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1109
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1109/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1109/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.48.189/tcp/1110/p2p/16Uiu2HAmFSxVogYRZUU6Pwf9X1MWm4PhYoNSasS2zJ2FGyqjTVP7","/ip4/172.18.48.189/tcp/1111/ws/p2p/16Uiu2HAmFSxVogYRZUU6Pwf9X1MWm4PhYoNSasS2zJ2FGyqjTVP7"],"enrUri":"enr:-LO4QFB9bW_L_iXanFFGDavLUuP5AOM9X7AH0z3oSOptaCwLWh4EEt8tPFtDaC2ouP4niJ6XdLBrm-RDo6gLXXltvhUBgmlkgnY0gmlwhKwSML2KbXVsdGlhZGRyc4wACgSsEjC9BgRX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMpff7kuGKSeVyNeEtTi5_jL1z4_0nKZFeP3Rj6ugBvIoN0Y3CCBFaDdWRwggRYhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1109/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.18.69/tcp/1707/p2p/16Uiu2HAmH5QWkYMeVES3LLdDa6KjRoqx8RQfkxbtcSxD3tPDdSsm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1109/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.28/tcp/50953/p2p/16Uiu2HAkwStaHTo8Ro8bWdfrX2fx82TqsTZsPdDhbj1YHYFpV6Z4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.47.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62600', '62601', '62602', '62603', '62604']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62600:62600 -p 62601:62601 -p 62602:62602 -p 62603:62603 -p 62604:62604 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62602 --rest-port=62600 --tcp-port=62601 --discv5-udp-port=62603 --rest-address=0.0.0.0 --nat=extip:172.18.47.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7aadb6a4c2f91db0ead7d70ba653a57abfcdd1cbaec3ff49cccdbaefabaa8885 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62604 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QFEiJoJe46MqUaU7WFYRpnlA3JIClZn_oviFBvB0ySE-Cla3CQ7Bk3luJvMRz-KgnoCN5G5VWcT8ASDa7EraXMsBgmlkgnY0gmlwhKwSEkWKbXVsdGlhZGRyc4wACgSsEhJFBgas3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNBsAIqp7rHO4MAj3veg5Dl-XcEHX5SPYrE83PTfawb5IN0Y3CCBquDdWRwggathXdha3UyCQ --lightpushnode=/ip4/172.18.18.69/tcp/1707/p2p/16Uiu2HAmH5QWkYMeVES3LLdDa6KjRoqx8RQfkxbtcSxD3tPDdSsm --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.47.120 waku 80047781170bff68c171ee8a92208a1f136329cd4c90bccaea7dafd9fa109d2f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 80047781170b. Setting up logs at ./log/docker/lightpush_node3_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62600
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62600/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62600/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.47.120/tcp/62601/p2p/16Uiu2HAmE8abSyyFwTbDZN5ZxqzXwrd7cJpGARgjkPMvBJjzmcEW","/ip4/172.18.47.120/tcp/62602/ws/p2p/16Uiu2HAmE8abSyyFwTbDZN5ZxqzXwrd7cJpGARgjkPMvBJjzmcEW"],"enrUri":"enr:-LO4QDnySLdcDJQeED0eCThwEKZyP675abPyrGYbcLrst1R_ZNyn7CooSfhLX3ylzxkH5O6eCUrjauiJ4Ww6mr467sEBgmlkgnY0gmlwhKwSL3iKbXVsdGlhZGRyc4wACgSsEi94BvSK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMV7Ra2YCF2ISwaVq7SV94H_IkAastaeehglKonuneC64N0Y3CC9ImDdWRwgvSLhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62600/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.18.69/tcp/1707/p2p/16Uiu2HAmH5QWkYMeVES3LLdDa6KjRoqx8RQfkxbtcSxD3tPDdSsm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62600/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.28/tcp/50953/p2p/16Uiu2HAkwStaHTo8Ro8bWdfrX2fx82TqsTZsPdDhbj1YHYFpV6Z4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.208.171
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18769', '18770', '18771', '18772', '18773']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18769:18769 -p 18770:18770 -p 18771:18771 -p 18772:18772 -p 18773:18773 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18771 --rest-port=18769 --tcp-port=18770 --discv5-udp-port=18772 --rest-address=0.0.0.0 --nat=extip:172.18.208.171 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e30cc4e73a76e100a3b9bbb55afaebc6a6bd9ccf1ee4bcfd1eaba8cfc70336cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18773 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QFEiJoJe46MqUaU7WFYRpnlA3JIClZn_oviFBvB0ySE-Cla3CQ7Bk3luJvMRz-KgnoCN5G5VWcT8ASDa7EraXMsBgmlkgnY0gmlwhKwSEkWKbXVsdGlhZGRyc4wACgSsEhJFBgas3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNBsAIqp7rHO4MAj3veg5Dl-XcEHX5SPYrE83PTfawb5IN0Y3CCBquDdWRwggathXdha3UyCQ --lightpushnode=/ip4/172.18.18.69/tcp/1707/p2p/16Uiu2HAmH5QWkYMeVES3LLdDa6KjRoqx8RQfkxbtcSxD3tPDdSsm --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.208.171 waku 7d339c4a4a0101b69db7e40087d940f126750e581b5ff7d99553d5ec9d1ce04a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7d339c4a4a01. Setting up logs at ./log/docker/lightpush_node4_2024-09-06_09-38-04__c2a63cdd-486a-4373-b92d-b2060a38c3c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18769
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18769/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18769/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.208.171/tcp/18770/p2p/16Uiu2HAm15qN8mLLDuF7PdWyqsjNn7oKmeLAUaqQJVxhJTUddddh","/ip4/172.18.208.171/tcp/18771/ws/p2p/16Uiu2HAm15qN8mLLDuF7PdWyqsjNn7oKmeLAUaqQJVxhJTUddddh"],"enrUri":"enr:-LO4QLYXW1l577TmYOWXqoyRD-wGrWlozmJusPM8vesLotEOQaVgleVTD-oQQd5Jvz41DVRdv3Zph4Kep-H4mYr5nD4BgmlkgnY0gmlwhKwS0KuKbXVsdGlhZGRyc4wACgSsEtCrBklT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJUER4D8UqPyGUnXBIkc6kp8D2tP0dFKXYEX79T7ftoIIN0Y3CCSVKDdWRwgklUhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18769/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.18.69/tcp/1707/p2p/16Uiu2HAmH5QWkYMeVES3LLdDa6KjRoqx8RQfkxbtcSxD3tPDdSsm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18769/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.28/tcp/50953/p2p/16Uiu2HAkwStaHTo8Ro8bWdfrX2fx82TqsTZsPdDhbj1YHYFpV6Z4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1706/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50952/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56226/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725615494634710272}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1706/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725615494634710272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50952/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725615494634710272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1109/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725615494764353536}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1706/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725615494764353536,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50952/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725615494764353536,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62600/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725615494885634304}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1706/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725615494885634304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50952/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725615494885634304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18769/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725615495009937408}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1706/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725615495009937408,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50952/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725615495009937408,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6721732cfb4b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 413ca7231a91
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 705f7d31ca8f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c9f7df19ec88
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 80047781170b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7d339c4a4a01
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.