[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_subscribe_to_pubsub_topics_from_multiple_clusters with id: 2024-02-17_04-12-17__ae4b7fe2-0eee-40f8-a1b1-36937581ad13
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-02-17_04-12-17__ae4b7fe2-0eee-40f8-a1b1-36937581ad13__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:78 Generated random external IP 172.18.54.196
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:71 Generated ports ['65428', '65429', '65430', '65431', '65432']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:277 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:116 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:45 Starting container with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:46 Using args ['--listen-address=0.0.0.0', '--rest=true', '--rest-admin=true', '--websocket-support=true', '--log-level=TRACE', '--rest-relay-cache-capacity=100', '--websocket-port=65430', '--rest-port=65428', '--tcp-port=65429', '--discv5-udp-port=65431', '--rest-address=0.0.0.0', '--nat=extip:172.18.54.196', '--peer-exchange=true', '--discv5-discovery=true', '--cluster-id=0', '--metrics-server=true', '--metrics-server-address=0.0.0.0', '--metrics-server-port=65432', '--metrics-logging=true', '--relay=true', '--filter=true', '--nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 Container started with ID 1b1df2503aed. Setting up logs at ./log/docker/node1_2024-02-17_04-12-17__ae4b7fe2-0eee-40f8-a1b1-36937581ad13__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 65428
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:65428/debug/v1/info with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.196/tcp/65429/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.54.196/tcp/65430/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-Kq4QDQUrky3hbEJm54Fu0MSuckrn7E6ZY8MzD0w_CLPGm0vO1joT1BeAcWVCgb3BNr9b3qKRtugPA8uKOyglfAoAAABgmlkgnY0gmlwhKwSNsSKbXVsdGlhZGRyc4wACgSsEjbEBv-W3QOJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC_5WDdWRwgv-XhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:192 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-02-17_04-12-17__ae4b7fe2-0eee-40f8-a1b1-36937581ad13__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:78 Generated random external IP 172.18.162.204
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:71 Generated ports ['21668', '21669', '21670', '21671', '21672']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:277 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:116 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:45 Starting container with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:46 Using args ['--listen-address=0.0.0.0', '--rest=true', '--rest-admin=true', '--websocket-support=true', '--log-level=TRACE', '--rest-relay-cache-capacity=100', '--websocket-port=21670', '--rest-port=21668', '--tcp-port=21669', '--discv5-udp-port=21671', '--rest-address=0.0.0.0', '--nat=extip:172.18.162.204', '--peer-exchange=true', '--discv5-discovery=true', '--cluster-id=0', '--metrics-server=true', '--metrics-server-address=0.0.0.0', '--metrics-server-port=21672', '--metrics-logging=true', '--relay=false', '--filter=true', '--discv5-bootstrap-node=enr:-Kq4QDQUrky3hbEJm54Fu0MSuckrn7E6ZY8MzD0w_CLPGm0vO1joT1BeAcWVCgb3BNr9b3qKRtugPA8uKOyglfAoAAABgmlkgnY0gmlwhKwSNsSKbXVsdGlhZGRyc4wACgSsEjbEBv-W3QOJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC_5WDdWRwgv-XhXdha3UyBQ', '--filternode=/ip4/172.18.54.196/tcp/65429/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 Container started with ID a7300a284533. Setting up logs at ./log/docker/node2_2024-02-17_04-12-17__ae4b7fe2-0eee-40f8-a1b1-36937581ad13__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 21668
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:21668/debug/v1/info with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.162.204/tcp/21669/p2p/16Uiu2HAm8y3NzUAENaoSBwHJRxXmmkPdbUop5Ubg3snsyX3jj95R","/ip4/172.18.162.204/tcp/21670/ws/p2p/16Uiu2HAm8y3NzUAENaoSBwHJRxXmmkPdbUop5Ubg3snsyX3jj95R"],"enrUri":"enr:-Kq4QL_BnfV5E5-ZLXEHYXoG55JB1ubemxBrK1tS6zPiHu-yWx8mgEUkgAEbhA1CQKFSZ6Bi16oPsDmAc_4nllvzd6gBgmlkgnY0gmlwhKwSosyKbXVsdGlhZGRyc4wACgSsEqLMBlSm3QOJc2VjcDI1NmsxoQLJMSHUOtx4IZIZ8_UwkxThOAlcE6kay2mfCGxnNY-4EIN0Y3CCVKWDdWRwglSnhXdha3UyBA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:192 REST service is ready !!
[35mDEBUG   [0m tests.filter.test_subscribe_create:test_subscribe_create.py:40 Running test with pubsub topic: /waku/2/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:65428/relay/v1/subscriptions with payload: ["/waku/2/rs/0/1"]
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:21668/filter/v2/subscriptions with payload: {"requestId": "69ab8c70-8a24-4966-a327-d4b08eae2333", "contentFilters": ["/waku/2/rs/0/1"], "pubsubTopic": "/waku/2/rs/0/1"}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"69ab8c70-8a24-4966-a327-d4b08eae2333","statusCode":0,"statusDesc":""}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:65428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/0/1", "timestamp": 1708143141087122432}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:94 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:21668/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/waku/2/rs/0/1","version":0,"timestamp":1708143141087122432}]'
[35mDEBUG   [0m tests.filter.test_subscribe_create:test_subscribe_create.py:40 Running test with pubsub topic: /waku/2/rs/2/2
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:65428/relay/v1/subscriptions with payload: ["/waku/2/rs/2/2"]
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:21668/filter/v2/subscriptions with payload: {"requestId": "dde67df3-3499-43aa-b170-1f009710a34e", "contentFilters": ["/waku/2/rs/2/2"], "pubsubTopic": "/waku/2/rs/2/2"}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dde67df3-3499-43aa-b170-1f009710a34e","statusCode":0,"statusDesc":""}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:65428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2 with payload: {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/2/2", "timestamp": 1708143141214027776}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:94 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:21668/filter/v2/messages/%2Fwaku%2F2%2Frs%2F2%2F2 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/waku/2/rs/2/2","version":0,"timestamp":1708143141214027776}]'
[35mDEBUG   [0m tests.filter.test_subscribe_create:test_subscribe_create.py:40 Running test with pubsub topic: /waku/2/rs/0/9
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:65428/relay/v1/subscriptions with payload: ["/waku/2/rs/0/9"]
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:21668/filter/v2/subscriptions with payload: {"requestId": "d146c7a7-488f-4228-90cf-31abd244cb01", "contentFilters": ["/waku/2/rs/0/9"], "pubsubTopic": "/waku/2/rs/0/9"}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d146c7a7-488f-4228-90cf-31abd244cb01","statusCode":0,"statusDesc":""}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:65428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F9 with payload: {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/0/9", "timestamp": 1708143141334495744}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:94 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:21668/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F9 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/waku/2/rs/0/9","version":0,"timestamp":1708143141334495744}]'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 1b1df2503aed
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id a7300a284533
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.