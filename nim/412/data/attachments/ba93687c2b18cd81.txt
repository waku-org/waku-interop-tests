[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-10-29_04-13-37__7e0c15df-98e1-4e52-b2be-1476529e2381
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-29_04-13-37__7e0c15df-98e1-4e52-b2be-1476529e2381__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.156.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64934', '64935', '64936', '64937', '64938']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64934:64934 -p 64935:64935 -p 64936:64936 -p 64937:64937 -p 64938:64938 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64936 --rest-port=64934 --tcp-port=64935 --discv5-udp-port=64937 --rest-address=0.0.0.0 --nat=extip:172.18.156.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e198dfad9839baca44982da7a0f6b9f5b9b9ddeca949e7e231c7eac9b2e0d5c3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64938 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.156.56 waku c5e37e2f63d7d472e0ec2a1799e0a80f5079c6206d720b330e9dfad064fa3a50
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 01b3e2e1b7d6. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c5e37e2f63d7. Setting up logs at ./log/docker/node1_2024-10-29_04-13-37__7e0c15df-98e1-4e52-b2be-1476529e2381__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 64934
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64934/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64934/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.156.56/tcp/64935/p2p/16Uiu2HAm8zCcRMBHKwnzjtfdonaHpBiWyGazpNgQP8hWPQZ1LPsN","/ip4/172.18.156.56/tcp/64936/ws/p2p/16Uiu2HAm8zCcRMBHKwnzjtfdonaHpBiWyGazpNgQP8hWPQZ1LPsN"],"enrUri":"enr:-L24QKT0CgVfLA-sy0gEpfpgGrU0em96HDQDGsQxC488-XQqUpwCelQM3pY_pNXGxzWWFZcn1vLElNLwO0_nV64p_bgCgmlkgnY0gmlwhKwSnDiKbXVsdGlhZGRyc5YACASsEpw4Bv2nAAoErBKcOAb9qN0DgnJzhQADAQAAiXNlY3AyNTZrMaECyX0mrVLy5THWpM_vqLM04DBFSMYlsfv3YvGAeZJsUTmDdGNwgv2ng3VkcIL9qYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-29_04-13-37__7e0c15df-98e1-4e52-b2be-1476529e2381__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.216.175
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4481', '4482', '4483', '4484', '4485']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4481:4481 -p 4482:4482 -p 4483:4483 -p 4484:4484 -p 4485:4485 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4483 --rest-port=4481 --tcp-port=4482 --discv5-udp-port=4484 --rest-address=0.0.0.0 --nat=extip:172.18.216.175 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=de68efd01515caf660e3ab1f78b5b579f674496b50bfeedbcb900ecca0a4b050 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4485 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKT0CgVfLA-sy0gEpfpgGrU0em96HDQDGsQxC488-XQqUpwCelQM3pY_pNXGxzWWFZcn1vLElNLwO0_nV64p_bgCgmlkgnY0gmlwhKwSnDiKbXVsdGlhZGRyc5YACASsEpw4Bv2nAAoErBKcOAb9qN0DgnJzhQADAQAAiXNlY3AyNTZrMaECyX0mrVLy5THWpM_vqLM04DBFSMYlsfv3YvGAeZJsUTmDdGNwgv2ng3VkcIL9qYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.216.175 waku ac857a6d8cd54c63e7aae48a219382c80b9711d7bbe237f5cb8d2da88f6060d1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ac857a6d8cd5. Setting up logs at ./log/docker/node2_2024-10-29_04-13-37__7e0c15df-98e1-4e52-b2be-1476529e2381__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4481
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4481/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4481/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.175/tcp/4482/p2p/16Uiu2HAm6w5QgYs2cDgjw5V37cSdJAUTgMVBFZn8HqvikQhsbmaY","/ip4/172.18.216.175/tcp/4483/ws/p2p/16Uiu2HAm6w5QgYs2cDgjw5V37cSdJAUTgMVBFZn8HqvikQhsbmaY"],"enrUri":"enr:-L24QOlM8ovfIEybD1YBBd1mWXKskv7tQfug3_6jCgRufFI8bU9mOJLGkbvgTGj1U8gUlHJL7MEM2NrnWcAkUe0kBFgCgmlkgnY0gmlwhKwS2K-KbXVsdGlhZGRyc5YACASsEtivBhGCAAoErBLYrwYRg90DgnJzhQADAQAAiXNlY3AyNTZrMaECqvjkG7aoQEjXqqzubOjflydy_tee-NnCvrkLz1kNn3mDdGNwghGCg3VkcIIRhIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4481/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.56/tcp/64935/p2p/16Uiu2HAm8zCcRMBHKwnzjtfdonaHpBiWyGazpNgQP8hWPQZ1LPsN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-29_04-13-37__7e0c15df-98e1-4e52-b2be-1476529e2381__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.7.210
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63796', '63797', '63798', '63799', '63800']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63796:63796 -p 63797:63797 -p 63798:63798 -p 63799:63799 -p 63800:63800 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63798 --rest-port=63796 --tcp-port=63797 --discv5-udp-port=63799 --rest-address=0.0.0.0 --nat=extip:172.18.7.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f6352959273417f9b6c9a42c316ab06fbbdcc3f6ebed1fe7f4c1c0cf0b1eeed4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63800 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKT0CgVfLA-sy0gEpfpgGrU0em96HDQDGsQxC488-XQqUpwCelQM3pY_pNXGxzWWFZcn1vLElNLwO0_nV64p_bgCgmlkgnY0gmlwhKwSnDiKbXVsdGlhZGRyc5YACASsEpw4Bv2nAAoErBKcOAb9qN0DgnJzhQADAQAAiXNlY3AyNTZrMaECyX0mrVLy5THWpM_vqLM04DBFSMYlsfv3YvGAeZJsUTmDdGNwgv2ng3VkcIL9qYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.7.210 waku 90e135502657d54daf95823109fbd9561d69c93dcad47270e84bde8bd9508e74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 90e135502657. Setting up logs at ./log/docker/node3_2024-10-29_04-13-37__7e0c15df-98e1-4e52-b2be-1476529e2381__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63796
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63796/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63796/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.210/tcp/63797/p2p/16Uiu2HAmRCX1nrzY9bM1bx4JuvxScLLwUR4k2JMWMtyEkZBqsWQa","/ip4/172.18.7.210/tcp/63798/ws/p2p/16Uiu2HAmRCX1nrzY9bM1bx4JuvxScLLwUR4k2JMWMtyEkZBqsWQa"],"enrUri":"enr:-L24QKoG8MWiFDtXwGmwueaIlbyapED_nb024CQ7BvXT26_hVedAJlBKTkLvfh6u99VpLm0zbvzZLUqViG6_yE3q16ACgmlkgnY0gmlwhKwSB9KKbXVsdGlhZGRyc5YACASsEgfSBvk1AAoErBIH0gb5Nt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDul_rfgBYcTOpwmYR0GwE8bCGvcDYhc8UzruR_KXJDfuDdGNwgvk1g3VkcIL5N4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63796/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.56/tcp/64935/p2p/16Uiu2HAm8zCcRMBHKwnzjtfdonaHpBiWyGazpNgQP8hWPQZ1LPsN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-29_04-13-37__7e0c15df-98e1-4e52-b2be-1476529e2381__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.122.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6867', '6868', '6869', '6870', '6871']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6867:6867 -p 6868:6868 -p 6869:6869 -p 6870:6870 -p 6871:6871 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6869 --rest-port=6867 --tcp-port=6868 --discv5-udp-port=6870 --rest-address=0.0.0.0 --nat=extip:172.18.122.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2df9aa31b8e4aa09a61baf1ee8d5eff3a6b325bd730a88eaf0ffe5747f5435d3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6871 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKT0CgVfLA-sy0gEpfpgGrU0em96HDQDGsQxC488-XQqUpwCelQM3pY_pNXGxzWWFZcn1vLElNLwO0_nV64p_bgCgmlkgnY0gmlwhKwSnDiKbXVsdGlhZGRyc5YACASsEpw4Bv2nAAoErBKcOAb9qN0DgnJzhQADAQAAiXNlY3AyNTZrMaECyX0mrVLy5THWpM_vqLM04DBFSMYlsfv3YvGAeZJsUTmDdGNwgv2ng3VkcIL9qYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.122.98 waku 20664cb7fc00e11857a62fa59c65b7b7820636faa473fb1e9958f20ab64a351d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 20664cb7fc00. Setting up logs at ./log/docker/node4_2024-10-29_04-13-37__7e0c15df-98e1-4e52-b2be-1476529e2381__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6867
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6867/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6867/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.122.98/tcp/6868/p2p/16Uiu2HAmHnkXyz5u36GwQ4iqL2pAZghhbkWeXfpRp9nvfUPkceTo","/ip4/172.18.122.98/tcp/6869/ws/p2p/16Uiu2HAmHnkXyz5u36GwQ4iqL2pAZghhbkWeXfpRp9nvfUPkceTo"],"enrUri":"enr:-L24QFArIVBKI8qiClUwxRi-dhyrfapHfOrTLyw0nruRUvDiSNlsXKxJZWTFmFBcSottmVw_xLsVIF9iPWqw7xUhcScCgmlkgnY0gmlwhKwSemKKbXVsdGlhZGRyc5YACASsEnpiBhrUAAoErBJ6YgYa1d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDTEd1sEe7ebf8juxHJFpUpjUptqIpd3ggCU8JUwd8w-6DdGNwghrUg3VkcIIa1oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6867/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.56/tcp/64935/p2p/16Uiu2HAm8zCcRMBHKwnzjtfdonaHpBiWyGazpNgQP8hWPQZ1LPsN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-29_04-13-37__7e0c15df-98e1-4e52-b2be-1476529e2381__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.146.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21856', '21857', '21858', '21859', '21860']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21856:21856 -p 21857:21857 -p 21858:21858 -p 21859:21859 -p 21860:21860 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21858 --rest-port=21856 --tcp-port=21857 --discv5-udp-port=21859 --rest-address=0.0.0.0 --nat=extip:172.18.146.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5db99fba1eaacddacddeeeeba165fdcaba6cacd1acb7edeab3a3942afefa4ac4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21860 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKT0CgVfLA-sy0gEpfpgGrU0em96HDQDGsQxC488-XQqUpwCelQM3pY_pNXGxzWWFZcn1vLElNLwO0_nV64p_bgCgmlkgnY0gmlwhKwSnDiKbXVsdGlhZGRyc5YACASsEpw4Bv2nAAoErBKcOAb9qN0DgnJzhQADAQAAiXNlY3AyNTZrMaECyX0mrVLy5THWpM_vqLM04DBFSMYlsfv3YvGAeZJsUTmDdGNwgv2ng3VkcIL9qYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.146.95 waku 8e21a35d19e98b0c45fee77b0b148b14109769d416aa47efd2eb2c4ec01a3d3d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8e21a35d19e9. Setting up logs at ./log/docker/node5_2024-10-29_04-13-37__7e0c15df-98e1-4e52-b2be-1476529e2381__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 21856
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21856/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21856/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.95/tcp/21857/p2p/16Uiu2HAkyZC56oa7eHGtSwkAn1Qzg9JEvATL5PAvM9yfGFu76yVP","/ip4/172.18.146.95/tcp/21858/ws/p2p/16Uiu2HAkyZC56oa7eHGtSwkAn1Qzg9JEvATL5PAvM9yfGFu76yVP"],"enrUri":"enr:-L24QOK83rAZB0p3PLNtg5JekodTHw02kL-LUpdGffc1jjVlbtZ5pBbTHw66O7dyW6PJSFUfOIKbUqv62VdsUVjQ5TMCgmlkgnY0gmlwhKwSkl-KbXVsdGlhZGRyc5YACASsEpJfBlVhAAoErBKSXwZVYt0DgnJzhQADAQAAiXNlY3AyNTZrMaECPVvWg3N3kq6lc-CB5FzKUfmqWXHTpvmJeP7dJtUnFvaDdGNwglVhg3VkcIJVY4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21856/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.56/tcp/64935/p2p/16Uiu2HAm8zCcRMBHKwnzjtfdonaHpBiWyGazpNgQP8hWPQZ1LPsN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64934/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4481/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63796/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6867/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21856/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64934/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64934/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730175226566034944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4481/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730175226566034944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730175226566034944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6867/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730175226566034944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21856/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730175226566034944,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21856/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64934/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730175226721553152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4481/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730175226721553152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730175226721553152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6867/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730175226721553152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21856/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730175226721553152,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c5e37e2f63d7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ac857a6d8cd5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c5e37e2f63d7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 90e135502657
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ac857a6d8cd5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 20664cb7fc00
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 90e135502657. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8e21a35d19e9
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 20664cb7fc00. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.