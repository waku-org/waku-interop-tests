[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_content_topic_not_in_docker_flags with id: 2024-10-29_04-18-59__4325f2af-dbbe-4355-ae0c-b5c1060cae16
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-29_04-18-59__4325f2af-dbbe-4355-ae0c-b5c1060cae16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.90.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55090', '55091', '55092', '55093', '55094']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55090:55090 -p 55091:55091 -p 55092:55092 -p 55093:55093 -p 55094:55094 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55092 --rest-port=55090 --tcp-port=55091 --discv5-udp-port=55093 --rest-address=0.0.0.0 --nat=extip:172.18.90.56 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=2dd324b9fcc6ee0e5b5d0e01a8b792a6f15ff79483c7722cf2dbf0cbcc8f5cbf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55094 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.90.56 waku 0459277a231181aed61d3e6c1a1b319f0aebbd79826649feae26bb01e755d29f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dc4e3b1e0975. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0459277a2311. Setting up logs at ./log/docker/node1_2024-10-29_04-18-59__4325f2af-dbbe-4355-ae0c-b5c1060cae16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55090
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55090/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55090/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.56/tcp/55091/p2p/16Uiu2HAm1SQDtMF6FPmVBGJnmP67KojV9hRDR9BVUyiDttGqC3VL","/ip4/172.18.90.56/tcp/55092/ws/p2p/16Uiu2HAm1SQDtMF6FPmVBGJnmP67KojV9hRDR9BVUyiDttGqC3VL"],"enrUri":"enr:-L24QL_npJRwD-GhZVubXvbJ47nQxUgxvbG5kl9FgaJPC394ZkkPtjnsVCYiKcI_Zeoh4cM8-uUrHDRFVTdqYu4G-8YCgmlkgnY0gmlwhKwSWjiKbXVsdGlhZGRyc5YACASsElo4BtczAAoErBJaOAbXNN0DgnJzhQACAQAAiXNlY3AyNTZrMaECWVXixqePGM8HcFmy-eWROYmJEYocebdJy8XJW67NPAuDdGNwgtczg3VkcILXNYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-29_04-18-59__4325f2af-dbbe-4355-ae0c-b5c1060cae16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.6.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51564', '51565', '51566', '51567', '51568']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51564:51564 -p 51565:51565 -p 51566:51566 -p 51567:51567 -p 51568:51568 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51566 --rest-port=51564 --tcp-port=51565 --discv5-udp-port=51567 --rest-address=0.0.0.0 --nat=extip:172.18.6.229 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=5f635dde0bacc6da17d0d6caa9e1de67b9fbef8fbe6eb5c7cc1ecbe2daf0b4e8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51568 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QL_npJRwD-GhZVubXvbJ47nQxUgxvbG5kl9FgaJPC394ZkkPtjnsVCYiKcI_Zeoh4cM8-uUrHDRFVTdqYu4G-8YCgmlkgnY0gmlwhKwSWjiKbXVsdGlhZGRyc5YACASsElo4BtczAAoErBJaOAbXNN0DgnJzhQACAQAAiXNlY3AyNTZrMaECWVXixqePGM8HcFmy-eWROYmJEYocebdJy8XJW67NPAuDdGNwgtczg3VkcILXNYV3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.136.132
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5924', '5925', '5926', '5927', '5928']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5924:5924 -p 5925:5925 -p 5926:5926 -p 5927:5927 -p 5928:5928 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5926 --rest-port=5924 --tcp-port=5925 --discv5-udp-port=5927 --rest-address=0.0.0.0 --nat=extip:172.18.136.132 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=5aadb42b29d5a9bc5caefcce8071c5a6541fdbffd4a271b67bbb51de09a24fae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5928 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QL_npJRwD-GhZVubXvbJ47nQxUgxvbG5kl9FgaJPC394ZkkPtjnsVCYiKcI_Zeoh4cM8-uUrHDRFVTdqYu4G-8YCgmlkgnY0gmlwhKwSWjiKbXVsdGlhZGRyc5YACASsElo4BtczAAoErBJaOAbXNN0DgnJzhQACAQAAiXNlY3AyNTZrMaECWVXixqePGM8HcFmy-eWROYmJEYocebdJy8XJW67NPAuDdGNwgtczg3VkcILXNYV3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.136.132 waku 30672c08ad2dbb3bb1b65421ed3668c71627def5c00837e494aad305a5e6abfd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 30672c08ad2d. Setting up logs at ./log/docker/node2_2024-10-29_04-18-59__4325f2af-dbbe-4355-ae0c-b5c1060cae16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5924
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5924/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5924/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.136.132/tcp/5925/p2p/16Uiu2HAmQ4JR7NvWxwCmFVZLXgq68buVfAMWBEWbNTwaswWeTFH7","/ip4/172.18.136.132/tcp/5926/ws/p2p/16Uiu2HAmQ4JR7NvWxwCmFVZLXgq68buVfAMWBEWbNTwaswWeTFH7"],"enrUri":"enr:-L24QA42YAkNY1b9bAhr7aqMNTqr3LNTX-DfaNvw-Q7aovytPEjyeT6q83yYnoMVqXF7hxLNCTF52Zag0Xj2eAfhRqQCgmlkgnY0gmlwhKwSiISKbXVsdGlhZGRyc5YACASsEoiEBhclAAoErBKIhAYXJt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDqWlXiiQq6A1sgsoPwvs6TRyyRAQYbFKc7_yiAUSJhZ6DdGNwghclg3VkcIIXJ4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5924/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.90.56/tcp/55091/p2p/16Uiu2HAm1SQDtMF6FPmVBGJnmP67KojV9hRDR9BVUyiDttGqC3VL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55090/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5924/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55090/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.sharding:sharding.py:157 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55090/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730175544179949312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.sharding:sharding.py:157 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5924/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730175544179949312,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0459277a2311
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 30672c08ad2d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0459277a2311. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.