[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_subscribed_peer with id: 2024-10-16_04-05-21__71e018c8-7f59-4c51-be50-23529f452bc1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-16_04-05-21__71e018c8-7f59-4c51-be50-23529f452bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.165.26
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62889', '62890', '62891', '62892', '62893']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62889:62889 -p 62890:62890 -p 62891:62891 -p 62892:62892 -p 62893:62893 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62891 --rest-port=62889 --tcp-port=62890 --discv5-udp-port=62892 --rest-address=0.0.0.0 --nat=extip:172.18.165.26 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9e92ffeb8adf40f7358d805bc00cbaa56f9bb75d022f5ca4fbda3a072bc069d9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62893 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.165.26 waku 69b3536622a8dcaabbf3e516603273e8ddc20d778acda5937c2c2593ce5450d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 69b3536622a8. Setting up logs at ./log/docker/node1_2024-10-16_04-05-21__71e018c8-7f59-4c51-be50-23529f452bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62889
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62889/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62889/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.165.26/tcp/62890/p2p/16Uiu2HAkuYSxoCoP3mn34WfkdAaMJB8rk8652kzydtj7mhfPDkkv","/ip4/172.18.165.26/tcp/62891/ws/p2p/16Uiu2HAkuYSxoCoP3mn34WfkdAaMJB8rk8652kzydtj7mhfPDkkv"],"enrUri":"enr:-LO4QEiW979yFSKjMXvajzSg1J1bcxp58W4ugixY2jo3pofvalUNUIGX8ofSLWGUYOUPaQv8ISfhro51FsrskHqfQQ8BgmlkgnY0gmlwhKwSpRqKbXVsdGlhZGRyc4wACgSsEqUaBvWr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIBvFjbaj9b4RGb9oig2Hhh2GM1b5gR4THafXE0duqL_4N0Y3CC9aqDdWRwgvWshXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-16_04-05-21__71e018c8-7f59-4c51-be50-23529f452bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.128.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['57878', '57879', '57880', '57881', '57882']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 57878:57878 -p 57879:57879 -p 57880:57880 -p 57881:57881 -p 57882:57882 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57880 --rest-port=57878 --tcp-port=57879 --discv5-udp-port=57881 --rest-address=0.0.0.0 --nat=extip:172.18.128.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c5b937b8d1fe9cedbccecefcff4e35999edee31b2f6bc79f8cba6605250f9115 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57882 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEiW979yFSKjMXvajzSg1J1bcxp58W4ugixY2jo3pofvalUNUIGX8ofSLWGUYOUPaQv8ISfhro51FsrskHqfQQ8BgmlkgnY0gmlwhKwSpRqKbXVsdGlhZGRyc4wACgSsEqUaBvWr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIBvFjbaj9b4RGb9oig2Hhh2GM1b5gR4THafXE0duqL_4N0Y3CC9aqDdWRwgvWshXdha3UyBQ --filternode=/ip4/172.18.165.26/tcp/62890/p2p/16Uiu2HAkuYSxoCoP3mn34WfkdAaMJB8rk8652kzydtj7mhfPDkkv
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.128.93 waku 94d5fcafaa711e98f2d64e789d2938972750acd51609fd755d99dc16fc5a1f95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 94d5fcafaa71. Setting up logs at ./log/docker/node2_2024-10-16_04-05-21__71e018c8-7f59-4c51-be50-23529f452bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 57878
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57878/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57878/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.93/tcp/57879/p2p/16Uiu2HAmNoXRbkNqMZjY9kTESccSLRA2Ma81xm7SsWRHJEfyDKXg","/ip4/172.18.128.93/tcp/57880/ws/p2p/16Uiu2HAmNoXRbkNqMZjY9kTESccSLRA2Ma81xm7SsWRHJEfyDKXg"],"enrUri":"enr:-LO4QNbkRiMirXUGISbTHdlRcwvDmo8MQj5SeD960NW0CaCYA0Asn17Ib_LB_VQ2Lx_Km-HEHEbLH2LD6jYaGImCongBgmlkgnY0gmlwhKwSgF2KbXVsdGlhZGRyc4wACgSsEoBdBuIY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOWxKbNZmnWRt1CByR7GD74-x2NhlmPIk0EpS38v712W4N0Y3CC4heDdWRwguIZhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57878/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.165.26/tcp/62890/p2p/16Uiu2HAkuYSxoCoP3mn34WfkdAaMJB8rk8652kzydtj7mhfPDkkv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62889/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57878/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "294fda33-b77f-4877-b80a-423441a05a7f", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"294fda33-b77f-4877-b80a-423441a05a7f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57878/filter/v2/subscriptions/cfb485ec-b375-40a9-9924-bc4470b123c9" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"cfb485ec-b375-40a9-9924-bc4470b123c9","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 69b3536622a8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 94d5fcafaa71
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.