[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-10-16_04-11-23__79304843-bde7-4212-a0d0-00b00eef7b0a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-16_04-11-23__79304843-bde7-4212-a0d0-00b00eef7b0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.152.138
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63747', '63748', '63749', '63750', '63751']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63747:63747 -p 63748:63748 -p 63749:63749 -p 63750:63750 -p 63751:63751 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63749 --rest-port=63747 --tcp-port=63748 --discv5-udp-port=63750 --rest-address=0.0.0.0 --nat=extip:172.18.152.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=84fd86eb3b34cb70e05bf2659b833babf4f3e0c98eaf94eddd0acdf3224d617e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63751 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.152.138 waku 7cb6193267ac4cb59ee9166d42ea4d820c067a976516eb3da4a759396bed7a0a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7cb6193267ac. Setting up logs at ./log/docker/node1_2024-10-16_04-11-23__79304843-bde7-4212-a0d0-00b00eef7b0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63747
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63747/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63747/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.138/tcp/63748/p2p/16Uiu2HAmUAsUof3Rd9oWqv6f813J5wWhGoYV66e27XGvQF4F3KkG","/ip4/172.18.152.138/tcp/63749/ws/p2p/16Uiu2HAmUAsUof3Rd9oWqv6f813J5wWhGoYV66e27XGvQF4F3KkG"],"enrUri":"enr:-LO4QAfraCbmEYRgkgp_N4JWsMiImfPv14Vbn85MWypbZgcgUmynuqg2_dZd2rE2K_TvhgjCdjN6tWn_h7drtau9ExcBgmlkgnY0gmlwhKwSmIqKbXVsdGlhZGRyc4wACgSsEpiKBvkF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPmhvWyY-N7gy3-AddCqxmnzkI3Nhcaryn4xsTP807-ZYN0Y3CC-QSDdWRwgvkGhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-16_04-11-23__79304843-bde7-4212-a0d0-00b00eef7b0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.48.121
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['23729', '23730', '23731', '23732', '23733']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 23729:23729 -p 23730:23730 -p 23731:23731 -p 23732:23732 -p 23733:23733 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23731 --rest-port=23729 --tcp-port=23730 --discv5-udp-port=23732 --rest-address=0.0.0.0 --nat=extip:172.18.48.121 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=37fc4f1b804185f0ddf5b3dba98eb24dbbb138df9e693bb7f88aefe2e21cc4e5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23733 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QAfraCbmEYRgkgp_N4JWsMiImfPv14Vbn85MWypbZgcgUmynuqg2_dZd2rE2K_TvhgjCdjN6tWn_h7drtau9ExcBgmlkgnY0gmlwhKwSmIqKbXVsdGlhZGRyc4wACgSsEpiKBvkF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPmhvWyY-N7gy3-AddCqxmnzkI3Nhcaryn4xsTP807-ZYN0Y3CC-QSDdWRwgvkGhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.48.121 waku d11bc1844419130b2e98a398c11254c33b64119372a4e93112b54f9466a00cf7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d11bc1844419. Setting up logs at ./log/docker/node2_2024-10-16_04-11-23__79304843-bde7-4212-a0d0-00b00eef7b0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23729
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23729/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23729/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.48.121/tcp/23730/p2p/16Uiu2HAm8fNbLMByQV2hfcbupZsgoDkEq1ZtEyLR3y8KLfU2X9tF","/ip4/172.18.48.121/tcp/23731/ws/p2p/16Uiu2HAm8fNbLMByQV2hfcbupZsgoDkEq1ZtEyLR3y8KLfU2X9tF"],"enrUri":"enr:-LO4QABV-yXd4ZAZHsLqZ78P3msfnj2f78VB6IGYM4dfBfpGSXEzYe8hPR6loPY-ZUMAd_hxSYIXFqeZrnzkc3tvIKsBgmlkgnY0gmlwhKwSMHmKbXVsdGlhZGRyc4wACgSsEjB5Blyz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLEqmbNUbQEbPoXyMMl87HYtCaoZPK98yiGWwLgaZonXIN0Y3CCXLKDdWRwgly0hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23729/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.152.138/tcp/63748/p2p/16Uiu2HAmUAsUof3Rd9oWqv6f813J5wWhGoYV66e27XGvQF4F3KkG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-16_04-11-23__79304843-bde7-4212-a0d0-00b00eef7b0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.19.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['43567', '43568', '43569', '43570', '43571']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 43567:43567 -p 43568:43568 -p 43569:43569 -p 43570:43570 -p 43571:43571 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43569 --rest-port=43567 --tcp-port=43568 --discv5-udp-port=43570 --rest-address=0.0.0.0 --nat=extip:172.18.19.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d8f5efcc70cd3a321b7b51006af87f290f01e9d18ddab2cee4dbfbbe6dbbd84a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43571 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QAfraCbmEYRgkgp_N4JWsMiImfPv14Vbn85MWypbZgcgUmynuqg2_dZd2rE2K_TvhgjCdjN6tWn_h7drtau9ExcBgmlkgnY0gmlwhKwSmIqKbXVsdGlhZGRyc4wACgSsEpiKBvkF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPmhvWyY-N7gy3-AddCqxmnzkI3Nhcaryn4xsTP807-ZYN0Y3CC-QSDdWRwgvkGhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.19.176 waku 35675611f7a29ef2abd1c339d4d4ce09535a09594094bfe188d21caae55c0b37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 35675611f7a2. Setting up logs at ./log/docker/node3_2024-10-16_04-11-23__79304843-bde7-4212-a0d0-00b00eef7b0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43567
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43567/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43567/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.176/tcp/43568/p2p/16Uiu2HAm1mipSxd79MREuvZHMXo6anCxvVSmo8maoTL7o7vJxtLD","/ip4/172.18.19.176/tcp/43569/ws/p2p/16Uiu2HAm1mipSxd79MREuvZHMXo6anCxvVSmo8maoTL7o7vJxtLD"],"enrUri":"enr:-LO4QEJ84J56MwjsSHqUwP3MG8BYE223pyY0AM1JkKdfnbJpIz50B-xLN_0w6OxkBqs8tpOTGx12yJuXBtzuB5W9T3ABgmlkgnY0gmlwhKwSE7CKbXVsdGlhZGRyc4wACgSsEhOwBqox3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJeSPKaYML9BeUGD8wRunT43lA__bggS5vdrqXJvd19zoN0Y3CCqjCDdWRwgqoyhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43567/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.152.138/tcp/63748/p2p/16Uiu2HAmUAsUof3Rd9oWqv6f813J5wWhGoYV66e27XGvQF4F3KkG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-16_04-11-23__79304843-bde7-4212-a0d0-00b00eef7b0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.173.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['14769', '14770', '14771', '14772', '14773']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 14769:14769 -p 14770:14770 -p 14771:14771 -p 14772:14772 -p 14773:14773 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14771 --rest-port=14769 --tcp-port=14770 --discv5-udp-port=14772 --rest-address=0.0.0.0 --nat=extip:172.18.173.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acacdee9bce6f41ddc6a1dabfa48931cb019fd65ddddce57b4dbdff9dd1b359b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14773 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QAfraCbmEYRgkgp_N4JWsMiImfPv14Vbn85MWypbZgcgUmynuqg2_dZd2rE2K_TvhgjCdjN6tWn_h7drtau9ExcBgmlkgnY0gmlwhKwSmIqKbXVsdGlhZGRyc4wACgSsEpiKBvkF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPmhvWyY-N7gy3-AddCqxmnzkI3Nhcaryn4xsTP807-ZYN0Y3CC-QSDdWRwgvkGhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.173.19 waku e612324a0346b992e4daf88c8f928e84dae5a395ea16f5a166a393a2f297abd4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e612324a0346. Setting up logs at ./log/docker/node4_2024-10-16_04-11-23__79304843-bde7-4212-a0d0-00b00eef7b0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 14769
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14769/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14769/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.173.19/tcp/14770/p2p/16Uiu2HAm38jvDLBtLQufNhjGQqFRxF2QknSmYCLhebHfyicEtdV2","/ip4/172.18.173.19/tcp/14771/ws/p2p/16Uiu2HAm38jvDLBtLQufNhjGQqFRxF2QknSmYCLhebHfyicEtdV2"],"enrUri":"enr:-LO4QGa-NUYnb7216LM_JdUQ6iyeAy_MuR1jg2_RZ-40V1d1DmdSDV1lXijdvHSC9cOmSNYBzm75rZRDYDRWpiNtGM4BgmlkgnY0gmlwhKwSrROKbXVsdGlhZGRyc4wACgSsEq0TBjmz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJyhxMeDTzA_Dxms_m-ZsE2U_f-omfFqhU4vxUKQ8n2UYN0Y3CCObKDdWRwgjm0hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14769/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.152.138/tcp/63748/p2p/16Uiu2HAmUAsUof3Rd9oWqv6f813J5wWhGoYV66e27XGvQF4F3KkG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-16_04-11-23__79304843-bde7-4212-a0d0-00b00eef7b0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.7.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32411', '32412', '32413', '32414', '32415']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32411:32411 -p 32412:32412 -p 32413:32413 -p 32414:32414 -p 32415:32415 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32413 --rest-port=32411 --tcp-port=32412 --discv5-udp-port=32414 --rest-address=0.0.0.0 --nat=extip:172.18.7.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac4ea0c37338b28fced5cb9d1d8a4fda9eefc856da97daebcaf421f89ffd4ba1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32415 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QAfraCbmEYRgkgp_N4JWsMiImfPv14Vbn85MWypbZgcgUmynuqg2_dZd2rE2K_TvhgjCdjN6tWn_h7drtau9ExcBgmlkgnY0gmlwhKwSmIqKbXVsdGlhZGRyc4wACgSsEpiKBvkF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPmhvWyY-N7gy3-AddCqxmnzkI3Nhcaryn4xsTP807-ZYN0Y3CC-QSDdWRwgvkGhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.7.179 waku cefc8065a851ec99ea4e0ab0daa5af376337debb7f949f8a037a5e5791637c11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cefc8065a851. Setting up logs at ./log/docker/node5_2024-10-16_04-11-23__79304843-bde7-4212-a0d0-00b00eef7b0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32411
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32411/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32411/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.179/tcp/32412/p2p/16Uiu2HAm1dShUs5JvEpdhp2gMaeoAGYSDxWKhxCvDZSDdzYU2YQW","/ip4/172.18.7.179/tcp/32413/ws/p2p/16Uiu2HAm1dShUs5JvEpdhp2gMaeoAGYSDxWKhxCvDZSDdzYU2YQW"],"enrUri":"enr:-LO4QBiKTl6d-VPoLtstm1_ib-z3CVNgd-4MnPa_q36nOk7SAZeOAJE-ZaXAckB-p9rrKbP2XPE9Z1j7NwE-6tJNL6YBgmlkgnY0gmlwhKwSB7OKbXVsdGlhZGRyc4wACgSsEgezBn6d3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJcKhL5HZObPmehmepmZY7ao8tEQXNsiiu8smDVzh6aJ4N0Y3CCfpyDdWRwgn6ehXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32411/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.152.138/tcp/63748/p2p/16Uiu2HAmUAsUof3Rd9oWqv6f813J5wWhGoYV66e27XGvQF4F3KkG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63747/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23729/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43567/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14769/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32411/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63747/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63747/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729051892652570368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729051892652570368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43567/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729051892652570368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14769/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729051892652570368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729051892652570368,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63747/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729051892800278272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729051892800278272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43567/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729051892800278272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14769/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729051892800278272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729051892800278272,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7cb6193267ac
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d11bc1844419
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 35675611f7a2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e612324a0346
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cefc8065a851
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.