[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.41.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['17937', '17938', '17939', '17940', '17941']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 17937:17937 -p 17938:17938 -p 17939:17939 -p 17940:17940 -p 17941:17941 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17939 --rest-port=17937 --tcp-port=17938 --discv5-udp-port=17940 --rest-address=0.0.0.0 --nat=extip:172.18.41.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ed1ed628df18492be8c34bdd7bdc6fe4f66b8159cc7fe3e293b4ea9bc5f46ddf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17941 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.41.184 waku 36efadaaed894b0090b8b08c522941bcd41b205a8082f45738ef68c32216ab28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 36efadaaed89. Setting up logs at ./log/docker/receiving_node1_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 17937
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17937/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17937/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.41.184/tcp/17938/p2p/16Uiu2HAm2WveCiR7QnoFgnW3bVWbrQK9h432RZbYFNn1EZF6Ze9M","/ip4/172.18.41.184/tcp/17939/ws/p2p/16Uiu2HAm2WveCiR7QnoFgnW3bVWbrQK9h432RZbYFNn1EZF6Ze9M"],"enrUri":"enr:-LO4QAFORM2dr-fM5P1o600dJLNPnTk5e3Rzh3Lm-Cv5VoCIJBVQmmVnKibwX51UeaSo1XmabgIP777F7oqCjv6vC4cBgmlkgnY0gmlwhKwSKbiKbXVsdGlhZGRyc4wACgSsEim4BkYT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJpWkqJxUp7aHubh_TUmjUYSj4H_6MGgjkZ5OlsHvwzqIN0Y3CCRhKDdWRwgkYUhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.118.119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['55235', '55236', '55237', '55238', '55239']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 55235:55235 -p 55236:55236 -p 55237:55237 -p 55238:55238 -p 55239:55239 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55237 --rest-port=55235 --tcp-port=55236 --discv5-udp-port=55238 --rest-address=0.0.0.0 --nat=extip:172.18.118.119 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c739edf2de87c5ecf2ffd0dfca7f6caec19a5accf4eea2dea6b87b751cfec5bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55239 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.118.119 waku b5987cb05c33c7a191a377e9003f41cdb6694e6cb8f4bbdf9ad292c9e3bb796e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b5987cb05c33. Setting up logs at ./log/docker/receiving_node2_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55235
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55235/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55235/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.118.119/tcp/55236/p2p/16Uiu2HAmD3vqbfMw2uFxCdXW2QTE5cLGywGCGPuZzmrogS6xkBBi","/ip4/172.18.118.119/tcp/55237/ws/p2p/16Uiu2HAmD3vqbfMw2uFxCdXW2QTE5cLGywGCGPuZzmrogS6xkBBi"],"enrUri":"enr:-LO4QBxEvM5zsqBdQ-7TDvtN2igmmCyoIeUPKT7mP9UGnA6GOtVKy7Wq9cwvMfa31OjqtpOAXdk374ky0WAGkOgC-z0BgmlkgnY0gmlwhKwSdneKbXVsdGlhZGRyc4wACgSsEnZ3BtfF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMF4GM-GpbI7FTiD9HR8B4FLAtE4LuP_Bj4djKuQqxa3YN0Y3CC18SDdWRwgtfGhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55235/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.41.184/tcp/17938/p2p/16Uiu2HAm2WveCiR7QnoFgnW3bVWbrQK9h432RZbYFNn1EZF6Ze9M"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.180.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['41199', '41200', '41201', '41202', '41203']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 41199:41199 -p 41200:41200 -p 41201:41201 -p 41202:41202 -p 41203:41203 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41201 --rest-port=41199 --tcp-port=41200 --discv5-udp-port=41202 --rest-address=0.0.0.0 --nat=extip:172.18.180.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=69ffaa900c397acd28dd8783a693b7ccff4318f72ce54e4ef728fa5fdebc0bbe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41203 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QAFORM2dr-fM5P1o600dJLNPnTk5e3Rzh3Lm-Cv5VoCIJBVQmmVnKibwX51UeaSo1XmabgIP777F7oqCjv6vC4cBgmlkgnY0gmlwhKwSKbiKbXVsdGlhZGRyc4wACgSsEim4BkYT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJpWkqJxUp7aHubh_TUmjUYSj4H_6MGgjkZ5OlsHvwzqIN0Y3CCRhKDdWRwgkYUhXdha3UyCQ --lightpushnode=/ip4/172.18.41.184/tcp/17938/p2p/16Uiu2HAm2WveCiR7QnoFgnW3bVWbrQK9h432RZbYFNn1EZF6Ze9M --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.180.6 waku b687c074b26b2b4d607e3bbda05b441e378c9f1a6e314a6f7fe10d6cbd1cba0d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b687c074b26b. Setting up logs at ./log/docker/lightpush_node1_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 41199
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41199/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41199/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.180.6/tcp/41200/p2p/16Uiu2HAm6xgnkzArsmk6Df72Xo72oR8m2Lt4mztRKfXJiGLBnFdW","/ip4/172.18.180.6/tcp/41201/ws/p2p/16Uiu2HAm6xgnkzArsmk6Df72Xo72oR8m2Lt4mztRKfXJiGLBnFdW"],"enrUri":"enr:-LO4QFpxMm5vnX8DyxiUghYGW--1fyJLnTj2qvzlB-WVYswESEJGzsmV90E2ax1fv_7GupMNBdK7gcsX_jJOv3ywyakBgmlkgnY0gmlwhKwStAaKbXVsdGlhZGRyc4wACgSsErQGBqDx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKrYnoTndjnWklU7NFRo3O7uwjJRSBQarukKoJVQsvIBYN0Y3CCoPCDdWRwgqDyhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41199/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.41.184/tcp/17938/p2p/16Uiu2HAm2WveCiR7QnoFgnW3bVWbrQK9h432RZbYFNn1EZF6Ze9M"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41199/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.119/tcp/55236/p2p/16Uiu2HAmD3vqbfMw2uFxCdXW2QTE5cLGywGCGPuZzmrogS6xkBBi"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.24.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['64823', '64824', '64825', '64826', '64827']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 64823:64823 -p 64824:64824 -p 64825:64825 -p 64826:64826 -p 64827:64827 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64825 --rest-port=64823 --tcp-port=64824 --discv5-udp-port=64826 --rest-address=0.0.0.0 --nat=extip:172.18.24.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdd6ded9635df1949c59dc8a7e5694dfdce24ca162b4b1ee34a93bde09d09dcb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64827 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QAFORM2dr-fM5P1o600dJLNPnTk5e3Rzh3Lm-Cv5VoCIJBVQmmVnKibwX51UeaSo1XmabgIP777F7oqCjv6vC4cBgmlkgnY0gmlwhKwSKbiKbXVsdGlhZGRyc4wACgSsEim4BkYT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJpWkqJxUp7aHubh_TUmjUYSj4H_6MGgjkZ5OlsHvwzqIN0Y3CCRhKDdWRwgkYUhXdha3UyCQ --lightpushnode=/ip4/172.18.41.184/tcp/17938/p2p/16Uiu2HAm2WveCiR7QnoFgnW3bVWbrQK9h432RZbYFNn1EZF6Ze9M --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.24.184 waku e0f369f257584fcec977c3bdcbba453824f4e239cb726fb9ade2a1fe06970d1f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e0f369f25758. Setting up logs at ./log/docker/lightpush_node2_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 64823
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64823/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64823/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.24.184/tcp/64824/p2p/16Uiu2HAmPrjugdfoiVFtwJt2Ho3uZj8WKKZV1QGUrbz5EKPnPejE","/ip4/172.18.24.184/tcp/64825/ws/p2p/16Uiu2HAmPrjugdfoiVFtwJt2Ho3uZj8WKKZV1QGUrbz5EKPnPejE"],"enrUri":"enr:-LO4QJfQDK_V94HX3tZI09pRMS44s6dAZDFohe8kuP7j1ATrfRovp0bVCqjoHKgWvWYQpVzg1buC1tXo8gLMmeI95k8BgmlkgnY0gmlwhKwSGLiKbXVsdGlhZGRyc4wACgSsEhi4Bv053QOCcnOFAAMBAACJc2VjcDI1NmsxoQOmczJl4k8LGBtmCZRTEnB0CyDHsuAGjd8ODVG-Re69xYN0Y3CC_TiDdWRwgv06hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64823/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.41.184/tcp/17938/p2p/16Uiu2HAm2WveCiR7QnoFgnW3bVWbrQK9h432RZbYFNn1EZF6Ze9M"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64823/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.119/tcp/55236/p2p/16Uiu2HAmD3vqbfMw2uFxCdXW2QTE5cLGywGCGPuZzmrogS6xkBBi"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.100.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['54705', '54706', '54707', '54708', '54709']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 54705:54705 -p 54706:54706 -p 54707:54707 -p 54708:54708 -p 54709:54709 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54707 --rest-port=54705 --tcp-port=54706 --discv5-udp-port=54708 --rest-address=0.0.0.0 --nat=extip:172.18.100.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cb70255de0d5cd09c4589c6d0f3eeddf1fafcd7bdfc885bf4aca5fae6bfbcf16 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54709 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QAFORM2dr-fM5P1o600dJLNPnTk5e3Rzh3Lm-Cv5VoCIJBVQmmVnKibwX51UeaSo1XmabgIP777F7oqCjv6vC4cBgmlkgnY0gmlwhKwSKbiKbXVsdGlhZGRyc4wACgSsEim4BkYT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJpWkqJxUp7aHubh_TUmjUYSj4H_6MGgjkZ5OlsHvwzqIN0Y3CCRhKDdWRwgkYUhXdha3UyCQ --lightpushnode=/ip4/172.18.41.184/tcp/17938/p2p/16Uiu2HAm2WveCiR7QnoFgnW3bVWbrQK9h432RZbYFNn1EZF6Ze9M --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.100.49 waku bfe4dd21f106d9288bc70b575761a4553045d3e48cf8a0f0063335257515cb6a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bfe4dd21f106. Setting up logs at ./log/docker/lightpush_node3_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 54705
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54705/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54705/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.100.49/tcp/54706/p2p/16Uiu2HAkwvKWuwXbp7rDvYXMfg9EXjw1w1nDNnqgizEW5ECWaBPx","/ip4/172.18.100.49/tcp/54707/ws/p2p/16Uiu2HAkwvKWuwXbp7rDvYXMfg9EXjw1w1nDNnqgizEW5ECWaBPx"],"enrUri":"enr:-LO4QO9M1hOVpQXIA9u9jy5Q54x7xOmbWQ_jyWUDcu6-tNyKL-SqR4Bs2G8sZ18SiSzbQyrJLT_QaT9BQ4ofAA7ryqkBgmlkgnY0gmlwhKwSZDGKbXVsdGlhZGRyc4wACgSsEmQxBtWz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlDhRH6gzukuNmvF7lfEAx_voBTXHTQqiU52hVdGzWs4N0Y3CC1bKDdWRwgtW0hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54705/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.41.184/tcp/17938/p2p/16Uiu2HAm2WveCiR7QnoFgnW3bVWbrQK9h432RZbYFNn1EZF6Ze9M"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54705/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.119/tcp/55236/p2p/16Uiu2HAmD3vqbfMw2uFxCdXW2QTE5cLGywGCGPuZzmrogS6xkBBi"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.191.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44874', '44875', '44876', '44877', '44878']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44874:44874 -p 44875:44875 -p 44876:44876 -p 44877:44877 -p 44878:44878 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44876 --rest-port=44874 --tcp-port=44875 --discv5-udp-port=44877 --rest-address=0.0.0.0 --nat=extip:172.18.191.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbfc08bb3e002d3bb78fb01a62d63a4f2e891d6b82d768b3beffcba860e7bcda --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44878 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QAFORM2dr-fM5P1o600dJLNPnTk5e3Rzh3Lm-Cv5VoCIJBVQmmVnKibwX51UeaSo1XmabgIP777F7oqCjv6vC4cBgmlkgnY0gmlwhKwSKbiKbXVsdGlhZGRyc4wACgSsEim4BkYT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJpWkqJxUp7aHubh_TUmjUYSj4H_6MGgjkZ5OlsHvwzqIN0Y3CCRhKDdWRwgkYUhXdha3UyCQ --lightpushnode=/ip4/172.18.41.184/tcp/17938/p2p/16Uiu2HAm2WveCiR7QnoFgnW3bVWbrQK9h432RZbYFNn1EZF6Ze9M --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.191.179 waku 23d9dd9ec16c41cb0250559bd576f12a6c1423eb5e1ae3ea28eec74526ebe213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 23d9dd9ec16c. Setting up logs at ./log/docker/lightpush_node4_2024-10-16_04-07-50__4c15dcec-8825-4a4f-8412-4a59d99c4cba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44874
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44874/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44874/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.191.179/tcp/44875/p2p/16Uiu2HAmEoz8p91rmaLRGjkbAmkFvd1ZM1XgjeCeAphcvPB7DQA6","/ip4/172.18.191.179/tcp/44876/ws/p2p/16Uiu2HAmEoz8p91rmaLRGjkbAmkFvd1ZM1XgjeCeAphcvPB7DQA6"],"enrUri":"enr:-LO4QIwxl5h5jdgzAIXS4oya8MOu0tIPdhhH02-4rbqeq50SGnreY0AEQMKV0tqN5CPHnQmp8G9baijhmBSlePbCGQwBgmlkgnY0gmlwhKwSv7OKbXVsdGlhZGRyc4wACgSsEr-zBq9M3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMgBVuf96LNxbtpgeRAWlCztbKNndIAoKylaaAiZUSty4N0Y3CCr0uDdWRwgq9NhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44874/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.41.184/tcp/17938/p2p/16Uiu2HAm2WveCiR7QnoFgnW3bVWbrQK9h432RZbYFNn1EZF6Ze9M"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44874/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.119/tcp/55236/p2p/16Uiu2HAmD3vqbfMw2uFxCdXW2QTE5cLGywGCGPuZzmrogS6xkBBi"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17937/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55235/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41199/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1729051680787739904}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17937/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729051680787739904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55235/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729051680787739904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64823/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1729051680911378432}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17937/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729051680911378432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55235/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729051680911378432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54705/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1729051681032077312}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17937/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729051681032077312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55235/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729051681032077312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44874/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1729051681153356800}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17937/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729051681153356800,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55235/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729051681153356800,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 36efadaaed89
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b5987cb05c33
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b687c074b26b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e0f369f25758
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bfe4dd21f106
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 23d9dd9ec16c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.