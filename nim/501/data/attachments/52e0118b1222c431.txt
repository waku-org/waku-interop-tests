[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-04_04-17-35__16231a5d-ac6b-4219-a6de-3f0d1f6bba82
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-04_04-17-35__16231a5d-ac6b-4219-a6de-3f0d1f6bba82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.146.138
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31127', '31128', '31129', '31130', '31131']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31127:31127 -p 31128:31128 -p 31129:31129 -p 31130:31130 -p 31131:31131 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31129 --rest-port=31127 --tcp-port=31128 --discv5-udp-port=31130 --rest-address=0.0.0.0 --nat=extip:172.18.146.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cbe62bbe4c9a1ddcc320fccb2a4751c2b50b998bada6c6777536c46ea872f8a7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31131 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.146.138 waku 7f4224876278b6613bccb88d0b17d9c86515dcc66d5db2b092bc80f8e41671b7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0de762c4c076. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7f4224876278. Setting up logs at ./log/docker/node1_2024-12-04_04-17-35__16231a5d-ac6b-4219-a6de-3f0d1f6bba82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 31127
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31127/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31127/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.138/tcp/31128/p2p/16Uiu2HAmTTUvU6sCXR9hcTLUqY9D3fmQJJHr9cVZBHCXHh79fAKH","/ip4/172.18.146.138/tcp/31129/ws/p2p/16Uiu2HAmTTUvU6sCXR9hcTLUqY9D3fmQJJHr9cVZBHCXHh79fAKH"],"enrUri":"enr:-L24QIgqBGOFyIRb2z9lOj8KlsP_CnCspF-rTe-RJjbePgYmD8AvGognW3jxfhTDxG4rt8jRRPPBY8DcQwoEq7N1tskCgmlkgnY0gmlwhKwSkoqKbXVsdGlhZGRyc5YACASsEpKKBnmYAAoErBKSigZ5md0DgnJzhQADAQAAiXNlY3AyNTZrMaED2-ykBG-ve3UsIs60TXpa4vJolRjNT0ebZQkOlbB8FJiDdGNwgnmYg3VkcIJ5moV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-04_04-17-35__16231a5d-ac6b-4219-a6de-3f0d1f6bba82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.167.127
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49729', '49730', '49731', '49732', '49733']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49729:49729 -p 49730:49730 -p 49731:49731 -p 49732:49732 -p 49733:49733 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49731 --rest-port=49729 --tcp-port=49730 --discv5-udp-port=49732 --rest-address=0.0.0.0 --nat=extip:172.18.167.127 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a86deaebe7b4ec88c1d935dec967ec094ecb6c59ea7b1de4295a5c17bccfee7a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49733 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIgqBGOFyIRb2z9lOj8KlsP_CnCspF-rTe-RJjbePgYmD8AvGognW3jxfhTDxG4rt8jRRPPBY8DcQwoEq7N1tskCgmlkgnY0gmlwhKwSkoqKbXVsdGlhZGRyc5YACASsEpKKBnmYAAoErBKSigZ5md0DgnJzhQADAQAAiXNlY3AyNTZrMaED2-ykBG-ve3UsIs60TXpa4vJolRjNT0ebZQkOlbB8FJiDdGNwgnmYg3VkcIJ5moV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.167.127 waku 56e0c5e068e246c6516424d3ac808a2f24318f75c6d3a96cb8dd046631a25e94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 56e0c5e068e2. Setting up logs at ./log/docker/node2_2024-12-04_04-17-35__16231a5d-ac6b-4219-a6de-3f0d1f6bba82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 49729
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49729/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49729/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.167.127/tcp/49730/p2p/16Uiu2HAmFz5AU7XaQb4VtqTwa7NcbgVGEqs6E8qYQVgR4mLYmTDL","/ip4/172.18.167.127/tcp/49731/ws/p2p/16Uiu2HAmFz5AU7XaQb4VtqTwa7NcbgVGEqs6E8qYQVgR4mLYmTDL"],"enrUri":"enr:-L24QItmhe9m1hOEodTxYud2vYLd28nG8FrEH0v0LFpVPaXrb96oM24HeyVn4nSF4fU2teBQ18scSQWn1cRQE0NkwYYCgmlkgnY0gmlwhKwSp3-KbXVsdGlhZGRyc5YACASsEqd_BsJCAAoErBKnfwbCQ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDMXaJ6HoaI3wzTJSFJQ58odr_Wszq2cVAsBB64EspP6ODdGNwgsJCg3VkcILCRIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49729/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.138/tcp/31128/p2p/16Uiu2HAmTTUvU6sCXR9hcTLUqY9D3fmQJJHr9cVZBHCXHh79fAKH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-04_04-17-35__16231a5d-ac6b-4219-a6de-3f0d1f6bba82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.169.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25813', '25814', '25815', '25816', '25817']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25813:25813 -p 25814:25814 -p 25815:25815 -p 25816:25816 -p 25817:25817 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25815 --rest-port=25813 --tcp-port=25814 --discv5-udp-port=25816 --rest-address=0.0.0.0 --nat=extip:172.18.169.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dafe5efee0feca2534b5a91dcff2efc8d901ce5f632f0ff5ffeaf53c42afcb51 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25817 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIgqBGOFyIRb2z9lOj8KlsP_CnCspF-rTe-RJjbePgYmD8AvGognW3jxfhTDxG4rt8jRRPPBY8DcQwoEq7N1tskCgmlkgnY0gmlwhKwSkoqKbXVsdGlhZGRyc5YACASsEpKKBnmYAAoErBKSigZ5md0DgnJzhQADAQAAiXNlY3AyNTZrMaED2-ykBG-ve3UsIs60TXpa4vJolRjNT0ebZQkOlbB8FJiDdGNwgnmYg3VkcIJ5moV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.169.69 waku 897ad5cea6c4e9e1a009686e5cca7f9ef11090ba3b207abce66c14c0bd374926
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 897ad5cea6c4. Setting up logs at ./log/docker/node3_2024-12-04_04-17-35__16231a5d-ac6b-4219-a6de-3f0d1f6bba82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 25813
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25813/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25813/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.169.69/tcp/25814/p2p/16Uiu2HAm5YNzCadk2uTBhBokNSJq1bToo6jMEEzjZ9ArbYKmgjWV","/ip4/172.18.169.69/tcp/25815/ws/p2p/16Uiu2HAm5YNzCadk2uTBhBokNSJq1bToo6jMEEzjZ9ArbYKmgjWV"],"enrUri":"enr:-L24QDy6ZfBbFRhQkza1942l-Ozx-u8ILae8Fc0x7DelfWPiXfjwryO_b7YHSLIugNUMu491-wfWpKyWaiMl48qRDiMCgmlkgnY0gmlwhKwSqUWKbXVsdGlhZGRyc5YACASsEqlFBmTWAAoErBKpRQZk190DgnJzhQADAQAAiXNlY3AyNTZrMaEClky4jNqtUJ8Xyynt5_S8xY9ibUWzsnwtgH9VoIp1UG6DdGNwgmTWg3VkcIJk2IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25813/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.138/tcp/31128/p2p/16Uiu2HAmTTUvU6sCXR9hcTLUqY9D3fmQJJHr9cVZBHCXHh79fAKH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-04_04-17-35__16231a5d-ac6b-4219-a6de-3f0d1f6bba82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.219.130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9442', '9443', '9444', '9445', '9446']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9442:9442 -p 9443:9443 -p 9444:9444 -p 9445:9445 -p 9446:9446 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9444 --rest-port=9442 --tcp-port=9443 --discv5-udp-port=9445 --rest-address=0.0.0.0 --nat=extip:172.18.219.130 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f18addea4d0d47bccf6b77df3ebebbf7bb1dc68f93ebfd9c3ad3a08a268abd3a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9446 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIgqBGOFyIRb2z9lOj8KlsP_CnCspF-rTe-RJjbePgYmD8AvGognW3jxfhTDxG4rt8jRRPPBY8DcQwoEq7N1tskCgmlkgnY0gmlwhKwSkoqKbXVsdGlhZGRyc5YACASsEpKKBnmYAAoErBKSigZ5md0DgnJzhQADAQAAiXNlY3AyNTZrMaED2-ykBG-ve3UsIs60TXpa4vJolRjNT0ebZQkOlbB8FJiDdGNwgnmYg3VkcIJ5moV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.219.130 waku c587744d07b459544500f95aeb9f7c5e38cd30fea8e31cf2c150b2783a18ed7a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c587744d07b4. Setting up logs at ./log/docker/node4_2024-12-04_04-17-35__16231a5d-ac6b-4219-a6de-3f0d1f6bba82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 9442
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9442/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9442/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.219.130/tcp/9443/p2p/16Uiu2HAmMzz9VtUcaJJCUoBdNZv4TTfCkpUGhkTm3agaRkN2crvj","/ip4/172.18.219.130/tcp/9444/ws/p2p/16Uiu2HAmMzz9VtUcaJJCUoBdNZv4TTfCkpUGhkTm3agaRkN2crvj"],"enrUri":"enr:-L24QALZfSbO9JNe5nnB2nARyGmcxT-QBrbCbpVlwEbSiJuhIMRW1u5eTzmV-p2beR9DJyeHVoYOpS0t-v0cN6_74gECgmlkgnY0gmlwhKwS24KKbXVsdGlhZGRyc5YACASsEtuCBiTjAAoErBLbggYk5N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDitiRk1Z-Hp6CJGx3XI9-cXr7BgjlErrQj3HopvuZyniDdGNwgiTjg3VkcIIk5YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9442/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.138/tcp/31128/p2p/16Uiu2HAmTTUvU6sCXR9hcTLUqY9D3fmQJJHr9cVZBHCXHh79fAKH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-04_04-17-35__16231a5d-ac6b-4219-a6de-3f0d1f6bba82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.187.219
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11358', '11359', '11360', '11361', '11362']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11358:11358 -p 11359:11359 -p 11360:11360 -p 11361:11361 -p 11362:11362 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11360 --rest-port=11358 --tcp-port=11359 --discv5-udp-port=11361 --rest-address=0.0.0.0 --nat=extip:172.18.187.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ee83af3aab3248da94dad34c53a8aeda5e9ffd7cd94aa4d02cb2aebdafbd45fb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11362 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIgqBGOFyIRb2z9lOj8KlsP_CnCspF-rTe-RJjbePgYmD8AvGognW3jxfhTDxG4rt8jRRPPBY8DcQwoEq7N1tskCgmlkgnY0gmlwhKwSkoqKbXVsdGlhZGRyc5YACASsEpKKBnmYAAoErBKSigZ5md0DgnJzhQADAQAAiXNlY3AyNTZrMaED2-ykBG-ve3UsIs60TXpa4vJolRjNT0ebZQkOlbB8FJiDdGNwgnmYg3VkcIJ5moV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.187.219 waku 86a46e2b0da6108ab3fba9f9c6d2a593489568480ec081b454f0c95bd6795192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 86a46e2b0da6. Setting up logs at ./log/docker/node5_2024-12-04_04-17-35__16231a5d-ac6b-4219-a6de-3f0d1f6bba82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11358
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11358/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11358/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.219/tcp/11359/p2p/16Uiu2HAmC5YjVtDmyiBnxjgreN6Cbvp2bSVfDBUeR5NdY5E2gw68","/ip4/172.18.187.219/tcp/11360/ws/p2p/16Uiu2HAmC5YjVtDmyiBnxjgreN6Cbvp2bSVfDBUeR5NdY5E2gw68"],"enrUri":"enr:-L24QNMFxMJHlfPRkIl4Icr0CIl7ffmbAqb-FZfora4vHG14JMHjv-P9Rjlsx3M0KOIkIRKqazlEyO-zQzrMDRgzsKECgmlkgnY0gmlwhKwSu9uKbXVsdGlhZGRyc5YACASsErvbBixfAAoErBK72wYsYN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC927eMxucjCauDA7X9nuun3nW8GyBSquwNo3l3WgVLYmDdGNwgixfg3VkcIIsYYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11358/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.138/tcp/31128/p2p/16Uiu2HAmTTUvU6sCXR9hcTLUqY9D3fmQJJHr9cVZBHCXHh79fAKH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31127/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49729/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25813/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9442/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11358/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31127/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31127/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733285864962306816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733285864962306816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25813/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733285864962306816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9442/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733285864962306816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11358/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733285864962306816,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11358/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31127/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733285865101099776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733285865101099776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25813/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733285865101099776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9442/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733285865101099776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11358/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733285865101099776,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7f4224876278
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 56e0c5e068e2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7f4224876278. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 897ad5cea6c4
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 56e0c5e068e2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c587744d07b4
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 897ad5cea6c4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 86a46e2b0da6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c587744d07b4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.