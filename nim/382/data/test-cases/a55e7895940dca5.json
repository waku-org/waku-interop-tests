{"uid":"a55e7895940dca5","name":"test_metrics_after_filter_get","fullName":"tests.metrics.test_metrics.TestMetrics#test_metrics_after_filter_get","historyId":"f7c4063decf3bfb99e41627466834b7f","time":{"start":1728102052572,"stop":1728102058153,"duration":5581},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1728101564102,"stop":1728101564102,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1728102049212,"stop":1728102049212,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1728102049212,"stop":1728102049212,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1728102049212,"stop":1728102049212,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1728102049212,"stop":1728102049213,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1728102049213,"stop":1728102049215,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1728102049213,"stop":1728102049213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1728102049213,"stop":1728102049213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1728102049216,"stop":1728102049216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_node","time":{"start":1728102049216,"stop":1728102050924,"duration":1708},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1728102049216,"stop":1728102049216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1728102049216,"stop":1728102049216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_filter_node","time":{"start":1728102050924,"stop":1728102052524,"duration":1600},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1728102052461,"stop":1728102052524,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.metrics.test_metrics.TestMetrics object at 0x7f4e95cb8170>, <src.node.waku_node.WakuNode object at 0x7f4e94f7e480>, ['/ip4/172.18.45.57/tcp/22109/p2p/16Uiu2HAmS55atAjve4yc7mdq7RTwCzocdUo1rAEXmBxzUHHCUQ8Q'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_nodes","time":{"start":1728102052524,"stop":1728102052568,"duration":44},"status":"passed","steps":[{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1728102052524,"stop":1728102052568,"duration":44},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1728102052555,"stop":1728102052568,"duration":13},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1728102052555,"stop":1728102052567,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'e5a2b1e3-77a8-4ef1-82bc-06388cfe560a', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'e5a2b1e3-77a8-4ef1-82bc-06388cfe560a', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-relay/proto']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"create_message","time":{"start":1728102052576,"stop":1728102052577,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_filter_messages","time":{"start":1728102053090,"stop":1728102053094,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-relay/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94f7e480>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058095,"stop":1728102058102,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94ff7110>"},{"name":"metric_name","value":"'libp2p_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058102,"stop":1728102058106,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94ff7110>"},{"name":"metric_name","value":"'libp2p_pubsub_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058107,"stop":1728102058112,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94ff7110>"},{"name":"metric_name","value":"'libp2p_pubsub_topics'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058112,"stop":1728102058117,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94ff7110>"},{"name":"metric_name","value":"'libp2p_pubsub_subscriptions_total'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058117,"stop":1728102058123,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94ff7110>"},{"name":"metric_name","value":"'waku_peer_store_size'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058123,"stop":1728102058127,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94ff7110>"},{"name":"metric_name","value":"'waku_histogram_message_size_count'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058127,"stop":1728102058132,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94ff7110>"},{"name":"metric_name","value":"'waku_node_messages_total{type=\"relay\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058132,"stop":1728102058136,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94ff7110>"},{"name":"metric_name","value":"'waku_filter_requests{type=\"SUBSCRIBE\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058136,"stop":1728102058141,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94f7e480>"},{"name":"metric_name","value":"'waku_service_peers{protocol=\"/vac/waku/filter-subscribe/2.0.0-beta1\",peerId=\"/ip4/172.18.45.57/tcp/22109\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058141,"stop":1728102058145,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94f7e480>"},{"name":"metric_name","value":"'libp2p_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058145,"stop":1728102058149,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94f7e480>"},{"name":"metric_name","value":"'libp2p_total_dial_attempts_total'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1728102058149,"stop":1728102058153,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4e94f7e480>"},{"name":"metric_name","value":"'waku_peer_store_size'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1bf0744159271950","name":"log","source":"1bf0744159271950.txt","type":"text/plain","size":14267}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":14,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1728102058156,"stop":1728102058159,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1728102058160,"stop":1728102060516,"duration":2356},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1728102060517,"stop":1728102060531,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1728102060531,"stop":1728102060531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1728103145027,"stop":1728103145027,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node', 'subscribe_main_nodes')"},{"name":"parentSuite","value":"tests.metrics"},{"name":"suite","value":"test_metrics"},{"name":"subSuite","value":"TestMetrics"},{"name":"host","value":"fv-az570-398"},{"name":"thread","value":"2171-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.metrics.test_metrics"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":44,"unknown":0,"total":44},"items":[{"uid":"ee2f5cf6d88db47a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/381//#testresult/ee2f5cf6d88db47a","status":"passed","time":{"start":1728015683641,"stop":1728015689255,"duration":5614}},{"uid":"8a44f0c1c9ca3114","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/380//#testresult/8a44f0c1c9ca3114","status":"passed","time":{"start":1727941584140,"stop":1727941589731,"duration":5591}},{"uid":"6c8842c9470ace73","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/379//#testresult/6c8842c9470ace73","status":"passed","time":{"start":1727929308903,"stop":1727929314478,"duration":5575}},{"uid":"19a268a48e8f2960","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/378//#testresult/19a268a48e8f2960","status":"passed","time":{"start":1727842858703,"stop":1727842864293,"duration":5590}},{"uid":"a860368ca88a6d3a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/377//#testresult/a860368ca88a6d3a","status":"passed","time":{"start":1727756478566,"stop":1727756484179,"duration":5613}},{"uid":"7b9929123f1aacfc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/376//#testresult/7b9929123f1aacfc","status":"passed","time":{"start":1727670100046,"stop":1727670105627,"duration":5581}},{"uid":"ec53f86db2db0a31","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/375//#testresult/ec53f86db2db0a31","status":"passed","time":{"start":1727583624171,"stop":1727583629751,"duration":5580}},{"uid":"af886202e2c50dc9","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/374//#testresult/af886202e2c50dc9","status":"passed","time":{"start":1727497196065,"stop":1727497201654,"duration":5589}},{"uid":"76668ecd353c79c1","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/373//#testresult/76668ecd353c79c1","status":"passed","time":{"start":1727410858794,"stop":1727410864366,"duration":5572}},{"uid":"85bc99679c6d49b0","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/372//#testresult/85bc99679c6d49b0","status":"passed","time":{"start":1727324458906,"stop":1727324464509,"duration":5603}},{"uid":"1519c4ccc26ebec6","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/371//#testresult/1519c4ccc26ebec6","status":"passed","time":{"start":1727238061673,"stop":1727238067291,"duration":5618}},{"uid":"e3ce4b288c82df1","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/370//#testresult/e3ce4b288c82df1","status":"passed","time":{"start":1727151642537,"stop":1727151648114,"duration":5577}},{"uid":"c9000e04779adcbb","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/369//#testresult/c9000e04779adcbb","status":"passed","time":{"start":1727065249361,"stop":1727065254935,"duration":5574}},{"uid":"a48f5487b67a509c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/368//#testresult/a48f5487b67a509c","status":"passed","time":{"start":1726978880915,"stop":1726978886486,"duration":5571}},{"uid":"8fb09e1d61a3d564","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/367//#testresult/8fb09e1d61a3d564","status":"passed","time":{"start":1726892407512,"stop":1726892413091,"duration":5579}},{"uid":"45f752b0166e6741","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/366//#testresult/45f752b0166e6741","status":"passed","time":{"start":1726806009030,"stop":1726806014673,"duration":5643}},{"uid":"f8a1f82d960333ec","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/365//#testresult/f8a1f82d960333ec","status":"passed","time":{"start":1726719621719,"stop":1726719627282,"duration":5563}},{"uid":"3e3a933ef58cafab","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/364//#testresult/3e3a933ef58cafab","status":"passed","time":{"start":1726633404781,"stop":1726633410358,"duration":5577}},{"uid":"2c4f8a2c131ff657","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/363//#testresult/2c4f8a2c131ff657","status":"passed","time":{"start":1726546891909,"stop":1726546897485,"duration":5576}},{"uid":"382182097a9c8578","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/362//#testresult/382182097a9c8578","status":"passed","time":{"start":1726460581357,"stop":1726460587011,"duration":5654}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node', 'subscribe_main_nodes')"]},"source":"a55e7895940dca5.json","parameterValues":[]}