[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-11-22_04-18-47__45017b01-feac-4644-9806-142fdf8fcc32
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-22_04-18-47__45017b01-feac-4644-9806-142fdf8fcc32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.103.30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63138', '63139', '63140', '63141', '63142']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63138:63138 -p 63139:63139 -p 63140:63140 -p 63141:63141 -p 63142:63142 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63140 --rest-port=63138 --tcp-port=63139 --discv5-udp-port=63141 --rest-address=0.0.0.0 --nat=extip:172.18.103.30 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e7d2da23c442e80e6002b7db0fcd3e62faaffd6dfcc658ee0ada7afd125bb22f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63142 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.103.30 waku c41995143b773b893c757f1950be3227d32172c6bf0dda7ae96f4a1714f1f81a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c41995143b77. Setting up logs at ./log/docker/node1_2024-11-22_04-18-47__45017b01-feac-4644-9806-142fdf8fcc32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 63138
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d012b7ad1a6c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63138/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63138/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.30/tcp/63139/p2p/16Uiu2HAm9kQjPFy3593NZUGhs7gPG7rjEMjpsCzQCyGQS1Q3MeSq","/ip4/172.18.103.30/tcp/63140/ws/p2p/16Uiu2HAm9kQjPFy3593NZUGhs7gPG7rjEMjpsCzQCyGQS1Q3MeSq"],"enrUri":"enr:-L24QCOnvKgID7tlxCdojhNhXQwqu1gMY0ai0fhW57Gfy-4vebMJJdc35ZEOkW2y9q04PoaPU0DSFK3WT7Sa0kz_ptoCgmlkgnY0gmlwhKwSZx6KbXVsdGlhZGRyc5YACASsEmceBvajAAoErBJnHgb2pN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1NBpL9ylZ4HtVIAo_qUhhS2PoEu21TwkryuL5I6zTi6DdGNwgvajg3VkcIL2pYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-22_04-18-47__45017b01-feac-4644-9806-142fdf8fcc32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.174.175
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16648', '16649', '16650', '16651', '16652']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16648:16648 -p 16649:16649 -p 16650:16650 -p 16651:16651 -p 16652:16652 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16650 --rest-port=16648 --tcp-port=16649 --discv5-udp-port=16651 --rest-address=0.0.0.0 --nat=extip:172.18.174.175 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=99da8eeafa2725d16a92c4d5d0d51bdbeaedb5f8dbb2361a59dd89dfaed1eaba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16652 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCOnvKgID7tlxCdojhNhXQwqu1gMY0ai0fhW57Gfy-4vebMJJdc35ZEOkW2y9q04PoaPU0DSFK3WT7Sa0kz_ptoCgmlkgnY0gmlwhKwSZx6KbXVsdGlhZGRyc5YACASsEmceBvajAAoErBJnHgb2pN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1NBpL9ylZ4HtVIAo_qUhhS2PoEu21TwkryuL5I6zTi6DdGNwgvajg3VkcIL2pYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.174.175 waku e72de085c7761460472051909e36d5969816243983e840e98c0c48b465111d49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e72de085c776. Setting up logs at ./log/docker/node2_2024-11-22_04-18-47__45017b01-feac-4644-9806-142fdf8fcc32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 16648
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16648/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16648/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.174.175/tcp/16649/p2p/16Uiu2HAmQXhGbdDgD1AXW6NBDQp7Yc59HPj2jBk75oezgC9a5dab","/ip4/172.18.174.175/tcp/16650/ws/p2p/16Uiu2HAmQXhGbdDgD1AXW6NBDQp7Yc59HPj2jBk75oezgC9a5dab"],"enrUri":"enr:-L24QMvxuFoOM2TxxjsLkkcn5VAbzqs4bgkDR2lFrQ_wEdmWWBDiFdI1WYVRL6EcTE4WXJB8fRsjKyGpP1NOEvDtS3UCgmlkgnY0gmlwhKwSrq-KbXVsdGlhZGRyc5YACASsEq6vBkEJAAoErBKurwZBCt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsG3dMGVzvShkbRaaNFU2xCd5TpkSYOB-cbQ4XBHjtpyDdGNwgkEJg3VkcIJBC4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16648/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.103.30/tcp/63139/p2p/16Uiu2HAm9kQjPFy3593NZUGhs7gPG7rjEMjpsCzQCyGQS1Q3MeSq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-22_04-18-47__45017b01-feac-4644-9806-142fdf8fcc32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.185.77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10245', '10246', '10247', '10248', '10249']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10245:10245 -p 10246:10246 -p 10247:10247 -p 10248:10248 -p 10249:10249 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10247 --rest-port=10245 --tcp-port=10246 --discv5-udp-port=10248 --rest-address=0.0.0.0 --nat=extip:172.18.185.77 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cfce5c79bedbe39b4382f0aedbf7c2ceeeacd07cfebf732d1c6c7cf1671b2aeb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10249 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCOnvKgID7tlxCdojhNhXQwqu1gMY0ai0fhW57Gfy-4vebMJJdc35ZEOkW2y9q04PoaPU0DSFK3WT7Sa0kz_ptoCgmlkgnY0gmlwhKwSZx6KbXVsdGlhZGRyc5YACASsEmceBvajAAoErBJnHgb2pN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1NBpL9ylZ4HtVIAo_qUhhS2PoEu21TwkryuL5I6zTi6DdGNwgvajg3VkcIL2pYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.185.77 waku c73d4e6130fb1a1cdea169ad64afc343f728493a1eaa4a33596ee1d359c38b44
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c73d4e6130fb. Setting up logs at ./log/docker/node3_2024-11-22_04-18-47__45017b01-feac-4644-9806-142fdf8fcc32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 10245
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10245/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10245/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.185.77/tcp/10246/p2p/16Uiu2HAmFdtZGchtHEtk2CHZb1yfgKAACvehZBRTRFP8Y6xmLVx3","/ip4/172.18.185.77/tcp/10247/ws/p2p/16Uiu2HAmFdtZGchtHEtk2CHZb1yfgKAACvehZBRTRFP8Y6xmLVx3"],"enrUri":"enr:-L24QCHSi5x5lRQi4KwvBLBtVQmKN1wbs9-e36QC1ZK8IU0OWkCfDXfeMo-OhYhyJhqZE5eNvT7B0rJvFIE1lomcfcUCgmlkgnY0gmlwhKwSuU2KbXVsdGlhZGRyc5YACASsErlNBigGAAoErBK5TQYoB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDLErt5qPrDImP5KE6iM7eBLmmLkMtBeFE1CkozKZicUCDdGNwgigGg3VkcIIoCIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10245/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.103.30/tcp/63139/p2p/16Uiu2HAm9kQjPFy3593NZUGhs7gPG7rjEMjpsCzQCyGQS1Q3MeSq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-22_04-18-47__45017b01-feac-4644-9806-142fdf8fcc32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.62.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36626', '36627', '36628', '36629', '36630']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36626:36626 -p 36627:36627 -p 36628:36628 -p 36629:36629 -p 36630:36630 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36628 --rest-port=36626 --tcp-port=36627 --discv5-udp-port=36629 --rest-address=0.0.0.0 --nat=extip:172.18.62.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7facb6a2c95fec2e091ba89d6dd4fbeaf4bde23dbdc8b2c4ae9a355aa76b0d55 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36630 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCOnvKgID7tlxCdojhNhXQwqu1gMY0ai0fhW57Gfy-4vebMJJdc35ZEOkW2y9q04PoaPU0DSFK3WT7Sa0kz_ptoCgmlkgnY0gmlwhKwSZx6KbXVsdGlhZGRyc5YACASsEmceBvajAAoErBJnHgb2pN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1NBpL9ylZ4HtVIAo_qUhhS2PoEu21TwkryuL5I6zTi6DdGNwgvajg3VkcIL2pYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.62.201 waku f22cb3a0c278c408096476fb6eb1c9e7f86f35c7e091492d0dec12a3fc93884c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f22cb3a0c278. Setting up logs at ./log/docker/node4_2024-11-22_04-18-47__45017b01-feac-4644-9806-142fdf8fcc32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 36626
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36626/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36626/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.62.201/tcp/36627/p2p/16Uiu2HAm7UZWazD2gwfdp1BAFuMdLSQzGqo3Atn71rmpuikoDmPt","/ip4/172.18.62.201/tcp/36628/ws/p2p/16Uiu2HAm7UZWazD2gwfdp1BAFuMdLSQzGqo3Atn71rmpuikoDmPt"],"enrUri":"enr:-L24QIPDbciGcJI2xLchmbfzpj7up6zUPQZ88zXiokeGdRCjVknDtz30AGmfbwLTLikFgP_bxFGpGFxXa_9W4Dwx8c8CgmlkgnY0gmlwhKwSPsmKbXVsdGlhZGRyc5YACASsEj7JBo8TAAoErBI-yQaPFN0DgnJzhQADAQAAiXNlY3AyNTZrMaECswmrwgtuxE4PcZ1rsNGlo81IQ5B3uAF0wMfHgj6riT-DdGNwgo8Tg3VkcIKPFYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36626/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.103.30/tcp/63139/p2p/16Uiu2HAm9kQjPFy3593NZUGhs7gPG7rjEMjpsCzQCyGQS1Q3MeSq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-22_04-18-47__45017b01-feac-4644-9806-142fdf8fcc32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.70.194
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62675', '62676', '62677', '62678', '62679']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62675:62675 -p 62676:62676 -p 62677:62677 -p 62678:62678 -p 62679:62679 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62677 --rest-port=62675 --tcp-port=62676 --discv5-udp-port=62678 --rest-address=0.0.0.0 --nat=extip:172.18.70.194 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=09eea0cac5efb67fdc0af27fb5ba2f2ea1da7acb3b157adad1c59ea6f0baba7e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62679 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCOnvKgID7tlxCdojhNhXQwqu1gMY0ai0fhW57Gfy-4vebMJJdc35ZEOkW2y9q04PoaPU0DSFK3WT7Sa0kz_ptoCgmlkgnY0gmlwhKwSZx6KbXVsdGlhZGRyc5YACASsEmceBvajAAoErBJnHgb2pN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1NBpL9ylZ4HtVIAo_qUhhS2PoEu21TwkryuL5I6zTi6DdGNwgvajg3VkcIL2pYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.70.194 waku 2e8e7434c9ae86493cc2e921665d6e5462afd5e0c98f59a315378b3553fbcf79
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2e8e7434c9ae. Setting up logs at ./log/docker/node5_2024-11-22_04-18-47__45017b01-feac-4644-9806-142fdf8fcc32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 62675
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62675/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62675/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.70.194/tcp/62676/p2p/16Uiu2HAmBnYAZ9gcQzBL7bXWwnoniVzDLo4U8LbyuefEuPjSBD95","/ip4/172.18.70.194/tcp/62677/ws/p2p/16Uiu2HAmBnYAZ9gcQzBL7bXWwnoniVzDLo4U8LbyuefEuPjSBD95"],"enrUri":"enr:-L24QOJZBR65poGe_REcNkcpBlT2oIp6hmYqdwKpNhvBvYnLYgqdEdKZfKn1dJuiqnek9odYC1sirMm_a-fWStYOtNICgmlkgnY0gmlwhKwSRsKKbXVsdGlhZGRyc5YACASsEkbCBvTUAAoErBJGwgb01d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC8xNaG1b7sk89bvGIzMnhGpmzTc0Znk5-CjCWfnDTIGSDdGNwgvTUg3VkcIL01oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62675/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.103.30/tcp/63139/p2p/16Uiu2HAm9kQjPFy3593NZUGhs7gPG7rjEMjpsCzQCyGQS1Q3MeSq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63138/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16648/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10245/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36626/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62675/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63138/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63138/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249136428652288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249136428652288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10245/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249136428652288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36626/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249136428652288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62675/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249136428652288,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63138/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63138/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249136566525184,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249136566525184,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10245/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249136566525184,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36626/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249136566525184,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62675/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249136566525184,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id e72de085c776
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63138/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10245/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249138886629888,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36626/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249138886629888,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62675/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732249138886629888,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c41995143b77
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e72de085c776. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c73d4e6130fb
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c41995143b77. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f22cb3a0c278
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c73d4e6130fb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 2e8e7434c9ae
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f22cb3a0c278. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.