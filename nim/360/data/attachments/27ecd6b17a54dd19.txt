[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_without_pubsub_topic_and_content_topic with id: 2024-09-14_04-43-06__ba16a2b5-5386-476b-b189-b57d9fcff457
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-14_04-43-06__ba16a2b5-5386-476b-b189-b57d9fcff457__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.57.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33556', '33557', '33558', '33559', '33560']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33556:33556 -p 33557:33557 -p 33558:33558 -p 33559:33559 -p 33560:33560 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33558 --rest-port=33556 --tcp-port=33557 --discv5-udp-port=33559 --rest-address=0.0.0.0 --nat=extip:172.18.57.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dda1e57accfc3b4dcf0addb5b3ef8eaaadc6c52d5deedfc7bfbd5df968ff1d64 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33560 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.57.181 waku 894a373710e923f25689f54e92206af8e5526599e005b071927cfcd2b25c0fde
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 894a373710e9. Setting up logs at ./log/docker/publishing_node1_2024-09-14_04-43-06__ba16a2b5-5386-476b-b189-b57d9fcff457__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33556
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33556/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33556/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.57.181/tcp/33557/p2p/16Uiu2HAm85iC8ww7VNWE8r2CatmcenDGasbjbcstfY1RN1DS3iEL","/ip4/172.18.57.181/tcp/33558/ws/p2p/16Uiu2HAm85iC8ww7VNWE8r2CatmcenDGasbjbcstfY1RN1DS3iEL"],"enrUri":"enr:-LO4QGvanoXYrBtpxjNWHLUyAqWXsRl9T1XaxXes1DcGxGEKUK3lnU1rUo0Kqv9_WTfTtSgihnG66ASOC27P5prEyM8BgmlkgnY0gmlwhKwSObWKbXVsdGlhZGRyc4wACgSsEjm1BoMW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK8CtDgGF4W2vkAkI4ZCL-dwsGU993_Cmt3iPywzLSMqYN0Y3CCgxWDdWRwgoMXhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-14_04-43-06__ba16a2b5-5386-476b-b189-b57d9fcff457__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.204.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33827', '33828', '33829', '33830', '33831']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33827:33827 -p 33828:33828 -p 33829:33829 -p 33830:33830 -p 33831:33831 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33829 --rest-port=33827 --tcp-port=33828 --discv5-udp-port=33830 --rest-address=0.0.0.0 --nat=extip:172.18.204.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddbbf7c852f681ff55413bca5cefcfdc6f92a9ddad7beed85bff45c50074a5cb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33831 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QGvanoXYrBtpxjNWHLUyAqWXsRl9T1XaxXes1DcGxGEKUK3lnU1rUo0Kqv9_WTfTtSgihnG66ASOC27P5prEyM8BgmlkgnY0gmlwhKwSObWKbXVsdGlhZGRyc4wACgSsEjm1BoMW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK8CtDgGF4W2vkAkI4ZCL-dwsGU993_Cmt3iPywzLSMqYN0Y3CCgxWDdWRwgoMXhXdha3UyAw --storenode=/ip4/172.18.57.181/tcp/33557/p2p/16Uiu2HAm85iC8ww7VNWE8r2CatmcenDGasbjbcstfY1RN1DS3iEL --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.204.34 waku d614cbb6c5a87c23de5ff75524fe8494583802845eac1cb31eb68d23a7d1b8cc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d614cbb6c5a8. Setting up logs at ./log/docker/store_node1_2024-09-14_04-43-06__ba16a2b5-5386-476b-b189-b57d9fcff457__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33827
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33827/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33827/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.204.34/tcp/33828/p2p/16Uiu2HAm5yE47vfxTUNibfcfcajTigVWpP2jR7GcKXpXWHzJc5GJ","/ip4/172.18.204.34/tcp/33829/ws/p2p/16Uiu2HAm5yE47vfxTUNibfcfcajTigVWpP2jR7GcKXpXWHzJc5GJ"],"enrUri":"enr:-LO4QFbuIZuXeP8v4ujVay8IqhAKv5hOos-vNlApR_6eE7rdIREP8oUEWwSE0N1fjYepYTj5JQwxnuvVllk3tyjiRRgBgmlkgnY0gmlwhKwSzCKKbXVsdGlhZGRyc4wACgSsEswiBoQl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKcqiQmQlMlgAszaJR814D1YTPs7zvvsLjXH-Qr0YTqr4N0Y3CChCSDdWRwgoQmhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33827/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.57.181/tcp/33557/p2p/16Uiu2HAm85iC8ww7VNWE8r2CatmcenDGasbjbcstfY1RN1DS3iEL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33556/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33827/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33556/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33556/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33556/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33556/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33556/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33556/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33556/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33556/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33556/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"Kw3agnaASKDlY6Gv8RkONKRyNBdd9ejjHgvy9/opoMU="},{"messageHash":"h2kjd6T83JX1+20B4NdVJLFeUBeIIpNLAN0RMIYMqew="},{"messageHash":"8LKX4YAVinHBbR9rdDHM+xPjdGTD+ranGsxygGbedCU="},{"messageHash":"0SdvCsnNkXo2TC7lwIQMVg4ovE0iKUzYbYrM1uNB/lg="},{"messageHash":"P4Dfy7FcJ5+PiFUYzZepThBeEXnuIno4GFgmy0E82jQ="},{"messageHash":"SrspOtbXrg4V7VbvoMu2VdQNnqrLzdSD2gMtiGlvn4o="},{"messageHash":"1mw5UEt7+k3fIXbl8yDUpfCvlASjDfA+igMdZERI6G8="},{"messageHash":"OG/NifhHIlyfXFsgYNXXIbmSohZnhQv/nw2+ZfuQ6kA="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33827/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"Kw3agnaASKDlY6Gv8RkONKRyNBdd9ejjHgvy9/opoMU="},{"messageHash":"h2kjd6T83JX1+20B4NdVJLFeUBeIIpNLAN0RMIYMqew="},{"messageHash":"8LKX4YAVinHBbR9rdDHM+xPjdGTD+ranGsxygGbedCU="},{"messageHash":"0SdvCsnNkXo2TC7lwIQMVg4ovE0iKUzYbYrM1uNB/lg="},{"messageHash":"P4Dfy7FcJ5+PiFUYzZepThBeEXnuIno4GFgmy0E82jQ="},{"messageHash":"SrspOtbXrg4V7VbvoMu2VdQNnqrLzdSD2gMtiGlvn4o="},{"messageHash":"1mw5UEt7+k3fIXbl8yDUpfCvlASjDfA+igMdZERI6G8="},{"messageHash":"OG/NifhHIlyfXFsgYNXXIbmSohZnhQv/nw2+ZfuQ6kA="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 894a373710e9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d614cbb6c5a8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.