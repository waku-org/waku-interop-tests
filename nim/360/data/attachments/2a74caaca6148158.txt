[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-09-14_04-22-44__0ef8e44c-02b5-4b5c-89ed-ef5bcd89b542
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-14_04-22-44__0ef8e44c-02b5-4b5c-89ed-ef5bcd89b542__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.75.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36066', '36067', '36068', '36069', '36070']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36066:36066 -p 36067:36067 -p 36068:36068 -p 36069:36069 -p 36070:36070 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36068 --rest-port=36066 --tcp-port=36067 --discv5-udp-port=36069 --rest-address=0.0.0.0 --nat=extip:172.18.75.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff2524ef3feb2fe1fc53b4ed9842fed23ad84dda078ffdeab4b0ea1994daf9aa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36070 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.75.17 waku ab791e34d21191fb74bdd968f1e1bde1fd299375947f1e07aa50098d85b852ee
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ab791e34d211. Setting up logs at ./log/docker/node1_2024-09-14_04-22-44__0ef8e44c-02b5-4b5c-89ed-ef5bcd89b542__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36066
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36066/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36066/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.17/tcp/36067/p2p/16Uiu2HAmPX8zdV5GN6v5hnMn8FYra7GN44EoriFVwAhsGtFjtdRc","/ip4/172.18.75.17/tcp/36068/ws/p2p/16Uiu2HAmPX8zdV5GN6v5hnMn8FYra7GN44EoriFVwAhsGtFjtdRc"],"enrUri":"enr:-LO4QEyWhJfmWv9-1sn_wIoYf6p2rinn3ISgXaqK0zxU_sblP1BAJ2KB0Oiz9Qe_xrJy5yyrZKwV0JMsFHO6DHnFEkcBgmlkgnY0gmlwhKwSSxGKbXVsdGlhZGRyc4wACgSsEksRBozk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOhba7rwO4CVmwk1ztjQ5NqmKcr8lkPzYYzBhQDixuaO4N0Y3CCjOODdWRwgozlhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-14_04-22-44__0ef8e44c-02b5-4b5c-89ed-ef5bcd89b542__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.10.121
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['4602', '4603', '4604', '4605', '4606']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 4602:4602 -p 4603:4603 -p 4604:4604 -p 4605:4605 -p 4606:4606 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4604 --rest-port=4602 --tcp-port=4603 --discv5-udp-port=4605 --rest-address=0.0.0.0 --nat=extip:172.18.10.121 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=986a37e221441ffd9da200bcefc6add259fa0eefcdfcdaea8c05db283fe52db8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4606 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEyWhJfmWv9-1sn_wIoYf6p2rinn3ISgXaqK0zxU_sblP1BAJ2KB0Oiz9Qe_xrJy5yyrZKwV0JMsFHO6DHnFEkcBgmlkgnY0gmlwhKwSSxGKbXVsdGlhZGRyc4wACgSsEksRBozk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOhba7rwO4CVmwk1ztjQ5NqmKcr8lkPzYYzBhQDixuaO4N0Y3CCjOODdWRwgozlhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.10.121 waku db1084be26d25e7f380db83c76471eb4d219fa3c5a2f43aabd2cefdd9c58c8ca
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID db1084be26d2. Setting up logs at ./log/docker/node2_2024-09-14_04-22-44__0ef8e44c-02b5-4b5c-89ed-ef5bcd89b542__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4602
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4602/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4602/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.10.121/tcp/4603/p2p/16Uiu2HAm5K3MiTJHRAQQCH1CPEHZrPLjoi1DPGSKHZLxfWqMJnzA","/ip4/172.18.10.121/tcp/4604/ws/p2p/16Uiu2HAm5K3MiTJHRAQQCH1CPEHZrPLjoi1DPGSKHZLxfWqMJnzA"],"enrUri":"enr:-LO4QIQMS4rF1jMeaTxKl4wZDwo_IOsI1bc8Nv9T-EL_46W7ecpYnfGwh08La_oWVK7Nd4HDbT-n8jmapblw5f1KqM4BgmlkgnY0gmlwhKwSCnmKbXVsdGlhZGRyc4wACgSsEgp5BhH83QOCcnOFAAMBAACJc2VjcDI1NmsxoQKS4fnKSe6JqjeRnfp8Xb6Zv86MRrA5Mtmosy3lyG1Vb4N0Y3CCEfuDdWRwghH9hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4602/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.17/tcp/36067/p2p/16Uiu2HAmPX8zdV5GN6v5hnMn8FYra7GN44EoriFVwAhsGtFjtdRc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-14_04-22-44__0ef8e44c-02b5-4b5c-89ed-ef5bcd89b542__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.129.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53806', '53807', '53808', '53809', '53810']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53806:53806 -p 53807:53807 -p 53808:53808 -p 53809:53809 -p 53810:53810 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53808 --rest-port=53806 --tcp-port=53807 --discv5-udp-port=53809 --rest-address=0.0.0.0 --nat=extip:172.18.129.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ecb47a29f7e7a89b7d6faa6dd2ef8b98d5d05c791f32eecc7baf7fc1faf8e1eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53810 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEyWhJfmWv9-1sn_wIoYf6p2rinn3ISgXaqK0zxU_sblP1BAJ2KB0Oiz9Qe_xrJy5yyrZKwV0JMsFHO6DHnFEkcBgmlkgnY0gmlwhKwSSxGKbXVsdGlhZGRyc4wACgSsEksRBozk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOhba7rwO4CVmwk1ztjQ5NqmKcr8lkPzYYzBhQDixuaO4N0Y3CCjOODdWRwgozlhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.129.225 waku 2fb264c552950ab822107aa058d4eb169f86092cd23212ff59424c80a488128c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2fb264c55295. Setting up logs at ./log/docker/node3_2024-09-14_04-22-44__0ef8e44c-02b5-4b5c-89ed-ef5bcd89b542__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53806
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53806/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53806/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.225/tcp/53807/p2p/16Uiu2HAmHDGo8sxhZRxGkV2fyWnYpS7wAVvT9KTRzZxk5THSmASs","/ip4/172.18.129.225/tcp/53808/ws/p2p/16Uiu2HAmHDGo8sxhZRxGkV2fyWnYpS7wAVvT9KTRzZxk5THSmASs"],"enrUri":"enr:-LO4QKw0YIEjN9eJgDaknCr2TdZ-WuURn_XWmxhjlAlt7toQPRrdcO70W3CVDVulZwIKHrW3eJyRUBYTBEHGYdsyePcBgmlkgnY0gmlwhKwSgeGKbXVsdGlhZGRyc4wACgSsEoHhBtIw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNDs-3BfATKb_68Wa0TvN1GC-vNUHiYDI8N1HA9_6IxEIN0Y3CC0i-DdWRwgtIxhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53806/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.17/tcp/36067/p2p/16Uiu2HAmPX8zdV5GN6v5hnMn8FYra7GN44EoriFVwAhsGtFjtdRc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-14_04-22-44__0ef8e44c-02b5-4b5c-89ed-ef5bcd89b542__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.56.224
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33614', '33615', '33616', '33617', '33618']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33614:33614 -p 33615:33615 -p 33616:33616 -p 33617:33617 -p 33618:33618 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33616 --rest-port=33614 --tcp-port=33615 --discv5-udp-port=33617 --rest-address=0.0.0.0 --nat=extip:172.18.56.224 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c49ebacc2539a689c1bbda68a3f8c463ba6c426fe0488cfbc5bd759106af8faa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33618 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEyWhJfmWv9-1sn_wIoYf6p2rinn3ISgXaqK0zxU_sblP1BAJ2KB0Oiz9Qe_xrJy5yyrZKwV0JMsFHO6DHnFEkcBgmlkgnY0gmlwhKwSSxGKbXVsdGlhZGRyc4wACgSsEksRBozk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOhba7rwO4CVmwk1ztjQ5NqmKcr8lkPzYYzBhQDixuaO4N0Y3CCjOODdWRwgozlhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.56.224 waku d41247786dc1bdb0b36644fc2c3a03d3c69fd20887d995d6bad0c8890ab95292
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d41247786dc1. Setting up logs at ./log/docker/node4_2024-09-14_04-22-44__0ef8e44c-02b5-4b5c-89ed-ef5bcd89b542__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33614
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33614/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33614/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.224/tcp/33615/p2p/16Uiu2HAmJfxmgqdsKSp7ve4WQkPoYoA76hCF6ibVoBA7ZinTHHvD","/ip4/172.18.56.224/tcp/33616/ws/p2p/16Uiu2HAmJfxmgqdsKSp7ve4WQkPoYoA76hCF6ibVoBA7ZinTHHvD"],"enrUri":"enr:-LO4QIn7WbSq7FfegwJ-WDueFF5QNuRaBXIq7NGwRNHyCR63DQqGQe2GNF7A9lb4s8JCoeBiT-PNy2IL5oSnYF5bmpkBgmlkgnY0gmlwhKwSOOCKbXVsdGlhZGRyc4wACgSsEjjgBoNQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNZZeql0I90Vf4eeuXp7S_2tYbf4lFC9qET3OrMalNZzoN0Y3CCg0-DdWRwgoNRhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33614/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.17/tcp/36067/p2p/16Uiu2HAmPX8zdV5GN6v5hnMn8FYra7GN44EoriFVwAhsGtFjtdRc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-14_04-22-44__0ef8e44c-02b5-4b5c-89ed-ef5bcd89b542__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.123.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16249', '16250', '16251', '16252', '16253']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16249:16249 -p 16250:16250 -p 16251:16251 -p 16252:16252 -p 16253:16253 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16251 --rest-port=16249 --tcp-port=16250 --discv5-udp-port=16252 --rest-address=0.0.0.0 --nat=extip:172.18.123.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dcca9afb4bc4dfd459d41f9ef5eebb5ef2c5b946e503a76dc53325765a59589f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16253 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEyWhJfmWv9-1sn_wIoYf6p2rinn3ISgXaqK0zxU_sblP1BAJ2KB0Oiz9Qe_xrJy5yyrZKwV0JMsFHO6DHnFEkcBgmlkgnY0gmlwhKwSSxGKbXVsdGlhZGRyc4wACgSsEksRBozk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOhba7rwO4CVmwk1ztjQ5NqmKcr8lkPzYYzBhQDixuaO4N0Y3CCjOODdWRwgozlhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.123.246 waku bf8ee89985560008aeb7b75b038b8192cdf3d15c8850ddcc837168250320e9ad
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bf8ee8998556. Setting up logs at ./log/docker/node5_2024-09-14_04-22-44__0ef8e44c-02b5-4b5c-89ed-ef5bcd89b542__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16249
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16249/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16249/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.246/tcp/16250/p2p/16Uiu2HAmCtotc9BxPntMyknZugyE34zUdbSx92uqMuT1tBqotMB8","/ip4/172.18.123.246/tcp/16251/ws/p2p/16Uiu2HAmCtotc9BxPntMyknZugyE34zUdbSx92uqMuT1tBqotMB8"],"enrUri":"enr:-LO4QEh6jn8-E--IOl7LsZyEoYAYGOzgRBCnpuKnDNvxnMFoBxYk7dn-LP4pvV1yOj9w9tFtU9kQVcZ7Tvumq-i--XMBgmlkgnY0gmlwhKwSe_aKbXVsdGlhZGRyc4wACgSsEnv2Bj973QOCcnOFAAMBAACJc2VjcDI1NmsxoQMDik3Z2h0e82eFnxYWb_Z9frBfmiZbvI97i0fIvzEP84N0Y3CCP3qDdWRwgj98hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16249/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.17/tcp/36067/p2p/16Uiu2HAmPX8zdV5GN6v5hnMn8FYra7GN44EoriFVwAhsGtFjtdRc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36066/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4602/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53806/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33614/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16249/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726287776056936448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4602/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726287776056936448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53806/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726287776056936448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33614/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726287776056936448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726287776056936448,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36066/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726287776205106176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4602/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726287776205106176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53806/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726287776205106176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33614/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726287776205106176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726287776205106176,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ab791e34d211
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id db1084be26d2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2fb264c55295
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d41247786dc1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bf8ee8998556
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.