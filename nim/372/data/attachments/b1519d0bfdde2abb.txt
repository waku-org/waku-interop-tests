[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_valid_payloads_random_user_message_limit with id: 2024-09-26_04-16-45__eaaee998-b37a-47ae-b8c5-3f352091b15c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-26_04-16-45__eaaee998-b37a-47ae-b8c5-3f352091b15c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.65.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['49805', '49806', '49807', '49808', '49809']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_lytq_1:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_lytq_1:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 49805:49805 -p 49806:49806 -p 49807:49807 -p 49808:49808 -p 49809:49809 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49807 --rest-port=49805 --tcp-port=49806 --discv5-udp-port=49808 --rest-address=0.0.0.0 --nat=extip:172.18.65.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fffae4888b4462989dbf377fc2b026be8c3aeaeed09e7b5f03244466c3e990dd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49809 --metrics-logging=true --relay=true --rln-relay-membership-index=1 --rln-relay-user-message-limit=4 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.65.68 waku ed91fab20c845a15e51faebc2fca8d30ce240cd6ba08f3b1bcfe9d732fa7fcc7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ed91fab20c84. Setting up logs at ./log/docker/node1_2024-09-26_04-16-45__eaaee998-b37a-47ae-b8c5-3f352091b15c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 49805
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49805/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49805/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49805/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.68/tcp/49806/p2p/16Uiu2HAmJQB82rAa13T3Ds6Nodw7qhduuiHGnPkDov7CYPap1jEo","/ip4/172.18.65.68/tcp/49807/ws/p2p/16Uiu2HAmJQB82rAa13T3Ds6Nodw7qhduuiHGnPkDov7CYPap1jEo"],"enrUri":"enr:-LO4QAaxQ9gW5u8q78hR3xy3Rmeznr1gFSqNrJtyqByD9DdwQtONWdOq3X0qDsPlH2sIcop434hQHjaD9o7WKOwIByoBgmlkgnY0gmlwhKwSQUSKbXVsdGlhZGRyc4wACgSsEkFEBsKP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNVWpa19LGSVmNrgzIHhjVaypmmWydtUT3Smc1al5lUmIN0Y3CCwo6DdWRwgsKQhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-26_04-16-45__eaaee998-b37a-47ae-b8c5-3f352091b15c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.12.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44015', '44016', '44017', '44018', '44019']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_ivpn_2:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_ivpn_2:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44015:44015 -p 44016:44016 -p 44017:44017 -p 44018:44018 -p 44019:44019 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44017 --rest-port=44015 --tcp-port=44016 --discv5-udp-port=44018 --rest-address=0.0.0.0 --nat=extip:172.18.12.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dd5143e7bf9ce8c2082a45fce433c87ab0e38fcf134a00a8a0fdf5fd19d8730b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44019 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QAaxQ9gW5u8q78hR3xy3Rmeznr1gFSqNrJtyqByD9DdwQtONWdOq3X0qDsPlH2sIcop434hQHjaD9o7WKOwIByoBgmlkgnY0gmlwhKwSQUSKbXVsdGlhZGRyc4wACgSsEkFEBsKP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNVWpa19LGSVmNrgzIHhjVaypmmWydtUT3Smc1al5lUmIN0Y3CCwo6DdWRwgsKQhXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=4 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.12.179 waku dddb9a8ba58a5746a76fbc007ce8537e1392aa9e65f1b232b683374851ed5300
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID dddb9a8ba58a. Setting up logs at ./log/docker/node2_2024-09-26_04-16-45__eaaee998-b37a-47ae-b8c5-3f352091b15c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44015
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44015/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44015/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44015/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.12.179/tcp/44016/p2p/16Uiu2HAmT7fftrWjpXrNRnnU1bRwektfkAfZ35t8fnDmFrv3PBBH","/ip4/172.18.12.179/tcp/44017/ws/p2p/16Uiu2HAmT7fftrWjpXrNRnnU1bRwektfkAfZ35t8fnDmFrv3PBBH"],"enrUri":"enr:-LO4QB7m1hhFPpevNJejBPeHZDzz2ROwEDZmV-DT4LhLLy9JDc9L9jShnzJBdAycKOa8MzTWuTCMhant-6s7Vp6w3QEBgmlkgnY0gmlwhKwSDLOKbXVsdGlhZGRyc4wACgSsEgyzBqvx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPW2S2bD5NWxtHlvLzgiI3tGdkmFdY1yHmb6ssnsfuWrIN0Y3CCq_CDdWRwgqvyhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44015/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.65.68/tcp/49806/p2p/16Uiu2HAmJQB82rAa13T3Ds6Nodw7qhduuiHGnPkDov7CYPap1jEo"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49805/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44015/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:128 Running test with payload A simple string
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:128 Running test with payload An integer
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:128 Running test with payload A dictionary
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:128 Running test with payload Chinese characters
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ed91fab20c84
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dddb9a8ba58a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.