[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_sync_nodes_are_relay with id: 2024-09-26_04-38-49__ce9f6286-2b11-4482-8c6e-6989121fe11a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-26_04-38-49__ce9f6286-2b11-4482-8c6e-6989121fe11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-26_04-38-49__ce9f6286-2b11-4482-8c6e-6989121fe11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-26_04-38-49__ce9f6286-2b11-4482-8c6e-6989121fe11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.32.209
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2199', '2200', '2201', '2202', '2203']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2199:2199 -p 2200:2200 -p 2201:2201 -p 2202:2202 -p 2203:2203 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2201 --rest-port=2199 --tcp-port=2200 --discv5-udp-port=2202 --rest-address=0.0.0.0 --nat=extip:172.18.32.209 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=99effea156eb0cde3faacdeaf85e6e44eaae0cfdee7991eabdc8fe10e9a9178d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2203 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.32.209 waku 8eb7b1b10e40a7cf932b9a434120ebadfb0cdcfd97b8703762e9494298ed9e97
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8eb7b1b10e40. Setting up logs at ./log/docker/node1_2024-09-26_04-38-49__ce9f6286-2b11-4482-8c6e-6989121fe11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2199
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2199/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2199/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.32.209/tcp/2200/p2p/16Uiu2HAm8MQvMXNjiygjBAGwi9CLUhYNKCVwejeJgG2vc65khED8","/ip4/172.18.32.209/tcp/2201/ws/p2p/16Uiu2HAm8MQvMXNjiygjBAGwi9CLUhYNKCVwejeJgG2vc65khED8"],"enrUri":"enr:-LO4QPnmLQGZ9MCqSjPdceuVJQNO0LmTrVnmnPAz9ex9qkKhF_kQw19NAW3yhfziQw42a27C3880oSIeMQDcUNuGTi0BgmlkgnY0gmlwhKwSINGKbXVsdGlhZGRyc4wACgSsEiDRBgiZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLAEJRHQmP-y4nUAuhz2zMak9XeJs3k-8iJeGfjDX5tw4N0Y3CCCJiDdWRwggiahXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.244.73
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36416', '36417', '36418', '36419', '36420']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36416:36416 -p 36417:36417 -p 36418:36418 -p 36419:36419 -p 36420:36420 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36418 --rest-port=36416 --tcp-port=36417 --discv5-udp-port=36419 --rest-address=0.0.0.0 --nat=extip:172.18.244.73 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d2fc06bbef877befcb71e0a7db12cabeaee2cba31f3fefbac6dc7cc3221e3452 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36420 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-LO4QPnmLQGZ9MCqSjPdceuVJQNO0LmTrVnmnPAz9ex9qkKhF_kQw19NAW3yhfziQw42a27C3880oSIeMQDcUNuGTi0BgmlkgnY0gmlwhKwSINGKbXVsdGlhZGRyc4wACgSsEiDRBgiZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLAEJRHQmP-y4nUAuhz2zMak9XeJs3k-8iJeGfjDX5tw4N0Y3CCCJiDdWRwggiahXdha3UyAw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.244.73 waku 581967f4247bb788960a7201ebce905ed1c38e9ba8a956752d9fb4df2e99e337
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 581967f4247b. Setting up logs at ./log/docker/node2_2024-09-26_04-38-49__ce9f6286-2b11-4482-8c6e-6989121fe11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36416
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36416/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36416/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.244.73/tcp/36417/p2p/16Uiu2HAmCa1J24RCzFLdG2HdLWdv6RSzRXhhMvCrmjLMC2tZSqnw","/ip4/172.18.244.73/tcp/36418/ws/p2p/16Uiu2HAmCa1J24RCzFLdG2HdLWdv6RSzRXhhMvCrmjLMC2tZSqnw"],"enrUri":"enr:-LO4QKx8qn_V6sn0kjmbMOtVNCqs2wWMJQZLMSASuB0XXrNIXlX85FCmDVYwJt2ug8fZ9nh6Tyy73z-z07CPtAd9NUcBgmlkgnY0gmlwhKwS9EmKbXVsdGlhZGRyc4wACgSsEvRJBo5C3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL-uSmzcM_vJaubQnQ16IRAkhbtLAbCg_ZVzssS7GJTsIN0Y3CCjkGDdWRwgo5DhXdha3UyEQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.57.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33563', '33564', '33565', '33566', '33567']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33563:33563 -p 33564:33564 -p 33565:33565 -p 33566:33566 -p 33567:33567 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33565 --rest-port=33563 --tcp-port=33564 --discv5-udp-port=33566 --rest-address=0.0.0.0 --nat=extip:172.18.57.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=28dccd8d8a0f6cea7aade6ba7ef05ede1ef0d5524dfb2ead2d1f08f5e14fdbc5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33567 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-LO4QKx8qn_V6sn0kjmbMOtVNCqs2wWMJQZLMSASuB0XXrNIXlX85FCmDVYwJt2ug8fZ9nh6Tyy73z-z07CPtAd9NUcBgmlkgnY0gmlwhKwS9EmKbXVsdGlhZGRyc4wACgSsEvRJBo5C3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL-uSmzcM_vJaubQnQ16IRAkhbtLAbCg_ZVzssS7GJTsIN0Y3CCjkGDdWRwgo5DhXdha3UyEQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.57.246 waku 5e8239e4540846895d4fc6819ae08b017ee20aed67410714c8f3810623ebd1a8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5e8239e45408. Setting up logs at ./log/docker/node3_2024-09-26_04-38-49__ce9f6286-2b11-4482-8c6e-6989121fe11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33563
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33563/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33563/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.57.246/tcp/33564/p2p/16Uiu2HAkzohYro4QeiAdiTpzXV3wm3P8NhN3VrgXeQppXkg2F2Vw","/ip4/172.18.57.246/tcp/33565/ws/p2p/16Uiu2HAkzohYro4QeiAdiTpzXV3wm3P8NhN3VrgXeQppXkg2F2Vw"],"enrUri":"enr:-LO4QL84QE4vr2ZiOtQlwtA1xbR6f5LPmMPu5vLhf9ZfT6r_cEbiESl2ibdocDOVtz83KATA-f39bped3deRXPccCBwBgmlkgnY0gmlwhKwSOfaKbXVsdGlhZGRyc4wACgSsEjn2BoMd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJP7vzdJs8-fbfOnU_IQKp0DWgdwt_vB1RZWUXPNK37EoN0Y3CCgxyDdWRwgoMehXdha3UyEQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36416/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.32.209/tcp/2200/p2p/16Uiu2HAm8MQvMXNjiygjBAGwi9CLUhYNKCVwejeJgG2vc65khED8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33563/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.244.73/tcp/36417/p2p/16Uiu2HAmCa1J24RCzFLdG2HdLWdv6RSzRXhhMvCrmjLMC2tZSqnw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2199/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36416/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33563/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2199/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"5FBD1xtXkgTlTXLpsLorso/7kh7798ZeiNbVkkM6qZA="},{"messageHash":"ntL4zorp4QfWiaexe5hK0gbyrLLp/yrtlxfSs7c8mmA="},{"messageHash":"htuiKY0VbaKyktNATLh4kd+ETx2gABoa6GiNRHJQyio="},{"messageHash":"/qWcLAt1elFexLOgl3B2oMiyES+JOQaDx5BirUUV3E0="},{"messageHash":"eoa8Vl0rMVhZ5uWGxFwRbHwDPQbD2wnyy5LMMoSYqus="},{"messageHash":"59ORSM1Vlsnknk6uG3JSAD0XQawK/svc5cxd+Ljid+E="},{"messageHash":"E9zOxbPUrgDXD6aQYNXppdw8jLihZNrhslaQ0jhktrg="},{"messageHash":"XTzeRRfBSVJHveaykwujgEeB5ZVkyEO6WCZkRmpoDw0="},{"messageHash":"1s8+Ds1/CHTuCsuiNGFkj+phbFIErTxELkF8LtRGpw0="},{"messageHash":"Ze1YQOaQ67fpfcWwKhpy4vHwaNgIEvWaOJRSQw9yeZ0="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36416/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"13f82e12fee665409687","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"5FBD1xtXkgTlTXLpsLorso/7kh7798ZeiNbVkkM6qZA="},{"messageHash":"ntL4zorp4QfWiaexe5hK0gbyrLLp/yrtlxfSs7c8mmA="},{"messageHash":"htuiKY0VbaKyktNATLh4kd+ETx2gABoa6GiNRHJQyio="},{"messageHash":"/qWcLAt1elFexLOgl3B2oMiyES+JOQaDx5BirUUV3E0="},{"messageHash":"eoa8Vl0rMVhZ5uWGxFwRbHwDPQbD2wnyy5LMMoSYqus="},{"messageHash":"59ORSM1Vlsnknk6uG3JSAD0XQawK/svc5cxd+Ljid+E="},{"messageHash":"E9zOxbPUrgDXD6aQYNXppdw8jLihZNrhslaQ0jhktrg="},{"messageHash":"XTzeRRfBSVJHveaykwujgEeB5ZVkyEO6WCZkRmpoDw0="},{"messageHash":"1s8+Ds1/CHTuCsuiNGFkj+phbFIErTxELkF8LtRGpw0="},{"messageHash":"Ze1YQOaQ67fpfcWwKhpy4vHwaNgIEvWaOJRSQw9yeZ0="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33563/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 412 Client Error: Precondition Failed for url: http://127.0.0.1:33563/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true. Response content: b'No suitable service peer & none discovered'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8eb7b1b10e40
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 581967f4247b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5e8239e45408
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-09-26_04-38-49__ce9f6286-2b11-4482-8c6e-6989121fe11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2024-09-26_04-38-49__ce9f6286-2b11-4482-8c6e-6989121fe11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-09-26_04-38-49__ce9f6286-2b11-4482-8c6e-6989121fe11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_sync_nodes_are_relay with id: 2024-09-26_04-39-02__aed30a9f-c8a2-43ca-af74-b20078039192
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-26_04-39-02__aed30a9f-c8a2-43ca-af74-b20078039192__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-26_04-39-02__aed30a9f-c8a2-43ca-af74-b20078039192__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-26_04-39-02__aed30a9f-c8a2-43ca-af74-b20078039192__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.123.199
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50807', '50808', '50809', '50810', '50811']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50807:50807 -p 50808:50808 -p 50809:50809 -p 50810:50810 -p 50811:50811 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50809 --rest-port=50807 --tcp-port=50808 --discv5-udp-port=50810 --rest-address=0.0.0.0 --nat=extip:172.18.123.199 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a4185726b15d976dc6e1b30fe8ccd686da279038dde70acfea21c0d16aafdbab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50811 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.123.199 waku feee943dc4d7be15db96e0cebdb50f13efa75a31ed7453110bc4ceb3c746393b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID feee943dc4d7. Setting up logs at ./log/docker/node1_2024-09-26_04-39-02__aed30a9f-c8a2-43ca-af74-b20078039192__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50807
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50807/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50807/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.199/tcp/50808/p2p/16Uiu2HAm64bEVzfmCw2sRXBmyTV7KurR1tGGcznyFZ6SJwKndEqu","/ip4/172.18.123.199/tcp/50809/ws/p2p/16Uiu2HAm64bEVzfmCw2sRXBmyTV7KurR1tGGcznyFZ6SJwKndEqu"],"enrUri":"enr:-LO4QP_AvvFQOhd78__vhQmPdr7qaApcnON3Te6yV9NeJ-kaOuUCPSL1KFIU4S-0ZXWfSNSW3qP8ieP6aWoJGHb-d50BgmlkgnY0gmlwhKwSe8eKbXVsdGlhZGRyc4wACgSsEnvHBsZ53QOCcnOFAAMBAACJc2VjcDI1NmsxoQKeCf4NswIcsjDQb-qpsX4dkKDPFzoVAUP1qvZblT2jmIN0Y3CCxniDdWRwgsZ6hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.164.44
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['42408', '42409', '42410', '42411', '42412']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 42408:42408 -p 42409:42409 -p 42410:42410 -p 42411:42411 -p 42412:42412 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42410 --rest-port=42408 --tcp-port=42409 --discv5-udp-port=42411 --rest-address=0.0.0.0 --nat=extip:172.18.164.44 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=37d6cefcf0ecffdfbb383edfeb3f036f4a891f65a7aaa4ba297c8fcac8a9adda --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42412 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-LO4QP_AvvFQOhd78__vhQmPdr7qaApcnON3Te6yV9NeJ-kaOuUCPSL1KFIU4S-0ZXWfSNSW3qP8ieP6aWoJGHb-d50BgmlkgnY0gmlwhKwSe8eKbXVsdGlhZGRyc4wACgSsEnvHBsZ53QOCcnOFAAMBAACJc2VjcDI1NmsxoQKeCf4NswIcsjDQb-qpsX4dkKDPFzoVAUP1qvZblT2jmIN0Y3CCxniDdWRwgsZ6hXdha3UyAw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.164.44 waku 27adabd30d4382c43289f9ebc9dbc1b8c69626f39c4c5c711899f2ce2d0a155c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 27adabd30d43. Setting up logs at ./log/docker/node2_2024-09-26_04-39-02__aed30a9f-c8a2-43ca-af74-b20078039192__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 42408
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42408/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42408/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.44/tcp/42409/p2p/16Uiu2HAm9QemkwMJJ8qB5MdEvMxPHRtzSSJJWRmsbxEdrwKdDVJM","/ip4/172.18.164.44/tcp/42410/ws/p2p/16Uiu2HAm9QemkwMJJ8qB5MdEvMxPHRtzSSJJWRmsbxEdrwKdDVJM"],"enrUri":"enr:-LO4QDXLyY5O4biwc_k_2b1djRwL9LvSSwg88SKm8rCUTz3YPLcf-AQiQdRNQO3SeWrAM4ypIL0hvDlzz-GbFB6DsIIBgmlkgnY0gmlwhKwSpCyKbXVsdGlhZGRyc4wACgSsEqQsBqWq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLPwKu7pgbYhDFuKda0ZqrRP0tBuHM-RPKeZbqlkVZ_PoN0Y3CCpamDdWRwgqWrhXdha3UyEQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.7.44
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['24569', '24570', '24571', '24572', '24573']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 24569:24569 -p 24570:24570 -p 24571:24571 -p 24572:24572 -p 24573:24573 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24571 --rest-port=24569 --tcp-port=24570 --discv5-udp-port=24572 --rest-address=0.0.0.0 --nat=extip:172.18.7.44 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=44acda7ba7fc546c9f8efaebdd3de11c7a5cf0568dcaa7a2caf7ea94eeecae1f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24573 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-LO4QDXLyY5O4biwc_k_2b1djRwL9LvSSwg88SKm8rCUTz3YPLcf-AQiQdRNQO3SeWrAM4ypIL0hvDlzz-GbFB6DsIIBgmlkgnY0gmlwhKwSpCyKbXVsdGlhZGRyc4wACgSsEqQsBqWq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLPwKu7pgbYhDFuKda0ZqrRP0tBuHM-RPKeZbqlkVZ_PoN0Y3CCpamDdWRwgqWrhXdha3UyEQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.7.44 waku 42a8bced6dd96faaa9b6ef4d9c24d9e989654fc421c2819392bda6b71ad13f8e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 42a8bced6dd9. Setting up logs at ./log/docker/node3_2024-09-26_04-39-02__aed30a9f-c8a2-43ca-af74-b20078039192__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 24569
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24569/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24569/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.44/tcp/24570/p2p/16Uiu2HAm2tATc2jqm1s59d7PEpGfSvDjh8bQGb38RFu1GAtdxEaD","/ip4/172.18.7.44/tcp/24571/ws/p2p/16Uiu2HAm2tATc2jqm1s59d7PEpGfSvDjh8bQGb38RFu1GAtdxEaD"],"enrUri":"enr:-LO4QMqAHG0b9jgqqSaH87wY_tVob8k9EfzYHP8MIzc5Iv_0fariy2pUp2rppEdfSd3001RKPGotB9_BPi5i5pbxUfwBgmlkgnY0gmlwhKwSByyKbXVsdGlhZGRyc4wACgSsEgcsBl_73QOCcnOFAAMBAACJc2VjcDI1NmsxoQJuyxyEoyfznrDuDlbFwIoUn2wIk_WD60qPbDsfLkr70oN0Y3CCX_qDdWRwgl_8hXdha3UyEQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42408/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.123.199/tcp/50808/p2p/16Uiu2HAm64bEVzfmCw2sRXBmyTV7KurR1tGGcznyFZ6SJwKndEqu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24569/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.164.44/tcp/42409/p2p/16Uiu2HAm9QemkwMJJ8qB5MdEvMxPHRtzSSJJWRmsbxEdrwKdDVJM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50807/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42408/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24569/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50807/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"AYW670uLfq1OD+RPKrgOMHrVSAePahEYXFEM//jvzYg="},{"messageHash":"ZNXzgDKbgl3XAUxagyN298FIJQ8oTOGCW296kb4XKHk="},{"messageHash":"skBelnjGFTYkpyk6LGQE/A2x34GkePHRayCtWup5z6g="},{"messageHash":"sPL6I/Ld9RK34YF4PO3DhhQnfl+dghUbAe14SGTwcyo="},{"messageHash":"RrLVsf9iX4rLSC5J5BSDu25CB7virOrAiGykUJ7u4n0="},{"messageHash":"H9fdPd9kwXE5JekABNHeWTDog90daPYo/VaLKcFhui0="},{"messageHash":"knQRc/8mfxN+44QQ1dJGAulLZWPz8CVkshuPT3Zl5CQ="},{"messageHash":"zybqv0rgy+LbTCJJoL/ksbEPWA1HUtEuTLUzFkuFWfo="},{"messageHash":"hnL42M2Y11+eODqT6WctzPcqkCYTYA+fkrl2VjBI3X8="},{"messageHash":"EQmYCG4A+zoKVL3RRF/0LwgKa8WWPcQIm56FKcG9bAs="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42408/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"436e674fff4dd3fe5204","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"AYW670uLfq1OD+RPKrgOMHrVSAePahEYXFEM//jvzYg="},{"messageHash":"ZNXzgDKbgl3XAUxagyN298FIJQ8oTOGCW296kb4XKHk="},{"messageHash":"skBelnjGFTYkpyk6LGQE/A2x34GkePHRayCtWup5z6g="},{"messageHash":"sPL6I/Ld9RK34YF4PO3DhhQnfl+dghUbAe14SGTwcyo="},{"messageHash":"RrLVsf9iX4rLSC5J5BSDu25CB7virOrAiGykUJ7u4n0="},{"messageHash":"H9fdPd9kwXE5JekABNHeWTDog90daPYo/VaLKcFhui0="},{"messageHash":"knQRc/8mfxN+44QQ1dJGAulLZWPz8CVkshuPT3Zl5CQ="},{"messageHash":"zybqv0rgy+LbTCJJoL/ksbEPWA1HUtEuTLUzFkuFWfo="},{"messageHash":"hnL42M2Y11+eODqT6WctzPcqkCYTYA+fkrl2VjBI3X8="},{"messageHash":"EQmYCG4A+zoKVL3RRF/0LwgKa8WWPcQIm56FKcG9bAs="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24569/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 412 Client Error: Precondition Failed for url: http://127.0.0.1:24569/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true. Response content: b'No suitable service peer & none discovered'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id feee943dc4d7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 27adabd30d43
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 42a8bced6dd9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-09-26_04-39-02__aed30a9f-c8a2-43ca-af74-b20078039192__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2024-09-26_04-39-02__aed30a9f-c8a2-43ca-af74-b20078039192__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-09-26_04-39-02__aed30a9f-c8a2-43ca-af74-b20078039192__wakuorg_nwaku:latest.log