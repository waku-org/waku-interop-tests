[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_unsubscribe_with_invalid_pubsub_topic_format with id: 2024-09-26_04-23-46__da2f389d-81b3-4df4-966b-c9903897b36f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-26_04-23-46__da2f389d-81b3-4df4-966b-c9903897b36f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.200.11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['14590', '14591', '14592', '14593', '14594']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 14590:14590 -p 14591:14591 -p 14592:14592 -p 14593:14593 -p 14594:14594 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14592 --rest-port=14590 --tcp-port=14591 --discv5-udp-port=14593 --rest-address=0.0.0.0 --nat=extip:172.18.200.11 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=60ffa5a6d0de54ed6f36a4ceaa3cffa9b0dffabd5a2857effcce4bc9fe3eafe7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14594 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.200.11 waku 1afcaf2939b8c2a46f6af637f4f265cdfdd6a575f72a7c31448fa446dd5700ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1afcaf2939b8. Setting up logs at ./log/docker/node1_2024-09-26_04-23-46__da2f389d-81b3-4df4-966b-c9903897b36f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 14590
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14590/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14590/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.200.11/tcp/14591/p2p/16Uiu2HAkvSYCrNQZCvqazUUSRmcSXTAdEab1A3NaQFFnajMnL9b2","/ip4/172.18.200.11/tcp/14592/ws/p2p/16Uiu2HAkvSYCrNQZCvqazUUSRmcSXTAdEab1A3NaQFFnajMnL9b2"],"enrUri":"enr:-LO4QCsNi0VK8A3xn61Frn1D7QavjZK8QoKRcb4QqCuAavnIM8Vrq_l633UbM3WSlhBRxfeDOVscek2VnT7peSuMXXsBgmlkgnY0gmlwhKwSyAuKbXVsdGlhZGRyc4wACgSsEsgLBjkA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIPFHoHulIgmSy98Czm7lRvSm99SjMhl3XD5EHRGSKYHYN0Y3CCOP-DdWRwgjkBhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-26_04-23-46__da2f389d-81b3-4df4-966b-c9903897b36f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.145.156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44965', '44966', '44967', '44968', '44969']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44965:44965 -p 44966:44966 -p 44967:44967 -p 44968:44968 -p 44969:44969 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44967 --rest-port=44965 --tcp-port=44966 --discv5-udp-port=44968 --rest-address=0.0.0.0 --nat=extip:172.18.145.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5b7f855ddd77dc1e0f7898fc5f8470acc179ffcbbb4194a6a0dc2b829df5b27b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44969 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QCsNi0VK8A3xn61Frn1D7QavjZK8QoKRcb4QqCuAavnIM8Vrq_l633UbM3WSlhBRxfeDOVscek2VnT7peSuMXXsBgmlkgnY0gmlwhKwSyAuKbXVsdGlhZGRyc4wACgSsEsgLBjkA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIPFHoHulIgmSy98Czm7lRvSm99SjMhl3XD5EHRGSKYHYN0Y3CCOP-DdWRwgjkBhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.145.156 waku b6159fc5e1e1596357eddf5ad39e2dea7ded17fade98f356bb82c4546762ad82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b6159fc5e1e1. Setting up logs at ./log/docker/node2_2024-09-26_04-23-46__da2f389d-81b3-4df4-966b-c9903897b36f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44965
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44965/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44965/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.145.156/tcp/44966/p2p/16Uiu2HAmQCKWBWiCXhhVgqoPrafPVLfSQck74PNzFBvrpbJzw3FA","/ip4/172.18.145.156/tcp/44967/ws/p2p/16Uiu2HAmQCKWBWiCXhhVgqoPrafPVLfSQck74PNzFBvrpbJzw3FA"],"enrUri":"enr:-LO4QMx2uSfwgt3Y7rwQ3jo1WfP4duNrmNpixfNs9zKb3k4CeuN-QD-a8j5YNBp5pHwJ-U10JDPniaYzGB_1KsFOS9kBgmlkgnY0gmlwhKwSkZyKbXVsdGlhZGRyc4wACgSsEpGcBq-n3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOrdzfOUNLc95jVN_35IXMy95l-ZU60FrNp7nmc45a3HYN0Y3CCr6aDdWRwgq-ohXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44965/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.200.11/tcp/14591/p2p/16Uiu2HAkvSYCrNQZCvqazUUSRmcSXTAdEab1A3NaQFFnajMnL9b2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /test/2/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:14590/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:14590/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/3/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:14590/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:14590/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/test/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:14590/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:14590/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/3/b
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:14590/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:14590/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:14590/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:14590/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1afcaf2939b8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b6159fc5e1e1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.