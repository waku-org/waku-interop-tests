[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_on_not_subscribed_content_topic_works with id: 2024-09-26_04-24-39__3a225113-6a7b-4644-8bf0-ac353308d422
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-26_04-24-39__3a225113-6a7b-4644-8bf0-ac353308d422__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.9.243
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16005', '16006', '16007', '16008', '16009']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16005:16005 -p 16006:16006 -p 16007:16007 -p 16008:16008 -p 16009:16009 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16007 --rest-port=16005 --tcp-port=16006 --discv5-udp-port=16008 --rest-address=0.0.0.0 --nat=extip:172.18.9.243 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=afb8f04fbca2c0bddf5e1f740d1ab3aac9dc3f18fd9974dfa7ff371e3e7e709d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16009 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.9.243 waku 4091e20aa921a5cadc8fa0bef2590e37dd9c488fabd3db99ef4901bf5e6b67b3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4091e20aa921. Setting up logs at ./log/docker/node1_2024-09-26_04-24-39__3a225113-6a7b-4644-8bf0-ac353308d422__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16005
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16005/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16005/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.243/tcp/16006/p2p/16Uiu2HAmFoQ5Bw67Up6pwAHuFscvKzVvMzDrkVg7UeTrL2VGi8q3","/ip4/172.18.9.243/tcp/16007/ws/p2p/16Uiu2HAmFoQ5Bw67Up6pwAHuFscvKzVvMzDrkVg7UeTrL2VGi8q3"],"enrUri":"enr:-LO4QI6AWK8EEiRlxBqNvRYWeSh7JhKX-LUfjklWkUnJgZ2UAINWK5aiGUO9dkp-D0uzvLCU_mKcMFWH2S096kpUxRIBgmlkgnY0gmlwhKwSCfOKbXVsdGlhZGRyc4wACgSsEgnzBj6H3QOCcnOFAAIBAACJc2VjcDI1NmsxoQMuuoe_FEMyqpOSVmPC3ddsb0Z7gxeM7nf87MKb0qOndoN0Y3CCPoaDdWRwgj6IhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-26_04-24-39__3a225113-6a7b-4644-8bf0-ac353308d422__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.249.245
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['37550', '37551', '37552', '37553', '37554']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 37550:37550 -p 37551:37551 -p 37552:37552 -p 37553:37553 -p 37554:37554 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37552 --rest-port=37550 --tcp-port=37551 --discv5-udp-port=37553 --rest-address=0.0.0.0 --nat=extip:172.18.249.245 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=5b856d941a4cfbe3c01cf9d9aa9b8a9adff0cea0df371eaeb9caf58b91fb21d8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37554 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QI6AWK8EEiRlxBqNvRYWeSh7JhKX-LUfjklWkUnJgZ2UAINWK5aiGUO9dkp-D0uzvLCU_mKcMFWH2S096kpUxRIBgmlkgnY0gmlwhKwSCfOKbXVsdGlhZGRyc4wACgSsEgnzBj6H3QOCcnOFAAIBAACJc2VjcDI1NmsxoQMuuoe_FEMyqpOSVmPC3ddsb0Z7gxeM7nf87MKb0qOndoN0Y3CCPoaDdWRwgj6IhXdha3UyBQ --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.249.245 waku 7e4e3f825485843b65a97f4411304c5fbd2d56215f4d3d7b683cf42897a7a632
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7e4e3f825485. Setting up logs at ./log/docker/node2_2024-09-26_04-24-39__3a225113-6a7b-4644-8bf0-ac353308d422__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 37550
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37550/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37550/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.245/tcp/37551/p2p/16Uiu2HAm1u9hEx1HWYh1DLFocABHMpW7K12oupJpMKT1JjycogAn","/ip4/172.18.249.245/tcp/37552/ws/p2p/16Uiu2HAm1u9hEx1HWYh1DLFocABHMpW7K12oupJpMKT1JjycogAn"],"enrUri":"enr:-LO4QNnR8Jgm2y-ZogpGqMql1B9rPT6edx-rHWnxDabTbF18GMIC-jZKLuYQQiVugtI-DReLdmlrU8cjWHPdFPDiF2IBgmlkgnY0gmlwhKwS-fWKbXVsdGlhZGRyc4wACgSsEvn1BpKw3QOCcnOFAAIBAACJc2VjcDI1NmsxoQJgMCPymZjRGmyB3s0TvHbX03ymha-WqiU5hrWbYeBPE4N0Y3CCkq-DdWRwgpKxhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37550/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.9.243/tcp/16006/p2p/16Uiu2HAmFoQ5Bw67Up6pwAHuFscvKzVvMzDrkVg7UeTrL2VGi8q3"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16005/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37550/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16005/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37550/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4091e20aa921
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7e4e3f825485
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.