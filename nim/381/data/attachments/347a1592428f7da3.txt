[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_pubsub_topic with id: 2024-10-04_04-17-35__e2662700-3618-44b0-9201-6618f64d6b27
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-04_04-17-35__e2662700-3618-44b0-9201-6618f64d6b27__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.40.137
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['60379', '60380', '60381', '60382', '60383']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 60379:60379 -p 60380:60380 -p 60381:60381 -p 60382:60382 -p 60383:60383 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60381 --rest-port=60379 --tcp-port=60380 --discv5-udp-port=60382 --rest-address=0.0.0.0 --nat=extip:172.18.40.137 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ecfd7eee622d5242ef3fb82d11efeadeaeaaf70adeeb2fe6a48cbd708b4ed69b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60383 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.40.137 waku ad6979f9d8b97433e062850dedd8dadc0543eaf0460f5e2ab48bd9f81ea69cd4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ad6979f9d8b9. Setting up logs at ./log/docker/node1_2024-10-04_04-17-35__e2662700-3618-44b0-9201-6618f64d6b27__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60379
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60379/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60379/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.40.137/tcp/60380/p2p/16Uiu2HAmTTfKuErCFeaYoPd4D9SE1w6tsgz9e2jntBejTNESVUtD","/ip4/172.18.40.137/tcp/60381/ws/p2p/16Uiu2HAmTTfKuErCFeaYoPd4D9SE1w6tsgz9e2jntBejTNESVUtD"],"enrUri":"enr:-LO4QPD1gsr-L1Weyjn1zMPbmHBrIA7XyJLkPcf0svKQC3WVPa32MRs9mE0qYoq3ZicB8_EeeNrQ_5LRaYwvxTzr9HIBgmlkgnY0gmlwhKwSKImKbXVsdGlhZGRyc4wACgSsEiiJBuvd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPb-GeRRcl2p0_Q_5Mg29SZXcDKMeO5ZkU1qjleHJ4atoN0Y3CC69yDdWRwguvehXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-04_04-17-35__e2662700-3618-44b0-9201-6618f64d6b27__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.153.178
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['55062', '55063', '55064', '55065', '55066']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 55062:55062 -p 55063:55063 -p 55064:55064 -p 55065:55065 -p 55066:55066 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55064 --rest-port=55062 --tcp-port=55063 --discv5-udp-port=55065 --rest-address=0.0.0.0 --nat=extip:172.18.153.178 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da4ebf9dd1ce6ede70bcf0e10d5d28d57cd56facd4baececaf575b5ddbfc047c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55066 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QPD1gsr-L1Weyjn1zMPbmHBrIA7XyJLkPcf0svKQC3WVPa32MRs9mE0qYoq3ZicB8_EeeNrQ_5LRaYwvxTzr9HIBgmlkgnY0gmlwhKwSKImKbXVsdGlhZGRyc4wACgSsEiiJBuvd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPb-GeRRcl2p0_Q_5Mg29SZXcDKMeO5ZkU1qjleHJ4atoN0Y3CC69yDdWRwguvehXdha3UyBQ --filternode=/ip4/172.18.40.137/tcp/60380/p2p/16Uiu2HAmTTfKuErCFeaYoPd4D9SE1w6tsgz9e2jntBejTNESVUtD
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.153.178 waku b1a0d9d73bfd677451ee5997f22b24e0c35f5af9a912f4c2726a7f222ffea10d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b1a0d9d73bfd. Setting up logs at ./log/docker/node2_2024-10-04_04-17-35__e2662700-3618-44b0-9201-6618f64d6b27__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55062
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55062/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55062/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.178/tcp/55063/p2p/16Uiu2HAm8hmJZ5vdR3tihvZhEx24BgraUoK6xx8pBNxuwhupRbFe","/ip4/172.18.153.178/tcp/55064/ws/p2p/16Uiu2HAm8hmJZ5vdR3tihvZhEx24BgraUoK6xx8pBNxuwhupRbFe"],"enrUri":"enr:-LO4QAA5H2-jh4hAH2grb12uOFsgpNHdxibFlzV9Uhx5XrXuXonUjgULrvtSyAHuBdlogWi9i9uzJ0nhGfEdHo2Kq1QBgmlkgnY0gmlwhKwSmbKKbXVsdGlhZGRyc4wACgSsEpmyBtcY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLFRz4DZ2SVzo4KIQGHsnzJbONzFe3-3pn57o1yfSZPSYN0Y3CC1xeDdWRwgtcZhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55062/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.40.137/tcp/60380/p2p/16Uiu2HAmTTfKuErCFeaYoPd4D9SE1w6tsgz9e2jntBejTNESVUtD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60379/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55062/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "26343f6c-0d36-4de1-89bf-8440ce7afb14", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"26343f6c-0d36-4de1-89bf-8440ce7afb14","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:55062/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:55062/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ad6979f9d8b9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b1a0d9d73bfd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.