[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_matches_multiple_messages with id: 2024-09-13_04-40-24__16b3bb78-6373-41c8-a038-7a414c1b6e49
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-13_04-40-24__16b3bb78-6373-41c8-a038-7a414c1b6e49__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.78.24
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40386', '40387', '40388', '40389', '40390']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40386:40386 -p 40387:40387 -p 40388:40388 -p 40389:40389 -p 40390:40390 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40388 --rest-port=40386 --tcp-port=40387 --discv5-udp-port=40389 --rest-address=0.0.0.0 --nat=extip:172.18.78.24 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e6c7c8e0b3535558ad33db6e35fe5bc865c9ff8ccb2fb09cc7f9c98b802da2ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40390 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.78.24 waku 4f8e498463a4267b952e4f3b29f7095ac018602cbad65e6e47aa2cb546defe65
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4f8e498463a4. Setting up logs at ./log/docker/publishing_node1_2024-09-13_04-40-24__16b3bb78-6373-41c8-a038-7a414c1b6e49__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40386
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40386/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40386/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.24/tcp/40387/p2p/16Uiu2HAmAQ3bMVTxLZGRbHm1RP9482EEaZnHrfChuyyMw4s8YyY8","/ip4/172.18.78.24/tcp/40388/ws/p2p/16Uiu2HAmAQ3bMVTxLZGRbHm1RP9482EEaZnHrfChuyyMw4s8YyY8"],"enrUri":"enr:-LO4QM7AsNBvbGCXjPed_623Mhpo3q-00czcgcZvYMVQBMr9bZWWvGCsJ1a3WnEhFGxedqUKECsp52HVC64uM5HsYoYBgmlkgnY0gmlwhKwSThiKbXVsdGlhZGRyc4wACgSsEk4YBp3E3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLedJSOtdsi-eEUfcmFEXHx5_0tspOUThbG6ohco-B0NYN0Y3CCncODdWRwgp3FhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-13_04-40-24__16b3bb78-6373-41c8-a038-7a414c1b6e49__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.189.235
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47971', '47972', '47973', '47974', '47975']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47971:47971 -p 47972:47972 -p 47973:47973 -p 47974:47974 -p 47975:47975 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47973 --rest-port=47971 --tcp-port=47972 --discv5-udp-port=47974 --rest-address=0.0.0.0 --nat=extip:172.18.189.235 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da5325b11d3f1f2208f2a1c0cf3dfdafbcfe8ed7de1d2f78a6ff91a48eae1ed5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47975 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QM7AsNBvbGCXjPed_623Mhpo3q-00czcgcZvYMVQBMr9bZWWvGCsJ1a3WnEhFGxedqUKECsp52HVC64uM5HsYoYBgmlkgnY0gmlwhKwSThiKbXVsdGlhZGRyc4wACgSsEk4YBp3E3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLedJSOtdsi-eEUfcmFEXHx5_0tspOUThbG6ohco-B0NYN0Y3CCncODdWRwgp3FhXdha3UyAw --storenode=/ip4/172.18.78.24/tcp/40387/p2p/16Uiu2HAmAQ3bMVTxLZGRbHm1RP9482EEaZnHrfChuyyMw4s8YyY8 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.189.235 waku bcca891dae21bf6471a04e15ac282df4884892b94f3db7032ad15cc2743cefee
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bcca891dae21. Setting up logs at ./log/docker/store_node1_2024-09-13_04-40-24__16b3bb78-6373-41c8-a038-7a414c1b6e49__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47971
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47971/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47971/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.189.235/tcp/47972/p2p/16Uiu2HAmDZbBXSrGQkmpn1JnY6jN21QZRpnAWLccY8EACgu7hXAY","/ip4/172.18.189.235/tcp/47973/ws/p2p/16Uiu2HAmDZbBXSrGQkmpn1JnY6jN21QZRpnAWLccY8EACgu7hXAY"],"enrUri":"enr:-LO4QH_n8a-31F_wV0Y1XkPzI8UHFq8Gzrz4_1vlfWNEH-NXVEAZ9llg72LoMpOwFBsq0syN36C_zGAg9luC_sARt1gBgmlkgnY0gmlwhKwSveuKbXVsdGlhZGRyc4wACgSsEr3rBrtl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMNeZYa3CNzS4TrcNlGbpy6_buP1TPzw0G3DuCJDJY7wYN0Y3CCu2SDdWRwgrtmhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47971/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.78.24/tcp/40387/p2p/16Uiu2HAmAQ3bMVTxLZGRbHm1RP9482EEaZnHrfChuyyMw4s8YyY8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40386/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47971/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40386/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1726202421643659872&endTime=1726202426643879072&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"lx6OrqRPgqofIxFia00Ae5UxQzCryFBKpSBBwW1nuSQ="},{"messageHash":"kL30/6gNwCqiBGH9a88ofhA4N4BL2ou/fSFKvT2VAJg="},{"messageHash":"1iEYxHyybrCgf2THLLFJA0t6aKxPGTcZXDsLCxSZbqw="},{"messageHash":"uhYiYHca2PzsLUaD6yZbdCuTDa0d64Zy0JBjRRl7QgA="},{"messageHash":"6rztCymuKkVYo7lxNAUY5umthViMSBVbnmA7NXaN/4Q="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47971/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1726202421643659872&endTime=1726202426643879072&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"lx6OrqRPgqofIxFia00Ae5UxQzCryFBKpSBBwW1nuSQ="},{"messageHash":"kL30/6gNwCqiBGH9a88ofhA4N4BL2ou/fSFKvT2VAJg="},{"messageHash":"1iEYxHyybrCgf2THLLFJA0t6aKxPGTcZXDsLCxSZbqw="},{"messageHash":"uhYiYHca2PzsLUaD6yZbdCuTDa0d64Zy0JBjRRl7QgA="},{"messageHash":"6rztCymuKkVYo7lxNAUY5umthViMSBVbnmA7NXaN/4Q="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4f8e498463a4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bcca891dae21
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.