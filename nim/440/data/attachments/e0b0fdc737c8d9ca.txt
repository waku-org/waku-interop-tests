[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-07_15-43-18__422f4d9e-4c1b-41a4-b484-77e6b51e8a99
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_15-43-18__422f4d9e-4c1b-41a4-b484-77e6b51e8a99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.99.223
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34228', '34229', '34230', '34231', '34232']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34228:34228 -p 34229:34229 -p 34230:34230 -p 34231:34231 -p 34232:34232 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34230 --rest-port=34228 --tcp-port=34229 --discv5-udp-port=34231 --rest-address=0.0.0.0 --nat=extip:172.18.99.223 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b1eb5dc04cf8ed05c0d2892d5f5f8cecede5dbb338d256c229ae9bce161c3362 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34232 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.99.223 waku 120ed30e94f7db69ecca083660565c9b9277bd682d3fb41e7d061559f7f5b916
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 120ed30e94f7. Setting up logs at ./log/docker/node1_2024-11-07_15-43-18__422f4d9e-4c1b-41a4-b484-77e6b51e8a99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 34228
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 618c047570aa. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34228/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34228/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.223/tcp/34229/p2p/16Uiu2HAmP3cRycNjBisiZHqjvdtiih2eHt3MvEJCpmLCHL5p92U5","/ip4/172.18.99.223/tcp/34230/ws/p2p/16Uiu2HAmP3cRycNjBisiZHqjvdtiih2eHt3MvEJCpmLCHL5p92U5"],"enrUri":"enr:-L24QJ9Ull-4YMjtKNZhmt8uWw8BcwlJ_t5gVNx3iJFXDlv5ODc2imLczFeFq8A2Pbu5fp-4ZnfbNv2WqD15doYhvMsCgmlkgnY0gmlwhKwSY9-KbXVsdGlhZGRyc5YACASsEmPfBoW1AAoErBJj3waFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmmBxmpTJRaoYnVw-t6gUk_UkjskqDswdCW5vFeu1kLaDdGNwgoW1g3VkcIKFt4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_15-43-18__422f4d9e-4c1b-41a4-b484-77e6b51e8a99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.98.146
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47531', '47532', '47533', '47534', '47535']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47531:47531 -p 47532:47532 -p 47533:47533 -p 47534:47534 -p 47535:47535 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47533 --rest-port=47531 --tcp-port=47532 --discv5-udp-port=47534 --rest-address=0.0.0.0 --nat=extip:172.18.98.146 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a80eead1cd2a90a95fff04acbaedfe267fdbb3db05fe01ba9aafc0ef90bb058c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47535 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJ9Ull-4YMjtKNZhmt8uWw8BcwlJ_t5gVNx3iJFXDlv5ODc2imLczFeFq8A2Pbu5fp-4ZnfbNv2WqD15doYhvMsCgmlkgnY0gmlwhKwSY9-KbXVsdGlhZGRyc5YACASsEmPfBoW1AAoErBJj3waFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmmBxmpTJRaoYnVw-t6gUk_UkjskqDswdCW5vFeu1kLaDdGNwgoW1g3VkcIKFt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.98.146 waku efa09b9937a8cb6a8fd96002354e0528c42781da106cea84e0d665ebe26e82f6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID efa09b9937a8. Setting up logs at ./log/docker/node2_2024-11-07_15-43-18__422f4d9e-4c1b-41a4-b484-77e6b51e8a99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47531
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47531/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47531/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.98.146/tcp/47532/p2p/16Uiu2HAmBKNL8ifXc7EcaQisARTV416pbcnMtiaHDEJzRwVrx8Jc","/ip4/172.18.98.146/tcp/47533/ws/p2p/16Uiu2HAmBKNL8ifXc7EcaQisARTV416pbcnMtiaHDEJzRwVrx8Jc"],"enrUri":"enr:-L24QB6cm4D8p6RsPvY3oyorVT0vszp1GXwQMC95CXUwpBJbadP8R7nvFYgG0NJY3e8Hxn4X3xesLZo97w3CTOJ7dmsCgmlkgnY0gmlwhKwSYpKKbXVsdGlhZGRyc5YACASsEmKSBrmsAAoErBJikga5rd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7B2MwgeYlGgWAeLIijsJfoTkvsyBCGzB5HB7m-CWsKGDdGNwgrmsg3VkcIK5roV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47531/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.223/tcp/34229/p2p/16Uiu2HAmP3cRycNjBisiZHqjvdtiih2eHt3MvEJCpmLCHL5p92U5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_15-43-18__422f4d9e-4c1b-41a4-b484-77e6b51e8a99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.157.108
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22222', '22223', '22224', '22225', '22226']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22222:22222 -p 22223:22223 -p 22224:22224 -p 22225:22225 -p 22226:22226 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22224 --rest-port=22222 --tcp-port=22223 --discv5-udp-port=22225 --rest-address=0.0.0.0 --nat=extip:172.18.157.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aa1ff47a45dd2f578bbcf1d1ce4eef1e5ffba5c6dcb965daeeb97c6dd215ff87 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22226 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJ9Ull-4YMjtKNZhmt8uWw8BcwlJ_t5gVNx3iJFXDlv5ODc2imLczFeFq8A2Pbu5fp-4ZnfbNv2WqD15doYhvMsCgmlkgnY0gmlwhKwSY9-KbXVsdGlhZGRyc5YACASsEmPfBoW1AAoErBJj3waFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmmBxmpTJRaoYnVw-t6gUk_UkjskqDswdCW5vFeu1kLaDdGNwgoW1g3VkcIKFt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.157.108 waku 90713db10e8df6a12070acd965c6ce5426c9486c7c6264f5ae3c48a22a6b7f34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 90713db10e8d. Setting up logs at ./log/docker/node3_2024-11-07_15-43-18__422f4d9e-4c1b-41a4-b484-77e6b51e8a99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 22222
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22222/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22222/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.157.108/tcp/22223/p2p/16Uiu2HAmSvdvDvmhuQfgPRXURELhKMEpixdSMwJYi9E6GtEvEDgY","/ip4/172.18.157.108/tcp/22224/ws/p2p/16Uiu2HAmSvdvDvmhuQfgPRXURELhKMEpixdSMwJYi9E6GtEvEDgY"],"enrUri":"enr:-L24QIF87QXLP_y3NocNSDbdscnHArcWU478t1Turu062X33BE7P_iyYVjIoS6kYCjXJKfG0GSCVI7F8AOeSLxjkSCcCgmlkgnY0gmlwhKwSnWyKbXVsdGlhZGRyc5YACASsEp1sBlbPAAoErBKdbAZW0N0DgnJzhQADAQAAiXNlY3AyNTZrMaED1AXOo1NBrz5hXWI42HeDFqaGWr4zxNWxDpTgaModc12DdGNwglbPg3VkcIJW0YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22222/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.223/tcp/34229/p2p/16Uiu2HAmP3cRycNjBisiZHqjvdtiih2eHt3MvEJCpmLCHL5p92U5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-07_15-43-18__422f4d9e-4c1b-41a4-b484-77e6b51e8a99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.44.166
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10309', '10310', '10311', '10312', '10313']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10309:10309 -p 10310:10310 -p 10311:10311 -p 10312:10312 -p 10313:10313 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10311 --rest-port=10309 --tcp-port=10310 --discv5-udp-port=10312 --rest-address=0.0.0.0 --nat=extip:172.18.44.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f19d4bfb55a177fdb3c167a9bce8cbeaafc94fede31b1687236ae1d1c325ca0b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10313 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJ9Ull-4YMjtKNZhmt8uWw8BcwlJ_t5gVNx3iJFXDlv5ODc2imLczFeFq8A2Pbu5fp-4ZnfbNv2WqD15doYhvMsCgmlkgnY0gmlwhKwSY9-KbXVsdGlhZGRyc5YACASsEmPfBoW1AAoErBJj3waFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmmBxmpTJRaoYnVw-t6gUk_UkjskqDswdCW5vFeu1kLaDdGNwgoW1g3VkcIKFt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.44.166 waku 22e166fd49431e07aa5b925d4f8ad43a93dcdf1dc43bf845df6c5414052a3136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 22e166fd4943. Setting up logs at ./log/docker/node4_2024-11-07_15-43-18__422f4d9e-4c1b-41a4-b484-77e6b51e8a99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 10309
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10309/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10309/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.44.166/tcp/10310/p2p/16Uiu2HAmEBKYxAhaePmxik6ciFe9BvZoCpGWVVp2rzdVsvfA6if4","/ip4/172.18.44.166/tcp/10311/ws/p2p/16Uiu2HAmEBKYxAhaePmxik6ciFe9BvZoCpGWVVp2rzdVsvfA6if4"],"enrUri":"enr:-L24QB2qHppyuXXif4xqco9ie7vfamQ4nuoddbsQqlfs535wK_bUYNN9LPjSkCZbtOflEqC5CoaLevFGu1T5eYxGIhsCgmlkgnY0gmlwhKwSLKaKbXVsdGlhZGRyc5YACASsEiymBihGAAoErBIspgYoR90DgnJzhQADAQAAiXNlY3AyNTZrMaEDFqDSaT8w4E8-KvkRX1IK4eZq7gH6PE7ByGihLU8kqbuDdGNwgihGg3VkcIIoSIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10309/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.223/tcp/34229/p2p/16Uiu2HAmP3cRycNjBisiZHqjvdtiih2eHt3MvEJCpmLCHL5p92U5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-07_15-43-18__422f4d9e-4c1b-41a4-b484-77e6b51e8a99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.15.168
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56310', '56311', '56312', '56313', '56314']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56310:56310 -p 56311:56311 -p 56312:56312 -p 56313:56313 -p 56314:56314 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56312 --rest-port=56310 --tcp-port=56311 --discv5-udp-port=56313 --rest-address=0.0.0.0 --nat=extip:172.18.15.168 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ede2dc2867cac1fec0bce1bbe53cd1ae1fb9f291a7fcd823bf0aa24c135a0c6e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56314 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJ9Ull-4YMjtKNZhmt8uWw8BcwlJ_t5gVNx3iJFXDlv5ODc2imLczFeFq8A2Pbu5fp-4ZnfbNv2WqD15doYhvMsCgmlkgnY0gmlwhKwSY9-KbXVsdGlhZGRyc5YACASsEmPfBoW1AAoErBJj3waFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmmBxmpTJRaoYnVw-t6gUk_UkjskqDswdCW5vFeu1kLaDdGNwgoW1g3VkcIKFt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.15.168 waku d37b2dc96a023a7f89e873a15450457b31e6d49e90f697278e0e7e1bdea4e030
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d37b2dc96a02. Setting up logs at ./log/docker/node5_2024-11-07_15-43-18__422f4d9e-4c1b-41a4-b484-77e6b51e8a99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56310
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56310/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56310/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.168/tcp/56311/p2p/16Uiu2HAkz9kFZooMXqsN2FvqtZAE4vTDcTAupBaQ3AGGF5MfLZ62","/ip4/172.18.15.168/tcp/56312/ws/p2p/16Uiu2HAkz9kFZooMXqsN2FvqtZAE4vTDcTAupBaQ3AGGF5MfLZ62"],"enrUri":"enr:-L24QCm9l-ABau7Qo-H8cyCev-weTk1ak3l00h9wNxdhAvpcY_AV3qflHPBnojH8U9xh6XC78eflc_66hSM7c2HYs44CgmlkgnY0gmlwhKwSD6iKbXVsdGlhZGRyc5YACASsEg-oBtv3AAoErBIPqAbb-N0DgnJzhQADAQAAiXNlY3AyNTZrMaECRjX41IIKuPE0hLLRQ7bhAYalehNmgQvk45vOXiDRvHuDdGNwgtv3g3VkcILb-YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56310/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.223/tcp/34229/p2p/16Uiu2HAmP3cRycNjBisiZHqjvdtiih2eHt3MvEJCpmLCHL5p92U5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34228/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47531/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22222/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10309/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56310/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34228/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34228/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730994205966800640,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730994205966800640,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22222/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730994205966800640,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10309/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730994205966800640,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56310/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730994205966800640,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56310/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34228/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730994206113872896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47531/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730994206113872896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22222/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730994206113872896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10309/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730994206113872896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56310/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730994206113872896,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 120ed30e94f7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id efa09b9937a8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 120ed30e94f7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 90713db10e8d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container efa09b9937a8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 22e166fd4943
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 90713db10e8d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d37b2dc96a02
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 22e166fd4943. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.