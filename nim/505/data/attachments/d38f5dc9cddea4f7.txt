[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2024-12-06_04-12-27__911d5d04-169d-42b0-be96-d02cd7b02618
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-06_04-12-27__911d5d04-169d-42b0-be96-d02cd7b02618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.227.146
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39294', '39295', '39296', '39297', '39298']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39294:39294 -p 39295:39295 -p 39296:39296 -p 39297:39297 -p 39298:39298 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39296 --rest-port=39294 --tcp-port=39295 --discv5-udp-port=39297 --rest-address=0.0.0.0 --nat=extip:172.18.227.146 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6b92cc8fabcf6ade55cacc2afdde08fdaccdc93fc3e2160038ea44626abb6ccb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39298 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.227.146 waku 445b5f54cc14ce3e5d76b5ace7d10a8ec22050e9bfbe7f7c8a6978dd0523bf19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 445b5f54cc14. Setting up logs at ./log/docker/node1_2024-12-06_04-12-27__911d5d04-169d-42b0-be96-d02cd7b02618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 39294
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4342029f3739. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39294/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39294/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.227.146/tcp/39295/p2p/16Uiu2HAmNQMasEBqPdykbuTeTtfGpZkP2w4TueeurHazKekhj7QQ","/ip4/172.18.227.146/tcp/39296/ws/p2p/16Uiu2HAmNQMasEBqPdykbuTeTtfGpZkP2w4TueeurHazKekhj7QQ"],"enrUri":"enr:-L24QNuC5no5VDJ9S8tRLzaqLp24ypWCcJoX3zE6NsqSVk7RM15CZJGVM02Y6V-ILp9oDG_pEIIFrBe27IXeGoSfj64CgmlkgnY0gmlwhKwS45KKbXVsdGlhZGRyc5YACASsEuOSBpl_AAoErBLjkgaZgN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkNUqpT0Fp9DvgJjq_Fh0O3hz5SWnBKJIwObx5u0dClWDdGNwgpl_g3VkcIKZgYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-06_04-12-27__911d5d04-169d-42b0-be96-d02cd7b02618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.132.57
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41385', '41386', '41387', '41388', '41389']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41385:41385 -p 41386:41386 -p 41387:41387 -p 41388:41388 -p 41389:41389 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41387 --rest-port=41385 --tcp-port=41386 --discv5-udp-port=41388 --rest-address=0.0.0.0 --nat=extip:172.18.132.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dba4cb2a8e8a9b2ccd39a12e3efabf8f2e2cc07ebfefded5ab07f87ceccb38f4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41389 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QNuC5no5VDJ9S8tRLzaqLp24ypWCcJoX3zE6NsqSVk7RM15CZJGVM02Y6V-ILp9oDG_pEIIFrBe27IXeGoSfj64CgmlkgnY0gmlwhKwS45KKbXVsdGlhZGRyc5YACASsEuOSBpl_AAoErBLjkgaZgN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkNUqpT0Fp9DvgJjq_Fh0O3hz5SWnBKJIwObx5u0dClWDdGNwgpl_g3VkcIKZgYV3YWt1MgU --filternode=/ip4/172.18.227.146/tcp/39295/p2p/16Uiu2HAmNQMasEBqPdykbuTeTtfGpZkP2w4TueeurHazKekhj7QQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.132.57 waku 9d74c68ef2d45d9b924f248aedb1e8342a811173e9072b77e52cc8caf4433f2f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9d74c68ef2d4. Setting up logs at ./log/docker/node2_2024-12-06_04-12-27__911d5d04-169d-42b0-be96-d02cd7b02618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 41385
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41385/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41385/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.132.57/tcp/41386/p2p/16Uiu2HAm6xFRpJ6vqzJsqHJ5jX76eRpPpds9J2v54VB1U97gjxhj","/ip4/172.18.132.57/tcp/41387/ws/p2p/16Uiu2HAm6xFRpJ6vqzJsqHJ5jX76eRpPpds9J2v54VB1U97gjxhj"],"enrUri":"enr:-L24QOjo5vFUeIaA_lZ9jJDMvQv-aJHZY4l8c6iaZVufds80B5hW1n-dgsaTkdhX0-yPNNtYTIg7vDlNgy-kgGva8S0CgmlkgnY0gmlwhKwShDmKbXVsdGlhZGRyc5YACASsEoQ5BqGqAAoErBKEOQahq90DgnJzhQADAQAAiXNlY3AyNTZrMaECq0XNDcQIIRKdFQbZQ_zplBCFZecN_NOObU8nSLkT_zaDdGNwgqGqg3VkcIKhrIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41385/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.227.146/tcp/39295/p2p/16Uiu2HAmNQMasEBqPdykbuTeTtfGpZkP2w4TueeurHazKekhj7QQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39294/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41385/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "66951d2f-8a31-42a8-a7a7-78ddfaf73298", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"66951d2f-8a31-42a8-a7a7-78ddfaf73298","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X PUT "http://127.0.0.1:41385/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 445b5f54cc14
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9d74c68ef2d4
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 445b5f54cc14. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.