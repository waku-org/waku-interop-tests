[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-06_04-10-42__d6e83a13-1e1f-473b-a6bf-b2da846f1618
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-06_04-10-42__d6e83a13-1e1f-473b-a6bf-b2da846f1618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.83.183
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38053', '38054', '38055', '38056', '38057']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38053:38053 -p 38054:38054 -p 38055:38055 -p 38056:38056 -p 38057:38057 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38055 --rest-port=38053 --tcp-port=38054 --discv5-udp-port=38056 --rest-address=0.0.0.0 --nat=extip:172.18.83.183 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5c8ed6451c8f00decc2b7bdbd8b5342e00ba00bb0bafcffdeaeb98e6e9b8e3bf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38057 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.83.183 waku 2fb5a5f208260451a75bf11b205d29f685cea3d826a4c49c3b9ae22f2a60f93f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2fb5a5f20826. Setting up logs at ./log/docker/node1_2024-12-06_04-10-42__d6e83a13-1e1f-473b-a6bf-b2da846f1618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38053
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bf3beb1c0c25. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38053/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38053/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.83.183/tcp/38054/p2p/16Uiu2HAkxWKqk3W9o3P3UzjaaLrUyuR1FNgQgPzDw8aW9MnKksNL","/ip4/172.18.83.183/tcp/38055/ws/p2p/16Uiu2HAkxWKqk3W9o3P3UzjaaLrUyuR1FNgQgPzDw8aW9MnKksNL"],"enrUri":"enr:-L24QM75SeePWCtT92b4xmxBUlSy4hV8QY1Dy8Zslyv_4BFOChruPXN8jYiuSr6LnzZ11ncdGDNcyZscg_Z7_CrZOm0CgmlkgnY0gmlwhKwSU7eKbXVsdGlhZGRyc5YACASsElO3BpSmAAoErBJTtwaUp90DgnJzhQADAQAAiXNlY3AyNTZrMaECLcQxnVmUMid-7R11F2i4tcXsqXThZHF5sJTJ4gA0xtWDdGNwgpSmg3VkcIKUqIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-06_04-10-42__d6e83a13-1e1f-473b-a6bf-b2da846f1618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.240.200
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33511', '33512', '33513', '33514', '33515']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33511:33511 -p 33512:33512 -p 33513:33513 -p 33514:33514 -p 33515:33515 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33513 --rest-port=33511 --tcp-port=33512 --discv5-udp-port=33514 --rest-address=0.0.0.0 --nat=extip:172.18.240.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=11d6d0e9ed47bebecb8240c0ed0b3ecbf1aabfe5ae03e3006dd31b73f3c6a1ed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33515 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QM75SeePWCtT92b4xmxBUlSy4hV8QY1Dy8Zslyv_4BFOChruPXN8jYiuSr6LnzZ11ncdGDNcyZscg_Z7_CrZOm0CgmlkgnY0gmlwhKwSU7eKbXVsdGlhZGRyc5YACASsElO3BpSmAAoErBJTtwaUp90DgnJzhQADAQAAiXNlY3AyNTZrMaECLcQxnVmUMid-7R11F2i4tcXsqXThZHF5sJTJ4gA0xtWDdGNwgpSmg3VkcIKUqIV3YWt1MgU --filternode=/ip4/172.18.83.183/tcp/38054/p2p/16Uiu2HAkxWKqk3W9o3P3UzjaaLrUyuR1FNgQgPzDw8aW9MnKksNL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.240.200 waku 3fd3da5c6ee164b4f687dd75343795763132122e3dc769a1387ce3d018edb2d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3fd3da5c6ee1. Setting up logs at ./log/docker/node2_2024-12-06_04-10-42__d6e83a13-1e1f-473b-a6bf-b2da846f1618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 33511
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33511/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33511/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.200/tcp/33512/p2p/16Uiu2HAm7ZczQxFcowWuxGpnpD2mbf77tDtAVmazSt6GonbFpUoq","/ip4/172.18.240.200/tcp/33513/ws/p2p/16Uiu2HAm7ZczQxFcowWuxGpnpD2mbf77tDtAVmazSt6GonbFpUoq"],"enrUri":"enr:-L24QAmhrSa-Dd0t3OWJ9akPMptx4oIdf9FJP14rrSt96zbpPhRSDc_KMKRChGAFAnJnWbzoh0k2fRAaa42KRtJPzYACgmlkgnY0gmlwhKwS8MiKbXVsdGlhZGRyc5YACASsEvDIBoLoAAoErBLwyAaC6d0DgnJzhQADAQAAiXNlY3AyNTZrMaECtFWCczGhp5Dy7aIQ6PZS3xODRyg2GXP3xFVGKbWx4iCDdGNwgoLog3VkcIKC6oV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33511/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.83.183/tcp/38054/p2p/16Uiu2HAkxWKqk3W9o3P3UzjaaLrUyuR1FNgQgPzDw8aW9MnKksNL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-06_04-10-42__d6e83a13-1e1f-473b-a6bf-b2da846f1618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.250.0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51016', '51017', '51018', '51019', '51020']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51016:51016 -p 51017:51017 -p 51018:51018 -p 51019:51019 -p 51020:51020 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51018 --rest-port=51016 --tcp-port=51017 --discv5-udp-port=51019 --rest-address=0.0.0.0 --nat=extip:172.18.250.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c52b9b6ae034bc3631cf4fd936facfaf5de6e8a903b9d94ca4ed41128e2eafa6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51020 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QM75SeePWCtT92b4xmxBUlSy4hV8QY1Dy8Zslyv_4BFOChruPXN8jYiuSr6LnzZ11ncdGDNcyZscg_Z7_CrZOm0CgmlkgnY0gmlwhKwSU7eKbXVsdGlhZGRyc5YACASsElO3BpSmAAoErBJTtwaUp90DgnJzhQADAQAAiXNlY3AyNTZrMaECLcQxnVmUMid-7R11F2i4tcXsqXThZHF5sJTJ4gA0xtWDdGNwgpSmg3VkcIKUqIV3YWt1MgU --filternode=/ip4/172.18.83.183/tcp/38054/p2p/16Uiu2HAkxWKqk3W9o3P3UzjaaLrUyuR1FNgQgPzDw8aW9MnKksNL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.250.0 waku 1ba91e66a13ca540b616d3b21b9e1f13988e92ee1a895e07ee5d28757597fd3b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1ba91e66a13c. Setting up logs at ./log/docker/node3_2024-12-06_04-10-42__d6e83a13-1e1f-473b-a6bf-b2da846f1618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51016
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51016/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51016/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.0/tcp/51017/p2p/16Uiu2HAkw5e6auRr8fjFANiED5YwNw68EgWyUFYcGUF9UmrDoxxU","/ip4/172.18.250.0/tcp/51018/ws/p2p/16Uiu2HAkw5e6auRr8fjFANiED5YwNw68EgWyUFYcGUF9UmrDoxxU"],"enrUri":"enr:-L24QAMngwB1eC12nbSf7713GmsOFEECtDuK00g23LMUbX9dWyjd8tE1tFlVyEohx2ixauQKXt9Ue5QMzr-D1r2_f3QCgmlkgnY0gmlwhKwS-gCKbXVsdGlhZGRyc5YACASsEvoABsdJAAoErBL6AAbHSt0DgnJzhQADAQAAiXNlY3AyNTZrMaECGJWg8Ipz8hgOWFdKlMUezt1uE_iXxBlOu4iRXLEpqV2DdGNwgsdJg3VkcILHS4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51016/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.83.183/tcp/38054/p2p/16Uiu2HAkxWKqk3W9o3P3UzjaaLrUyuR1FNgQgPzDw8aW9MnKksNL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-06_04-10-42__d6e83a13-1e1f-473b-a6bf-b2da846f1618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.154.107
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7520', '7521', '7522', '7523', '7524']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7520:7520 -p 7521:7521 -p 7522:7522 -p 7523:7523 -p 7524:7524 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7522 --rest-port=7520 --tcp-port=7521 --discv5-udp-port=7523 --rest-address=0.0.0.0 --nat=extip:172.18.154.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=35edfdb7850d56e9b551b88e8f3f6e6bf8aeb0d41c1be49c3e40dbc60b92a026 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7524 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QM75SeePWCtT92b4xmxBUlSy4hV8QY1Dy8Zslyv_4BFOChruPXN8jYiuSr6LnzZ11ncdGDNcyZscg_Z7_CrZOm0CgmlkgnY0gmlwhKwSU7eKbXVsdGlhZGRyc5YACASsElO3BpSmAAoErBJTtwaUp90DgnJzhQADAQAAiXNlY3AyNTZrMaECLcQxnVmUMid-7R11F2i4tcXsqXThZHF5sJTJ4gA0xtWDdGNwgpSmg3VkcIKUqIV3YWt1MgU --filternode=/ip4/172.18.83.183/tcp/38054/p2p/16Uiu2HAkxWKqk3W9o3P3UzjaaLrUyuR1FNgQgPzDw8aW9MnKksNL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.154.107 waku 8f35ac22b7019ec5ffb8c73df27a78be8cad2de9d93f10e8789c2f3cfaf8c616
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8f35ac22b701. Setting up logs at ./log/docker/node4_2024-12-06_04-10-42__d6e83a13-1e1f-473b-a6bf-b2da846f1618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7520
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7520/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7520/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.107/tcp/7521/p2p/16Uiu2HAmLuQSEfciK4ipr3wnApZo6xXT76uqURBn2f8ByjWxc4yW","/ip4/172.18.154.107/tcp/7522/ws/p2p/16Uiu2HAmLuQSEfciK4ipr3wnApZo6xXT76uqURBn2f8ByjWxc4yW"],"enrUri":"enr:-L24QC1wRSG3JJBHoGBY2t0yFJgs5UEv5RBpBfXTaWVLhb-nD4fNZp2NqoRe4hEFErwN6F0r4I5lxIfC5Uektmj7WCgCgmlkgnY0gmlwhKwSmmuKbXVsdGlhZGRyc5YACASsEpprBh1hAAoErBKaawYdYt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDeo7cLLGiIGd7rLm4DuLxFDn9m1LWDKG_mlp02DIY68GDdGNwgh1hg3VkcIIdY4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7520/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.83.183/tcp/38054/p2p/16Uiu2HAkxWKqk3W9o3P3UzjaaLrUyuR1FNgQgPzDw8aW9MnKksNL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-06_04-10-42__d6e83a13-1e1f-473b-a6bf-b2da846f1618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.133.109
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45670', '45671', '45672', '45673', '45674']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45670:45670 -p 45671:45671 -p 45672:45672 -p 45673:45673 -p 45674:45674 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45672 --rest-port=45670 --tcp-port=45671 --discv5-udp-port=45673 --rest-address=0.0.0.0 --nat=extip:172.18.133.109 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=77ac5cca1ce759aa60ec58e81eead59cb9c7d242623adae0aeaf47fbd6f3b2bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45674 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QM75SeePWCtT92b4xmxBUlSy4hV8QY1Dy8Zslyv_4BFOChruPXN8jYiuSr6LnzZ11ncdGDNcyZscg_Z7_CrZOm0CgmlkgnY0gmlwhKwSU7eKbXVsdGlhZGRyc5YACASsElO3BpSmAAoErBJTtwaUp90DgnJzhQADAQAAiXNlY3AyNTZrMaECLcQxnVmUMid-7R11F2i4tcXsqXThZHF5sJTJ4gA0xtWDdGNwgpSmg3VkcIKUqIV3YWt1MgU --filternode=/ip4/172.18.83.183/tcp/38054/p2p/16Uiu2HAkxWKqk3W9o3P3UzjaaLrUyuR1FNgQgPzDw8aW9MnKksNL
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.195.22
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1074', '1075', '1076', '1077', '1078']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1074:1074 -p 1075:1075 -p 1076:1076 -p 1077:1077 -p 1078:1078 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1076 --rest-port=1074 --tcp-port=1075 --discv5-udp-port=1077 --rest-address=0.0.0.0 --nat=extip:172.18.195.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aafcedefcdccf99ec88cdb4cfbc54f125cc28b75baabf21aa39efbd2ca3bcceb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1078 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QM75SeePWCtT92b4xmxBUlSy4hV8QY1Dy8Zslyv_4BFOChruPXN8jYiuSr6LnzZ11ncdGDNcyZscg_Z7_CrZOm0CgmlkgnY0gmlwhKwSU7eKbXVsdGlhZGRyc5YACASsElO3BpSmAAoErBJTtwaUp90DgnJzhQADAQAAiXNlY3AyNTZrMaECLcQxnVmUMid-7R11F2i4tcXsqXThZHF5sJTJ4gA0xtWDdGNwgpSmg3VkcIKUqIV3YWt1MgU --filternode=/ip4/172.18.83.183/tcp/38054/p2p/16Uiu2HAkxWKqk3W9o3P3UzjaaLrUyuR1FNgQgPzDw8aW9MnKksNL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.195.22 waku 2b311f8d05d85a22c238bf84b67d1f721720a5c2e819598637bd216307dff1df
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2b311f8d05d8. Setting up logs at ./log/docker/node5_2024-12-06_04-10-42__d6e83a13-1e1f-473b-a6bf-b2da846f1618__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1074
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1074/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1074/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.195.22/tcp/1075/p2p/16Uiu2HAmBL7Lvbir32zU59fRXyTvqNQ1TtWX6zAjo3txMyKMGXEx","/ip4/172.18.195.22/tcp/1076/ws/p2p/16Uiu2HAmBL7Lvbir32zU59fRXyTvqNQ1TtWX6zAjo3txMyKMGXEx"],"enrUri":"enr:-L24QEoIHJGaakKTZciFTC3YL6FFFxa4g_S92JHeZqsaiF_aA9BIQdeklddgGCPA4kWkaeb4QJHCW3Zo0uAIqaBv9S0CgmlkgnY0gmlwhKwSwxaKbXVsdGlhZGRyc5YACASsEsMWBgQzAAoErBLDFgYENN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7E4vfbUS087FkZofWzD52Xl_ECEwcj2txRyjym-kjTmDdGNwggQzg3VkcIIENYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1074/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.83.183/tcp/38054/p2p/16Uiu2HAkxWKqk3W9o3P3UzjaaLrUyuR1FNgQgPzDw8aW9MnKksNL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38053/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33511/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a223c77f-83e6-4366-ba4e-60edfd555e09", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a223c77f-83e6-4366-ba4e-60edfd555e09","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51016/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7ad53178-b006-4334-a229-e9ebc9883983", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7ad53178-b006-4334-a229-e9ebc9883983","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7520/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "eb30c409-7007-4e1c-836f-490623ad4e42", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"eb30c409-7007-4e1c-836f-490623ad4e42","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1074/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e9859e8b-a2f4-4830-98c5-f439f209d0cb", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e9859e8b-a2f4-4830-98c5-f439f209d0cb","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38053/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33511/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733458251726549504,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38053/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51016/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:51016/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2fb5a5f20826
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3fd3da5c6ee1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2fb5a5f20826. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1ba91e66a13c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3fd3da5c6ee1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8f35ac22b701
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1ba91e66a13c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2b311f8d05d8
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8f35ac22b701. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.