[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-06_04-18-06__33588da1-7423-49fe-85f0-183abf0667cf
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-06_04-18-06__33588da1-7423-49fe-85f0-183abf0667cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.139.110
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16255', '16256', '16257', '16258', '16259']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16255:16255 -p 16256:16256 -p 16257:16257 -p 16258:16258 -p 16259:16259 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16257 --rest-port=16255 --tcp-port=16256 --discv5-udp-port=16258 --rest-address=0.0.0.0 --nat=extip:172.18.139.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4ba80a7ad7aaadf2d535d773f9a9dd7ea3eedff042e982e1f498d7d789a7d837 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16259 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.139.110 waku f4abb8c86e36f2268303996e8aaf9839cece259ea7380cd36d363eb81a6f4cd0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f4abb8c86e36. Setting up logs at ./log/docker/node1_2024-12-06_04-18-06__33588da1-7423-49fe-85f0-183abf0667cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 16255
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7a4b9356f603. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16255/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16255/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.139.110/tcp/16256/p2p/16Uiu2HAmQmB2PtsFr74EZHxxGvy7QMPbqcQeWmRoLuMmpNqVsGGc","/ip4/172.18.139.110/tcp/16257/ws/p2p/16Uiu2HAmQmB2PtsFr74EZHxxGvy7QMPbqcQeWmRoLuMmpNqVsGGc"],"enrUri":"enr:-L24QKA2AJnYfqVRYlQ30f8m2ZqvBCu8mlqOhUgEwMsoLK6dHWVA_gKDmvbIi3USOBvT8-pnRmH33bFYzXfFgkxDcLECgmlkgnY0gmlwhKwSi26KbXVsdGlhZGRyc5YACASsEotuBj-AAAoErBKLbgY_gd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDs-HMIEWQPQ40Fv-FXXd0s1_CSpk9Xi7SBJ0bKJI_7PWDdGNwgj-Ag3VkcII_goV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-06_04-18-06__33588da1-7423-49fe-85f0-183abf0667cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.241.21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24535', '24536', '24537', '24538', '24539']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24535:24535 -p 24536:24536 -p 24537:24537 -p 24538:24538 -p 24539:24539 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24537 --rest-port=24535 --tcp-port=24536 --discv5-udp-port=24538 --rest-address=0.0.0.0 --nat=extip:172.18.241.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4c7ebffa7513fb7c8c1cccadab7dfabd1d5c4eccf99c920dd2b70eab8eefd206 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24539 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKA2AJnYfqVRYlQ30f8m2ZqvBCu8mlqOhUgEwMsoLK6dHWVA_gKDmvbIi3USOBvT8-pnRmH33bFYzXfFgkxDcLECgmlkgnY0gmlwhKwSi26KbXVsdGlhZGRyc5YACASsEotuBj-AAAoErBKLbgY_gd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDs-HMIEWQPQ40Fv-FXXd0s1_CSpk9Xi7SBJ0bKJI_7PWDdGNwgj-Ag3VkcII_goV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.241.21 waku fe8ba9cc0341205c1664bb4d4b6e2fb77a1fa4a514d9c080e8816c2f20d7adca
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fe8ba9cc0341. Setting up logs at ./log/docker/node2_2024-12-06_04-18-06__33588da1-7423-49fe-85f0-183abf0667cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 24535
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24535/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24535/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.21/tcp/24536/p2p/16Uiu2HAmVj2ArQWxvh1Xaf2wpcFnCxfekqYXemTXjciXYYXCYZwe","/ip4/172.18.241.21/tcp/24537/ws/p2p/16Uiu2HAmVj2ArQWxvh1Xaf2wpcFnCxfekqYXemTXjciXYYXCYZwe"],"enrUri":"enr:-L24QNq3b09dmVXlSPGOOEYNPeRIPG2wBVINAZsT3IpyWZtiLoctdyeLpRmzE2NuWLSOb0wBEGQxzwE_9oPGC26rJyACgmlkgnY0gmlwhKwS8RWKbXVsdGlhZGRyc5YACASsEvEVBl_YAAoErBLxFQZf2d0DgnJzhQADAQAAiXNlY3AyNTZrMaED_Z8PFUqVklbLTyli2_pveAEP6wylHyS09WgiTa7E_2mDdGNwgl_Yg3VkcIJf2oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24535/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.139.110/tcp/16256/p2p/16Uiu2HAmQmB2PtsFr74EZHxxGvy7QMPbqcQeWmRoLuMmpNqVsGGc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-06_04-18-06__33588da1-7423-49fe-85f0-183abf0667cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.83.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8035', '8036', '8037', '8038', '8039']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8035:8035 -p 8036:8036 -p 8037:8037 -p 8038:8038 -p 8039:8039 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8037 --rest-port=8035 --tcp-port=8036 --discv5-udp-port=8038 --rest-address=0.0.0.0 --nat=extip:172.18.83.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4ecdab04a29daf4f408bdfc9d40fcbe49c2f3bd44dff692adf857c3eeebf51fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8039 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKA2AJnYfqVRYlQ30f8m2ZqvBCu8mlqOhUgEwMsoLK6dHWVA_gKDmvbIi3USOBvT8-pnRmH33bFYzXfFgkxDcLECgmlkgnY0gmlwhKwSi26KbXVsdGlhZGRyc5YACASsEotuBj-AAAoErBKLbgY_gd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDs-HMIEWQPQ40Fv-FXXd0s1_CSpk9Xi7SBJ0bKJI_7PWDdGNwgj-Ag3VkcII_goV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.83.6 waku 69fabb574a3c8bc3c6d1cce844923c92ea723cdc2f30a3792af3e76844f142ae
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 69fabb574a3c. Setting up logs at ./log/docker/node3_2024-12-06_04-18-06__33588da1-7423-49fe-85f0-183abf0667cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 8035
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8035/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8035/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.83.6/tcp/8036/p2p/16Uiu2HAmSJkxeHcdsagcNEeMaMXS36nxYTJPMZPBJCHMJrBngHBc","/ip4/172.18.83.6/tcp/8037/ws/p2p/16Uiu2HAmSJkxeHcdsagcNEeMaMXS36nxYTJPMZPBJCHMJrBngHBc"],"enrUri":"enr:-L24QLsi3TxH4YR-G_r5NlE367XoOmd5YTA1URbw_mnP5JRRNzm4yRBC5-1GoFJggrCC9C1OIc3iG-9W8DmlxXY8-boCgmlkgnY0gmlwhKwSUwaKbXVsdGlhZGRyc5YACASsElMGBh9kAAoErBJTBgYfZd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDytTcMyhIDlGEJ8cGMB8K8upQsBjgtNvDtBWwFR2OYY-DdGNwgh9kg3VkcIIfZoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8035/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.139.110/tcp/16256/p2p/16Uiu2HAmQmB2PtsFr74EZHxxGvy7QMPbqcQeWmRoLuMmpNqVsGGc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-06_04-18-06__33588da1-7423-49fe-85f0-183abf0667cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.132.196
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40336', '40337', '40338', '40339', '40340']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40336:40336 -p 40337:40337 -p 40338:40338 -p 40339:40339 -p 40340:40340 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40338 --rest-port=40336 --tcp-port=40337 --discv5-udp-port=40339 --rest-address=0.0.0.0 --nat=extip:172.18.132.196 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7d5f90ffc02c1df8dcb137bbdaffdefde24fb82a3afedba9e401c0badeac3a2e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40340 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKA2AJnYfqVRYlQ30f8m2ZqvBCu8mlqOhUgEwMsoLK6dHWVA_gKDmvbIi3USOBvT8-pnRmH33bFYzXfFgkxDcLECgmlkgnY0gmlwhKwSi26KbXVsdGlhZGRyc5YACASsEotuBj-AAAoErBKLbgY_gd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDs-HMIEWQPQ40Fv-FXXd0s1_CSpk9Xi7SBJ0bKJI_7PWDdGNwgj-Ag3VkcII_goV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.132.196 waku d60caf5f440467222b9e42c2314d44c101c4fd56fc142255f96f7bdf93e7fdfe
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d60caf5f4404. Setting up logs at ./log/docker/node4_2024-12-06_04-18-06__33588da1-7423-49fe-85f0-183abf0667cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 40336
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40336/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40336/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.132.196/tcp/40337/p2p/16Uiu2HAm2YZwhnCXjdDDCHUvDdKbkNbcFtRz85oi1DLqbQNfk1mR","/ip4/172.18.132.196/tcp/40338/ws/p2p/16Uiu2HAm2YZwhnCXjdDDCHUvDdKbkNbcFtRz85oi1DLqbQNfk1mR"],"enrUri":"enr:-L24QCIKQOelH5jaX-U93RKZWa2mKHi-MJ2U_mcdmsb0aI5SHenuxtSejPHeqxqTZdmy-_DRnhrqr-PFcDJr-q1C4Z4CgmlkgnY0gmlwhKwShMSKbXVsdGlhZGRyc5YACASsEoTEBp2RAAoErBKExAadkt0DgnJzhQADAQAAiXNlY3AyNTZrMaECacYMl7GEn_0uCSmG9iGSufL5W5MajkPglJXTQ483-AiDdGNwgp2Rg3VkcIKdk4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40336/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.139.110/tcp/16256/p2p/16Uiu2HAmQmB2PtsFr74EZHxxGvy7QMPbqcQeWmRoLuMmpNqVsGGc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-06_04-18-06__33588da1-7423-49fe-85f0-183abf0667cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.63.57
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42020', '42021', '42022', '42023', '42024']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42020:42020 -p 42021:42021 -p 42022:42022 -p 42023:42023 -p 42024:42024 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42022 --rest-port=42020 --tcp-port=42021 --discv5-udp-port=42023 --rest-address=0.0.0.0 --nat=extip:172.18.63.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=818c4d2b7daa0f5bcc85fd6c1c0bdac5deaae371a542b7562400ed62bcb0efed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42024 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKA2AJnYfqVRYlQ30f8m2ZqvBCu8mlqOhUgEwMsoLK6dHWVA_gKDmvbIi3USOBvT8-pnRmH33bFYzXfFgkxDcLECgmlkgnY0gmlwhKwSi26KbXVsdGlhZGRyc5YACASsEotuBj-AAAoErBKLbgY_gd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDs-HMIEWQPQ40Fv-FXXd0s1_CSpk9Xi7SBJ0bKJI_7PWDdGNwgj-Ag3VkcII_goV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.63.57 waku 64d9edf1b4973aad35c957e67a06089e2abecec6d538c9f9d15a0e0d328b83c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 64d9edf1b497. Setting up logs at ./log/docker/node5_2024-12-06_04-18-06__33588da1-7423-49fe-85f0-183abf0667cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42020
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42020/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42020/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.57/tcp/42021/p2p/16Uiu2HAmSMES8vuLXDF9cmZG1KUGA62YhnRKesQ9MmSqLBQH3MpY","/ip4/172.18.63.57/tcp/42022/ws/p2p/16Uiu2HAmSMES8vuLXDF9cmZG1KUGA62YhnRKesQ9MmSqLBQH3MpY"],"enrUri":"enr:-L24QNSqeR-CiMibIbV9YcqrMZ9NFGc8KF3WVPBIWMaZWy9mZaPIYwQqjgKRoCVlrc6p2mKG9wnkn-ih1Q7YZq0CHPECgmlkgnY0gmlwhKwSPzmKbXVsdGlhZGRyc5YACASsEj85BqQlAAoErBI_OQakJt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDy3cWNe_pECyhp9Np0VJGANMDnDbzOf_SixdLus24GEWDdGNwgqQlg3VkcIKkJ4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42020/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.139.110/tcp/16256/p2p/16Uiu2HAmQmB2PtsFr74EZHxxGvy7QMPbqcQeWmRoLuMmpNqVsGGc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16255/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24535/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8035/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40336/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42020/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16255/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16255/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733458694722064384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733458694722064384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733458694722064384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40336/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733458694722064384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733458694722064384,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16255/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733458694848475136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733458694848475136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733458694848475136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40336/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733458694848475136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733458694848475136,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f4abb8c86e36
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fe8ba9cc0341
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f4abb8c86e36. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 69fabb574a3c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fe8ba9cc0341. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d60caf5f4404
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 69fabb574a3c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 64d9edf1b497
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d60caf5f4404. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.