[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_matches_multiple_messages with id: 2024-09-02_04-37-10__b834cd63-5510-42d8-bbae-9d38c2dce0c0
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-02_04-37-10__b834cd63-5510-42d8-bbae-9d38c2dce0c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.47.146
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['4627', '4628', '4629', '4630', '4631']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 4627:4627 -p 4628:4628 -p 4629:4629 -p 4630:4630 -p 4631:4631 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4629 --rest-port=4627 --tcp-port=4628 --discv5-udp-port=4630 --rest-address=0.0.0.0 --nat=extip:172.18.47.146 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebede1eec7b9ae85d6b32baeeb1d8100ad15ceb35142b3d7da8c2c427cdc76de --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4631 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.47.146 waku 1865659a5de13e6afc311c5fb24bc7a15211b1df1c9a10510546c63332555460
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1865659a5de1. Setting up logs at ./log/docker/publishing_node1_2024-09-02_04-37-10__b834cd63-5510-42d8-bbae-9d38c2dce0c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4627
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4627/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4627/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.47.146/tcp/4628/p2p/16Uiu2HAm8VXLPACC3ayNpDGvZ87ETqjuhGSjxVNNTMpTvKR1fVWL","/ip4/172.18.47.146/tcp/4629/ws/p2p/16Uiu2HAm8VXLPACC3ayNpDGvZ87ETqjuhGSjxVNNTMpTvKR1fVWL"],"enrUri":"enr:-LO4QLwt23VZpEuh27pAhjPwWO-xjQkssBYFwUFBcewJUy9fEtb_OpFd3BeyU9zLonIfdzyVeNJekyG-KuC3fWSRaDsBgmlkgnY0gmlwhKwSL5KKbXVsdGlhZGRyc4wACgSsEi-SBhIV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLCJHp0DsK7ipI_xxpHIddaVBnmJDmETiumWawZCqIshYN0Y3CCEhSDdWRwghIWhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-02_04-37-10__b834cd63-5510-42d8-bbae-9d38c2dce0c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.1.71
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44798', '44799', '44800', '44801', '44802']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44798:44798 -p 44799:44799 -p 44800:44800 -p 44801:44801 -p 44802:44802 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44800 --rest-port=44798 --tcp-port=44799 --discv5-udp-port=44801 --rest-address=0.0.0.0 --nat=extip:172.18.1.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=baaffe299fc1e9dcdcbcdace32c8a55c89c19e3ed64d73abafb03ce0aec321db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44802 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLwt23VZpEuh27pAhjPwWO-xjQkssBYFwUFBcewJUy9fEtb_OpFd3BeyU9zLonIfdzyVeNJekyG-KuC3fWSRaDsBgmlkgnY0gmlwhKwSL5KKbXVsdGlhZGRyc4wACgSsEi-SBhIV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLCJHp0DsK7ipI_xxpHIddaVBnmJDmETiumWawZCqIshYN0Y3CCEhSDdWRwghIWhXdha3UyAw --storenode=/ip4/172.18.47.146/tcp/4628/p2p/16Uiu2HAm8VXLPACC3ayNpDGvZ87ETqjuhGSjxVNNTMpTvKR1fVWL --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.1.71 waku 6667bd0b758a19124ce44f7396d80fc99518f00f80b928c4e2b8c1c4a76468ab
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6667bd0b758a. Setting up logs at ./log/docker/store_node1_2024-09-02_04-37-10__b834cd63-5510-42d8-bbae-9d38c2dce0c0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44798
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44798/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44798/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.1.71/tcp/44799/p2p/16Uiu2HAm6SsRfcRJgMsnDvi1kWkcnZFFcmGjsic68iJwpq1ur8zR","/ip4/172.18.1.71/tcp/44800/ws/p2p/16Uiu2HAm6SsRfcRJgMsnDvi1kWkcnZFFcmGjsic68iJwpq1ur8zR"],"enrUri":"enr:-LO4QBOqpFwYkJMgTE7k5z2abIr33TVjh-I2e6BfgJsM3xgjQP1AdNuTvI2xV1xyD0n4-yUkTHzXlQfiTap-GrjxSwEBgmlkgnY0gmlwhKwSAUeKbXVsdGlhZGRyc4wACgSsEgFHBq8A3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKjvxRB22OOfNyrHqQzuNI5H7zcwgNa8KxrIBsJX-LHZoN0Y3CCrv-DdWRwgq8BhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44798/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.47.146/tcp/4628/p2p/16Uiu2HAm8VXLPACC3ayNpDGvZ87ETqjuhGSjxVNNTMpTvKR1fVWL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4627/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44798/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4627/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4627/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4627/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4627/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4627/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4627/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4627/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1725251827220852064&endTime=1725251832221064864&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"OzGbc2koqXLy/T9/+0AbTe98E7qW+cjATFAAQpFrwDE="},{"messageHash":"AOXZDKTWCa8xv8zk9mZvISMkebhl2LSQ7bxhannnZxE="},{"messageHash":"4VqnRCrzGoMZFBjL/mqMt78N6CAgyTmpReztim7dzQk="},{"messageHash":"drmYHaT1tAUTyBSRj37bnO4S5FYpCSAy+txvdzWBlV0="},{"messageHash":"Va+WENfkvVX3kx5i2DrtZfM9e3t4L+jCj1KtoQFWn6c="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44798/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1725251827220852064&endTime=1725251832221064864&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"OzGbc2koqXLy/T9/+0AbTe98E7qW+cjATFAAQpFrwDE="},{"messageHash":"AOXZDKTWCa8xv8zk9mZvISMkebhl2LSQ7bxhannnZxE="},{"messageHash":"4VqnRCrzGoMZFBjL/mqMt78N6CAgyTmpReztim7dzQk="},{"messageHash":"drmYHaT1tAUTyBSRj37bnO4S5FYpCSAy+txvdzWBlV0="},{"messageHash":"Va+WENfkvVX3kx5i2DrtZfM9e3t4L+jCj1KtoQFWn6c="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1865659a5de1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6667bd0b758a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.