[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_with_no_content_topic with id: 2024-09-02_04-17-18__c35aa8d3-f57d-49e7-bf68-a354302ee905
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-02_04-17-18__c35aa8d3-f57d-49e7-bf68-a354302ee905__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.100.45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63642', '63643', '63644', '63645', '63646']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63642:63642 -p 63643:63643 -p 63644:63644 -p 63645:63645 -p 63646:63646 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63644 --rest-port=63642 --tcp-port=63643 --discv5-udp-port=63645 --rest-address=0.0.0.0 --nat=extip:172.18.100.45 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=028f061b8b6d8d06deda03f8eff2aeb612b8f8ecbdc8a11dbd3ecf9caf041eaa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63646 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.100.45 waku a66e434ebd3cc3076cde32bb2954fcc626b47c09074195d221f94fcbb89f6c3b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a66e434ebd3c. Setting up logs at ./log/docker/node1_2024-09-02_04-17-18__c35aa8d3-f57d-49e7-bf68-a354302ee905__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63642
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63642/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63642/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.100.45/tcp/63643/p2p/16Uiu2HAm3qWjZhn1TMAFTAd2kTt1kMMPNaoGEMZd38VdYM9vK1N7","/ip4/172.18.100.45/tcp/63644/ws/p2p/16Uiu2HAm3qWjZhn1TMAFTAd2kTt1kMMPNaoGEMZd38VdYM9vK1N7"],"enrUri":"enr:-LO4QCkqwYclOdwDcOjVlo6LUdJoNESkXTVBh-XhyBuK1Z5eXdiPVS2e27FfCFDXkycPYgnQpVnAUHZy0knmn0bpCOYBgmlkgnY0gmlwhKwSZC2KbXVsdGlhZGRyc4wACgSsEmQtBvic3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ8-Pspxt7yJ7L0ZyxzrN6b5vTnHIFBu8WghPNwGGVHaIN0Y3CC-JuDdWRwgvidhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-02_04-17-18__c35aa8d3-f57d-49e7-bf68-a354302ee905__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.195.9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['27357', '27358', '27359', '27360', '27361']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 27357:27357 -p 27358:27358 -p 27359:27359 -p 27360:27360 -p 27361:27361 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27359 --rest-port=27357 --tcp-port=27358 --discv5-udp-port=27360 --rest-address=0.0.0.0 --nat=extip:172.18.195.9 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c961ca6af49b1c57f2d4b7e4cc2b015df21d935db540effa540eebb1df985b44 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27361 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCkqwYclOdwDcOjVlo6LUdJoNESkXTVBh-XhyBuK1Z5eXdiPVS2e27FfCFDXkycPYgnQpVnAUHZy0knmn0bpCOYBgmlkgnY0gmlwhKwSZC2KbXVsdGlhZGRyc4wACgSsEmQtBvic3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ8-Pspxt7yJ7L0ZyxzrN6b5vTnHIFBu8WghPNwGGVHaIN0Y3CC-JuDdWRwgvidhXdha3UyBQ --filternode=/ip4/172.18.100.45/tcp/63643/p2p/16Uiu2HAm3qWjZhn1TMAFTAd2kTt1kMMPNaoGEMZd38VdYM9vK1N7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.195.9 waku e1d2fd6162b7fa80563c72033efe8a9f9a99e1285422b370739665424f1e7875
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e1d2fd6162b7. Setting up logs at ./log/docker/node2_2024-09-02_04-17-18__c35aa8d3-f57d-49e7-bf68-a354302ee905__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 27357
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27357/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27357/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.195.9/tcp/27358/p2p/16Uiu2HAkymUNhfQfj9ZqsGLYfKhhPSEkAhqidd71xjBytvmz1yfz","/ip4/172.18.195.9/tcp/27359/ws/p2p/16Uiu2HAkymUNhfQfj9ZqsGLYfKhhPSEkAhqidd71xjBytvmz1yfz"],"enrUri":"enr:-LO4QHJrYITDDcjANgc7S3WVYiXANEyNVt67B_kpIcQ8roDmZEBotLGIZFMgcpvMoflMBOUPyCDX7RucBl630DTwwQwBgmlkgnY0gmlwhKwSwwmKbXVsdGlhZGRyc4wACgSsEsMJBmrf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJAgT32UqUXrhQEEEfVA6yaRgjhUVfqHS0G1bXQPE7HhYN0Y3CCat6DdWRwgmrghXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27357/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.100.45/tcp/63643/p2p/16Uiu2HAm3qWjZhn1TMAFTAd2kTt1kMMPNaoGEMZd38VdYM9vK1N7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63642/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27357/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a6ba7e46-3c56-47e5-b3ad-07dc7cf759ae", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a6ba7e46-3c56-47e5-b3ad-07dc7cf759ae","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27357/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27357/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a66e434ebd3c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e1d2fd6162b7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.