[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_unsubscribe_with_invalid_pubsub_topic_format with id: 2024-11-17_04-20-39__ecb4c525-9da7-4177-adb3-3238b5bdc71e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-17_04-20-39__ecb4c525-9da7-4177-adb3-3238b5bdc71e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.216.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5603', '5604', '5605', '5606', '5607']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5603:5603 -p 5604:5604 -p 5605:5605 -p 5606:5606 -p 5607:5607 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5605 --rest-port=5603 --tcp-port=5604 --discv5-udp-port=5606 --rest-address=0.0.0.0 --nat=extip:172.18.216.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f94e23dbc8f91afab834fdda7a77eac0133b5f67ae5b65bba21dbf6a71a3f5ef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5607 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.216.68 waku c62c0d900f50bf2aaa8b1e585f48a469738a6f13c045ccb57d1cb72383e6a0ca
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c62c0d900f50. Setting up logs at ./log/docker/node1_2024-11-17_04-20-39__ecb4c525-9da7-4177-adb3-3238b5bdc71e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 5603
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b7cba29b5044. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5603/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5603/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.68/tcp/5604/p2p/16Uiu2HAmUrypkF9eY9fDLLNkgFoCf9f4CeTPhB8vm5jVHQpqy5wZ","/ip4/172.18.216.68/tcp/5605/ws/p2p/16Uiu2HAmUrypkF9eY9fDLLNkgFoCf9f4CeTPhB8vm5jVHQpqy5wZ"],"enrUri":"enr:-L24QFpkomVabPhXuxg0-D-BQtxgCV45CE_7bllDQdUNy-OtG7gfxjBdDaVA0hbgkz46l6jXQLhtAramkHsAgKY76j8CgmlkgnY0gmlwhKwS2ESKbXVsdGlhZGRyc5YACASsEthEBhXkAAoErBLYRAYV5d0DgnJzhQADAQAAiXNlY3AyNTZrMaED8M1ddnbpnWQbClO_1SnzTFmwjph85pkg-0XBHZy3nMyDdGNwghXkg3VkcIIV5oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-17_04-20-39__ecb4c525-9da7-4177-adb3-3238b5bdc71e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.239.18
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52288', '52289', '52290', '52291', '52292']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52288:52288 -p 52289:52289 -p 52290:52290 -p 52291:52291 -p 52292:52292 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52290 --rest-port=52288 --tcp-port=52289 --discv5-udp-port=52291 --rest-address=0.0.0.0 --nat=extip:172.18.239.18 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff8f5a3b2bf52bf78afbf0cd45e8cc8e03ada1fbeb0ff9ccfccbbdbea7c1decd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52292 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFpkomVabPhXuxg0-D-BQtxgCV45CE_7bllDQdUNy-OtG7gfxjBdDaVA0hbgkz46l6jXQLhtAramkHsAgKY76j8CgmlkgnY0gmlwhKwS2ESKbXVsdGlhZGRyc5YACASsEthEBhXkAAoErBLYRAYV5d0DgnJzhQADAQAAiXNlY3AyNTZrMaED8M1ddnbpnWQbClO_1SnzTFmwjph85pkg-0XBHZy3nMyDdGNwghXkg3VkcIIV5oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.239.18 waku 26a28d7b6a0c2bf014900595a0f3e78b28e58579ad4ff8b2fbc8ac262e6f2b39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 26a28d7b6a0c. Setting up logs at ./log/docker/node2_2024-11-17_04-20-39__ecb4c525-9da7-4177-adb3-3238b5bdc71e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 52288
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52288/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52288/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.239.18/tcp/52289/p2p/16Uiu2HAkxBpWSu9f8oCk7wxdTtQwtB5Fb4PmScjDQV2pq57SScEy","/ip4/172.18.239.18/tcp/52290/ws/p2p/16Uiu2HAkxBpWSu9f8oCk7wxdTtQwtB5Fb4PmScjDQV2pq57SScEy"],"enrUri":"enr:-L24QP0QjV9_OSxbKbuFkuDqkDd3TLGQVQVyzy-aEgcEQjifK46BOXPPiIxizXn_in8xnT5PHnytm7TGd87YgNcm6NsCgmlkgnY0gmlwhKwS7xKKbXVsdGlhZGRyc5YACASsEu8SBsxBAAoErBLvEgbMQt0DgnJzhQADAQAAiXNlY3AyNTZrMaECKQaSmsNbEE7hVX7phf5VYxgOyM2_Jgf6r4IIGWNBx06DdGNwgsxBg3VkcILMQ4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52288/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.68/tcp/5604/p2p/16Uiu2HAmUrypkF9eY9fDLLNkgFoCf9f4CeTPhB8vm5jVHQpqy5wZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /test/2/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:5603/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5603/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/3/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:5603/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5603/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/test/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:5603/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5603/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/3/b
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:5603/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5603/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:5603/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:5603/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c62c0d900f50
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 26a28d7b6a0c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c62c0d900f50. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.