[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_content_topic with id: 2024-12-25_16-56-42__d47a119a-1e98-4209-a465-1eaf3fb3c38a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-25_16-56-42__d47a119a-1e98-4209-a465-1eaf3fb3c38a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.78.116
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29832', '29833', '29834', '29835', '29836']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29832:29832 -p 29833:29833 -p 29834:29834 -p 29835:29835 -p 29836:29836 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29834 --rest-port=29832 --tcp-port=29833 --discv5-udp-port=29835 --rest-address=0.0.0.0 --nat=extip:172.18.78.116 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=40a0c08aa0dddb866bd43648c5cbff937e9e20efd1ef24035c0d24d5fa27f9dc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29836 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.78.116 waku 188c6a14cbd6f97712dfaefb57eb7f5f9d59c25c1b7460dae900877e2f344b4f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 188c6a14cbd6. Setting up logs at ./log/docker/node1_2024-12-25_16-56-42__d47a119a-1e98-4209-a465-1eaf3fb3c38a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29832
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 869906b84815. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29832/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29832/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.116/tcp/29833/p2p/16Uiu2HAmE3D6vUQn4GsMXo25epq3KUWMP4TQ83sKnocEMFtN5P1Y","/ip4/172.18.78.116/tcp/29834/ws/p2p/16Uiu2HAmE3D6vUQn4GsMXo25epq3KUWMP4TQ83sKnocEMFtN5P1Y"],"enrUri":"enr:-L24QOTgMk0To2twqooSVA2QVHR3HTN_QXRYEvvxV5APfAU3alCBNiXYcdmF-3Pf4FJeNDPq1kHkbVf3sK-xPwvLqvgCgmlkgnY0gmlwhKwSTnSKbXVsdGlhZGRyc5YACASsEk50BnSJAAoErBJOdAZ0it0DgnJzhQADAQAAiXNlY3AyNTZrMaEDFIziP-VXyWDZPA4uICDMKakYNvOUm2hL5g9HS1EMD4eDdGNwgnSJg3VkcIJ0i4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-25_16-56-42__d47a119a-1e98-4209-a465-1eaf3fb3c38a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.96.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52130', '52131', '52132', '52133', '52134']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52130:52130 -p 52131:52131 -p 52132:52132 -p 52133:52133 -p 52134:52134 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52132 --rest-port=52130 --tcp-port=52131 --discv5-udp-port=52133 --rest-address=0.0.0.0 --nat=extip:172.18.96.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9ad50055bb19eb05db2dfbe8a5fdd0cf7ba5a68f860059f7b25e0dc04626bba8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52134 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOTgMk0To2twqooSVA2QVHR3HTN_QXRYEvvxV5APfAU3alCBNiXYcdmF-3Pf4FJeNDPq1kHkbVf3sK-xPwvLqvgCgmlkgnY0gmlwhKwSTnSKbXVsdGlhZGRyc5YACASsEk50BnSJAAoErBJOdAZ0it0DgnJzhQADAQAAiXNlY3AyNTZrMaEDFIziP-VXyWDZPA4uICDMKakYNvOUm2hL5g9HS1EMD4eDdGNwgnSJg3VkcIJ0i4V3YWt1MgU --filternode=/ip4/172.18.78.116/tcp/29833/p2p/16Uiu2HAmE3D6vUQn4GsMXo25epq3KUWMP4TQ83sKnocEMFtN5P1Y
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.96.222 waku d2c06a99cc000184afff0aea6b46ba2cd875d16fe06019c9b4b6d8c08252aed1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d2c06a99cc00. Setting up logs at ./log/docker/node2_2024-12-25_16-56-42__d47a119a-1e98-4209-a465-1eaf3fb3c38a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 52130
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52130/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52130/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.222/tcp/52131/p2p/16Uiu2HAm9MxDFu6Hm6xjs9VqvivmcmzwhFQ3De8zWntWaPixqiWx","/ip4/172.18.96.222/tcp/52132/ws/p2p/16Uiu2HAm9MxDFu6Hm6xjs9VqvivmcmzwhFQ3De8zWntWaPixqiWx"],"enrUri":"enr:-L24QF3fxTUW-Mvrlh0OcCsTLvhUyT4fNozg3TXAeieEwJ_RScUc_LrV3TB2HUfvSTIzi9emfTRaetrMJA_vSft2gdACgmlkgnY0gmlwhKwSYN6KbXVsdGlhZGRyc5YACASsEmDeBsujAAoErBJg3gbLpN0DgnJzhQADAQAAiXNlY3AyNTZrMaECzw-lwMU66zUGghk6R5itYd_BEPTi3H7MdYQyBgxWKR2DdGNwgsujg3VkcILLpYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52130/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.78.116/tcp/29833/p2p/16Uiu2HAmE3D6vUQn4GsMXo25epq3KUWMP4TQ83sKnocEMFtN5P1Y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29832/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52130/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9be5af69-3de2-4916-82c6-2b03ca71a978", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9be5af69-3de2-4916-82c6-2b03ca71a978","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:52130/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:52130/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 188c6a14cbd6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d2c06a99cc00
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 188c6a14cbd6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.