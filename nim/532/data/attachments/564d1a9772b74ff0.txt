[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_big_timestamp with id: 2024-12-19_04-26-36__a912f42b-23f4-4f2f-a191-372f0d197f7a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-12-19_04-26-36__a912f42b-23f4-4f2f-a191-372f0d197f7a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.81.33
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24253', '24254', '24255', '24256', '24257']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24253:24253 -p 24254:24254 -p 24255:24255 -p 24256:24256 -p 24257:24257 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24255 --rest-port=24253 --tcp-port=24254 --discv5-udp-port=24256 --rest-address=0.0.0.0 --nat=extip:172.18.81.33 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=535dea0cbd6efb2cb3dfd4eb6ff4eb60affcfdcace0cc784c51206feddef7aa2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24257 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.81.33 waku 8347178751bb21427ed5ba77858a69192356c214d5d9d91377e04291ac2b9bb0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8347178751bb. Setting up logs at ./log/docker/publishing_node1_2024-12-19_04-26-36__a912f42b-23f4-4f2f-a191-372f0d197f7a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 24253
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 86581310d677. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24253/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24253/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.33/tcp/24254/p2p/16Uiu2HAmHZHpbmuLYvCUNNUNT9CdQzn5MVpbjLPsVdN87ocDt4hU","/ip4/172.18.81.33/tcp/24255/ws/p2p/16Uiu2HAmHZHpbmuLYvCUNNUNT9CdQzn5MVpbjLPsVdN87ocDt4hU"],"enrUri":"enr:-L24QA3i8mxkrjx0K3oolUOXkW_UtNRvFfPnhArAGkEaZxFFWLYjbrhVFN04WIwiheLMa4V482F1DbdzY6h-VmIbwfwCgmlkgnY0gmlwhKwSUSGKbXVsdGlhZGRyc5YACASsElEhBl6-AAoErBJRIQZev90DgnJzhQADAQAAiXNlY3AyNTZrMaEDSNS0Q2p0pxOurG-OVGH7lrbZAPfu-gcDmmWAVN_jz6-DdGNwgl6-g3VkcIJewIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-12-19_04-26-36__a912f42b-23f4-4f2f-a191-372f0d197f7a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.73.125
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33056', '33057', '33058', '33059', '33060']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33056:33056 -p 33057:33057 -p 33058:33058 -p 33059:33059 -p 33060:33060 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33058 --rest-port=33056 --tcp-port=33057 --discv5-udp-port=33059 --rest-address=0.0.0.0 --nat=extip:172.18.73.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7f4cc7d47ffb54ca73d069e1adaacfc7dc3dc653fb8864b740ccd41acb0fbcea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33060 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QA3i8mxkrjx0K3oolUOXkW_UtNRvFfPnhArAGkEaZxFFWLYjbrhVFN04WIwiheLMa4V482F1DbdzY6h-VmIbwfwCgmlkgnY0gmlwhKwSUSGKbXVsdGlhZGRyc5YACASsElEhBl6-AAoErBJRIQZev90DgnJzhQADAQAAiXNlY3AyNTZrMaEDSNS0Q2p0pxOurG-OVGH7lrbZAPfu-gcDmmWAVN_jz6-DdGNwgl6-g3VkcIJewIV3YWt1MgM --storenode=/ip4/172.18.81.33/tcp/24254/p2p/16Uiu2HAmHZHpbmuLYvCUNNUNT9CdQzn5MVpbjLPsVdN87ocDt4hU --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.73.125 waku f51ef17a406d40b80c93be8fe2118b7321234b48aedfa211dcfea46d373c6a01
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f51ef17a406d. Setting up logs at ./log/docker/store_node1_2024-12-19_04-26-36__a912f42b-23f4-4f2f-a191-372f0d197f7a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 33056
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33056/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33056/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.125/tcp/33057/p2p/16Uiu2HAm5o4ubdxMceYAtFqPnhbfXZicRsFj8sybcxKCyLuF1ZV4","/ip4/172.18.73.125/tcp/33058/ws/p2p/16Uiu2HAm5o4ubdxMceYAtFqPnhbfXZicRsFj8sybcxKCyLuF1ZV4"],"enrUri":"enr:-L24QAySbuLVgSVJms7MZedyTLPhOURmj-gjclbWIKKM-lPPRTG2ayh4dwoIMioJCGMs2mKeMi7TRS0HmSfUQeIwXPQCgmlkgnY0gmlwhKwSSX2KbXVsdGlhZGRyc5YACASsEkl9BoEhAAoErBJJfQaBIt0DgnJzhQADAQAAiXNlY3AyNTZrMaECmg_9mvp8LomTh6iy1RmquuVYJS7R94q7wo2Chll7e_uDdGNwgoEhg3VkcIKBI4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33056/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.81.33/tcp/24254/p2p/16Uiu2HAmHZHpbmuLYvCUNNUNT9CdQzn5MVpbjLPsVdN87ocDt4hU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24253/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33056/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:204 inquering stored messages with start time 1734582404983297024 after end time 2425782409218614272
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24253/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1734582404983297024&endTime=2425782409218614272&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"vKpId48VJNa8drkvwshzUr7rCUoaSOzbOmasELnvxPE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582404983297024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"dAIDAx6PTwHzeJjZdnSLQGo0DBd8Si7h7rMoUc7F6EY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582406983303936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"txeNE0MsWfc7hvQ9CsAt+IBZfA9L9cyx08VPOpF9B6k=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582407883304960,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"kvyC+PsM/Wb1l4nRYEZaTBqZkyOJCmeVRTAXcX9Zwb8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582408083308032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"IfpCU+GuTWRGjUheYYqtxR6cteRV/zEf6LF8mdZGCBc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582409983309056,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"96uFtZAIpohXlVkMwEAvHYrclRciXnRtbZjruIF5F2w=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582417983310848,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1734582404983297024 and end time = 2425782409218614272 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33056/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1734582404983297024&endTime=2425782409218614272&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"vKpId48VJNa8drkvwshzUr7rCUoaSOzbOmasELnvxPE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582404983297024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"dAIDAx6PTwHzeJjZdnSLQGo0DBd8Si7h7rMoUc7F6EY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582406983303936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"txeNE0MsWfc7hvQ9CsAt+IBZfA9L9cyx08VPOpF9B6k=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582407883304960,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"kvyC+PsM/Wb1l4nRYEZaTBqZkyOJCmeVRTAXcX9Zwb8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582408083308032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"IfpCU+GuTWRGjUheYYqtxR6cteRV/zEf6LF8mdZGCBc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582409983309056,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"96uFtZAIpohXlVkMwEAvHYrclRciXnRtbZjruIF5F2w=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734582417983310848,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1734582404983297024 and end time = 2425782409218614272 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8347178751bb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f51ef17a406d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8347178751bb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.