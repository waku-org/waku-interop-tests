2025-02-06 04:07:33.873 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 04:07:33.873 DEBUG [tests.conftest] Running test: test_light_push_with_valid_timestamps with id: 2025-02-06_04-07-33__66f90522-52d0-4e73-aa7e-cf1be6a6a2c4
2025-02-06 04:07:33.874 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 04:07:33.874 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-06 04:07:33.880 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:07:33.880 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-06_04-07-33__66f90522-52d0-4e73-aa7e-cf1be6a6a2c4__wakuorg_nwaku:latest.log
2025-02-06 04:07:33.880 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:07:33.880 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:07:33.881 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:07:33.882 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.156.108
2025-02-06 04:07:33.882 DEBUG [src.node.docker_mananger] Generated ports ['23347', '23348', '23349', '23350', '23351']
2025-02-06 04:07:33.882 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:07:33.882 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:07:33.882 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:07:33.882 DEBUG [src.node.docker_mananger] docker run -i -t -p 23347:23347 -p 23348:23348 -p 23349:23349 -p 23350:23350 -p 23351:23351 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23349 --rest-port=23347 --tcp-port=23348 --discv5-udp-port=23350 --rest-address=0.0.0.0 --nat=extip:172.18.156.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e12d08dd116af4dadcb1a2e69a644f5210d5aeeace6fe42ea1be4c438fb2cb10 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23351 --metrics-logging=true --lightpush=true --relay=true
2025-02-06 04:07:34.107 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.156.108 waku 33b9b2f985ce421b464399b6ca59ee034439ecad580a7da88d0a1c146009c6c4
2025-02-06 04:07:34.157 DEBUG [src.node.docker_mananger] Container started with ID 33b9b2f985ce. Setting up logs at ./log/docker/receiving_node1_2025-02-06_04-07-33__66f90522-52d0-4e73-aa7e-cf1be6a6a2c4__wakuorg_nwaku:latest.log
2025-02-06 04:07:34.158 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 23347
2025-02-06 04:07:34.158 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:07:34.671 ERROR [src.node.docker_mananger] Max retries reached for container c302f8b19457. Exiting log stream.
2025-02-06 04:07:35.159 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23347/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:35.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:07:35.162 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:07:35.162 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23347/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:35.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.156.108/tcp/23348/p2p/16Uiu2HAkx55e56mHmaHoigpZBWYmyZRtrvhAcTrwDRUdr4ozSq1f","/ip4/172.18.156.108/tcp/23349/ws/p2p/16Uiu2HAkx55e56mHmaHoigpZBWYmyZRtrvhAcTrwDRUdr4ozSq1f"],"enrUri":"enr:-L24QAtUhRAxOSpj1S3klCJP8ZCX-75y2WoacfH3ql3i9OxKKte8nh-_jsOmi8WV35YJEE5RKkfZWWmNPzHN6iXMhRwCgmlkgnY0gmlwhKwSnGyKbXVsdGlhZGRyc5YACASsEpxsBls0AAoErBKcbAZbNd0DgnJzhQADAQAAiXNlY3AyNTZrMaECJ0ydvwtYEAZwjYxFksj5nPwYhCOG4NvloEsAkTMy516DdGNwgls0g3VkcIJbNoV3YWt1Mgk"}'
2025-02-06 04:07:35.164 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:07:35.171 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:07:35.171 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-06_04-07-33__66f90522-52d0-4e73-aa7e-cf1be6a6a2c4__wakuorg_nwaku:latest.log
2025-02-06 04:07:35.171 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:07:35.171 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:07:35.173 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:07:35.173 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.252.8
2025-02-06 04:07:35.173 DEBUG [src.node.docker_mananger] Generated ports ['39861', '39862', '39863', '39864', '39865']
2025-02-06 04:07:35.173 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:07:35.173 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:07:35.173 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:07:35.173 DEBUG [src.node.docker_mananger] docker run -i -t -p 39861:39861 -p 39862:39862 -p 39863:39863 -p 39864:39864 -p 39865:39865 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39863 --rest-port=39861 --tcp-port=39862 --discv5-udp-port=39864 --rest-address=0.0.0.0 --nat=extip:172.18.252.8 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b1f9ef4df5d3ae77f3cf91c657e9d5bc2b0f70cccb307daea83fee4def10a3f3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39865 --metrics-logging=true --lightpush=false --relay=true
2025-02-06 04:07:35.396 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.252.8 waku 895e936b5aa7b33a3e480eee194bc14edc544e8f4a5bf0a11c207b1914e34920
2025-02-06 04:07:35.441 DEBUG [src.node.docker_mananger] Container started with ID 895e936b5aa7. Setting up logs at ./log/docker/receiving_node2_2025-02-06_04-07-33__66f90522-52d0-4e73-aa7e-cf1be6a6a2c4__wakuorg_nwaku:latest.log
2025-02-06 04:07:35.442 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 39861
2025-02-06 04:07:35.442 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:07:36.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39861/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:36.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:07:36.445 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:07:36.445 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39861/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:36.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.8/tcp/39862/p2p/16Uiu2HAky8ZspTe2uQNxbznjnToeDZyVik3m1zCEtBLP1yNPzPRX","/ip4/172.18.252.8/tcp/39863/ws/p2p/16Uiu2HAky8ZspTe2uQNxbznjnToeDZyVik3m1zCEtBLP1yNPzPRX"],"enrUri":"enr:-L24QHixJBz-Zo9-6h_YonDgNkJ4eDdRx6U8Oei3udDbggdKZxX--yAnUy3uC_L7mkLaBAzbdAC_2WAHReOS_O3QUZcCgmlkgnY0gmlwhKwS_AiKbXVsdGlhZGRyc5YACASsEvwIBpu2AAoErBL8CAabt90DgnJzhQADAQAAiXNlY3AyNTZrMaECNwz5J3hK_XETw1Sro6WG-ri_aRBb-MRixW9H_ml_sQ6DdGNwgpu2g3VkcIKbuIV3YWt1MgE"}'
2025-02-06 04:07:36.447 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:07:36.448 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39861/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.108/tcp/23348/p2p/16Uiu2HAkx55e56mHmaHoigpZBWYmyZRtrvhAcTrwDRUdr4ozSq1f"]'
2025-02-06 04:07:36.487 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:36.497 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:07:36.497 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-06_04-07-33__66f90522-52d0-4e73-aa7e-cf1be6a6a2c4__wakuorg_nwaku:latest.log
2025-02-06 04:07:36.497 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:07:36.497 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:07:36.498 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:07:36.499 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.35.43
2025-02-06 04:07:36.499 DEBUG [src.node.docker_mananger] Generated ports ['41923', '41924', '41925', '41926', '41927']
2025-02-06 04:07:36.499 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:07:36.499 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:07:36.499 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:07:36.499 DEBUG [src.node.docker_mananger] docker run -i -t -p 41923:41923 -p 41924:41924 -p 41925:41925 -p 41926:41926 -p 41927:41927 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41925 --rest-port=41923 --tcp-port=41924 --discv5-udp-port=41926 --rest-address=0.0.0.0 --nat=extip:172.18.35.43 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bfef978bfb9ba3bf3eab5ce2aebefd9dd1ef4a7e529d2fdde6dbba633dde341f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41927 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QAtUhRAxOSpj1S3klCJP8ZCX-75y2WoacfH3ql3i9OxKKte8nh-_jsOmi8WV35YJEE5RKkfZWWmNPzHN6iXMhRwCgmlkgnY0gmlwhKwSnGyKbXVsdGlhZGRyc5YACASsEpxsBls0AAoErBKcbAZbNd0DgnJzhQADAQAAiXNlY3AyNTZrMaECJ0ydvwtYEAZwjYxFksj5nPwYhCOG4NvloEsAkTMy516DdGNwgls0g3VkcIJbNoV3YWt1Mgk --lightpushnode=/ip4/172.18.156.108/tcp/23348/p2p/16Uiu2HAkx55e56mHmaHoigpZBWYmyZRtrvhAcTrwDRUdr4ozSq1f --lightpush=true --relay=false
2025-02-06 04:07:36.735 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.35.43 waku e1c2b43efeb26da782a8335fc629c74f257daa3a5b6a60af880ce94142717bf5
2025-02-06 04:07:36.783 DEBUG [src.node.docker_mananger] Container started with ID e1c2b43efeb2. Setting up logs at ./log/docker/lightpush_node1_2025-02-06_04-07-33__66f90522-52d0-4e73-aa7e-cf1be6a6a2c4__wakuorg_nwaku:latest.log
2025-02-06 04:07:36.784 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 41923
2025-02-06 04:07:36.784 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:07:37.784 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41923/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:37.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:07:37.787 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:07:37.787 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41923/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:37.790 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.43/tcp/41924/p2p/16Uiu2HAkxB2D5FyPrL5KxZtKsNp8yRPBuVJ5aa6V4FJmpkGo31gN","/ip4/172.18.35.43/tcp/41925/ws/p2p/16Uiu2HAkxB2D5FyPrL5KxZtKsNp8yRPBuVJ5aa6V4FJmpkGo31gN"],"enrUri":"enr:-L24QHBJBYpY_hlLVbXAs0jmOHGtTpdKaeN-j0DQqTT7mdc4CofjiqtBXJzs3izOmkRkI1g9KLaW2IWSDQi3dNtLFX8CgmlkgnY0gmlwhKwSIyuKbXVsdGlhZGRyc5YACASsEiMrBqPEAAoErBIjKwajxd0DgnJzhQADAQAAiXNlY3AyNTZrMaECKNI4vClJufG4uBj45FocbWCDvcGlmQjrIaNmRbiNyruDdGNwgqPEg3VkcIKjxoV3YWt1Mgg"}'
2025-02-06 04:07:37.790 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:07:37.790 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41923/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.108/tcp/23348/p2p/16Uiu2HAkx55e56mHmaHoigpZBWYmyZRtrvhAcTrwDRUdr4ozSq1f"]'
2025-02-06 04:07:37.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:37.825 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41923/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.8/tcp/39862/p2p/16Uiu2HAky8ZspTe2uQNxbznjnToeDZyVik3m1zCEtBLP1yNPzPRX"]'
2025-02-06 04:07:37.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:37.860 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23347/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 04:07:37.866 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:37.866 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39861/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 04:07:37.871 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:37.873 DEBUG [tests.light_push.test_publish] Running test with timestamp Now
2025-02-06 04:07:37.873 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 04:07:37.874 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41923/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738814536825359360}}'
2025-02-06 04:07:37.884 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:37.884 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:07:37.985 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:37.985 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:37.987 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814536825359360,"ephemeral":false}]'
2025-02-06 04:07:37.989 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:37.989 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39861/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:37.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814536825359360,"ephemeral":false}]'
2025-02-06 04:07:37.992 DEBUG [tests.light_push.test_publish] Running test with timestamp Far future
2025-02-06 04:07:37.993 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 04:07:37.993 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41923/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 2054174536825346048}}'
2025-02-06 04:07:38.002 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:38.002 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:07:38.102 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.102 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.105 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2054174536825346048,"ephemeral":false}]'
2025-02-06 04:07:38.106 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.106 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39861/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2054174536825346048,"ephemeral":false}]'
2025-02-06 04:07:38.109 DEBUG [tests.light_push.test_publish] Running test with timestamp Recent past
2025-02-06 04:07:38.110 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 04:07:38.110 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41923/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738810936825346048}}'
2025-02-06 04:07:38.119 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:38.120 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:07:38.221 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.221 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738810936825346048,"ephemeral":false}]'
2025-02-06 04:07:38.224 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.224 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39861/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.226 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738810936825346048,"ephemeral":false}]'
2025-02-06 04:07:38.228 DEBUG [tests.light_push.test_publish] Running test with timestamp Near future
2025-02-06 04:07:38.228 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 04:07:38.228 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41923/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738818136825346048}}'
2025-02-06 04:07:38.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:38.237 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:07:38.338 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.338 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.340 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738818136825346048,"ephemeral":false}]'
2025-02-06 04:07:38.341 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.342 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39861/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738818136825346048,"ephemeral":false}]'
2025-02-06 04:07:38.345 DEBUG [tests.light_push.test_publish] Running test with timestamp Positive number
2025-02-06 04:07:38.345 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 04:07:38.345 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41923/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1}}'
2025-02-06 04:07:38.354 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:38.356 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:07:38.456 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.456 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-06 04:07:38.460 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.460 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39861/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-06 04:07:38.463 DEBUG [tests.light_push.test_publish] Running test with timestamp Negative number
2025-02-06 04:07:38.463 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 04:07:38.464 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41923/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": -1}}'
2025-02-06 04:07:38.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:38.472 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:07:38.572 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.573 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.575 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-06 04:07:38.576 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.576 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39861/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.578 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-06 04:07:38.580 DEBUG [tests.light_push.test_publish] Running test with timestamp DST change
2025-02-06 04:07:38.580 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 04:07:38.580 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41923/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1583632800000000000}}'
2025-02-06 04:07:38.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:07:38.592 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:07:38.693 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.693 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.695 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-06 04:07:38.696 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-06 04:07:38.697 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39861/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:07:38.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-06 04:07:38.701 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 04:07:38.702 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 04:07:38.702 DEBUG [src.node.waku_node] Stopping container with id 33b9b2f985ce
2025-02-06 04:07:39.635 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:07:39.635 DEBUG [src.node.waku_node] Stopping container with id 895e936b5aa7
2025-02-06 04:07:40.446 ERROR [src.node.docker_mananger] Max retries reached for container 33b9b2f985ce. Exiting log stream.
2025-02-06 04:07:41.143 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:07:41.144 DEBUG [src.node.waku_node] Stopping container with id e1c2b43efeb2
2025-02-06 04:07:41.959 ERROR [src.node.docker_mananger] Max retries reached for container 895e936b5aa7. Exiting log stream.
2025-02-06 04:07:42.251 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:07:42.253 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 04:07:42.262 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:07:42.271 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:07:42.279 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
