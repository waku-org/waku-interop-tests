2025-02-06 04:04:54.569 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 04:04:54.569 DEBUG [tests.conftest] Running test: test_multiple_content_topics_and_multiple_pubsub_topics with id: 2025-02-06_04-04-54__104233e4-aeb6-4c34-8576-58bcc87647a6
2025-02-06 04:04:54.569 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 04:04:54.570 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 04:04:54.570 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-06 04:04:54.577 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:04:54.577 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_04-04-54__104233e4-aeb6-4c34-8576-58bcc87647a6__wakuorg_nwaku:latest.log
2025-02-06 04:04:54.577 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:04:54.577 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:04:54.579 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:04:54.579 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.144.25
2025-02-06 04:04:54.579 DEBUG [src.node.docker_mananger] Generated ports ['41961', '41962', '41963', '41964', '41965']
2025-02-06 04:04:54.579 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:04:54.579 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:04:54.579 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:04:54.580 DEBUG [src.node.docker_mananger] docker run -i -t -p 41961:41961 -p 41962:41962 -p 41963:41963 -p 41964:41964 -p 41965:41965 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41963 --rest-port=41961 --tcp-port=41962 --discv5-udp-port=41964 --rest-address=0.0.0.0 --nat=extip:172.18.144.25 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=dc3e4def2d7082c8e1e2e136865ffdd8ea474e4a7e6ee6cca2b91cc2937c80f5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41965 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-06 04:04:54.812 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.144.25 waku 21f9176b97befbbb7e51a941e928c4c1c03988f7c3b1c883a7dac63877f0530b
2025-02-06 04:04:54.862 DEBUG [src.node.docker_mananger] Container started with ID 21f9176b97be. Setting up logs at ./log/docker/node1_2025-02-06_04-04-54__104233e4-aeb6-4c34-8576-58bcc87647a6__wakuorg_nwaku:latest.log
2025-02-06 04:04:54.862 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 41961
2025-02-06 04:04:54.863 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:04:55.367 ERROR [src.node.docker_mananger] Max retries reached for container a5a29b0fb341. Exiting log stream.
2025-02-06 04:04:55.864 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41961/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:55.867 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:04:55.868 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:04:55.868 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41961/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:55.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.144.25/tcp/41962/p2p/16Uiu2HAkwKzzadhVF1UcWyA92gxLBo5qtL6hi8bA3PT2hBDqRPCv","/ip4/172.18.144.25/tcp/41963/ws/p2p/16Uiu2HAkwKzzadhVF1UcWyA92gxLBo5qtL6hi8bA3PT2hBDqRPCv"],"enrUri":"enr:-Mu4QOobUFcFR3Tzz9Fc_VxPhYS-_9jEf1DmICbgcyuvoe8YSVUapq84Co2fbsELoRDlEOmp3LEz3cAOre3YjmbcREUCgmlkgnY0gmlwhKwSkBmKbXVsdGlhZGRyc5YACASsEpAZBqPqAAoErBKQGQaj690DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQIcQ2NBIkSBYeuG5UuWkUpnaFQTnG1vUQiKelFOmagti4N0Y3CCo-qDdWRwgqPshXdha3UyBQ"}'
2025-02-06 04:04:55.870 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:04:55.876 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:04:55.877 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_04-04-54__104233e4-aeb6-4c34-8576-58bcc87647a6__wakuorg_nwaku:latest.log
2025-02-06 04:04:55.877 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:04:55.877 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:04:55.878 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:04:55.878 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.60.215
2025-02-06 04:04:55.879 DEBUG [src.node.docker_mananger] Generated ports ['61021', '61022', '61023', '61024', '61025']
2025-02-06 04:04:55.879 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:04:55.879 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:04:55.879 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:04:55.879 DEBUG [src.node.docker_mananger] docker run -i -t -p 61021:61021 -p 61022:61022 -p 61023:61023 -p 61024:61024 -p 61025:61025 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61023 --rest-port=61021 --tcp-port=61022 --discv5-udp-port=61024 --rest-address=0.0.0.0 --nat=extip:172.18.60.215 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=731ec156d5afceabdc9ffed0c264e9cde4ddbdb266b1556532ecd644f4f05cd2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61025 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QOobUFcFR3Tzz9Fc_VxPhYS-_9jEf1DmICbgcyuvoe8YSVUapq84Co2fbsELoRDlEOmp3LEz3cAOre3YjmbcREUCgmlkgnY0gmlwhKwSkBmKbXVsdGlhZGRyc5YACASsEpAZBqPqAAoErBKQGQaj690DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQIcQ2NBIkSBYeuG5UuWkUpnaFQTnG1vUQiKelFOmagti4N0Y3CCo-qDdWRwgqPshXdha3UyBQ --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-06 04:04:56.114 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.60.215 waku d85410512517b57cfcd0883795baa02e7c42a07c2f45c30a5a52959eb743fadf
2025-02-06 04:04:56.168 DEBUG [src.node.docker_mananger] Container started with ID d85410512517. Setting up logs at ./log/docker/node2_2025-02-06_04-04-54__104233e4-aeb6-4c34-8576-58bcc87647a6__wakuorg_nwaku:latest.log
2025-02-06 04:04:56.168 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 61021
2025-02-06 04:04:56.168 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:04:57.168 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61021/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:04:57.193 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:04:57.193 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61021/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.215/tcp/61022/p2p/16Uiu2HAmFHV6xENP2ss4EYNSiPeMnGRu9K2ZBdQL4Vqcx1xaz1Nt","/ip4/172.18.60.215/tcp/61023/ws/p2p/16Uiu2HAmFHV6xENP2ss4EYNSiPeMnGRu9K2ZBdQL4Vqcx1xaz1Nt"],"enrUri":"enr:-Mu4QPG1Seg03oq6iFuUSGZKxs5azGIrXKOuu2yO1zMfTbDJHdUapp4-xDizwnSYfFDrOpC_r8jOBrF-J90RG5C7Ju4CgmlkgnY0gmlwhKwSPNeKbXVsdGlhZGRyc5YACASsEjzXBu5eAAoErBI81wbuX90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMnEMs8VkCnAt1LRm_gfZPqRtdxqxymNmul2avZUq8IzYN0Y3CC7l6DdWRwgu5ghXdha3UyAQ"}'
2025-02-06 04:04:57.219 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:04:57.219 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61021/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.144.25/tcp/41962/p2p/16Uiu2HAkwKzzadhVF1UcWyA92gxLBo5qtL6hi8bA3PT2hBDqRPCv"]'
2025-02-06 04:04:57.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:57.235 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41961/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-06 04:04:57.238 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:57.239 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61021/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-06 04:04:57.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:57.242 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41961/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:57.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:57.248 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:57.348 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.349 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41961/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814697242236672,"ephemeral":false}]'
2025-02-06 04:04:57.353 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.353 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61021/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.356 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814697242236672,"ephemeral":false}]'
2025-02-06 04:04:57.357 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41961/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:57.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:57.364 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:57.464 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.465 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41961/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738814697357755904,"ephemeral":false}]'
2025-02-06 04:04:57.469 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.469 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61021/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738814697357755904,"ephemeral":false}]'
2025-02-06 04:04:57.473 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41961/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:57.478 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:57.479 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:57.580 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.581 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41961/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738814697473804544,"ephemeral":false}]'
2025-02-06 04:04:57.585 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.585 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61021/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.588 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738814697473804544,"ephemeral":false}]'
2025-02-06 04:04:57.589 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41961/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:57.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:57.594 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:57.695 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.695 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41961/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738814697589442560,"ephemeral":false}]'
2025-02-06 04:04:57.699 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.700 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61021/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738814697589442560,"ephemeral":false}]'
2025-02-06 04:04:57.704 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41961/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:57.708 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:57.708 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:57.809 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.810 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41961/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.812 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738814697704021504,"ephemeral":false}]'
2025-02-06 04:04:57.814 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.814 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61021/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738814697704021504,"ephemeral":false}]'
2025-02-06 04:04:57.818 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41961/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:57.823 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:57.824 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:57.924 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.925 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41961/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.927 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738814697818364672,"ephemeral":false}]'
2025-02-06 04:04:57.929 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:57.929 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61021/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:57.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738814697818364672,"ephemeral":false}]'
2025-02-06 04:04:57.934 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41961/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:57.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:57.938 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:58.039 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:58.039 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41961/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:58.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738814697932919040,"ephemeral":false}]'
2025-02-06 04:04:58.044 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:58.044 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61021/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:58.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738814697932919040,"ephemeral":false}]'
2025-02-06 04:04:58.048 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41961/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:58.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:58.054 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:58.154 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:58.155 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41961/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:58.157 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738814698048327936,"ephemeral":false}]'
2025-02-06 04:04:58.159 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:58.159 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61021/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:58.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738814698048327936,"ephemeral":false}]'
2025-02-06 04:04:58.164 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 04:04:58.165 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 04:04:58.165 DEBUG [src.node.waku_node] Stopping container with id 21f9176b97be
2025-02-06 04:04:59.380 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:04:59.380 DEBUG [src.node.waku_node] Stopping container with id d85410512517
2025-02-06 04:05:00.194 ERROR [src.node.docker_mananger] Max retries reached for container 21f9176b97be. Exiting log stream.
2025-02-06 04:05:00.894 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:05:00.897 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 04:05:00.910 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:05:00.920 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
