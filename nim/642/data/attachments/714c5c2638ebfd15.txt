2025-02-06 04:03:45.104 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 04:03:45.105 DEBUG [tests.conftest] Running test: test_filter_subscribe_to_101_content_topics with id: 2025-02-06_04-03-45__a240584d-8bd7-4f0f-b585-e107354d624a
2025-02-06 04:03:45.105 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 04:03:45.105 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-06 04:03:45.105 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-06 04:03:45.111 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:03:45.111 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_04-03-45__a240584d-8bd7-4f0f-b585-e107354d624a__wakuorg_nwaku:latest.log
2025-02-06 04:03:45.112 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:03:45.112 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:03:45.113 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:03:45.113 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.182.239
2025-02-06 04:03:45.113 DEBUG [src.node.docker_mananger] Generated ports ['8259', '8260', '8261', '8262', '8263']
2025-02-06 04:03:45.114 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:03:45.114 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:03:45.114 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:03:45.114 DEBUG [src.node.docker_mananger] docker run -i -t -p 8259:8259 -p 8260:8260 -p 8261:8261 -p 8262:8262 -p 8263:8263 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8261 --rest-port=8259 --tcp-port=8260 --discv5-udp-port=8262 --rest-address=0.0.0.0 --nat=extip:172.18.182.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=91e3ea23d4c3674dab3f6a7aaed16ca2afebf28e25edbba11306ed6c4356f2aa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8263 --metrics-logging=true --relay=true --filter=true
2025-02-06 04:03:45.337 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.182.239 waku b9225262a2044f5a31b6c109aac8a9c75bbcf0578932d6d72bedc0d7755b3d2f
2025-02-06 04:03:45.388 DEBUG [src.node.docker_mananger] Container started with ID b9225262a204. Setting up logs at ./log/docker/node1_2025-02-06_04-03-45__a240584d-8bd7-4f0f-b585-e107354d624a__wakuorg_nwaku:latest.log
2025-02-06 04:03:45.389 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8259
2025-02-06 04:03:45.389 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:03:45.910 ERROR [src.node.docker_mananger] Max retries reached for container 71000e3ee74d. Exiting log stream.
2025-02-06 04:03:46.389 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8259/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:03:46.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:03:46.393 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:03:46.393 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8259/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:03:46.395 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.239/tcp/8260/p2p/16Uiu2HAkwMrs16dpxKxmbSgqnAUhrsTtYk8ZtN8SGG3KdUqUSQGH","/ip4/172.18.182.239/tcp/8261/ws/p2p/16Uiu2HAkwMrs16dpxKxmbSgqnAUhrsTtYk8ZtN8SGG3KdUqUSQGH"],"enrUri":"enr:-L24QLdhCUDp4lS7zxf8XXVYaUHCFkoFALD_arPjykVA_W0-fulvUBph1dsH1O32yK5CMGQCShUCAxs2oYa5ZnAlrR0CgmlkgnY0gmlwhKwStu-KbXVsdGlhZGRyc5YACASsErbvBiBEAAoErBK27wYgRd0DgnJzhQADAQAAiXNlY3AyNTZrMaECHL1bIJJ70UOV1JyHyOK_-TaZZK5QwgE8A0TRIkCU2wqDdGNwgiBEg3VkcIIgRoV3YWt1MgU"}'
2025-02-06 04:03:46.396 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:03:46.396 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-06 04:03:46.402 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:03:46.402 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_04-03-45__a240584d-8bd7-4f0f-b585-e107354d624a__wakuorg_nwaku:latest.log
2025-02-06 04:03:46.402 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:03:46.402 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:03:46.404 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:03:46.404 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.123.135
2025-02-06 04:03:46.404 DEBUG [src.node.docker_mananger] Generated ports ['18311', '18312', '18313', '18314', '18315']
2025-02-06 04:03:46.404 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:03:46.404 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:03:46.405 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:03:46.405 DEBUG [src.node.docker_mananger] docker run -i -t -p 18311:18311 -p 18312:18312 -p 18313:18313 -p 18314:18314 -p 18315:18315 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18313 --rest-port=18311 --tcp-port=18312 --discv5-udp-port=18314 --rest-address=0.0.0.0 --nat=extip:172.18.123.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=73cde0af3885abb34b6c5dacf0c72bfd59dbcf5ffc2a0fdf59a4ca1f1eec7bee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18315 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QLdhCUDp4lS7zxf8XXVYaUHCFkoFALD_arPjykVA_W0-fulvUBph1dsH1O32yK5CMGQCShUCAxs2oYa5ZnAlrR0CgmlkgnY0gmlwhKwStu-KbXVsdGlhZGRyc5YACASsErbvBiBEAAoErBK27wYgRd0DgnJzhQADAQAAiXNlY3AyNTZrMaECHL1bIJJ70UOV1JyHyOK_-TaZZK5QwgE8A0TRIkCU2wqDdGNwgiBEg3VkcIIgRoV3YWt1MgU --filternode=/ip4/172.18.182.239/tcp/8260/p2p/16Uiu2HAkwMrs16dpxKxmbSgqnAUhrsTtYk8ZtN8SGG3KdUqUSQGH
2025-02-06 04:03:46.634 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.123.135 waku d6f4f66e72b9669cbf0bc7e6cbc48081485a68b0c8b253d9dfd590e9ca394dfe
2025-02-06 04:03:46.681 DEBUG [src.node.docker_mananger] Container started with ID d6f4f66e72b9. Setting up logs at ./log/docker/node2_2025-02-06_04-03-45__a240584d-8bd7-4f0f-b585-e107354d624a__wakuorg_nwaku:latest.log
2025-02-06 04:03:46.681 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18311
2025-02-06 04:03:46.681 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:03:47.682 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18311/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:03:47.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:03:47.685 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:03:47.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18311/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:03:47.687 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.135/tcp/18312/p2p/16Uiu2HAmMuKG3fxbyzeoeNfpPYmKEq4gWR8ptcPKd8ZoUEa2DsKc","/ip4/172.18.123.135/tcp/18313/ws/p2p/16Uiu2HAmMuKG3fxbyzeoeNfpPYmKEq4gWR8ptcPKd8ZoUEa2DsKc"],"enrUri":"enr:-L24QHkPTXeL5SE_rYlJLsDtjldFrpfrpAieaD_fDodPPFb4KodLWW_pTWzA5vLrY-zPWo7ZjPV8_4OiaK7Qy5F8Jo0CgmlkgnY0gmlwhKwSe4eKbXVsdGlhZGRyc5YACASsEnuHBkeIAAoErBJ7hwZHid0DgnJzhQADAQAAiXNlY3AyNTZrMaEDiWSx38tzPrA-XlTfzTFzyXrlqHbkeRMLEZ7fz34YPI-DdGNwgkeIg3VkcIJHioV3YWt1MgA"}'
2025-02-06 04:03:47.688 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:03:47.688 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18311/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.239/tcp/8260/p2p/16Uiu2HAkwMrs16dpxKxmbSgqnAUhrsTtYk8ZtN8SGG3KdUqUSQGH"]'
2025-02-06 04:03:47.727 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:03:47.727 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-06 04:03:47.729 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8259/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-06 04:03:47.747 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:03:47.748 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18311/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d904f235-37a4-4806-88e2-bb812e321fab", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 04:03:47.761 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"d904f235-37a4-4806-88e2-bb812e321fab","statusDesc":"OK"}'
2025-02-06 04:03:47.762 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18311/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59", "60", "61", "62", "63", "64", "65", "66", "67", "68", "69", "70", "71", "72", "73", "74", "75", "76", "77", "78", "79", "80", "81", "82", "83", "84", "85", "86", "87", "88", "89", "90", "91", "92", "93", "94", "95", "96", "97", "98", "99", "100"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 04:03:47.771 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:18311/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"BAD_REQUEST: exceeds maximum content topics: 100"}'
2025-02-06 04:03:47.773 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 04:03:47.774 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 04:03:47.774 DEBUG [src.node.waku_node] Stopping container with id b9225262a204
2025-02-06 04:03:48.844 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:03:48.845 DEBUG [src.node.waku_node] Stopping container with id d6f4f66e72b9
2025-02-06 04:03:49.657 ERROR [src.node.docker_mananger] Max retries reached for container b9225262a204. Exiting log stream.
2025-02-06 04:03:50.361 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:03:50.364 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 04:03:50.368 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:03:50.371 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
