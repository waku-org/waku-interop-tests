2025-02-06 04:02:24.754 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 04:02:24.754 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_from_101_content_topics with id: 2025-02-06_04-02-24__513a5ed9-5015-410a-9f9b-d9f49fec0e20
2025-02-06 04:02:24.754 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 04:02:24.755 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-06 04:02:24.755 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-06 04:02:24.763 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:02:24.763 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_04-02-24__513a5ed9-5015-410a-9f9b-d9f49fec0e20__wakuorg_nwaku:latest.log
2025-02-06 04:02:24.763 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:02:24.763 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:02:24.822 DEBUG [src.node.docker_mananger] Network waku created
2025-02-06 04:02:24.823 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.193.231
2025-02-06 04:02:24.823 DEBUG [src.node.docker_mananger] Generated ports ['41834', '41835', '41836', '41837', '41838']
2025-02-06 04:02:24.823 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:02:24.823 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:02:24.823 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:02:24.823 DEBUG [src.node.docker_mananger] docker run -i -t -p 41834:41834 -p 41835:41835 -p 41836:41836 -p 41837:41837 -p 41838:41838 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41836 --rest-port=41834 --tcp-port=41835 --discv5-udp-port=41837 --rest-address=0.0.0.0 --nat=extip:172.18.193.231 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=198dbcf0a49de078f9e8af2be6bc3a0cddef4f72abe76fce30b091ab06ffdef6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41838 --metrics-logging=true --relay=true --filter=true
2025-02-06 04:02:29.275 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.193.231 waku 3441371d058d57a6672555ce39b88bdcf341303ba8df069918b2fd6cb9953286
2025-02-06 04:02:29.323 DEBUG [src.node.docker_mananger] Container started with ID 3441371d058d. Setting up logs at ./log/docker/node1_2025-02-06_04-02-24__513a5ed9-5015-410a-9f9b-d9f49fec0e20__wakuorg_nwaku:latest.log
2025-02-06 04:02:29.324 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 41834
2025-02-06 04:02:29.324 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:02:30.325 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41834/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:02:30.328 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:02:30.328 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:02:30.328 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41834/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:02:30.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.231/tcp/41835/p2p/16Uiu2HAmGprpJTWMtotPzYD6BW8r8geeRT1qc4oQgj9rr9ApNNg1","/ip4/172.18.193.231/tcp/41836/ws/p2p/16Uiu2HAmGprpJTWMtotPzYD6BW8r8geeRT1qc4oQgj9rr9ApNNg1"],"enrUri":"enr:-L24QHY0-GEQL8sxSqkWD9I9PS59Rclm1rz0fXaOQQkcWyVPYdCY_ctOsJjI5_9Wclt8Ha_9VVrTlrdPG9zWFZZL-FwCgmlkgnY0gmlwhKwSweeKbXVsdGlhZGRyc5YACASsEsHnBqNrAAoErBLB5wajbN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDPfYJaThsZhZfDMNsij6e3mcEgNfXS8pjbYlOYgjeMCKDdGNwgqNrg3VkcIKjbYV3YWt1MgU"}'
2025-02-06 04:02:30.331 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:02:30.331 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-06 04:02:30.337 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:02:30.337 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_04-02-24__513a5ed9-5015-410a-9f9b-d9f49fec0e20__wakuorg_nwaku:latest.log
2025-02-06 04:02:30.337 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:02:30.338 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:02:30.339 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:02:30.339 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.46.116
2025-02-06 04:02:30.339 DEBUG [src.node.docker_mananger] Generated ports ['17146', '17147', '17148', '17149', '17150']
2025-02-06 04:02:30.339 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:02:30.340 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:02:30.340 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:02:30.340 DEBUG [src.node.docker_mananger] docker run -i -t -p 17146:17146 -p 17147:17147 -p 17148:17148 -p 17149:17149 -p 17150:17150 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17148 --rest-port=17146 --tcp-port=17147 --discv5-udp-port=17149 --rest-address=0.0.0.0 --nat=extip:172.18.46.116 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7ed1adafb01c1d5c7ff6b2b7d1c55bbf81d0f93c126b2121a7ba3a2ee6e27cfa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17150 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHY0-GEQL8sxSqkWD9I9PS59Rclm1rz0fXaOQQkcWyVPYdCY_ctOsJjI5_9Wclt8Ha_9VVrTlrdPG9zWFZZL-FwCgmlkgnY0gmlwhKwSweeKbXVsdGlhZGRyc5YACASsEsHnBqNrAAoErBLB5wajbN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDPfYJaThsZhZfDMNsij6e3mcEgNfXS8pjbYlOYgjeMCKDdGNwgqNrg3VkcIKjbYV3YWt1MgU --filternode=/ip4/172.18.193.231/tcp/41835/p2p/16Uiu2HAmGprpJTWMtotPzYD6BW8r8geeRT1qc4oQgj9rr9ApNNg1
2025-02-06 04:02:30.568 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.46.116 waku 3994b308e4e61813af10f69c9e9e97f95202014c013a4c7fcf5c9797704021f3
2025-02-06 04:02:30.617 DEBUG [src.node.docker_mananger] Container started with ID 3994b308e4e6. Setting up logs at ./log/docker/node2_2025-02-06_04-02-24__513a5ed9-5015-410a-9f9b-d9f49fec0e20__wakuorg_nwaku:latest.log
2025-02-06 04:02:30.618 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17146
2025-02-06 04:02:30.618 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:02:31.618 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17146/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:02:31.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:02:31.622 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:02:31.622 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17146/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:02:31.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.116/tcp/17147/p2p/16Uiu2HAmN6fu4zHGBf2HvqQwhVYP45E2oZMFWt7uzysKpXR9sUrL","/ip4/172.18.46.116/tcp/17148/ws/p2p/16Uiu2HAmN6fu4zHGBf2HvqQwhVYP45E2oZMFWt7uzysKpXR9sUrL"],"enrUri":"enr:-L24QE7GPK0Hh4-uodwRepAYr2pIPGfs4suF2X6mwjnRlglyBXK9Ife0Yk80ByQFnEfrzSAhrxLkxioOgGZkD7xKAJICgmlkgnY0gmlwhKwSLnSKbXVsdGlhZGRyc5YACASsEi50BkL7AAoErBIudAZC_N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjE1rZ2GalPfJ4ePVvmVI9ap4_mbru-N-VQOpyLrhsEmDdGNwgkL7g3VkcIJC_YV3YWt1MgA"}'
2025-02-06 04:02:31.625 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:02:31.625 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17146/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.193.231/tcp/41835/p2p/16Uiu2HAmGprpJTWMtotPzYD6BW8r8geeRT1qc4oQgj9rr9ApNNg1"]'
2025-02-06 04:02:31.661 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:02:31.662 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-06 04:02:31.664 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41834/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-06 04:02:31.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:02:31.681 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17146/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2b15c1b7-d94c-4c99-b3f6-b641d83f02c8", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 04:02:31.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"2b15c1b7-d94c-4c99-b3f6-b641d83f02c8","statusDesc":"OK"}'
2025-02-06 04:02:31.693 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17146/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59", "60", "61", "62", "63", "64", "65", "66", "67", "68", "69", "70", "71", "72", "73", "74", "75", "76", "77", "78", "79", "80", "81", "82", "83", "84", "85", "86", "87", "88", "89", "90", "91", "92", "93", "94", "95", "96", "97", "98", "99", "100"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 04:02:31.702 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17146/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"BAD_REQUEST: exceeds maximum content topics: 100"}'
2025-02-06 04:02:31.705 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 04:02:31.706 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 04:02:31.706 DEBUG [src.node.waku_node] Stopping container with id 3441371d058d
2025-02-06 04:02:32.798 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:02:32.798 DEBUG [src.node.waku_node] Stopping container with id 3994b308e4e6
2025-02-06 04:02:33.611 ERROR [src.node.docker_mananger] Max retries reached for container 3441371d058d. Exiting log stream.
2025-02-06 04:02:34.294 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:02:34.295 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 04:02:34.299 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:02:34.303 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
