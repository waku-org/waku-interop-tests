2025-02-06 04:04:16.359 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 04:04:16.359 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics_one_by_one with id: 2025-02-06_04-04-16__6dc56315-22ff-4341-b17d-c1c6913b8905
2025-02-06 04:04:16.360 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 04:04:16.360 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 04:04:16.360 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-06 04:04:16.367 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:04:16.367 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_04-04-16__6dc56315-22ff-4341-b17d-c1c6913b8905__wakuorg_nwaku:latest.log
2025-02-06 04:04:16.368 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:04:16.368 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:04:16.369 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:04:16.369 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.177.90
2025-02-06 04:04:16.370 DEBUG [src.node.docker_mananger] Generated ports ['23618', '23619', '23620', '23621', '23622']
2025-02-06 04:04:16.370 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:04:16.370 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:04:16.370 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:04:16.370 DEBUG [src.node.docker_mananger] docker run -i -t -p 23618:23618 -p 23619:23619 -p 23620:23620 -p 23621:23621 -p 23622:23622 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23620 --rest-port=23618 --tcp-port=23619 --discv5-udp-port=23621 --rest-address=0.0.0.0 --nat=extip:172.18.177.90 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=cf690756601b17ddd0461b2437043389ddcd43ac7befbaf23009c4ec164ff0ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23622 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-06 04:04:16.603 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.177.90 waku 9d3dc0575b60cac275f1181261f934222df3dc17e47c554040fb795cd2266828
2025-02-06 04:04:16.647 DEBUG [src.node.docker_mananger] Container started with ID 9d3dc0575b60. Setting up logs at ./log/docker/node1_2025-02-06_04-04-16__6dc56315-22ff-4341-b17d-c1c6913b8905__wakuorg_nwaku:latest.log
2025-02-06 04:04:16.648 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 23618
2025-02-06 04:04:16.648 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:04:17.157 ERROR [src.node.docker_mananger] Max retries reached for container 90523a17cad3. Exiting log stream.
2025-02-06 04:04:17.649 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:17.653 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:04:17.653 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:04:17.653 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:17.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.90/tcp/23619/p2p/16Uiu2HAmPSTuV82J5ZkBxaiT61GeKp5CL7Pt1RYZEERdzrrtRhRr","/ip4/172.18.177.90/tcp/23620/ws/p2p/16Uiu2HAmPSTuV82J5ZkBxaiT61GeKp5CL7Pt1RYZEERdzrrtRhRr"],"enrUri":"enr:-L24QMGXU4-pQ_3eD4Qx6G3cxmA7OIuASs5rt7iw-lIc5-bVEr1CMJuVF41nXEySSjOyDeh77WkIZ7ntfUThwZoymfoCgmlkgnY0gmlwhKwSsVqKbXVsdGlhZGRyc5YACASsErFaBlxDAAoErBKxWgZcRN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDoDspjfg-7ikclSJmwH8K0izF_Vtq1i859oQsx6NwXZGDdGNwglxDg3VkcIJcRYV3YWt1MgU"}'
2025-02-06 04:04:17.655 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:04:17.662 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:04:17.662 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_04-04-16__6dc56315-22ff-4341-b17d-c1c6913b8905__wakuorg_nwaku:latest.log
2025-02-06 04:04:17.662 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:04:17.662 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:04:17.663 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:04:17.663 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.125.242
2025-02-06 04:04:17.664 DEBUG [src.node.docker_mananger] Generated ports ['17802', '17803', '17804', '17805', '17806']
2025-02-06 04:04:17.664 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:04:17.664 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:04:17.664 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:04:17.664 DEBUG [src.node.docker_mananger] docker run -i -t -p 17802:17802 -p 17803:17803 -p 17804:17804 -p 17805:17805 -p 17806:17806 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17804 --rest-port=17802 --tcp-port=17803 --discv5-udp-port=17805 --rest-address=0.0.0.0 --nat=extip:172.18.125.242 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=99a7daa08cde62a2c8d0cb85a85a5937dd6a57ff2abfcb5fa1bfdcd8a0bfb1ed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17806 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMGXU4-pQ_3eD4Qx6G3cxmA7OIuASs5rt7iw-lIc5-bVEr1CMJuVF41nXEySSjOyDeh77WkIZ7ntfUThwZoymfoCgmlkgnY0gmlwhKwSsVqKbXVsdGlhZGRyc5YACASsErFaBlxDAAoErBKxWgZcRN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDoDspjfg-7ikclSJmwH8K0izF_Vtq1i859oQsx6NwXZGDdGNwglxDg3VkcIJcRYV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-06 04:04:17.890 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.125.242 waku 509875eafa887a0d9730481f4931519269e8152f02a729e1b74d5156f3a3bd32
2025-02-06 04:04:17.943 DEBUG [src.node.docker_mananger] Container started with ID 509875eafa88. Setting up logs at ./log/docker/node2_2025-02-06_04-04-16__6dc56315-22ff-4341-b17d-c1c6913b8905__wakuorg_nwaku:latest.log
2025-02-06 04:04:17.943 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17802
2025-02-06 04:04:17.943 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:04:18.944 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17802/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:18.958 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:04:18.958 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:04:18.960 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17802/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:18.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.125.242/tcp/17803/p2p/16Uiu2HAmVJ371VoPK5nSwLTf6F8f63PbCM1zqTTMeHjojSKYwwg9","/ip4/172.18.125.242/tcp/17804/ws/p2p/16Uiu2HAmVJ371VoPK5nSwLTf6F8f63PbCM1zqTTMeHjojSKYwwg9"],"enrUri":"enr:-L24QPo5YmyN0F7y3yBoDB1hWXRJZhYJrSNnRDJJfAjF_31nFwJ6PSehKMdnm5iYZRnnXH9FviGjBRVaUxe3vEtQHYMCgmlkgnY0gmlwhKwSffKKbXVsdGlhZGRyc5YACASsEn3yBkWLAAoErBJ98gZFjN0DgnJzhQACAQAAiXNlY3AyNTZrMaED9ziYL0iEWluJjBZuXpMjzehiu6Se0rJ1Oa9JTK0O_FaDdGNwgkWLg3VkcIJFjYV3YWt1MgE"}'
2025-02-06 04:04:18.968 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:04:18.969 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17802/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.90/tcp/23619/p2p/16Uiu2HAmPSTuV82J5ZkBxaiT61GeKp5CL7Pt1RYZEERdzrrtRhRr"]'
2025-02-06 04:04:18.972 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:18.973 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-06 04:04:18.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:18.984 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17802/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-06 04:04:19.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.006 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:19.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.017 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:19.118 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.118 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.121 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814659005211392,"ephemeral":false}]'
2025-02-06 04:04:19.123 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.124 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17802/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814659005211392,"ephemeral":false}]'
2025-02-06 04:04:19.128 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:19.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.134 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:19.234 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.235 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738814659128179712,"ephemeral":false}]'
2025-02-06 04:04:19.239 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.239 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17802/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738814659128179712,"ephemeral":false}]'
2025-02-06 04:04:19.243 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:19.248 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.248 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:19.349 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.349 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.352 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738814659243449088,"ephemeral":false}]'
2025-02-06 04:04:19.353 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.353 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17802/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.356 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738814659243449088,"ephemeral":false}]'
2025-02-06 04:04:19.357 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:19.362 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.363 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:19.463 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.464 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.467 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738814659357609728,"ephemeral":false}]'
2025-02-06 04:04:19.468 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.468 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17802/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.471 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738814659357609728,"ephemeral":false}]'
2025-02-06 04:04:19.473 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:19.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.478 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:19.579 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.579 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.582 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738814659472938240,"ephemeral":false}]'
2025-02-06 04:04:19.584 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.584 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17802/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.586 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738814659472938240,"ephemeral":false}]'
2025-02-06 04:04:19.588 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:19.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.593 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:19.694 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.694 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.697 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738814659588569344,"ephemeral":false}]'
2025-02-06 04:04:19.698 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.698 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17802/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738814659588569344,"ephemeral":false}]'
2025-02-06 04:04:19.702 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:19.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.708 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:19.808 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.809 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.812 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738814659702498048,"ephemeral":false}]'
2025-02-06 04:04:19.813 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.813 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17802/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738814659702498048,"ephemeral":false}]'
2025-02-06 04:04:19.817 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:19.823 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.823 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:19.923 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.923 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738814659817758720,"ephemeral":false}]'
2025-02-06 04:04:19.928 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:19.928 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17802/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:19.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738814659817758720,"ephemeral":false}]'
2025-02-06 04:04:19.932 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:23618/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-06 04:04:19.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.937 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17802/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-06 04:04:19.941 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.942 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:23618/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-06 04:04:19.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.947 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17802/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-06 04:04:19.952 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.953 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:23618/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-06 04:04:19.958 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.958 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17802/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-06 04:04:19.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.963 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:23618/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-06 04:04:19.968 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.970 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17802/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-06 04:04:19.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.974 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:23618/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-06 04:04:19.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.980 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17802/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-06 04:04:19.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.985 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:23618/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-06 04:04:19.990 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.991 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17802/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-06 04:04:19.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:19.996 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:23618/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-06 04:04:20.001 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.001 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17802/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-06 04:04:20.005 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.006 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:23618/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-06 04:04:20.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.011 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17802/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-06 04:04:20.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.018 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:20.021 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.021 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:20.122 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:20.122 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:20.125 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:23618/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-06 04:04:20.127 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:20.130 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.130 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:20.230 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:20.231 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:20.233 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:23618/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-06 04:04:20.235 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:20.238 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.238 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:20.338 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:20.339 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:20.342 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-06 04:04:20.343 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:20.346 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.346 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:20.447 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:20.447 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:20.450 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:23618/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-06 04:04:20.452 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:20.455 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.455 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:20.555 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:20.556 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:20.559 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:23618/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-06 04:04:20.560 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:20.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.563 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:20.663 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:20.664 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:20.667 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-06 04:04:20.668 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:20.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.671 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:20.771 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:20.772 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:20.774 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-06 04:04:20.776 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23618/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:20.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:20.779 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:20.879 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:20.880 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:20.882 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:23618/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-06 04:04:20.885 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 04:04:20.886 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 04:04:20.886 DEBUG [src.node.waku_node] Stopping container with id 9d3dc0575b60
2025-02-06 04:04:21.556 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:04:21.556 DEBUG [src.node.waku_node] Stopping container with id 509875eafa88
2025-02-06 04:04:22.370 ERROR [src.node.docker_mananger] Max retries reached for container 9d3dc0575b60. Exiting log stream.
2025-02-06 04:04:22.945 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:04:22.946 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 04:04:22.961 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:04:22.972 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
