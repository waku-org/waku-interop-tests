2025-02-06 04:05:03.855 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 04:05:03.856 DEBUG [tests.conftest] Running test: test_subscribe_one_by_one_to_different_pubsub_topics_and_send_messages with id: 2025-02-06_04-05-03__1df8f19a-d1d3-41c8-bfcc-0e71b7477fa3
2025-02-06 04:05:03.856 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 04:05:03.856 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 04:05:03.857 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-06 04:05:03.863 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:05:03.863 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_04-05-03__1df8f19a-d1d3-41c8-bfcc-0e71b7477fa3__wakuorg_nwaku:latest.log
2025-02-06 04:05:03.864 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:05:03.864 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:05:03.865 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:05:03.865 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.161.205
2025-02-06 04:05:03.865 DEBUG [src.node.docker_mananger] Generated ports ['21648', '21649', '21650', '21651', '21652']
2025-02-06 04:05:03.866 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:05:03.866 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:05:03.866 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:05:03.866 DEBUG [src.node.docker_mananger] docker run -i -t -p 21648:21648 -p 21649:21649 -p 21650:21650 -p 21651:21651 -p 21652:21652 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21650 --rest-port=21648 --tcp-port=21649 --discv5-udp-port=21651 --rest-address=0.0.0.0 --nat=extip:172.18.161.205 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=dbbeeb2d00bbfee287dfcccd8cbf37c3eb4c7b1b5faecb6859f557cfcee15c0d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21652 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
2025-02-06 04:05:04.105 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.161.205 waku abf2ce239028c47ff5298f443654ccd3a5f835572be2bc011cb5ec6f43fb9098
2025-02-06 04:05:04.157 DEBUG [src.node.docker_mananger] Container started with ID abf2ce239028. Setting up logs at ./log/docker/node1_2025-02-06_04-05-03__1df8f19a-d1d3-41c8-bfcc-0e71b7477fa3__wakuorg_nwaku:latest.log
2025-02-06 04:05:04.158 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21648
2025-02-06 04:05:04.158 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:05:04.658 ERROR [src.node.docker_mananger] Max retries reached for container fcbe5fdd8144. Exiting log stream.
2025-02-06 04:05:05.159 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21648/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:05.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:05:05.162 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:05:05.163 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21648/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:05.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.205/tcp/21649/p2p/16Uiu2HAm2m9USvEtAb5gvdLFUckjpy2UZ14rGG4gHMFsQuhUwPHY","/ip4/172.18.161.205/tcp/21650/ws/p2p/16Uiu2HAm2m9USvEtAb5gvdLFUckjpy2UZ14rGG4gHMFsQuhUwPHY"],"enrUri":"enr:-L24QBumbAcZqMZ2vsQet0te4T0lf3JLVnOWUjOu6yhaMuZmKZtvkBEum1AJc1XPBak_GLho5h5zX6Oqhu0yD5_Pz5kCgmlkgnY0gmlwhKwSoc2KbXVsdGlhZGRyc5YACASsEqHNBlSRAAoErBKhzQZUkt0DgnJzhQACAQAAiXNlY3AyNTZrMaECbP7udGs8Ya1zq0lU--oZVyShxIPQ6rMy0tB4LTu7n3eDdGNwglSRg3VkcIJUk4V3YWt1MgU"}'
2025-02-06 04:05:05.165 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:05:05.174 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:05:05.174 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_04-05-03__1df8f19a-d1d3-41c8-bfcc-0e71b7477fa3__wakuorg_nwaku:latest.log
2025-02-06 04:05:05.175 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:05:05.175 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:05:05.176 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:05:05.176 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.121.161
2025-02-06 04:05:05.176 DEBUG [src.node.docker_mananger] Generated ports ['14000', '14001', '14002', '14003', '14004']
2025-02-06 04:05:05.177 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:05:05.177 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:05:05.177 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:05:05.177 DEBUG [src.node.docker_mananger] docker run -i -t -p 14000:14000 -p 14001:14001 -p 14002:14002 -p 14003:14003 -p 14004:14004 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14002 --rest-port=14000 --tcp-port=14001 --discv5-udp-port=14003 --rest-address=0.0.0.0 --nat=extip:172.18.121.161 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=7bec4233b54eb9aefab2d22e0145a0bbf7561f85b8a5c094aba92203ec84aac9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14004 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBumbAcZqMZ2vsQet0te4T0lf3JLVnOWUjOu6yhaMuZmKZtvkBEum1AJc1XPBak_GLho5h5zX6Oqhu0yD5_Pz5kCgmlkgnY0gmlwhKwSoc2KbXVsdGlhZGRyc5YACASsEqHNBlSRAAoErBKhzQZUkt0DgnJzhQACAQAAiXNlY3AyNTZrMaECbP7udGs8Ya1zq0lU--oZVyShxIPQ6rMy0tB4LTu7n3eDdGNwglSRg3VkcIJUk4V3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
2025-02-06 04:05:05.404 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.121.161 waku d7e4c433a5cc556313ba322ff59eba39bc9e89b806273d46d9a9392709e6ee55
2025-02-06 04:05:05.452 DEBUG [src.node.docker_mananger] Container started with ID d7e4c433a5cc. Setting up logs at ./log/docker/node2_2025-02-06_04-05-03__1df8f19a-d1d3-41c8-bfcc-0e71b7477fa3__wakuorg_nwaku:latest.log
2025-02-06 04:05:05.452 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 14000
2025-02-06 04:05:05.453 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:05:06.453 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14000/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:06.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:05:06.462 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:05:06.462 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14000/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:06.465 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.161/tcp/14001/p2p/16Uiu2HAm73hS18vsp7nYc2heVVvsJRMFFDAXF9QZhdekFyrky8h9","/ip4/172.18.121.161/tcp/14002/ws/p2p/16Uiu2HAm73hS18vsp7nYc2heVVvsJRMFFDAXF9QZhdekFyrky8h9"],"enrUri":"enr:-L24QL0sWpTi_nDH_ksGex-uVhbHpo88BBI_l8EvSApC-_P1G-fph5MdNxSvJBJCTcidWcApRFroyHOH-JoUc00NZ_QCgmlkgnY0gmlwhKwSeaGKbXVsdGlhZGRyc5YACASsEnmhBjaxAAoErBJ5oQY2st0DgnJzhQACAQAAiXNlY3AyNTZrMaECrKsbYq8EC4AAGT2ugpjwUH7-qeFrugkrwoZnVI0vgSSDdGNwgjaxg3VkcII2s4V3YWt1MgE"}'
2025-02-06 04:05:06.466 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:05:06.467 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14000/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.205/tcp/21649/p2p/16Uiu2HAm2m9USvEtAb5gvdLFUckjpy2UZ14rGG4gHMFsQuhUwPHY"]'
2025-02-06 04:05:06.470 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.470 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-06 04:05:06.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.473 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14000/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-06 04:05:06.475 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.475 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:06.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.481 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:06.581 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:06.582 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:06.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814706475817728,"ephemeral":false}]'
2025-02-06 04:05:06.585 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:06.585 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:06.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814706475817728,"ephemeral":false}]'
2025-02-06 04:05:06.589 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-06 04:05:06.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.593 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14000/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-06 04:05:06.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.599 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:06.605 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.606 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:06.706 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:06.706 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:06.708 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814706599245568,"ephemeral":false}]'
2025-02-06 04:05:06.710 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:06.710 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:06.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814706599245568,"ephemeral":false}]'
2025-02-06 04:05:06.714 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-06 04:05:06.718 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.718 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14000/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-06 04:05:06.723 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.724 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:06.730 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.731 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:06.831 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:06.831 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:06.833 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814706724731904,"ephemeral":false}]'
2025-02-06 04:05:06.835 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:06.835 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:06.837 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814706724731904,"ephemeral":false}]'
2025-02-06 04:05:06.839 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-06 04:05:06.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.842 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14000/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-06 04:05:06.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.849 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:06.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.855 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:06.955 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:06.956 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:06.958 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814706849267712,"ephemeral":false}]'
2025-02-06 04:05:06.959 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:06.959 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:06.961 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814706849267712,"ephemeral":false}]'
2025-02-06 04:05:06.963 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-06 04:05:06.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.967 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14000/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-06 04:05:06.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.973 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:06.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:06.980 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:07.081 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:07.081 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:07.083 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814706973837824,"ephemeral":false}]'
2025-02-06 04:05:07.084 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:07.085 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:07.087 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814706973837824,"ephemeral":false}]'
2025-02-06 04:05:07.088 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-06 04:05:07.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:07.092 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14000/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-06 04:05:07.098 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:07.099 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:07.105 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:07.105 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:07.206 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:07.206 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:07.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814707099703808,"ephemeral":false}]'
2025-02-06 04:05:07.210 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:07.210 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:07.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814707099703808,"ephemeral":false}]'
2025-02-06 04:05:07.214 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-06 04:05:07.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:07.219 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14000/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-06 04:05:07.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:07.225 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:07.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:07.231 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:07.331 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:07.332 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:07.334 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814707225782528,"ephemeral":false}]'
2025-02-06 04:05:07.335 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:07.336 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:07.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814707225782528,"ephemeral":false}]'
2025-02-06 04:05:07.339 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-06 04:05:07.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:07.344 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14000/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-06 04:05:07.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:07.350 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:07.356 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:07.356 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:07.457 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:07.457 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21648/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:07.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814707349897728,"ephemeral":false}]'
2025-02-06 04:05:07.460 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:07.461 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:07.463 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814707349897728,"ephemeral":false}]'
2025-02-06 04:05:07.465 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 04:05:07.466 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 04:05:07.466 DEBUG [src.node.waku_node] Stopping container with id abf2ce239028
2025-02-06 04:05:08.654 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:05:08.655 DEBUG [src.node.waku_node] Stopping container with id d7e4c433a5cc
2025-02-06 04:05:09.466 ERROR [src.node.docker_mananger] Max retries reached for container abf2ce239028. Exiting log stream.
2025-02-06 04:05:10.150 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:05:10.151 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 04:05:10.160 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:05:10.169 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
