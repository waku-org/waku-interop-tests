2025-02-06 04:03:27.265 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 04:03:27.266 DEBUG [tests.conftest] Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2025-02-06_04-03-27__c91895b4-3b35-48e6-a9ce-3989422efcf2
2025-02-06 04:03:27.266 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 04:03:27.266 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-06 04:03:27.272 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:03:27.273 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-06_04-03-27__c91895b4-3b35-48e6-a9ce-3989422efcf2__wakuorg_nwaku:latest.log
2025-02-06 04:03:27.273 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:03:27.273 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:03:27.274 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:03:27.274 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.93.192
2025-02-06 04:03:27.275 DEBUG [src.node.docker_mananger] Generated ports ['15267', '15268', '15269', '15270', '15271']
2025-02-06 04:03:27.275 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:03:27.275 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:03:27.275 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:03:27.275 DEBUG [src.node.docker_mananger] docker run -i -t -p 15267:15267 -p 15268:15268 -p 15269:15269 -p 15270:15270 -p 15271:15271 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15269 --rest-port=15267 --tcp-port=15268 --discv5-udp-port=15270 --rest-address=0.0.0.0 --nat=extip:172.18.93.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=394d92f0df0d1aeaec2ee8835bd53adf8efc1a4be09e0bdae3e9a0e41eff9005 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15271 --metrics-logging=true --lightpush=true --relay=true
2025-02-06 04:03:27.501 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.93.192 waku 06170e8d6f3fb138ae0d00f9703d63e7807ffea385c8c4c1eaa83708611b51e1
2025-02-06 04:03:27.551 DEBUG [src.node.docker_mananger] Container started with ID 06170e8d6f3f. Setting up logs at ./log/docker/receiving_node1_2025-02-06_04-03-27__c91895b4-3b35-48e6-a9ce-3989422efcf2__wakuorg_nwaku:latest.log
2025-02-06 04:03:27.553 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15267
2025-02-06 04:03:27.553 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:03:28.073 ERROR [src.node.docker_mananger] Max retries reached for container d11ee107ae38. Exiting log stream.
2025-02-06 04:03:28.555 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15267/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:03:28.558 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:03:28.558 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:03:28.558 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15267/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:03:28.561 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.93.192/tcp/15268/p2p/16Uiu2HAmPEn4qrtqHnYbs6Y7ymtMYQJUP41ZhAXHB8zMhehZ4t4W","/ip4/172.18.93.192/tcp/15269/ws/p2p/16Uiu2HAmPEn4qrtqHnYbs6Y7ymtMYQJUP41ZhAXHB8zMhehZ4t4W"],"enrUri":"enr:-L24QP8Iq70yCuRsd4qMMK_drwHEisWidLximgHLbonYWp5iTBleNNdo4A4fj7BYquJRz7P0x0keiMHbolM5U9B6EgUCgmlkgnY0gmlwhKwSXcCKbXVsdGlhZGRyc5YACASsEl3ABjukAAoErBJdwAY7pd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnTy6SsRJy0mpBRhJFwZ8J5jDoOznj0xePOY94LIuha-DdGNwgjukg3VkcII7poV3YWt1Mgk"}'
2025-02-06 04:03:28.561 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:03:28.568 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:03:28.568 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-06_04-03-27__c91895b4-3b35-48e6-a9ce-3989422efcf2__wakuorg_nwaku:latest.log
2025-02-06 04:03:28.568 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:03:28.568 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:03:28.570 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:03:28.570 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.86.15
2025-02-06 04:03:28.570 DEBUG [src.node.docker_mananger] Generated ports ['28621', '28622', '28623', '28624', '28625']
2025-02-06 04:03:28.570 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:03:28.570 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:03:28.570 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:03:28.570 DEBUG [src.node.docker_mananger] docker run -i -t -p 28621:28621 -p 28622:28622 -p 28623:28623 -p 28624:28624 -p 28625:28625 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28623 --rest-port=28621 --tcp-port=28622 --discv5-udp-port=28624 --rest-address=0.0.0.0 --nat=extip:172.18.86.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0edbc319f2bfeee4678bba1500f6f37981cf0afa213baf1f011fb30becaf25af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28625 --metrics-logging=true --lightpush=false --relay=true
2025-02-06 04:03:28.806 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.86.15 waku e580ea01044efea9759910f13190e30dab914127222e4833fa4c1334720b55fd
2025-02-06 04:03:28.855 DEBUG [src.node.docker_mananger] Container started with ID e580ea01044e. Setting up logs at ./log/docker/receiving_node2_2025-02-06_04-03-27__c91895b4-3b35-48e6-a9ce-3989422efcf2__wakuorg_nwaku:latest.log
2025-02-06 04:03:28.855 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 28621
2025-02-06 04:03:28.856 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:03:29.856 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28621/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:03:29.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:03:29.859 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:03:29.859 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28621/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:03:29.861 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.86.15/tcp/28622/p2p/16Uiu2HAmUEth7maUKjw4JB6wdugUa4wVFfxkdyAcfUjztpKgJjfa","/ip4/172.18.86.15/tcp/28623/ws/p2p/16Uiu2HAmUEth7maUKjw4JB6wdugUa4wVFfxkdyAcfUjztpKgJjfa"],"enrUri":"enr:-L24QGg6QAUap6m1s2DGSWuPm3bG5tVnw6Vhg7j90PDe-wYCUSpURSVRwiEgEDdiZAp3xi5ePiq2NYqbe1ClyjrH8cICgmlkgnY0gmlwhKwSVg-KbXVsdGlhZGRyc5YACASsElYPBm_OAAoErBJWDwZvz90DgnJzhQADAQAAiXNlY3AyNTZrMaED546nWi9QjmG-WH01-ySsiELlcETkxfiTyBrV5xa21j2DdGNwgm_Og3VkcIJv0IV3YWt1MgE"}'
2025-02-06 04:03:29.862 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:03:29.862 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28621/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.93.192/tcp/15268/p2p/16Uiu2HAmPEn4qrtqHnYbs6Y7ymtMYQJUP41ZhAXHB8zMhehZ4t4W"]'
2025-02-06 04:03:29.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:03:29.912 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:03:29.912 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-06_04-03-27__c91895b4-3b35-48e6-a9ce-3989422efcf2__wakuorg_nwaku:latest.log
2025-02-06 04:03:29.912 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:03:29.913 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:03:29.914 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:03:29.914 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.95.229
2025-02-06 04:03:29.914 DEBUG [src.node.docker_mananger] Generated ports ['42584', '42585', '42586', '42587', '42588']
2025-02-06 04:03:29.915 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:03:29.915 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:03:29.915 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:03:29.915 DEBUG [src.node.docker_mananger] docker run -i -t -p 42584:42584 -p 42585:42585 -p 42586:42586 -p 42587:42587 -p 42588:42588 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42586 --rest-port=42584 --tcp-port=42585 --discv5-udp-port=42587 --rest-address=0.0.0.0 --nat=extip:172.18.95.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eac4bd26fd6b9bae0e8fc7bddaf8cdadd42bdb29bf899dbab2d7fc8a7bfcfa40 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42588 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QP8Iq70yCuRsd4qMMK_drwHEisWidLximgHLbonYWp5iTBleNNdo4A4fj7BYquJRz7P0x0keiMHbolM5U9B6EgUCgmlkgnY0gmlwhKwSXcCKbXVsdGlhZGRyc5YACASsEl3ABjukAAoErBJdwAY7pd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnTy6SsRJy0mpBRhJFwZ8J5jDoOznj0xePOY94LIuha-DdGNwgjukg3VkcII7poV3YWt1Mgk --lightpushnode=/ip4/172.18.93.192/tcp/15268/p2p/16Uiu2HAmPEn4qrtqHnYbs6Y7ymtMYQJUP41ZhAXHB8zMhehZ4t4W --lightpush=true --relay=false
2025-02-06 04:03:30.163 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.95.229 waku 61eab0b19d962fd92198e9f524c3ea71e185f82850a39f000cbdc48236ab0947
2025-02-06 04:03:30.214 DEBUG [src.node.docker_mananger] Container started with ID 61eab0b19d96. Setting up logs at ./log/docker/lightpush_node1_2025-02-06_04-03-27__c91895b4-3b35-48e6-a9ce-3989422efcf2__wakuorg_nwaku:latest.log
2025-02-06 04:03:30.214 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42584
2025-02-06 04:03:30.214 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:03:31.215 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42584/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:03:31.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:03:31.218 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:03:31.218 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42584/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:03:31.220 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.229/tcp/42585/p2p/16Uiu2HAmJ5fYfE38DEyZjFJ8SWEwbWXZWDR3mQSeURrJVjqjAu5o","/ip4/172.18.95.229/tcp/42586/ws/p2p/16Uiu2HAmJ5fYfE38DEyZjFJ8SWEwbWXZWDR3mQSeURrJVjqjAu5o"],"enrUri":"enr:-L24QMhTz_iUi-ra4l0agTJQrs2BuLZ61wfQmqXOFpPLI2KxGQSqWIExRVY9BqgNyaCXxXvO4kXhSU3qCPlsJEzY5eQCgmlkgnY0gmlwhKwSX-WKbXVsdGlhZGRyc5YACASsEl_lBqZZAAoErBJf5QamWt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUJyxchHJ_7YLwJ_oeZR5BFTtuLdZr9yhqRmvkAXbKe6DdGNwgqZZg3VkcIKmW4V3YWt1Mgg"}'
2025-02-06 04:03:31.221 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:03:31.221 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42584/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.93.192/tcp/15268/p2p/16Uiu2HAmPEn4qrtqHnYbs6Y7ymtMYQJUP41ZhAXHB8zMhehZ4t4W"]'
2025-02-06 04:03:31.254 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:03:31.254 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42584/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.86.15/tcp/28622/p2p/16Uiu2HAmUEth7maUKjw4JB6wdugUa4wVFfxkdyAcfUjztpKgJjfa"]'
2025-02-06 04:03:31.286 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:03:31.286 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15267/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 04:03:31.293 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:03:31.293 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28621/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 04:03:31.298 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:03:31.301 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15267/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-06 04:03:31.310 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:03:31.311 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28621/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-06 04:03:31.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:03:31.326 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42584/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738814611326303744}}'
2025-02-06 04:03:31.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:03:31.339 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:03:31.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15267/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:03:31.443 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-06 04:03:31.445 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 04:03:31.446 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 04:03:31.446 DEBUG [src.node.waku_node] Stopping container with id 06170e8d6f3f
2025-02-06 04:03:32.021 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:03:32.021 DEBUG [src.node.waku_node] Stopping container with id e580ea01044e
2025-02-06 04:03:32.834 ERROR [src.node.docker_mananger] Max retries reached for container 06170e8d6f3f. Exiting log stream.
2025-02-06 04:03:33.531 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:03:33.532 DEBUG [src.node.waku_node] Stopping container with id 61eab0b19d96
2025-02-06 04:03:34.371 ERROR [src.node.docker_mananger] Max retries reached for container e580ea01044e. Exiting log stream.
2025-02-06 04:03:35.036 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:03:35.038 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 04:03:35.046 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:03:35.060 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:03:35.066 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
