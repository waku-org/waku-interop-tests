2025-02-06 04:05:34.725 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 04:05:34.726 DEBUG [tests.conftest] Running test: test_multiple_pubsub_topics_same_cluster with id: 2025-02-06_04-05-34__85b163da-7c30-43f8-8631-f50bfe8bdf20
2025-02-06 04:05:34.726 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 04:05:34.726 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 04:05:34.726 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-06 04:05:34.733 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:05:34.733 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_04-05-34__85b163da-7c30-43f8-8631-f50bfe8bdf20__wakuorg_nwaku:latest.log
2025-02-06 04:05:34.733 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:05:34.733 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:05:34.734 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:05:34.734 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.111.2
2025-02-06 04:05:34.735 DEBUG [src.node.docker_mananger] Generated ports ['59088', '59089', '59090', '59091', '59092']
2025-02-06 04:05:34.735 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-06 04:05:34.735 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:05:34.735 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:05:34.735 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:05:34.735 DEBUG [src.node.docker_mananger] docker run -i -t -p 59088:59088 -p 59089:59089 -p 59090:59090 -p 59091:59091 -p 59092:59092 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59090 --rest-port=59088 --tcp-port=59089 --discv5-udp-port=59091 --rest-address=0.0.0.0 --nat=extip:172.18.111.2 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=eedd9c098ad6dfa5c5edbe7fcc3db5f90f8bdad818185e2831cecdcffc6eeade --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59092 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-06 04:05:34.959 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.111.2 waku 3d9f3b243197a8dc823a722cafd3c5d955b52eaeb22d2e9ba30bf0430e7057e9
2025-02-06 04:05:35.015 DEBUG [src.node.docker_mananger] Container started with ID 3d9f3b243197. Setting up logs at ./log/docker/node1_2025-02-06_04-05-34__85b163da-7c30-43f8-8631-f50bfe8bdf20__wakuorg_nwaku:latest.log
2025-02-06 04:05:35.015 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 59088
2025-02-06 04:05:35.017 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:05:35.527 ERROR [src.node.docker_mananger] Max retries reached for container 7e0e055f5784. Exiting log stream.
2025-02-06 04:05:36.017 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59088/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:36.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:05:36.021 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:05:36.021 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59088/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:36.023 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.2/tcp/59089/p2p/16Uiu2HAmE6SBWYvANvcy1pw4pKFHfoci7cGNr5SartPJ81LwRXPR","/ip4/172.18.111.2/tcp/59090/ws/p2p/16Uiu2HAmE6SBWYvANvcy1pw4pKFHfoci7cGNr5SartPJ81LwRXPR"],"enrUri":"enr:-Mu4QJaJXgiZVC-qBXhgC0C0R1tFtb5CcxfoGnmYatcH8mB9JUAYuPZdKuwwGlwtuqCF_EOiCtaLRCSP5hB42m1VbWsCgmlkgnY0gmlwhKwSbwKKbXVsdGlhZGRyc5YACASsEm8CBubRAAoErBJvAgbm0t0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMVYGowBeu1LzhcWPyw1Anl11-Ivg-317cZ3wqJfQrZzIN0Y3CC5tGDdWRwgubThXdha3UyBQ"}'
2025-02-06 04:05:36.023 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:05:36.029 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:05:36.029 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_04-05-34__85b163da-7c30-43f8-8631-f50bfe8bdf20__wakuorg_nwaku:latest.log
2025-02-06 04:05:36.029 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:05:36.030 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:05:36.031 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:05:36.031 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.193.22
2025-02-06 04:05:36.031 DEBUG [src.node.docker_mananger] Generated ports ['15336', '15337', '15338', '15339', '15340']
2025-02-06 04:05:36.031 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-06 04:05:36.031 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:05:36.032 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:05:36.032 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:05:36.032 DEBUG [src.node.docker_mananger] docker run -i -t -p 15336:15336 -p 15337:15337 -p 15338:15338 -p 15339:15339 -p 15340:15340 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15338 --rest-port=15336 --tcp-port=15337 --discv5-udp-port=15339 --rest-address=0.0.0.0 --nat=extip:172.18.193.22 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=0c627daedbeb05d9fda51bc9e23b8b55b4ce96d4c3d7f4ce5932bbfd8ef7b0b8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15340 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QJaJXgiZVC-qBXhgC0C0R1tFtb5CcxfoGnmYatcH8mB9JUAYuPZdKuwwGlwtuqCF_EOiCtaLRCSP5hB42m1VbWsCgmlkgnY0gmlwhKwSbwKKbXVsdGlhZGRyc5YACASsEm8CBubRAAoErBJvAgbm0t0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMVYGowBeu1LzhcWPyw1Anl11-Ivg-317cZ3wqJfQrZzIN0Y3CC5tGDdWRwgubThXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-06 04:05:36.269 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.193.22 waku c89c6a5dd618789f29a55426875d4ec1cb116d86b300a859b756b90bcf19129d
2025-02-06 04:05:36.320 DEBUG [src.node.docker_mananger] Container started with ID c89c6a5dd618. Setting up logs at ./log/docker/node2_2025-02-06_04-05-34__85b163da-7c30-43f8-8631-f50bfe8bdf20__wakuorg_nwaku:latest.log
2025-02-06 04:05:36.320 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15336
2025-02-06 04:05:36.321 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:05:37.322 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15336/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:05:37.338 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:05:37.339 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15336/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.354 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.22/tcp/15337/p2p/16Uiu2HAkyQWgkP8Mfgr4kCoKPFuXAAfub452qCMmuCYHqWb6JuoK","/ip4/172.18.193.22/tcp/15338/ws/p2p/16Uiu2HAkyQWgkP8Mfgr4kCoKPFuXAAfub452qCMmuCYHqWb6JuoK"],"enrUri":"enr:-Mu4QCqAVIsd-_hZZLoST_2GmKlpv6EJkJzvlC8UhzL8U2KyM3tsMJn8cbqUvAxZ-Tw9fBblyXN0bJnbBNUuseWbsfUCgmlkgnY0gmlwhKwSwRaKbXVsdGlhZGRyc5YACASsEsEWBjvpAAoErBLBFgY76t0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQI7IqiE8G9MvnWqV7SQ534eQc_0zfvdJycleyP__pYiRoN0Y3CCO-mDdWRwgjvrhXdha3UyAQ"}'
2025-02-06 04:05:37.358 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:05:37.358 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15336/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.2/tcp/59089/p2p/16Uiu2HAmE6SBWYvANvcy1pw4pKFHfoci7cGNr5SartPJ81LwRXPR"]'
2025-02-06 04:05:37.361 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:37.362 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59088/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-06 04:05:37.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:37.366 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15336/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-06 04:05:37.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:37.371 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:37.376 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:37.376 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:37.476 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:37.476 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737371330048,"ephemeral":false}]'
2025-02-06 04:05:37.481 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:37.481 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15336/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737371330048,"ephemeral":false}]'
2025-02-06 04:05:37.485 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:37.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:37.489 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:37.589 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:37.590 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737484923904,"ephemeral":false}]'
2025-02-06 04:05:37.593 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:37.593 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15336/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737484923904,"ephemeral":false}]'
2025-02-06 04:05:37.597 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:37.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:37.602 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:37.703 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:37.703 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737597728512,"ephemeral":false}]'
2025-02-06 04:05:37.707 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:37.707 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15336/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737597728512,"ephemeral":false}]'
2025-02-06 04:05:37.711 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:37.716 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:37.716 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:37.816 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:37.817 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737711527424,"ephemeral":false}]'
2025-02-06 04:05:37.820 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:37.820 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15336/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.823 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737711527424,"ephemeral":false}]'
2025-02-06 04:05:37.824 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:37.829 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:37.830 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:37.930 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:37.930 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737824501248,"ephemeral":false}]'
2025-02-06 04:05:37.934 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:37.934 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15336/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:37.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737824501248,"ephemeral":false}]'
2025-02-06 04:05:37.939 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:37.944 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:37.944 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:38.044 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:38.044 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:38.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737939469056,"ephemeral":false}]'
2025-02-06 04:05:38.048 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:38.048 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15336/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:38.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814737939469056,"ephemeral":false}]'
2025-02-06 04:05:38.052 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:38.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:38.058 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:38.158 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:38.158 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:38.161 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814738052648704,"ephemeral":false}]'
2025-02-06 04:05:38.162 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:38.162 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15336/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:38.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814738052648704,"ephemeral":false}]'
2025-02-06 04:05:38.166 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:38.171 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:38.172 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:38.272 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:38.272 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:38.275 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814738166133248,"ephemeral":false}]'
2025-02-06 04:05:38.276 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:38.276 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15336/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:38.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814738166133248,"ephemeral":false}]'
2025-02-06 04:05:38.281 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 04:05:38.282 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 04:05:38.282 DEBUG [src.node.waku_node] Stopping container with id 3d9f3b243197
2025-02-06 04:05:39.548 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:05:39.549 DEBUG [src.node.waku_node] Stopping container with id c89c6a5dd618
2025-02-06 04:05:40.360 ERROR [src.node.docker_mananger] Max retries reached for container 3d9f3b243197. Exiting log stream.
2025-02-06 04:05:41.047 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:05:41.049 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 04:05:41.057 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:05:41.065 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
