2025-02-06 04:05:12.933 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 04:05:12.934 DEBUG [tests.conftest] Running test: test_publish_with_valid_timestamps with id: 2025-02-06_04-05-12__78612dac-a80a-420e-bb53-23ebbf884bb9
2025-02-06 04:05:12.934 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 04:05:12.935 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 04:05:12.935 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-06 04:05:12.943 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:05:12.943 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_04-05-12__78612dac-a80a-420e-bb53-23ebbf884bb9__wakuorg_nwaku:latest.log
2025-02-06 04:05:12.943 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:05:12.943 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:05:12.945 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:05:12.945 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.207.111
2025-02-06 04:05:12.946 DEBUG [src.node.docker_mananger] Generated ports ['42825', '42826', '42827', '42828', '42829']
2025-02-06 04:05:12.946 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:05:12.946 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:05:12.946 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:05:12.946 DEBUG [src.node.docker_mananger] docker run -i -t -p 42825:42825 -p 42826:42826 -p 42827:42827 -p 42828:42828 -p 42829:42829 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42827 --rest-port=42825 --tcp-port=42826 --discv5-udp-port=42828 --rest-address=0.0.0.0 --nat=extip:172.18.207.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d6600f514fc09cd27de5c58d5fcdddfc4b2b1d7dfecaba6592d6bda58c5ad11f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42829 --metrics-logging=true --relay=true
2025-02-06 04:05:13.192 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.207.111 waku baa600deef0259deef03e8c71421ecfb52e0954f3cc28eaf80b485c5e51851b4
2025-02-06 04:05:13.238 DEBUG [src.node.docker_mananger] Container started with ID baa600deef02. Setting up logs at ./log/docker/node1_2025-02-06_04-05-12__78612dac-a80a-420e-bb53-23ebbf884bb9__wakuorg_nwaku:latest.log
2025-02-06 04:05:13.238 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42825
2025-02-06 04:05:13.238 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:05:13.834 ERROR [src.node.docker_mananger] Max retries reached for container 5c13ecd1ea62. Exiting log stream.
2025-02-06 04:05:14.239 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42825/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:14.242 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:05:14.242 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:05:14.243 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42825/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:14.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.207.111/tcp/42826/p2p/16Uiu2HAm4YMDxwEPgEFdVYPswVpgucckWrBZcZft1xonPZ82ZoSv","/ip4/172.18.207.111/tcp/42827/ws/p2p/16Uiu2HAm4YMDxwEPgEFdVYPswVpgucckWrBZcZft1xonPZ82ZoSv"],"enrUri":"enr:-L24QKloO0KHcLwBffLvzjA1AUhCTvaVeHCh_F6erOXMOcNzPB8X6qYNeqDT91fSqbvhXeu2-hPe06sPkh81cStHK3wCgmlkgnY0gmlwhKwSz2-KbXVsdGlhZGRyc5YACASsEs9vBqdKAAoErBLPbwanS90DgnJzhQADAQAAiXNlY3AyNTZrMaECh28KePAFhbz1Io3I0J9LHyTgSI48K-szFcZ_9Y4aH8eDdGNwgqdKg3VkcIKnTIV3YWt1MgE"}'
2025-02-06 04:05:14.245 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:05:14.252 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:05:14.252 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_04-05-12__78612dac-a80a-420e-bb53-23ebbf884bb9__wakuorg_nwaku:latest.log
2025-02-06 04:05:14.252 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:05:14.252 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:05:14.253 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:05:14.254 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.22.245
2025-02-06 04:05:14.254 DEBUG [src.node.docker_mananger] Generated ports ['63433', '63434', '63435', '63436', '63437']
2025-02-06 04:05:14.254 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:05:14.254 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:05:14.254 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:05:14.254 DEBUG [src.node.docker_mananger] docker run -i -t -p 63433:63433 -p 63434:63434 -p 63435:63435 -p 63436:63436 -p 63437:63437 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63435 --rest-port=63433 --tcp-port=63434 --discv5-udp-port=63436 --rest-address=0.0.0.0 --nat=extip:172.18.22.245 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=18e52d314ecd1ddb2ca39068a27fdeb0e75b2c1050a6fdafe4ffb4deafdf86a0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63437 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKloO0KHcLwBffLvzjA1AUhCTvaVeHCh_F6erOXMOcNzPB8X6qYNeqDT91fSqbvhXeu2-hPe06sPkh81cStHK3wCgmlkgnY0gmlwhKwSz2-KbXVsdGlhZGRyc5YACASsEs9vBqdKAAoErBLPbwanS90DgnJzhQADAQAAiXNlY3AyNTZrMaECh28KePAFhbz1Io3I0J9LHyTgSI48K-szFcZ_9Y4aH8eDdGNwgqdKg3VkcIKnTIV3YWt1MgE
2025-02-06 04:05:14.489 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.22.245 waku c194332b8dcd2ae5486b0e70e4c2711405c0769f9b883f5cd9e4ca78b371d687
2025-02-06 04:05:14.537 DEBUG [src.node.docker_mananger] Container started with ID c194332b8dcd. Setting up logs at ./log/docker/node2_2025-02-06_04-05-12__78612dac-a80a-420e-bb53-23ebbf884bb9__wakuorg_nwaku:latest.log
2025-02-06 04:05:14.538 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63433
2025-02-06 04:05:14.538 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:05:15.538 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63433/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:15.545 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:05:15.547 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:05:15.547 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63433/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:15.550 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.245/tcp/63434/p2p/16Uiu2HAmGJi3QxhtUHXg8RnkiVN9FojAcGswFGhVK3JtpN6mKAgv","/ip4/172.18.22.245/tcp/63435/ws/p2p/16Uiu2HAmGJi3QxhtUHXg8RnkiVN9FojAcGswFGhVK3JtpN6mKAgv"],"enrUri":"enr:-L24QIRkmKKiIuTwSh0ZHwOt3tkR8Fs0EjXIY9jHKsuw-J1DY4OLuda3_cIJ6tOwpQutmlyh8WUWRMHDxgwnWq4DLTYCgmlkgnY0gmlwhKwSFvWKbXVsdGlhZGRyc5YACASsEhb1BvfKAAoErBIW9Qb3y90DgnJzhQADAQAAiXNlY3AyNTZrMaEDNjyxGEUl_k1uXWlydGGGrSrbzg1HBUfQlBIPc9HgFr-DdGNwgvfKg3VkcIL3zIV3YWt1MgE"}'
2025-02-06 04:05:15.550 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:05:15.550 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63433/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.207.111/tcp/42826/p2p/16Uiu2HAm4YMDxwEPgEFdVYPswVpgucckWrBZcZft1xonPZ82ZoSv"]'
2025-02-06 04:05:15.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:15.553 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-06 04:05:15.554 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42825/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-06 04:05:15.557 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:15.558 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63433/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-06 04:05:15.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:15.563 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:15.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:15.570 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:15.671 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:15.671 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:15.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738814715563760896,"ephemeral":false}]'
2025-02-06 04:05:15.675 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:15.675 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:15.677 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738814715563760896,"ephemeral":false}]'
2025-02-06 04:05:15.678 INFO [src.steps.relay] WARM UP successful!!
2025-02-06 04:05:15.679 DEBUG [tests.relay.test_publish] Running test with timestamp Now
2025-02-06 04:05:15.680 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:15.684 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:15.685 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:15.785 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:15.785 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:15.788 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738814544746447872,"ephemeral":false}]'
2025-02-06 04:05:15.790 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:15.790 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:15.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738814544746447872,"ephemeral":false}]'
2025-02-06 04:05:15.794 DEBUG [tests.relay.test_publish] Running test with timestamp Far future
2025-02-06 04:05:15.794 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:15.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:15.799 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:15.899 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:15.899 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:15.902 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054174544746434048,"ephemeral":false}]'
2025-02-06 04:05:15.903 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:15.904 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:15.906 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054174544746434048,"ephemeral":false}]'
2025-02-06 04:05:15.907 DEBUG [tests.relay.test_publish] Running test with timestamp Recent past
2025-02-06 04:05:15.908 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:15.912 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:15.913 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:16.013 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:16.013 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:16.015 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738810944746434048,"ephemeral":false}]'
2025-02-06 04:05:16.017 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:16.017 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:16.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738810944746434048,"ephemeral":false}]'
2025-02-06 04:05:16.020 DEBUG [tests.relay.test_publish] Running test with timestamp Near future
2025-02-06 04:05:16.020 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:16.024 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:16.025 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:16.125 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:16.125 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:16.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738818144746434048,"ephemeral":false}]'
2025-02-06 04:05:16.129 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:16.129 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:16.132 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738818144746434048,"ephemeral":false}]'
2025-02-06 04:05:16.133 DEBUG [tests.relay.test_publish] Running test with timestamp Positive number
2025-02-06 04:05:16.133 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:16.138 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:16.138 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:16.239 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:16.239 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:16.242 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-06 04:05:16.243 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:16.243 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:16.246 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-06 04:05:16.248 DEBUG [tests.relay.test_publish] Running test with timestamp Negative number
2025-02-06 04:05:16.248 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:16.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:16.254 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:16.354 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:16.354 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:16.356 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-06 04:05:16.358 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:16.358 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:16.360 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-06 04:05:16.361 DEBUG [tests.relay.test_publish] Running test with timestamp DST change
2025-02-06 04:05:16.361 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:05:16.365 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:05:16.366 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:05:16.466 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:16.466 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:16.469 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-06 04:05:16.470 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:05:16.470 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:05:16.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-06 04:05:16.476 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 04:05:16.477 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 04:05:16.477 DEBUG [src.node.waku_node] Stopping container with id baa600deef02
2025-02-06 04:05:17.726 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:05:17.727 DEBUG [src.node.waku_node] Stopping container with id c194332b8dcd
2025-02-06 04:05:18.539 ERROR [src.node.docker_mananger] Max retries reached for container baa600deef02. Exiting log stream.
2025-02-06 04:05:19.238 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:05:19.241 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 04:05:19.246 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:05:19.253 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
