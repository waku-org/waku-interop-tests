2025-02-06 04:06:02.699 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 04:06:02.700 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics with id: 2025-02-06_04-06-02__fea72335-6b85-410d-9e01-c461edbb194c
2025-02-06 04:06:02.700 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 04:06:02.700 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 04:06:02.700 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-06 04:06:02.707 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:06:02.708 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_04-06-02__fea72335-6b85-410d-9e01-c461edbb194c__wakuorg_nwaku:latest.log
2025-02-06 04:06:02.708 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:06:02.708 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:06:02.709 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:06:02.709 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.159.114
2025-02-06 04:06:02.709 DEBUG [src.node.docker_mananger] Generated ports ['4390', '4391', '4392', '4393', '4394']
2025-02-06 04:06:02.710 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:06:02.710 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:06:02.710 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:06:02.710 DEBUG [src.node.docker_mananger] docker run -i -t -p 4390:4390 -p 4391:4391 -p 4392:4392 -p 4393:4393 -p 4394:4394 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4392 --rest-port=4390 --tcp-port=4391 --discv5-udp-port=4393 --rest-address=0.0.0.0 --nat=extip:172.18.159.114 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ac8dcffd4ff4dca3196a5d8349d5a31d7cae36eaefd1f0dfe4ee4da2c2e8eac8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4394 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-06 04:06:02.935 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.159.114 waku 5a04ad2886c5e7cfdda8cd177cf12ef605f22d2083e36db507a6394fa737b638
2025-02-06 04:06:02.984 DEBUG [src.node.docker_mananger] Container started with ID 5a04ad2886c5. Setting up logs at ./log/docker/node1_2025-02-06_04-06-02__fea72335-6b85-410d-9e01-c461edbb194c__wakuorg_nwaku:latest.log
2025-02-06 04:06:02.985 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4390
2025-02-06 04:06:02.985 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:06:03.502 ERROR [src.node.docker_mananger] Max retries reached for container 3953ceb23911. Exiting log stream.
2025-02-06 04:06:03.985 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:03.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:06:03.988 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:06:03.989 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:03.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.159.114/tcp/4391/p2p/16Uiu2HAmAisu8WYa41hZPBP2vZTpyYUnab84BMBwBav4AzARVDTc","/ip4/172.18.159.114/tcp/4392/ws/p2p/16Uiu2HAmAisu8WYa41hZPBP2vZTpyYUnab84BMBwBav4AzARVDTc"],"enrUri":"enr:-L24QDUyXiKPbe9nHQnKNqhIstnyPVVMpkAIdCgflj8MJqk9YfpOeMqaFmtBShDWGT_sPx086HWftEMQE4jq6lYQTJgCgmlkgnY0gmlwhKwSn3KKbXVsdGlhZGRyc5YACASsEp9yBhEnAAoErBKfcgYRKN0DgnJzhQACAQAAiXNlY3AyNTZrMaEC40enuh5XQ-xAlYQwQ_4ulHSSpo1QFTUaxtcnSNQ7F_eDdGNwghEng3VkcIIRKYV3YWt1MgU"}'
2025-02-06 04:06:03.991 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:06:03.998 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:06:03.998 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_04-06-02__fea72335-6b85-410d-9e01-c461edbb194c__wakuorg_nwaku:latest.log
2025-02-06 04:06:03.998 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:06:03.998 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:06:04.000 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:06:04.000 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.59.220
2025-02-06 04:06:04.000 DEBUG [src.node.docker_mananger] Generated ports ['49416', '49417', '49418', '49419', '49420']
2025-02-06 04:06:04.000 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:06:04.000 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:06:04.000 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:06:04.001 DEBUG [src.node.docker_mananger] docker run -i -t -p 49416:49416 -p 49417:49417 -p 49418:49418 -p 49419:49419 -p 49420:49420 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49418 --rest-port=49416 --tcp-port=49417 --discv5-udp-port=49419 --rest-address=0.0.0.0 --nat=extip:172.18.59.220 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=0700beeb2773f3da5ee9ed79a8babbcfecb643d8ea1920d439e052759eb531ff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49420 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDUyXiKPbe9nHQnKNqhIstnyPVVMpkAIdCgflj8MJqk9YfpOeMqaFmtBShDWGT_sPx086HWftEMQE4jq6lYQTJgCgmlkgnY0gmlwhKwSn3KKbXVsdGlhZGRyc5YACASsEp9yBhEnAAoErBKfcgYRKN0DgnJzhQACAQAAiXNlY3AyNTZrMaEC40enuh5XQ-xAlYQwQ_4ulHSSpo1QFTUaxtcnSNQ7F_eDdGNwghEng3VkcIIRKYV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-06 04:06:04.234 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.59.220 waku 564bfbe28c9f505839514fdea0bd66571493c767dc058a8b304cd8cee6a55cdc
2025-02-06 04:06:04.285 DEBUG [src.node.docker_mananger] Container started with ID 564bfbe28c9f. Setting up logs at ./log/docker/node2_2025-02-06_04-06-02__fea72335-6b85-410d-9e01-c461edbb194c__wakuorg_nwaku:latest.log
2025-02-06 04:06:04.286 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 49416
2025-02-06 04:06:04.286 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:06:05.286 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49416/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.296 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:06:05.297 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:06:05.298 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49416/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.303 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.59.220/tcp/49417/p2p/16Uiu2HAmKYeQuoALsScgKefsUJTnHcuiupnoW8Y3DmifuqW6asAT","/ip4/172.18.59.220/tcp/49418/ws/p2p/16Uiu2HAmKYeQuoALsScgKefsUJTnHcuiupnoW8Y3DmifuqW6asAT"],"enrUri":"enr:-L24QEbs_utjHZYrJ0JIWkWGr0PRqfT20lxhspYb2-5p_y3mDzZ88bBL5Lfp2yQDnrRh_UxodOphwDezcewy7oFeOBgCgmlkgnY0gmlwhKwSO9yKbXVsdGlhZGRyc5YACASsEjvcBsEJAAoErBI73AbBCt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDZmHHuBzxmnKO_htIGWQKMRmdWn2GLqkCmaIxse-VVMSDdGNwgsEJg3VkcILBC4V3YWt1MgE"}'
2025-02-06 04:06:05.304 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:06:05.304 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49416/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.114/tcp/4391/p2p/16Uiu2HAmAisu8WYa41hZPBP2vZTpyYUnab84BMBwBav4AzARVDTc"]'
2025-02-06 04:06:05.308 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:05.309 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-06 04:06:05.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:05.322 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49416/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-06 04:06:05.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:05.342 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:05.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:05.351 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:05.451 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:05.452 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814765342495232,"ephemeral":false}]'
2025-02-06 04:06:05.456 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:05.456 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49416/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814765342495232,"ephemeral":false}]'
2025-02-06 04:06:05.460 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:05.465 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:05.465 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:05.566 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:05.566 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738814765460572928,"ephemeral":false}]'
2025-02-06 04:06:05.571 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:05.571 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49416/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.573 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738814765460572928,"ephemeral":false}]'
2025-02-06 04:06:05.575 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:05.580 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:05.581 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:05.681 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:05.681 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.684 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738814765575254784,"ephemeral":false}]'
2025-02-06 04:06:05.685 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:05.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49416/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738814765575254784,"ephemeral":false}]'
2025-02-06 04:06:05.690 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:05.695 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:05.695 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:05.796 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:05.796 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.799 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738814765690387200,"ephemeral":false}]'
2025-02-06 04:06:05.800 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:05.800 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49416/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738814765690387200,"ephemeral":false}]'
2025-02-06 04:06:05.804 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:05.809 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:05.809 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:05.909 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:05.910 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.912 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738814765804706304,"ephemeral":false}]'
2025-02-06 04:06:05.914 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:05.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49416/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:05.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738814765804706304,"ephemeral":false}]'
2025-02-06 04:06:05.918 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:05.922 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:05.923 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:06.024 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.024 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738814765918327296,"ephemeral":false}]'
2025-02-06 04:06:06.028 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.029 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49416/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738814765918327296,"ephemeral":false}]'
2025-02-06 04:06:06.032 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:06.037 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:06.037 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:06.138 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.139 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738814766032762880,"ephemeral":false}]'
2025-02-06 04:06:06.143 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.143 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49416/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.146 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738814766032762880,"ephemeral":false}]'
2025-02-06 04:06:06.147 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:06.152 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:06.153 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:06.253 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.254 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.257 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738814766147838976,"ephemeral":false}]'
2025-02-06 04:06:06.258 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.258 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49416/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738814766147838976,"ephemeral":false}]'
2025-02-06 04:06:06.262 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:4390/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-06 04:06:06.278 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:06.279 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:49416/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-06 04:06:06.298 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:06.298 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:06.303 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:06.303 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:06.403 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.404 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.406 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:4390/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-06 04:06:06.408 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:06.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:06.411 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:06.511 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.512 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.514 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:4390/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-06 04:06:06.515 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:06.518 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:06.518 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:06.618 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.619 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.621 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-06 04:06:06.622 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:06.625 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:06.625 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:06.725 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.725 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.728 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:4390/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-06 04:06:06.730 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:06.732 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:06.732 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:06.833 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.833 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.835 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:4390/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-06 04:06:06.837 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:06.839 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:06.839 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:06.940 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:06.940 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:06.942 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-06 04:06:06.944 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:06.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:06.947 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:07.048 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:07.048 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:07.051 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-06 04:06:07.052 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4390/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:06:07.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:06:07.055 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:06:07.155 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:06:07.156 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:06:07.158 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:4390/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-06 04:06:07.161 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 04:06:07.162 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 04:06:07.162 DEBUG [src.node.waku_node] Stopping container with id 5a04ad2886c5
2025-02-06 04:06:08.305 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:06:08.305 DEBUG [src.node.waku_node] Stopping container with id 564bfbe28c9f
2025-02-06 04:06:09.118 ERROR [src.node.docker_mananger] Max retries reached for container 5a04ad2886c5. Exiting log stream.
2025-02-06 04:06:09.794 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:06:09.795 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 04:06:09.810 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:06:09.821 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
