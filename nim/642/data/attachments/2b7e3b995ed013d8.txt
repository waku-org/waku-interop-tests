2025-02-06 04:04:38.553 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 04:04:38.554 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2025-02-06_04-04-38__a11eb784-690d-4579-a822-f7d63e9d0e3e
2025-02-06 04:04:38.554 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 04:04:38.554 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 04:04:38.554 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-06 04:04:38.562 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:04:38.562 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_04-04-38__a11eb784-690d-4579-a822-f7d63e9d0e3e__wakuorg_nwaku:latest.log
2025-02-06 04:04:38.562 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:04:38.562 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:04:38.565 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:04:38.565 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.231.39
2025-02-06 04:04:38.565 DEBUG [src.node.docker_mananger] Generated ports ['43221', '43222', '43223', '43224', '43225']
2025-02-06 04:04:38.565 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:04:38.565 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:04:38.565 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:04:38.565 DEBUG [src.node.docker_mananger] docker run -i -t -p 43221:43221 -p 43222:43222 -p 43223:43223 -p 43224:43224 -p 43225:43225 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43223 --rest-port=43221 --tcp-port=43222 --discv5-udp-port=43224 --rest-address=0.0.0.0 --nat=extip:172.18.231.39 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=cce8adb5efe7399be0fdebbb5a27d55acb40a5bffa347a4bc739b9fde8bef229 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43225 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-06 04:04:38.790 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.231.39 waku 37669693d967e72629ebf0ad3185399a8d707491bac77409e4d6df70b2c545c0
2025-02-06 04:04:38.839 DEBUG [src.node.docker_mananger] Container started with ID 37669693d967. Setting up logs at ./log/docker/node1_2025-02-06_04-04-38__a11eb784-690d-4579-a822-f7d63e9d0e3e__wakuorg_nwaku:latest.log
2025-02-06 04:04:38.840 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 43221
2025-02-06 04:04:38.840 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:04:39.356 ERROR [src.node.docker_mananger] Max retries reached for container e3e9dde16def. Exiting log stream.
2025-02-06 04:04:39.840 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:39.843 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:04:39.844 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:04:39.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:39.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.231.39/tcp/43222/p2p/16Uiu2HAmRz6rd9JSPvTBFoQ69haYfdd3RbK5PNqTwKgQfZm6jqsB","/ip4/172.18.231.39/tcp/43223/ws/p2p/16Uiu2HAmRz6rd9JSPvTBFoQ69haYfdd3RbK5PNqTwKgQfZm6jqsB"],"enrUri":"enr:-L24QCyUGT3lwXhWfdnEDSAX4l5exL6VW_MMjwKY4ONG0uLFCS7VZ4GFbJ2DR5ErFpVXvfgSIT6GrAtx7kFg4BwbkYoCgmlkgnY0gmlwhKwS5yeKbXVsdGlhZGRyc5YACASsEucnBqjWAAoErBLnJwao190DgnJzhQACAQAAiXNlY3AyNTZrMaEDxg1STe5RPm1SmaNCpcc0K7jfkwHKNzwf4CaWct25IX6DdGNwgqjWg3VkcIKo2IV3YWt1MgU"}'
2025-02-06 04:04:39.846 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:04:39.853 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 04:04:39.853 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_04-04-38__a11eb784-690d-4579-a822-f7d63e9d0e3e__wakuorg_nwaku:latest.log
2025-02-06 04:04:39.853 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 04:04:39.853 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 04:04:39.855 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 04:04:39.855 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.21.146
2025-02-06 04:04:39.855 DEBUG [src.node.docker_mananger] Generated ports ['36584', '36585', '36586', '36587', '36588']
2025-02-06 04:04:39.855 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 04:04:39.855 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 04:04:39.855 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 04:04:39.855 DEBUG [src.node.docker_mananger] docker run -i -t -p 36584:36584 -p 36585:36585 -p 36586:36586 -p 36587:36587 -p 36588:36588 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36586 --rest-port=36584 --tcp-port=36585 --discv5-udp-port=36587 --rest-address=0.0.0.0 --nat=extip:172.18.21.146 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=d122b712eef4b31c35a5f84cbb406c10bc2676eeacaaa4a0bd64e60eb41eaad4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36588 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCyUGT3lwXhWfdnEDSAX4l5exL6VW_MMjwKY4ONG0uLFCS7VZ4GFbJ2DR5ErFpVXvfgSIT6GrAtx7kFg4BwbkYoCgmlkgnY0gmlwhKwS5yeKbXVsdGlhZGRyc5YACASsEucnBqjWAAoErBLnJwao190DgnJzhQACAQAAiXNlY3AyNTZrMaEDxg1STe5RPm1SmaNCpcc0K7jfkwHKNzwf4CaWct25IX6DdGNwgqjWg3VkcIKo2IV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-06 04:04:40.092 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.21.146 waku 996987a08289bf62236a251391c018084e5153e5527e3fe72c27e9bb00037332
2025-02-06 04:04:40.142 DEBUG [src.node.docker_mananger] Container started with ID 996987a08289. Setting up logs at ./log/docker/node2_2025-02-06_04-04-38__a11eb784-690d-4579-a822-f7d63e9d0e3e__wakuorg_nwaku:latest.log
2025-02-06 04:04:40.142 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 36584
2025-02-06 04:04:40.143 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 04:04:41.145 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.152 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 04:04:41.152 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 04:04:41.152 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.146/tcp/36585/p2p/16Uiu2HAm3LkdPYLhJhQjUoBkYFYkqvPX1GUMtXoGErBP639Cuo6m","/ip4/172.18.21.146/tcp/36586/ws/p2p/16Uiu2HAm3LkdPYLhJhQjUoBkYFYkqvPX1GUMtXoGErBP639Cuo6m"],"enrUri":"enr:-L24QFykLksZz6S-V32o_fEeFGCKI4KjOBZIwvCRdaO4Tbb_ERvtpOIlbPX9ms40yxD37fb7eUMhty0LoWqLJu4PTO0CgmlkgnY0gmlwhKwSFZKKbXVsdGlhZGRyc5YACASsEhWSBo7pAAoErBIVkgaO6t0DgnJzhQACAQAAiXNlY3AyNTZrMaECdZrY3BbLvzULNfbb5mxnFMIDVn5pCF8x325M6WdloZaDdGNwgo7pg3VkcIKO64V3YWt1MgE"}'
2025-02-06 04:04:41.157 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 04:04:41.157 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36584/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.231.39/tcp/43222/p2p/16Uiu2HAmRz6rd9JSPvTBFoQ69haYfdd3RbK5PNqTwKgQfZm6jqsB"]'
2025-02-06 04:04:41.160 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:41.161 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-06 04:04:41.172 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:41.173 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36584/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-06 04:04:41.194 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:41.196 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:41.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:41.205 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:41.306 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.307 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.310 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814681196213248,"ephemeral":false}]'
2025-02-06 04:04:41.311 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.312 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.314 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738814681196213248,"ephemeral":false}]'
2025-02-06 04:04:41.316 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:41.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:41.322 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:41.422 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.423 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738814681316382208,"ephemeral":false}]'
2025-02-06 04:04:41.427 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.427 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738814681316382208,"ephemeral":false}]'
2025-02-06 04:04:41.432 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:41.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:41.437 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:41.537 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.538 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.540 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738814681432003072,"ephemeral":false}]'
2025-02-06 04:04:41.542 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.542 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.544 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738814681432003072,"ephemeral":false}]'
2025-02-06 04:04:41.546 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:41.551 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:41.552 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:41.652 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.653 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738814681546387200,"ephemeral":false}]'
2025-02-06 04:04:41.657 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.657 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738814681546387200,"ephemeral":false}]'
2025-02-06 04:04:41.661 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:41.666 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:41.666 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:41.767 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.767 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.770 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738814681661485824,"ephemeral":false}]'
2025-02-06 04:04:41.772 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.772 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738814681661485824,"ephemeral":false}]'
2025-02-06 04:04:41.776 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:41.781 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:41.781 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:41.882 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.882 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.885 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738814681776385536,"ephemeral":false}]'
2025-02-06 04:04:41.887 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.887 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:41.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738814681776385536,"ephemeral":false}]'
2025-02-06 04:04:41.891 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:41.896 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:41.896 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:41.997 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:41.997 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.000 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738814681891407104,"ephemeral":false}]'
2025-02-06 04:04:42.002 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.002 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738814681891407104,"ephemeral":false}]'
2025-02-06 04:04:42.006 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:42.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:42.011 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:42.112 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.112 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738814682006177536,"ephemeral":false}]'
2025-02-06 04:04:42.117 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.117 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.119 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738814682006177536,"ephemeral":false}]'
2025-02-06 04:04:42.120 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43221/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-06 04:04:42.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:42.130 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:36584/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-06 04:04:42.137 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:42.138 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:42.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:42.141 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:42.241 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.242 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.244 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43221/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-06 04:04:42.246 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:42.249 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:42.249 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:42.349 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.350 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.353 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43221/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-06 04:04:42.354 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:42.357 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:42.357 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:42.457 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.458 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.461 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43221/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-06 04:04:42.462 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:42.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:42.468 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:42.569 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.569 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738814682462538240,"ephemeral":false}]'
2025-02-06 04:04:42.574 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.574 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.577 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738814682462538240,"ephemeral":false}]'
2025-02-06 04:04:42.579 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:42.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:42.585 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:42.686 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.686 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738814682579398656,"ephemeral":false}]'
2025-02-06 04:04:42.691 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.691 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.694 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738814682579398656,"ephemeral":false}]'
2025-02-06 04:04:42.695 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:42.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:42.701 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:42.802 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.802 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.805 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738814682695729408,"ephemeral":false}]'
2025-02-06 04:04:42.807 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.807 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.809 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738814682695729408,"ephemeral":false}]'
2025-02-06 04:04:42.811 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:42.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:42.816 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:42.916 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.917 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738814682811210752,"ephemeral":false}]'
2025-02-06 04:04:42.921 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:42.921 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:42.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738814682811210752,"ephemeral":false}]'
2025-02-06 04:04:42.925 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43221/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 04:04:42.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 04:04:42.931 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 04:04:43.031 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:43.032 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43221/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:43.035 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738814682925413888,"ephemeral":false}]'
2025-02-06 04:04:43.036 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-06 04:04:43.036 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36584/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-06 04:04:43.038 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738814682925413888,"ephemeral":false}]'
2025-02-06 04:04:43.041 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 04:04:43.042 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 04:04:43.042 DEBUG [src.node.waku_node] Stopping container with id 37669693d967
2025-02-06 04:04:44.318 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:04:44.318 DEBUG [src.node.waku_node] Stopping container with id 996987a08289
2025-02-06 04:04:45.131 ERROR [src.node.docker_mananger] Max retries reached for container 37669693d967. Exiting log stream.
2025-02-06 04:04:45.798 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 04:04:45.799 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 04:04:45.809 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 04:04:45.819 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
