[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-14_04-09-42__1966068b-bb57-4767-9c0e-a53cbbd070fd
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-14_04-09-42__1966068b-bb57-4767-9c0e-a53cbbd070fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.128.123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24540', '24541', '24542', '24543', '24544']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24540:24540 -p 24541:24541 -p 24542:24542 -p 24543:24543 -p 24544:24544 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24542 --rest-port=24540 --tcp-port=24541 --discv5-udp-port=24543 --rest-address=0.0.0.0 --nat=extip:172.18.128.123 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=219a5adb6b4336ab7c7b0cbdb2df4e0edd0cef375da5b52c6ff478cf789a98e9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24544 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.128.123 waku f880ab4ee500b2f820597c3f60ac28ceb5aed1cf33e6f3e04440f24df7aea4af
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f880ab4ee500. Setting up logs at ./log/docker/node1_2024-12-14_04-09-42__1966068b-bb57-4767-9c0e-a53cbbd070fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 24540
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 72dd8cca24aa. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24540/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24540/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.123/tcp/24541/p2p/16Uiu2HAmVNMPQ2gPRSPDAz5UHpyWW9bTPSwVnsjyzEneLoGphf8P","/ip4/172.18.128.123/tcp/24542/ws/p2p/16Uiu2HAmVNMPQ2gPRSPDAz5UHpyWW9bTPSwVnsjyzEneLoGphf8P"],"enrUri":"enr:-L24QELH2bF9F-Qq2MAton_uNn_Qwjl9sVKQ8EEVCMnOtlImPDHBC2QOqWa9kL93ZoyZ9avaCwDQn9rvtgO29Vhu6aoCgmlkgnY0gmlwhKwSgHuKbXVsdGlhZGRyc5YACASsEoB7Bl_dAAoErBKAewZf3t0DgnJzhQADAQAAiXNlY3AyNTZrMaED-FOXAVuiKbqaGDxZC1PdpT6zi83cUn9wlKkoRyTvL5SDdGNwgl_dg3VkcIJf34V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-14_04-09-42__1966068b-bb57-4767-9c0e-a53cbbd070fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.104.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47716', '47717', '47718', '47719', '47720']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47716:47716 -p 47717:47717 -p 47718:47718 -p 47719:47719 -p 47720:47720 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47718 --rest-port=47716 --tcp-port=47717 --discv5-udp-port=47719 --rest-address=0.0.0.0 --nat=extip:172.18.104.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7cf6f40fde3c3dab3f2480c92db2fc41edcfff6a09fcdaaefacd143b1890a8cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47720 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QELH2bF9F-Qq2MAton_uNn_Qwjl9sVKQ8EEVCMnOtlImPDHBC2QOqWa9kL93ZoyZ9avaCwDQn9rvtgO29Vhu6aoCgmlkgnY0gmlwhKwSgHuKbXVsdGlhZGRyc5YACASsEoB7Bl_dAAoErBKAewZf3t0DgnJzhQADAQAAiXNlY3AyNTZrMaED-FOXAVuiKbqaGDxZC1PdpT6zi83cUn9wlKkoRyTvL5SDdGNwgl_dg3VkcIJf34V3YWt1MgU --filternode=/ip4/172.18.128.123/tcp/24541/p2p/16Uiu2HAmVNMPQ2gPRSPDAz5UHpyWW9bTPSwVnsjyzEneLoGphf8P
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.104.50 waku 95885e4578b57afbfec15793d634ed288fd7f4e4d64b270edd974c79b949ee74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 95885e4578b5. Setting up logs at ./log/docker/node2_2024-12-14_04-09-42__1966068b-bb57-4767-9c0e-a53cbbd070fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 47716
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47716/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47716/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.50/tcp/47717/p2p/16Uiu2HAmPYH684wJLKbQ6gQaLypAgvtCueAKC5Rsr5tNGvMiJeys","/ip4/172.18.104.50/tcp/47718/ws/p2p/16Uiu2HAmPYH684wJLKbQ6gQaLypAgvtCueAKC5Rsr5tNGvMiJeys"],"enrUri":"enr:-L24QDZ-04vaNXOpX8Cl_iSrF1jsSYrbKgaY5qDFFCEHv3PibEMWQzoDsQcnUO3SPWRU2BndrC4ip9wRxkAcMeAUzT0CgmlkgnY0gmlwhKwSaDKKbXVsdGlhZGRyc5YACASsEmgyBrplAAoErBJoMga6Zt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDobhqs7cvPypFFEEbU_Micfboj8Y2qS4QOLnaBTZ1u46DdGNwgrplg3VkcIK6Z4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47716/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.123/tcp/24541/p2p/16Uiu2HAmVNMPQ2gPRSPDAz5UHpyWW9bTPSwVnsjyzEneLoGphf8P"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-14_04-09-42__1966068b-bb57-4767-9c0e-a53cbbd070fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.91.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35828', '35829', '35830', '35831', '35832']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35828:35828 -p 35829:35829 -p 35830:35830 -p 35831:35831 -p 35832:35832 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35830 --rest-port=35828 --tcp-port=35829 --discv5-udp-port=35831 --rest-address=0.0.0.0 --nat=extip:172.18.91.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=53dea4ed0afd29dbce5d1b9fc3f0cffcadd431caedae5b7f4abe3adadbaad79a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35832 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QELH2bF9F-Qq2MAton_uNn_Qwjl9sVKQ8EEVCMnOtlImPDHBC2QOqWa9kL93ZoyZ9avaCwDQn9rvtgO29Vhu6aoCgmlkgnY0gmlwhKwSgHuKbXVsdGlhZGRyc5YACASsEoB7Bl_dAAoErBKAewZf3t0DgnJzhQADAQAAiXNlY3AyNTZrMaED-FOXAVuiKbqaGDxZC1PdpT6zi83cUn9wlKkoRyTvL5SDdGNwgl_dg3VkcIJf34V3YWt1MgU --filternode=/ip4/172.18.128.123/tcp/24541/p2p/16Uiu2HAmVNMPQ2gPRSPDAz5UHpyWW9bTPSwVnsjyzEneLoGphf8P
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.91.117 waku fbd542f0e40cbc4f24ce97b9ed0c6fb8c16ae27523b9c29917ff47f174b25ecd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fbd542f0e40c. Setting up logs at ./log/docker/node3_2024-12-14_04-09-42__1966068b-bb57-4767-9c0e-a53cbbd070fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 35828
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35828/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35828/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.117/tcp/35829/p2p/16Uiu2HAkyTTMW9g4Z99eww8TTwQXQFx7tEg4LxJ3zPUexVZQVoh2","/ip4/172.18.91.117/tcp/35830/ws/p2p/16Uiu2HAkyTTMW9g4Z99eww8TTwQXQFx7tEg4LxJ3zPUexVZQVoh2"],"enrUri":"enr:-L24QFZMbhO84sJ7CsAN4EdPZ1suqEY867pdtqV4WLlj_iesBewKoktqEXBQCjkDQuNtv9ChoYR9SoSJ5JNWXojWricCgmlkgnY0gmlwhKwSW3WKbXVsdGlhZGRyc5YACASsElt1Bov1AAoErBJbdQaL9t0DgnJzhQADAQAAiXNlY3AyNTZrMaECO-OiJw0JJV6FiZyio9sM19jaKLWPjfwTOBkzrUcw9dmDdGNwgov1g3VkcIKL94V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35828/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.123/tcp/24541/p2p/16Uiu2HAmVNMPQ2gPRSPDAz5UHpyWW9bTPSwVnsjyzEneLoGphf8P"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-14_04-09-42__1966068b-bb57-4767-9c0e-a53cbbd070fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.144.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61860', '61861', '61862', '61863', '61864']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61860:61860 -p 61861:61861 -p 61862:61862 -p 61863:61863 -p 61864:61864 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61862 --rest-port=61860 --tcp-port=61861 --discv5-udp-port=61863 --rest-address=0.0.0.0 --nat=extip:172.18.144.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=79e0a878ce3820cfe3ab2daa0bc16c28ec1f9a6578cbdfc4a9a7cd8c0adcdfcd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61864 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QELH2bF9F-Qq2MAton_uNn_Qwjl9sVKQ8EEVCMnOtlImPDHBC2QOqWa9kL93ZoyZ9avaCwDQn9rvtgO29Vhu6aoCgmlkgnY0gmlwhKwSgHuKbXVsdGlhZGRyc5YACASsEoB7Bl_dAAoErBKAewZf3t0DgnJzhQADAQAAiXNlY3AyNTZrMaED-FOXAVuiKbqaGDxZC1PdpT6zi83cUn9wlKkoRyTvL5SDdGNwgl_dg3VkcIJf34V3YWt1MgU --filternode=/ip4/172.18.128.123/tcp/24541/p2p/16Uiu2HAmVNMPQ2gPRSPDAz5UHpyWW9bTPSwVnsjyzEneLoGphf8P
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.144.95 waku f45a830b4b43126a485e65faf0d68ee16944b91b685f1cec312e0b80276d1413
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f45a830b4b43. Setting up logs at ./log/docker/node4_2024-12-14_04-09-42__1966068b-bb57-4767-9c0e-a53cbbd070fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61860
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61860/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61860/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.144.95/tcp/61861/p2p/16Uiu2HAmKX4LpZLohh6QknsqYuX9xbKoUa9oDYAVgU6ZtT1SptSN","/ip4/172.18.144.95/tcp/61862/ws/p2p/16Uiu2HAmKX4LpZLohh6QknsqYuX9xbKoUa9oDYAVgU6ZtT1SptSN"],"enrUri":"enr:-L24QM6xv-_qcdv2opM8kDx_A4LNff9T8-kZqg59N1NiKb5OB1EuY7CTsU-emJxH4xQuCNeevv0gAo_x6kddOW5REBgCgmlkgnY0gmlwhKwSkF-KbXVsdGlhZGRyc5YACASsEpBfBvGlAAoErBKQXwbxpt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDZfms-XG3RpwtPbUDr5AI94M5misQfxvKC4ueTowDV9ODdGNwgvGlg3VkcILxp4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61860/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.123/tcp/24541/p2p/16Uiu2HAmVNMPQ2gPRSPDAz5UHpyWW9bTPSwVnsjyzEneLoGphf8P"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-14_04-09-42__1966068b-bb57-4767-9c0e-a53cbbd070fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.239.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3704', '3705', '3706', '3707', '3708']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3704:3704 -p 3705:3705 -p 3706:3706 -p 3707:3707 -p 3708:3708 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3706 --rest-port=3704 --tcp-port=3705 --discv5-udp-port=3707 --rest-address=0.0.0.0 --nat=extip:172.18.239.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea61a00c4cb23a60578cf2f39e6ddbdaf8b6de196f2ca56b3e7834c966c5cdcc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3708 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QELH2bF9F-Qq2MAton_uNn_Qwjl9sVKQ8EEVCMnOtlImPDHBC2QOqWa9kL93ZoyZ9avaCwDQn9rvtgO29Vhu6aoCgmlkgnY0gmlwhKwSgHuKbXVsdGlhZGRyc5YACASsEoB7Bl_dAAoErBKAewZf3t0DgnJzhQADAQAAiXNlY3AyNTZrMaED-FOXAVuiKbqaGDxZC1PdpT6zi83cUn9wlKkoRyTvL5SDdGNwgl_dg3VkcIJf34V3YWt1MgU --filternode=/ip4/172.18.128.123/tcp/24541/p2p/16Uiu2HAmVNMPQ2gPRSPDAz5UHpyWW9bTPSwVnsjyzEneLoGphf8P
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.239.19 waku d6aa253d9993ec3630b34a3a75e31898f162228ccf1095a3ee9e569f7ef0f5d9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d6aa253d9993. Setting up logs at ./log/docker/node5_2024-12-14_04-09-42__1966068b-bb57-4767-9c0e-a53cbbd070fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3704
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3704/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3704/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.239.19/tcp/3705/p2p/16Uiu2HAkyErvH6bvxThFB32zTQejAtuVXdHqmYRSFWkHZUDpMog5","/ip4/172.18.239.19/tcp/3706/ws/p2p/16Uiu2HAkyErvH6bvxThFB32zTQejAtuVXdHqmYRSFWkHZUDpMog5"],"enrUri":"enr:-L24QJxPCabhKvXTHXjXLdMF8i0ZIaudGKcicE68NN4w9iQJbVDZJ6BtS6t0vsoPK5uMYQJE3O4Gx4zmWhfmum4yE68CgmlkgnY0gmlwhKwS7xOKbXVsdGlhZGRyc5YACASsEu8TBg55AAoErBLvEwYOet0DgnJzhQADAQAAiXNlY3AyNTZrMaECOKm6X1fdle1hXo_dWNsQ1xrl-Z9zBfzvD38QW5PDNKKDdGNwgg55g3VkcIIOe4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3704/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.123/tcp/24541/p2p/16Uiu2HAmVNMPQ2gPRSPDAz5UHpyWW9bTPSwVnsjyzEneLoGphf8P"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24540/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47716/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "73234898-d091-4c1f-917e-66636cdc0615", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"73234898-d091-4c1f-917e-66636cdc0615","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35828/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d55d55f6-c563-43b9-8811-8704bfcbcc19", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d55d55f6-c563-43b9-8811-8704bfcbcc19","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61860/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e5ea863b-a0f9-49a3-a739-87ffb72c16ab", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e5ea863b-a0f9-49a3-a739-87ffb72c16ab","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3704/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "416accf7-9a5f-487e-8b0c-92e651551624", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"416accf7-9a5f-487e-8b0c-92e651551624","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47716/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1734149390622537472,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35828/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:35828/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f880ab4ee500
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 95885e4578b5
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f880ab4ee500. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fbd542f0e40c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 95885e4578b5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f45a830b4b43
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fbd542f0e40c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d6aa253d9993
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f45a830b4b43. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.