2025-02-07 04:04:04.734 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 04:04:04.735 DEBUG [tests.conftest] Running test: test_subscribe_one_by_one_to_different_pubsub_topics_and_send_messages with id: 2025-02-07_04-04-04__1f050ba6-7f20-40d2-b833-2d2263b8ce64
2025-02-07 04:04:04.735 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 04:04:04.735 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-07 04:04:04.735 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-07 04:04:04.742 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:04:04.742 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-07_04-04-04__1f050ba6-7f20-40d2-b833-2d2263b8ce64__wakuorg_nwaku:latest.log
2025-02-07 04:04:04.743 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:04:04.743 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:04:04.744 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:04:04.744 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.113.38
2025-02-07 04:04:04.744 DEBUG [src.node.docker_mananger] Generated ports ['47355', '47356', '47357', '47358', '47359']
2025-02-07 04:04:04.745 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:04:04.745 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:04:04.745 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:04:04.745 DEBUG [src.node.docker_mananger] docker run -i -t -p 47355:47355 -p 47356:47356 -p 47357:47357 -p 47358:47358 -p 47359:47359 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47357 --rest-port=47355 --tcp-port=47356 --discv5-udp-port=47358 --rest-address=0.0.0.0 --nat=extip:172.18.113.38 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=df02b4e8701c241f7b5f6da0dccb029fa6aabaceddcdf87fe87e6cb1de69de2e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47359 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
2025-02-07 04:04:04.964 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.113.38 waku e8a7f5da9b87a89d264f3ca7e9fc5b41e2e864d2b735c157cd939402f767a17e
2025-02-07 04:04:05.014 DEBUG [src.node.docker_mananger] Container started with ID e8a7f5da9b87. Setting up logs at ./log/docker/node1_2025-02-07_04-04-04__1f050ba6-7f20-40d2-b833-2d2263b8ce64__wakuorg_nwaku:latest.log
2025-02-07 04:04:05.014 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 47355
2025-02-07 04:04:05.014 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:04:05.537 ERROR [src.node.docker_mananger] Max retries reached for container 1996af558db5. Exiting log stream.
2025-02-07 04:04:06.015 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47355/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:06.018 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:04:06.018 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:04:06.019 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47355/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:06.021 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.113.38/tcp/47356/p2p/16Uiu2HAkydU35yBj9Q2Y1kkgZhcLTEfSxgZyCtxqQ4hnNkF2iqsW","/ip4/172.18.113.38/tcp/47357/ws/p2p/16Uiu2HAkydU35yBj9Q2Y1kkgZhcLTEfSxgZyCtxqQ4hnNkF2iqsW"],"enrUri":"enr:-L24QB-cMDcwj8T_kkt5mnAKbYm_xLozQapjRstPOpj3YupuG1r4RnI6_l4AuyConSQ3GtUDJj8uUCQsS5aLsZxbUOICgmlkgnY0gmlwhKwScSaKbXVsdGlhZGRyc5YACASsEnEmBrj8AAoErBJxJga4_d0DgnJzhQACAQAAiXNlY3AyNTZrMaECPnQ2kh4UfdH4TFnLMe2rHoHYh88I1dotD0uNH0jAGKmDdGNwgrj8g3VkcIK4_oV3YWt1MgU"}'
2025-02-07 04:04:06.021 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:04:06.027 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:04:06.027 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-07_04-04-04__1f050ba6-7f20-40d2-b833-2d2263b8ce64__wakuorg_nwaku:latest.log
2025-02-07 04:04:06.028 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:04:06.028 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:04:06.029 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:04:06.029 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.153.133
2025-02-07 04:04:06.029 DEBUG [src.node.docker_mananger] Generated ports ['61240', '61241', '61242', '61243', '61244']
2025-02-07 04:04:06.030 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:04:06.030 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:04:06.030 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:04:06.030 DEBUG [src.node.docker_mananger] docker run -i -t -p 61240:61240 -p 61241:61241 -p 61242:61242 -p 61243:61243 -p 61244:61244 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61242 --rest-port=61240 --tcp-port=61241 --discv5-udp-port=61243 --rest-address=0.0.0.0 --nat=extip:172.18.153.133 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=afcbbbe485b7ec9b42f0cc9adc4e9d97fa8fcf82ebba23b7dfccdfec6fba5b8a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61244 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB-cMDcwj8T_kkt5mnAKbYm_xLozQapjRstPOpj3YupuG1r4RnI6_l4AuyConSQ3GtUDJj8uUCQsS5aLsZxbUOICgmlkgnY0gmlwhKwScSaKbXVsdGlhZGRyc5YACASsEnEmBrj8AAoErBJxJga4_d0DgnJzhQACAQAAiXNlY3AyNTZrMaECPnQ2kh4UfdH4TFnLMe2rHoHYh88I1dotD0uNH0jAGKmDdGNwgrj8g3VkcIK4_oV3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
2025-02-07 04:04:06.251 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.153.133 waku 089e0c4d97815650009cf87954b6f4169f765668c73ff244e4e037226690732b
2025-02-07 04:04:06.304 DEBUG [src.node.docker_mananger] Container started with ID 089e0c4d9781. Setting up logs at ./log/docker/node2_2025-02-07_04-04-04__1f050ba6-7f20-40d2-b833-2d2263b8ce64__wakuorg_nwaku:latest.log
2025-02-07 04:04:06.305 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 61240
2025-02-07 04:04:06.305 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:04:07.308 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61240/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:04:07.315 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:04:07.315 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61240/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.318 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.133/tcp/61241/p2p/16Uiu2HAm6hkLx213ACub7CyAgyx5Ky59n2S6Sich1TMjMeSNHFFW","/ip4/172.18.153.133/tcp/61242/ws/p2p/16Uiu2HAm6hkLx213ACub7CyAgyx5Ky59n2S6Sich1TMjMeSNHFFW"],"enrUri":"enr:-L24QH3iSINPqOaxHWCY-sgxjlGEbMk1pFPsct1-5UAut--LC1f8g8hghUnF209tOC8z6lBLavKWYjiXPXL5QHUifFYCgmlkgnY0gmlwhKwSmYWKbXVsdGlhZGRyc5YACASsEpmFBu85AAoErBKZhQbvOt0DgnJzhQACAQAAiXNlY3AyNTZrMaECp47IzS_OBpGvAsugQnRHc_ggBM5ymkgUhoqV3D23X_GDdGNwgu85g3VkcILvO4V3YWt1MgE"}'
2025-02-07 04:04:07.319 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:04:07.319 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61240/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.38/tcp/47356/p2p/16Uiu2HAkydU35yBj9Q2Y1kkgZhcLTEfSxgZyCtxqQ4hnNkF2iqsW"]'
2025-02-07 04:04:07.322 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.322 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-07 04:04:07.324 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.324 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61240/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-07 04:04:07.327 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.327 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:07.332 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.332 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:07.432 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:07.433 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.435 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047327449600,"ephemeral":false}]'
2025-02-07 04:04:07.437 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:07.437 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.440 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047327449600,"ephemeral":false}]'
2025-02-07 04:04:07.441 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-07 04:04:07.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.445 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61240/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-07 04:04:07.451 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.452 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:07.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.459 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:07.560 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:07.560 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047452532736,"ephemeral":false}]'
2025-02-07 04:04:07.564 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:07.564 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.566 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047452532736,"ephemeral":false}]'
2025-02-07 04:04:07.567 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-07 04:04:07.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.572 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61240/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-07 04:04:07.577 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.578 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:07.585 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.585 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:07.685 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:07.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047578168320,"ephemeral":false}]'
2025-02-07 04:04:07.689 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:07.689 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047578168320,"ephemeral":false}]'
2025-02-07 04:04:07.693 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-07 04:04:07.696 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.697 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61240/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-07 04:04:07.703 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.703 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:07.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.710 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:07.810 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:07.810 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.812 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047703669248,"ephemeral":false}]'
2025-02-07 04:04:07.814 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:07.814 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047703669248,"ephemeral":false}]'
2025-02-07 04:04:07.817 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-07 04:04:07.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.821 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61240/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-07 04:04:07.828 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.829 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:07.834 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.835 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:07.935 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:07.935 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047828987136,"ephemeral":false}]'
2025-02-07 04:04:07.939 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:07.940 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:07.941 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047828987136,"ephemeral":false}]'
2025-02-07 04:04:07.943 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-07 04:04:07.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.947 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61240/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-07 04:04:07.953 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.954 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:07.959 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:07.959 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:08.060 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:08.061 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:08.063 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047954708480,"ephemeral":false}]'
2025-02-07 04:04:08.065 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:08.065 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:08.067 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901047954708480,"ephemeral":false}]'
2025-02-07 04:04:08.069 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-07 04:04:08.073 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:08.073 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61240/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-07 04:04:08.080 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:08.080 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:08.085 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:08.086 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:08.187 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:08.188 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:08.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901048080582144,"ephemeral":false}]'
2025-02-07 04:04:08.192 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:08.192 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:08.194 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901048080582144,"ephemeral":false}]'
2025-02-07 04:04:08.196 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-07 04:04:08.200 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:08.200 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61240/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-07 04:04:08.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:08.206 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:08.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:08.213 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:08.313 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:08.313 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47355/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:08.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901048206323456,"ephemeral":false}]'
2025-02-07 04:04:08.317 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:08.317 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:08.320 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901048206323456,"ephemeral":false}]'
2025-02-07 04:04:08.322 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 04:04:08.323 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 04:04:08.323 DEBUG [src.node.waku_node] Stopping container with id e8a7f5da9b87
2025-02-07 04:04:09.489 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:04:09.489 DEBUG [src.node.waku_node] Stopping container with id 089e0c4d9781
2025-02-07 04:04:10.300 ERROR [src.node.docker_mananger] Max retries reached for container e8a7f5da9b87. Exiting log stream.
2025-02-07 04:04:10.981 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:04:10.982 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 04:04:10.991 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:04:11.000 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
