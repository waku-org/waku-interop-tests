[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_zero_start_time with id: 2025-02-07_04-05-06__bbdf279e-b13c-4d6e-aad6-ee298533c7e1
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-07_04-05-06__bbdf279e-b13c-4d6e-aad6-ee298533c7e1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.117.126
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7434', '7435', '7436', '7437', '7438']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7434:7434 -p 7435:7435 -p 7436:7436 -p 7437:7437 -p 7438:7438 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7436 --rest-port=7434 --tcp-port=7435 --discv5-udp-port=7437 --rest-address=0.0.0.0 --nat=extip:172.18.117.126 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bc42df02e5df7dee6a75f6eaac12b00fbd599c0d960b3f7f5eb1e6f2bd33f9f2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7438 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.117.126 waku b158e5f798b0ea02e1078c50f68fc4fc5bfb7411621fffd97e85f1c90a2fcc36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b158e5f798b0. Setting up logs at ./log/docker/publishing_node1_2025-02-07_04-05-06__bbdf279e-b13c-4d6e-aad6-ee298533c7e1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7434
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 44ba6c7dfb0d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7434/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7434/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.117.126/tcp/7435/p2p/16Uiu2HAmGDNMCDoTNfrx5TfD1ArCgmZu2coDoCLiRyjL6sKAuitf","/ip4/172.18.117.126/tcp/7436/ws/p2p/16Uiu2HAmGDNMCDoTNfrx5TfD1ArCgmZu2coDoCLiRyjL6sKAuitf"],"enrUri":"enr:-L24QLYSkWff42ANFNxXkRyZcOE4zflYqhL67BxQYnAL24cPeFsv419NzGMuXfHDTERs71qlsq2dpGL6M5HiHUpG800CgmlkgnY0gmlwhKwSdX6KbXVsdGlhZGRyc5YACASsEnV-Bh0LAAoErBJ1fgYdDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDNN6FMWbzZYsiQsdvPd5UqOmptcX7WPUO8Mzt4p3xZWiDdGNwgh0Lg3VkcIIdDYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-07_04-05-06__bbdf279e-b13c-4d6e-aad6-ee298533c7e1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.248.147
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31356', '31357', '31358', '31359', '31360']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31356:31356 -p 31357:31357 -p 31358:31358 -p 31359:31359 -p 31360:31360 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31358 --rest-port=31356 --tcp-port=31357 --discv5-udp-port=31359 --rest-address=0.0.0.0 --nat=extip:172.18.248.147 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4b1a8dbaa53d5a3c7da57aa2bf233acda28eeaf9e203bdbbfb8c6e58d6c301db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31360 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QLYSkWff42ANFNxXkRyZcOE4zflYqhL67BxQYnAL24cPeFsv419NzGMuXfHDTERs71qlsq2dpGL6M5HiHUpG800CgmlkgnY0gmlwhKwSdX6KbXVsdGlhZGRyc5YACASsEnV-Bh0LAAoErBJ1fgYdDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDNN6FMWbzZYsiQsdvPd5UqOmptcX7WPUO8Mzt4p3xZWiDdGNwgh0Lg3VkcIIdDYV3YWt1MgM --storenode=/ip4/172.18.117.126/tcp/7435/p2p/16Uiu2HAmGDNMCDoTNfrx5TfD1ArCgmZu2coDoCLiRyjL6sKAuitf --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.248.147 waku 653fcfe4dea48db99ce67262a59340d5507efdda1d2af2edf5e08e6d4178d98e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 653fcfe4dea4. Setting up logs at ./log/docker/store_node1_2025-02-07_04-05-06__bbdf279e-b13c-4d6e-aad6-ee298533c7e1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 31356
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31356/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31356/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.248.147/tcp/31357/p2p/16Uiu2HAkv9dt3cqigRVa62idbMaTrs3hg12oH2g6NH3tFDDWKAwz","/ip4/172.18.248.147/tcp/31358/ws/p2p/16Uiu2HAkv9dt3cqigRVa62idbMaTrs3hg12oH2g6NH3tFDDWKAwz"],"enrUri":"enr:-L24QMNym_HxtVSisEsHM2uCEMzJkiaA4pwE_7JxlCmIoth4HdV0L9paGMmUF5OnfwloKlH-fJ6oS4Spvy5AXqL0oD0CgmlkgnY0gmlwhKwS-JOKbXVsdGlhZGRyc5YACASsEviTBnp9AAoErBL4kwZ6ft0DgnJzhQADAQAAiXNlY3AyNTZrMaECCsAFQS4Uj937KF1J9KHlqVDm5BIXlhzF9DOvYSDP1NmDdGNwgnp9g3VkcIJ6f4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31356/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.117.126/tcp/7435/p2p/16Uiu2HAmGDNMCDoTNfrx5TfD1ArCgmZu2coDoCLiRyjL6sKAuitf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7434/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31356/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:150 inquering stored messages with start time 0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7434/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x11b20bbb451af52b7b3b0216293b127679f76949b008914001d13a34e48da92d","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901106114160128,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xc6c95945e1047a476d14c1539e2f7e5fe63d6503a9e3083e0434d130d1d385e0","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901108114167040,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x79bca254696b88a86c278deb2db950325cb1131589a3b233780b3a195028e409","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901109014169088,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x6e4ae7875ee49af81f520c72e10117147350bdf2fb06f2761620ded77d36d012","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901109214170880,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x1198a3323550e1b4b681f5367284f2d4b1c1d4391ceaf6104e5d12b4bebbb11e","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901111114172928,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x0ef5cb206463e8e27b51c2922f03a15e3bb936ff5becd8deabdc948cd4dc9ec8","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901119114173952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:153 number of messages stored for  start time = 0 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31356/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x11b20bbb451af52b7b3b0216293b127679f76949b008914001d13a34e48da92d","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901106114160128,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xc6c95945e1047a476d14c1539e2f7e5fe63d6503a9e3083e0434d130d1d385e0","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901108114167040,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x79bca254696b88a86c278deb2db950325cb1131589a3b233780b3a195028e409","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901109014169088,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x6e4ae7875ee49af81f520c72e10117147350bdf2fb06f2761620ded77d36d012","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901109214170880,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x1198a3323550e1b4b681f5367284f2d4b1c1d4391ceaf6104e5d12b4bebbb11e","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901111114172928,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x0ef5cb206463e8e27b51c2922f03a15e3bb936ff5becd8deabdc948cd4dc9ec8","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901119114173952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:153 number of messages stored for  start time = 0 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b158e5f798b0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 653fcfe4dea4
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b158e5f798b0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.