[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-02-07_04-04-05__07364b63-cd53-445e-b61a-2f02604af113
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-07_04-04-05__07364b63-cd53-445e-b61a-2f02604af113__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.233.147
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17559', '17560', '17561', '17562', '17563']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17559:17559 -p 17560:17560 -p 17561:17561 -p 17562:17562 -p 17563:17563 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17561 --rest-port=17559 --tcp-port=17560 --discv5-udp-port=17562 --rest-address=0.0.0.0 --nat=extip:172.18.233.147 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d32cf7d7bcd518ac6d7ccdff4de95d3a53fcf0aef9e303d4bed5ad991c4b573c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17563 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.233.147 waku 7bc212cb23014a9af6490d79fcda0480cda12ec692d8fccc730c0ca758ad0010
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7bc212cb2301. Setting up logs at ./log/docker/node1_2025-02-07_04-04-05__07364b63-cd53-445e-b61a-2f02604af113__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 17559
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c47ea570558f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17559/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17559/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.233.147/tcp/17560/p2p/16Uiu2HAmLS7ESwQ3JVjVyz5y18NDkJqRvjTzH5XZ72YXzUjR2ZCQ","/ip4/172.18.233.147/tcp/17561/ws/p2p/16Uiu2HAmLS7ESwQ3JVjVyz5y18NDkJqRvjTzH5XZ72YXzUjR2ZCQ"],"enrUri":"enr:-L24QDXSkVaNkQBGXtp9d688WTTVPFEmorNSTJnAAvg5chEOZVbVhGaKOxa1XNxj9e0XGP6PRbfmxtcfDzcC4asaQP0CgmlkgnY0gmlwhKwS6ZOKbXVsdGlhZGRyc5YACASsEumTBkSYAAoErBLpkwZEmd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc5C598RSerki7FqB_I_idENQwLkK8OQhdf3qkce0nj2DdGNwgkSYg3VkcIJEmoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-07_04-04-05__07364b63-cd53-445e-b61a-2f02604af113__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.186.64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7791', '7792', '7793', '7794', '7795']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7791:7791 -p 7792:7792 -p 7793:7793 -p 7794:7794 -p 7795:7795 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7793 --rest-port=7791 --tcp-port=7792 --discv5-udp-port=7794 --rest-address=0.0.0.0 --nat=extip:172.18.186.64 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=959f5f308c3df8fead0eef521df8ac47defad0acf3f4fb23d5c8132ebb78cfb0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7795 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDXSkVaNkQBGXtp9d688WTTVPFEmorNSTJnAAvg5chEOZVbVhGaKOxa1XNxj9e0XGP6PRbfmxtcfDzcC4asaQP0CgmlkgnY0gmlwhKwS6ZOKbXVsdGlhZGRyc5YACASsEumTBkSYAAoErBLpkwZEmd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc5C598RSerki7FqB_I_idENQwLkK8OQhdf3qkce0nj2DdGNwgkSYg3VkcIJEmoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.186.64 waku b8dd28cbd13783c24cc4563801c8cd40f56b8909237efdf345c3cb71444ec2b4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b8dd28cbd137. Setting up logs at ./log/docker/node2_2025-02-07_04-04-05__07364b63-cd53-445e-b61a-2f02604af113__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7791
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7791/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7791/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.186.64/tcp/7792/p2p/16Uiu2HAmNZ1st3Kt33V4ssvfBiz18gGNvcmudg6xyGcrEMcPcAAt","/ip4/172.18.186.64/tcp/7793/ws/p2p/16Uiu2HAmNZ1st3Kt33V4ssvfBiz18gGNvcmudg6xyGcrEMcPcAAt"],"enrUri":"enr:-L24QLs0oeNCZ47e81Za_oK3fTPoL2o0EmYwB2311JguTn_ibzmaKeSC2kmE4L0PZtC4XWz9uig-8PI89M-CKL9V6OMCgmlkgnY0gmlwhKwSukCKbXVsdGlhZGRyc5YACASsErpABh5wAAoErBK6QAYecd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkw0cie9VPxhR8f_VgeU8ydKkuRK88O6Zk5PvTkQasLmDdGNwgh5wg3VkcIIecoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7791/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.233.147/tcp/17560/p2p/16Uiu2HAmLS7ESwQ3JVjVyz5y18NDkJqRvjTzH5XZ72YXzUjR2ZCQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-02-07_04-04-05__07364b63-cd53-445e-b61a-2f02604af113__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.135.162
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58325', '58326', '58327', '58328', '58329']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58325:58325 -p 58326:58326 -p 58327:58327 -p 58328:58328 -p 58329:58329 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58327 --rest-port=58325 --tcp-port=58326 --discv5-udp-port=58328 --rest-address=0.0.0.0 --nat=extip:172.18.135.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=309eafed69da0e2ce8a3a5d69cb271ab19dad4adc7cb21b4cdeebfad0d7d54b0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58329 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDXSkVaNkQBGXtp9d688WTTVPFEmorNSTJnAAvg5chEOZVbVhGaKOxa1XNxj9e0XGP6PRbfmxtcfDzcC4asaQP0CgmlkgnY0gmlwhKwS6ZOKbXVsdGlhZGRyc5YACASsEumTBkSYAAoErBLpkwZEmd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc5C598RSerki7FqB_I_idENQwLkK8OQhdf3qkce0nj2DdGNwgkSYg3VkcIJEmoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.135.162 waku 4d8bf1a4cf3360df848755fccd7d202831ccf811393bf2f5d6b5239818477772
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4d8bf1a4cf33. Setting up logs at ./log/docker/node3_2025-02-07_04-04-05__07364b63-cd53-445e-b61a-2f02604af113__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 58325
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58325/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58325/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.162/tcp/58326/p2p/16Uiu2HAmCeARLJiDyDqeFoUszUPkdXcpuJW2YAyzNL3N8RC658dk","/ip4/172.18.135.162/tcp/58327/ws/p2p/16Uiu2HAmCeARLJiDyDqeFoUszUPkdXcpuJW2YAyzNL3N8RC658dk"],"enrUri":"enr:-L24QMZcaETNfXSZvgSwBuQ2qstVTNUuv_0e44CJDBlleS9zPkCczMR781jarGkrzoGbl3NlEM3c0_oN0YLhTjOkHc0CgmlkgnY0gmlwhKwSh6KKbXVsdGlhZGRyc5YACASsEoeiBuPWAAoErBKHogbj190DgnJzhQADAQAAiXNlY3AyNTZrMaEC_8nOGG2FqL3qJm_uAAHtlqOd6PfYb-c6H8UhsqGNKJ-DdGNwguPWg3VkcILj2IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58325/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.233.147/tcp/17560/p2p/16Uiu2HAmLS7ESwQ3JVjVyz5y18NDkJqRvjTzH5XZ72YXzUjR2ZCQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-02-07_04-04-05__07364b63-cd53-445e-b61a-2f02604af113__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.99.154
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59273', '59274', '59275', '59276', '59277']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59273:59273 -p 59274:59274 -p 59275:59275 -p 59276:59276 -p 59277:59277 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59275 --rest-port=59273 --tcp-port=59274 --discv5-udp-port=59276 --rest-address=0.0.0.0 --nat=extip:172.18.99.154 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c151dae0dff1f9fcf2de5d7c23f5f7ace5c5aad4a6a3fa3aefdc80f7a0a64f59 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59277 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDXSkVaNkQBGXtp9d688WTTVPFEmorNSTJnAAvg5chEOZVbVhGaKOxa1XNxj9e0XGP6PRbfmxtcfDzcC4asaQP0CgmlkgnY0gmlwhKwS6ZOKbXVsdGlhZGRyc5YACASsEumTBkSYAAoErBLpkwZEmd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc5C598RSerki7FqB_I_idENQwLkK8OQhdf3qkce0nj2DdGNwgkSYg3VkcIJEmoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.99.154 waku 9112d0783b5fdc89dd64b83b68e5a46f2526a1a9088cd18d01ff5de9fcdbda20
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9112d0783b5f. Setting up logs at ./log/docker/node4_2025-02-07_04-04-05__07364b63-cd53-445e-b61a-2f02604af113__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 59273
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59273/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59273/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.154/tcp/59274/p2p/16Uiu2HAmT49N1icTte1stz59nAVdUfUM78XecfF3vqBhgxSPvNro","/ip4/172.18.99.154/tcp/59275/ws/p2p/16Uiu2HAmT49N1icTte1stz59nAVdUfUM78XecfF3vqBhgxSPvNro"],"enrUri":"enr:-L24QMu2tpFnBBDOAlPWQW1rUuVMYy8aJdYLHNwcK1yqojT2YWL1c1oQ3vQdlPbVE5Oa6vFZFKh75NOdcUDWrsOW9GECgmlkgnY0gmlwhKwSY5qKbXVsdGlhZGRyc5YACASsEmOaBueKAAoErBJjmgbni90DgnJzhQADAQAAiXNlY3AyNTZrMaED1fIqf7GSuIMS9nnrtIAI6mk-EshN_oKoP0gMUvm5CsSDdGNwgueKg3VkcILnjIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59273/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.233.147/tcp/17560/p2p/16Uiu2HAmLS7ESwQ3JVjVyz5y18NDkJqRvjTzH5XZ72YXzUjR2ZCQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-02-07_04-04-05__07364b63-cd53-445e-b61a-2f02604af113__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.230.77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['65210', '65211', '65212', '65213', '65214']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 65210:65210 -p 65211:65211 -p 65212:65212 -p 65213:65213 -p 65214:65214 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65212 --rest-port=65210 --tcp-port=65211 --discv5-udp-port=65213 --rest-address=0.0.0.0 --nat=extip:172.18.230.77 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef65cfdcf6ebee0cfb00f76aac838a2cd0c47596acdd0957d0ab75edbb3dfb07 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65214 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDXSkVaNkQBGXtp9d688WTTVPFEmorNSTJnAAvg5chEOZVbVhGaKOxa1XNxj9e0XGP6PRbfmxtcfDzcC4asaQP0CgmlkgnY0gmlwhKwS6ZOKbXVsdGlhZGRyc5YACASsEumTBkSYAAoErBLpkwZEmd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc5C598RSerki7FqB_I_idENQwLkK8OQhdf3qkce0nj2DdGNwgkSYg3VkcIJEmoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.230.77 waku a2997a9718cf0a9d24c1a3c6c82d19ed9e2cc8e97b9554d8bf042d98f26c0915
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a2997a9718cf. Setting up logs at ./log/docker/node5_2025-02-07_04-04-05__07364b63-cd53-445e-b61a-2f02604af113__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 65210
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65210/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65210/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.77/tcp/65211/p2p/16Uiu2HAm8nViPN4RA9WheGEeoi7cNpAqPWC2UC6Trvu3P7UsVgsR","/ip4/172.18.230.77/tcp/65212/ws/p2p/16Uiu2HAm8nViPN4RA9WheGEeoi7cNpAqPWC2UC6Trvu3P7UsVgsR"],"enrUri":"enr:-L24QNQzDAbW5ReOtUNgx7MZIJVRRO5UUR2U9QNC8qdJaYUoUn7RgCOiCG3QCOJYXa_68ENValyrx4N8jQPNq7HdEP4CgmlkgnY0gmlwhKwS5k2KbXVsdGlhZGRyc5YACASsEuZNBv67AAoErBLmTQb-vN0DgnJzhQADAQAAiXNlY3AyNTZrMaECxn2FBurqk3YHeJNH2A5nVRbDhqC46YNO3bzpIBeqD8iDdGNwgv67g3VkcIL-vYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65210/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.233.147/tcp/17560/p2p/16Uiu2HAmLS7ESwQ3JVjVyz5y18NDkJqRvjTzH5XZ72YXzUjR2ZCQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17559/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7791/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58325/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59273/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65210/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17559/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17559/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738901052464005632,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7791/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738901052464005632,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58325/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738901052464005632,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738901052464005632,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65210/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738901052464005632,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65210/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17559/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738901052595789056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7791/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738901052595789056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58325/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738901052595789056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738901052595789056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65210/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738901052595789056,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7bc212cb2301
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b8dd28cbd137
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7bc212cb2301. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4d8bf1a4cf33
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b8dd28cbd137. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9112d0783b5f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4d8bf1a4cf33. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a2997a9718cf
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9112d0783b5f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.