2025-02-07 04:03:42.975 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 04:03:42.975 DEBUG [tests.conftest] Running test: test_filter_ping_without_request_id with id: 2025-02-07_04-03-42__5eb94718-9590-4d34-b483-c5a67ad11e65
2025-02-07 04:03:42.975 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 04:03:42.976 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-07 04:03:42.976 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-07 04:03:42.982 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:03:42.982 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-07_04-03-42__5eb94718-9590-4d34-b483-c5a67ad11e65__wakuorg_nwaku:latest.log
2025-02-07 04:03:42.982 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:03:42.982 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:03:42.983 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:03:42.983 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.224.217
2025-02-07 04:03:42.984 DEBUG [src.node.docker_mananger] Generated ports ['29710', '29711', '29712', '29713', '29714']
2025-02-07 04:03:42.984 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:03:42.984 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:03:42.984 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:03:42.984 DEBUG [src.node.docker_mananger] docker run -i -t -p 29710:29710 -p 29711:29711 -p 29712:29712 -p 29713:29713 -p 29714:29714 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29712 --rest-port=29710 --tcp-port=29711 --discv5-udp-port=29713 --rest-address=0.0.0.0 --nat=extip:172.18.224.217 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3622ee1ec98e48eee7f9bfdaeee6dbbc99f44b73de245db7c92505eab25119bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29714 --metrics-logging=true --relay=true --filter=true
2025-02-07 04:03:43.212 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.224.217 waku 29b10f704426d7e2c9c80dbc0a607187ae0fd4785089a91456346bf837fb4dbb
2025-02-07 04:03:43.258 DEBUG [src.node.docker_mananger] Container started with ID 29b10f704426. Setting up logs at ./log/docker/node1_2025-02-07_04-03-42__5eb94718-9590-4d34-b483-c5a67ad11e65__wakuorg_nwaku:latest.log
2025-02-07 04:03:43.259 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29710
2025-02-07 04:03:43.260 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:03:43.777 ERROR [src.node.docker_mananger] Max retries reached for container 7004a1f6e135. Exiting log stream.
2025-02-07 04:03:44.260 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29710/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:44.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:03:44.263 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:03:44.264 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29710/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:44.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.224.217/tcp/29711/p2p/16Uiu2HAmPpPgGpdndQWCPd9iMyTuof6PFzzQAuU4Ba5bQCq6Vmzc","/ip4/172.18.224.217/tcp/29712/ws/p2p/16Uiu2HAmPpPgGpdndQWCPd9iMyTuof6PFzzQAuU4Ba5bQCq6Vmzc"],"enrUri":"enr:-L24QCTG_v_gO3qyBDMeXArqq3BlbSb6eTYqF8mZI4ZzKN28K8KUpJYfoPL2N1XuWab1VSf0e91SHUnq7CjHZJp2T8wCgmlkgnY0gmlwhKwS4NmKbXVsdGlhZGRyc5YACASsEuDZBnQPAAoErBLg2QZ0EN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpdko5LijuBM8RuPwlgek2AWPsw4udPbKKG-j14Zuny2DdGNwgnQPg3VkcIJ0EYV3YWt1MgU"}'
2025-02-07 04:03:44.266 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:03:44.266 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-07 04:03:44.273 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:03:44.273 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-07_04-03-42__5eb94718-9590-4d34-b483-c5a67ad11e65__wakuorg_nwaku:latest.log
2025-02-07 04:03:44.273 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:03:44.273 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:03:44.274 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:03:44.275 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.116.127
2025-02-07 04:03:44.275 DEBUG [src.node.docker_mananger] Generated ports ['8667', '8668', '8669', '8670', '8671']
2025-02-07 04:03:44.275 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:03:44.275 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:03:44.275 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:03:44.275 DEBUG [src.node.docker_mananger] docker run -i -t -p 8667:8667 -p 8668:8668 -p 8669:8669 -p 8670:8670 -p 8671:8671 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8669 --rest-port=8667 --tcp-port=8668 --discv5-udp-port=8670 --rest-address=0.0.0.0 --nat=extip:172.18.116.127 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea16dca79ea9dcf0faac6f8a5bfcb7a0ef122cc23cebd1e73dca2f4c561ca94e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8671 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCTG_v_gO3qyBDMeXArqq3BlbSb6eTYqF8mZI4ZzKN28K8KUpJYfoPL2N1XuWab1VSf0e91SHUnq7CjHZJp2T8wCgmlkgnY0gmlwhKwS4NmKbXVsdGlhZGRyc5YACASsEuDZBnQPAAoErBLg2QZ0EN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpdko5LijuBM8RuPwlgek2AWPsw4udPbKKG-j14Zuny2DdGNwgnQPg3VkcIJ0EYV3YWt1MgU --filternode=/ip4/172.18.224.217/tcp/29711/p2p/16Uiu2HAmPpPgGpdndQWCPd9iMyTuof6PFzzQAuU4Ba5bQCq6Vmzc
2025-02-07 04:03:44.500 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.116.127 waku a7ffec1651b627a2d0f525e0e7ddec2bde349f4cf16b41bd3e57244f7f039d62
2025-02-07 04:03:44.549 DEBUG [src.node.docker_mananger] Container started with ID a7ffec1651b6. Setting up logs at ./log/docker/node2_2025-02-07_04-03-42__5eb94718-9590-4d34-b483-c5a67ad11e65__wakuorg_nwaku:latest.log
2025-02-07 04:03:44.550 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8667
2025-02-07 04:03:44.550 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:03:45.550 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8667/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:45.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:03:45.554 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:03:45.554 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8667/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:45.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.127/tcp/8668/p2p/16Uiu2HAkyq5m5tC87pZPQpi7vDaTCjpi8TMAAe1zTLRT5k6zhh6w","/ip4/172.18.116.127/tcp/8669/ws/p2p/16Uiu2HAkyq5m5tC87pZPQpi7vDaTCjpi8TMAAe1zTLRT5k6zhh6w"],"enrUri":"enr:-L24QG6j-92bJgIVpF_YUNVu5ODB4GBiLamedriJTnaOPeVWNb03gd_hYZMwdCBWx_7qQfqdiAKn6zv1FAye99PillwCgmlkgnY0gmlwhKwSdH-KbXVsdGlhZGRyc5YACASsEnR_BiHcAAoErBJ0fwYh3d0DgnJzhQADAQAAiXNlY3AyNTZrMaECQW3-1cdIohHprzQVH16zmXi7ydn6K84Urbq7b_VPJqiDdGNwgiHcg3VkcIIh3oV3YWt1MgA"}'
2025-02-07 04:03:45.556 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:03:45.557 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8667/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.224.217/tcp/29711/p2p/16Uiu2HAmPpPgGpdndQWCPd9iMyTuof6PFzzQAuU4Ba5bQCq6Vmzc"]'
2025-02-07 04:03:45.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:45.595 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-07 04:03:45.596 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29710/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-07 04:03:45.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:45.618 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8667/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "398657c7-00cf-42b7-ad2b-de7a95c07251", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-07 04:03:45.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"398657c7-00cf-42b7-ad2b-de7a95c07251","statusDesc":"OK"}'
2025-02-07 04:03:45.630 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8667/filter/v2/subscriptions/" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:45.638 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusDesc":"OK"}'
2025-02-07 04:03:45.640 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 04:03:45.641 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 04:03:45.641 DEBUG [src.node.waku_node] Stopping container with id 29b10f704426
2025-02-07 04:03:46.755 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:03:46.755 DEBUG [src.node.waku_node] Stopping container with id a7ffec1651b6
2025-02-07 04:03:47.584 ERROR [src.node.docker_mananger] Max retries reached for container 29b10f704426. Exiting log stream.
2025-02-07 04:03:48.265 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:03:48.266 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 04:03:48.274 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:03:48.278 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
