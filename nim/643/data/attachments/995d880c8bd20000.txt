[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_without_pubsub_topic_and_content_topic with id: 2025-02-07_04-06-01__93e18239-a03e-4d22-b10f-3560b224c0db
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-07_04-06-01__93e18239-a03e-4d22-b10f-3560b224c0db__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.208.76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23887', '23888', '23889', '23890', '23891']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23887:23887 -p 23888:23888 -p 23889:23889 -p 23890:23890 -p 23891:23891 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23889 --rest-port=23887 --tcp-port=23888 --discv5-udp-port=23890 --rest-address=0.0.0.0 --nat=extip:172.18.208.76 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1238b5b9dbf57fb0bfd9fbada8dcbe3510ac1fe82d4681ca5f8d083c8ce7a0a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23891 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.208.76 waku 3ccceda0ce4ed59eb5a43d699660eedce5bb7d06ce8bfc056e576f0094750771
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3ccceda0ce4e. Setting up logs at ./log/docker/publishing_node1_2025-02-07_04-06-01__93e18239-a03e-4d22-b10f-3560b224c0db__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 23887
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 09e8c5a3b6f8. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23887/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23887/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.208.76/tcp/23888/p2p/16Uiu2HAmDFuMJjUF6uHYk1PK11HTH2vGQjmN9SusxJqNHydX2dAf","/ip4/172.18.208.76/tcp/23889/ws/p2p/16Uiu2HAmDFuMJjUF6uHYk1PK11HTH2vGQjmN9SusxJqNHydX2dAf"],"enrUri":"enr:-L24QNBLh9-5MJlFQbZPHYALoEgXtpC2bqnJl8Ke5p-3lcYCC-0II55VbpzKH98gGUFogEzs9dnj_IulWdny09SUd0gCgmlkgnY0gmlwhKwS0EyKbXVsdGlhZGRyc5YACASsEtBMBl1QAAoErBLQTAZdUd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCPGs1PZ7IIJxgCIqLoVPQfZ8XUDnxt-QRMAaIfCQHsiDdGNwgl1Qg3VkcIJdUoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-07_04-06-01__93e18239-a03e-4d22-b10f-3560b224c0db__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.157.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42371', '42372', '42373', '42374', '42375']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42371:42371 -p 42372:42372 -p 42373:42373 -p 42374:42374 -p 42375:42375 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42373 --rest-port=42371 --tcp-port=42372 --discv5-udp-port=42374 --rest-address=0.0.0.0 --nat=extip:172.18.157.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ce7f15f2dbdba8af5dac5ed98dc67cbea1d06ddcf1caf346ccdbefeddb3fdf4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42375 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QNBLh9-5MJlFQbZPHYALoEgXtpC2bqnJl8Ke5p-3lcYCC-0II55VbpzKH98gGUFogEzs9dnj_IulWdny09SUd0gCgmlkgnY0gmlwhKwS0EyKbXVsdGlhZGRyc5YACASsEtBMBl1QAAoErBLQTAZdUd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCPGs1PZ7IIJxgCIqLoVPQfZ8XUDnxt-QRMAaIfCQHsiDdGNwgl1Qg3VkcIJdUoV3YWt1MgM --storenode=/ip4/172.18.208.76/tcp/23888/p2p/16Uiu2HAmDFuMJjUF6uHYk1PK11HTH2vGQjmN9SusxJqNHydX2dAf --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.157.82 waku f2624ba021bb9ca814c8e42ed33012ae7c73df033d924c4b6879ae3ac096ed7a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f2624ba021bb. Setting up logs at ./log/docker/store_node1_2025-02-07_04-06-01__93e18239-a03e-4d22-b10f-3560b224c0db__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42371
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42371/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42371/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.157.82/tcp/42372/p2p/16Uiu2HAmTixJ7BptJsT6LUkb9qN9wD31gpJ12kr2ijAQ36cvZoTv","/ip4/172.18.157.82/tcp/42373/ws/p2p/16Uiu2HAmTixJ7BptJsT6LUkb9qN9wD31gpJ12kr2ijAQ36cvZoTv"],"enrUri":"enr:-L24QB_QYYC1zYfXmYpPe9lV3QXkze849_vCPYo3c9My4nx4F1Ct-cJ-wZ1w_ZChPYZ-hdKCccWBcdsZCbLmhdEpfwoCgmlkgnY0gmlwhKwSnVKKbXVsdGlhZGRyc5YACASsEp1SBqWEAAoErBKdUgalhd0DgnJzhQADAQAAiXNlY3AyNTZrMaED3-NNvjuPXk1ejsqdvEgh84uJOq-i5kBhEKX4Hf_E5gGDdGNwgqWEg3VkcIKlhoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42371/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.208.76/tcp/23888/p2p/16Uiu2HAmDFuMJjUF6uHYk1PK11HTH2vGQjmN9SusxJqNHydX2dAf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23887/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42371/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23887/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x00b1a563161e9de071348ed6bec9f3e036d8704025a4ac63b34e6e48de6524b4"},{"messageHash":"0x767f8b1ceee9b7d4cd81a8c74d61704c2012b4d292f3e2fd3428c62ee1bd02d0"},{"messageHash":"0x338108b70d363ffeb6adfb746b3f8aa0999156a4177bc6bf8c66a7d5107ec995"},{"messageHash":"0x4c26185269f02505df2a73d58b42da794c0a846ca6547e768841c829324a44af"},{"messageHash":"0xb218540a707d916274c0010f3d89a8401f6626c109d8a7f6e295bbed59f14aea"},{"messageHash":"0x6cc1b8f99558235b6a4c4dea37870a85dd7d775e61c8717b638ac8d5ea3acad1"},{"messageHash":"0x31badf9fe3dba3adb60b2d33cd5edd5cc4eb7f397a30a6422d913466c80ad654"},{"messageHash":"0x5590e0f24f35a3dbf95a1a1d6a4ba38a2bc57ed35c2c9d140db5568a81f951f5"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42371/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x00b1a563161e9de071348ed6bec9f3e036d8704025a4ac63b34e6e48de6524b4"},{"messageHash":"0x767f8b1ceee9b7d4cd81a8c74d61704c2012b4d292f3e2fd3428c62ee1bd02d0"},{"messageHash":"0x338108b70d363ffeb6adfb746b3f8aa0999156a4177bc6bf8c66a7d5107ec995"},{"messageHash":"0x4c26185269f02505df2a73d58b42da794c0a846ca6547e768841c829324a44af"},{"messageHash":"0xb218540a707d916274c0010f3d89a8401f6626c109d8a7f6e295bbed59f14aea"},{"messageHash":"0x6cc1b8f99558235b6a4c4dea37870a85dd7d775e61c8717b638ac8d5ea3acad1"},{"messageHash":"0x31badf9fe3dba3adb60b2d33cd5edd5cc4eb7f397a30a6422d913466c80ad654"},{"messageHash":"0x5590e0f24f35a3dbf95a1a1d6a4ba38a2bc57ed35c2c9d140db5568a81f951f5"}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3ccceda0ce4e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f2624ba021bb
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3ccceda0ce4e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.