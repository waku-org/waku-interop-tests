2025-02-07 04:05:43.676 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 04:05:43.676 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-07_04-05-43__89daa866-47cd-4138-b608-e9b090149d0a
2025-02-07 04:05:43.676 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 04:05:43.677 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-07 04:05:43.677 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-07 04:05:43.683 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:05:43.683 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-07_04-05-43__89daa866-47cd-4138-b608-e9b090149d0a__wakuorg_nwaku:latest.log
2025-02-07 04:05:43.684 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:05:43.684 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:05:43.685 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:05:43.685 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.104.86
2025-02-07 04:05:43.685 DEBUG [src.node.docker_mananger] Generated ports ['56407', '56408', '56409', '56410', '56411']
2025-02-07 04:05:43.685 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:05:43.686 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:05:43.686 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:05:43.686 DEBUG [src.node.docker_mananger] docker run -i -t -p 56407:56407 -p 56408:56408 -p 56409:56409 -p 56410:56410 -p 56411:56411 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56409 --rest-port=56407 --tcp-port=56408 --discv5-udp-port=56410 --rest-address=0.0.0.0 --nat=extip:172.18.104.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddb0860b74ffd6a6ac78ef8290753fff51eb36ffcc6ebb8dba8da306c11d79bc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56411 --metrics-logging=true --store=true --relay=true
2025-02-07 04:05:43.921 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.104.86 waku 0588047d00d2ff33c3a45a3a656499f9294ff1839667b2c266d5f5e5aae90674
2025-02-07 04:05:43.973 DEBUG [src.node.docker_mananger] Container started with ID 0588047d00d2. Setting up logs at ./log/docker/publishing_node1_2025-02-07_04-05-43__89daa866-47cd-4138-b608-e9b090149d0a__wakuorg_nwaku:latest.log
2025-02-07 04:05:43.973 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 56407
2025-02-07 04:05:43.975 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:05:44.466 ERROR [src.node.docker_mananger] Max retries reached for container 2de227f14cbb. Exiting log stream.
2025-02-07 04:05:44.975 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56407/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:44.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:05:44.978 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:05:44.978 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56407/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:44.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.86/tcp/56408/p2p/16Uiu2HAmDyr5DnAnQWNShWUhBaoUHfCok3iFFwW2wqrBH6nUGFEz","/ip4/172.18.104.86/tcp/56409/ws/p2p/16Uiu2HAmDyr5DnAnQWNShWUhBaoUHfCok3iFFwW2wqrBH6nUGFEz"],"enrUri":"enr:-L24QCKSQgQiIBP-YNmAUld74l4KmsULbDVXb6DaiupBFJh0Pa7phnHVPN9LOdrOkvw9TaoGHkjVyzSVZQkltcaczCACgmlkgnY0gmlwhKwSaFaKbXVsdGlhZGRyc5YACASsEmhWBtxYAAoErBJoVgbcWd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDE7BdCIyk0dxl70qxufln2QivNgFoBUysn19WFDji_IuDdGNwgtxYg3VkcILcWoV3YWt1MgM"}'
2025-02-07 04:05:44.980 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:05:44.987 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:05:44.987 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-07_04-05-43__89daa866-47cd-4138-b608-e9b090149d0a__wakuorg_nwaku:latest.log
2025-02-07 04:05:44.987 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:05:44.987 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:05:44.989 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:05:44.989 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.137.228
2025-02-07 04:05:44.989 DEBUG [src.node.docker_mananger] Generated ports ['8992', '8993', '8994', '8995', '8996']
2025-02-07 04:05:44.989 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:05:44.989 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:05:44.990 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:05:44.990 DEBUG [src.node.docker_mananger] docker run -i -t -p 8992:8992 -p 8993:8993 -p 8994:8994 -p 8995:8995 -p 8996:8996 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8994 --rest-port=8992 --tcp-port=8993 --discv5-udp-port=8995 --rest-address=0.0.0.0 --nat=extip:172.18.137.228 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=35c5ed0e9e9b194debcc9caaddea8c8fbface23bfcefcc0256c91dd10fcfc6d5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8996 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QCKSQgQiIBP-YNmAUld74l4KmsULbDVXb6DaiupBFJh0Pa7phnHVPN9LOdrOkvw9TaoGHkjVyzSVZQkltcaczCACgmlkgnY0gmlwhKwSaFaKbXVsdGlhZGRyc5YACASsEmhWBtxYAAoErBJoVgbcWd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDE7BdCIyk0dxl70qxufln2QivNgFoBUysn19WFDji_IuDdGNwgtxYg3VkcILcWoV3YWt1MgM --storenode=/ip4/172.18.104.86/tcp/56408/p2p/16Uiu2HAmDyr5DnAnQWNShWUhBaoUHfCok3iFFwW2wqrBH6nUGFEz --store=true --relay=true
2025-02-07 04:05:45.221 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.137.228 waku a1ae308dc77bc07b7c1577ec87ca8f3d2558fb2bfc6ef8a25d155c6b013d9869
2025-02-07 04:05:45.271 DEBUG [src.node.docker_mananger] Container started with ID a1ae308dc77b. Setting up logs at ./log/docker/store_node1_2025-02-07_04-05-43__89daa866-47cd-4138-b608-e9b090149d0a__wakuorg_nwaku:latest.log
2025-02-07 04:05:45.272 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8992
2025-02-07 04:05:45.272 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:05:46.272 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8992/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:46.275 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:05:46.275 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:05:46.275 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8992/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:46.277 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.228/tcp/8993/p2p/16Uiu2HAmCkpvbkcr6ceW95ncF9M2Cgk1wrcxtMwLcGSPjQzsK9xj","/ip4/172.18.137.228/tcp/8994/ws/p2p/16Uiu2HAmCkpvbkcr6ceW95ncF9M2Cgk1wrcxtMwLcGSPjQzsK9xj"],"enrUri":"enr:-L24QNHPTyfX4UuXjw5Qo86SPwnrJCpapy9BWAcyrRA7eEyHb5tLgbAOl6owBCeBmtX7aEb_K70ceqJpAnuQA16FqDICgmlkgnY0gmlwhKwSieSKbXVsdGlhZGRyc5YACASsEonkBiMhAAoErBKJ5AYjIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDAX7TwxO8rnRdesLGrOf3FROU0P_I_2o0d3I0HWxedxCDdGNwgiMhg3VkcIIjI4V3YWt1MgM"}'
2025-02-07 04:05:46.278 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:05:46.278 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8992/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.104.86/tcp/56408/p2p/16Uiu2HAmDyr5DnAnQWNShWUhBaoUHfCok3iFFwW2wqrBH6nUGFEz"]'
2025-02-07 04:05:46.280 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:46.281 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56407/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-07 04:05:46.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:46.283 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8992/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-07 04:05:46.285 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:46.286 DEBUG [tests.store.test_get_messages] Running test with content topic /myapp/1/latest/proto
2025-02-07 04:05:46.286 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:46.287 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:46.293 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:46.293 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:46.494 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:46.494 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:46.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x45e129f9b4da1865965366926f3fcca37eeb92d0e77db1512b3dbfbdae4bbc84"}]}'
2025-02-07 04:05:46.498 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:46.498 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8992/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:46.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x45e129f9b4da1865965366926f3fcca37eeb92d0e77db1512b3dbfbdae4bbc84"}]}'
2025-02-07 04:05:46.501 DEBUG [tests.store.test_get_messages] Running test with content topic /waku/2/content/test.js
2025-02-07 04:05:46.501 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:46.502 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:46.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:46.508 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:46.708 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:46.709 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:46.711 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5a2a1aaf8007e9f9f2a1543233f61bfb225d9afb0f7aefbb15a9b8d652672812"}]}'
2025-02-07 04:05:46.712 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:46.712 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8992/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:46.715 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5a2a1aaf8007e9f9f2a1543233f61bfb225d9afb0f7aefbb15a9b8d652672812"}]}'
2025-02-07 04:05:46.715 DEBUG [tests.store.test_get_messages] Running test with content topic /app/22/sometopic/someencoding
2025-02-07 04:05:46.716 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:46.716 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:46.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:46.721 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:46.922 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:46.922 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:46.925 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x91d14dd18ca014392fb860265bdf4dc5094f8cf5f585134f132a102cae3b8955"}]}'
2025-02-07 04:05:46.926 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:46.926 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8992/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:46.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x91d14dd18ca014392fb860265bdf4dc5094f8cf5f585134f132a102cae3b8955"}]}'
2025-02-07 04:05:46.929 DEBUG [tests.store.test_get_messages] Running test with content topic /toychat/2/huilong/proto
2025-02-07 04:05:46.929 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:46.929 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:46.934 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:46.935 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:47.136 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:47.137 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:47.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x22718de18fce6692fc802d7ad6d0844bf6688a2c048d28a15f6f84c9bdd6706e"}]}'
2025-02-07 04:05:47.140 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:47.140 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8992/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:47.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x22718de18fce6692fc802d7ad6d0844bf6688a2c048d28a15f6f84c9bdd6706e"}]}'
2025-02-07 04:05:47.143 DEBUG [tests.store.test_get_messages] Running test with content topic /statusim/1/community/cbor
2025-02-07 04:05:47.143 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:47.144 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:47.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:47.149 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:47.350 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:47.350 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:47.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0f61c02b775e2e7c280ba53792ac36fe8f4f253ff7519262adb73d7c6a2fd7cb"}]}'
2025-02-07 04:05:47.353 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:47.354 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8992/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:47.356 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0f61c02b775e2e7c280ba53792ac36fe8f4f253ff7519262adb73d7c6a2fd7cb"}]}'
2025-02-07 04:05:47.356 DEBUG [tests.store.test_get_messages] Running test with content topic /app/27/sometopic/someencoding
2025-02-07 04:05:47.357 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:47.357 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:47.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:47.365 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:47.566 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:47.566 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:47.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf38ea9b70a78e7e31154b0125b71cbaaddff54666d15a897507212c47f65fb91"}]}'
2025-02-07 04:05:47.570 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:47.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8992/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:47.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf38ea9b70a78e7e31154b0125b71cbaaddff54666d15a897507212c47f65fb91"}]}'
2025-02-07 04:05:47.573 DEBUG [tests.store.test_get_messages] Running test with content topic /app/29/sometopic/someencoding
2025-02-07 04:05:47.573 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:47.573 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:47.578 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:47.579 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:47.779 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:47.780 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:47.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x234fcef760e6ed29694fabc5be35c69bdde79f059c45c46a145dfa30fb7f430f"}]}'
2025-02-07 04:05:47.783 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:47.783 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8992/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:47.786 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x234fcef760e6ed29694fabc5be35c69bdde79f059c45c46a145dfa30fb7f430f"}]}'
2025-02-07 04:05:47.786 DEBUG [tests.store.test_get_messages] Running test with content topic /app/20/sometopic/someencoding
2025-02-07 04:05:47.787 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:47.787 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:47.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:47.794 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:47.995 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:47.995 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:47.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1b4bf0881d7cb4c419278095d3c3e3eb8d91c9f069faeb98f62cd70ea665468d"}]}'
2025-02-07 04:05:47.998 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-07 04:05:47.999 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8992/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:48.001 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1b4bf0881d7cb4c419278095d3c3e3eb8d91c9f069faeb98f62cd70ea665468d"}]}'
2025-02-07 04:05:48.003 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 04:05:48.004 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 04:05:48.004 DEBUG [src.node.waku_node] Stopping container with id 0588047d00d2
2025-02-07 04:05:48.947 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:05:48.948 DEBUG [src.node.waku_node] Stopping container with id a1ae308dc77b
2025-02-07 04:05:49.759 ERROR [src.node.docker_mananger] Max retries reached for container 0588047d00d2. Exiting log stream.
2025-02-07 04:05:50.291 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:05:50.292 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 04:05:50.299 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:05:50.306 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
