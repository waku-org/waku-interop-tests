2025-02-07 04:05:27.073 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 04:05:27.073 DEBUG [tests.conftest] Running test: test_time_filter_start_time_equals_end_time with id: 2025-02-07_04-05-27__fe12f0c7-e252-4f88-b4b0-4c5bb63538ee
2025-02-07 04:05:27.073 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 04:05:27.074 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-07 04:05:27.074 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-07 04:05:27.083 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:05:27.083 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-07_04-05-27__fe12f0c7-e252-4f88-b4b0-4c5bb63538ee__wakuorg_nwaku:latest.log
2025-02-07 04:05:27.083 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:05:27.083 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:05:27.085 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:05:27.085 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.29.148
2025-02-07 04:05:27.085 DEBUG [src.node.docker_mananger] Generated ports ['9490', '9491', '9492', '9493', '9494']
2025-02-07 04:05:27.086 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:05:27.086 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:05:27.086 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:05:27.086 DEBUG [src.node.docker_mananger] docker run -i -t -p 9490:9490 -p 9491:9491 -p 9492:9492 -p 9493:9493 -p 9494:9494 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9492 --rest-port=9490 --tcp-port=9491 --discv5-udp-port=9493 --rest-address=0.0.0.0 --nat=extip:172.18.29.148 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4ed00afd59ad7e6eeefdefaaefa4fbc45c8aeabd2fc5ffedc99db142f7ac1ac2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9494 --metrics-logging=true --store=true --relay=true
2025-02-07 04:05:27.335 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.29.148 waku 7db6b930097924a8e9d935aeb41f71c4cc66bdae44b5620df4e7d8459bdc5e0d
2025-02-07 04:05:27.391 DEBUG [src.node.docker_mananger] Container started with ID 7db6b9300979. Setting up logs at ./log/docker/publishing_node1_2025-02-07_04-05-27__fe12f0c7-e252-4f88-b4b0-4c5bb63538ee__wakuorg_nwaku:latest.log
2025-02-07 04:05:27.393 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 9490
2025-02-07 04:05:27.393 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:05:27.876 ERROR [src.node.docker_mananger] Max retries reached for container e21dec0ac2d0. Exiting log stream.
2025-02-07 04:05:28.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9490/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:28.397 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:05:28.397 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:05:28.398 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9490/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:28.400 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.29.148/tcp/9491/p2p/16Uiu2HAmFHjAeqDX3VSSMr1iaYEb1fP9aGp1yL3nwEmMq4c2ubea","/ip4/172.18.29.148/tcp/9492/ws/p2p/16Uiu2HAmFHjAeqDX3VSSMr1iaYEb1fP9aGp1yL3nwEmMq4c2ubea"],"enrUri":"enr:-L24QHv6TFcJ4SF_qRlCq269AF5vQswo_koU8cOhE9iF8VsJTld3HDTkwy3pST75OyUoBsXQHjTjsWZcso3CjR23gYMCgmlkgnY0gmlwhKwSHZSKbXVsdGlhZGRyc5YACASsEh2UBiUTAAoErBIdlAYlFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJyCyJJ5Gq9Wrigiw042FcUV8LGI3z3ucs8oZO951JBuDdGNwgiUTg3VkcIIlFYV3YWt1MgM"}'
2025-02-07 04:05:28.400 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:05:28.409 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:05:28.409 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-07_04-05-27__fe12f0c7-e252-4f88-b4b0-4c5bb63538ee__wakuorg_nwaku:latest.log
2025-02-07 04:05:28.409 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:05:28.409 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:05:28.411 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:05:28.411 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.37.40
2025-02-07 04:05:28.411 DEBUG [src.node.docker_mananger] Generated ports ['48306', '48307', '48308', '48309', '48310']
2025-02-07 04:05:28.411 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:05:28.411 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:05:28.412 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:05:28.412 DEBUG [src.node.docker_mananger] docker run -i -t -p 48306:48306 -p 48307:48307 -p 48308:48308 -p 48309:48309 -p 48310:48310 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48308 --rest-port=48306 --tcp-port=48307 --discv5-udp-port=48309 --rest-address=0.0.0.0 --nat=extip:172.18.37.40 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fee96cd5e2b3d4bbacaa87b2ccebde464d21bc6aab2bb24df67bec94974ca065 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48310 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QHv6TFcJ4SF_qRlCq269AF5vQswo_koU8cOhE9iF8VsJTld3HDTkwy3pST75OyUoBsXQHjTjsWZcso3CjR23gYMCgmlkgnY0gmlwhKwSHZSKbXVsdGlhZGRyc5YACASsEh2UBiUTAAoErBIdlAYlFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJyCyJJ5Gq9Wrigiw042FcUV8LGI3z3ucs8oZO951JBuDdGNwgiUTg3VkcIIlFYV3YWt1MgM --storenode=/ip4/172.18.29.148/tcp/9491/p2p/16Uiu2HAmFHjAeqDX3VSSMr1iaYEb1fP9aGp1yL3nwEmMq4c2ubea --store=true --relay=true
2025-02-07 04:05:28.670 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.37.40 waku e39236e30f5d64e94ed74cd4b95146a90ef63a7dacdb02bb3a31d0e38db862c4
2025-02-07 04:05:28.723 DEBUG [src.node.docker_mananger] Container started with ID e39236e30f5d. Setting up logs at ./log/docker/store_node1_2025-02-07_04-05-27__fe12f0c7-e252-4f88-b4b0-4c5bb63538ee__wakuorg_nwaku:latest.log
2025-02-07 04:05:28.725 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 48306
2025-02-07 04:05:28.726 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:05:29.729 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48306/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:29.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:05:29.733 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:05:29.733 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48306/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:29.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.40/tcp/48307/p2p/16Uiu2HAmD9ab1RbtSuwvjsJSsXCqhQn67NMX9cRfqRDm5o5bwryH","/ip4/172.18.37.40/tcp/48308/ws/p2p/16Uiu2HAmD9ab1RbtSuwvjsJSsXCqhQn67NMX9cRfqRDm5o5bwryH"],"enrUri":"enr:-L24QAfWMznTbeWTJ6U_4g4iOMP4g_vLNwR1odLa8wagyVqzKtlCDSYjppIlKaH0GUrGb4gFzgo35bE9ZFmjDSy9kBwCgmlkgnY0gmlwhKwSJSiKbXVsdGlhZGRyc5YACASsEiUoBryzAAoErBIlKAa8tN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDB1L5WOIjLw8yHomCO1F-mbpov_OK_kdxpIpDFrERFTSDdGNwgryzg3VkcIK8tYV3YWt1MgM"}'
2025-02-07 04:05:29.736 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:05:29.736 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48306/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.29.148/tcp/9491/p2p/16Uiu2HAmFHjAeqDX3VSSMr1iaYEb1fP9aGp1yL3nwEmMq4c2ubea"]'
2025-02-07 04:05:29.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:29.739 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9490/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-07 04:05:29.742 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:29.742 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48306/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-07 04:05:29.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:29.745 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:29.745 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9490/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:29.751 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:29.752 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:29.953 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:29.953 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9490/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:29.959 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:29.960 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:30.161 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:30.161 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9490/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:30.168 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:30.169 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:30.370 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:30.370 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9490/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:30.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:30.378 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:30.578 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:30.579 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9490/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:30.586 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:30.587 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:30.788 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:30.788 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9490/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:30.796 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:30.796 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:30.997 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9490/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738901126745254912&endTime=1738901126745254912&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:31.002 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x599ee2871f7d70bb6f7aac20a66cf5fe1b2948ed60259ae6d83068ce5d9c4865"}]}'
2025-02-07 04:05:31.045 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 04:05:31.047 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 04:05:31.047 DEBUG [src.node.waku_node] Stopping container with id 7db6b9300979
2025-02-07 04:05:31.976 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:05:31.977 DEBUG [src.node.waku_node] Stopping container with id e39236e30f5d
2025-02-07 04:05:32.791 ERROR [src.node.docker_mananger] Max retries reached for container 7db6b9300979. Exiting log stream.
2025-02-07 04:05:33.506 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:05:33.507 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 04:05:33.515 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:05:33.521 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:05:33.522 DEBUG [tests.conftest] Running fixture teardown: attach_logs_on_fail
2025-02-07 04:05:33.522 DEBUG [tests.conftest] Test failed, attempting to attach logs to the allure reports
2025-02-07 04:05:33.523 DEBUG [src.libs.common] Attaching file ./log/docker/publishing_node1_2025-02-07_04-05-27__fe12f0c7-e252-4f88-b4b0-4c5bb63538ee__wakuorg_nwaku:latest.log
2025-02-07 04:05:33.523 DEBUG [src.libs.common] Attaching file ./log/docker/store_node1_2025-02-07_04-05-27__fe12f0c7-e252-4f88-b4b0-4c5bb63538ee__wakuorg_nwaku:latest.log
2025-02-07 04:05:33.527 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 04:05:33.527 DEBUG [tests.conftest] Running test: test_time_filter_start_time_equals_end_time with id: 2025-02-07_04-05-33__dec50c06-e349-429f-821b-902054b943e7
2025-02-07 04:05:33.528 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 04:05:33.528 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-07 04:05:33.528 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-07 04:05:33.535 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:05:33.535 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-07_04-05-33__dec50c06-e349-429f-821b-902054b943e7__wakuorg_nwaku:latest.log
2025-02-07 04:05:33.535 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:05:33.536 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:05:33.537 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:05:33.537 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.177.33
2025-02-07 04:05:33.537 DEBUG [src.node.docker_mananger] Generated ports ['55247', '55248', '55249', '55250', '55251']
2025-02-07 04:05:33.538 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:05:33.538 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:05:33.538 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:05:33.538 DEBUG [src.node.docker_mananger] docker run -i -t -p 55247:55247 -p 55248:55248 -p 55249:55249 -p 55250:55250 -p 55251:55251 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55249 --rest-port=55247 --tcp-port=55248 --discv5-udp-port=55250 --rest-address=0.0.0.0 --nat=extip:172.18.177.33 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3adbef23d3ad1e513086bc2199d8f75f2eca02d7f1abd82a0d979dea68fff6a6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55251 --metrics-logging=true --store=true --relay=true
2025-02-07 04:05:33.796 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.177.33 waku 888ca0cf20428ac531fe4b56c72623f2dcd649b5632c7edf565ac0b2f51bc2d9
2025-02-07 04:05:33.847 DEBUG [src.node.docker_mananger] Container started with ID 888ca0cf2042. Setting up logs at ./log/docker/publishing_node1_2025-02-07_04-05-33__dec50c06-e349-429f-821b-902054b943e7__wakuorg_nwaku:latest.log
2025-02-07 04:05:33.848 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 55247
2025-02-07 04:05:33.849 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:05:34.321 ERROR [src.node.docker_mananger] Max retries reached for container e39236e30f5d. Exiting log stream.
2025-02-07 04:05:34.849 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55247/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:34.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:05:34.852 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:05:34.853 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55247/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:34.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.33/tcp/55248/p2p/16Uiu2HAm9Nmom3SnkRnjoH2XTPB52QQarkxautCrfARAAbwnKeer","/ip4/172.18.177.33/tcp/55249/ws/p2p/16Uiu2HAm9Nmom3SnkRnjoH2XTPB52QQarkxautCrfARAAbwnKeer"],"enrUri":"enr:-L24QO3g4LRXCmyBbjBx4--3Oe0LikY1sEXRgR9Hea1mdSYmYcdSj5MU9s33JmO19V_pHhspzDppwjS1qDC6R24p2rECgmlkgnY0gmlwhKwSsSGKbXVsdGlhZGRyc5YACASsErEhBtfQAAoErBKxIQbX0d0DgnJzhQADAQAAiXNlY3AyNTZrMaECz0V2ke4wgizzAt2f--XKBleJcWjIcl1MT9vGv3AZ0SeDdGNwgtfQg3VkcILX0oV3YWt1MgM"}'
2025-02-07 04:05:34.855 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:05:34.863 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:05:34.863 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-07_04-05-33__dec50c06-e349-429f-821b-902054b943e7__wakuorg_nwaku:latest.log
2025-02-07 04:05:34.863 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:05:34.863 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:05:34.864 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:05:34.865 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.17.71
2025-02-07 04:05:34.865 DEBUG [src.node.docker_mananger] Generated ports ['50680', '50681', '50682', '50683', '50684']
2025-02-07 04:05:34.865 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:05:34.865 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:05:34.865 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:05:34.865 DEBUG [src.node.docker_mananger] docker run -i -t -p 50680:50680 -p 50681:50681 -p 50682:50682 -p 50683:50683 -p 50684:50684 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50682 --rest-port=50680 --tcp-port=50681 --discv5-udp-port=50683 --rest-address=0.0.0.0 --nat=extip:172.18.17.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1c48c51075dcededf7b06124491f7cf9ebb9a0ad219fd1cb1a85bf1ae7d1c909 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50684 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QO3g4LRXCmyBbjBx4--3Oe0LikY1sEXRgR9Hea1mdSYmYcdSj5MU9s33JmO19V_pHhspzDppwjS1qDC6R24p2rECgmlkgnY0gmlwhKwSsSGKbXVsdGlhZGRyc5YACASsErEhBtfQAAoErBKxIQbX0d0DgnJzhQADAQAAiXNlY3AyNTZrMaECz0V2ke4wgizzAt2f--XKBleJcWjIcl1MT9vGv3AZ0SeDdGNwgtfQg3VkcILX0oV3YWt1MgM --storenode=/ip4/172.18.177.33/tcp/55248/p2p/16Uiu2HAm9Nmom3SnkRnjoH2XTPB52QQarkxautCrfARAAbwnKeer --store=true --relay=true
2025-02-07 04:05:35.106 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.17.71 waku 3844d32bd0fc196c9026915186df6fda43c3b6fe4e27b3195aa5e479f97512dd
2025-02-07 04:05:35.158 DEBUG [src.node.docker_mananger] Container started with ID 3844d32bd0fc. Setting up logs at ./log/docker/store_node1_2025-02-07_04-05-33__dec50c06-e349-429f-821b-902054b943e7__wakuorg_nwaku:latest.log
2025-02-07 04:05:35.159 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 50680
2025-02-07 04:05:35.160 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:05:36.160 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50680/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:36.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:05:36.164 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:05:36.164 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50680/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:36.167 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.17.71/tcp/50681/p2p/16Uiu2HAmPZbR5K3KqXHFkLEBHAbBeJkBV92iuW7RYWQUEWfLcGRH","/ip4/172.18.17.71/tcp/50682/ws/p2p/16Uiu2HAmPZbR5K3KqXHFkLEBHAbBeJkBV92iuW7RYWQUEWfLcGRH"],"enrUri":"enr:-L24QIKyBkcEKXIaEwrzYHW5dkimIL5o3n9AN9wJVrCt3tmiOCMqt0-bSxnkBJEEngaipj9iciCR1nyOeTr02pwdPmoCgmlkgnY0gmlwhKwSEUeKbXVsdGlhZGRyc5YACASsEhFHBsX5AAoErBIRRwbF-t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDog64QdzaS-iFs5jzciYyrMRXfX5S_q5-YDnVvnhdpsSDdGNwgsX5g3VkcILF-4V3YWt1MgM"}'
2025-02-07 04:05:36.167 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:05:36.167 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50680/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.33/tcp/55248/p2p/16Uiu2HAm9Nmom3SnkRnjoH2XTPB52QQarkxautCrfARAAbwnKeer"]'
2025-02-07 04:05:36.170 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:36.171 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55247/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-07 04:05:36.173 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:36.173 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50680/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-07 04:05:36.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:36.177 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:36.177 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:36.183 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:36.184 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:36.385 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:36.385 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:36.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:36.392 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:36.593 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:36.593 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:36.601 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:36.601 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:36.802 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:36.802 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:36.809 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:36.809 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:37.011 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:37.011 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:37.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:37.018 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:37.218 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:37.219 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:37.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:37.226 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:37.427 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55247/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738901133176912896&endTime=1738901133176912896&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:37.431 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x06ba8c5ca65af557ec5841cda22a651ebae09c4d2b1de18e783a08f73a98ecea"}]}'
2025-02-07 04:05:37.442 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 04:05:37.444 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 04:05:37.444 DEBUG [src.node.waku_node] Stopping container with id 888ca0cf2042
2025-02-07 04:05:38.407 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:05:38.408 DEBUG [src.node.waku_node] Stopping container with id 3844d32bd0fc
2025-02-07 04:05:39.223 ERROR [src.node.docker_mananger] Max retries reached for container 888ca0cf2042. Exiting log stream.
2025-02-07 04:05:39.943 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:05:39.946 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 04:05:39.952 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:05:39.957 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:05:39.958 DEBUG [tests.conftest] Running fixture teardown: attach_logs_on_fail
2025-02-07 04:05:39.958 DEBUG [tests.conftest] Test failed, attempting to attach logs to the allure reports
2025-02-07 04:05:39.959 DEBUG [src.libs.common] Attaching file ./log/docker/store_node1_2025-02-07_04-05-33__dec50c06-e349-429f-821b-902054b943e7__wakuorg_nwaku:latest.log
2025-02-07 04:05:39.959 DEBUG [src.libs.common] Attaching file ./log/docker/publishing_node1_2025-02-07_04-05-33__dec50c06-e349-429f-821b-902054b943e7__wakuorg_nwaku:latest.log
