2025-02-07 04:04:55.730 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 04:04:55.731 DEBUG [tests.conftest] Running test: test_multiple_content_topics_and_multiple_pubsub_topics with id: 2025-02-07_04-04-55__e89da51a-9d8a-4f2c-a313-30fe3429e913
2025-02-07 04:04:55.731 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 04:04:55.731 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-07 04:04:55.732 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-07 04:04:55.738 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:04:55.739 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-07_04-04-55__e89da51a-9d8a-4f2c-a313-30fe3429e913__wakuorg_nwaku:latest.log
2025-02-07 04:04:55.739 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:04:55.739 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:04:55.740 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:04:55.740 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.48.56
2025-02-07 04:04:55.741 DEBUG [src.node.docker_mananger] Generated ports ['9799', '9800', '9801', '9802', '9803']
2025-02-07 04:04:55.741 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:04:55.741 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:04:55.741 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:04:55.741 DEBUG [src.node.docker_mananger] docker run -i -t -p 9799:9799 -p 9800:9800 -p 9801:9801 -p 9802:9802 -p 9803:9803 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9801 --rest-port=9799 --tcp-port=9800 --discv5-udp-port=9802 --rest-address=0.0.0.0 --nat=extip:172.18.48.56 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=d0dbeecc1ef5dffb72cf38ffff53cad0fc1f5fce43e6a386a2e9e8d320ba5f87 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9803 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-07 04:04:55.967 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.48.56 waku f196c14867727688e6ec6e925855abdb6168a2eef669012c3922ddb59b7656c1
2025-02-07 04:04:56.019 DEBUG [src.node.docker_mananger] Container started with ID f196c1486772. Setting up logs at ./log/docker/node1_2025-02-07_04-04-55__e89da51a-9d8a-4f2c-a313-30fe3429e913__wakuorg_nwaku:latest.log
2025-02-07 04:04:56.020 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 9799
2025-02-07 04:04:56.021 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:04:56.519 ERROR [src.node.docker_mananger] Max retries reached for container bdb19c3091b1. Exiting log stream.
2025-02-07 04:04:57.021 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9799/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:57.024 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:04:57.024 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:04:57.024 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9799/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:57.026 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.48.56/tcp/9800/p2p/16Uiu2HAm63cuyfdT1QvjEAWAjFe1sP96bZ5B6NcMFZVZhDc4TD9m","/ip4/172.18.48.56/tcp/9801/ws/p2p/16Uiu2HAm63cuyfdT1QvjEAWAjFe1sP96bZ5B6NcMFZVZhDc4TD9m"],"enrUri":"enr:-Mu4QIO-q_zLNicHQ9u3UPDkmtjvwAnxJYcrZ5yqjvREfrt2d6FI7Mslv8wgInUiPGtdA7dkDfPc7paPrk6-NYTVEiYCgmlkgnY0gmlwhKwSMDiKbXVsdGlhZGRyc5YACASsEjA4BiZIAAoErBIwOAYmSd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQKdyk_YNAr_rkGeNTdCCpdE2ULHy6fi12bDDpGRQ37azIN0Y3CCJkiDdWRwgiZKhXdha3UyBQ"}'
2025-02-07 04:04:57.026 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:04:57.033 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:04:57.033 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-07_04-04-55__e89da51a-9d8a-4f2c-a313-30fe3429e913__wakuorg_nwaku:latest.log
2025-02-07 04:04:57.033 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:04:57.033 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:04:57.034 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:04:57.034 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.212.164
2025-02-07 04:04:57.035 DEBUG [src.node.docker_mananger] Generated ports ['33136', '33137', '33138', '33139', '33140']
2025-02-07 04:04:57.035 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:04:57.035 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:04:57.035 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:04:57.035 DEBUG [src.node.docker_mananger] docker run -i -t -p 33136:33136 -p 33137:33137 -p 33138:33138 -p 33139:33139 -p 33140:33140 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33138 --rest-port=33136 --tcp-port=33137 --discv5-udp-port=33139 --rest-address=0.0.0.0 --nat=extip:172.18.212.164 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=b07e5dadd4e10cd0dbbaea9d1ef61d7ae7b6eaf9e3b82cfbfe41b52d1add5d85 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33140 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QIO-q_zLNicHQ9u3UPDkmtjvwAnxJYcrZ5yqjvREfrt2d6FI7Mslv8wgInUiPGtdA7dkDfPc7paPrk6-NYTVEiYCgmlkgnY0gmlwhKwSMDiKbXVsdGlhZGRyc5YACASsEjA4BiZIAAoErBIwOAYmSd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQKdyk_YNAr_rkGeNTdCCpdE2ULHy6fi12bDDpGRQ37azIN0Y3CCJkiDdWRwgiZKhXdha3UyBQ --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-07 04:04:57.266 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.212.164 waku a1d64e1c8018c1417c44d54e8e442bec87c453d97001739ccd71a98f0e4861c6
2025-02-07 04:04:57.326 DEBUG [src.node.docker_mananger] Container started with ID a1d64e1c8018. Setting up logs at ./log/docker/node2_2025-02-07_04-04-55__e89da51a-9d8a-4f2c-a313-30fe3429e913__wakuorg_nwaku:latest.log
2025-02-07 04:04:57.326 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 33136
2025-02-07 04:04:57.326 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:04:58.327 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.340 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:04:58.341 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:04:58.343 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.365 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.164/tcp/33137/p2p/16Uiu2HAkzZeqwj638PHCc2rxsBe9nF2myMXvxaBjNp7RFwmQyfmG","/ip4/172.18.212.164/tcp/33138/ws/p2p/16Uiu2HAkzZeqwj638PHCc2rxsBe9nF2myMXvxaBjNp7RFwmQyfmG"],"enrUri":"enr:-Mu4QKHyC6IqrPnrrLewkYxDld7--GgOpct1oamxPaqStLqICt-BoJrNi9fyXdF34ridk9rN4KmOrRwAys2h0pW_GoYCgmlkgnY0gmlwhKwS1KSKbXVsdGlhZGRyc5YACASsEtSkBoFxAAoErBLUpAaBct0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQJMVcwhP8snqbO3lA1nHSSkpszSTaouN7mpQ4ksCEfWj4N0Y3CCgXGDdWRwgoFzhXdha3UyAQ"}'
2025-02-07 04:04:58.370 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:04:58.370 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33136/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.56/tcp/9800/p2p/16Uiu2HAm63cuyfdT1QvjEAWAjFe1sP96bZ5B6NcMFZVZhDc4TD9m"]'
2025-02-07 04:04:58.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:58.383 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9799/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-07 04:04:58.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:58.393 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33136/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-07 04:04:58.395 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:58.396 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9799/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:58.401 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:58.402 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:58.502 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:58.503 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9799/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.505 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901098396406272,"ephemeral":false}]'
2025-02-07 04:04:58.507 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:58.507 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.509 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738901098396406272,"ephemeral":false}]'
2025-02-07 04:04:58.511 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9799/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:58.516 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:58.516 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:58.617 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:58.617 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9799/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738901098511192832,"ephemeral":false}]'
2025-02-07 04:04:58.621 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:58.621 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738901098511192832,"ephemeral":false}]'
2025-02-07 04:04:58.625 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9799/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:58.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:58.631 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:58.732 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:58.732 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9799/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.734 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738901098625466368,"ephemeral":false}]'
2025-02-07 04:04:58.736 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:58.736 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.738 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738901098625466368,"ephemeral":false}]'
2025-02-07 04:04:58.740 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9799/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:58.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:58.745 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:58.845 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:58.846 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9799/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738901098740193792,"ephemeral":false}]'
2025-02-07 04:04:58.850 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:58.850 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738901098740193792,"ephemeral":false}]'
2025-02-07 04:04:58.854 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9799/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:58.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:58.859 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:58.960 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:58.960 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9799/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738901098854269184,"ephemeral":false}]'
2025-02-07 04:04:58.964 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:58.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:58.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738901098854269184,"ephemeral":false}]'
2025-02-07 04:04:58.968 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9799/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:58.972 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:58.972 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:59.073 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:59.073 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9799/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:59.076 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738901098967956736,"ephemeral":false}]'
2025-02-07 04:04:59.077 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:59.077 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:59.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738901098967956736,"ephemeral":false}]'
2025-02-07 04:04:59.081 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9799/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:59.085 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:59.086 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:59.187 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:59.187 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9799/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:59.189 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738901099081067264,"ephemeral":false}]'
2025-02-07 04:04:59.191 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:59.191 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:59.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738901099081067264,"ephemeral":false}]'
2025-02-07 04:04:59.195 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9799/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:04:59.199 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:04:59.199 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:04:59.300 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:59.300 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9799/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:59.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738901099194990848,"ephemeral":false}]'
2025-02-07 04:04:59.305 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:04:59.305 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33136/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:04:59.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738901099194990848,"ephemeral":false}]'
2025-02-07 04:04:59.310 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 04:04:59.311 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 04:04:59.311 DEBUG [src.node.waku_node] Stopping container with id f196c1486772
2025-02-07 04:04:59.974 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:04:59.974 DEBUG [src.node.waku_node] Stopping container with id a1d64e1c8018
2025-02-07 04:05:00.786 ERROR [src.node.docker_mananger] Max retries reached for container f196c1486772. Exiting log stream.
2025-02-07 04:05:01.291 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:05:01.293 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 04:05:01.304 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:05:01.316 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
