2025-02-07 04:02:55.574 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 04:02:55.575 DEBUG [tests.conftest] Running test: test_filter_update_subscription_add_30_new_content_topics with id: 2025-02-07_04-02-55__18034108-5d75-4f27-b893-dbe9f2a39f51
2025-02-07 04:02:55.575 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 04:02:55.575 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-07 04:02:55.575 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-07 04:02:55.582 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:02:55.582 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-07_04-02-55__18034108-5d75-4f27-b893-dbe9f2a39f51__wakuorg_nwaku:latest.log
2025-02-07 04:02:55.582 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:02:55.582 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:02:55.584 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:02:55.584 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.90.178
2025-02-07 04:02:55.584 DEBUG [src.node.docker_mananger] Generated ports ['21045', '21046', '21047', '21048', '21049']
2025-02-07 04:02:55.584 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:02:55.585 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:02:55.585 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:02:55.585 DEBUG [src.node.docker_mananger] docker run -i -t -p 21045:21045 -p 21046:21046 -p 21047:21047 -p 21048:21048 -p 21049:21049 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21047 --rest-port=21045 --tcp-port=21046 --discv5-udp-port=21048 --rest-address=0.0.0.0 --nat=extip:172.18.90.178 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9c6eea38e16ddda88e6aa6dbdc3dbb9b28c2e3ccad9ad52ad3b149fc58ab6bc3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21049 --metrics-logging=true --relay=true --filter=true
2025-02-07 04:02:55.821 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.90.178 waku e113f1f44bbceed5053bd3ad935a1d7ec362474ba51bceba36af4a47d3dd787d
2025-02-07 04:02:55.873 DEBUG [src.node.docker_mananger] Container started with ID e113f1f44bbc. Setting up logs at ./log/docker/node1_2025-02-07_04-02-55__18034108-5d75-4f27-b893-dbe9f2a39f51__wakuorg_nwaku:latest.log
2025-02-07 04:02:55.873 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21045
2025-02-07 04:02:55.874 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:02:56.371 ERROR [src.node.docker_mananger] Max retries reached for container da0f4c8ec6df. Exiting log stream.
2025-02-07 04:02:56.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21045/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:56.879 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:02:56.879 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:02:56.879 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21045/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:56.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.178/tcp/21046/p2p/16Uiu2HAm3Dfubqg9p3kt3PqSMJ4ZuR5TUjBZuSfVpShyLX2oYAXK","/ip4/172.18.90.178/tcp/21047/ws/p2p/16Uiu2HAm3Dfubqg9p3kt3PqSMJ4ZuR5TUjBZuSfVpShyLX2oYAXK"],"enrUri":"enr:-L24QBKLTuLVX7v0RPBlE6GZvjUcue3Xs_i42b6_a4oYfwMHKiX4TTMNcmUvqonH9P2cqNvGXk18_qJ71FhmaGxsdXICgmlkgnY0gmlwhKwSWrKKbXVsdGlhZGRyc5YACASsElqyBlI2AAoErBJasgZSN90DgnJzhQADAQAAiXNlY3AyNTZrMaECc8pxqJlWnk0mOxN7VL6YYP7hi3JkFwc30FrreGOvnXqDdGNwglI2g3VkcIJSOIV3YWt1MgU"}'
2025-02-07 04:02:56.881 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:02:56.882 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-07 04:02:56.888 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:02:56.888 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-07_04-02-55__18034108-5d75-4f27-b893-dbe9f2a39f51__wakuorg_nwaku:latest.log
2025-02-07 04:02:56.888 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:02:56.889 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:02:56.890 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:02:56.890 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.170.14
2025-02-07 04:02:56.890 DEBUG [src.node.docker_mananger] Generated ports ['34544', '34545', '34546', '34547', '34548']
2025-02-07 04:02:56.891 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:02:56.891 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:02:56.891 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:02:56.891 DEBUG [src.node.docker_mananger] docker run -i -t -p 34544:34544 -p 34545:34545 -p 34546:34546 -p 34547:34547 -p 34548:34548 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34546 --rest-port=34544 --tcp-port=34545 --discv5-udp-port=34547 --rest-address=0.0.0.0 --nat=extip:172.18.170.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=defee01fb6edbab2dad7fce94ffdfeb6ccf0d1e1d7ed9a29caa2eb19aeeb1fb1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34548 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QBKLTuLVX7v0RPBlE6GZvjUcue3Xs_i42b6_a4oYfwMHKiX4TTMNcmUvqonH9P2cqNvGXk18_qJ71FhmaGxsdXICgmlkgnY0gmlwhKwSWrKKbXVsdGlhZGRyc5YACASsElqyBlI2AAoErBJasgZSN90DgnJzhQADAQAAiXNlY3AyNTZrMaECc8pxqJlWnk0mOxN7VL6YYP7hi3JkFwc30FrreGOvnXqDdGNwglI2g3VkcIJSOIV3YWt1MgU --filternode=/ip4/172.18.90.178/tcp/21046/p2p/16Uiu2HAm3Dfubqg9p3kt3PqSMJ4ZuR5TUjBZuSfVpShyLX2oYAXK
2025-02-07 04:02:57.116 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.170.14 waku 77a5210863bbbf793373854ec50402b431b1e20ab4114b33d7d34ae703e9b513
2025-02-07 04:02:57.166 DEBUG [src.node.docker_mananger] Container started with ID 77a5210863bb. Setting up logs at ./log/docker/node2_2025-02-07_04-02-55__18034108-5d75-4f27-b893-dbe9f2a39f51__wakuorg_nwaku:latest.log
2025-02-07 04:02:57.167 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 34544
2025-02-07 04:02:57.168 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:02:58.168 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:58.172 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:02:58.172 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:02:58.172 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:58.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.170.14/tcp/34545/p2p/16Uiu2HAm2C3sDRadjPZCcPsHGBahefEN8gB1fqhkQ6qFaG27v9xn","/ip4/172.18.170.14/tcp/34546/ws/p2p/16Uiu2HAm2C3sDRadjPZCcPsHGBahefEN8gB1fqhkQ6qFaG27v9xn"],"enrUri":"enr:-L24QN7rcU3w4t0nO6B_lLhd-RdWI5Pcaf7VP2qnPAA0WLXULDGP-rg_G-LWuJnDRtELQhJ3ALo26eDGkG7guOMrANQCgmlkgnY0gmlwhKwSqg6KbXVsdGlhZGRyc5YACASsEqoOBobxAAoErBKqDgaG8t0DgnJzhQADAQAAiXNlY3AyNTZrMaECZIRspMypoKcLrOSeG0rXvVZD-hY6_dex1e52He0l5kuDdGNwgobxg3VkcIKG84V3YWt1MgA"}'
2025-02-07 04:02:58.175 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:02:58.175 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34544/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.90.178/tcp/21046/p2p/16Uiu2HAm3Dfubqg9p3kt3PqSMJ4ZuR5TUjBZuSfVpShyLX2oYAXK"]'
2025-02-07 04:02:58.211 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:58.216 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-07 04:02:58.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:58.234 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34544/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "36f2d0fd-8487-4f03-b3d9-2afe997c66c3", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-07 04:02:58.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"36f2d0fd-8487-4f03-b3d9-2afe997c66c3","statusDesc":"OK"}'
2025-02-07 04:02:58.246 INFO [src.node.api_clients.base_client] curl -v -X PUT "http://127.0.0.1:34544/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["Hello World!", "1234567890", "{\"key\": \"value\"}", "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "\ud83d\ude80\ud83c\udf1f\u2728", "Lorem ipsum dolor sit amet", "<html><body>Hello</body></html>", "\u041f\u0440\u0438\u0432\u0435\u0442", "Base64==dGVzdA==", "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "\t\nSpecial\tCharacters\n", "False", "3.1415926535", "[1, 2, 3, 4, 5]", "0xDEADBEEF", "user@example.com", "http://example.com", "2023-11-01T12:00:00Z", "\"Escaped\" \\\"quotes\\\"", "Regular expression: ^[a-z0-9_-]{3,16}$", "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "/usr/local/bin", "C:\\Windows\\System32", "SELECT * FROM users WHERE id = 1;", "function test() { console.log('Hello World'); }", "body { background-color: #fff; }", "print('Hello World')", "192.168.1.1", "www.example.com"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-07 04:02:58.260 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2025-02-07 04:02:58.261 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:58.274 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:58.274 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:58.374 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:58.375 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:58.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738900978261175040,"ephemeral":false}]'
2025-02-07 04:02:58.379 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A simple string
2025-02-07 04:02:58.380 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "Hello World!", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:58.390 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:58.390 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:58.491 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:58.491 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/Hello%20World%21" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:58.494 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"Hello World!","version":0,"timestamp":1738900978380114176,"ephemeral":false}]'
2025-02-07 04:02:58.495 DEBUG [tests.filter.test_subscribe_update] Running test with content topic An integer
2025-02-07 04:02:58.496 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "1234567890", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:58.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:58.506 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:58.606 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:58.607 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/1234567890" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:58.610 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"1234567890","version":0,"timestamp":1738900978496022016,"ephemeral":false}]'
2025-02-07 04:02:58.611 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A dictionary
2025-02-07 04:02:58.612 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "{\"key\": \"value\"}", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:58.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:58.622 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:58.723 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:58.723 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/%7B%22key%22%3A%20%22value%22%7D" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:58.726 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738900978612008192,"ephemeral":false}]'
2025-02-07 04:02:58.727 DEBUG [tests.filter.test_subscribe_update] Running test with content topic Chinese characters
2025-02-07 04:02:58.728 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:58.738 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:58.738 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:58.839 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:58.839 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/%E8%BF%99%E6%98%AF%E4%B8%80%E4%BA%9B%E4%B8%AD%E6%96%87" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:58.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738900978728206848,"ephemeral":false}]'
2025-02-07 04:02:58.844 DEBUG [tests.filter.test_subscribe_update] Running test with content topic Emojis
2025-02-07 04:02:58.844 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:58.854 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:58.855 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:58.955 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:58.956 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/%F0%9F%9A%80%F0%9F%8C%9F%E2%9C%A8" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:58.958 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738900978844594944,"ephemeral":false}]'
2025-02-07 04:02:58.960 DEBUG [tests.filter.test_subscribe_update] Running test with content topic Lorem ipsum text
2025-02-07 04:02:58.960 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:58.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:58.970 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:59.071 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:59.071 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/Lorem%20ipsum%20dolor%20sit%20amet" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:59.074 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738900978960611072,"ephemeral":false}]'
2025-02-07 04:02:59.076 DEBUG [tests.filter.test_subscribe_update] Running test with content topic HTML content
2025-02-07 04:02:59.076 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "<html><body>Hello</body></html>", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:59.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:59.087 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:59.187 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:59.188 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/%3Chtml%3E%3Cbody%3EHello%3C%2Fbody%3E%3C%2Fhtml%3E" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:59.191 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738900979076437504,"ephemeral":false}]'
2025-02-07 04:02:59.192 DEBUG [tests.filter.test_subscribe_update] Running test with content topic Cyrillic characters
2025-02-07 04:02:59.193 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:59.203 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:59.203 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:59.304 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:59.304 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/%D0%9F%D1%80%D0%B8%D0%B2%D0%B5%D1%82" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:59.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738900979193009408,"ephemeral":false}]'
2025-02-07 04:02:59.308 DEBUG [tests.filter.test_subscribe_update] Running test with content topic Base64 encoded string
2025-02-07 04:02:59.309 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "Base64==dGVzdA==", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:59.319 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:59.319 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:59.420 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:59.420 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/Base64%3D%3DdGVzdA%3D%3D" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:59.424 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738900979309112576,"ephemeral":false}]'
2025-02-07 04:02:59.425 DEBUG [tests.filter.test_subscribe_update] Running test with content topic Binary data
2025-02-07 04:02:59.426 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:59.436 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:59.436 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:59.537 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:59.537 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh%3A%20PQ" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:59.540 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738900979426216704,"ephemeral":false}]'
2025-02-07 04:02:59.542 DEBUG [tests.filter.test_subscribe_update] Running test with content topic Special characters with whitespace
2025-02-07 04:02:59.542 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:59.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:59.552 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:59.653 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:59.653 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/%09%0ASpecial%09Characters%0A" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:59.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738900979542253312,"ephemeral":false}]'
2025-02-07 04:02:59.658 DEBUG [tests.filter.test_subscribe_update] Running test with content topic Boolean false as a string
2025-02-07 04:02:59.658 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "False", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:59.668 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:59.669 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:59.769 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:59.770 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/False" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:59.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"False","version":0,"timestamp":1738900979658271744,"ephemeral":false}]'
2025-02-07 04:02:59.774 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A float number
2025-02-07 04:02:59.774 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "3.1415926535", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:59.784 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:59.785 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:02:59.885 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:02:59.885 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/3.1415926535" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:02:59.888 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"3.1415926535","version":0,"timestamp":1738900979774544128,"ephemeral":false}]'
2025-02-07 04:02:59.890 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A list
2025-02-07 04:02:59.890 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:02:59.900 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:02:59.901 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:00.001 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:00.001 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/%5B1%2C%202%2C%203%2C%204%2C%205%5D" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:00.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738900979890345984,"ephemeral":false}]'
2025-02-07 04:03:00.006 DEBUG [tests.filter.test_subscribe_update] Running test with content topic Hexadecimal number as a string
2025-02-07 04:03:00.006 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "0xDEADBEEF", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:00.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:00.017 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:00.117 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:00.118 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/0xDEADBEEF" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:00.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738900980006647808,"ephemeral":false}]'
2025-02-07 04:03:00.122 DEBUG [tests.filter.test_subscribe_update] Running test with content topic Email format
2025-02-07 04:03:00.122 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "user@example.com", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:00.132 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:00.132 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:00.233 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:00.233 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/user%40example.com" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:00.235 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"user@example.com","version":0,"timestamp":1738900980122351360,"ephemeral":false}]'
2025-02-07 04:03:00.237 DEBUG [tests.filter.test_subscribe_update] Running test with content topic URL format
2025-02-07 04:03:00.237 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "http://example.com", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:00.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:00.247 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:00.347 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:00.348 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/http%3A%2F%2Fexample.com" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:00.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"http://example.com","version":0,"timestamp":1738900980237524992,"ephemeral":false}]'
2025-02-07 04:03:00.352 DEBUG [tests.filter.test_subscribe_update] Running test with content topic Date and time in ISO format
2025-02-07 04:03:00.352 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:00.362 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:00.362 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:00.462 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:00.463 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/2023-11-01T12%3A00%3A00Z" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:00.465 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738900980352457984,"ephemeral":false}]'
2025-02-07 04:03:00.467 DEBUG [tests.filter.test_subscribe_update] Running test with content topic String with escaped quotes
2025-02-07 04:03:00.467 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:00.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:00.477 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:00.578 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:00.578 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/%22Escaped%22%20%5C%22quotes%5C%22" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:00.580 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738900980467670272,"ephemeral":false}]'
2025-02-07 04:03:00.582 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A regular expression
2025-02-07 04:03:00.582 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:00.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:00.592 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:00.692 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:00.693 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/Regular%20expression%3A%20%5E%5Ba-z0-9_-%5D%7B3%2C16%7D%24" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:00.696 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738900980582456064,"ephemeral":false}]'
2025-02-07 04:03:00.698 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A very long string
2025-02-07 04:03:00.699 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:00.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:00.709 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:00.809 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:00.810 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:00.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738900980698926336,"ephemeral":false}]'
2025-02-07 04:03:00.817 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A JSON string
2025-02-07 04:03:00.817 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:00.828 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:00.829 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:00.929 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:00.930 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/%7B%22name%22%3A%20%22John%22%2C%20%22age%22%3A%2030%2C%20%22city%22%3A%20%22New%20York%22%7D" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:00.932 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738900980817763072,"ephemeral":false}]'
2025-02-07 04:03:00.934 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A Unix path
2025-02-07 04:03:00.934 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/usr/local/bin", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:00.944 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:00.944 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:01.045 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:01.045 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/%2Fusr%2Flocal%2Fbin" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:01.048 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/usr/local/bin","version":0,"timestamp":1738900980934463744,"ephemeral":false}]'
2025-02-07 04:03:01.050 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A Windows path
2025-02-07 04:03:01.050 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "C:\\Windows\\System32", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:01.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:01.061 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:01.162 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:01.162 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/C%3A%5CWindows%5CSystem32" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:01.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738900981050604288,"ephemeral":false}]'
2025-02-07 04:03:01.166 DEBUG [tests.filter.test_subscribe_update] Running test with content topic An SQL query
2025-02-07 04:03:01.167 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:01.177 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:01.177 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:01.277 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:01.278 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/SELECT%20%2A%20FROM%20users%20WHERE%20id%20%3D%201%3B" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:01.281 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738900981167026176,"ephemeral":false}]'
2025-02-07 04:03:01.282 DEBUG [tests.filter.test_subscribe_update] Running test with content topic JavaScript code snippet
2025-02-07 04:03:01.283 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:01.293 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:01.293 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:01.394 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:01.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/function%20test%28%29%20%7B%20console.log%28%27Hello%20World%27%29%3B%20%7D" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:01.397 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738900981283068672,"ephemeral":false}]'
2025-02-07 04:03:01.399 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A CSS snippet
2025-02-07 04:03:01.399 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "body { background-color: #fff; }", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:01.409 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:01.410 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:01.510 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:01.510 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/body%20%7B%20background-color%3A%20%23fff%3B%20%7D" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:01.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738900981399574016,"ephemeral":false}]'
2025-02-07 04:03:01.515 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A Python one-liner
2025-02-07 04:03:01.515 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "print('Hello World')", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:01.525 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:01.526 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:01.626 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:01.627 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/print%28%27Hello%20World%27%29" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:01.630 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738900981515468800,"ephemeral":false}]'
2025-02-07 04:03:01.632 DEBUG [tests.filter.test_subscribe_update] Running test with content topic An IP address
2025-02-07 04:03:01.632 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "192.168.1.1", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:01.644 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:01.644 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:01.744 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:01.745 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/192.168.1.1" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:01.747 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"192.168.1.1","version":0,"timestamp":1738900981632547584,"ephemeral":false}]'
2025-02-07 04:03:01.749 DEBUG [tests.filter.test_subscribe_update] Running test with content topic A domain name
2025-02-07 04:03:01.749 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21045/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "www.example.com", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:03:01.759 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:01.760 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:01.860 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-07 04:03:01.861 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34544/filter/v2/messages/www.example.com" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:01.864 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"www.example.com","version":0,"timestamp":1738900981749713152,"ephemeral":false}]'
2025-02-07 04:03:01.867 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 04:03:01.867 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 04:03:01.868 DEBUG [src.node.waku_node] Stopping container with id e113f1f44bbc
2025-02-07 04:03:02.632 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:03:02.632 DEBUG [src.node.waku_node] Stopping container with id 77a5210863bb
2025-02-07 04:03:03.446 ERROR [src.node.docker_mananger] Max retries reached for container e113f1f44bbc. Exiting log stream.
2025-02-07 04:03:04.122 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:03:04.123 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 04:03:04.134 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:03:04.142 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
