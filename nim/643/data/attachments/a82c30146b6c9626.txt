2025-02-07 04:03:30.161 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 04:03:30.162 DEBUG [tests.conftest] Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2025-02-07_04-03-30__607769f0-bf01-46fe-80a6-c19e8f2c9ce6
2025-02-07 04:03:30.162 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 04:03:30.162 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-07 04:03:30.168 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:03:30.168 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-07_04-03-30__607769f0-bf01-46fe-80a6-c19e8f2c9ce6__wakuorg_nwaku:latest.log
2025-02-07 04:03:30.168 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:03:30.168 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:03:30.170 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:03:30.170 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.216.152
2025-02-07 04:03:30.170 DEBUG [src.node.docker_mananger] Generated ports ['38075', '38076', '38077', '38078', '38079']
2025-02-07 04:03:30.170 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:03:30.170 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:03:30.170 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:03:30.171 DEBUG [src.node.docker_mananger] docker run -i -t -p 38075:38075 -p 38076:38076 -p 38077:38077 -p 38078:38078 -p 38079:38079 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38077 --rest-port=38075 --tcp-port=38076 --discv5-udp-port=38078 --rest-address=0.0.0.0 --nat=extip:172.18.216.152 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfdacd4fde0e0c3eabfbdafbded715e2c44fbdafd9bcadcc51b7cb5687193483 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38079 --metrics-logging=true --lightpush=true --relay=true
2025-02-07 04:03:30.393 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.216.152 waku 084cabee4c7aed74b592025561da6d0fdc588d350b8e087f7ead0e24fbb4238f
2025-02-07 04:03:30.441 DEBUG [src.node.docker_mananger] Container started with ID 084cabee4c7a. Setting up logs at ./log/docker/receiving_node1_2025-02-07_04-03-30__607769f0-bf01-46fe-80a6-c19e8f2c9ce6__wakuorg_nwaku:latest.log
2025-02-07 04:03:30.442 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 38075
2025-02-07 04:03:30.442 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:03:30.961 ERROR [src.node.docker_mananger] Max retries reached for container ec7e48bd80e5. Exiting log stream.
2025-02-07 04:03:31.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38075/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:31.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:03:31.445 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:03:31.445 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38075/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:31.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.152/tcp/38076/p2p/16Uiu2HAm9YpgKrqHRikASBAZHGFmqQJcgBWtfYmimi8WdCqopBdB","/ip4/172.18.216.152/tcp/38077/ws/p2p/16Uiu2HAm9YpgKrqHRikASBAZHGFmqQJcgBWtfYmimi8WdCqopBdB"],"enrUri":"enr:-L24QBEsYYdfCFIRC8vLPuveW9AnaTJruYNLtyIMATM5BC3tcyPYPcdBRSc-jc3HVfU2rjOklSX4nQhl99YhwD3aU5oCgmlkgnY0gmlwhKwS2JiKbXVsdGlhZGRyc5YACASsEtiYBpS8AAoErBLYmAaUvd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0diEuEsHdrb4wflPee-NllUqWpGq2_9erAD1nvx3xZKDdGNwgpS8g3VkcIKUvoV3YWt1Mgk"}'
2025-02-07 04:03:31.448 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:03:31.454 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:03:31.454 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-07_04-03-30__607769f0-bf01-46fe-80a6-c19e8f2c9ce6__wakuorg_nwaku:latest.log
2025-02-07 04:03:31.454 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:03:31.454 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:03:31.456 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:03:31.456 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.148.158
2025-02-07 04:03:31.456 DEBUG [src.node.docker_mananger] Generated ports ['64556', '64557', '64558', '64559', '64560']
2025-02-07 04:03:31.456 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:03:31.456 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:03:31.456 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:03:31.456 DEBUG [src.node.docker_mananger] docker run -i -t -p 64556:64556 -p 64557:64557 -p 64558:64558 -p 64559:64559 -p 64560:64560 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64558 --rest-port=64556 --tcp-port=64557 --discv5-udp-port=64559 --rest-address=0.0.0.0 --nat=extip:172.18.148.158 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=77c0910ef92bdcf2bac13c712fa75ad10fc592bf4a5911dc3aa2ad98054a4827 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64560 --metrics-logging=true --lightpush=false --relay=true
2025-02-07 04:03:31.681 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.148.158 waku 14288b81b4efcb55edb70e1f598019176ffd6dfd47db1c779a527ccc846094bd
2025-02-07 04:03:31.733 DEBUG [src.node.docker_mananger] Container started with ID 14288b81b4ef. Setting up logs at ./log/docker/receiving_node2_2025-02-07_04-03-30__607769f0-bf01-46fe-80a6-c19e8f2c9ce6__wakuorg_nwaku:latest.log
2025-02-07 04:03:31.733 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64556
2025-02-07 04:03:31.733 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:03:32.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64556/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:32.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:03:32.737 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:03:32.737 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64556/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:32.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.148.158/tcp/64557/p2p/16Uiu2HAm5W5Lfpk1KmwtuAf5fGMfX9dcsJgDk6z17e6od3yTSxTc","/ip4/172.18.148.158/tcp/64558/ws/p2p/16Uiu2HAm5W5Lfpk1KmwtuAf5fGMfX9dcsJgDk6z17e6od3yTSxTc"],"enrUri":"enr:-L24QOrnbxI6m-68h0xFn99AF_6hM5butcLPL0sK8Jz_wmzMfAF6s1pO6ZXwkzrXrYr9MglV1ciZrvCrdf_HQiOyFEMCgmlkgnY0gmlwhKwSlJ6KbXVsdGlhZGRyc5YACASsEpSeBvwtAAoErBKUngb8Lt0DgnJzhQADAQAAiXNlY3AyNTZrMaEClbWbDUECsNBf1e0EQQSsZsSzIaWYb8uCS9Hp_3BxL8uDdGNwgvwtg3VkcIL8L4V3YWt1MgE"}'
2025-02-07 04:03:32.739 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:03:32.740 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64556/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.152/tcp/38076/p2p/16Uiu2HAm9YpgKrqHRikASBAZHGFmqQJcgBWtfYmimi8WdCqopBdB"]'
2025-02-07 04:03:32.776 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:32.786 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:03:32.786 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-07_04-03-30__607769f0-bf01-46fe-80a6-c19e8f2c9ce6__wakuorg_nwaku:latest.log
2025-02-07 04:03:32.786 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:03:32.786 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:03:32.788 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:03:32.788 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.89.79
2025-02-07 04:03:32.788 DEBUG [src.node.docker_mananger] Generated ports ['18543', '18544', '18545', '18546', '18547']
2025-02-07 04:03:32.788 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:03:32.788 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:03:32.788 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:03:32.788 DEBUG [src.node.docker_mananger] docker run -i -t -p 18543:18543 -p 18544:18544 -p 18545:18545 -p 18546:18546 -p 18547:18547 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18545 --rest-port=18543 --tcp-port=18544 --discv5-udp-port=18546 --rest-address=0.0.0.0 --nat=extip:172.18.89.79 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ccffa9eddadf7c7bb3eb9f1a0263135a7cae11c9d837cb8a17de53f9d9fa8cde --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18547 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QBEsYYdfCFIRC8vLPuveW9AnaTJruYNLtyIMATM5BC3tcyPYPcdBRSc-jc3HVfU2rjOklSX4nQhl99YhwD3aU5oCgmlkgnY0gmlwhKwS2JiKbXVsdGlhZGRyc5YACASsEtiYBpS8AAoErBLYmAaUvd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0diEuEsHdrb4wflPee-NllUqWpGq2_9erAD1nvx3xZKDdGNwgpS8g3VkcIKUvoV3YWt1Mgk --lightpushnode=/ip4/172.18.216.152/tcp/38076/p2p/16Uiu2HAm9YpgKrqHRikASBAZHGFmqQJcgBWtfYmimi8WdCqopBdB --lightpush=true --relay=false
2025-02-07 04:03:33.028 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.89.79 waku e0cf38c1f10be4c32ae0ad1cd8658f503ec04025a3c37e170ba1a79945a4a516
2025-02-07 04:03:33.070 DEBUG [src.node.docker_mananger] Container started with ID e0cf38c1f10b. Setting up logs at ./log/docker/lightpush_node1_2025-02-07_04-03-30__607769f0-bf01-46fe-80a6-c19e8f2c9ce6__wakuorg_nwaku:latest.log
2025-02-07 04:03:33.070 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18543
2025-02-07 04:03:33.070 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:03:34.072 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18543/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:34.074 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:03:34.075 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:03:34.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18543/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:34.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.89.79/tcp/18544/p2p/16Uiu2HAm2ZggaXKaNo7qQyxRV7jc5anSp4jgqWujQwqQVXKY2uyo","/ip4/172.18.89.79/tcp/18545/ws/p2p/16Uiu2HAm2ZggaXKaNo7qQyxRV7jc5anSp4jgqWujQwqQVXKY2uyo"],"enrUri":"enr:-L24QPjetlNqz7s5ynPu09OFRaifkKSJ5k-9CPlxc4udgvfmNt0g4YJV-f6n4uBX6zHqrrR5vyZ5zuI0PCz6pN3cgswCgmlkgnY0gmlwhKwSWU-KbXVsdGlhZGRyc5YACASsEllPBkhwAAoErBJZTwZIcd0DgnJzhQADAQAAiXNlY3AyNTZrMaECag9ABAjlZB21e5mP5R3q71kilOc2XESf36IguiYpdQaDdGNwgkhwg3VkcIJIcoV3YWt1Mgg"}'
2025-02-07 04:03:34.077 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:03:34.077 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18543/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.152/tcp/38076/p2p/16Uiu2HAm9YpgKrqHRikASBAZHGFmqQJcgBWtfYmimi8WdCqopBdB"]'
2025-02-07 04:03:34.117 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:34.117 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18543/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.148.158/tcp/64557/p2p/16Uiu2HAm5W5Lfpk1KmwtuAf5fGMfX9dcsJgDk6z17e6od3yTSxTc"]'
2025-02-07 04:03:34.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:34.146 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38075/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-07 04:03:34.152 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:34.152 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64556/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-07 04:03:34.157 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:34.159 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38075/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-07 04:03:34.169 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:34.170 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64556/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-07 04:03:34.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:34.190 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18543/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738901014190105600}}'
2025-02-07 04:03:34.202 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:03:34.203 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 04:03:34.304 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38075/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:03:34.306 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-07 04:03:34.308 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 04:03:34.308 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 04:03:34.309 DEBUG [src.node.waku_node] Stopping container with id 084cabee4c7a
2025-02-07 04:03:34.941 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:03:34.942 DEBUG [src.node.waku_node] Stopping container with id 14288b81b4ef
2025-02-07 04:03:35.753 ERROR [src.node.docker_mananger] Max retries reached for container 084cabee4c7a. Exiting log stream.
2025-02-07 04:03:36.444 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:03:36.445 DEBUG [src.node.waku_node] Stopping container with id e0cf38c1f10b
2025-02-07 04:03:37.256 ERROR [src.node.docker_mananger] Max retries reached for container 14288b81b4ef. Exiting log stream.
2025-02-07 04:03:37.950 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:03:37.951 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 04:03:37.959 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:03:37.967 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:03:37.973 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
