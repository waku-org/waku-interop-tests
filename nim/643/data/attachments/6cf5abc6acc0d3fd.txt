2025-02-07 04:05:20.649 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 04:05:20.649 DEBUG [tests.conftest] Running test: test_time_filter_matches_no_message with id: 2025-02-07_04-05-20__a3710fa9-b6f7-472b-bb4b-b88bcb15c3c0
2025-02-07 04:05:20.650 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 04:05:20.651 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-07 04:05:20.651 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-07 04:05:20.661 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:05:20.661 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-07_04-05-20__a3710fa9-b6f7-472b-bb4b-b88bcb15c3c0__wakuorg_nwaku:latest.log
2025-02-07 04:05:20.661 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:05:20.662 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:05:20.664 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:05:20.664 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.240.220
2025-02-07 04:05:20.664 DEBUG [src.node.docker_mananger] Generated ports ['35552', '35553', '35554', '35555', '35556']
2025-02-07 04:05:20.665 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:05:20.665 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:05:20.665 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:05:20.665 DEBUG [src.node.docker_mananger] docker run -i -t -p 35552:35552 -p 35553:35553 -p 35554:35554 -p 35555:35555 -p 35556:35556 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35554 --rest-port=35552 --tcp-port=35553 --discv5-udp-port=35555 --rest-address=0.0.0.0 --nat=extip:172.18.240.220 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e3dd54c498f7fe2e71deba54dcc268eaabfbd2d17c8cbd8bfcc2a14ae2ec2d7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35556 --metrics-logging=true --store=true --relay=true
2025-02-07 04:05:20.904 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.240.220 waku 5bb89b147eb301fe9a65ad18af82231fd14ff5fd3815d6a291c95d90309134c7
2025-02-07 04:05:20.956 DEBUG [src.node.docker_mananger] Container started with ID 5bb89b147eb3. Setting up logs at ./log/docker/publishing_node1_2025-02-07_04-05-20__a3710fa9-b6f7-472b-bb4b-b88bcb15c3c0__wakuorg_nwaku:latest.log
2025-02-07 04:05:20.957 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 35552
2025-02-07 04:05:20.958 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:05:21.482 ERROR [src.node.docker_mananger] Max retries reached for container e3aa97c613e3. Exiting log stream.
2025-02-07 04:05:21.958 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35552/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:21.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:05:21.962 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:05:21.962 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35552/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:21.965 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.220/tcp/35553/p2p/16Uiu2HAmDX7WDjd69hg7VFMZssrnmoBzcBpWwzeaoXAsaCK4spyz","/ip4/172.18.240.220/tcp/35554/ws/p2p/16Uiu2HAmDX7WDjd69hg7VFMZssrnmoBzcBpWwzeaoXAsaCK4spyz"],"enrUri":"enr:-L24QKrhZYy1Qfc4kPvArtEglM7211Foh_eWNE7pwJhTgYfYE3wI7Cp2pXzekjJoW_iftdc86_KW3_7_Z8Jm1qpdfkkCgmlkgnY0gmlwhKwS8NyKbXVsdGlhZGRyc5YACASsEvDcBorhAAoErBLw3AaK4t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDDNchJXxPsnQhAKUnY_F5DHjutgw3gjl5WVyCEcUqUgWDdGNwgorhg3VkcIKK44V3YWt1MgM"}'
2025-02-07 04:05:21.965 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:05:21.973 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 04:05:21.973 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-07_04-05-20__a3710fa9-b6f7-472b-bb4b-b88bcb15c3c0__wakuorg_nwaku:latest.log
2025-02-07 04:05:21.973 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 04:05:21.973 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 04:05:21.974 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 04:05:21.975 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.230.165
2025-02-07 04:05:21.975 DEBUG [src.node.docker_mananger] Generated ports ['16804', '16805', '16806', '16807', '16808']
2025-02-07 04:05:21.975 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 04:05:21.975 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 04:05:21.975 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 04:05:21.975 DEBUG [src.node.docker_mananger] docker run -i -t -p 16804:16804 -p 16805:16805 -p 16806:16806 -p 16807:16807 -p 16808:16808 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16806 --rest-port=16804 --tcp-port=16805 --discv5-udp-port=16807 --rest-address=0.0.0.0 --nat=extip:172.18.230.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0cfdcc9939e98baca2f8f6c45bd1bbb02ef1ed5adefbfc1d22fbace6a211ba20 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16808 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QKrhZYy1Qfc4kPvArtEglM7211Foh_eWNE7pwJhTgYfYE3wI7Cp2pXzekjJoW_iftdc86_KW3_7_Z8Jm1qpdfkkCgmlkgnY0gmlwhKwS8NyKbXVsdGlhZGRyc5YACASsEvDcBorhAAoErBLw3AaK4t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDDNchJXxPsnQhAKUnY_F5DHjutgw3gjl5WVyCEcUqUgWDdGNwgorhg3VkcIKK44V3YWt1MgM --storenode=/ip4/172.18.240.220/tcp/35553/p2p/16Uiu2HAmDX7WDjd69hg7VFMZssrnmoBzcBpWwzeaoXAsaCK4spyz --store=true --relay=true
2025-02-07 04:05:22.220 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.230.165 waku e21dec0ac2d025f26e1892bd360d14439e5683c2b3a38bbe11f52348bc4f0526
2025-02-07 04:05:22.271 DEBUG [src.node.docker_mananger] Container started with ID e21dec0ac2d0. Setting up logs at ./log/docker/store_node1_2025-02-07_04-05-20__a3710fa9-b6f7-472b-bb4b-b88bcb15c3c0__wakuorg_nwaku:latest.log
2025-02-07 04:05:22.273 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 16804
2025-02-07 04:05:22.273 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 04:05:23.273 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16804/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:23.276 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 04:05:23.277 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 04:05:23.277 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16804/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:23.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.165/tcp/16805/p2p/16Uiu2HAmCQ8QyZQsVG7eqPipa5A8kcjX3d42YBNbPuLZPyUZFcjc","/ip4/172.18.230.165/tcp/16806/ws/p2p/16Uiu2HAmCQ8QyZQsVG7eqPipa5A8kcjX3d42YBNbPuLZPyUZFcjc"],"enrUri":"enr:-L24QJDvTEvRv1xjyIgEa1s6HIdEepYAugM2lho0dxEe1hj0VKrj7INmQM6b16WOX62e-Legyrwmr6yWihDZ0UoUQZoCgmlkgnY0gmlwhKwS5qWKbXVsdGlhZGRyc5YACASsEualBkGlAAoErBLmpQZBpt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC_DFnxTFuTo6fMgV78_T_AGFnMj26bEHMW03QsCboAKODdGNwgkGlg3VkcIJBp4V3YWt1MgM"}'
2025-02-07 04:05:23.280 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 04:05:23.280 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16804/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.220/tcp/35553/p2p/16Uiu2HAmDX7WDjd69hg7VFMZssrnmoBzcBpWwzeaoXAsaCK4spyz"]'
2025-02-07 04:05:23.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:23.283 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35552/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-07 04:05:23.285 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:23.286 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16804/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-07 04:05:23.288 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:23.289 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:23.289 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:23.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:23.296 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:23.496 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:23.497 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:23.504 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:23.505 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:23.705 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:23.706 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:23.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:23.712 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:23.913 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:23.914 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:23.921 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:23.921 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:24.122 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:24.123 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:24.130 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:24.130 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:24.331 DEBUG [src.steps.store] Relaying message
2025-02-07 04:05:24.332 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 04:05:24.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 04:05:24.338 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-07 04:05:24.539 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35552/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738901120289046880&endTime=1738901120289146780&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:24.543 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2025-02-07 04:05:24.544 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16804/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738901120289046880&endTime=1738901120289146780&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-07 04:05:24.547 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2025-02-07 04:05:24.549 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 04:05:24.550 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 04:05:24.550 DEBUG [src.node.waku_node] Stopping container with id 5bb89b147eb3
2025-02-07 04:05:25.511 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:05:25.511 DEBUG [src.node.waku_node] Stopping container with id e21dec0ac2d0
2025-02-07 04:05:26.325 ERROR [src.node.docker_mananger] Max retries reached for container 5bb89b147eb3. Exiting log stream.
2025-02-07 04:05:27.055 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 04:05:27.056 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 04:05:27.063 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 04:05:27.068 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
