[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_pubsub_topic with id: 2024-12-25_16-00-23__387288a6-c243-4392-8993-8088826b9142
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-25_16-00-23__387288a6-c243-4392-8993-8088826b9142__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.167.244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1639', '1640', '1641', '1642', '1643']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1639:1639 -p 1640:1640 -p 1641:1641 -p 1642:1642 -p 1643:1643 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1641 --rest-port=1639 --tcp-port=1640 --discv5-udp-port=1642 --rest-address=0.0.0.0 --nat=extip:172.18.167.244 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2bcb98f0b5fadfaebaaf3a445a3b2321a69fbdbba1b013df0ba9fbc40711e135 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1643 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.167.244 waku a2d37d1aee126e0369337a452e69b62bbe3dadbd919f727ed397caaa74ee04d8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a2d37d1aee12. Setting up logs at ./log/docker/node1_2024-12-25_16-00-23__387288a6-c243-4392-8993-8088826b9142__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1639
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d810d8f8c730. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1639/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1639/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.167.244/tcp/1640/p2p/16Uiu2HAkv6SM8ChmSMsW59epLrUhSSh6A3s1K2wTtW2rf1NeYymk","/ip4/172.18.167.244/tcp/1641/ws/p2p/16Uiu2HAkv6SM8ChmSMsW59epLrUhSSh6A3s1K2wTtW2rf1NeYymk"],"enrUri":"enr:-L24QNmnbrgKyF-_f332p5C6oXG49ArpPDheHvIYnF0Z2up0DgyGBbmOVWo4D4j5zC_gTVqprLovo7sze3nIMGf-qXUCgmlkgnY0gmlwhKwSp_SKbXVsdGlhZGRyc5YACASsEqf0BgZoAAoErBKn9AYGad0DgnJzhQADAQAAiXNlY3AyNTZrMaECCe480Jsg0BwwrZgLHHpDzHXfOb9hknyKaHq0twQzZEuDdGNwggZog3VkcIIGaoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-25_16-00-23__387288a6-c243-4392-8993-8088826b9142__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.205.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37342', '37343', '37344', '37345', '37346']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37342:37342 -p 37343:37343 -p 37344:37344 -p 37345:37345 -p 37346:37346 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37344 --rest-port=37342 --tcp-port=37343 --discv5-udp-port=37345 --rest-address=0.0.0.0 --nat=extip:172.18.205.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3a3dbd1dbe3aced628c9f6af5a3a348b0dc4bb1a197cd97d13d1ccf8afee47ef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37346 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QNmnbrgKyF-_f332p5C6oXG49ArpPDheHvIYnF0Z2up0DgyGBbmOVWo4D4j5zC_gTVqprLovo7sze3nIMGf-qXUCgmlkgnY0gmlwhKwSp_SKbXVsdGlhZGRyc5YACASsEqf0BgZoAAoErBKn9AYGad0DgnJzhQADAQAAiXNlY3AyNTZrMaECCe480Jsg0BwwrZgLHHpDzHXfOb9hknyKaHq0twQzZEuDdGNwggZog3VkcIIGaoV3YWt1MgU --filternode=/ip4/172.18.167.244/tcp/1640/p2p/16Uiu2HAkv6SM8ChmSMsW59epLrUhSSh6A3s1K2wTtW2rf1NeYymk
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.205.94 waku a341a0e179d07f0e31ca2d60f8ff0d54510c92b8189fbb4024940746f8045fb6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a341a0e179d0. Setting up logs at ./log/docker/node2_2024-12-25_16-00-23__387288a6-c243-4392-8993-8088826b9142__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 37342
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37342/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37342/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.205.94/tcp/37343/p2p/16Uiu2HAkzthh8PX66UBXPgaga64u96JCbiDxGwZfAMKvXxwsLpAc","/ip4/172.18.205.94/tcp/37344/ws/p2p/16Uiu2HAkzthh8PX66UBXPgaga64u96JCbiDxGwZfAMKvXxwsLpAc"],"enrUri":"enr:-L24QO3dwI2axtSCWJEzbqYqvy52LLRx_xPWs_LzmfTh--q0LiBOIWBVpfyJcHLEvfpFaFzEz_PGPfbe6rCcw-vhAtgCgmlkgnY0gmlwhKwSzV6KbXVsdGlhZGRyc5YACASsEs1eBpHfAAoErBLNXgaR4N0DgnJzhQADAQAAiXNlY3AyNTZrMaECUTcNkRyjv2wOdsV7-xTC-ijSkst6nCenSS5_-ntTzWGDdGNwgpHfg3VkcIKR4YV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37342/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.167.244/tcp/1640/p2p/16Uiu2HAkv6SM8ChmSMsW59epLrUhSSh6A3s1K2wTtW2rf1NeYymk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1639/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37342/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b2ffdafe-8793-4b24-94cd-2fe6b18f72b8", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b2ffdafe-8793-4b24-94cd-2fe6b18f72b8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:37342/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:37342/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a2d37d1aee12
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a341a0e179d0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a2d37d1aee12. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.