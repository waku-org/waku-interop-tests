[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-25_16-00-28__ea8e7e17-cd8e-41e9-b914-466d8e45fea4
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-25_16-00-28__ea8e7e17-cd8e-41e9-b914-466d8e45fea4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.58.21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1851', '1852', '1853', '1854', '1855']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1851:1851 -p 1852:1852 -p 1853:1853 -p 1854:1854 -p 1855:1855 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1853 --rest-port=1851 --tcp-port=1852 --discv5-udp-port=1854 --rest-address=0.0.0.0 --nat=extip:172.18.58.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cc0d8faad01e82abb373cf5b704dca83599a8e542b4fba9fc9de3bff2f2f1ea4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1855 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.58.21 waku 3375deab31527d172510d4eeb390a28c7dc975291033fd4677ca2b7ca4db2ebe
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3375deab3152. Setting up logs at ./log/docker/node1_2024-12-25_16-00-28__ea8e7e17-cd8e-41e9-b914-466d8e45fea4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1851
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6338ae5853b9. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1851/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1851/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.58.21/tcp/1852/p2p/16Uiu2HAmTtEQg1esrE7VGtzChqzJa3uWEViQFqz9J8UVfunuki11","/ip4/172.18.58.21/tcp/1853/ws/p2p/16Uiu2HAmTtEQg1esrE7VGtzChqzJa3uWEViQFqz9J8UVfunuki11"],"enrUri":"enr:-L24QIpXr47qev5ukROqVJPa5uXJvO22hEMgil3IdCxj7MrnZubKqD_VWruOoUszuyL9q7SsGDaW_MfGR8lgy6DTaKQCgmlkgnY0gmlwhKwSOhWKbXVsdGlhZGRyc5YACASsEjoVBgc8AAoErBI6FQYHPd0DgnJzhQADAQAAiXNlY3AyNTZrMaED4kPADslptNS5BWQ3GMKn4MEa6G6X86UFxAj3Cn0lhdyDdGNwggc8g3VkcIIHPoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-25_16-00-28__ea8e7e17-cd8e-41e9-b914-466d8e45fea4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.34.28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15767', '15768', '15769', '15770', '15771']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15767:15767 -p 15768:15768 -p 15769:15769 -p 15770:15770 -p 15771:15771 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15769 --rest-port=15767 --tcp-port=15768 --discv5-udp-port=15770 --rest-address=0.0.0.0 --nat=extip:172.18.34.28 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1ccfa0aee0f049d2f61c68bfd9adc1b2f78dccececaca53b2a62eacccc7c6b7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15771 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIpXr47qev5ukROqVJPa5uXJvO22hEMgil3IdCxj7MrnZubKqD_VWruOoUszuyL9q7SsGDaW_MfGR8lgy6DTaKQCgmlkgnY0gmlwhKwSOhWKbXVsdGlhZGRyc5YACASsEjoVBgc8AAoErBI6FQYHPd0DgnJzhQADAQAAiXNlY3AyNTZrMaED4kPADslptNS5BWQ3GMKn4MEa6G6X86UFxAj3Cn0lhdyDdGNwggc8g3VkcIIHPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.34.28 waku 63e641f3049ae691cb9f519fc91c31a0693680ea2b69931f094a679eadf6439c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 63e641f3049a. Setting up logs at ./log/docker/node2_2024-12-25_16-00-28__ea8e7e17-cd8e-41e9-b914-466d8e45fea4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 15767
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15767/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15767/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.34.28/tcp/15768/p2p/16Uiu2HAmSKn25V4eqncR2Uan9Y9iUP8VM8rBC2wuSHj5N2Gr7XFG","/ip4/172.18.34.28/tcp/15769/ws/p2p/16Uiu2HAmSKn25V4eqncR2Uan9Y9iUP8VM8rBC2wuSHj5N2Gr7XFG"],"enrUri":"enr:-L24QOIG_hDmtbG1Sane8ioA3shm58gFvykFlSI0-f_hVarhFkQAr2bb2oPH84VUGxbpDvdXHKllQPNwcXRlOT25z2oCgmlkgnY0gmlwhKwSIhyKbXVsdGlhZGRyc5YACASsEiIcBj2YAAoErBIiHAY9md0DgnJzhQADAQAAiXNlY3AyNTZrMaEDyxejfL-qs8CckGkAAas_StzsiqqxQj6dyHhl1nuhQZODdGNwgj2Yg3VkcII9moV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15767/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.58.21/tcp/1852/p2p/16Uiu2HAmTtEQg1esrE7VGtzChqzJa3uWEViQFqz9J8UVfunuki11"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-25_16-00-28__ea8e7e17-cd8e-41e9-b914-466d8e45fea4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.139.58
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11540', '11541', '11542', '11543', '11544']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11540:11540 -p 11541:11541 -p 11542:11542 -p 11543:11543 -p 11544:11544 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11542 --rest-port=11540 --tcp-port=11541 --discv5-udp-port=11543 --rest-address=0.0.0.0 --nat=extip:172.18.139.58 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=db256dac37fb37112f45d1fd9f2aa2eb1ac5aede5c2edacbbbfbeefce0a464eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11544 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIpXr47qev5ukROqVJPa5uXJvO22hEMgil3IdCxj7MrnZubKqD_VWruOoUszuyL9q7SsGDaW_MfGR8lgy6DTaKQCgmlkgnY0gmlwhKwSOhWKbXVsdGlhZGRyc5YACASsEjoVBgc8AAoErBI6FQYHPd0DgnJzhQADAQAAiXNlY3AyNTZrMaED4kPADslptNS5BWQ3GMKn4MEa6G6X86UFxAj3Cn0lhdyDdGNwggc8g3VkcIIHPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.139.58 waku 221f48fbb5a6a3368a393841a02bed4cba517f294c4e661f3b828afda3926369
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 221f48fbb5a6. Setting up logs at ./log/docker/node3_2024-12-25_16-00-28__ea8e7e17-cd8e-41e9-b914-466d8e45fea4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11540
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11540/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11540/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.139.58/tcp/11541/p2p/16Uiu2HAkz7oyvYAo4m37wwgXz6imrabJ5gH6jyzZNrk8ijUvhDnT","/ip4/172.18.139.58/tcp/11542/ws/p2p/16Uiu2HAkz7oyvYAo4m37wwgXz6imrabJ5gH6jyzZNrk8ijUvhDnT"],"enrUri":"enr:-L24QPSiMOUOqNnCR3R7db9y8R_ItPxAFmSGtmDifBsiEQXmV1p12jhJdgFsa1mjmY12wN7iImn6MFkEEGnqGPx42r0CgmlkgnY0gmlwhKwSizqKbXVsdGlhZGRyc5YACASsEos6Bi0VAAoErBKLOgYtFt0DgnJzhQADAQAAiXNlY3AyNTZrMaECRbcHOqRzmc5ROsjW3af_quIjDC6F0hu_Hm9UAstaAGyDdGNwgi0Vg3VkcIItF4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11540/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.58.21/tcp/1852/p2p/16Uiu2HAmTtEQg1esrE7VGtzChqzJa3uWEViQFqz9J8UVfunuki11"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-25_16-00-28__ea8e7e17-cd8e-41e9-b914-466d8e45fea4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.33.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50228', '50229', '50230', '50231', '50232']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50228:50228 -p 50229:50229 -p 50230:50230 -p 50231:50231 -p 50232:50232 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50230 --rest-port=50228 --tcp-port=50229 --discv5-udp-port=50231 --rest-address=0.0.0.0 --nat=extip:172.18.33.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fc1bdef32beb58de3fcbdfebeb1cb95f3f2acff03b5f7dd4edbbeabed150715f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50232 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIpXr47qev5ukROqVJPa5uXJvO22hEMgil3IdCxj7MrnZubKqD_VWruOoUszuyL9q7SsGDaW_MfGR8lgy6DTaKQCgmlkgnY0gmlwhKwSOhWKbXVsdGlhZGRyc5YACASsEjoVBgc8AAoErBI6FQYHPd0DgnJzhQADAQAAiXNlY3AyNTZrMaED4kPADslptNS5BWQ3GMKn4MEa6G6X86UFxAj3Cn0lhdyDdGNwggc8g3VkcIIHPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.33.14 waku 2406ef71d745c07ce302704b8b87ab3e5f96ee7f707cec7a22d877f25b9342fd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2406ef71d745. Setting up logs at ./log/docker/node4_2024-12-25_16-00-28__ea8e7e17-cd8e-41e9-b914-466d8e45fea4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 50228
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50228/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50228/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.14/tcp/50229/p2p/16Uiu2HAmPfrJeWoay2qzy3hg49BB1i9ymeipvRCX4ieXPEYF9atP","/ip4/172.18.33.14/tcp/50230/ws/p2p/16Uiu2HAmPfrJeWoay2qzy3hg49BB1i9ymeipvRCX4ieXPEYF9atP"],"enrUri":"enr:-L24QHLS6coau3JYrcVzSq3TmwsTNX8hqfBjAvLmpvqGERG3dGxkxSlm_e0b2hDmSMVHAIXqKt3P027sfTlzUgvUoesCgmlkgnY0gmlwhKwSIQ6KbXVsdGlhZGRyc5YACASsEiEOBsQ1AAoErBIhDgbENt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDo6kKNDk3jZXWUwuGVr-HtNjmNdIlzZ96GzkpHy4RmAiDdGNwgsQ1g3VkcILEN4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50228/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.58.21/tcp/1852/p2p/16Uiu2HAmTtEQg1esrE7VGtzChqzJa3uWEViQFqz9J8UVfunuki11"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-25_16-00-28__ea8e7e17-cd8e-41e9-b914-466d8e45fea4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.92.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30402', '30403', '30404', '30405', '30406']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30402:30402 -p 30403:30403 -p 30404:30404 -p 30405:30405 -p 30406:30406 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30404 --rest-port=30402 --tcp-port=30403 --discv5-udp-port=30405 --rest-address=0.0.0.0 --nat=extip:172.18.92.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a490b41beefcc9989cc23fc2059afcea39b40109ae11aa4c17346b2f9dd9ed7c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30406 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIpXr47qev5ukROqVJPa5uXJvO22hEMgil3IdCxj7MrnZubKqD_VWruOoUszuyL9q7SsGDaW_MfGR8lgy6DTaKQCgmlkgnY0gmlwhKwSOhWKbXVsdGlhZGRyc5YACASsEjoVBgc8AAoErBI6FQYHPd0DgnJzhQADAQAAiXNlY3AyNTZrMaED4kPADslptNS5BWQ3GMKn4MEa6G6X86UFxAj3Cn0lhdyDdGNwggc8g3VkcIIHPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.92.69 waku 73d05ea2edc08ca82df17044eafcb03a1a2b3695a0685ddc4794c2f843216032
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 73d05ea2edc0. Setting up logs at ./log/docker/node5_2024-12-25_16-00-28__ea8e7e17-cd8e-41e9-b914-466d8e45fea4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30402
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30402/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30402/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.92.69/tcp/30403/p2p/16Uiu2HAmKnKPWMw94PUxJ3Nn1oLUPiV2hjfe64ARjNnHojqEgm5o","/ip4/172.18.92.69/tcp/30404/ws/p2p/16Uiu2HAmKnKPWMw94PUxJ3Nn1oLUPiV2hjfe64ARjNnHojqEgm5o"],"enrUri":"enr:-L24QPtwv-vuMZB5pgbu_eRwd7SPlNzHeaZyxKGqgURNVDZzOvoP6CxyxXyGecB3iOcWcPK5G12z46cMGfBSNnWSWZkCgmlkgnY0gmlwhKwSXEWKbXVsdGlhZGRyc5YACASsElxFBnbDAAoErBJcRQZ2xN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDaeJmluK8mhZKOFDhhPb3OhxruMdYmkKQgGKlDqmHBq6DdGNwgnbDg3VkcIJ2xYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30402/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.58.21/tcp/1852/p2p/16Uiu2HAmTtEQg1esrE7VGtzChqzJa3uWEViQFqz9J8UVfunuki11"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1851/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15767/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11540/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50228/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30402/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735142435191280128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15767/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735142435191280128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735142435191280128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50228/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735142435191280128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30402/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735142435191280128,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30402/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735142435316017920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15767/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735142435316017920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735142435316017920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50228/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735142435316017920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30402/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735142435316017920,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3375deab3152
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 63e641f3049a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3375deab3152. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 221f48fbb5a6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 63e641f3049a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2406ef71d745
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 221f48fbb5a6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 73d05ea2edc0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2406ef71d745. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.