[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_edge_service_nodes_communication with id: 2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node6_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node7_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node8_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:439 Start 2 edges nodes and 3 service nodes 
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.177.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58739', '58740', '58741', '58742', '58743']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58739:58739 -p 58740:58740 -p 58741:58741 -p 58742:58742 -p 58743:58743 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58741 --rest-port=58739 --tcp-port=58740 --discv5-udp-port=58742 --rest-address=0.0.0.0 --nat=extip:172.18.177.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f3defda44f4bdcfc2fb5d274cf1cb7afefabf3bec4fbef6b4fd58e21eedeba7a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58743 --metrics-logging=true --relay=true --store=true --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.177.167 waku 6f65a1adb0c0289015e7a60a82c7f808167b807af6540d7f94e5354f3c1c5d78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6f65a1adb0c0. Setting up logs at ./log/docker/node6_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 58739
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58739/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58739/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.167/tcp/58740/p2p/16Uiu2HAkx5F4H6W6gUp864RWEif7qFqsXtTPtb7hnL4Zd7RvZ52E","/ip4/172.18.177.167/tcp/58741/ws/p2p/16Uiu2HAkx5F4H6W6gUp864RWEif7qFqsXtTPtb7hnL4Zd7RvZ52E"],"enrUri":"enr:-L24QEeeMC8IKAqzh-ojow8_ujmgRwh2BHncSCY9aSp1fEKiSSXUpPi7GDe4dp3vlqQ-fF2WlX2F5Xa1KejzpkU_rrcCgmlkgnY0gmlwhKwSsaeKbXVsdGlhZGRyc5YACASsErGnBuV0AAoErBKxpwbldd0DgnJzhQADAQAAiXNlY3AyNTZrMaECJ1dDsjZukFskk8BBMdPffiuM0HTVzzuV3mwt0SOYNqeDdGNwguV0g3VkcILldoV3YWt1Mgs"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.244.133
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29275', '29276', '29277', '29278', '29279']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29275:29275 -p 29276:29276 -p 29277:29277 -p 29278:29278 -p 29279:29279 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29277 --rest-port=29275 --tcp-port=29276 --discv5-udp-port=29278 --rest-address=0.0.0.0 --nat=extip:172.18.244.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dd5b68f4caee19a65d9987ebb3aaf56a1ac2c790eab1d13bb7bb4ceaedcbf6a3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29279 --metrics-logging=true --relay=false --lightpushnode=/ip4/172.18.177.167/tcp/58740/p2p/16Uiu2HAkx5F4H6W6gUp864RWEif7qFqsXtTPtb7hnL4Zd7RvZ52E --discv5-bootstrap-node=enr:-L24QEeeMC8IKAqzh-ojow8_ujmgRwh2BHncSCY9aSp1fEKiSSXUpPi7GDe4dp3vlqQ-fF2WlX2F5Xa1KejzpkU_rrcCgmlkgnY0gmlwhKwSsaeKbXVsdGlhZGRyc5YACASsErGnBuV0AAoErBKxpwbldd0DgnJzhQADAQAAiXNlY3AyNTZrMaECJ1dDsjZukFskk8BBMdPffiuM0HTVzzuV3mwt0SOYNqeDdGNwguV0g3VkcILldoV3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.244.133 waku 9bf3f8b9bf7665ea59b730066b6f24bb3cbf9824bce482850fdd356243fb6ee5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9bf3f8b9bf76. Setting up logs at ./log/docker/node4_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29275
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29275/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29275/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.244.133/tcp/29276/p2p/16Uiu2HAm87YTBTkN25wfYuFKRFjpbmV33dy81JfoT42Tu8yZHYPm","/ip4/172.18.244.133/tcp/29277/ws/p2p/16Uiu2HAm87YTBTkN25wfYuFKRFjpbmV33dy81JfoT42Tu8yZHYPm"],"enrUri":"enr:-L24QMYC1AIGSkqd-QGpzrAoA9u4-OXZtl2sxx2IaFjb7anaLb8SdDl49blXgpQigWlgp6W_L2ejYwLmXoOhb_87yKYCgmlkgnY0gmlwhKwS9IWKbXVsdGlhZGRyc5YACASsEvSFBnJcAAoErBL0hQZyXd0DgnJzhQADAQAAiXNlY3AyNTZrMaECvIL2uZ-Vo-WBclIVaUWls3edPfgk1nF8jOj26rKZ-cSDdGNwgnJcg3VkcIJyXoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.111.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56330', '56331', '56332', '56333', '56334']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56330:56330 -p 56331:56331 -p 56332:56332 -p 56333:56333 -p 56334:56334 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56332 --rest-port=56330 --tcp-port=56331 --discv5-udp-port=56333 --rest-address=0.0.0.0 --nat=extip:172.18.111.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdcfaa251cbf507b9ec207153cbdac0c8cdaeeacea5e9405c6b07cc634fe33bf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56334 --metrics-logging=true --relay=true --store=true --discv5-bootstrap-node=enr:-L24QEeeMC8IKAqzh-ojow8_ujmgRwh2BHncSCY9aSp1fEKiSSXUpPi7GDe4dp3vlqQ-fF2WlX2F5Xa1KejzpkU_rrcCgmlkgnY0gmlwhKwSsaeKbXVsdGlhZGRyc5YACASsErGnBuV0AAoErBKxpwbldd0DgnJzhQADAQAAiXNlY3AyNTZrMaECJ1dDsjZukFskk8BBMdPffiuM0HTVzzuV3mwt0SOYNqeDdGNwguV0g3VkcILldoV3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.111.102 waku dfaea99c8a76b171f2c685cafc25d177a892f570dc2ea58b222c602f13f01763
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID dfaea99c8a76. Setting up logs at ./log/docker/node7_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 56330
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56330/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56330/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.102/tcp/56331/p2p/16Uiu2HAm42Qt5zXX8GNbMyGNptJKY7aH7xYHNgCZ4pbEnbFkVUc8","/ip4/172.18.111.102/tcp/56332/ws/p2p/16Uiu2HAm42Qt5zXX8GNbMyGNptJKY7aH7xYHNgCZ4pbEnbFkVUc8"],"enrUri":"enr:-L24QK6oMpR-ZfjAHB68pO0Gx3_MyoXOkSRiCFAU2UOAIAHAfSOirEVZxWOSIyBebCSfq91qQzBSPaCS2DqyKuRMyIACgmlkgnY0gmlwhKwSb2aKbXVsdGlhZGRyc5YACASsEm9mBtwLAAoErBJvZgbcDN0DgnJzhQADAQAAiXNlY3AyNTZrMaECf8PAfhoW5mNdbcXE2Z3RvQX8MxoLSz2-dNwcwGYO6ZGDdGNwgtwLg3VkcILcDYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.199.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31161', '31162', '31163', '31164', '31165']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31161:31161 -p 31162:31162 -p 31163:31163 -p 31164:31164 -p 31165:31165 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31163 --rest-port=31161 --tcp-port=31162 --discv5-udp-port=31164 --rest-address=0.0.0.0 --nat=extip:172.18.199.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bc309109f9aa1b5fd998b67197fef3ca3dbdf73cfbaaed370df1a1eabdce8b55 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31165 --metrics-logging=true --relay=true --filter=true --storenode=/ip4/172.18.111.102/tcp/56331/p2p/16Uiu2HAm42Qt5zXX8GNbMyGNptJKY7aH7xYHNgCZ4pbEnbFkVUc8 --discv5-bootstrap-node=enr:-L24QK6oMpR-ZfjAHB68pO0Gx3_MyoXOkSRiCFAU2UOAIAHAfSOirEVZxWOSIyBebCSfq91qQzBSPaCS2DqyKuRMyIACgmlkgnY0gmlwhKwSb2aKbXVsdGlhZGRyc5YACASsEm9mBtwLAAoErBJvZgbcDN0DgnJzhQADAQAAiXNlY3AyNTZrMaECf8PAfhoW5mNdbcXE2Z3RvQX8MxoLSz2-dNwcwGYO6ZGDdGNwgtwLg3VkcILcDYV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.199.149 waku 6d72d82d4c140d8f62e73d3113cae94e30e6a076ca7b874a72c0e2729a6daf8e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6d72d82d4c14. Setting up logs at ./log/docker/node8_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 31161
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31161/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31161/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.149/tcp/31162/p2p/16Uiu2HAmGCCQmSTEMdfrum53FnjwQgPwhySGFmdj8jKitcgWvbhz","/ip4/172.18.199.149/tcp/31163/ws/p2p/16Uiu2HAmGCCQmSTEMdfrum53FnjwQgPwhySGFmdj8jKitcgWvbhz"],"enrUri":"enr:-L24QO96GUjLCHT6ghsqxldE0pSv38QijcLQk7dJr7TeKPt-PG1mUlO1ZQro_PmkMC8UIDhiz_KSGzqdSx_epJ21WxUCgmlkgnY0gmlwhKwSx5WKbXVsdGlhZGRyc5YACASsEseVBnm6AAoErBLHlQZ5u90DgnJzhQADAQAAiXNlY3AyNTZrMaEDNJGzvCkQlawhmuZCCZFx7GF2yc9mbIwFc4pc66xzB8mDdGNwgnm6g3VkcIJ5vIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.183.164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3508', '3509', '3510', '3511', '3512']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3508:3508 -p 3509:3509 -p 3510:3510 -p 3511:3511 -p 3512:3512 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3510 --rest-port=3508 --tcp-port=3509 --discv5-udp-port=3511 --rest-address=0.0.0.0 --nat=extip:172.18.183.164 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=afae4e79d801d0c4bb0bb3eb525db107bd8237f621bdd9f7eecdcdb2d614bba5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3512 --metrics-logging=true --relay=false --filternode=/ip4/172.18.199.149/tcp/31162/p2p/16Uiu2HAmGCCQmSTEMdfrum53FnjwQgPwhySGFmdj8jKitcgWvbhz --storenode=/ip4/172.18.111.102/tcp/56331/p2p/16Uiu2HAm42Qt5zXX8GNbMyGNptJKY7aH7xYHNgCZ4pbEnbFkVUc8 --discv5-bootstrap-node=enr:-L24QK6oMpR-ZfjAHB68pO0Gx3_MyoXOkSRiCFAU2UOAIAHAfSOirEVZxWOSIyBebCSfq91qQzBSPaCS2DqyKuRMyIACgmlkgnY0gmlwhKwSb2aKbXVsdGlhZGRyc5YACASsEm9mBtwLAAoErBJvZgbcDN0DgnJzhQADAQAAiXNlY3AyNTZrMaECf8PAfhoW5mNdbcXE2Z3RvQX8MxoLSz2-dNwcwGYO6ZGDdGNwgtwLg3VkcILcDYV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.183.164 waku ace811294a6988dab2db98bbf91ff6e83418da48251747f3a0ef3759a2944766
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ace811294a69. Setting up logs at ./log/docker/node5_2024-12-25_16-00-18__b50795f2-996b-4c76-8c76-4cb99fee83fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3508
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3508/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3508/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.183.164/tcp/3509/p2p/16Uiu2HAmR2AZcKuY9qa4HSCYWghRp78KiXaVrfaYT6hx4ADQn5TG","/ip4/172.18.183.164/tcp/3510/ws/p2p/16Uiu2HAmR2AZcKuY9qa4HSCYWghRp78KiXaVrfaYT6hx4ADQn5TG"],"enrUri":"enr:-L24QHbP3esHe9poGf-rJeY7mqgatTSEgsiujV_IGkiOdf8EISFNhakX1Udc4nTbULnshPJlUg2AtX4t14Ovg_do6ZUCgmlkgnY0gmlwhKwSt6SKbXVsdGlhZGRyc5YACASsErekBg21AAoErBK3pAYNtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDt7j8wQHy4lP2y4lrnuNUopUkKs6f1ya1hJjy2HzcFjuDdGNwgg21g3VkcIINt4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:455 Connect 3 service nodes to relay subscriptions
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58739/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56330/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31161/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58739/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.111.102/tcp/56331/p2p/16Uiu2HAm42Qt5zXX8GNbMyGNptJKY7aH7xYHNgCZ4pbEnbFkVUc8","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56330/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.177.167/tcp/58740/p2p/16Uiu2HAkx5F4H6W6gUp864RWEif7qFqsXtTPtb7hnL4Zd7RvZ52E","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true},{"protocol":"/vac/waku/store/2.0.0-beta4","connected":true},{"protocol":"/vac/waku/lightpush/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31161/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.111.102/tcp/56331/p2p/16Uiu2HAm42Qt5zXX8GNbMyGNptJKY7aH7xYHNgCZ4pbEnbFkVUc8","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":false},{"protocol":"/vac/waku/store-query/3.0.0","connected":false}],"origin":"Discv5"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:461 Edge node2 makes filter subscription to pubsubtopic /waku/2/rs/3/1 and content topic /test/1/waku-filter/proto
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3508/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:466 Check if service node1 receives message sent by edge node1
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29275/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1735142459059839232}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58739/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1735142459059839232,"ephemeral":false}]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:470 Check if edge node2 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3508/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5574af40870b344d685e","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"jogukgIWfBb3SPV2L8UufWtU3QiCH7CPl6htc+5yg3Y="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:473 Check if service node3 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31161/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6136e58e6e2be0d0c26e","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"jogukgIWfBb3SPV2L8UufWtU3QiCH7CPl6htc+5yg3Y="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:476 Check if edge node2 can get sent message using filter get request 
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3508/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1735142459059839232,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6f65a1adb0c0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9bf3f8b9bf76
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id dfaea99c8a76
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6f65a1adb0c0. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9bf3f8b9bf76. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6d72d82d4c14
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dfaea99c8a76. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ace811294a69
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6d72d82d4c14. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.