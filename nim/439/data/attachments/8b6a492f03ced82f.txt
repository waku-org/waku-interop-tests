[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-07_12-43-06__cfb4c1df-b6cb-4053-8ac8-810c84606a16
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_12-43-06__cfb4c1df-b6cb-4053-8ac8-810c84606a16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.193.227
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32367', '32368', '32369', '32370', '32371']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32367:32367 -p 32368:32368 -p 32369:32369 -p 32370:32370 -p 32371:32371 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32369 --rest-port=32367 --tcp-port=32368 --discv5-udp-port=32370 --rest-address=0.0.0.0 --nat=extip:172.18.193.227 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=86aaeeeff1ebbdb18a6bde8b73a2cdabcdbf6257248d4f05fc6b7a73432e6fad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32371 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.193.227 waku 79e38b5670407fa8371405f2752b8ec74459ebbcf9d34cc3ecb17383db9f3fe4
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7329ed9e910d. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 79e38b567040. Setting up logs at ./log/docker/node1_2024-11-07_12-43-06__cfb4c1df-b6cb-4053-8ac8-810c84606a16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32367
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32367/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32367/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.227/tcp/32368/p2p/16Uiu2HAmJFVg4HTKMzSL9RUor1EDSjWx1cEptXGdYk68SAczdajV","/ip4/172.18.193.227/tcp/32369/ws/p2p/16Uiu2HAmJFVg4HTKMzSL9RUor1EDSjWx1cEptXGdYk68SAczdajV"],"enrUri":"enr:-L24QFQrdbbLmkZ2LdWrCQByIpdTOkhWNTq1lTcVYqTRTSbQfHMoGAHZyTr7vc4bp4gPKYM5WR7dzAhOfCIWWC2uiiECgmlkgnY0gmlwhKwSweOKbXVsdGlhZGRyc5YACASsEsHjBn5wAAoErBLB4wZ-cd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUyFWonL_U_8sWgqUm_cWWkakKLDqSQ3rMNvDOYAxkhSDdGNwgn5wg3VkcIJ-coV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_12-43-06__cfb4c1df-b6cb-4053-8ac8-810c84606a16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.181.130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42557', '42558', '42559', '42560', '42561']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42557:42557 -p 42558:42558 -p 42559:42559 -p 42560:42560 -p 42561:42561 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42559 --rest-port=42557 --tcp-port=42558 --discv5-udp-port=42560 --rest-address=0.0.0.0 --nat=extip:172.18.181.130 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d6fc4bba1bb8aeb482ade2dc5d34fabddeabccfbd98f21fea400f1d0cf40aa97 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42561 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFQrdbbLmkZ2LdWrCQByIpdTOkhWNTq1lTcVYqTRTSbQfHMoGAHZyTr7vc4bp4gPKYM5WR7dzAhOfCIWWC2uiiECgmlkgnY0gmlwhKwSweOKbXVsdGlhZGRyc5YACASsEsHjBn5wAAoErBLB4wZ-cd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUyFWonL_U_8sWgqUm_cWWkakKLDqSQ3rMNvDOYAxkhSDdGNwgn5wg3VkcIJ-coV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.181.130 waku a5e470a46acec821d2657df98210b41dc69cb52d5df39618d0062d3692c0fa61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a5e470a46ace. Setting up logs at ./log/docker/node2_2024-11-07_12-43-06__cfb4c1df-b6cb-4053-8ac8-810c84606a16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 42557
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42557/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42557/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.181.130/tcp/42558/p2p/16Uiu2HAm2h7JXrwSYb4JrTetESR6ssNW9riuMjhkmKouzvAcP95p","/ip4/172.18.181.130/tcp/42559/ws/p2p/16Uiu2HAm2h7JXrwSYb4JrTetESR6ssNW9riuMjhkmKouzvAcP95p"],"enrUri":"enr:-L24QO9XVkEehkkYeXjb-rsReaGQXTeczc93oWTleRCLAcVXTREFwmDC0hFAQRKbadPks6Dpxz-o4mIEXunbqKl6uo4CgmlkgnY0gmlwhKwStYKKbXVsdGlhZGRyc5YACASsErWCBqY-AAoErBK1ggamP90DgnJzhQADAQAAiXNlY3AyNTZrMaECa_YnTe_NMGxcnkqBx7Loi4uEdbH_WKnTP5wAoV0AjzeDdGNwgqY-g3VkcIKmQIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42557/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.193.227/tcp/32368/p2p/16Uiu2HAmJFVg4HTKMzSL9RUor1EDSjWx1cEptXGdYk68SAczdajV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_12-43-06__cfb4c1df-b6cb-4053-8ac8-810c84606a16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.166.240
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60407', '60408', '60409', '60410', '60411']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60407:60407 -p 60408:60408 -p 60409:60409 -p 60410:60410 -p 60411:60411 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60409 --rest-port=60407 --tcp-port=60408 --discv5-udp-port=60410 --rest-address=0.0.0.0 --nat=extip:172.18.166.240 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=12ac3b98eccaaba9d03eae450ff5b6f3fe0ea6eddf4dfd0c9aaf8f07bde19e4e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60411 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFQrdbbLmkZ2LdWrCQByIpdTOkhWNTq1lTcVYqTRTSbQfHMoGAHZyTr7vc4bp4gPKYM5WR7dzAhOfCIWWC2uiiECgmlkgnY0gmlwhKwSweOKbXVsdGlhZGRyc5YACASsEsHjBn5wAAoErBLB4wZ-cd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUyFWonL_U_8sWgqUm_cWWkakKLDqSQ3rMNvDOYAxkhSDdGNwgn5wg3VkcIJ-coV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.166.240 waku dc2f6cad72bd92076feae775fba1bdbdb0ea763f7209b605b98579c6fed53414
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID dc2f6cad72bd. Setting up logs at ./log/docker/node3_2024-11-07_12-43-06__cfb4c1df-b6cb-4053-8ac8-810c84606a16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60407
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60407/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60407/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.166.240/tcp/60408/p2p/16Uiu2HAm2X2jWq4xQDhUAnXj2GgLB37BCuDByVkj2RmnDFiofKfk","/ip4/172.18.166.240/tcp/60409/ws/p2p/16Uiu2HAm2X2jWq4xQDhUAnXj2GgLB37BCuDByVkj2RmnDFiofKfk"],"enrUri":"enr:-L24QFIXDFWROb2LOFL7nwifo1kIg5tBjxx-8KbVH1R9kvI3KD2cMPFBrugheCWLNaE3X1q73bLBo3zDNdJWtLPkpekCgmlkgnY0gmlwhKwSpvCKbXVsdGlhZGRyc5YACASsEqbwBuv4AAoErBKm8Abr-d0DgnJzhQADAQAAiXNlY3AyNTZrMaECaWEtz6IY9xP-RVGByFQ7P56bozEupBjHglo5Hof8KT-DdGNwguv4g3VkcILr-oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60407/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.193.227/tcp/32368/p2p/16Uiu2HAmJFVg4HTKMzSL9RUor1EDSjWx1cEptXGdYk68SAczdajV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-07_12-43-06__cfb4c1df-b6cb-4053-8ac8-810c84606a16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.154.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22773', '22774', '22775', '22776', '22777']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22773:22773 -p 22774:22774 -p 22775:22775 -p 22776:22776 -p 22777:22777 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22775 --rest-port=22773 --tcp-port=22774 --discv5-udp-port=22776 --rest-address=0.0.0.0 --nat=extip:172.18.154.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdf4c134d9993bdccb68ecae2236dce5abea855cd22db6d17ddf7dabecc3c45b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22777 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFQrdbbLmkZ2LdWrCQByIpdTOkhWNTq1lTcVYqTRTSbQfHMoGAHZyTr7vc4bp4gPKYM5WR7dzAhOfCIWWC2uiiECgmlkgnY0gmlwhKwSweOKbXVsdGlhZGRyc5YACASsEsHjBn5wAAoErBLB4wZ-cd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUyFWonL_U_8sWgqUm_cWWkakKLDqSQ3rMNvDOYAxkhSDdGNwgn5wg3VkcIJ-coV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.154.213 waku bf1faae16276554d858d91f32f7558e6cdcfd1017b2b61f0489a172c0c495b85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bf1faae16276. Setting up logs at ./log/docker/node4_2024-11-07_12-43-06__cfb4c1df-b6cb-4053-8ac8-810c84606a16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 22773
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22773/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22773/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.213/tcp/22774/p2p/16Uiu2HAmCjLvvkzKTHtxceV4xznHzXQdp8DhpR97Uinzf4o3esBk","/ip4/172.18.154.213/tcp/22775/ws/p2p/16Uiu2HAmCjLvvkzKTHtxceV4xznHzXQdp8DhpR97Uinzf4o3esBk"],"enrUri":"enr:-L24QFeMhqRSZuZ_uIntEc3AfQKzevxzt2EB73sqGYhcR7a0JdkWE91Lg65LSr2hn3huIfjHJVhCa2Fy52BURIeqFHoCgmlkgnY0gmlwhKwSmtWKbXVsdGlhZGRyc5YACASsEprVBlj2AAoErBKa1QZY990DgnJzhQADAQAAiXNlY3AyNTZrMaEDAR2X06796_qL3_5MXv1uigbDK-AW9dAJyFJCG1G2IN-DdGNwglj2g3VkcIJY-IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22773/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.193.227/tcp/32368/p2p/16Uiu2HAmJFVg4HTKMzSL9RUor1EDSjWx1cEptXGdYk68SAczdajV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-07_12-43-06__cfb4c1df-b6cb-4053-8ac8-810c84606a16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.82.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32463', '32464', '32465', '32466', '32467']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32463:32463 -p 32464:32464 -p 32465:32465 -p 32466:32466 -p 32467:32467 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32465 --rest-port=32463 --tcp-port=32464 --discv5-udp-port=32466 --rest-address=0.0.0.0 --nat=extip:172.18.82.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3edcbaa91ade0eb584ad926715735f15e71aca8482b08b6baea5f012076a499e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32467 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFQrdbbLmkZ2LdWrCQByIpdTOkhWNTq1lTcVYqTRTSbQfHMoGAHZyTr7vc4bp4gPKYM5WR7dzAhOfCIWWC2uiiECgmlkgnY0gmlwhKwSweOKbXVsdGlhZGRyc5YACASsEsHjBn5wAAoErBLB4wZ-cd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUyFWonL_U_8sWgqUm_cWWkakKLDqSQ3rMNvDOYAxkhSDdGNwgn5wg3VkcIJ-coV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.82.222 waku c7f35b0cd23c73f0c9bf59183c7b4d3d21699d98c7d9236352878ee5b64b02db
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c7f35b0cd23c. Setting up logs at ./log/docker/node5_2024-11-07_12-43-06__cfb4c1df-b6cb-4053-8ac8-810c84606a16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32463
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32463/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32463/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.222/tcp/32464/p2p/16Uiu2HAmKU5n989cxXqBRqYSzPp6zkqhdgWA9CK1QdThMom3Cfy5","/ip4/172.18.82.222/tcp/32465/ws/p2p/16Uiu2HAmKU5n989cxXqBRqYSzPp6zkqhdgWA9CK1QdThMom3Cfy5"],"enrUri":"enr:-L24QHx6Ai0LowQK_FoY_vlnhC1dUlLcXuKaxYuB1eJzPtqFZhpkZY8nDNBy3Z-GEXrt5Eq2AsBob4LFaLpXAAg5xI4CgmlkgnY0gmlwhKwSUt6KbXVsdGlhZGRyc5YACASsElLeBn7QAAoErBJS3gZ-0d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDZTaOvOoBP7vLAyWxw8KUbTFuFFqe7VN7KVeb7LZvtuSDdGNwgn7Qg3VkcIJ-0oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32463/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.193.227/tcp/32368/p2p/16Uiu2HAmJFVg4HTKMzSL9RUor1EDSjWx1cEptXGdYk68SAczdajV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32367/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42557/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60407/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22773/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32463/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32367/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32367/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730983394425716992,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42557/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730983394425716992,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730983394425716992,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730983394425716992,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32463/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730983394425716992,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32367/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32367/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730983394553820416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42557/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730983394553820416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730983394553820416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730983394553820416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32463/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730983394553820416,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 79e38b567040
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a5e470a46ace
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 79e38b567040. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dc2f6cad72bd
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a5e470a46ace. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bf1faae16276
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dc2f6cad72bd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c7f35b0cd23c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bf1faae16276. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.