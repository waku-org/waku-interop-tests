[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-10-25_04-13-36__48cb8978-cf6f-4a01-9ac7-6078b6ef8057
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-25_04-13-36__48cb8978-cf6f-4a01-9ac7-6078b6ef8057__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.33.73
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7407', '7408', '7409', '7410', '7411']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7407:7407 -p 7408:7408 -p 7409:7409 -p 7410:7410 -p 7411:7411 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7409 --rest-port=7407 --tcp-port=7408 --discv5-udp-port=7410 --rest-address=0.0.0.0 --nat=extip:172.18.33.73 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2e1e8fe9a2acd6cbf0d07c186dbebf40fb2d814ace8bb38e7194bf96b4c39cd8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7411 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.33.73 waku 7b7bd46bf41e61a7677e4ece24c3eb471ecd589b2bc506cc21648655238e1612
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7b7bd46bf41e. Setting up logs at ./log/docker/node1_2024-10-25_04-13-36__48cb8978-cf6f-4a01-9ac7-6078b6ef8057__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7407
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8cf1746a7a3d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7407/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7407/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.73/tcp/7408/p2p/16Uiu2HAmSdD7PPbtb6DthJCuftzmLsjoXkPHaZR8jLjTQdw7HReC","/ip4/172.18.33.73/tcp/7409/ws/p2p/16Uiu2HAmSdD7PPbtb6DthJCuftzmLsjoXkPHaZR8jLjTQdw7HReC"],"enrUri":"enr:-LO4QGGCSSbVynCrJ6ZB1eYL_s4F0RBV7LAi8dswA5P5R-m7QZqj7e6I-LRvs34Gman_TmcJ3Rc_-kWBbG1LCq-E4_ABgmlkgnY0gmlwhKwSIUmKbXVsdGlhZGRyc4wACgSsEiFJBhzx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPPjuIqaHWCoOeKTkb_uXIuuJLicJe5DP9P3ZrxpZgA7YN0Y3CCHPCDdWRwghzyhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-25_04-13-36__48cb8978-cf6f-4a01-9ac7-6078b6ef8057__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.51.7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5350', '5351', '5352', '5353', '5354']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5350:5350 -p 5351:5351 -p 5352:5352 -p 5353:5353 -p 5354:5354 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5352 --rest-port=5350 --tcp-port=5351 --discv5-udp-port=5353 --rest-address=0.0.0.0 --nat=extip:172.18.51.7 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdce4d651b2788d6f9e82b3f67eaf940192ed5dca3629bdc83d40f6b94ddccd4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5354 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QGGCSSbVynCrJ6ZB1eYL_s4F0RBV7LAi8dswA5P5R-m7QZqj7e6I-LRvs34Gman_TmcJ3Rc_-kWBbG1LCq-E4_ABgmlkgnY0gmlwhKwSIUmKbXVsdGlhZGRyc4wACgSsEiFJBhzx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPPjuIqaHWCoOeKTkb_uXIuuJLicJe5DP9P3ZrxpZgA7YN0Y3CCHPCDdWRwghzyhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.51.7 waku d4c21549f2f895b8ef44ff1f4d570cafab0c3f1b6ca094f0114f27f68d209696
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d4c21549f2f8. Setting up logs at ./log/docker/node2_2024-10-25_04-13-36__48cb8978-cf6f-4a01-9ac7-6078b6ef8057__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5350
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5350/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5350/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.7/tcp/5351/p2p/16Uiu2HAm9d7o8Hmo2Fa8JnNaL4Nqp9oXoNkHCNnaJ92HrTRjB2XG","/ip4/172.18.51.7/tcp/5352/ws/p2p/16Uiu2HAm9d7o8Hmo2Fa8JnNaL4Nqp9oXoNkHCNnaJ92HrTRjB2XG"],"enrUri":"enr:-LO4QJorcGJknqMHNv5TU5dRkVy7L5lj23tkZBKzba-mLjJcPGp_-zlyZsvF7OZfLaixBQZKGMupx1HFniiqjDMNLl4BgmlkgnY0gmlwhKwSMweKbXVsdGlhZGRyc4wACgSsEjMHBhTo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLS8jI60ZlpHERvMJfPGZbZ8YXO-ZK9lkqTWALGLxwML4N0Y3CCFOeDdWRwghTphXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5350/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.73/tcp/7408/p2p/16Uiu2HAmSdD7PPbtb6DthJCuftzmLsjoXkPHaZR8jLjTQdw7HReC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-25_04-13-36__48cb8978-cf6f-4a01-9ac7-6078b6ef8057__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.6.71
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10767', '10768', '10769', '10770', '10771']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10767:10767 -p 10768:10768 -p 10769:10769 -p 10770:10770 -p 10771:10771 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10769 --rest-port=10767 --tcp-port=10768 --discv5-udp-port=10770 --rest-address=0.0.0.0 --nat=extip:172.18.6.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1fa6455aa4da9adc0d03ba50be698c49e94d5d3dac2cc942d82fa1e21cf7a59e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10771 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QGGCSSbVynCrJ6ZB1eYL_s4F0RBV7LAi8dswA5P5R-m7QZqj7e6I-LRvs34Gman_TmcJ3Rc_-kWBbG1LCq-E4_ABgmlkgnY0gmlwhKwSIUmKbXVsdGlhZGRyc4wACgSsEiFJBhzx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPPjuIqaHWCoOeKTkb_uXIuuJLicJe5DP9P3ZrxpZgA7YN0Y3CCHPCDdWRwghzyhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.6.71 waku 3144cac0e6ab96d5af160ef243eccb819652037e02264c4f4f70b3aae4d10509
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3144cac0e6ab. Setting up logs at ./log/docker/node3_2024-10-25_04-13-36__48cb8978-cf6f-4a01-9ac7-6078b6ef8057__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 10767
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10767/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10767/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.6.71/tcp/10768/p2p/16Uiu2HAkzDTANNHJmWqcJn1SWQsP8Akmicjf3eeuv12zykN7farM","/ip4/172.18.6.71/tcp/10769/ws/p2p/16Uiu2HAkzDTANNHJmWqcJn1SWQsP8Akmicjf3eeuv12zykN7farM"],"enrUri":"enr:-LO4QHnKmw5e6-uWmotiobBwZX4k7kSfmohxvKmwtclBfkrfdwbAbhXY99zxrGsRq9r2APix4wKt-ea3NEsMhdbdjM8BgmlkgnY0gmlwhKwSBkeKbXVsdGlhZGRyc4wACgSsEgZHBioR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJHKPjRlX7MbMgczdiQWDV-f2-Kf4eGQI2BTafr-o9HAoN0Y3CCKhCDdWRwgioShXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10767/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.73/tcp/7408/p2p/16Uiu2HAmSdD7PPbtb6DthJCuftzmLsjoXkPHaZR8jLjTQdw7HReC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-25_04-13-36__48cb8978-cf6f-4a01-9ac7-6078b6ef8057__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.195.183
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43109', '43110', '43111', '43112', '43113']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43109:43109 -p 43110:43110 -p 43111:43111 -p 43112:43112 -p 43113:43113 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43111 --rest-port=43109 --tcp-port=43110 --discv5-udp-port=43112 --rest-address=0.0.0.0 --nat=extip:172.18.195.183 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5cf2fa391de9ee04cef9162aaa76b92cdffacc6441feed1db6eec0bfca2d9017 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43113 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QGGCSSbVynCrJ6ZB1eYL_s4F0RBV7LAi8dswA5P5R-m7QZqj7e6I-LRvs34Gman_TmcJ3Rc_-kWBbG1LCq-E4_ABgmlkgnY0gmlwhKwSIUmKbXVsdGlhZGRyc4wACgSsEiFJBhzx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPPjuIqaHWCoOeKTkb_uXIuuJLicJe5DP9P3ZrxpZgA7YN0Y3CCHPCDdWRwghzyhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.195.183 waku 37a4351a555a0a3116541a6574c63c6c0eb73f55a7471a46f3a4c751947c1464
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 37a4351a555a. Setting up logs at ./log/docker/node4_2024-10-25_04-13-36__48cb8978-cf6f-4a01-9ac7-6078b6ef8057__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43109
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43109/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43109/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.195.183/tcp/43110/p2p/16Uiu2HAkyxnsv5741UDj1xTpAKaFbYNbPEB43hERUtb9ejhfNzg1","/ip4/172.18.195.183/tcp/43111/ws/p2p/16Uiu2HAkyxnsv5741UDj1xTpAKaFbYNbPEB43hERUtb9ejhfNzg1"],"enrUri":"enr:-LO4QMNCta_iCml6IaSkhPW6QLQlEngq-XBayW8P8GLgmkqUHdU5A-72cpyVVb6Rgi_jpQyeP0YOCzg2E5LqwwnvbW4BgmlkgnY0gmlwhKwSw7eKbXVsdGlhZGRyc4wACgSsEsO3Bqhn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJDZ42ZvNZNzRfhr5-WexBrLV0INyfgurWFggB1nA83goN0Y3CCqGaDdWRwgqhohXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43109/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.73/tcp/7408/p2p/16Uiu2HAmSdD7PPbtb6DthJCuftzmLsjoXkPHaZR8jLjTQdw7HReC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-25_04-13-36__48cb8978-cf6f-4a01-9ac7-6078b6ef8057__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.76.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29893', '29894', '29895', '29896', '29897']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29893:29893 -p 29894:29894 -p 29895:29895 -p 29896:29896 -p 29897:29897 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29895 --rest-port=29893 --tcp-port=29894 --discv5-udp-port=29896 --rest-address=0.0.0.0 --nat=extip:172.18.76.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cff4f99ffd11c7eb31d4c067ded0647e0dcbfede796b7a6ca3e0dff8deb9fac0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29897 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QGGCSSbVynCrJ6ZB1eYL_s4F0RBV7LAi8dswA5P5R-m7QZqj7e6I-LRvs34Gman_TmcJ3Rc_-kWBbG1LCq-E4_ABgmlkgnY0gmlwhKwSIUmKbXVsdGlhZGRyc4wACgSsEiFJBhzx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPPjuIqaHWCoOeKTkb_uXIuuJLicJe5DP9P3ZrxpZgA7YN0Y3CCHPCDdWRwghzyhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.76.184 waku 935375de90d8f7eac26f98853f36ab03b0d0f6d8bbb20119f7bb1e103045e2c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 935375de90d8. Setting up logs at ./log/docker/node5_2024-10-25_04-13-36__48cb8978-cf6f-4a01-9ac7-6078b6ef8057__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 29893
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29893/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29893/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.184/tcp/29894/p2p/16Uiu2HAmFrM7SXFsknzGqb6iY4pKbmoiEn7tUEUbpZWJix42PTuK","/ip4/172.18.76.184/tcp/29895/ws/p2p/16Uiu2HAmFrM7SXFsknzGqb6iY4pKbmoiEn7tUEUbpZWJix42PTuK"],"enrUri":"enr:-LO4QJ1aJs4TdOahuARkA0rUh_ikhuDG2ZELVQCBYo6lA3LdamreV4us-mZlDbJiaw7KMPZ5OM1-UOFi2MXAz-SGMBABgmlkgnY0gmlwhKwSTLiKbXVsdGlhZGRyc4wACgSsEky4BnTH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMve-yqBE0ySLG2xU5ClKcb7mjOyT-7ZKJR2dLooL3QIoN0Y3CCdMaDdWRwgnTIhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29893/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.73/tcp/7408/p2p/16Uiu2HAmSdD7PPbtb6DthJCuftzmLsjoXkPHaZR8jLjTQdw7HReC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7407/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5350/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10767/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43109/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29893/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729829625238691328,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5350/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729829625238691328,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10767/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729829625238691328,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43109/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729829625238691328,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729829625238691328,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729829625378508288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5350/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729829625378508288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10767/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729829625378508288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43109/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729829625378508288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729829625378508288,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7b7bd46bf41e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d4c21549f2f8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7b7bd46bf41e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3144cac0e6ab
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d4c21549f2f8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 37a4351a555a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3144cac0e6ab. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 935375de90d8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 37a4351a555a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.