[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-07-13_04-11-43__56772bfe-287c-46b4-a6f8-bf3f4d7bccf8
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node1_2024-07-13_04-11-43__56772bfe-287c-46b4-a6f8-bf3f4d7bccf8__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.228.40
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['53945', '53946', '53947', '53948', '53949']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 53945:53945 -p 53946:53946 -p 53947:53947 -p 53948:53948 -p 53949:53949 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53947 --rest-port=53945 --tcp-port=53946 --discv5-udp-port=53948 --rest-address=0.0.0.0 --nat=extip:172.18.228.40 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53949 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.228.40 waku 9fc4cba91a0eea49d505eec39fb35e12713d0840d3faf4c5d398316aa3d83bb2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9fc4cba91a0e. Setting up logs at ./log/docker/node1_2024-07-13_04-11-43__56772bfe-287c-46b4-a6f8-bf3f4d7bccf8__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 53945
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53945/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53945/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.40/tcp/53946/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.228.40/tcp/53947/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QLCTDAG5Gm-RxFbJsd-MhMfm16Wg74wWGhY9ICMTP1EQfyjHetYzmmmcLcR1W7qo7wGFHEKqRV2j64-joTnVGXUBgmlkgnY0gmlwhKwS5CiKbXVsdGlhZGRyc4wACgSsEuQoBtK73QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC0rqDdWRwgtK8hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node2_2024-07-13_04-11-43__56772bfe-287c-46b4-a6f8-bf3f4d7bccf8__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.30.12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['57934', '57935', '57936', '57937', '57938']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 57934:57934 -p 57935:57935 -p 57936:57936 -p 57937:57937 -p 57938:57938 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57936 --rest-port=57934 --tcp-port=57935 --discv5-udp-port=57937 --rest-address=0.0.0.0 --nat=extip:172.18.30.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57938 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QLCTDAG5Gm-RxFbJsd-MhMfm16Wg74wWGhY9ICMTP1EQfyjHetYzmmmcLcR1W7qo7wGFHEKqRV2j64-joTnVGXUBgmlkgnY0gmlwhKwS5CiKbXVsdGlhZGRyc4wACgSsEuQoBtK73QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC0rqDdWRwgtK8hXdha3UyBQ --filternode=/ip4/172.18.228.40/tcp/53946/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.30.12 waku 5ec11168ea00c7dcdc40c14c74c807e41cf820e841cef44525f5cc492402c2b8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5ec11168ea00. Setting up logs at ./log/docker/node2_2024-07-13_04-11-43__56772bfe-287c-46b4-a6f8-bf3f4d7bccf8__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 57934
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57934/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57934/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.12/tcp/57935/p2p/16Uiu2HAmC8tSs6Lh9THcAzwzsoqrSpVPr1qTGheEG7TimKfvEfwj","/ip4/172.18.30.12/tcp/57936/ws/p2p/16Uiu2HAmC8tSs6Lh9THcAzwzsoqrSpVPr1qTGheEG7TimKfvEfwj"],"enrUri":"enr:-LO4QKgQYjZkXRgeN89XbvSjgnZRsqQ0Ty3D0diXHK3r-txxV9sq7wadV5W15BIPi1xxpfxxW2msSUU0taEcxA1h5MkBgmlkgnY0gmlwhKwSHgyKbXVsdGlhZGRyc4wACgSsEh4MBuJQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL4SeZyWFCTaWk_XOSa0AzqprWvXs5yDIOs8BWt1tFJVoN0Y3CC4k-DdWRwguJRhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57934/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.228.40/tcp/53946/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node3_2024-07-13_04-11-43__56772bfe-287c-46b4-a6f8-bf3f4d7bccf8__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.10.0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['32633', '32634', '32635', '32636', '32637']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 32633:32633 -p 32634:32634 -p 32635:32635 -p 32636:32636 -p 32637:32637 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32635 --rest-port=32633 --tcp-port=32634 --discv5-udp-port=32636 --rest-address=0.0.0.0 --nat=extip:172.18.10.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32637 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QLCTDAG5Gm-RxFbJsd-MhMfm16Wg74wWGhY9ICMTP1EQfyjHetYzmmmcLcR1W7qo7wGFHEKqRV2j64-joTnVGXUBgmlkgnY0gmlwhKwS5CiKbXVsdGlhZGRyc4wACgSsEuQoBtK73QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC0rqDdWRwgtK8hXdha3UyBQ --filternode=/ip4/172.18.228.40/tcp/53946/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.10.0 waku 2f69daea70a183532733a3c37561cdabc30480c531854daedfe3789c31b1f295
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 2f69daea70a1. Setting up logs at ./log/docker/node3_2024-07-13_04-11-43__56772bfe-287c-46b4-a6f8-bf3f4d7bccf8__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 32633
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32633/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32633/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.10.0/tcp/32634/p2p/16Uiu2HAmKz1UGndwGnLUE3nsoKfnFfk5oZCYZerZFjWSm4QNgywf","/ip4/172.18.10.0/tcp/32635/ws/p2p/16Uiu2HAmKz1UGndwGnLUE3nsoKfnFfk5oZCYZerZFjWSm4QNgywf"],"enrUri":"enr:-LO4QMRnJQSncWtq98NCKYx8XOueRmy3V8T5GUpBh-iPOFkORdycQ-lPBkiSPPFbD9nu1FO_pZGdJmACXutPZXe0HeoBgmlkgnY0gmlwhKwSCgCKbXVsdGlhZGRyc4wACgSsEgoABn973QOCcnOFAAMBAACJc2VjcDI1NmsxoQNs4RxWjz1Wyz8JVzOdNzUyS9_dKEcCsgd7pJrDBJlPyoN0Y3CCf3qDdWRwgn98hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32633/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.228.40/tcp/53946/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node4_2024-07-13_04-11-43__56772bfe-287c-46b4-a6f8-bf3f4d7bccf8__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.22.35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['12396', '12397', '12398', '12399', '12400']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 12396:12396 -p 12397:12397 -p 12398:12398 -p 12399:12399 -p 12400:12400 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12398 --rest-port=12396 --tcp-port=12397 --discv5-udp-port=12399 --rest-address=0.0.0.0 --nat=extip:172.18.22.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12400 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QLCTDAG5Gm-RxFbJsd-MhMfm16Wg74wWGhY9ICMTP1EQfyjHetYzmmmcLcR1W7qo7wGFHEKqRV2j64-joTnVGXUBgmlkgnY0gmlwhKwS5CiKbXVsdGlhZGRyc4wACgSsEuQoBtK73QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC0rqDdWRwgtK8hXdha3UyBQ --filternode=/ip4/172.18.228.40/tcp/53946/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.22.35 waku 4eb0871498f50fc80f850d482193cccb24f0cb43eaa80d85397d77b47cd9eb9e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 4eb0871498f5. Setting up logs at ./log/docker/node4_2024-07-13_04-11-43__56772bfe-287c-46b4-a6f8-bf3f4d7bccf8__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 12396
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12396/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12396/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.35/tcp/12397/p2p/16Uiu2HAmKFPSi8ekT7ZYaweqbwso4ycGTB9XkWkGoMocQ35jYuT2","/ip4/172.18.22.35/tcp/12398/ws/p2p/16Uiu2HAmKFPSi8ekT7ZYaweqbwso4ycGTB9XkWkGoMocQ35jYuT2"],"enrUri":"enr:-LO4QNodnOKy-BgfLkCc8QniB9-dR6QUURwNtr4FnmUYg7QxUtUM2En1IFCaezPUx2fY-zY60jDDmbpJtNF92NqIF_kBgmlkgnY0gmlwhKwSFiOKbXVsdGlhZGRyc4wACgSsEhYjBjBu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNh9fsdLtKHbE7OgjW-XZndZHvVGGKFbixxRsQG43ZULYN0Y3CCMG2DdWRwgjBvhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12396/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.228.40/tcp/53946/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node5_2024-07-13_04-11-43__56772bfe-287c-46b4-a6f8-bf3f4d7bccf8__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.27.45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['10265', '10266', '10267', '10268', '10269']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 10265:10265 -p 10266:10266 -p 10267:10267 -p 10268:10268 -p 10269:10269 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10267 --rest-port=10265 --tcp-port=10266 --discv5-udp-port=10268 --rest-address=0.0.0.0 --nat=extip:172.18.27.45 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10269 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QLCTDAG5Gm-RxFbJsd-MhMfm16Wg74wWGhY9ICMTP1EQfyjHetYzmmmcLcR1W7qo7wGFHEKqRV2j64-joTnVGXUBgmlkgnY0gmlwhKwS5CiKbXVsdGlhZGRyc4wACgSsEuQoBtK73QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC0rqDdWRwgtK8hXdha3UyBQ --filternode=/ip4/172.18.228.40/tcp/53946/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.27.45 waku 4c8ecdccd0abfa22e9975c74ebdde79930713da2bdf330541766bd082f1ae71e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 4c8ecdccd0ab. Setting up logs at ./log/docker/node5_2024-07-13_04-11-43__56772bfe-287c-46b4-a6f8-bf3f4d7bccf8__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 10265
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10265/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10265/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.27.45/tcp/10266/p2p/16Uiu2HAmQrLj9Gj4BPDaP4npjAXxH14qiao37tGFg19QF8esM4a7","/ip4/172.18.27.45/tcp/10267/ws/p2p/16Uiu2HAmQrLj9Gj4BPDaP4npjAXxH14qiao37tGFg19QF8esM4a7"],"enrUri":"enr:-LO4QJTcY5rv-SaNCDJzVZck1qA1BjEP_BSoYgxqQThw7m_0ZShTBjaViG81xi3ZbS18k37fw-p6XapPEtZlnxdBAhUBgmlkgnY0gmlwhKwSGy2KbXVsdGlhZGRyc4wACgSsEhstBigb3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO1NKwQGMPNtHT0s4WwKc6sWKRhQoUX8ajQcVkDc5sFDIN0Y3CCKBqDdWRwgigchXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10265/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.228.40/tcp/53946/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53945/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57934/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3b152e94-8283-406a-9e24-53fa5f1daefc", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3b152e94-8283-406a-9e24-53fa5f1daefc","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32633/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b03258c5-b707-45e3-884d-cec9bf1c3448", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b03258c5-b707-45e3-884d-cec9bf1c3448","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12396/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3aa8e0d1-46fd-4a2e-a3cf-f377cc64d885", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3aa8e0d1-46fd-4a2e-a3cf-f377cc64d885","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10265/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "db3d372d-d40a-4677-a52f-dd9efce8f005", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"db3d372d-d40a-4677-a52f-dd9efce8f005","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53945/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57934/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1720843911398633216,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53945/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32633/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:32633/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 9fc4cba91a0e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 5ec11168ea00
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 2f69daea70a1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 4eb0871498f5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 4c8ecdccd0ab
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.