[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_negative_end_time with id: 2024-11-15_04-41-08__faa31b0c-8d8d-4384-9f84-cf91754a83e9
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-15_04-41-08__faa31b0c-8d8d-4384-9f84-cf91754a83e9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.91.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19442', '19443', '19444', '19445', '19446']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19442:19442 -p 19443:19443 -p 19444:19444 -p 19445:19445 -p 19446:19446 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19444 --rest-port=19442 --tcp-port=19443 --discv5-udp-port=19445 --rest-address=0.0.0.0 --nat=extip:172.18.91.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbfa6dd2fa6d7ea8edd2bb8ade425a18d78e8972fede27bb8d37e5bcdbc4b08b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19446 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.91.184 waku 9b6ac5775e02f8c5659ec5625cee45fc493c72369e94d046870ba4ff7bcb75fb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9b6ac5775e02. Setting up logs at ./log/docker/publishing_node1_2024-11-15_04-41-08__faa31b0c-8d8d-4384-9f84-cf91754a83e9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 19442
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b588caaa0059. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19442/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19442/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.184/tcp/19443/p2p/16Uiu2HAm5irovoeFjQSA7Wwa2HvKP89j1eMcMLRkDxeNV3N4Fhqq","/ip4/172.18.91.184/tcp/19444/ws/p2p/16Uiu2HAm5irovoeFjQSA7Wwa2HvKP89j1eMcMLRkDxeNV3N4Fhqq"],"enrUri":"enr:-L24QOUrlafloNZJICUVEv_rYB0Xf-OJ27XBOhVPu-4VMPaYckw2IKi0bM2p4c14Fdb83C0V0dTOuJaZmGYdd-qq8zkCgmlkgnY0gmlwhKwSW7iKbXVsdGlhZGRyc5YACASsElu4BkvzAAoErBJbuAZL9N0DgnJzhQADAQAAiXNlY3AyNTZrMaECmPv9Cl-hpC1ktzUKkdb0j1DINhKuJ6q2oin13VJpibCDdGNwgkvzg3VkcIJL9YV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-15_04-41-08__faa31b0c-8d8d-4384-9f84-cf91754a83e9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.209.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5454', '5455', '5456', '5457', '5458']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5454:5454 -p 5455:5455 -p 5456:5456 -p 5457:5457 -p 5458:5458 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5456 --rest-port=5454 --tcp-port=5455 --discv5-udp-port=5457 --rest-address=0.0.0.0 --nat=extip:172.18.209.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e4d5ef3dfdb80a3cbda65193fdaa1afac6146e3c6ee15db13cd41bedf1a6fde1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5458 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QOUrlafloNZJICUVEv_rYB0Xf-OJ27XBOhVPu-4VMPaYckw2IKi0bM2p4c14Fdb83C0V0dTOuJaZmGYdd-qq8zkCgmlkgnY0gmlwhKwSW7iKbXVsdGlhZGRyc5YACASsElu4BkvzAAoErBJbuAZL9N0DgnJzhQADAQAAiXNlY3AyNTZrMaECmPv9Cl-hpC1ktzUKkdb0j1DINhKuJ6q2oin13VJpibCDdGNwgkvzg3VkcIJL9YV3YWt1MgM --storenode=/ip4/172.18.91.184/tcp/19443/p2p/16Uiu2HAm5irovoeFjQSA7Wwa2HvKP89j1eMcMLRkDxeNV3N4Fhqq --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.209.139 waku d18f596fb24693271d56e8f0ca4c6250da8c1fb5d07df891c311c91b79604c9a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d18f596fb246. Setting up logs at ./log/docker/store_node1_2024-11-15_04-41-08__faa31b0c-8d8d-4384-9f84-cf91754a83e9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 5454
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5454/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5454/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.139/tcp/5455/p2p/16Uiu2HAm3jdaqKQJUDQpapoMsKzZddvUWXtaeZGfQnb35f9tbv7k","/ip4/172.18.209.139/tcp/5456/ws/p2p/16Uiu2HAm3jdaqKQJUDQpapoMsKzZddvUWXtaeZGfQnb35f9tbv7k"],"enrUri":"enr:-L24QAhUzhc6v_HAjvrvZrOgJJGvlixiMmP-mtNjZeE2n10IQisjcEzReXKEUlzEE_M39YI5qAFUW05_KXbMc7pmDN4CgmlkgnY0gmlwhKwS0YuKbXVsdGlhZGRyc5YACASsEtGLBhVPAAoErBLRiwYVUN0DgnJzhQADAQAAiXNlY3AyNTZrMaECe3c9sEpWYRGkJW_eYB2H9bSMi2t8B1mHWEbNSfpmk_uDdGNwghVPg3VkcIIVUYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5454/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.91.184/tcp/19443/p2p/16Uiu2HAm5irovoeFjQSA7Wwa2HvKP89j1eMcMLRkDxeNV3N4Fhqq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19442/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5454/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19442/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19442/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19442/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19442/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19442/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19442/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:232 inquering stored messages with end time -10000
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19442/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&endTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"iEEFf4t5KEI4SSMP/5ErLCg4yASsGAArI1/RXbFutkI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645678067490048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"WTrlX7bMpWCLimdcNUDMT9kSnZSY++ZM+/kCyKD90q4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645680067500032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"v2srhfYO781eaX2Ampp9FbxEMSqCvvGG8Od6jTyj788=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645680967503104,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"NgPkq3rSONJJ/p7OmEYYbwBkeYsvkVlplKXQaBc1+uA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645681167506944,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"KUXJgU1f2wWk7Mroax5tlJy7znNKICkyBsyQFhR/Pr0=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645683067508992,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0wiq0ZNj9xkPmD5yYTGU8fDDtL6OI/hcyT0DOO2lrJs=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645691067510016,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:235 number of messages stored for  end time = -10000 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5454/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&endTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"iEEFf4t5KEI4SSMP/5ErLCg4yASsGAArI1/RXbFutkI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645678067490048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"WTrlX7bMpWCLimdcNUDMT9kSnZSY++ZM+/kCyKD90q4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645680067500032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"v2srhfYO781eaX2Ampp9FbxEMSqCvvGG8Od6jTyj788=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645680967503104,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"NgPkq3rSONJJ/p7OmEYYbwBkeYsvkVlplKXQaBc1+uA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645681167506944,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"KUXJgU1f2wWk7Mroax5tlJy7znNKICkyBsyQFhR/Pr0=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645683067508992,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0wiq0ZNj9xkPmD5yYTGU8fDDtL6OI/hcyT0DOO2lrJs=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1731645691067510016,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:235 number of messages stored for  end time = -10000 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 9b6ac5775e02
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id d18f596fb246
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9b6ac5775e02. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.