[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2024-08-16_07-28-27__48bf35fc-1416-4b6c-ade2-bbcc23e2da3a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-16_07-28-27__48bf35fc-1416-4b6c-ade2-bbcc23e2da3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.1.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['61407', '61408', '61409', '61410', '61411']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 61407:61407 -p 61408:61408 -p 61409:61409 -p 61410:61410 -p 61411:61411 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61409 --rest-port=61407 --tcp-port=61408 --discv5-udp-port=61410 --rest-address=0.0.0.0 --nat=extip:172.18.1.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bca828b2bef49a7d7fefce2fee8aac8bdb34ce9c3f31edfccac8b66debec797d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61411 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.1.222 waku 72a1579aa172b37d3d2749ac6bb55e113f2eae1656b05494c2334be430f0047a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 72a1579aa172. Setting up logs at ./log/docker/node1_2024-08-16_07-28-27__48bf35fc-1416-4b6c-ade2-bbcc23e2da3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 61407
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61407/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61407/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.1.222/tcp/61408/p2p/16Uiu2HAmHCH9TDMbmy3KTqTnLnCZPX8MRxWsNUghaEE28JbxNcXd","/ip4/172.18.1.222/tcp/61409/ws/p2p/16Uiu2HAmHCH9TDMbmy3KTqTnLnCZPX8MRxWsNUghaEE28JbxNcXd"],"enrUri":"enr:-LO4QIWsE3_M3j6ZQ1wmDAgUuebcXNwS9uvKxgn0lj3PHftBSuiwm8ottSx9M7845-pKaBdprbFrDwo6GLN8JzpZV08BgmlkgnY0gmlwhKwSAd6KbXVsdGlhZGRyc4wACgSsEgHeBu_h3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNDcr51ymY_Tywen8jb7VXcFfMIVllqxQTCK-cZcG9IlIN0Y3CC7-CDdWRwgu_ihXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-16_07-28-27__48bf35fc-1416-4b6c-ade2-bbcc23e2da3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.158.199
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['39072', '39073', '39074', '39075', '39076']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 39072:39072 -p 39073:39073 -p 39074:39074 -p 39075:39075 -p 39076:39076 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39074 --rest-port=39072 --tcp-port=39073 --discv5-udp-port=39075 --rest-address=0.0.0.0 --nat=extip:172.18.158.199 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2f9ff3d77bb139e7fa9a1640cbb4bdcfca2b768402ec752d3f7eb87c284c360a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39076 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QIWsE3_M3j6ZQ1wmDAgUuebcXNwS9uvKxgn0lj3PHftBSuiwm8ottSx9M7845-pKaBdprbFrDwo6GLN8JzpZV08BgmlkgnY0gmlwhKwSAd6KbXVsdGlhZGRyc4wACgSsEgHeBu_h3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNDcr51ymY_Tywen8jb7VXcFfMIVllqxQTCK-cZcG9IlIN0Y3CC7-CDdWRwgu_ihXdha3UyBQ --filternode=/ip4/172.18.1.222/tcp/61408/p2p/16Uiu2HAmHCH9TDMbmy3KTqTnLnCZPX8MRxWsNUghaEE28JbxNcXd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.158.199 waku 5ef8c0c5b2804ed621a7787006335e9fa6d9a5171a941d5ce199115606634ba4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5ef8c0c5b280. Setting up logs at ./log/docker/node2_2024-08-16_07-28-27__48bf35fc-1416-4b6c-ade2-bbcc23e2da3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 39072
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39072/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39072/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.158.199/tcp/39073/p2p/16Uiu2HAmKqw3zhRJurgtYNfnbDU15bs1rTsbU4SW2taMxarRwTJG","/ip4/172.18.158.199/tcp/39074/ws/p2p/16Uiu2HAmKqw3zhRJurgtYNfnbDU15bs1rTsbU4SW2taMxarRwTJG"],"enrUri":"enr:-LO4QKVVRvoXLTpuOCU1lfBnQxraHB96wYdgpxtg0MayXrLvKfcrFLwN713FMuOOkIQOa2wDvCVWQmoKm15lZFtnpWYBgmlkgnY0gmlwhKwSnseKbXVsdGlhZGRyc4wACgSsEp7HBpii3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNqz3fW7W1RMjwRyFgcQZDBvTgorzfLk7qqNnUADI384YN0Y3CCmKGDdWRwgpijhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39072/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.1.222/tcp/61408/p2p/16Uiu2HAmHCH9TDMbmy3KTqTnLnCZPX8MRxWsNUghaEE28JbxNcXd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61407/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39072/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ada5c37e-93c4-4113-8c35-66abc944dc7a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ada5c37e-93c4-4113-8c35-66abc944dc7a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:39072/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:39072/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 72a1579aa172
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 5ef8c0c5b280
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.