[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.154.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['64123', '64124', '64125', '64126', '64127']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 64123:64123 -p 64124:64124 -p 64125:64125 -p 64126:64126 -p 64127:64127 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64125 --rest-port=64123 --tcp-port=64124 --discv5-udp-port=64126 --rest-address=0.0.0.0 --nat=extip:172.18.154.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bceabb1a9f66dcfda5e6aa8d358c990dab0053e90056be4ef09860cdfaece0ab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64127 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.154.170 waku 6150fdf1a94c6129df412b7c9ece378700669d628a4d17e32bfa02ce2e3d686f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6150fdf1a94c. Setting up logs at ./log/docker/receiving_node1_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 64123
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64123/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64123/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.170/tcp/64124/p2p/16Uiu2HAkxgYJYVtQwoywF1DPqBvc43JwqFxFv9oL8Wgh3eu7ERpk","/ip4/172.18.154.170/tcp/64125/ws/p2p/16Uiu2HAkxgYJYVtQwoywF1DPqBvc43JwqFxFv9oL8Wgh3eu7ERpk"],"enrUri":"enr:-LO4QODAzs3KejAXCxd5Rdzs9oE37rnkHYyHK0kSEEVswKFBb-bvVQvBmSgTs5uSn1cJYWL0IlJJrYMLIU0KzW0xJDUBgmlkgnY0gmlwhKwSmqqKbXVsdGlhZGRyc4wACgSsEpqqBvp93QOCcnOFAAMBAACJc2VjcDI1NmsxoQIwYhfDOtv3MK7iovg5h76VbTAE_RnsrOlTZK9xFKKjWYN0Y3CC-nyDdWRwgvp-hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.177.247
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['7838', '7839', '7840', '7841', '7842']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 7838:7838 -p 7839:7839 -p 7840:7840 -p 7841:7841 -p 7842:7842 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7840 --rest-port=7838 --tcp-port=7839 --discv5-udp-port=7841 --rest-address=0.0.0.0 --nat=extip:172.18.177.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea65e54fde84fcdbbf1c532f1a5b57e3e8a88b6cafbdcf5d7ec36ecab1f55f1d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7842 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.177.247 waku 09a3b200449af15cefa3c3515664eca5b76495bcfdfe17f82d3a49d2bb7e5fa4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 09a3b200449a. Setting up logs at ./log/docker/receiving_node2_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 7838
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7838/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7838/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.247/tcp/7839/p2p/16Uiu2HAmNyneUZr4vHYyzooVyEMCQ7Z8qPcZUAfPQsTges2ZrP2f","/ip4/172.18.177.247/tcp/7840/ws/p2p/16Uiu2HAmNyneUZr4vHYyzooVyEMCQ7Z8qPcZUAfPQsTges2ZrP2f"],"enrUri":"enr:-LO4QDdMVLQ2VDuRWcYx4GiJ38P79O7XuZ_bEbGhhG0PwBNzKc_s3h4k09bXIR7jny_F755Zvrna9P9WhuQxWEE1MiIBgmlkgnY0gmlwhKwSsfeKbXVsdGlhZGRyc4wACgSsErH3Bh6g3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOZZavWIn-QFo7KRRUqp7qPl9UwLi_7VL7MsQUmzChiwIN0Y3CCHp-DdWRwgh6hhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7838/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.170/tcp/64124/p2p/16Uiu2HAkxgYJYVtQwoywF1DPqBvc43JwqFxFv9oL8Wgh3eu7ERpk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.236.74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['52173', '52174', '52175', '52176', '52177']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 52173:52173 -p 52174:52174 -p 52175:52175 -p 52176:52176 -p 52177:52177 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52175 --rest-port=52173 --tcp-port=52174 --discv5-udp-port=52176 --rest-address=0.0.0.0 --nat=extip:172.18.236.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abf48e2d1a6c9556613c2bed8161ba61dddbd32f890d5abc3c4f7cb79ea4dd80 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52177 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QODAzs3KejAXCxd5Rdzs9oE37rnkHYyHK0kSEEVswKFBb-bvVQvBmSgTs5uSn1cJYWL0IlJJrYMLIU0KzW0xJDUBgmlkgnY0gmlwhKwSmqqKbXVsdGlhZGRyc4wACgSsEpqqBvp93QOCcnOFAAMBAACJc2VjcDI1NmsxoQIwYhfDOtv3MK7iovg5h76VbTAE_RnsrOlTZK9xFKKjWYN0Y3CC-nyDdWRwgvp-hXdha3UyCQ --lightpushnode=/ip4/172.18.154.170/tcp/64124/p2p/16Uiu2HAkxgYJYVtQwoywF1DPqBvc43JwqFxFv9oL8Wgh3eu7ERpk --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.236.74 waku 0d289e2ab766aab331416b3176619bf7a09f766832440f6526140bacfb107d3f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0d289e2ab766. Setting up logs at ./log/docker/lightpush_node1_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 52173
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52173/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52173/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.236.74/tcp/52174/p2p/16Uiu2HAkxeGsW8PzhBeyB3ar5pcqHo81i7p9hE2uFm6uhibr3Guu","/ip4/172.18.236.74/tcp/52175/ws/p2p/16Uiu2HAkxeGsW8PzhBeyB3ar5pcqHo81i7p9hE2uFm6uhibr3Guu"],"enrUri":"enr:-LO4QNgj1blsz8848fZ1YY8CA3mOTGgpd-6hYYfcFTpW_bnwQUI36Lajr3Bas-z0k8v_JTShzfbymwaAVg7k2ATjxz0BgmlkgnY0gmlwhKwS7EqKbXVsdGlhZGRyc4wACgSsEuxKBsvP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIvzXuD6At6Oy3GIYNBCgf0fmTRdpBv1xRTBqFFxode-IN0Y3CCy86DdWRwgsvQhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52173/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.170/tcp/64124/p2p/16Uiu2HAkxgYJYVtQwoywF1DPqBvc43JwqFxFv9oL8Wgh3eu7ERpk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52173/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.247/tcp/7839/p2p/16Uiu2HAmNyneUZr4vHYyzooVyEMCQ7Z8qPcZUAfPQsTges2ZrP2f"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.249.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['26180', '26181', '26182', '26183', '26184']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 26180:26180 -p 26181:26181 -p 26182:26182 -p 26183:26183 -p 26184:26184 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26182 --rest-port=26180 --tcp-port=26181 --discv5-udp-port=26183 --rest-address=0.0.0.0 --nat=extip:172.18.249.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dd1edc9c4dbf7d04e7da590bdddbbdabcb30de279a221fdfe5bd9b9493c510ab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26184 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QODAzs3KejAXCxd5Rdzs9oE37rnkHYyHK0kSEEVswKFBb-bvVQvBmSgTs5uSn1cJYWL0IlJJrYMLIU0KzW0xJDUBgmlkgnY0gmlwhKwSmqqKbXVsdGlhZGRyc4wACgSsEpqqBvp93QOCcnOFAAMBAACJc2VjcDI1NmsxoQIwYhfDOtv3MK7iovg5h76VbTAE_RnsrOlTZK9xFKKjWYN0Y3CC-nyDdWRwgvp-hXdha3UyCQ --lightpushnode=/ip4/172.18.154.170/tcp/64124/p2p/16Uiu2HAkxgYJYVtQwoywF1DPqBvc43JwqFxFv9oL8Wgh3eu7ERpk --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.249.34 waku 187d5b51ef2f9222fe408a87b21471a4ed0cb44d3296305425ef58cc3ad407b3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 187d5b51ef2f. Setting up logs at ./log/docker/lightpush_node2_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 26180
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26180/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26180/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.34/tcp/26181/p2p/16Uiu2HAkz53XnCwVatYbY9n6vUkP7grUvFGLAPunaKwzde95qAvb","/ip4/172.18.249.34/tcp/26182/ws/p2p/16Uiu2HAkz53XnCwVatYbY9n6vUkP7grUvFGLAPunaKwzde95qAvb"],"enrUri":"enr:-LO4QHVjP8dxQzBtyuOxwSHVGXfV35MfbyfBKtVGlIE3an4TeIKDcnmc_3ZHNT_Fe_pGuGEX92HKVWQ8lS8l4ZW53yEBgmlkgnY0gmlwhKwS-SKKbXVsdGlhZGRyc4wACgSsEvkiBmZG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJFAZsicPnoNa0srojO8WI6EHg-xXIg8Yi8j9CTp5vhaIN0Y3CCZkWDdWRwgmZHhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26180/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.170/tcp/64124/p2p/16Uiu2HAkxgYJYVtQwoywF1DPqBvc43JwqFxFv9oL8Wgh3eu7ERpk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26180/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.247/tcp/7839/p2p/16Uiu2HAmNyneUZr4vHYyzooVyEMCQ7Z8qPcZUAfPQsTges2ZrP2f"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.164.153
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['23349', '23350', '23351', '23352', '23353']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 23349:23349 -p 23350:23350 -p 23351:23351 -p 23352:23352 -p 23353:23353 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23351 --rest-port=23349 --tcp-port=23350 --discv5-udp-port=23352 --rest-address=0.0.0.0 --nat=extip:172.18.164.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8eb0fb3f41eeefec6fc46cfcd6c7e14eaa3d3eada75ae4c0076debf40cfac65f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23353 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QODAzs3KejAXCxd5Rdzs9oE37rnkHYyHK0kSEEVswKFBb-bvVQvBmSgTs5uSn1cJYWL0IlJJrYMLIU0KzW0xJDUBgmlkgnY0gmlwhKwSmqqKbXVsdGlhZGRyc4wACgSsEpqqBvp93QOCcnOFAAMBAACJc2VjcDI1NmsxoQIwYhfDOtv3MK7iovg5h76VbTAE_RnsrOlTZK9xFKKjWYN0Y3CC-nyDdWRwgvp-hXdha3UyCQ --lightpushnode=/ip4/172.18.154.170/tcp/64124/p2p/16Uiu2HAkxgYJYVtQwoywF1DPqBvc43JwqFxFv9oL8Wgh3eu7ERpk --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.164.153 waku 631370777b4fa496eaa903b177b1505391dbace06a924deda344f768f9ccf5b2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 631370777b4f. Setting up logs at ./log/docker/lightpush_node3_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 23349
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23349/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23349/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.153/tcp/23350/p2p/16Uiu2HAmUJUDi7AoCTTpymatR2eRN7qBpap5k9tJDqWEPqKCNhB9","/ip4/172.18.164.153/tcp/23351/ws/p2p/16Uiu2HAmUJUDi7AoCTTpymatR2eRN7qBpap5k9tJDqWEPqKCNhB9"],"enrUri":"enr:-LO4QKl0BdDoh3-lDE3VRNi-wL3wgLTKOZcztTJ7II_GJyOjPA_ld1cX9BZ847SwpC1RUE8stCusYmI_AHD6ZoiF8u8BgmlkgnY0gmlwhKwSpJmKbXVsdGlhZGRyc4wACgSsEqSZBls33QOCcnOFAAMBAACJc2VjcDI1NmsxoQPoeU5F6h-G1Ypk86CCkZA1LowBqfvJv3UlDT43AOqsJIN0Y3CCWzaDdWRwgls4hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23349/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.170/tcp/64124/p2p/16Uiu2HAkxgYJYVtQwoywF1DPqBvc43JwqFxFv9oL8Wgh3eu7ERpk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23349/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.247/tcp/7839/p2p/16Uiu2HAmNyneUZr4vHYyzooVyEMCQ7Z8qPcZUAfPQsTges2ZrP2f"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.255.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['56988', '56989', '56990', '56991', '56992']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 56988:56988 -p 56989:56989 -p 56990:56990 -p 56991:56991 -p 56992:56992 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56990 --rest-port=56988 --tcp-port=56989 --discv5-udp-port=56991 --rest-address=0.0.0.0 --nat=extip:172.18.255.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=65b6332a3f1ac13dfa835dbfddb8a0fadd5ddb9ba7c1dc9b4a4f9956a524f46e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56992 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QODAzs3KejAXCxd5Rdzs9oE37rnkHYyHK0kSEEVswKFBb-bvVQvBmSgTs5uSn1cJYWL0IlJJrYMLIU0KzW0xJDUBgmlkgnY0gmlwhKwSmqqKbXVsdGlhZGRyc4wACgSsEpqqBvp93QOCcnOFAAMBAACJc2VjcDI1NmsxoQIwYhfDOtv3MK7iovg5h76VbTAE_RnsrOlTZK9xFKKjWYN0Y3CC-nyDdWRwgvp-hXdha3UyCQ --lightpushnode=/ip4/172.18.154.170/tcp/64124/p2p/16Uiu2HAkxgYJYVtQwoywF1DPqBvc43JwqFxFv9oL8Wgh3eu7ERpk --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.255.169 waku 83987864f0ef016d808c469045b457cfb208a84596a6cc50252b33bad4ae6cb5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 83987864f0ef. Setting up logs at ./log/docker/lightpush_node4_2024-08-16_07-29-00__5540ae72-707b-4bac-bf18-1be6816a069d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 56988
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56988/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56988/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.255.169/tcp/56989/p2p/16Uiu2HAm9MJFi4bydoo2bf4bqbgdDCLX7N77jpXGcR8EdKHJH9hv","/ip4/172.18.255.169/tcp/56990/ws/p2p/16Uiu2HAm9MJFi4bydoo2bf4bqbgdDCLX7N77jpXGcR8EdKHJH9hv"],"enrUri":"enr:-LO4QDAXgjzSzmSovIq5xwLzrLGc651gxmfyraooqFC4DC8xIJFqidr197PArQZ894lja9vjTanePM0GG0QSffyGoXoBgmlkgnY0gmlwhKwS_6mKbXVsdGlhZGRyc4wACgSsEv-pBt6e3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLO5LqARG4PVcldiu2JgkRzy-kCvxYNqfvGbvjpTChidYN0Y3CC3p2DdWRwgt6fhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56988/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.170/tcp/64124/p2p/16Uiu2HAkxgYJYVtQwoywF1DPqBvc43JwqFxFv9oL8Wgh3eu7ERpk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56988/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.247/tcp/7839/p2p/16Uiu2HAmNyneUZr4vHYyzooVyEMCQ7Z8qPcZUAfPQsTges2ZrP2f"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64123/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7838/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52173/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1723793350035019264}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64123/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723793350035019264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723793350035019264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26180/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1723793350151028224}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64123/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723793350151028224,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723793350151028224,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23349/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1723793350266563584}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64123/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723793350266563584,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723793350266563584,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56988/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1723793350383869952}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64123/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723793350383869952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723793350383869952,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 6150fdf1a94c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 09a3b200449a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 0d289e2ab766
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 187d5b51ef2f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 631370777b4f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 83987864f0ef
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.