[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-08-16_07-32-15__670ff235-e044-45d7-9c98-8ecdc9d79b1a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-16_07-32-15__670ff235-e044-45d7-9c98-8ecdc9d79b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.112.83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['54001', '54002', '54003', '54004', '54005']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 54001:54001 -p 54002:54002 -p 54003:54003 -p 54004:54004 -p 54005:54005 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54003 --rest-port=54001 --tcp-port=54002 --discv5-udp-port=54004 --rest-address=0.0.0.0 --nat=extip:172.18.112.83 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=55cbc7dbabbc3d2ad2dacfba5dc9acb1cbb6636b025be8a513a8afab1edc7eba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54005 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.112.83 waku 18ac74115b75d06ffe53f04a60f3318bb34b1e03e299025f649362b3e79a4807
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 18ac74115b75. Setting up logs at ./log/docker/node1_2024-08-16_07-32-15__670ff235-e044-45d7-9c98-8ecdc9d79b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 54001
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54001/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54001/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.112.83/tcp/54002/p2p/16Uiu2HAmBzLUWBRp8NhcD8WTaMjQWZgUFkmzADkoNWZ6zc5fSbhN","/ip4/172.18.112.83/tcp/54003/ws/p2p/16Uiu2HAmBzLUWBRp8NhcD8WTaMjQWZgUFkmzADkoNWZ6zc5fSbhN"],"enrUri":"enr:-LO4QM1BZnCePxPtRzUL89UQ44Hz1TpIpEkj-DTaVg4SiJWGBVnYS9pf4l_2H6DFJA0f_8Na7hHUXGHe1CUGEdqNAS8BgmlkgnY0gmlwhKwScFOKbXVsdGlhZGRyc4wACgSsEnBTBtLz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL2GRpoXylWXs7-5FZ2DT-r56atDl7wNB-jyggvqd1u9YN0Y3CC0vKDdWRwgtL0hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-16_07-32-15__670ff235-e044-45d7-9c98-8ecdc9d79b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.22.12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['25520', '25521', '25522', '25523', '25524']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 25520:25520 -p 25521:25521 -p 25522:25522 -p 25523:25523 -p 25524:25524 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25522 --rest-port=25520 --tcp-port=25521 --discv5-udp-port=25523 --rest-address=0.0.0.0 --nat=extip:172.18.22.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fad2ceddb1da031ff0ece219726dcc387998d0d3847fe6e44ff06f0cf88d21b7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25524 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QM1BZnCePxPtRzUL89UQ44Hz1TpIpEkj-DTaVg4SiJWGBVnYS9pf4l_2H6DFJA0f_8Na7hHUXGHe1CUGEdqNAS8BgmlkgnY0gmlwhKwScFOKbXVsdGlhZGRyc4wACgSsEnBTBtLz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL2GRpoXylWXs7-5FZ2DT-r56atDl7wNB-jyggvqd1u9YN0Y3CC0vKDdWRwgtL0hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.22.12 waku bc0a59e2aa95be5fa7847bc1fb903bf72bf09890d0ed981a658fe8174c27b18c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID bc0a59e2aa95. Setting up logs at ./log/docker/node2_2024-08-16_07-32-15__670ff235-e044-45d7-9c98-8ecdc9d79b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 25520
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25520/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25520/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.12/tcp/25521/p2p/16Uiu2HAmQeYp8fTwRqk9Z59vHkVt9M1VR2X41w9K3zEiw3nch2ts","/ip4/172.18.22.12/tcp/25522/ws/p2p/16Uiu2HAmQeYp8fTwRqk9Z59vHkVt9M1VR2X41w9K3zEiw3nch2ts"],"enrUri":"enr:-LO4QB8cR_avmfOjopVtmLrxqDERvaILlLAbdpQCLCjUXD8cAFFLzfcoBncQyEWaqyntJ2F__DZd9sak_Yfgeb40gsgBgmlkgnY0gmlwhKwSFgyKbXVsdGlhZGRyc4wACgSsEhYMBmOy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOyL149cgBaiBUYsbTmTL7SJVm8ys3wISVCTVFUnuv39IN0Y3CCY7GDdWRwgmOzhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25520/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.83/tcp/54002/p2p/16Uiu2HAmBzLUWBRp8NhcD8WTaMjQWZgUFkmzADkoNWZ6zc5fSbhN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node3_2024-08-16_07-32-15__670ff235-e044-45d7-9c98-8ecdc9d79b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.164.132
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['31349', '31350', '31351', '31352', '31353']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 31349:31349 -p 31350:31350 -p 31351:31351 -p 31352:31352 -p 31353:31353 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31351 --rest-port=31349 --tcp-port=31350 --discv5-udp-port=31352 --rest-address=0.0.0.0 --nat=extip:172.18.164.132 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cf3fe753d845c790e2d55a4cac42ea22ad4e0e8ac6048e3dd910b3fbc7d1f09c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31353 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QM1BZnCePxPtRzUL89UQ44Hz1TpIpEkj-DTaVg4SiJWGBVnYS9pf4l_2H6DFJA0f_8Na7hHUXGHe1CUGEdqNAS8BgmlkgnY0gmlwhKwScFOKbXVsdGlhZGRyc4wACgSsEnBTBtLz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL2GRpoXylWXs7-5FZ2DT-r56atDl7wNB-jyggvqd1u9YN0Y3CC0vKDdWRwgtL0hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.164.132 waku b1fc82e614a8573cc345a925b523d773157eff14924e01519b398585b92102dd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b1fc82e614a8. Setting up logs at ./log/docker/node3_2024-08-16_07-32-15__670ff235-e044-45d7-9c98-8ecdc9d79b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 31349
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31349/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31349/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.132/tcp/31350/p2p/16Uiu2HAm87hBx7ZeyRsho8Ytoovq9Uu9KFje1KFXtjFugkFfC8EB","/ip4/172.18.164.132/tcp/31351/ws/p2p/16Uiu2HAm87hBx7ZeyRsho8Ytoovq9Uu9KFje1KFXtjFugkFfC8EB"],"enrUri":"enr:-LO4QIBke64X7e0--X37384W1edWMIXx3IU1s86rqKuHq5e_CsdUlpmFT-GFBcI1-mq8eGnk_N_RdL0GXkRcYoDdxggBgmlkgnY0gmlwhKwSpISKbXVsdGlhZGRyc4wACgSsEqSEBnp33QOCcnOFAAMBAACJc2VjcDI1NmsxoQK8jNfbdifTNAd6Y34lPuQOu7d_VcyLjBYoY0kIabeEEIN0Y3CCenaDdWRwgnp4hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31349/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.83/tcp/54002/p2p/16Uiu2HAmBzLUWBRp8NhcD8WTaMjQWZgUFkmzADkoNWZ6zc5fSbhN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node4_2024-08-16_07-32-15__670ff235-e044-45d7-9c98-8ecdc9d79b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.228.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['4393', '4394', '4395', '4396', '4397']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 4393:4393 -p 4394:4394 -p 4395:4395 -p 4396:4396 -p 4397:4397 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4395 --rest-port=4393 --tcp-port=4394 --discv5-udp-port=4396 --rest-address=0.0.0.0 --nat=extip:172.18.228.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=91b9e4febb29bb4d90a3ccaf8372ad45b96e1a7c740eb04e2d0aadadeacfceaf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4397 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QM1BZnCePxPtRzUL89UQ44Hz1TpIpEkj-DTaVg4SiJWGBVnYS9pf4l_2H6DFJA0f_8Na7hHUXGHe1CUGEdqNAS8BgmlkgnY0gmlwhKwScFOKbXVsdGlhZGRyc4wACgSsEnBTBtLz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL2GRpoXylWXs7-5FZ2DT-r56atDl7wNB-jyggvqd1u9YN0Y3CC0vKDdWRwgtL0hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.228.189 waku 9ae58b7d332486376452eac27febe1fe2d23d95edea99015b3404c66a8f97fdf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9ae58b7d3324. Setting up logs at ./log/docker/node4_2024-08-16_07-32-15__670ff235-e044-45d7-9c98-8ecdc9d79b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 4393
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4393/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4393/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.189/tcp/4394/p2p/16Uiu2HAmGWMeaThmYX1nyrMTZtsSgtDBPcVeuroVgvLnmTNdtEeg","/ip4/172.18.228.189/tcp/4395/ws/p2p/16Uiu2HAmGWMeaThmYX1nyrMTZtsSgtDBPcVeuroVgvLnmTNdtEeg"],"enrUri":"enr:-LO4QC55akijci-zDY1XVJ1KdQrndSsbysznpVuxfszvcDXtQzniNHYZmmCFSSg3NCg9WqoPDUxBREarwRN1lmzVtM8BgmlkgnY0gmlwhKwS5L2KbXVsdGlhZGRyc4wACgSsEuS9BhEr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM5OJorWs_wyPn71O1eRl68Pocgv-9aSBG7ld9dkZqdNYN0Y3CCESqDdWRwghEshXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4393/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.83/tcp/54002/p2p/16Uiu2HAmBzLUWBRp8NhcD8WTaMjQWZgUFkmzADkoNWZ6zc5fSbhN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node5_2024-08-16_07-32-15__670ff235-e044-45d7-9c98-8ecdc9d79b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.73.196
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['47870', '47871', '47872', '47873', '47874']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 47870:47870 -p 47871:47871 -p 47872:47872 -p 47873:47873 -p 47874:47874 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47872 --rest-port=47870 --tcp-port=47871 --discv5-udp-port=47873 --rest-address=0.0.0.0 --nat=extip:172.18.73.196 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=53ee4146696bb19a61ecd15e1fde3f1facd8face5ba030fa84cefdeaebc6776e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47874 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QM1BZnCePxPtRzUL89UQ44Hz1TpIpEkj-DTaVg4SiJWGBVnYS9pf4l_2H6DFJA0f_8Na7hHUXGHe1CUGEdqNAS8BgmlkgnY0gmlwhKwScFOKbXVsdGlhZGRyc4wACgSsEnBTBtLz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL2GRpoXylWXs7-5FZ2DT-r56atDl7wNB-jyggvqd1u9YN0Y3CC0vKDdWRwgtL0hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.73.196 waku b8a339dd09b2064a99d18afa88c27f3d6956859369c7507c622f2e3937e43d92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b8a339dd09b2. Setting up logs at ./log/docker/node5_2024-08-16_07-32-15__670ff235-e044-45d7-9c98-8ecdc9d79b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 47870
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47870/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47870/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.196/tcp/47871/p2p/16Uiu2HAm5BCyWJ1dz5hpPHSfiy8WD2pTZiK6EHLsMRCjK1XCwhvQ","/ip4/172.18.73.196/tcp/47872/ws/p2p/16Uiu2HAm5BCyWJ1dz5hpPHSfiy8WD2pTZiK6EHLsMRCjK1XCwhvQ"],"enrUri":"enr:-LO4QNQnZ7_Q4PMLytBsWSirLCfLrD5Vh0cQzglJfrtKNRAlPwkkkCVas6_M9ppD0Ou2oXKMRUSp-ZynhHmjL6DUmEABgmlkgnY0gmlwhKwSScSKbXVsdGlhZGRyc4wACgSsEknEBrsA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKQ4DQNiYBW1g-2esyCnf3nHtAdYq-jeAyCkKMGKO47mYN0Y3CCuv-DdWRwgrsBhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47870/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.83/tcp/54002/p2p/16Uiu2HAmBzLUWBRp8NhcD8WTaMjQWZgUFkmzADkoNWZ6zc5fSbhN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54001/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25520/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31349/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4393/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723793544457994240,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723793544457994240,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31349/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723793544457994240,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4393/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723793544457994240,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723793544457994240,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723793544601323776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723793544601323776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31349/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723793544601323776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4393/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723793544601323776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723793544601323776,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 18ac74115b75
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id bc0a59e2aa95
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id b1fc82e614a8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 9ae58b7d3324
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id b8a339dd09b2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.