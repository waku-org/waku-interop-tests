[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store with id: 2024-10-07_04-12-56__8d515f44-b0dd-404d-8f62-a7bf4ca59982
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-07_04-12-56__8d515f44-b0dd-404d-8f62-a7bf4ca59982__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.161.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['4068', '4069', '4070', '4071', '4072']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 4068:4068 -p 4069:4069 -p 4070:4070 -p 4071:4071 -p 4072:4072 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4070 --rest-port=4068 --tcp-port=4069 --discv5-udp-port=4071 --rest-address=0.0.0.0 --nat=extip:172.18.161.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9ddc1056fed2bdf12a708fb3a4baf6e9ebf4f9ccc8c9fbfffdfdffc3cfc8edeb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4072 --metrics-logging=true --relay=true --store=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.161.169 waku e4fe9e96cd3e86e1a530833dc05c764513ee4cf0ef36c01e3c130620a1d0ebfc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e4fe9e96cd3e. Setting up logs at ./log/docker/node1_2024-10-07_04-12-56__8d515f44-b0dd-404d-8f62-a7bf4ca59982__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4068
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4068/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4068/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.169/tcp/4069/p2p/16Uiu2HAkz2R29cB4jK3JmUxUg5jnuxXghex1uUKeBwZz7g3Xj9rJ","/ip4/172.18.161.169/tcp/4070/ws/p2p/16Uiu2HAkz2R29cB4jK3JmUxUg5jnuxXghex1uUKeBwZz7g3Xj9rJ"],"enrUri":"enr:-LO4QGdqTGb37N27iTp5H_kUxq-UORtQup-0PWCRuUm24ll0Ob2PmdxsVLZtFW0aTVPAYVBtm0rDIjgRTQpNcBTeewEBgmlkgnY0gmlwhKwSoamKbXVsdGlhZGRyc4wACgSsEqGpBg_m3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJEVSlRCgP6g6H32r8yW5vdpoFhfII8Zn0pIeC2ThyVu4N0Y3CCD-WDdWRwgg_nhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-07_04-12-56__8d515f44-b0dd-404d-8f62-a7bf4ca59982__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.43.236
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['39094', '39095', '39096', '39097', '39098']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 39094:39094 -p 39095:39095 -p 39096:39096 -p 39097:39097 -p 39098:39098 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39096 --rest-port=39094 --tcp-port=39095 --discv5-udp-port=39097 --rest-address=0.0.0.0 --nat=extip:172.18.43.236 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f722db006bffffc949fb3ea76baafc8fed3aab9b70a4fdf290eedb13eaedfdfc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39098 --metrics-logging=true --relay=true --store=true --discv5-bootstrap-node=enr:-LO4QGdqTGb37N27iTp5H_kUxq-UORtQup-0PWCRuUm24ll0Ob2PmdxsVLZtFW0aTVPAYVBtm0rDIjgRTQpNcBTeewEBgmlkgnY0gmlwhKwSoamKbXVsdGlhZGRyc4wACgSsEqGpBg_m3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJEVSlRCgP6g6H32r8yW5vdpoFhfII8Zn0pIeC2ThyVu4N0Y3CCD-WDdWRwgg_nhXdha3UyAw --storenode=/ip4/172.18.161.169/tcp/4069/p2p/16Uiu2HAkz2R29cB4jK3JmUxUg5jnuxXghex1uUKeBwZz7g3Xj9rJ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.43.236 waku 1cbbbae3db1f4190ea4b774f9ac7dcbb7d596b3a2b793f8d29cbbe17c2127fbf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1cbbbae3db1f. Setting up logs at ./log/docker/node1_2024-10-07_04-12-56__8d515f44-b0dd-404d-8f62-a7bf4ca59982__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 39094
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39094/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39094/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.43.236/tcp/39095/p2p/16Uiu2HAm1if8Sw3oq7h76jPb6HHe9GAWrKHdCg5ZZUeGPH1W4fXG","/ip4/172.18.43.236/tcp/39096/ws/p2p/16Uiu2HAm1if8Sw3oq7h76jPb6HHe9GAWrKHdCg5ZZUeGPH1W4fXG"],"enrUri":"enr:-LO4QA-DpXvOZeUjX95ViwLRb8EAnIaiSvnoZVToBpz7PbRRBJFo6zEfJZT3-AEXpVp6SqWcV5DJicgw5a-s58so4eQBgmlkgnY0gmlwhKwSK-yKbXVsdGlhZGRyc4wACgSsEivsBpi43QOCcnOFAAMBAACJc2VjcDI1NmsxoQJdgAiIAu3oTDBa5_UUWA__ACxgb8TZYUB2PS3c4yure4N0Y3CCmLeDdWRwgpi5hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4068/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39094/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39094/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39094/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39094/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"kap3ipBi/0DnvVpI5X1H1rv3w/c7+8vkXqUkUv9gaLQ="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e4fe9e96cd3e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1cbbbae3db1f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.