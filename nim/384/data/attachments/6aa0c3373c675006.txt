[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_sort_ascending[false] with id: 2024-10-07_04-36-47__6d650de7-7262-486d-8354-e7cbf36ea2d3
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-07_04-36-47__6d650de7-7262-486d-8354-e7cbf36ea2d3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.15.75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['34188', '34189', '34190', '34191', '34192']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 34188:34188 -p 34189:34189 -p 34190:34190 -p 34191:34191 -p 34192:34192 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34190 --rest-port=34188 --tcp-port=34189 --discv5-udp-port=34191 --rest-address=0.0.0.0 --nat=extip:172.18.15.75 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4ea3e42f7a9f5f3abd60f2a7c66c7bb9bfb3f4b1b44e6fc3bf2c1ddad25cd9eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34192 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.228.84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38763', '38764', '38765', '38766', '38767']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38763:38763 -p 38764:38764 -p 38765:38765 -p 38766:38766 -p 38767:38767 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38765 --rest-port=38763 --tcp-port=38764 --discv5-udp-port=38766 --rest-address=0.0.0.0 --nat=extip:172.18.228.84 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dde69d71f83edcf80006ce44dbd7a6abdc345c4755fba3e428bf44abce1805a4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38767 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.228.84 waku 3197cb0385d830fcee5fbaad21aa4dbb14f97dcb929b42350fdd57f394bf4dca
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3197cb0385d8. Setting up logs at ./log/docker/publishing_node1_2024-10-07_04-36-47__6d650de7-7262-486d-8354-e7cbf36ea2d3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38763
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38763/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38763/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.84/tcp/38764/p2p/16Uiu2HAmCnUUxBkmFrWE9J59Pb1Ru6FenVcoSssTaSdV93e9rQ58","/ip4/172.18.228.84/tcp/38765/ws/p2p/16Uiu2HAmCnUUxBkmFrWE9J59Pb1Ru6FenVcoSssTaSdV93e9rQ58"],"enrUri":"enr:-LO4QCkNn70UG_qGggFhm6e2vg7MX09PgBBguKSY5EBGeL-naDcsB5FAZyLf6FvzvhGRpGHvMwxS5bKEyQcCpIgS59MBgmlkgnY0gmlwhKwS5FSKbXVsdGlhZGRyc4wACgSsEuRUBpdt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMB6t_vHXuu-N9dSYP1FFYEkj2i8jnK3X3ONd-ZbWap84N0Y3CCl2yDdWRwgpduhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-07_04-36-47__6d650de7-7262-486d-8354-e7cbf36ea2d3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.248.218
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['13157', '13158', '13159', '13160', '13161']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 13157:13157 -p 13158:13158 -p 13159:13159 -p 13160:13160 -p 13161:13161 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13159 --rest-port=13157 --tcp-port=13158 --discv5-udp-port=13160 --rest-address=0.0.0.0 --nat=extip:172.18.248.218 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aea6bcbd03f9aabec1ce89dd97bab0ae865cee6f0ef735bb415bbc0de7fda02f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13161 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QCkNn70UG_qGggFhm6e2vg7MX09PgBBguKSY5EBGeL-naDcsB5FAZyLf6FvzvhGRpGHvMwxS5bKEyQcCpIgS59MBgmlkgnY0gmlwhKwS5FSKbXVsdGlhZGRyc4wACgSsEuRUBpdt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMB6t_vHXuu-N9dSYP1FFYEkj2i8jnK3X3ONd-ZbWap84N0Y3CCl2yDdWRwgpduhXdha3UyAw --storenode=/ip4/172.18.228.84/tcp/38764/p2p/16Uiu2HAmCnUUxBkmFrWE9J59Pb1Ru6FenVcoSssTaSdV93e9rQ58 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.248.218 waku ce4e1b09a05b15419b3152f78a7a01629047b96cc06a007eca027345feda114d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ce4e1b09a05b. Setting up logs at ./log/docker/store_node1_2024-10-07_04-36-47__6d650de7-7262-486d-8354-e7cbf36ea2d3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 13157
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13157/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13157/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.248.218/tcp/13158/p2p/16Uiu2HAmJHszYyVrHpqF3uv6Mn7RMJQyDWS79g1EaYJFBWxDfTme","/ip4/172.18.248.218/tcp/13159/ws/p2p/16Uiu2HAmJHszYyVrHpqF3uv6Mn7RMJQyDWS79g1EaYJFBWxDfTme"],"enrUri":"enr:-LO4QFFzono-pZVCg3h6E3rx90blnaQkf0ww7JkK7xKzVPukQ_L9h3XVfFKKsF7Y5ooS84tHDJHUHsGmY2Cl-WXK5swBgmlkgnY0gmlwhKwS-NqKbXVsdGlhZGRyc4wACgSsEvjaBjNn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNTvbxuw7qHOubl7fvve-A8BXXf6qJSMvPEBJlFeoGeFYN0Y3CCM2aDdWRwgjNohXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13157/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.228.84/tcp/38764/p2p/16Uiu2HAmCnUUxBkmFrWE9J59Pb1Ru6FenVcoSssTaSdV93e9rQ58"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38763/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13157/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38763/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"K+UlhlUvXz2x1AkVEFVQv72TY2vsKbsDdxk0gZGsOnI="},{"messageHash":"kdzduI2jR22ASnubta568MTIHUlQGWoXK+5vQXlI1Y0="},{"messageHash":"8WXUWjVSDxBapXzo7kj9FXNlTWqt+Dpn3zAi7lpvefo="},{"messageHash":"nPNpwLBZzr90L8B0sP5iMmEYNJWdhZlSsCTH6hQFbtQ="},{"messageHash":"7hRlRfOF3Dlazc9AZz5Met3fodgEkFb2+YoQUJbJm8k="}],"paginationCursor":"K+UlhlUvXz2x1AkVEFVQv72TY2vsKbsDdxk0gZGsOnI="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13157/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"K+UlhlUvXz2x1AkVEFVQv72TY2vsKbsDdxk0gZGsOnI="},{"messageHash":"kdzduI2jR22ASnubta568MTIHUlQGWoXK+5vQXlI1Y0="},{"messageHash":"8WXUWjVSDxBapXzo7kj9FXNlTWqt+Dpn3zAi7lpvefo="},{"messageHash":"nPNpwLBZzr90L8B0sP5iMmEYNJWdhZlSsCTH6hQFbtQ="},{"messageHash":"7hRlRfOF3Dlazc9AZz5Met3fodgEkFb2+YoQUJbJm8k="}],"paginationCursor":"K+UlhlUvXz2x1AkVEFVQv72TY2vsKbsDdxk0gZGsOnI="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3197cb0385d8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ce4e1b09a05b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.