[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_request_id with id: 2024-10-07_04-17-49__4ae1e135-49f5-41f7-b869-e3a6446a8768
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-07_04-17-49__4ae1e135-49f5-41f7-b869-e3a6446a8768__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.120.224
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['14572', '14573', '14574', '14575', '14576']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 14572:14572 -p 14573:14573 -p 14574:14574 -p 14575:14575 -p 14576:14576 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14574 --rest-port=14572 --tcp-port=14573 --discv5-udp-port=14575 --rest-address=0.0.0.0 --nat=extip:172.18.120.224 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f92dff91a0168ade81c34a799e1891b4d37e5ce32b2ebea2b47b40e6dd1dcc36 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14576 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.120.224 waku ab0227d0ec23574fa76c75bbd6347ff46f284c2ce1ffc5fee8584e87108d76f6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ab0227d0ec23. Setting up logs at ./log/docker/node1_2024-10-07_04-17-49__4ae1e135-49f5-41f7-b869-e3a6446a8768__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 14572
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14572/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14572/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.120.224/tcp/14573/p2p/16Uiu2HAmPDxF8zvWiKYG59Y2abkrRFbLQgpmKUy3tGKKHu2mAiyf","/ip4/172.18.120.224/tcp/14574/ws/p2p/16Uiu2HAmPDxF8zvWiKYG59Y2abkrRFbLQgpmKUy3tGKKHu2mAiyf"],"enrUri":"enr:-LO4QGNFXdtycSiTas5XVOsBlKRiWj8_a1jbcZQjIjQrGi7hRpe4cojB7x0RS9sBZrF2D4r1lZoYWXEg2TzQRG9fyC4BgmlkgnY0gmlwhKwSeOCKbXVsdGlhZGRyc4wACgSsEnjgBjju3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOdBqeWeMtsVfZM_ltJyVyNaLNvgTrCZns_LR9SbZCuYoN0Y3CCOO2DdWRwgjjvhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-07_04-17-49__4ae1e135-49f5-41f7-b869-e3a6446a8768__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.6.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['52683', '52684', '52685', '52686', '52687']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 52683:52683 -p 52684:52684 -p 52685:52685 -p 52686:52686 -p 52687:52687 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52685 --rest-port=52683 --tcp-port=52684 --discv5-udp-port=52686 --rest-address=0.0.0.0 --nat=extip:172.18.6.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbfe1ca0ed5ed63e711d6cc3cef726238f925cfc9c6e2af08c32c70ee1d8f9de --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52687 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGNFXdtycSiTas5XVOsBlKRiWj8_a1jbcZQjIjQrGi7hRpe4cojB7x0RS9sBZrF2D4r1lZoYWXEg2TzQRG9fyC4BgmlkgnY0gmlwhKwSeOCKbXVsdGlhZGRyc4wACgSsEnjgBjju3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOdBqeWeMtsVfZM_ltJyVyNaLNvgTrCZns_LR9SbZCuYoN0Y3CCOO2DdWRwgjjvhXdha3UyBQ --filternode=/ip4/172.18.120.224/tcp/14573/p2p/16Uiu2HAmPDxF8zvWiKYG59Y2abkrRFbLQgpmKUy3tGKKHu2mAiyf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.6.124 waku dc4fdc4d2c50ff6246c51659d66149349e408eee553fc0f27658eb44dff2d041
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID dc4fdc4d2c50. Setting up logs at ./log/docker/node2_2024-10-07_04-17-49__4ae1e135-49f5-41f7-b869-e3a6446a8768__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 52683
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52683/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52683/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.6.124/tcp/52684/p2p/16Uiu2HAm3WJcrEvwQrmKKgUX6jY4eC29FC7GNtyPDJbyFTAX7uP4","/ip4/172.18.6.124/tcp/52685/ws/p2p/16Uiu2HAm3WJcrEvwQrmKKgUX6jY4eC29FC7GNtyPDJbyFTAX7uP4"],"enrUri":"enr:-LO4QI40Ji4MAf03Wr7gIK5yoRxOIqphBmFMapV1oSa77wjxZ1BfLveiJl2lBFpiwBwVB9Pr76UwHDxUIQ5nGf8zxJgBgmlkgnY0gmlwhKwSBnyKbXVsdGlhZGRyc4wACgSsEgZ8Bs3N3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ4DT8TEhkqod8tmonznmhlJgsbIo7VQPQqdhO7TpK9P4N0Y3CCzcyDdWRwgs3OhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52683/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.120.224/tcp/14573/p2p/16Uiu2HAmPDxF8zvWiKYG59Y2abkrRFbLQgpmKUy3tGKKHu2mAiyf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14572/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52683/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a70be615-d9cd-453a-b744-496ca0a210b8", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a70be615-d9cd-453a-b744-496ca0a210b8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:52683/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:52683/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ab0227d0ec23
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dc4fdc4d2c50
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.