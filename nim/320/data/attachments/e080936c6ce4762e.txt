[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-08-16_08-03-44__7897a29f-6c3d-4060-a73f-efde806971a8
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-16_08-03-44__7897a29f-6c3d-4060-a73f-efde806971a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.29.251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['46458', '46459', '46460', '46461', '46462']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 46458:46458 -p 46459:46459 -p 46460:46460 -p 46461:46461 -p 46462:46462 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46460 --rest-port=46458 --tcp-port=46459 --discv5-udp-port=46461 --rest-address=0.0.0.0 --nat=extip:172.18.29.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=42fe4cbc3bd9a3d14dcbf04d21dbbf6ccf799f2a66fb3e5f1444a41aec8aea0e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46462 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.29.251 waku bed2baed9e327b16709c492cfbba2ad01eb7b7dd70b2620fd1445ad200eaf37e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID bed2baed9e32. Setting up logs at ./log/docker/node1_2024-08-16_08-03-44__7897a29f-6c3d-4060-a73f-efde806971a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 46458
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46458/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46458/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.29.251/tcp/46459/p2p/16Uiu2HAmM5AALiGX9aFD1SwkbBFeWHie24E314SE5zuLns5oELrv","/ip4/172.18.29.251/tcp/46460/ws/p2p/16Uiu2HAmM5AALiGX9aFD1SwkbBFeWHie24E314SE5zuLns5oELrv"],"enrUri":"enr:-LO4QNNQHlWhdbDbZ9yeZd1LoBc4f9E_Jf8qwnzdISEkqgNiEll1H8IrQSDpn3M_KNE0H3I6WZfwK4QsxnVox9iPWKgBgmlkgnY0gmlwhKwSHfuKbXVsdGlhZGRyc4wACgSsEh37BrV83QOCcnOFAAMBAACJc2VjcDI1NmsxoQN9DodF8ze1f92GTmVYRnD5Utj9GPxZ1MatFSCDnWMoY4N0Y3CCtXuDdWRwgrV9hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-16_08-03-44__7897a29f-6c3d-4060-a73f-efde806971a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.45.118
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['34131', '34132', '34133', '34134', '34135']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 34131:34131 -p 34132:34132 -p 34133:34133 -p 34134:34134 -p 34135:34135 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34133 --rest-port=34131 --tcp-port=34132 --discv5-udp-port=34134 --rest-address=0.0.0.0 --nat=extip:172.18.45.118 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9dd04aa8c1fd4558225fdbeddca7ffa5f9550cf6872d2af3d81dafb1ea8a4039 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34135 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QNNQHlWhdbDbZ9yeZd1LoBc4f9E_Jf8qwnzdISEkqgNiEll1H8IrQSDpn3M_KNE0H3I6WZfwK4QsxnVox9iPWKgBgmlkgnY0gmlwhKwSHfuKbXVsdGlhZGRyc4wACgSsEh37BrV83QOCcnOFAAMBAACJc2VjcDI1NmsxoQN9DodF8ze1f92GTmVYRnD5Utj9GPxZ1MatFSCDnWMoY4N0Y3CCtXuDdWRwgrV9hXdha3UyBQ --filternode=/ip4/172.18.29.251/tcp/46459/p2p/16Uiu2HAmM5AALiGX9aFD1SwkbBFeWHie24E314SE5zuLns5oELrv
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.45.118 waku f49169f2aa7c222c1c95af4dd99bae70a6970761e046ae572b28665e022bb276
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID f49169f2aa7c. Setting up logs at ./log/docker/node2_2024-08-16_08-03-44__7897a29f-6c3d-4060-a73f-efde806971a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 34131
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34131/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34131/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.45.118/tcp/34132/p2p/16Uiu2HAkvbxAkdgCBvC93mU26QrT6CUvMw6eKoMvVJKrgpXaUXp1","/ip4/172.18.45.118/tcp/34133/ws/p2p/16Uiu2HAkvbxAkdgCBvC93mU26QrT6CUvMw6eKoMvVJKrgpXaUXp1"],"enrUri":"enr:-LO4QAM4HsW1GdnDLPIyi4euJHO3aSOfY88dpcllSRvzE8-RYxtcRGcbxGCo0QBTU3WUDIXs6Kp9Dm1KoGwzzje7UBgBgmlkgnY0gmlwhKwSLXaKbXVsdGlhZGRyc4wACgSsEi12BoVV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIRfczIQIZwbPr4JzkaVT_f276rq8GrnE04bvK_1uWHJoN0Y3CChVSDdWRwgoVWhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34131/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.29.251/tcp/46459/p2p/16Uiu2HAmM5AALiGX9aFD1SwkbBFeWHie24E314SE5zuLns5oELrv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node3_2024-08-16_08-03-44__7897a29f-6c3d-4060-a73f-efde806971a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.126.238
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['2063', '2064', '2065', '2066', '2067']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 2063:2063 -p 2064:2064 -p 2065:2065 -p 2066:2066 -p 2067:2067 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2065 --rest-port=2063 --tcp-port=2064 --discv5-udp-port=2066 --rest-address=0.0.0.0 --nat=extip:172.18.126.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fffb4fd2692bc7dea2dd0ac5f0b908cee75e4a6379dc0c14bf5dccf9ab58725d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2067 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QNNQHlWhdbDbZ9yeZd1LoBc4f9E_Jf8qwnzdISEkqgNiEll1H8IrQSDpn3M_KNE0H3I6WZfwK4QsxnVox9iPWKgBgmlkgnY0gmlwhKwSHfuKbXVsdGlhZGRyc4wACgSsEh37BrV83QOCcnOFAAMBAACJc2VjcDI1NmsxoQN9DodF8ze1f92GTmVYRnD5Utj9GPxZ1MatFSCDnWMoY4N0Y3CCtXuDdWRwgrV9hXdha3UyBQ --filternode=/ip4/172.18.29.251/tcp/46459/p2p/16Uiu2HAmM5AALiGX9aFD1SwkbBFeWHie24E314SE5zuLns5oELrv
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.126.238 waku 2a0c6df762c992fb643a522e67888ae0f6d593eab507d12dda22fd3208edd3a4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 2a0c6df762c9. Setting up logs at ./log/docker/node3_2024-08-16_08-03-44__7897a29f-6c3d-4060-a73f-efde806971a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 2063
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2063/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2063/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.238/tcp/2064/p2p/16Uiu2HAmKTS1aDUW7SgySfwSyNXupGSvA6gELCwmbje1pJ35TzZy","/ip4/172.18.126.238/tcp/2065/ws/p2p/16Uiu2HAmKTS1aDUW7SgySfwSyNXupGSvA6gELCwmbje1pJ35TzZy"],"enrUri":"enr:-LO4QAN0slqCkB1AdybuiZGlMLn82pAc-vTo-irSvYZXCLLCL_ePKYajdacQ7TDtNpzBwK48E9-bbDrjCw6M6wODZuQBgmlkgnY0gmlwhKwSfu6KbXVsdGlhZGRyc4wACgSsEn7uBggR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNlC9pKlMiiISKVzEIZ0PPmDLZq3M2EjQW2VjnSxXDtzIN0Y3CCCBCDdWRwgggShXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2063/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.29.251/tcp/46459/p2p/16Uiu2HAmM5AALiGX9aFD1SwkbBFeWHie24E314SE5zuLns5oELrv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node4_2024-08-16_08-03-44__7897a29f-6c3d-4060-a73f-efde806971a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.230.72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['23268', '23269', '23270', '23271', '23272']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 23268:23268 -p 23269:23269 -p 23270:23270 -p 23271:23271 -p 23272:23272 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23270 --rest-port=23268 --tcp-port=23269 --discv5-udp-port=23271 --rest-address=0.0.0.0 --nat=extip:172.18.230.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a85ee81c6fd7240bed1ad550820f7d75ff21debae7952bdf04dbb5d37d9e5bff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23272 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QNNQHlWhdbDbZ9yeZd1LoBc4f9E_Jf8qwnzdISEkqgNiEll1H8IrQSDpn3M_KNE0H3I6WZfwK4QsxnVox9iPWKgBgmlkgnY0gmlwhKwSHfuKbXVsdGlhZGRyc4wACgSsEh37BrV83QOCcnOFAAMBAACJc2VjcDI1NmsxoQN9DodF8ze1f92GTmVYRnD5Utj9GPxZ1MatFSCDnWMoY4N0Y3CCtXuDdWRwgrV9hXdha3UyBQ --filternode=/ip4/172.18.29.251/tcp/46459/p2p/16Uiu2HAmM5AALiGX9aFD1SwkbBFeWHie24E314SE5zuLns5oELrv
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.230.72 waku 8d66e78bc6ebb551d266813a25b0cacfccd5acf32b33a6da0503f7ee78b32c35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8d66e78bc6eb. Setting up logs at ./log/docker/node4_2024-08-16_08-03-44__7897a29f-6c3d-4060-a73f-efde806971a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 23268
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23268/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23268/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.72/tcp/23269/p2p/16Uiu2HAmRPnf1FbiXUSJxG9X68DFrMa1jQqNniYj11Wm5cMwK1S9","/ip4/172.18.230.72/tcp/23270/ws/p2p/16Uiu2HAmRPnf1FbiXUSJxG9X68DFrMa1jQqNniYj11Wm5cMwK1S9"],"enrUri":"enr:-LO4QDj5Pa-1uiHFRTiSC79w9-gjInqtp4XRvqEaGBIeZz-paQjDczJRjKGPRp6khrlamYtnnFeXn9JR5ke8HJ0EBPMBgmlkgnY0gmlwhKwS5kiKbXVsdGlhZGRyc4wACgSsEuZIBlrm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO9Qv6skJFD5glGcpFSP1gpCp5MdxtFe2IibXM0-rZxIoN0Y3CCWuWDdWRwglrnhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23268/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.29.251/tcp/46459/p2p/16Uiu2HAmM5AALiGX9aFD1SwkbBFeWHie24E314SE5zuLns5oELrv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node5_2024-08-16_08-03-44__7897a29f-6c3d-4060-a73f-efde806971a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.185.228
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['57469', '57470', '57471', '57472', '57473']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 57469:57469 -p 57470:57470 -p 57471:57471 -p 57472:57472 -p 57473:57473 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57471 --rest-port=57469 --tcp-port=57470 --discv5-udp-port=57472 --rest-address=0.0.0.0 --nat=extip:172.18.185.228 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=efc96aeac2fef9e9fc980aeee0c76765ac6a7f1a4d529fa23a1d3acc6fcbafa3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57473 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QNNQHlWhdbDbZ9yeZd1LoBc4f9E_Jf8qwnzdISEkqgNiEll1H8IrQSDpn3M_KNE0H3I6WZfwK4QsxnVox9iPWKgBgmlkgnY0gmlwhKwSHfuKbXVsdGlhZGRyc4wACgSsEh37BrV83QOCcnOFAAMBAACJc2VjcDI1NmsxoQN9DodF8ze1f92GTmVYRnD5Utj9GPxZ1MatFSCDnWMoY4N0Y3CCtXuDdWRwgrV9hXdha3UyBQ --filternode=/ip4/172.18.29.251/tcp/46459/p2p/16Uiu2HAmM5AALiGX9aFD1SwkbBFeWHie24E314SE5zuLns5oELrv
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.185.228 waku ed5ef634941c874d3ceddeabd201cb7f913a05321e7e41a59678f6ae55dd0131
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID ed5ef634941c. Setting up logs at ./log/docker/node5_2024-08-16_08-03-44__7897a29f-6c3d-4060-a73f-efde806971a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 57469
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57469/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57469/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.185.228/tcp/57470/p2p/16Uiu2HAmHsxRnQsDSeAFphn7vQMt8FWYfd4Rk8d5xEYFZMAGYJoR","/ip4/172.18.185.228/tcp/57471/ws/p2p/16Uiu2HAmHsxRnQsDSeAFphn7vQMt8FWYfd4Rk8d5xEYFZMAGYJoR"],"enrUri":"enr:-LO4QCjjhAzR0Sg8xq1nd3SeYrbyP0qVOZXGuDTbGmnOzK7VXrKtR4yOHzBYtWECJPoZXKm30qrmRXLOkmumzq9AkKsBgmlkgnY0gmlwhKwSueSKbXVsdGlhZGRyc4wACgSsErnkBuB_3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNNnM-0q3eP0yVROhiDAbPDUhXM3K11agejSlA-61kIUIN0Y3CC4H6DdWRwguCAhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57469/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.29.251/tcp/46459/p2p/16Uiu2HAmM5AALiGX9aFD1SwkbBFeWHie24E314SE5zuLns5oELrv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46458/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34131/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "511be227-5a90-4fb9-b891-4b004f2b6974", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"511be227-5a90-4fb9-b891-4b004f2b6974","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2063/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "15713c61-446e-4a51-b6f2-18a6176c3c52", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"15713c61-446e-4a51-b6f2-18a6176c3c52","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23268/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "85e73828-e07a-4067-adc6-067548d4b303", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"85e73828-e07a-4067-adc6-067548d4b303","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57469/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fa30efc0-53dd-4b4e-b8a3-bd1ef8cc4624", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fa30efc0-53dd-4b4e-b8a3-bd1ef8cc4624","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46458/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34131/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1723795432234610432,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46458/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2063/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:2063/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id bed2baed9e32
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id f49169f2aa7c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 2a0c6df762c9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 8d66e78bc6eb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id ed5ef634941c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.