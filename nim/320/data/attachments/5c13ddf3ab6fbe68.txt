[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_unsubscribe_from_non_existing_pubsub_topic with id: 2024-08-16_08-13-04__f01f14d1-13b2-44a1-9ec9-c840903abd62
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-16_08-13-04__f01f14d1-13b2-44a1-9ec9-c840903abd62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.34.220
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['20255', '20256', '20257', '20258', '20259']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 20255:20255 -p 20256:20256 -p 20257:20257 -p 20258:20258 -p 20259:20259 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20257 --rest-port=20255 --tcp-port=20256 --discv5-udp-port=20258 --rest-address=0.0.0.0 --nat=extip:172.18.34.220 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bf6dc75c3f0649801867f6a2ec0cadd3cd3e3952937fdeea986b32dde98a8233 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20259 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.34.220 waku 652e799f345064494ab2506eebeaee3705e2b5c02d6607e6ff77cf5731d85eaf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 652e799f3450. Setting up logs at ./log/docker/node1_2024-08-16_08-13-04__f01f14d1-13b2-44a1-9ec9-c840903abd62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 20255
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20255/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20255/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.34.220/tcp/20256/p2p/16Uiu2HAkyaSi8Dgk24iPXo8TGVdXPnmVFfSnZfYZY3JjtXmA9Viu","/ip4/172.18.34.220/tcp/20257/ws/p2p/16Uiu2HAkyaSi8Dgk24iPXo8TGVdXPnmVFfSnZfYZY3JjtXmA9Viu"],"enrUri":"enr:-LO4QC9HkFbXRV7pztI-y6YAKjfgexSi2zhs9pPHNu2_lLsxKrdXNAbpwsR2i6fN91dm94figOI3uU8GM3Qdv6Z18T0BgmlkgnY0gmlwhKwSItyKbXVsdGlhZGRyc4wACgSsEiLcBk8h3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI9rfhrdBdwmA1oDjc01diZJvUV3Z-W__ZzRYHXkd-OvoN0Y3CCTyCDdWRwgk8ihXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-16_08-13-04__f01f14d1-13b2-44a1-9ec9-c840903abd62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.193.177
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['39875', '39876', '39877', '39878', '39879']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 39875:39875 -p 39876:39876 -p 39877:39877 -p 39878:39878 -p 39879:39879 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39877 --rest-port=39875 --tcp-port=39876 --discv5-udp-port=39878 --rest-address=0.0.0.0 --nat=extip:172.18.193.177 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=00a06dc854fb4ab2652aabffccd1fddbbadebe5851bbccbca2dd3eba44d9bee6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39879 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QC9HkFbXRV7pztI-y6YAKjfgexSi2zhs9pPHNu2_lLsxKrdXNAbpwsR2i6fN91dm94figOI3uU8GM3Qdv6Z18T0BgmlkgnY0gmlwhKwSItyKbXVsdGlhZGRyc4wACgSsEiLcBk8h3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI9rfhrdBdwmA1oDjc01diZJvUV3Z-W__ZzRYHXkd-OvoN0Y3CCTyCDdWRwgk8ihXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.193.177 waku 607bd4c776b8ff58b42ea39a3696a2c035bcc74e4df5862e7e7946e3e96aa20e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 607bd4c776b8. Setting up logs at ./log/docker/node2_2024-08-16_08-13-04__f01f14d1-13b2-44a1-9ec9-c840903abd62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 39875
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39875/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39875/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.177/tcp/39876/p2p/16Uiu2HAmGRCFKk582pHqKnXvAp22s3HSWoqvvL2YeFk1RQz6nUmf","/ip4/172.18.193.177/tcp/39877/ws/p2p/16Uiu2HAmGRCFKk582pHqKnXvAp22s3HSWoqvvL2YeFk1RQz6nUmf"],"enrUri":"enr:-LO4QND1n71m2pbM1S0Ri8dG68WyqM7Ye_MCbC1sEQV5KAeiCH-E82fh2wp9esVt0WGNGxw3cwnZNfSPJgy5OMEcCLQBgmlkgnY0gmlwhKwSwbGKbXVsdGlhZGRyc4wACgSsEsGxBpvF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM35hGKUbU8xrFeb2hMGZ4YxP7h4uAQTON4kxn2lLwxooN0Y3CCm8SDdWRwgpvGhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39875/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.34.220/tcp/20256/p2p/16Uiu2HAkyaSi8Dgk24iPXo8TGVdXPnmVFfSnZfYZY3JjtXmA9Viu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20255/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39875/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20255/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20255/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723795987588465664,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39875/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723795987588465664,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:20255/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1000"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:39875/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1000"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20255/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20255/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723795987708001280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39875/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1723795987708001280,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 652e799f3450
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 607bd4c776b8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.