[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2024-08-16_08-06-44__cac39a58-5fcb-4dee-b0f2-21037bf7f942
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-16_08-06-44__cac39a58-5fcb-4dee-b0f2-21037bf7f942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.188.113
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['34140', '34141', '34142', '34143', '34144']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 34140:34140 -p 34141:34141 -p 34142:34142 -p 34143:34143 -p 34144:34144 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34142 --rest-port=34140 --tcp-port=34141 --discv5-udp-port=34143 --rest-address=0.0.0.0 --nat=extip:172.18.188.113 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d4afee026e7f6cc0fcf43aac0fe401a9793f49f11ccdedc82a8b2cedbd66d6ff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34144 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.188.113 waku 6321aa57852ebd6d6262493f5c62672a73142790cdc5371dede920e9ad7ba5ca
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6321aa57852e. Setting up logs at ./log/docker/node1_2024-08-16_08-06-44__cac39a58-5fcb-4dee-b0f2-21037bf7f942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 34140
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34140/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34140/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.188.113/tcp/34141/p2p/16Uiu2HAmAX9gDTHUyNhe4Qm4DxfqWx4RcVEsT67gK4FRfqYRkd4x","/ip4/172.18.188.113/tcp/34142/ws/p2p/16Uiu2HAmAX9gDTHUyNhe4Qm4DxfqWx4RcVEsT67gK4FRfqYRkd4x"],"enrUri":"enr:-LO4QLH16rAkRFGPqjqLcWFDcusJukV5Tijrv2EbzCM2Ox8uejfGdpJ9mH1VrPIq3aiCuyZdcqMBMRoK2VN2OvHihzABgmlkgnY0gmlwhKwSvHGKbXVsdGlhZGRyc4wACgSsErxxBoVe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLgRoZj0W2j-Zjs-DBSeAd7YBNjhELasyxWc0oxAXUBjYN0Y3CChV2DdWRwgoVfhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-16_08-06-44__cac39a58-5fcb-4dee-b0f2-21037bf7f942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.26.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['63402', '63403', '63404', '63405', '63406']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 63402:63402 -p 63403:63403 -p 63404:63404 -p 63405:63405 -p 63406:63406 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63404 --rest-port=63402 --tcp-port=63403 --discv5-udp-port=63405 --rest-address=0.0.0.0 --nat=extip:172.18.26.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=27fbfbaaaebe9acccfb419cdecfc3fabb72ad9b7fe8bbdaedfda8faf4aeeabe1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63406 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QLH16rAkRFGPqjqLcWFDcusJukV5Tijrv2EbzCM2Ox8uejfGdpJ9mH1VrPIq3aiCuyZdcqMBMRoK2VN2OvHihzABgmlkgnY0gmlwhKwSvHGKbXVsdGlhZGRyc4wACgSsErxxBoVe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLgRoZj0W2j-Zjs-DBSeAd7YBNjhELasyxWc0oxAXUBjYN0Y3CChV2DdWRwgoVfhXdha3UyBQ --filternode=/ip4/172.18.188.113/tcp/34141/p2p/16Uiu2HAmAX9gDTHUyNhe4Qm4DxfqWx4RcVEsT67gK4FRfqYRkd4x
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.26.161 waku 0694a03adcb57ac0762b03840b1116c78475d90e041c6001702719aedf8b32ce
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0694a03adcb5. Setting up logs at ./log/docker/node2_2024-08-16_08-06-44__cac39a58-5fcb-4dee-b0f2-21037bf7f942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 63402
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63402/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63402/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.26.161/tcp/63403/p2p/16Uiu2HAkvDWcgQxB6GXS4ajKGkQv5WvTM6kAcxqrA3JE226c3rWy","/ip4/172.18.26.161/tcp/63404/ws/p2p/16Uiu2HAkvDWcgQxB6GXS4ajKGkQv5WvTM6kAcxqrA3JE226c3rWy"],"enrUri":"enr:-LO4QAMolR8-FUcohga8W9WBoJvTpOF153PdYKxw2jio6_GMa9s6ZjMoVNX4Pm-EW_JPPMzA31H9-LWfCwt76BtYpCIBgmlkgnY0gmlwhKwSGqGKbXVsdGlhZGRyc4wACgSsEhqhBves3QOCcnOFAAMBAACJc2VjcDI1NmsxoQILviEY5Z8DDF4mooBmCbC-4Ld5iTEXFAVgcbK2nWtMDoN0Y3CC96uDdWRwgvethXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63402/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.188.113/tcp/34141/p2p/16Uiu2HAmAX9gDTHUyNhe4Qm4DxfqWx4RcVEsT67gK4FRfqYRkd4x"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34140/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63402/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "998df2be-5536-4165-8b58-40053aa792f3", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"998df2be-5536-4165-8b58-40053aa792f3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:63402/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63402/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 6321aa57852e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 0694a03adcb5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.