[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_invalid_request_id with id: 2024-08-16_08-06-27__5cbe877e-1330-484c-a680-adc015f35a2f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-16_08-06-27__5cbe877e-1330-484c-a680-adc015f35a2f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.35.100
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['34259', '34260', '34261', '34262', '34263']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 34259:34259 -p 34260:34260 -p 34261:34261 -p 34262:34262 -p 34263:34263 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34261 --rest-port=34259 --tcp-port=34260 --discv5-udp-port=34262 --rest-address=0.0.0.0 --nat=extip:172.18.35.100 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b9daa5b8adadcbf6ff9ae8ac04afa51eab086b72b5faa1ae1bfad533b8cb9c1a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34263 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.35.100 waku be06f0c3e147401dd6af1671c30487ac77ee562c198293592fa6b93fbf50ba8b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID be06f0c3e147. Setting up logs at ./log/docker/node1_2024-08-16_08-06-27__5cbe877e-1330-484c-a680-adc015f35a2f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 34259
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34259/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34259/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.100/tcp/34260/p2p/16Uiu2HAm6jQoVYVLssBJ2g96bCEVXAp3SLLghhXA3XCUviV7T8iQ","/ip4/172.18.35.100/tcp/34261/ws/p2p/16Uiu2HAm6jQoVYVLssBJ2g96bCEVXAp3SLLghhXA3XCUviV7T8iQ"],"enrUri":"enr:-LO4QCeULQC1eweRlnQJsueHZ6MjjVXS8ZMusc7g68E0iIF0QDL72252W9JYzxe4Bv35YKtQJLNT1qOxYac6hiRbbgsBgmlkgnY0gmlwhKwSI2SKbXVsdGlhZGRyc4wACgSsEiNkBoXV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKn-9lxpyCOMhGLtzikoWExXonoLlU0TxRopG-szyY3DYN0Y3CChdSDdWRwgoXWhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-16_08-06-27__5cbe877e-1330-484c-a680-adc015f35a2f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.183.250
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['62683', '62684', '62685', '62686', '62687']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 62683:62683 -p 62684:62684 -p 62685:62685 -p 62686:62686 -p 62687:62687 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62685 --rest-port=62683 --tcp-port=62684 --discv5-udp-port=62686 --rest-address=0.0.0.0 --nat=extip:172.18.183.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c400dca53ace7c2ebfbd48c6ee7bbaddab30bd6effac3be9fc802bcc5aa4cdf6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62687 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCeULQC1eweRlnQJsueHZ6MjjVXS8ZMusc7g68E0iIF0QDL72252W9JYzxe4Bv35YKtQJLNT1qOxYac6hiRbbgsBgmlkgnY0gmlwhKwSI2SKbXVsdGlhZGRyc4wACgSsEiNkBoXV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKn-9lxpyCOMhGLtzikoWExXonoLlU0TxRopG-szyY3DYN0Y3CChdSDdWRwgoXWhXdha3UyBQ --filternode=/ip4/172.18.35.100/tcp/34260/p2p/16Uiu2HAm6jQoVYVLssBJ2g96bCEVXAp3SLLghhXA3XCUviV7T8iQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.183.250 waku a510d765525f79ceef2d15a9fb66f36132cbd81a3741d2a0524a05dcbfe7328b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a510d765525f. Setting up logs at ./log/docker/node2_2024-08-16_08-06-27__5cbe877e-1330-484c-a680-adc015f35a2f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 62683
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62683/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62683/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.183.250/tcp/62684/p2p/16Uiu2HAmMYMH4AuceNRRshKjU4Ps22z11pb6WYzZfrmsmLvUGqJR","/ip4/172.18.183.250/tcp/62685/ws/p2p/16Uiu2HAmMYMH4AuceNRRshKjU4Ps22z11pb6WYzZfrmsmLvUGqJR"],"enrUri":"enr:-LO4QIw3vNi7tfc31UAcQgpviapIl85p9_mYOS0dY1W8_Wohax_ZDyy6cBmNG6tT3Xp4MWkngGdg03Br5psimyMP8c0BgmlkgnY0gmlwhKwSt_qKbXVsdGlhZGRyc4wACgSsErf6BvTd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOEBcdmA8LsAAOlIENYvn2auR3iyQS9oUiN69Zm2JpAmoN0Y3CC9NyDdWRwgvTehXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62683/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.35.100/tcp/34260/p2p/16Uiu2HAm6jQoVYVLssBJ2g96bCEVXAp3SLLghhXA3XCUviV7T8iQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34259/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62683/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d86852d8-c870-44f9-9da8-662a9bc83c37", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d86852d8-c870-44f9-9da8-662a9bc83c37","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:62683/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": 1, "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:62683/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id be06f0c3e147
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id a510d765525f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.