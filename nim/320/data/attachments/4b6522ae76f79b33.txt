[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_without_pubsub_topic_and_content_topic with id: 2024-08-16_08-24-30__da3d9fd6-c34c-421e-8281-5948e333f37e
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-08-16_08-24-30__da3d9fd6-c34c-421e-8281-5948e333f37e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.96.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['14001', '14002', '14003', '14004', '14005']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 14001:14001 -p 14002:14002 -p 14003:14003 -p 14004:14004 -p 14005:14005 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14003 --rest-port=14001 --tcp-port=14002 --discv5-udp-port=14004 --rest-address=0.0.0.0 --nat=extip:172.18.96.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd3dfda3eb7fa448dbd5adbb79de44aef42d4dcac23cfd54c5e9dcb1c962ccc0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14005 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.96.246 waku b67f12a4b39dea6dd25a9ce166ce885b3a5f8cc9f5cc465299e24775b3956a67
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b67f12a4b39d. Setting up logs at ./log/docker/publishing_node1_2024-08-16_08-24-30__da3d9fd6-c34c-421e-8281-5948e333f37e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 14001
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14001/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14001/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.246/tcp/14002/p2p/16Uiu2HAmD5yXGxnvDchpunHFznPSzEfAnmbMskop1fvLqF45V51Q","/ip4/172.18.96.246/tcp/14003/ws/p2p/16Uiu2HAmD5yXGxnvDchpunHFznPSzEfAnmbMskop1fvLqF45V51Q"],"enrUri":"enr:-LO4QGA5o0jYDIJKYyakY2FViN5eke9vu5XcCp5oICKfv2X-KeS1bLXe_shsWyNaQuWY72u4vNPouSveX6Vp3vsGGowBgmlkgnY0gmlwhKwSYPaKbXVsdGlhZGRyc4wACgSsEmD2Bjaz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMGZpWORJUpgH84MemJ6u2kvomOeu0SNmtA6q_VoOPyp4N0Y3CCNrKDdWRwgja0hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/store_node1_2024-08-16_08-24-30__da3d9fd6-c34c-421e-8281-5948e333f37e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.154.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['16743', '16744', '16745', '16746', '16747']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 16743:16743 -p 16744:16744 -p 16745:16745 -p 16746:16746 -p 16747:16747 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16745 --rest-port=16743 --tcp-port=16744 --discv5-udp-port=16746 --rest-address=0.0.0.0 --nat=extip:172.18.154.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=198f93dd7ebebf253ef1008eff16b29d91d5b73506c71dce49eccd5d4ef1d1fb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16747 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QGA5o0jYDIJKYyakY2FViN5eke9vu5XcCp5oICKfv2X-KeS1bLXe_shsWyNaQuWY72u4vNPouSveX6Vp3vsGGowBgmlkgnY0gmlwhKwSYPaKbXVsdGlhZGRyc4wACgSsEmD2Bjaz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMGZpWORJUpgH84MemJ6u2kvomOeu0SNmtA6q_VoOPyp4N0Y3CCNrKDdWRwgja0hXdha3UyAw --storenode=/ip4/172.18.96.246/tcp/14002/p2p/16Uiu2HAmD5yXGxnvDchpunHFznPSzEfAnmbMskop1fvLqF45V51Q --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.154.98 waku 7ae17ddcde124b4e1cdd72aee6df90ab0a808ee91abc2c034c82bae3389b0ef7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 7ae17ddcde12. Setting up logs at ./log/docker/store_node1_2024-08-16_08-24-30__da3d9fd6-c34c-421e-8281-5948e333f37e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 16743
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16743/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16743/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.98/tcp/16744/p2p/16Uiu2HAmDAVCD6fxe3Pt1xnDcSsMpCLrqv4YGKgUgLw6FhMVf9Yh","/ip4/172.18.154.98/tcp/16745/ws/p2p/16Uiu2HAmDAVCD6fxe3Pt1xnDcSsMpCLrqv4YGKgUgLw6FhMVf9Yh"],"enrUri":"enr:-LO4QC1GMG5b4foQE4QH9aNdHtvJtgl25Vo2FMrnWFCO3PslO7WuVdZjUz5qEfOFDqFTAYt8OwhTnaXR1VeGAjU5QsYBgmlkgnY0gmlwhKwSmmKKbXVsdGlhZGRyc4wACgSsEppiBkFp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMHjnTzyCAKHUG12zXyqNzzpuAEbK_b_YbkHGmERHwyfoN0Y3CCQWiDdWRwgkFqhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16743/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.246/tcp/14002/p2p/16Uiu2HAmD5yXGxnvDchpunHFznPSzEfAnmbMskop1fvLqF45V51Q"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14001/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16743/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14001/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"aq/hRcnHGzts4l0rewv0AjWYVJrRbvVXOfVld8+gilw="},{"messageHash":"U72XOlYWfe3mUbDJNDfySwJ2wZVX2kHRB1nSdeIclD4="},{"messageHash":"HdAjeamzqdjKDrascVxDg69a49pOR9TwrOikqjFluQk="},{"messageHash":"JT/C3P9EjxobjKq1l20j5f2h6mqTXOjHdWrwMbnjf3U="},{"messageHash":"HDb3N2mDzWA3RwGJcOuGPbcryFiBRbd9JH9o4nIV6lo="},{"messageHash":"eMLWzMt4QJgpzokOYh+HHUEqEU1+IQ9r8BdXMMBB6/w="},{"messageHash":"Mdj8eDj2HOkV8QnwrBEjpQg0tltfjlhlY5T0B/f/mto="},{"messageHash":"LdPiu9huejx8EjlhpZLiD1VHIxDaGrkissfSUGEengA="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16743/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"aq/hRcnHGzts4l0rewv0AjWYVJrRbvVXOfVld8+gilw="},{"messageHash":"U72XOlYWfe3mUbDJNDfySwJ2wZVX2kHRB1nSdeIclD4="},{"messageHash":"HdAjeamzqdjKDrascVxDg69a49pOR9TwrOikqjFluQk="},{"messageHash":"JT/C3P9EjxobjKq1l20j5f2h6mqTXOjHdWrwMbnjf3U="},{"messageHash":"HDb3N2mDzWA3RwGJcOuGPbcryFiBRbd9JH9o4nIV6lo="},{"messageHash":"eMLWzMt4QJgpzokOYh+HHUEqEU1+IQ9r8BdXMMBB6/w="},{"messageHash":"Mdj8eDj2HOkV8QnwrBEjpQg0tltfjlhlY5T0B/f/mto="},{"messageHash":"LdPiu9huejx8EjlhpZLiD1VHIxDaGrkissfSUGEengA="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id b67f12a4b39d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 7ae17ddcde12
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.