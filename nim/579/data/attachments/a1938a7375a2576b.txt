[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-26_04-10-02__c619a618-181d-4be3-ae7a-c6279a83a6af
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-26_04-10-02__c619a618-181d-4be3-ae7a-c6279a83a6af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.143.48
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36893', '36894', '36895', '36896', '36897']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36893:36893 -p 36894:36894 -p 36895:36895 -p 36896:36896 -p 36897:36897 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36895 --rest-port=36893 --tcp-port=36894 --discv5-udp-port=36896 --rest-address=0.0.0.0 --nat=extip:172.18.143.48 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c0ae6facdeb156d380e882f06920de3a1fd40478b6ee4dea21bc76e7482d6ec7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36897 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.143.48 waku c38ecb722d2019a26a6b4d4ef1b30836dcc130a107c50365a51479dd96855abc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c38ecb722d20. Setting up logs at ./log/docker/node1_2024-12-26_04-10-02__c619a618-181d-4be3-ae7a-c6279a83a6af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36893
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2944a2f6f9db. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36893/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36893/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.143.48/tcp/36894/p2p/16Uiu2HAm3wggamHjS2xJPaJAB7gLb4oVZKYhUV83RG3q3Wg72wQ9","/ip4/172.18.143.48/tcp/36895/ws/p2p/16Uiu2HAm3wggamHjS2xJPaJAB7gLb4oVZKYhUV83RG3q3Wg72wQ9"],"enrUri":"enr:-L24QE8L7qqyN69KmlrqsMXukV_1ODEyxf8xFulW1QIUClcDfrojHXpBJroXQ1oE7frXDxt-XtNrBMTBfMBrKsO5uMcCgmlkgnY0gmlwhKwSjzCKbXVsdGlhZGRyc5YACASsEo8wBpAeAAoErBKPMAaQH90DgnJzhQADAQAAiXNlY3AyNTZrMaECfo23AZ-DmnFyOUS7GlwxMzLYNhfxmKOtTi4-DNs2KP6DdGNwgpAeg3VkcIKQIIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-26_04-10-02__c619a618-181d-4be3-ae7a-c6279a83a6af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.102.21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22345', '22346', '22347', '22348', '22349']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22345:22345 -p 22346:22346 -p 22347:22347 -p 22348:22348 -p 22349:22349 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22347 --rest-port=22345 --tcp-port=22346 --discv5-udp-port=22348 --rest-address=0.0.0.0 --nat=extip:172.18.102.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=51b4eaf7645cd91aadde46b387bfebe26c25bf610ee77d18cebf113ccad7d4ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22349 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QE8L7qqyN69KmlrqsMXukV_1ODEyxf8xFulW1QIUClcDfrojHXpBJroXQ1oE7frXDxt-XtNrBMTBfMBrKsO5uMcCgmlkgnY0gmlwhKwSjzCKbXVsdGlhZGRyc5YACASsEo8wBpAeAAoErBKPMAaQH90DgnJzhQADAQAAiXNlY3AyNTZrMaECfo23AZ-DmnFyOUS7GlwxMzLYNhfxmKOtTi4-DNs2KP6DdGNwgpAeg3VkcIKQIIV3YWt1MgU --filternode=/ip4/172.18.143.48/tcp/36894/p2p/16Uiu2HAm3wggamHjS2xJPaJAB7gLb4oVZKYhUV83RG3q3Wg72wQ9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.102.21 waku 10976e691f037250d6a8cf40bd214a84a2df35ebe42616500d87786c4532060b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 10976e691f03. Setting up logs at ./log/docker/node2_2024-12-26_04-10-02__c619a618-181d-4be3-ae7a-c6279a83a6af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 22345
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22345/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22345/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.21/tcp/22346/p2p/16Uiu2HAmQEbWpxJia73ec9JKypgxb9fWH12v3z5udKZJdsEo6kqd","/ip4/172.18.102.21/tcp/22347/ws/p2p/16Uiu2HAmQEbWpxJia73ec9JKypgxb9fWH12v3z5udKZJdsEo6kqd"],"enrUri":"enr:-L24QADJjwP3nMH99wAk-yFWY6OA2C_A1aYSkYNyBbVrYKkGWUa1VGWuSLE7_jl29oK40zmTEyB6stSvx1UEQEI_ywECgmlkgnY0gmlwhKwSZhWKbXVsdGlhZGRyc5YACASsEmYVBldKAAoErBJmFQZXS90DgnJzhQADAQAAiXNlY3AyNTZrMaEDrAx7w4nKd-_3yjf_M9PKAs8pm_dcIN30wNCTDrBSgFiDdGNwgldKg3VkcIJXTIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22345/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.48/tcp/36894/p2p/16Uiu2HAm3wggamHjS2xJPaJAB7gLb4oVZKYhUV83RG3q3Wg72wQ9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-26_04-10-02__c619a618-181d-4be3-ae7a-c6279a83a6af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.149.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63808', '63809', '63810', '63811', '63812']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63808:63808 -p 63809:63809 -p 63810:63810 -p 63811:63811 -p 63812:63812 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63810 --rest-port=63808 --tcp-port=63809 --discv5-udp-port=63811 --rest-address=0.0.0.0 --nat=extip:172.18.149.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f27eae94bf59a28c86fbcc119236cb127cacdfaad1634f1ee20dee1cfbb2e86a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63812 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QE8L7qqyN69KmlrqsMXukV_1ODEyxf8xFulW1QIUClcDfrojHXpBJroXQ1oE7frXDxt-XtNrBMTBfMBrKsO5uMcCgmlkgnY0gmlwhKwSjzCKbXVsdGlhZGRyc5YACASsEo8wBpAeAAoErBKPMAaQH90DgnJzhQADAQAAiXNlY3AyNTZrMaECfo23AZ-DmnFyOUS7GlwxMzLYNhfxmKOtTi4-DNs2KP6DdGNwgpAeg3VkcIKQIIV3YWt1MgU --filternode=/ip4/172.18.143.48/tcp/36894/p2p/16Uiu2HAm3wggamHjS2xJPaJAB7gLb4oVZKYhUV83RG3q3Wg72wQ9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.149.90 waku 7b23d646d24b16af75db2509b1eb245ec4d35eed689802bb6aa766f8ecd4c7fe
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7b23d646d24b. Setting up logs at ./log/docker/node3_2024-12-26_04-10-02__c619a618-181d-4be3-ae7a-c6279a83a6af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 63808
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63808/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63808/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.90/tcp/63809/p2p/16Uiu2HAmKZop3YsVk1Yy9ASMSxRYAFqcYn5sMaWj26DT5Hvp7p3M","/ip4/172.18.149.90/tcp/63810/ws/p2p/16Uiu2HAmKZop3YsVk1Yy9ASMSxRYAFqcYn5sMaWj26DT5Hvp7p3M"],"enrUri":"enr:-L24QDLOeLCVXiRuH3fHxl5mXvSl5b8vB53OCntCD6icA_SyCDyUuAzg5VZcJN53-_f0F8FSJ-KvKO9JslbNfYMuQHUCgmlkgnY0gmlwhKwSlVqKbXVsdGlhZGRyc5YACASsEpVaBvlBAAoErBKVWgb5Qt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDZq39ACDdi5y4iyLX0Lpju8svbKyJwm-pljjKguaQoySDdGNwgvlBg3VkcIL5Q4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63808/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.48/tcp/36894/p2p/16Uiu2HAm3wggamHjS2xJPaJAB7gLb4oVZKYhUV83RG3q3Wg72wQ9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-26_04-10-02__c619a618-181d-4be3-ae7a-c6279a83a6af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.185.237
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51811', '51812', '51813', '51814', '51815']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51811:51811 -p 51812:51812 -p 51813:51813 -p 51814:51814 -p 51815:51815 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51813 --rest-port=51811 --tcp-port=51812 --discv5-udp-port=51814 --rest-address=0.0.0.0 --nat=extip:172.18.185.237 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5c3d84214f5ebdddebfc2d6e970ce909779bdabdeabf8c76f57e1bdbef0afc0b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51815 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QE8L7qqyN69KmlrqsMXukV_1ODEyxf8xFulW1QIUClcDfrojHXpBJroXQ1oE7frXDxt-XtNrBMTBfMBrKsO5uMcCgmlkgnY0gmlwhKwSjzCKbXVsdGlhZGRyc5YACASsEo8wBpAeAAoErBKPMAaQH90DgnJzhQADAQAAiXNlY3AyNTZrMaECfo23AZ-DmnFyOUS7GlwxMzLYNhfxmKOtTi4-DNs2KP6DdGNwgpAeg3VkcIKQIIV3YWt1MgU --filternode=/ip4/172.18.143.48/tcp/36894/p2p/16Uiu2HAm3wggamHjS2xJPaJAB7gLb4oVZKYhUV83RG3q3Wg72wQ9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.185.237 waku 1af8398582e237c7c3ce00849ae49c11f776023424d4cff02113f0095530dac9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1af8398582e2. Setting up logs at ./log/docker/node4_2024-12-26_04-10-02__c619a618-181d-4be3-ae7a-c6279a83a6af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51811
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51811/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51811/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.185.237/tcp/51812/p2p/16Uiu2HAm6DnCoATiRz2CGHLFP6KW9pXsYzu7VaKxXbuvmjvFSdbS","/ip4/172.18.185.237/tcp/51813/ws/p2p/16Uiu2HAm6DnCoATiRz2CGHLFP6KW9pXsYzu7VaKxXbuvmjvFSdbS"],"enrUri":"enr:-L24QB4ImnaOFmrhOmgjmJSxAQP2wjc0Z09SwRcNkEhGmf3rcyMKNgPC1M6BzxAfu7NeUVisPrE_92V4iLu5DkEsh0MCgmlkgnY0gmlwhKwSue2KbXVsdGlhZGRyc5YACASsErntBspkAAoErBK57QbKZd0DgnJzhQADAQAAiXNlY3AyNTZrMaECoGSfy37rcGdeXUY3Jqe_ruRmwRXHp2s03xQIsdVd-UWDdGNwgspkg3VkcILKZoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51811/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.48/tcp/36894/p2p/16Uiu2HAm3wggamHjS2xJPaJAB7gLb4oVZKYhUV83RG3q3Wg72wQ9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-26_04-10-02__c619a618-181d-4be3-ae7a-c6279a83a6af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.14.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37742', '37743', '37744', '37745', '37746']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37742:37742 -p 37743:37743 -p 37744:37744 -p 37745:37745 -p 37746:37746 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37744 --rest-port=37742 --tcp-port=37743 --discv5-udp-port=37745 --rest-address=0.0.0.0 --nat=extip:172.18.14.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6d6a08b8a3fb091109a42a9bec4a3d7c60f1a2dfc0f3f8bc44c5a39541b88938 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37746 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QE8L7qqyN69KmlrqsMXukV_1ODEyxf8xFulW1QIUClcDfrojHXpBJroXQ1oE7frXDxt-XtNrBMTBfMBrKsO5uMcCgmlkgnY0gmlwhKwSjzCKbXVsdGlhZGRyc5YACASsEo8wBpAeAAoErBKPMAaQH90DgnJzhQADAQAAiXNlY3AyNTZrMaECfo23AZ-DmnFyOUS7GlwxMzLYNhfxmKOtTi4-DNs2KP6DdGNwgpAeg3VkcIKQIIV3YWt1MgU --filternode=/ip4/172.18.143.48/tcp/36894/p2p/16Uiu2HAm3wggamHjS2xJPaJAB7gLb4oVZKYhUV83RG3q3Wg72wQ9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.14.82 waku 30070329cc23d3250d3203839f7f700cb4a50547732abe1e415f4da2527effb5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 30070329cc23. Setting up logs at ./log/docker/node5_2024-12-26_04-10-02__c619a618-181d-4be3-ae7a-c6279a83a6af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 37742
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37742/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37742/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.82/tcp/37743/p2p/16Uiu2HAmLT7Wm8ydgJRRueXHpk6uqRnj4Kzf4z2ecCwqRonBQyb5","/ip4/172.18.14.82/tcp/37744/ws/p2p/16Uiu2HAmLT7Wm8ydgJRRueXHpk6uqRnj4Kzf4z2ecCwqRonBQyb5"],"enrUri":"enr:-L24QDbjDoZfi1nFmk1ujE44atrpqF0YIsflfKdXJnl9pgm_NGOD9ltmr_K4PxtPscZ-RPNsoLsjbqQ0bYF3SwF6AEMCgmlkgnY0gmlwhKwSDlKKbXVsdGlhZGRyc5YACASsEg5SBpNvAAoErBIOUgaTcN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc9KgEnGGKrzvQg6Cqk9uGgO2okyHQ2bPWz3YXkTGjHCDdGNwgpNvg3VkcIKTcYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37742/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.48/tcp/36894/p2p/16Uiu2HAm3wggamHjS2xJPaJAB7gLb4oVZKYhUV83RG3q3Wg72wQ9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36893/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22345/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d4a56941-de40-40d2-b196-f3c9475971d4", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d4a56941-de40-40d2-b196-f3c9475971d4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63808/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "01d1f9ee-3b97-49fb-b1ee-9a9fe64f4444", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"01d1f9ee-3b97-49fb-b1ee-9a9fe64f4444","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51811/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a461721a-bd17-466b-84bb-1e0aa8677fb0", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a461721a-bd17-466b-84bb-1e0aa8677fb0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37742/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c739cbcd-dd04-42fb-a44e-e873af7c88f7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c739cbcd-dd04-42fb-a44e-e873af7c88f7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22345/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1735186210153999616,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63808/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63808/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c38ecb722d20
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 10976e691f03
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c38ecb722d20. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7b23d646d24b
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 10976e691f03. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1af8398582e2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7b23d646d24b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 30070329cc23
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1af8398582e2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.