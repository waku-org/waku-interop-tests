[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-12-26_04-12-35__7c2781c7-7270-4f7f-a216-51e9f532ba47
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-12-26_04-12-35__7c2781c7-7270-4f7f-a216-51e9f532ba47__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.123.250
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38616', '38617', '38618', '38619', '38620']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38616:38616 -p 38617:38617 -p 38618:38618 -p 38619:38619 -p 38620:38620 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38618 --rest-port=38616 --tcp-port=38617 --discv5-udp-port=38619 --rest-address=0.0.0.0 --nat=extip:172.18.123.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6ff6e9bbe2b6edabcd53b8f227edcccce67c8f87ebb9f5ba8ffea5419a8f9e2c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38620 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.123.250 waku 772687e2bc9f7857f58c7d2756c97c32b4378376fcfe76523ee2573e6533926b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 772687e2bc9f. Setting up logs at ./log/docker/receiving_node1_2024-12-26_04-12-35__7c2781c7-7270-4f7f-a216-51e9f532ba47__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38616
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7ea8ec048181. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38616/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38616/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.250/tcp/38617/p2p/16Uiu2HAmUWwuUqKyPdktnwYcqABL2euuQZteDq2HJNB3YQEHS9jB","/ip4/172.18.123.250/tcp/38618/ws/p2p/16Uiu2HAmUWwuUqKyPdktnwYcqABL2euuQZteDq2HJNB3YQEHS9jB"],"enrUri":"enr:-L24QAnJDmQrX2b0QrrBzggg1quP8STwJAOdofuWbZf6kQaiOljuFPd1-fy3zvc6KNDpNaM3DN176TMRw-UNEB5fUp8CgmlkgnY0gmlwhKwSe_qKbXVsdGlhZGRyc5YACASsEnv6BpbZAAoErBJ7-gaW2t0DgnJzhQADAQAAiXNlY3AyNTZrMaED66uUbW4_84UmCOr2JPGvUyAia71bmpTXncRyLurhQfaDdGNwgpbZg3VkcIKW24V3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-12-26_04-12-35__7c2781c7-7270-4f7f-a216-51e9f532ba47__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.135.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51131', '51132', '51133', '51134', '51135']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51131:51131 -p 51132:51132 -p 51133:51133 -p 51134:51134 -p 51135:51135 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51133 --rest-port=51131 --tcp-port=51132 --discv5-udp-port=51134 --rest-address=0.0.0.0 --nat=extip:172.18.135.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d1baadabdd27eeb11cbaaae8ccc56e57bcfe0e51a65dabccaaac0aafe21039ce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51135 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.135.117 waku fb4c4908457a620dd6d6533e65b597c06196961ee31b40dcc27df930709a6fe6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fb4c4908457a. Setting up logs at ./log/docker/receiving_node2_2024-12-26_04-12-35__7c2781c7-7270-4f7f-a216-51e9f532ba47__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51131
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51131/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51131/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.117/tcp/51132/p2p/16Uiu2HAm8ZGdb7ohKpxPiP23h7A3tqibrFS6qHTG25jWyWuzVs4H","/ip4/172.18.135.117/tcp/51133/ws/p2p/16Uiu2HAm8ZGdb7ohKpxPiP23h7A3tqibrFS6qHTG25jWyWuzVs4H"],"enrUri":"enr:-L24QAo13foD9I05XHEnl33YvOta6K9_iRy2WSDQLloi8zg8SxMSYtvuB7fNuz3C-cU2zlm6NSv5ezEvmw0Khngy64ACgmlkgnY0gmlwhKwSh3WKbXVsdGlhZGRyc5YACASsEod1Bse8AAoErBKHdQbHvd0DgnJzhQADAQAAiXNlY3AyNTZrMaECwxotK7fv1HWhx6KgKpCn3WsK0HVyrxiOYT4tURHwJXaDdGNwgse8g3VkcILHvoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51131/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.123.250/tcp/38617/p2p/16Uiu2HAmUWwuUqKyPdktnwYcqABL2euuQZteDq2HJNB3YQEHS9jB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-12-26_04-12-35__7c2781c7-7270-4f7f-a216-51e9f532ba47__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.100.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29749', '29750', '29751', '29752', '29753']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29749:29749 -p 29750:29750 -p 29751:29751 -p 29752:29752 -p 29753:29753 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29751 --rest-port=29749 --tcp-port=29750 --discv5-udp-port=29752 --rest-address=0.0.0.0 --nat=extip:172.18.100.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6660b6e19fd9aced1fbfd708dbf6b823f6bca8dd7d40afdab3a10cddffcbb664 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29753 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QAnJDmQrX2b0QrrBzggg1quP8STwJAOdofuWbZf6kQaiOljuFPd1-fy3zvc6KNDpNaM3DN176TMRw-UNEB5fUp8CgmlkgnY0gmlwhKwSe_qKbXVsdGlhZGRyc5YACASsEnv6BpbZAAoErBJ7-gaW2t0DgnJzhQADAQAAiXNlY3AyNTZrMaED66uUbW4_84UmCOr2JPGvUyAia71bmpTXncRyLurhQfaDdGNwgpbZg3VkcIKW24V3YWt1Mgk --lightpushnode=/ip4/172.18.123.250/tcp/38617/p2p/16Uiu2HAmUWwuUqKyPdktnwYcqABL2euuQZteDq2HJNB3YQEHS9jB --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.100.159 waku 8b1ccac124d3d17f7c50afdd37a9e7c95592fa781b7203f5219471debc317568
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8b1ccac124d3. Setting up logs at ./log/docker/lightpush_node1_2024-12-26_04-12-35__7c2781c7-7270-4f7f-a216-51e9f532ba47__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29749
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29749/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29749/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.100.159/tcp/29750/p2p/16Uiu2HAkutWFrzchvP2osYvZzJsfcNP1uPc2pUjuMM43MiJmpeiL","/ip4/172.18.100.159/tcp/29751/ws/p2p/16Uiu2HAkutWFrzchvP2osYvZzJsfcNP1uPc2pUjuMM43MiJmpeiL"],"enrUri":"enr:-L24QClPsB2NCpzMCtdREDgu_bwg2ROmylMwcOMqa4guFLrpDUMIAlcoQrlSGWe0MAeEK_xdG-dniHmCH2Z1yfKTXQMCgmlkgnY0gmlwhKwSZJ-KbXVsdGlhZGRyc5YACASsEmSfBnQ2AAoErBJknwZ0N90DgnJzhQADAQAAiXNlY3AyNTZrMaECBt-wJdW8_9SrF59ijtHzHV2NwiEwLqiHkayue7Sy_YmDdGNwgnQ2g3VkcIJ0OIV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29749/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.123.250/tcp/38617/p2p/16Uiu2HAmUWwuUqKyPdktnwYcqABL2euuQZteDq2HJNB3YQEHS9jB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29749/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.135.117/tcp/51132/p2p/16Uiu2HAm8ZGdb7ohKpxPiP23h7A3tqibrFS6qHTG25jWyWuzVs4H"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38616/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51131/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29749/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1735186359510728704}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29749/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 772687e2bc9f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fb4c4908457a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 772687e2bc9f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8b1ccac124d3
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fb4c4908457a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.