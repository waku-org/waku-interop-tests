[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-11-06_04-13-36__1a8a492c-84c6-448f-8fe2-7481f207f9a0
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_04-13-36__1a8a492c-84c6-448f-8fe2-7481f207f9a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.244.237
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20577', '20578', '20579', '20580', '20581']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20577:20577 -p 20578:20578 -p 20579:20579 -p 20580:20580 -p 20581:20581 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20579 --rest-port=20577 --tcp-port=20578 --discv5-udp-port=20580 --rest-address=0.0.0.0 --nat=extip:172.18.244.237 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=efd4dfa5cf8e3b7bbc14cecdd06e2ff40ddd2dca7adc4ac6cb7eb73c587cbcdf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20581 --metrics-logging=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3467c799728c. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.244.237 waku 0c74f5842ffd00e3be1434a059a9e565d31bea48962ccf870a2b9b170439dcc9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0c74f5842ffd. Setting up logs at ./log/docker/node1_2024-11-06_04-13-36__1a8a492c-84c6-448f-8fe2-7481f207f9a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20577
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20577/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20577/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.244.237/tcp/20578/p2p/16Uiu2HAm3jNoyb7rzLhzGUqkesJVHMfc9JDVM9J3ApqwmJfd5BUf","/ip4/172.18.244.237/tcp/20579/ws/p2p/16Uiu2HAm3jNoyb7rzLhzGUqkesJVHMfc9JDVM9J3ApqwmJfd5BUf"],"enrUri":"enr:-L24QLLPrAjY4F7MRoSa-H_w6AZ_u73HMXC3AW3r7Y-zhcmWFNS6kS21tz0-68ObVlslVKl3Gzk_mIDWC5MXcRXjU4MCgmlkgnY0gmlwhKwS9O2KbXVsdGlhZGRyc5YACASsEvTtBlBiAAoErBL07QZQY90DgnJzhQADAQAAiXNlY3AyNTZrMaECe2aJYKIPr2O987d3usCgZDpztSZF_hFsvKv_LvsisIyDdGNwglBig3VkcIJQZIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_04-13-36__1a8a492c-84c6-448f-8fe2-7481f207f9a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.6.81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30357', '30358', '30359', '30360', '30361']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30357:30357 -p 30358:30358 -p 30359:30359 -p 30360:30360 -p 30361:30361 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30359 --rest-port=30357 --tcp-port=30358 --discv5-udp-port=30360 --rest-address=0.0.0.0 --nat=extip:172.18.6.81 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=806f7d1b5dfdd7ccd77abe8ac5ed5cbb7abfcbab98aec2f4abe4bdb77b8b20c5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30361 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLLPrAjY4F7MRoSa-H_w6AZ_u73HMXC3AW3r7Y-zhcmWFNS6kS21tz0-68ObVlslVKl3Gzk_mIDWC5MXcRXjU4MCgmlkgnY0gmlwhKwS9O2KbXVsdGlhZGRyc5YACASsEvTtBlBiAAoErBL07QZQY90DgnJzhQADAQAAiXNlY3AyNTZrMaECe2aJYKIPr2O987d3usCgZDpztSZF_hFsvKv_LvsisIyDdGNwglBig3VkcIJQZIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.6.81 waku 6be03c7d0c09beefae3a472e14469d5e035f87b5235d63458353f9207a79d744
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6be03c7d0c09. Setting up logs at ./log/docker/node2_2024-11-06_04-13-36__1a8a492c-84c6-448f-8fe2-7481f207f9a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30357
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30357/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30357/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.6.81/tcp/30358/p2p/16Uiu2HAmH8oxAqw9nWi9mabDb11NkVMM9xdH7QAqVH1Y49HN4sc7","/ip4/172.18.6.81/tcp/30359/ws/p2p/16Uiu2HAmH8oxAqw9nWi9mabDb11NkVMM9xdH7QAqVH1Y49HN4sc7"],"enrUri":"enr:-L24QH_jPjLY3HlLLZAoKta5VibM8jphaD2V-hc6aoRkNEr7bkdy2BqyxnzO1CEQ6FJ9zkpB6b7uE03uXALndhoIq_cCgmlkgnY0gmlwhKwSBlGKbXVsdGlhZGRyc5YACASsEgZRBnaWAAoErBIGUQZ2l90DgnJzhQADAQAAiXNlY3AyNTZrMaEDQo9Aq1deDgX0sK_RfpjcEeGAI5tyEX5kyVIYus-sxESDdGNwgnaWg3VkcIJ2mIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30357/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.244.237/tcp/20578/p2p/16Uiu2HAm3jNoyb7rzLhzGUqkesJVHMfc9JDVM9J3ApqwmJfd5BUf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_04-13-36__1a8a492c-84c6-448f-8fe2-7481f207f9a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.214.214
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22796', '22797', '22798', '22799', '22800']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22796:22796 -p 22797:22797 -p 22798:22798 -p 22799:22799 -p 22800:22800 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22798 --rest-port=22796 --tcp-port=22797 --discv5-udp-port=22799 --rest-address=0.0.0.0 --nat=extip:172.18.214.214 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a4fad1bd5d70a1cdfaffd5ade11cd3efc8509cf4fababf289c9b8e01d6bfdbb7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22800 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLLPrAjY4F7MRoSa-H_w6AZ_u73HMXC3AW3r7Y-zhcmWFNS6kS21tz0-68ObVlslVKl3Gzk_mIDWC5MXcRXjU4MCgmlkgnY0gmlwhKwS9O2KbXVsdGlhZGRyc5YACASsEvTtBlBiAAoErBL07QZQY90DgnJzhQADAQAAiXNlY3AyNTZrMaECe2aJYKIPr2O987d3usCgZDpztSZF_hFsvKv_LvsisIyDdGNwglBig3VkcIJQZIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.214.214 waku bc571a7e6d51609f8ab6ad11448c5be6358da21f724193aae7d720b3e162cfa7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bc571a7e6d51. Setting up logs at ./log/docker/node3_2024-11-06_04-13-36__1a8a492c-84c6-448f-8fe2-7481f207f9a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 22796
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22796/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22796/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.214.214/tcp/22797/p2p/16Uiu2HAmGpDGZtriysU7HRfKbeywJyAA817g31TPEzgZQj2ezXcq","/ip4/172.18.214.214/tcp/22798/ws/p2p/16Uiu2HAmGpDGZtriysU7HRfKbeywJyAA817g31TPEzgZQj2ezXcq"],"enrUri":"enr:-L24QJ1PzG83E-N8xyoPV5yzBdLnCyHde9ifPffgAZvEprBTKTaaTttl2_RSAgLxPGA48Jy1X-xrhgcv8kmdGauAD0QCgmlkgnY0gmlwhKwS1taKbXVsdGlhZGRyc5YACASsEtbWBlkNAAoErBLW1gZZDt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDPcuVAzyHc28dlJ3-cY8JAfGmVjmdly5BB0ep-_bJ-C6DdGNwglkNg3VkcIJZD4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22796/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.244.237/tcp/20578/p2p/16Uiu2HAm3jNoyb7rzLhzGUqkesJVHMfc9JDVM9J3ApqwmJfd5BUf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-06_04-13-36__1a8a492c-84c6-448f-8fe2-7481f207f9a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.175.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47969', '47970', '47971', '47972', '47973']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47969:47969 -p 47970:47970 -p 47971:47971 -p 47972:47972 -p 47973:47973 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47971 --rest-port=47969 --tcp-port=47970 --discv5-udp-port=47972 --rest-address=0.0.0.0 --nat=extip:172.18.175.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ede753f5ab3aba85c5c3c6a6add9b0e785ad824e79b0efdcbce6bebcf7297feb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47973 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLLPrAjY4F7MRoSa-H_w6AZ_u73HMXC3AW3r7Y-zhcmWFNS6kS21tz0-68ObVlslVKl3Gzk_mIDWC5MXcRXjU4MCgmlkgnY0gmlwhKwS9O2KbXVsdGlhZGRyc5YACASsEvTtBlBiAAoErBL07QZQY90DgnJzhQADAQAAiXNlY3AyNTZrMaECe2aJYKIPr2O987d3usCgZDpztSZF_hFsvKv_LvsisIyDdGNwglBig3VkcIJQZIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.175.82 waku 40d816701260b8693b1ec207974335736aee30a08878534215c206defd82c98f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 40d816701260. Setting up logs at ./log/docker/node4_2024-11-06_04-13-36__1a8a492c-84c6-448f-8fe2-7481f207f9a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47969
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47969/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47969/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.175.82/tcp/47970/p2p/16Uiu2HAm6AXx4gZjjBbfHgjBPHLs5gSWwwobXWdWhyrHMLuQKc1v","/ip4/172.18.175.82/tcp/47971/ws/p2p/16Uiu2HAm6AXx4gZjjBbfHgjBPHLs5gSWwwobXWdWhyrHMLuQKc1v"],"enrUri":"enr:-L24QB4nRRhEHzXR3DOwgUFc-bhq6MMJv1_BEckIBIWTdb2iDUqWn5sx-7sDOb7rIiK_pq5f3UcNqjRGpocQw5N0L0UCgmlkgnY0gmlwhKwSr1KKbXVsdGlhZGRyc5YACASsEq9SBrtiAAoErBKvUga7Y90DgnJzhQADAQAAiXNlY3AyNTZrMaECn4_DxEzKWat7uTZuDTmeCSQvk4tbNC37jGJ8oAr5FqGDdGNwgrtig3VkcIK7ZIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47969/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.244.237/tcp/20578/p2p/16Uiu2HAm3jNoyb7rzLhzGUqkesJVHMfc9JDVM9J3ApqwmJfd5BUf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-06_04-13-36__1a8a492c-84c6-448f-8fe2-7481f207f9a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.230.35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29069', '29070', '29071', '29072', '29073']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29069:29069 -p 29070:29070 -p 29071:29071 -p 29072:29072 -p 29073:29073 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29071 --rest-port=29069 --tcp-port=29070 --discv5-udp-port=29072 --rest-address=0.0.0.0 --nat=extip:172.18.230.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5cb3ffcb7bccc187eddd9bde6f62aaef7adba397b448696d68ee08d87d7947ba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29073 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLLPrAjY4F7MRoSa-H_w6AZ_u73HMXC3AW3r7Y-zhcmWFNS6kS21tz0-68ObVlslVKl3Gzk_mIDWC5MXcRXjU4MCgmlkgnY0gmlwhKwS9O2KbXVsdGlhZGRyc5YACASsEvTtBlBiAAoErBL07QZQY90DgnJzhQADAQAAiXNlY3AyNTZrMaECe2aJYKIPr2O987d3usCgZDpztSZF_hFsvKv_LvsisIyDdGNwglBig3VkcIJQZIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.230.35 waku fe7ffc495ca937c2d6522c2b3d4ce2ac2aec138a7799ec3cfba2298aaaab1313
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fe7ffc495ca9. Setting up logs at ./log/docker/node5_2024-11-06_04-13-36__1a8a492c-84c6-448f-8fe2-7481f207f9a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 29069
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29069/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29069/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.35/tcp/29070/p2p/16Uiu2HAmVcSr3dRNfAywVuNJfsvaSs3KWggRkiQh6XwZTy1mBsME","/ip4/172.18.230.35/tcp/29071/ws/p2p/16Uiu2HAmVcSr3dRNfAywVuNJfsvaSs3KWggRkiQh6XwZTy1mBsME"],"enrUri":"enr:-L24QJXZkmZcfNOEL5eB_LJ93rU7WUHxUbX6C6LSN34DG73Yd_Y0m552xGrJR7gmVC6etMNRWIDbOxpUVna9SBFMN5MCgmlkgnY0gmlwhKwS5iOKbXVsdGlhZGRyc5YACASsEuYjBnGOAAoErBLmIwZxj90DgnJzhQADAQAAiXNlY3AyNTZrMaED--_k6zwyWk42cMryISXq0ZAcgMAC5KSJyb6UPkVARO2DdGNwgnGOg3VkcIJxkIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29069/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.244.237/tcp/20578/p2p/16Uiu2HAm3jNoyb7rzLhzGUqkesJVHMfc9JDVM9J3ApqwmJfd5BUf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20577/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30357/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22796/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47969/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29069/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20577/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20577/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866425270810368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30357/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866425270810368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866425270810368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47969/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866425270810368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29069/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866425270810368,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20577/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20577/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866425413799936,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30357/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866425413799936,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866425413799936,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47969/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866425413799936,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29069/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866425413799936,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6be03c7d0c09
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20577/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866427943970304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47969/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866427943970304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29069/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730866427943970304,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0c74f5842ffd
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6be03c7d0c09. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bc571a7e6d51
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0c74f5842ffd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 40d816701260
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bc571a7e6d51. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fe7ffc495ca9
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 40d816701260. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.