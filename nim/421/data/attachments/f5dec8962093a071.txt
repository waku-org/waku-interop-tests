[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_subscribed_peer with id: 2024-11-06_04-05-42__5e9abadd-b4cf-4a10-87f6-77b1f1c1e5b2
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_04-05-42__5e9abadd-b4cf-4a10-87f6-77b1f1c1e5b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.196.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17761', '17762', '17763', '17764', '17765']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17761:17761 -p 17762:17762 -p 17763:17763 -p 17764:17764 -p 17765:17765 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17763 --rest-port=17761 --tcp-port=17762 --discv5-udp-port=17764 --rest-address=0.0.0.0 --nat=extip:172.18.196.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=de4f54ec60fbbd8649f42c4bdd5d06bbf2d6c28a5c44b545fcc1bd02e1ac4f5b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17765 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.196.213 waku 717753c08a64392d2fe76d0af984aea5e59c4d649943e6009bed617fed25e099
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 202a70b41dbf. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 717753c08a64. Setting up logs at ./log/docker/node1_2024-11-06_04-05-42__5e9abadd-b4cf-4a10-87f6-77b1f1c1e5b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 17761
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17761/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17761/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.196.213/tcp/17762/p2p/16Uiu2HAmCnRXCx4Av4BqmZJTDwgA92vjYhWN9uVGByioSS8eC1Sp","/ip4/172.18.196.213/tcp/17763/ws/p2p/16Uiu2HAmCnRXCx4Av4BqmZJTDwgA92vjYhWN9uVGByioSS8eC1Sp"],"enrUri":"enr:-L24QC_HVSif_A6A0629oDJC93nux6TKDILzaMW43ef8HqqYVX_OswQppzclPc5LAUJmmW0xEXVTYJc_hlp3R20DCuICgmlkgnY0gmlwhKwSxNWKbXVsdGlhZGRyc5YACASsEsTVBkViAAoErBLE1QZFY90DgnJzhQADAQAAiXNlY3AyNTZrMaEDAeeGzjCuimzYgMyGD3_XrtOz4fb-6ZsP6tpDueVR-wGDdGNwgkVig3VkcIJFZIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_04-05-42__5e9abadd-b4cf-4a10-87f6-77b1f1c1e5b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.240.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1418', '1419', '1420', '1421', '1422']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1418:1418 -p 1419:1419 -p 1420:1420 -p 1421:1421 -p 1422:1422 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1420 --rest-port=1418 --tcp-port=1419 --discv5-udp-port=1421 --rest-address=0.0.0.0 --nat=extip:172.18.240.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d02a11b1cfffd0eeeee4ba285abef80d44a6d5c27745d630d89fcc5bd44919cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1422 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QC_HVSif_A6A0629oDJC93nux6TKDILzaMW43ef8HqqYVX_OswQppzclPc5LAUJmmW0xEXVTYJc_hlp3R20DCuICgmlkgnY0gmlwhKwSxNWKbXVsdGlhZGRyc5YACASsEsTVBkViAAoErBLE1QZFY90DgnJzhQADAQAAiXNlY3AyNTZrMaEDAeeGzjCuimzYgMyGD3_XrtOz4fb-6ZsP6tpDueVR-wGDdGNwgkVig3VkcIJFZIV3YWt1MgU --filternode=/ip4/172.18.196.213/tcp/17762/p2p/16Uiu2HAmCnRXCx4Av4BqmZJTDwgA92vjYhWN9uVGByioSS8eC1Sp
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.240.6 waku b4bc051268e551cb687e947a288b6336f64dcb65c53a2f3fbaf9dad5dc13cf9b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b4bc051268e5. Setting up logs at ./log/docker/node2_2024-11-06_04-05-42__5e9abadd-b4cf-4a10-87f6-77b1f1c1e5b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1418
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1418/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1418/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.6/tcp/1419/p2p/16Uiu2HAm89xWh5hz21q8um9DCpSmpPZB1HGR344XZvc3AE4qGkoM","/ip4/172.18.240.6/tcp/1420/ws/p2p/16Uiu2HAm89xWh5hz21q8um9DCpSmpPZB1HGR344XZvc3AE4qGkoM"],"enrUri":"enr:-L24QGB7EUX5LBppRPjiw3NYu-20arIoMfmCeh5QIWTV6C9iRWnIgbrpUmdEeOCf27zVnFEmssYSceugqhOHdgUlxgMCgmlkgnY0gmlwhKwS8AaKbXVsdGlhZGRyc5YACASsEvAGBgWLAAoErBLwBgYFjN0DgnJzhQADAQAAiXNlY3AyNTZrMaECvSFUqb3jtmpevst5Wnp52tXsoU1Y8c-5YZHzBaVVT4SDdGNwggWLg3VkcIIFjYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1418/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.196.213/tcp/17762/p2p/16Uiu2HAmCnRXCx4Av4BqmZJTDwgA92vjYhWN9uVGByioSS8eC1Sp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17761/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1418/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dcbcdf97-c5cd-4ed5-a5fd-cdde850e2e55", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dcbcdf97-c5cd-4ed5-a5fd-cdde850e2e55","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1418/filter/v2/subscriptions/4243147c-4754-45db-a798-7c695acab371" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4243147c-4754-45db-a798-7c695acab371","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 717753c08a64
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b4bc051268e5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 717753c08a64. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.