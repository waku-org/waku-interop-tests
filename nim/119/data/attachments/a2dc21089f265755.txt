[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_subscribe_with_invalid_request_id with id: 2024-03-29_04-13-24__54990241-9625-497c-a61a-4b5593adede1
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-03-29_04-13-24__54990241-9625-497c-a61a-4b5593adede1__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.230.200
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['27004', '27005', '27006', '27007', '27008']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 27004:27004 -p 27005:27005 -p 27006:27006 -p 27007:27007 -p 27008:27008 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27006 --rest-port=27004 --tcp-port=27005 --discv5-udp-port=27007 --rest-address=0.0.0.0 --nat=extip:172.18.230.200 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27008 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.230.200 waku cc3eb1bf3015b6544e62a5fd6fa6e96c9fcb5bb1660045979508c0fb25e2f669
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID cc3eb1bf3015. Setting up logs at ./log/docker/node1_2024-03-29_04-13-24__54990241-9625-497c-a61a-4b5593adede1__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 27004
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:27004/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.200/tcp/27005/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.230.200/tcp/27006/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LG4QDTZx-CccVVsAVJpgHi9w8ckqxAU5B93P6QUJBVrd7k8AI915NqbJicwEEKX9komQYmK1dEnEjCenc-Dd-Gu2T4BgmlkgnY0gmlwhKwS5siKbXVsdGlhZGRyc4wACgSsEubIBml-3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwgml9g3VkcIJpf4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-03-29_04-13-24__54990241-9625-497c-a61a-4b5593adede1__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.144.106
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['29779', '29780', '29781', '29782', '29783']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 29779:29779 -p 29780:29780 -p 29781:29781 -p 29782:29782 -p 29783:29783 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29781 --rest-port=29779 --tcp-port=29780 --discv5-udp-port=29782 --rest-address=0.0.0.0 --nat=extip:172.18.144.106 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29783 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LG4QDTZx-CccVVsAVJpgHi9w8ckqxAU5B93P6QUJBVrd7k8AI915NqbJicwEEKX9komQYmK1dEnEjCenc-Dd-Gu2T4BgmlkgnY0gmlwhKwS5siKbXVsdGlhZGRyc4wACgSsEubIBml-3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwgml9g3VkcIJpf4V3YWt1MgU --filternode=/ip4/172.18.230.200/tcp/27005/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.144.106 waku a401e33645f3259def47ab946d8455913b4e759d375a54c899bdf483c9b1377d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a401e33645f3. Setting up logs at ./log/docker/node2_2024-03-29_04-13-24__54990241-9625-497c-a61a-4b5593adede1__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 29779
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:29779/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.144.106/tcp/29780/p2p/16Uiu2HAky4y6h2wxde4R8XB2Kd2YEKMwNZFcGhvGWcHrUs1L4LLr","/ip4/172.18.144.106/tcp/29781/ws/p2p/16Uiu2HAky4y6h2wxde4R8XB2Kd2YEKMwNZFcGhvGWcHrUs1L4LLr"],"enrUri":"enr:-LG4QL9FkQ3oCWFw-snIiVEbB65yE9NcPw4m8T1oxvavKfWCYgWFNFtQEH1Ns58bNkp6eVw-ch9_0ex0_Q2EPT5QIWoBgmlkgnY0gmlwhKwSkGqKbXVsdGlhZGRyc4wACgSsEpBqBnRV3QOCcnODAAAAiXNlY3AyNTZrMaECNiDoOoIuGde4TIJW7xG2RETkZPMsjzVzid-M4cu6LdODdGNwgnRUg3VkcIJ0VoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:45 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:27004/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:29779/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7ea5decd-79a8-4a28-90ff-3273a543ef3e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"7ea5decd-79a8-4a28-90ff-3273a543ef3e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:29779/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": 1, "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:17 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29779/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id cc3eb1bf3015
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id a401e33645f3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.