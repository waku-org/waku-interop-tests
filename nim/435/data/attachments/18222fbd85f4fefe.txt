[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-07_05-56-51__d01d8b93-86fe-46cc-9c04-95c87f236f7f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_05-56-51__d01d8b93-86fe-46cc-9c04-95c87f236f7f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.21.65
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10428', '10429', '10430', '10431', '10432']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10428:10428 -p 10429:10429 -p 10430:10430 -p 10431:10431 -p 10432:10432 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10430 --rest-port=10428 --tcp-port=10429 --discv5-udp-port=10431 --rest-address=0.0.0.0 --nat=extip:172.18.21.65 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=51bc18f0590a555c0e65c742ccc161e6e98c7dfd4ec7a0e30de98efafbff7c81 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10432 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.21.65 waku 3a9bcc2ef8a9eb5dda9583e6defc720a6d736332335bf1b77368c12b9c19aa07
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3a9bcc2ef8a9. Setting up logs at ./log/docker/node1_2024-11-07_05-56-51__d01d8b93-86fe-46cc-9c04-95c87f236f7f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 10428
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fb1d33a5ff2f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10428/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10428/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.65/tcp/10429/p2p/16Uiu2HAmP1wuYjoAnFd9HAC9XGVuByk3M3aMDpjmdjgUYQtcSah5","/ip4/172.18.21.65/tcp/10430/ws/p2p/16Uiu2HAmP1wuYjoAnFd9HAC9XGVuByk3M3aMDpjmdjgUYQtcSah5"],"enrUri":"enr:-L24QK45RwYCBw6TwPQKAuxetSHqijfxk-I5u628huBDwhsiEBPWPt4xG9WkZbsrb6AjSfAsDApXw90V3ZkhtK_iJFQCgmlkgnY0gmlwhKwSFUGKbXVsdGlhZGRyc5YACASsEhVBBii9AAoErBIVQQYovt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmfNNkjYvqLad9alfSm6aHlGvzA3oTR8QECmO7xfubvCDdGNwgii9g3VkcIIov4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_05-56-51__d01d8b93-86fe-46cc-9c04-95c87f236f7f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.209.37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34916', '34917', '34918', '34919', '34920']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34916:34916 -p 34917:34917 -p 34918:34918 -p 34919:34919 -p 34920:34920 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34918 --rest-port=34916 --tcp-port=34917 --discv5-udp-port=34919 --rest-address=0.0.0.0 --nat=extip:172.18.209.37 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=65cff78ba5dedadf04bedfccd92fadc8594fa52a81efc9a0e7dbaefdc53ccb1c --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34920 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QK45RwYCBw6TwPQKAuxetSHqijfxk-I5u628huBDwhsiEBPWPt4xG9WkZbsrb6AjSfAsDApXw90V3ZkhtK_iJFQCgmlkgnY0gmlwhKwSFUGKbXVsdGlhZGRyc5YACASsEhVBBii9AAoErBIVQQYovt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmfNNkjYvqLad9alfSm6aHlGvzA3oTR8QECmO7xfubvCDdGNwgii9g3VkcIIov4V3YWt1MgU --filternode=/ip4/172.18.21.65/tcp/10429/p2p/16Uiu2HAmP1wuYjoAnFd9HAC9XGVuByk3M3aMDpjmdjgUYQtcSah5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.209.37 waku f5321f31cf0ec6dd93c7cb8b55d2ff67831a17ba647dc0d10e1d055ac2cbc945
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f5321f31cf0e. Setting up logs at ./log/docker/node2_2024-11-07_05-56-51__d01d8b93-86fe-46cc-9c04-95c87f236f7f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 34916
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34916/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34916/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.37/tcp/34917/p2p/16Uiu2HAm3m46u15Lh5mcW38PMRHe9PFEhArNrY7DqTUyqh7zmKyL","/ip4/172.18.209.37/tcp/34918/ws/p2p/16Uiu2HAm3m46u15Lh5mcW38PMRHe9PFEhArNrY7DqTUyqh7zmKyL"],"enrUri":"enr:-L24QOAvmn7-pmKEMJKn12mI0TNyVx5F3cQjtwLDQxfCOv9lGZTQNRl-So2EUjjKnWwXRweTytXCsXcB1UqMotA2arMCgmlkgnY0gmlwhKwS0SWKbXVsdGlhZGRyc5YACASsEtElBohlAAoErBLRJQaIZt0DgnJzhQADAQAAiXNlY3AyNTZrMaECe9SLdNo4pK7qPcbldyZE0bw1KQ8j0wnifZBX25m7snuDdGNwgohlg3VkcIKIZ4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34916/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.21.65/tcp/10429/p2p/16Uiu2HAmP1wuYjoAnFd9HAC9XGVuByk3M3aMDpjmdjgUYQtcSah5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_05-56-51__d01d8b93-86fe-46cc-9c04-95c87f236f7f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.88.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8190', '8191', '8192', '8193', '8194']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8190:8190 -p 8191:8191 -p 8192:8192 -p 8193:8193 -p 8194:8194 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8192 --rest-port=8190 --tcp-port=8191 --discv5-udp-port=8193 --rest-address=0.0.0.0 --nat=extip:172.18.88.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da6bb5d9ae2bcf687cc55ce2bc97e08abcd8d2b4ea1ac7b7dc405f34cc2a296f --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8194 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QK45RwYCBw6TwPQKAuxetSHqijfxk-I5u628huBDwhsiEBPWPt4xG9WkZbsrb6AjSfAsDApXw90V3ZkhtK_iJFQCgmlkgnY0gmlwhKwSFUGKbXVsdGlhZGRyc5YACASsEhVBBii9AAoErBIVQQYovt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmfNNkjYvqLad9alfSm6aHlGvzA3oTR8QECmO7xfubvCDdGNwgii9g3VkcIIov4V3YWt1MgU --filternode=/ip4/172.18.21.65/tcp/10429/p2p/16Uiu2HAmP1wuYjoAnFd9HAC9XGVuByk3M3aMDpjmdjgUYQtcSah5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.88.186 waku cd0148d0959ab6130630eced7aaf4b17b7bd727ee7b37e80c337bdc3be2aaff4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cd0148d0959a. Setting up logs at ./log/docker/node3_2024-11-07_05-56-51__d01d8b93-86fe-46cc-9c04-95c87f236f7f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 8190
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8190/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8190/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.88.186/tcp/8191/p2p/16Uiu2HAmJxoXYfKksm7CyTqknwUtjHH9eqZB8MYV66Wsn4TJiSD6","/ip4/172.18.88.186/tcp/8192/ws/p2p/16Uiu2HAmJxoXYfKksm7CyTqknwUtjHH9eqZB8MYV66Wsn4TJiSD6"],"enrUri":"enr:-L24QNO0xuAbxqY3coN_kHbmDvtkoXOZalMiB_eKzcfJsIIFOvtHMmGV-n_Tmk1j_lexepuR8Oqb_rkE0o_qFRMCzzwCgmlkgnY0gmlwhKwSWLqKbXVsdGlhZGRyc5YACASsEli6Bh__AAoErBJYugYgAN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDXbZWnUXoGtUtG61MNnFTjqy5LHUc3i1Lx1sLmRRalzmDdGNwgh__g3VkcIIgAYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8190/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.21.65/tcp/10429/p2p/16Uiu2HAmP1wuYjoAnFd9HAC9XGVuByk3M3aMDpjmdjgUYQtcSah5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-07_05-56-51__d01d8b93-86fe-46cc-9c04-95c87f236f7f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.101.194
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40823', '40824', '40825', '40826', '40827']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40823:40823 -p 40824:40824 -p 40825:40825 -p 40826:40826 -p 40827:40827 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40825 --rest-port=40823 --tcp-port=40824 --discv5-udp-port=40826 --rest-address=0.0.0.0 --nat=extip:172.18.101.194 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=647f9faceac3cdf810b76bd9ffcbb27bc0adc9f04d3e5fdfb3fc9feb126045f4 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40827 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QK45RwYCBw6TwPQKAuxetSHqijfxk-I5u628huBDwhsiEBPWPt4xG9WkZbsrb6AjSfAsDApXw90V3ZkhtK_iJFQCgmlkgnY0gmlwhKwSFUGKbXVsdGlhZGRyc5YACASsEhVBBii9AAoErBIVQQYovt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmfNNkjYvqLad9alfSm6aHlGvzA3oTR8QECmO7xfubvCDdGNwgii9g3VkcIIov4V3YWt1MgU --filternode=/ip4/172.18.21.65/tcp/10429/p2p/16Uiu2HAmP1wuYjoAnFd9HAC9XGVuByk3M3aMDpjmdjgUYQtcSah5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.101.194 waku 4d3442f37b61407b581513476adf9c758c7794d93a5265acfc101775b8a39123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4d3442f37b61. Setting up logs at ./log/docker/node4_2024-11-07_05-56-51__d01d8b93-86fe-46cc-9c04-95c87f236f7f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 40823
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40823/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40823/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.101.194/tcp/40824/p2p/16Uiu2HAkvv4Qw5Nx5T5rWAVJQDEyzFcNTKBzBJMMsDRJq3sKgQh1","/ip4/172.18.101.194/tcp/40825/ws/p2p/16Uiu2HAkvv4Qw5Nx5T5rWAVJQDEyzFcNTKBzBJMMsDRJq3sKgQh1"],"enrUri":"enr:-L24QAOrBu-JOTt-woSeQJICPLSVjhseBDBwohDUtZPGOP2yTa7RFvMbmWkd9tgeWZkvk79ys7aaD4ETH6RaR2HdIw0CgmlkgnY0gmlwhKwSZcKKbXVsdGlhZGRyc5YACASsEmXCBp94AAoErBJlwgafed0DgnJzhQADAQAAiXNlY3AyNTZrMaECFiFQrfG4zXE5EfAGrx9pMyXEQg20EH-lvoCeIb6h3USDdGNwgp94g3VkcIKfeoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40823/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.21.65/tcp/10429/p2p/16Uiu2HAmP1wuYjoAnFd9HAC9XGVuByk3M3aMDpjmdjgUYQtcSah5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-07_05-56-51__d01d8b93-86fe-46cc-9c04-95c87f236f7f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.196.205
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37986', '37987', '37988', '37989', '37990']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37986:37986 -p 37987:37987 -p 37988:37988 -p 37989:37989 -p 37990:37990 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37988 --rest-port=37986 --tcp-port=37987 --discv5-udp-port=37989 --rest-address=0.0.0.0 --nat=extip:172.18.196.205 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea7cdab7cad4da5f08dd6da042f74bd52aa3f1e6be6d46561367dea54aca8679 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37990 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QK45RwYCBw6TwPQKAuxetSHqijfxk-I5u628huBDwhsiEBPWPt4xG9WkZbsrb6AjSfAsDApXw90V3ZkhtK_iJFQCgmlkgnY0gmlwhKwSFUGKbXVsdGlhZGRyc5YACASsEhVBBii9AAoErBIVQQYovt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmfNNkjYvqLad9alfSm6aHlGvzA3oTR8QECmO7xfubvCDdGNwgii9g3VkcIIov4V3YWt1MgU --filternode=/ip4/172.18.21.65/tcp/10429/p2p/16Uiu2HAmP1wuYjoAnFd9HAC9XGVuByk3M3aMDpjmdjgUYQtcSah5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.196.205 waku a7c862f20100cdcce479d65752325cdaa2f25e64ddc76a6d02ed6608e7c9feb9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a7c862f20100. Setting up logs at ./log/docker/node5_2024-11-07_05-56-51__d01d8b93-86fe-46cc-9c04-95c87f236f7f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 37986
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37986/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37986/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.196.205/tcp/37987/p2p/16Uiu2HAm8pVK35bAEn9hseTzoZgdafb3syLggQJZGGxf1AZUnskQ","/ip4/172.18.196.205/tcp/37988/ws/p2p/16Uiu2HAm8pVK35bAEn9hseTzoZgdafb3syLggQJZGGxf1AZUnskQ"],"enrUri":"enr:-L24QDze597GPIhZrI19kbnL1jjhz-3IIYEM_jRCwu3zDM4hU0BIGCn_17IVZND8PVGZ2Rdbq68yNGzC7CYVIbnUVTYCgmlkgnY0gmlwhKwSxM2KbXVsdGlhZGRyc5YACASsEsTNBpRjAAoErBLEzQaUZN0DgnJzhQADAQAAiXNlY3AyNTZrMaECxwA53rgD39oNStyCaR5ijkPP4Jk9ExRRmK55cI5Y0NWDdGNwgpRjg3VkcIKUZYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37986/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.21.65/tcp/10429/p2p/16Uiu2HAmP1wuYjoAnFd9HAC9XGVuByk3M3aMDpjmdjgUYQtcSah5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10428/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34916/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "561d7e14-ebb9-46b7-a99e-d7acd7ccbf09", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"561d7e14-ebb9-46b7-a99e-d7acd7ccbf09","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8190/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b585d269-f7ec-411f-ba5c-e45589cdcd3b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b585d269-f7ec-411f-ba5c-e45589cdcd3b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40823/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dabe22f9-27fa-4ec0-993f-8645535e2fa2", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dabe22f9-27fa-4ec0-993f-8645535e2fa2","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37986/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0f1788cd-193e-475e-949f-55a9ae6f5cc7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0f1788cd-193e-475e-949f-55a9ae6f5cc7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34916/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730959020354667776,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8190/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:8190/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 3a9bcc2ef8a9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f5321f31cf0e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3a9bcc2ef8a9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id cd0148d0959a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f5321f31cf0e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 4d3442f37b61
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cd0148d0959a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id a7c862f20100
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4d3442f37b61. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.