{"uid":"d4a5a08de22b0e20","name":"test_static_shard_relay","fullName":"tests.sharding.test_multiple_nodes.TestMultipleNodes#test_static_shard_relay","historyId":"c201190911d5281413611e54b6fc6959","time":{"start":1712636203729,"stop":1712636212202,"duration":8473},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1712635874631,"stop":1712635874632,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1712636203728,"stop":1712636203728,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sharding_setup","time":{"start":1712636203728,"stop":1712636203729,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1712636203728,"stop":1712636203728,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1712636203728,"stop":1712636203728,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1712636203728,"stop":1712636203728,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"setup_main_relay_nodes","time":{"start":1712636203729,"stop":1712636207311,"duration":3582},"status":"passed","steps":[{"name":"setup_first_relay_node","time":{"start":1712636203729,"stop":1712636205490,"duration":1761},"status":"passed","steps":[{"name":"_resolve_sharding_flags","time":{"start":1712636203736,"stop":1712636203736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cluster_id","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"content_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"content_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_second_relay_node","time":{"start":1712636205490,"stop":1712636207311,"duration":1821},"status":"passed","steps":[{"name":"_resolve_sharding_flags","time":{"start":1712636205497,"stop":1712636205497,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cluster_id","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"content_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"content_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"content_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_optional_relay_nodes","time":{"start":1712636207311,"stop":1712636212060,"duration":4749},"status":"passed","steps":[{"name":"_resolve_sharding_flags","time":{"start":1712636207311,"stop":1712636207311,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cluster_id","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"content_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"content_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_relay_nodes","time":{"start":1712636212060,"stop":1712636212072,"duration":12},"status":"passed","steps":[{"name":"subscribe_relay_node","time":{"start":1712636212061,"stop":1712636212068,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fe8e4887650>"},{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_relay_node","time":{"start":1712636212068,"stop":1712636212072,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fe8e4885fa0>"},{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_optional_relay_nodes","time":{"start":1712636212073,"stop":1712636212081,"duration":8},"status":"passed","steps":[{"name":"subscribe_relay_node","time":{"start":1712636212073,"stop":1712636212076,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fe8e4baeb10>"},{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_relay_node","time":{"start":1712636212076,"stop":1712636212079,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fe8e4896ea0>"},{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_relay_node","time":{"start":1712636212079,"stop":1712636212081,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fe8e48de360>"},{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1712636212081,"stop":1712636212202,"duration":121},"status":"passed","steps":[{"name":"create_message","time":{"start":1712636212081,"stop":1712636212081,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_message","time":{"start":1712636212082,"stop":1712636212088,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fe8e4887650>"},{"name":"message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1712636212081456896}"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1712636212189,"stop":1712636212191,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fe8e4887650>"},{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1712636212191,"stop":1712636212191,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1712636212081456896}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1712636212192,"stop":1712636212194,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fe8e4885fa0>"},{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1712636212194,"stop":1712636212194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1712636212081456896}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1712636212194,"stop":1712636212196,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fe8e4baeb10>"},{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1712636212196,"stop":1712636212196,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1712636212081456896}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1712636212196,"stop":1712636212199,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fe8e4896ea0>"},{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1712636212199,"stop":1712636212199,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1712636212081456896}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1712636212199,"stop":1712636212202,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fe8e48de360>"},{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1712636212202,"stop":1712636212202,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1712636212081456896}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e58b035a90eb7d00","name":"log","source":"e58b035a90eb7d00.txt","type":"text/plain","size":50586}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":27,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1712636212203,"stop":1712636212205,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1712636212206,"stop":1712636222202,"duration":9996},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1712636222203,"stop":1712636222203,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1712636427789,"stop":1712636427789,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.sharding"},{"name":"suite","value":"test_multiple_nodes"},{"name":"subSuite","value":"TestMultipleNodes"},{"name":"host","value":"fv-az849-53"},{"name":"thread","value":"2143-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.sharding.test_multiple_nodes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e8f554dadf58d1fb","status":"failed","statusDetails":"AssertionError: Peer NODE_4:harbor.status.im/wakuorg/go-waku:latest couldn't find any messages","time":{"start":1712636183988,"stop":1712636192703,"duration":8715}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":17,"unknown":0,"total":18},"items":[{"uid":"ba531630181782f2","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/137//#testresult/ba531630181782f2","status":"passed","time":{"start":1712582734174,"stop":1712582743351,"duration":9177}},{"uid":"ae48aed20796c1bd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/136//#testresult/ae48aed20796c1bd","status":"passed","time":{"start":1712549773897,"stop":1712549782012,"duration":8115}},{"uid":"388a6ca8e34e817e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/135//#testresult/388a6ca8e34e817e","status":"passed","time":{"start":1712463421175,"stop":1712463429633,"duration":8458}},{"uid":"9c38612eb991cd95","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/134//#testresult/9c38612eb991cd95","status":"passed","time":{"start":1712376982742,"stop":1712376991483,"duration":8741}},{"uid":"f6b061ae327d0ba8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/133//#testresult/f6b061ae327d0ba8","status":"passed","time":{"start":1712290610171,"stop":1712290617968,"duration":7797}},{"uid":"819a053a84fb9f68","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/132//#testresult/819a053a84fb9f68","status":"passed","time":{"start":1712216846328,"stop":1712216855174,"duration":8846}},{"uid":"70128db43d84fc8c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/131//#testresult/70128db43d84fc8c","status":"passed","time":{"start":1712215486518,"stop":1712215494679,"duration":8161}},{"uid":"649ad2bfe3efc661","reportUrl":"https://waku-org.github.io/waku-interop-tests/130//#testresult/649ad2bfe3efc661","status":"passed","time":{"start":1712204275679,"stop":1712204283695,"duration":8016}},{"uid":"9f0c288c1d788498","reportUrl":"https://waku-org.github.io/waku-interop-tests/129//#testresult/9f0c288c1d788498","status":"passed","time":{"start":1712151780112,"stop":1712151789218,"duration":9106}},{"uid":"f1c184c54d5dd2f8","reportUrl":"https://waku-org.github.io/waku-interop-tests/128//#testresult/f1c184c54d5dd2f8","status":"passed","time":{"start":1712117759938,"stop":1712117768997,"duration":9059}},{"uid":"d27094daac72015","reportUrl":"https://waku-org.github.io/waku-interop-tests/126//#testresult/d27094daac72015","status":"passed","time":{"start":1711980819914,"stop":1711980828632,"duration":8718}},{"uid":"fd3d1472ba4bf7ba","reportUrl":"https://waku-org.github.io/waku-interop-tests/125//#testresult/fd3d1472ba4bf7ba","status":"passed","time":{"start":1711978899598,"stop":1711978908299,"duration":8701}},{"uid":"6c0c97a41c255720","reportUrl":"https://waku-org.github.io/waku-interop-tests/124//#testresult/6c0c97a41c255720","status":"passed","time":{"start":1711969130388,"stop":1711969139016,"duration":8628}},{"uid":"e6774c93ea7fbf2b","reportUrl":"https://waku-org.github.io/waku-interop-tests/120//#testresult/e6774c93ea7fbf2b","status":"passed","time":{"start":1711721180914,"stop":1711721189777,"duration":8863}},{"uid":"93445298eeae9064","reportUrl":"https://waku-org.github.io/waku-interop-tests/118//#testresult/93445298eeae9064","status":"passed","time":{"start":1711624714526,"stop":1711624722424,"duration":7898}},{"uid":"5f79747fc3319772","reportUrl":"https://waku-org.github.io/waku-interop-tests/117//#testresult/5f79747fc3319772","status":"passed","time":{"start":1711612706949,"stop":1711612715431,"duration":8482}},{"uid":"1433cddf75382657","reportUrl":"https://waku-org.github.io/waku-interop-tests/114//#testresult/1433cddf75382657","status":"broken","statusDetails":"requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)","time":{"start":1711473945902,"stop":1711473963209,"duration":17307}}]},"tags":[]},"source":"d4a5a08de22b0e20.json","parameterValues":[]}