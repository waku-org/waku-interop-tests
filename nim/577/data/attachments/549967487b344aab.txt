[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2024-12-25_19-37-24__c64bf201-e2f2-4f45-b038-21f41e6ba5a8
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-25_19-37-24__c64bf201-e2f2-4f45-b038-21f41e6ba5a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:33 Network waku created
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.37.143
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3302', '3303', '3304', '3305', '3306']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3302:3302 -p 3303:3303 -p 3304:3304 -p 3305:3305 -p 3306:3306 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3304 --rest-port=3302 --tcp-port=3303 --discv5-udp-port=3305 --rest-address=0.0.0.0 --nat=extip:172.18.37.143 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cd45ea7fcad02ff2bdfe271efd2cedea1df4caa800cfcd3f57ee350fc5da6af0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3306 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.37.143 waku d372620532697d8d7c28d2cff7aeba6f1f5a9b7eb5f68c61f292b4510884adf3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d37262053269. Setting up logs at ./log/docker/node1_2024-12-25_19-37-24__c64bf201-e2f2-4f45-b038-21f41e6ba5a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3302
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3302/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3302/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.143/tcp/3303/p2p/16Uiu2HAkvctzto5SpVcWg6kXzLSKcBrbxuYYZth23WahAupvZCkK","/ip4/172.18.37.143/tcp/3304/ws/p2p/16Uiu2HAkvctzto5SpVcWg6kXzLSKcBrbxuYYZth23WahAupvZCkK"],"enrUri":"enr:-L24QHv0Pb2dbPwx0sPPktBSDrQ0mJij_FiR17BsMLf1p4WBCPwKCY-1I3fFUuRQfnc9zik4O7duOh32w2zQvJyuzcQCgmlkgnY0gmlwhKwSJY-KbXVsdGlhZGRyc5YACASsEiWPBgznAAoErBIljwYM6N0DgnJzhQADAQAAiXNlY3AyNTZrMaECEbvL4mdcycBYh7hYyT86cKzxD2NOFtJ2IFcN2k0I5YyDdGNwggzng3VkcIIM6YV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-25_19-37-24__c64bf201-e2f2-4f45-b038-21f41e6ba5a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.230.193
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63102', '63103', '63104', '63105', '63106']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63102:63102 -p 63103:63103 -p 63104:63104 -p 63105:63105 -p 63106:63106 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63104 --rest-port=63102 --tcp-port=63103 --discv5-udp-port=63105 --rest-address=0.0.0.0 --nat=extip:172.18.230.193 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c35ace9018ad3fdcf6abd0fe38737ec356c14ae876fdce4e820acc606cf9a2db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63106 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHv0Pb2dbPwx0sPPktBSDrQ0mJij_FiR17BsMLf1p4WBCPwKCY-1I3fFUuRQfnc9zik4O7duOh32w2zQvJyuzcQCgmlkgnY0gmlwhKwSJY-KbXVsdGlhZGRyc5YACASsEiWPBgznAAoErBIljwYM6N0DgnJzhQADAQAAiXNlY3AyNTZrMaECEbvL4mdcycBYh7hYyT86cKzxD2NOFtJ2IFcN2k0I5YyDdGNwggzng3VkcIIM6YV3YWt1MgU --filternode=/ip4/172.18.37.143/tcp/3303/p2p/16Uiu2HAkvctzto5SpVcWg6kXzLSKcBrbxuYYZth23WahAupvZCkK
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.230.193 waku 1cfcb26b6d1d876de41a6930ded5947d458d0174fd019d5293ed695866bd98d9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1cfcb26b6d1d. Setting up logs at ./log/docker/node2_2024-12-25_19-37-24__c64bf201-e2f2-4f45-b038-21f41e6ba5a8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 63102
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63102/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63102/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.193/tcp/63103/p2p/16Uiu2HAmJKG9qKjYon5ibq8nRYXagk4MkX3dwfiNmjon9P5nATJW","/ip4/172.18.230.193/tcp/63104/ws/p2p/16Uiu2HAmJKG9qKjYon5ibq8nRYXagk4MkX3dwfiNmjon9P5nATJW"],"enrUri":"enr:-L24QGcUQxmFRQPpwAdg3Jbyj_29mo67WJWEChXnw8rQT9oeF1EYqQH9yO8ivNmKadG7OLuNkEtWmSSE0IUhMGhkMikCgmlkgnY0gmlwhKwS5sGKbXVsdGlhZGRyc5YACASsEubBBvZ_AAoErBLmwQb2gN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVBhfkMPnwI-oikOfiMHBDmkvEwsEBpCDOs13M58PddeDdGNwgvZ_g3VkcIL2gYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63102/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.37.143/tcp/3303/p2p/16Uiu2HAkvctzto5SpVcWg6kXzLSKcBrbxuYYZth23WahAupvZCkK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3302/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63102/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "339260a4-e57c-4674-8c97-7db566d27472", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"339260a4-e57c-4674-8c97-7db566d27472","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:63102/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63102/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d37262053269
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1cfcb26b6d1d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.