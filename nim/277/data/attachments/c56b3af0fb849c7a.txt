[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-07-16_04-13-02__478f9d0e-6ab5-42fe-9c74-cd3dfdc93dfc
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node1_2024-07-16_04-13-02__478f9d0e-6ab5-42fe-9c74-cd3dfdc93dfc__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.156.100
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['10750', '10751', '10752', '10753', '10754']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 10750:10750 -p 10751:10751 -p 10752:10752 -p 10753:10753 -p 10754:10754 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10752 --rest-port=10750 --tcp-port=10751 --discv5-udp-port=10753 --rest-address=0.0.0.0 --nat=extip:172.18.156.100 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10754 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.156.100 waku 0db68a508a08d0d30cdd7eb9680b95d765d5d961efe526b7d8ca77c3299efd0e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0db68a508a08. Setting up logs at ./log/docker/node1_2024-07-16_04-13-02__478f9d0e-6ab5-42fe-9c74-cd3dfdc93dfc__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 10750
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10750/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10750/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.156.100/tcp/10751/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.156.100/tcp/10752/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QJktvEylhZpNLh4TIEZJZapEkxLAya_l_lkk_lg9mbsabRmj8f2GiQeiFXA4isJ6Xt6RVbhBriXXxsBg_w195fMBgmlkgnY0gmlwhKwSnGSKbXVsdGlhZGRyc4wACgSsEpxkBioA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCKf-DdWRwgioBhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node2_2024-07-16_04-13-02__478f9d0e-6ab5-42fe-9c74-cd3dfdc93dfc__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.233.191
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['48315', '48316', '48317', '48318', '48319']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 48315:48315 -p 48316:48316 -p 48317:48317 -p 48318:48318 -p 48319:48319 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48317 --rest-port=48315 --tcp-port=48316 --discv5-udp-port=48318 --rest-address=0.0.0.0 --nat=extip:172.18.233.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48319 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJktvEylhZpNLh4TIEZJZapEkxLAya_l_lkk_lg9mbsabRmj8f2GiQeiFXA4isJ6Xt6RVbhBriXXxsBg_w195fMBgmlkgnY0gmlwhKwSnGSKbXVsdGlhZGRyc4wACgSsEpxkBioA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCKf-DdWRwgioBhXdha3UyBQ --filternode=/ip4/172.18.156.100/tcp/10751/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.233.191 waku 6999ff50850ef192570d088d09c8a77377efa3cb21ac82b72955dc1fa86ff61a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6999ff50850e. Setting up logs at ./log/docker/node2_2024-07-16_04-13-02__478f9d0e-6ab5-42fe-9c74-cd3dfdc93dfc__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 48315
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48315/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48315/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.233.191/tcp/48316/p2p/16Uiu2HAmDFr8wAMZsvUH1gTZeqSfUV7AFV4G931KuJWc4dAnsRwt","/ip4/172.18.233.191/tcp/48317/ws/p2p/16Uiu2HAmDFr8wAMZsvUH1gTZeqSfUV7AFV4G931KuJWc4dAnsRwt"],"enrUri":"enr:-LO4QHJn1w8TbX43jUqQB-RwLM-XZkrauJ1z3wcA7lF6X2J0Dq1t79HaA3CZxWVttDm8KDSBoj7LVpLX9sWJnKufzd8BgmlkgnY0gmlwhKwS6b-KbXVsdGlhZGRyc4wACgSsEum_Bry93QOCcnOFAAMBAACJc2VjcDI1NmsxoQMI7gq1BWNszAq186PQe1iB8B48cfVbIp7fD4rbXlFLj4N0Y3CCvLyDdWRwgry-hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48315/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.100/tcp/10751/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node3_2024-07-16_04-13-02__478f9d0e-6ab5-42fe-9c74-cd3dfdc93dfc__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.154.164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['49212', '49213', '49214', '49215', '49216']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 49212:49212 -p 49213:49213 -p 49214:49214 -p 49215:49215 -p 49216:49216 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49214 --rest-port=49212 --tcp-port=49213 --discv5-udp-port=49215 --rest-address=0.0.0.0 --nat=extip:172.18.154.164 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49216 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJktvEylhZpNLh4TIEZJZapEkxLAya_l_lkk_lg9mbsabRmj8f2GiQeiFXA4isJ6Xt6RVbhBriXXxsBg_w195fMBgmlkgnY0gmlwhKwSnGSKbXVsdGlhZGRyc4wACgSsEpxkBioA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCKf-DdWRwgioBhXdha3UyBQ --filternode=/ip4/172.18.156.100/tcp/10751/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.154.164 waku 825f9abf839b17d603603a81c2551cad87d131949bb58420c479c13095b9b7c1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 825f9abf839b. Setting up logs at ./log/docker/node3_2024-07-16_04-13-02__478f9d0e-6ab5-42fe-9c74-cd3dfdc93dfc__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 49212
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49212/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49212/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.164/tcp/49213/p2p/16Uiu2HAmP1Zt4mrB7FtbHmdXJ8DhEpLXU3EgsRSBcs2PJzFMRity","/ip4/172.18.154.164/tcp/49214/ws/p2p/16Uiu2HAmP1Zt4mrB7FtbHmdXJ8DhEpLXU3EgsRSBcs2PJzFMRity"],"enrUri":"enr:-LO4QKk2QD9D8BCdC8MUCxumJyBCr7-Dlpqm8quptFt2GLogcE2Ro8UWu8UN7N4iCOoVL-G3pfJFzjhI5RavEE04DxMBgmlkgnY0gmlwhKwSmqSKbXVsdGlhZGRyc4wACgSsEpqkBsA-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOZ2mYNLnV6618crNDzLLUSLx476MujDip5acwV2zf1CoN0Y3CCwD2DdWRwgsA_hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49212/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.100/tcp/10751/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node4_2024-07-16_04-13-02__478f9d0e-6ab5-42fe-9c74-cd3dfdc93dfc__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.120.22
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['17528', '17529', '17530', '17531', '17532']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 17528:17528 -p 17529:17529 -p 17530:17530 -p 17531:17531 -p 17532:17532 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17530 --rest-port=17528 --tcp-port=17529 --discv5-udp-port=17531 --rest-address=0.0.0.0 --nat=extip:172.18.120.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17532 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJktvEylhZpNLh4TIEZJZapEkxLAya_l_lkk_lg9mbsabRmj8f2GiQeiFXA4isJ6Xt6RVbhBriXXxsBg_w195fMBgmlkgnY0gmlwhKwSnGSKbXVsdGlhZGRyc4wACgSsEpxkBioA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCKf-DdWRwgioBhXdha3UyBQ --filternode=/ip4/172.18.156.100/tcp/10751/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.120.22 waku d31e03220a204379e3571f818aa81dad657bc6bd78af10fe95f4c8af12ad4107
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d31e03220a20. Setting up logs at ./log/docker/node4_2024-07-16_04-13-02__478f9d0e-6ab5-42fe-9c74-cd3dfdc93dfc__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 17528
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17528/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17528/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.120.22/tcp/17529/p2p/16Uiu2HAkwSwguLsZDFvrtJR39QBJSBp7rjQbvtQ8E1wQFMBHyrQC","/ip4/172.18.120.22/tcp/17530/ws/p2p/16Uiu2HAkwSwguLsZDFvrtJR39QBJSBp7rjQbvtQ8E1wQFMBHyrQC"],"enrUri":"enr:-LO4QFXcKeFpmBujzD6Y1x5ZKIlhNbSB4RqjMO_zEq9qjw-LUN9-79Td-3pzD0W016uIQBgRJso9KP6mZDvmTbhb_poBgmlkgnY0gmlwhKwSeBaKbXVsdGlhZGRyc4wACgSsEngWBkR63QOCcnOFAAMBAACJc2VjcDI1NmsxoQIeCrd2HakLEcBjLvetPl-9JsaCiSw96EUNVvWqQ3XGJYN0Y3CCRHmDdWRwgkR7hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17528/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.100/tcp/10751/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node5_2024-07-16_04-13-02__478f9d0e-6ab5-42fe-9c74-cd3dfdc93dfc__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.172.2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['16712', '16713', '16714', '16715', '16716']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 16712:16712 -p 16713:16713 -p 16714:16714 -p 16715:16715 -p 16716:16716 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16714 --rest-port=16712 --tcp-port=16713 --discv5-udp-port=16715 --rest-address=0.0.0.0 --nat=extip:172.18.172.2 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16716 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJktvEylhZpNLh4TIEZJZapEkxLAya_l_lkk_lg9mbsabRmj8f2GiQeiFXA4isJ6Xt6RVbhBriXXxsBg_w195fMBgmlkgnY0gmlwhKwSnGSKbXVsdGlhZGRyc4wACgSsEpxkBioA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCKf-DdWRwgioBhXdha3UyBQ --filternode=/ip4/172.18.156.100/tcp/10751/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.172.2 waku 267b544ebc89476d5931f1d12bac53ae581924d63984f4c759ab80a2f24ee85a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 267b544ebc89. Setting up logs at ./log/docker/node5_2024-07-16_04-13-02__478f9d0e-6ab5-42fe-9c74-cd3dfdc93dfc__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 16712
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16712/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16712/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.2/tcp/16713/p2p/16Uiu2HAkviF5Vgs7WHmaXHdSxSRpcAcYn6faD1GYLznKHLzn5muB","/ip4/172.18.172.2/tcp/16714/ws/p2p/16Uiu2HAkviF5Vgs7WHmaXHdSxSRpcAcYn6faD1GYLznKHLzn5muB"],"enrUri":"enr:-LO4QILZKRTqMeTZzxfmDpoibrogdDDt1RiCeJxPWJdTVQmVTWy_nPN_0SkP_3d20yM6HTsZtevjhUY0RjZEUt5yxz0BgmlkgnY0gmlwhKwSrAKKbXVsdGlhZGRyc4wACgSsEqwCBkFK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQITGmd81cE-6qJUbd5tGv7hLkM435SBNmAD0-8KxwGh0oN0Y3CCQUmDdWRwgkFLhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16712/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.100/tcp/10751/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10750/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48315/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "75db2ae7-69d1-4383-823e-c49f91b7e328", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"75db2ae7-69d1-4383-823e-c49f91b7e328","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49212/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ee86da1d-83f6-4179-9ef3-405fb689d04b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ee86da1d-83f6-4179-9ef3-405fb689d04b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17528/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d86f6cea-502c-4110-a131-b3410844050e", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d86f6cea-502c-4110-a131-b3410844050e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16712/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3d14c56e-047a-4db5-b29b-34f82d57d56b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3d14c56e-047a-4db5-b29b-34f82d57d56b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10750/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48315/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1721103191631448832,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10750/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49212/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:49212/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 0db68a508a08
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 6999ff50850e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 825f9abf839b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id d31e03220a20
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 267b544ebc89
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.