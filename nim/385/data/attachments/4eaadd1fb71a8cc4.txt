[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_matches_multiple_messages with id: 2024-10-08_04-43-16__e4edbbd0-c45e-4eab-b2c2-2a72f2af7728
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-08_04-43-16__e4edbbd0-c45e-4eab-b2c2-2a72f2af7728__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.253.74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59512', '59513', '59514', '59515', '59516']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59512:59512 -p 59513:59513 -p 59514:59514 -p 59515:59515 -p 59516:59516 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59514 --rest-port=59512 --tcp-port=59513 --discv5-udp-port=59515 --rest-address=0.0.0.0 --nat=extip:172.18.253.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7c2eb510ed6bf1ef8db97e0387a0deca83cfc3d5b9459e15bdc7c16a8ad207ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59516 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.69.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3041', '3042', '3043', '3044', '3045']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3041:3041 -p 3042:3042 -p 3043:3043 -p 3044:3044 -p 3045:3045 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3043 --rest-port=3041 --tcp-port=3042 --discv5-udp-port=3044 --rest-address=0.0.0.0 --nat=extip:172.18.69.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1e7b7ebede6bca602dd76cb0efba2afa3ce51dacc9cfa612fa8c06daaaface65 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3045 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.69.89 waku a36d2ff443e8339d08f397cd3162fccf98dbd4c2bf9af28a9ea1a1fced2d28a8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a36d2ff443e8. Setting up logs at ./log/docker/publishing_node1_2024-10-08_04-43-16__e4edbbd0-c45e-4eab-b2c2-2a72f2af7728__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3041
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3041/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3041/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.69.89/tcp/3042/p2p/16Uiu2HAkzrzQEm6Z6vDdKAWMnZ6vVDJ6Ry4zTdjQqbnbs7pUk2J8","/ip4/172.18.69.89/tcp/3043/ws/p2p/16Uiu2HAkzrzQEm6Z6vDdKAWMnZ6vVDJ6Ry4zTdjQqbnbs7pUk2J8"],"enrUri":"enr:-LO4QDztVQWMLxdf-XPWrmmh8cddjPhFJnXFXsTzQLHBi_x7F26QWxAljE3JI4_YgGPEz-HZRQd6r7JQZob-iJRO-CMBgmlkgnY0gmlwhKwSRVmKbXVsdGlhZGRyc4wACgSsEkVZBgvj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJQxsi4oXahlbBz5XWauZw4_szU7g-VVX4wjvPH0eEtTYN0Y3CCC-KDdWRwggvkhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-08_04-43-16__e4edbbd0-c45e-4eab-b2c2-2a72f2af7728__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.20.37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53274', '53275', '53276', '53277', '53278']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53274:53274 -p 53275:53275 -p 53276:53276 -p 53277:53277 -p 53278:53278 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53276 --rest-port=53274 --tcp-port=53275 --discv5-udp-port=53277 --rest-address=0.0.0.0 --nat=extip:172.18.20.37 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2e53ed7a191dedb175ee7aa39bdc2f7f3b138a3015755f8d18fae6ae3bbb6c50 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53278 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDztVQWMLxdf-XPWrmmh8cddjPhFJnXFXsTzQLHBi_x7F26QWxAljE3JI4_YgGPEz-HZRQd6r7JQZob-iJRO-CMBgmlkgnY0gmlwhKwSRVmKbXVsdGlhZGRyc4wACgSsEkVZBgvj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJQxsi4oXahlbBz5XWauZw4_szU7g-VVX4wjvPH0eEtTYN0Y3CCC-KDdWRwggvkhXdha3UyAw --storenode=/ip4/172.18.69.89/tcp/3042/p2p/16Uiu2HAkzrzQEm6Z6vDdKAWMnZ6vVDJ6Ry4zTdjQqbnbs7pUk2J8 --store=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.25.86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48333', '48334', '48335', '48336', '48337']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48333:48333 -p 48334:48334 -p 48335:48335 -p 48336:48336 -p 48337:48337 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48335 --rest-port=48333 --tcp-port=48334 --discv5-udp-port=48336 --rest-address=0.0.0.0 --nat=extip:172.18.25.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e00defadffb2b4f9b877dd00d2fd7e07dab574c7eff8b5884b8b36dc39df4cd2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48337 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDztVQWMLxdf-XPWrmmh8cddjPhFJnXFXsTzQLHBi_x7F26QWxAljE3JI4_YgGPEz-HZRQd6r7JQZob-iJRO-CMBgmlkgnY0gmlwhKwSRVmKbXVsdGlhZGRyc4wACgSsEkVZBgvj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJQxsi4oXahlbBz5XWauZw4_szU7g-VVX4wjvPH0eEtTYN0Y3CCC-KDdWRwggvkhXdha3UyAw --storenode=/ip4/172.18.69.89/tcp/3042/p2p/16Uiu2HAkzrzQEm6Z6vDdKAWMnZ6vVDJ6Ry4zTdjQqbnbs7pUk2J8 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.25.86 waku 66b40b94ac2dd77db29fe25cdf3cd76917e3d97f96d60782e99f7f08ef0f0798
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 66b40b94ac2d. Setting up logs at ./log/docker/store_node1_2024-10-08_04-43-16__e4edbbd0-c45e-4eab-b2c2-2a72f2af7728__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48333
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48333/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48333/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.86/tcp/48334/p2p/16Uiu2HAmBKwYFwKdu2CgPE6mBCVjw7X25sc55vsANRwoLgsqofa4","/ip4/172.18.25.86/tcp/48335/ws/p2p/16Uiu2HAmBKwYFwKdu2CgPE6mBCVjw7X25sc55vsANRwoLgsqofa4"],"enrUri":"enr:-LO4QM-F9ku2FwJRNI3ljlzVPrC21N6BdUTJJQTksRz_FwPZYrsZ8Pkodn6j2d-p3DwbNXOOiSldaelDS1MTiDe_jSwBgmlkgnY0gmlwhKwSGVaKbXVsdGlhZGRyc4wACgSsEhlWBrzP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLsQxlzjfWMNhGkT1EYjx_uxqkqUYUF2j_3qyKR9bS3hYN0Y3CCvM6DdWRwgrzQhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48333/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.69.89/tcp/3042/p2p/16Uiu2HAkzrzQEm6Z6vDdKAWMnZ6vVDJ6Ry4zTdjQqbnbs7pUk2J8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3041/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48333/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3041/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3041/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3041/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3041/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3041/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3041/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3041/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1728362593015116128&endTime=1728362598015337120&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"s0WzJc59BSxw6Z/RrMzyUyEXQpc0tNb2D2HYRV1uFx4="},{"messageHash":"AftJ1uGvFrLg7MXWWFZ3hz0b5AXlV+EiFvoMi7GDFxE="},{"messageHash":"SE+l3Vaw99/hRtM8e19F5Axw/oYRPmDzj2jEdO9js98="},{"messageHash":"JLMEsS+0vnYfbfiPT0vnfwdx+sSd8Ln5nWM+N/j5T1Q="},{"messageHash":"EN11GQukxvFBzZuRm8q025sayO9mR3Colp5z4/+pyI0="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48333/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1728362593015116128&endTime=1728362598015337120&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"s0WzJc59BSxw6Z/RrMzyUyEXQpc0tNb2D2HYRV1uFx4="},{"messageHash":"AftJ1uGvFrLg7MXWWFZ3hz0b5AXlV+EiFvoMi7GDFxE="},{"messageHash":"SE+l3Vaw99/hRtM8e19F5Axw/oYRPmDzj2jEdO9js98="},{"messageHash":"JLMEsS+0vnYfbfiPT0vnfwdx+sSd8Ln5nWM+N/j5T1Q="},{"messageHash":"EN11GQukxvFBzZuRm8q025sayO9mR3Colp5z4/+pyI0="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a36d2ff443e8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 66b40b94ac2d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.