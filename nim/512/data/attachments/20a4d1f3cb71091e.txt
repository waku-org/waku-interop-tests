[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-12-12_04-16-55__3845bcad-1e54-486e-9f00-3310b5b1e617
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-12_04-16-55__3845bcad-1e54-486e-9f00-3310b5b1e617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.212.200
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50518', '50519', '50520', '50521', '50522']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50518:50518 -p 50519:50519 -p 50520:50520 -p 50521:50521 -p 50522:50522 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50520 --rest-port=50518 --tcp-port=50519 --discv5-udp-port=50521 --rest-address=0.0.0.0 --nat=extip:172.18.212.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=450c7d0fd3d169efe3af0ac33aedd3f6ab7cb27eda1af7ec7f812dc7c4496fa2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50522 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.212.200 waku 9c47c086600c60ebd5274099243e6bebca7efd3a0fd0adf1343a56713ebbd715
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9c47c086600c. Setting up logs at ./log/docker/node1_2024-12-12_04-16-55__3845bcad-1e54-486e-9f00-3310b5b1e617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 50518
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 526f1bcae7ee. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50518/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50518/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.200/tcp/50519/p2p/16Uiu2HAmQxJ1VpwJJhFqfN4tb1YeQwiSpUCK3GMtrnRJUebAMDc2","/ip4/172.18.212.200/tcp/50520/ws/p2p/16Uiu2HAmQxJ1VpwJJhFqfN4tb1YeQwiSpUCK3GMtrnRJUebAMDc2"],"enrUri":"enr:-L24QIy1BzdX7LMl_JjLoeAq3W7hSoZQURNu6n6FDfXEoiwlS1OF6s_IpoTqet4riUjKWODy1Teulw-ZuZjiJovOxcMCgmlkgnY0gmlwhKwS1MiKbXVsdGlhZGRyc5YACASsEtTIBsVXAAoErBLUyAbFWN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtrsVbM7q_OzseqN9nZbh-7NWlFtMFMejs1Fo1qGK9U-DdGNwgsVXg3VkcILFWYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-12_04-16-55__3845bcad-1e54-486e-9f00-3310b5b1e617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.162.22
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32947', '32948', '32949', '32950', '32951']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32947:32947 -p 32948:32948 -p 32949:32949 -p 32950:32950 -p 32951:32951 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32949 --rest-port=32947 --tcp-port=32948 --discv5-udp-port=32950 --rest-address=0.0.0.0 --nat=extip:172.18.162.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=63bc03cdb4cc93ee2ce29d4bda8bbfbc6e5b5e7a805c1c036c68f3fdc4c06cfb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32951 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIy1BzdX7LMl_JjLoeAq3W7hSoZQURNu6n6FDfXEoiwlS1OF6s_IpoTqet4riUjKWODy1Teulw-ZuZjiJovOxcMCgmlkgnY0gmlwhKwS1MiKbXVsdGlhZGRyc5YACASsEtTIBsVXAAoErBLUyAbFWN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtrsVbM7q_OzseqN9nZbh-7NWlFtMFMejs1Fo1qGK9U-DdGNwgsVXg3VkcILFWYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.162.22 waku a3b0176679eacfb26a32a464ad07f86b55e67a5e03ecffbf95f49e47acaa1b32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a3b0176679ea. Setting up logs at ./log/docker/node2_2024-12-12_04-16-55__3845bcad-1e54-486e-9f00-3310b5b1e617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 32947
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32947/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32947/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.162.22/tcp/32948/p2p/16Uiu2HAkxTeR7oSqTGwr7CoRpU9KdGDm4o74mifH9LKacFfggDbg","/ip4/172.18.162.22/tcp/32949/ws/p2p/16Uiu2HAkxTeR7oSqTGwr7CoRpU9KdGDm4o74mifH9LKacFfggDbg"],"enrUri":"enr:-L24QOEt5AF971h-TRsCLjdTbZedrCJx9kyIsLRLNZSvVKADBVFDf82ks04jMR4F6NtMhAe_1skKPNMiFn0xaDDcK2sCgmlkgnY0gmlwhKwSohaKbXVsdGlhZGRyc5YACASsEqIWBoC0AAoErBKiFgaAtd0DgnJzhQADAQAAiXNlY3AyNTZrMaECLRR0ZoYenyXUv2fja4SEap4YAUPZ8ZpRdm3zOJ00PNODdGNwgoC0g3VkcIKAtoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32947/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.200/tcp/50519/p2p/16Uiu2HAmQxJ1VpwJJhFqfN4tb1YeQwiSpUCK3GMtrnRJUebAMDc2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-12_04-16-55__3845bcad-1e54-486e-9f00-3310b5b1e617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.193.227
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2454', '2455', '2456', '2457', '2458']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2454:2454 -p 2455:2455 -p 2456:2456 -p 2457:2457 -p 2458:2458 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2456 --rest-port=2454 --tcp-port=2455 --discv5-udp-port=2457 --rest-address=0.0.0.0 --nat=extip:172.18.193.227 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e9ceffa651d9d0ebdc42644d1a39d0b66c97d4bebdd97b2a9d3de5179ccf3bdf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2458 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIy1BzdX7LMl_JjLoeAq3W7hSoZQURNu6n6FDfXEoiwlS1OF6s_IpoTqet4riUjKWODy1Teulw-ZuZjiJovOxcMCgmlkgnY0gmlwhKwS1MiKbXVsdGlhZGRyc5YACASsEtTIBsVXAAoErBLUyAbFWN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtrsVbM7q_OzseqN9nZbh-7NWlFtMFMejs1Fo1qGK9U-DdGNwgsVXg3VkcILFWYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.193.227 waku 213c6006a64f6224fc9d7270052237eca34e8676d18f40c1c89bf9137d5a83c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 213c6006a64f. Setting up logs at ./log/docker/node3_2024-12-12_04-16-55__3845bcad-1e54-486e-9f00-3310b5b1e617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2454
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2454/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2454/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.227/tcp/2455/p2p/16Uiu2HAmPd1s7fMvYEPeYDEm4p75zc8efDysHNvpw7LC4Ej64brX","/ip4/172.18.193.227/tcp/2456/ws/p2p/16Uiu2HAmPd1s7fMvYEPeYDEm4p75zc8efDysHNvpw7LC4Ej64brX"],"enrUri":"enr:-L24QCcu74853_qUuoDGLLnEzSvRda5pKkqS7CvUJlQm-t8-Z9MtgvLqlxYVfn2KHl5H5FGj9J4yBO6kBtdF57tDHJcCgmlkgnY0gmlwhKwSweOKbXVsdGlhZGRyc5YACASsEsHjBgmXAAoErBLB4wYJmN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDou8bUmK9pbMDDGg1RNNNCu1ZHmEuVCwiRENx_ab0Z8iDdGNwggmXg3VkcIIJmYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2454/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.200/tcp/50519/p2p/16Uiu2HAmQxJ1VpwJJhFqfN4tb1YeQwiSpUCK3GMtrnRJUebAMDc2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-12_04-16-55__3845bcad-1e54-486e-9f00-3310b5b1e617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.174.0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35250', '35251', '35252', '35253', '35254']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35250:35250 -p 35251:35251 -p 35252:35252 -p 35253:35253 -p 35254:35254 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35252 --rest-port=35250 --tcp-port=35251 --discv5-udp-port=35253 --rest-address=0.0.0.0 --nat=extip:172.18.174.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be42a77aa7c1babce455b3ed238a34bafcbcbd7b60e98fbe7fb28bb9f46dbdff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35254 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIy1BzdX7LMl_JjLoeAq3W7hSoZQURNu6n6FDfXEoiwlS1OF6s_IpoTqet4riUjKWODy1Teulw-ZuZjiJovOxcMCgmlkgnY0gmlwhKwS1MiKbXVsdGlhZGRyc5YACASsEtTIBsVXAAoErBLUyAbFWN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtrsVbM7q_OzseqN9nZbh-7NWlFtMFMejs1Fo1qGK9U-DdGNwgsVXg3VkcILFWYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.174.0 waku 232b4f0f4614bb99fdbccc98e4be26710435f99edc0c6b890d842e5756d5bfc9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 232b4f0f4614. Setting up logs at ./log/docker/node4_2024-12-12_04-16-55__3845bcad-1e54-486e-9f00-3310b5b1e617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 35250
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35250/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35250/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.174.0/tcp/35251/p2p/16Uiu2HAmLSnDMKbP4b7bBkPmSNdApTkvz7f567PYaSQr9DJFMXfs","/ip4/172.18.174.0/tcp/35252/ws/p2p/16Uiu2HAmLSnDMKbP4b7bBkPmSNdApTkvz7f567PYaSQr9DJFMXfs"],"enrUri":"enr:-L24QJNFuGgbimUtwa_okiEBC8qbMO0eHaFUsAqSGetcV2Qhc5_hiujTULcHt2YmH_bkGBu-J3Q9NYIBhwhR-489BWUCgmlkgnY0gmlwhKwSrgCKbXVsdGlhZGRyc5YACASsEq4ABomzAAoErBKuAAaJtN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc7zNcEdBb8_MVb_m5JHYm6coVSIlUbhoMb3kC2g75qaDdGNwgomzg3VkcIKJtYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35250/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.200/tcp/50519/p2p/16Uiu2HAmQxJ1VpwJJhFqfN4tb1YeQwiSpUCK3GMtrnRJUebAMDc2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-12_04-16-55__3845bcad-1e54-486e-9f00-3310b5b1e617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.140.137
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28371', '28372', '28373', '28374', '28375']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28371:28371 -p 28372:28372 -p 28373:28373 -p 28374:28374 -p 28375:28375 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28373 --rest-port=28371 --tcp-port=28372 --discv5-udp-port=28374 --rest-address=0.0.0.0 --nat=extip:172.18.140.137 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=124ab5957b8db9ef4b9e9adeeddbbcabececfa0d5d4fceb789c6c4abecd9ca3b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28375 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIy1BzdX7LMl_JjLoeAq3W7hSoZQURNu6n6FDfXEoiwlS1OF6s_IpoTqet4riUjKWODy1Teulw-ZuZjiJovOxcMCgmlkgnY0gmlwhKwS1MiKbXVsdGlhZGRyc5YACASsEtTIBsVXAAoErBLUyAbFWN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtrsVbM7q_OzseqN9nZbh-7NWlFtMFMejs1Fo1qGK9U-DdGNwgsVXg3VkcILFWYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.140.137 waku b86f937a8fdb48d9bf224263346238c8d206c248c387b932fb0eeef8ae319828
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b86f937a8fdb. Setting up logs at ./log/docker/node5_2024-12-12_04-16-55__3845bcad-1e54-486e-9f00-3310b5b1e617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 28371
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28371/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28371/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.140.137/tcp/28372/p2p/16Uiu2HAm4zYZLQNeEjGSkbAoyYkAy9PJLJ7RzpB3muzngSsTstcy","/ip4/172.18.140.137/tcp/28373/ws/p2p/16Uiu2HAm4zYZLQNeEjGSkbAoyYkAy9PJLJ7RzpB3muzngSsTstcy"],"enrUri":"enr:-L24QMP3FvtYZo9Etl-ayLRiFGKNfFoTM2BRbJPwl-lGOunsLZNI6l0zUtdE3WjNkZ3N0_7_IM3kx6VX-1c0_x7hIloCgmlkgnY0gmlwhKwSjImKbXVsdGlhZGRyc5YACASsEoyJBm7UAAoErBKMiQZu1d0DgnJzhQADAQAAiXNlY3AyNTZrMaECjiT1EcESWemfs0hxVrr2t4GHsqL8OPpRQk8UetuFi8KDdGNwgm7Ug3VkcIJu1oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28371/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.200/tcp/50519/p2p/16Uiu2HAmQxJ1VpwJJhFqfN4tb1YeQwiSpUCK3GMtrnRJUebAMDc2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50518/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32947/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2454/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35250/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28371/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50518/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50518/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977022463444480,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32947/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977022463444480,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977022463444480,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35250/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977022463444480,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28371/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977022463444480,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50518/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50518/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977022590674688,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32947/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977022590674688,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977022590674688,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35250/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977022590674688,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28371/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977022590674688,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a3b0176679ea
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50518/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977023969305856,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35250/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977023969305856,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28371/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977023969305856,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9c47c086600c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a3b0176679ea. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 213c6006a64f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9c47c086600c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 232b4f0f4614
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 213c6006a64f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b86f937a8fdb
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 232b4f0f4614. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.