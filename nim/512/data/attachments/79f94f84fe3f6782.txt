[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-12_04-10-10__5ceb41bc-a2fd-444f-8878-73dc7dd4f2b2
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-12_04-10-10__5ceb41bc-a2fd-444f-8878-73dc7dd4f2b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.175.154
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10463', '10464', '10465', '10466', '10467']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10463:10463 -p 10464:10464 -p 10465:10465 -p 10466:10466 -p 10467:10467 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10465 --rest-port=10463 --tcp-port=10464 --discv5-udp-port=10466 --rest-address=0.0.0.0 --nat=extip:172.18.175.154 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4cdb54ba8a53e0e7a917676cd66c426f5d9cbdf64dab7af0a63098b983f6b3d8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10467 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.175.154 waku c5d16117e81d6b097cf61be3b54a8dc0088f44f0cfff5daf69493205f11ac11c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c5d16117e81d. Setting up logs at ./log/docker/node1_2024-12-12_04-10-10__5ceb41bc-a2fd-444f-8878-73dc7dd4f2b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 10463
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0bf6223ea9a5. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10463/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10463/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.175.154/tcp/10464/p2p/16Uiu2HAkzr3U1pZmy4z2rszyh9xyWDw7yKcnFcpAWyq6YH1iBwaK","/ip4/172.18.175.154/tcp/10465/ws/p2p/16Uiu2HAkzr3U1pZmy4z2rszyh9xyWDw7yKcnFcpAWyq6YH1iBwaK"],"enrUri":"enr:-L24QHsKsLjQAkx2u6w2f5OYjGBvobXb2wn7UJd0PE9it9B7WGksN355UJwrcPPnoMAEHCwWo82lhh3pp05jw3L7EsECgmlkgnY0gmlwhKwSr5qKbXVsdGlhZGRyc5YACASsEq-aBijgAAoErBKvmgYo4d0DgnJzhQADAQAAiXNlY3AyNTZrMaECUIirQ4ZpQp2W-dIiAnb7t1LFCPboccqnlKp-FnqHcMSDdGNwgijgg3VkcIIo4oV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-12_04-10-10__5ceb41bc-a2fd-444f-8878-73dc7dd4f2b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.190.62
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4695', '4696', '4697', '4698', '4699']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4695:4695 -p 4696:4696 -p 4697:4697 -p 4698:4698 -p 4699:4699 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4697 --rest-port=4695 --tcp-port=4696 --discv5-udp-port=4698 --rest-address=0.0.0.0 --nat=extip:172.18.190.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=db9767da0f277d77fe01b9ec6f716b0eeca15c121c899ba0e8cf5cd7e7ad064f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4699 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHsKsLjQAkx2u6w2f5OYjGBvobXb2wn7UJd0PE9it9B7WGksN355UJwrcPPnoMAEHCwWo82lhh3pp05jw3L7EsECgmlkgnY0gmlwhKwSr5qKbXVsdGlhZGRyc5YACASsEq-aBijgAAoErBKvmgYo4d0DgnJzhQADAQAAiXNlY3AyNTZrMaECUIirQ4ZpQp2W-dIiAnb7t1LFCPboccqnlKp-FnqHcMSDdGNwgijgg3VkcIIo4oV3YWt1MgU --filternode=/ip4/172.18.175.154/tcp/10464/p2p/16Uiu2HAkzr3U1pZmy4z2rszyh9xyWDw7yKcnFcpAWyq6YH1iBwaK
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.190.62 waku 11555b10277dd367d54df161d665440546e76688ead61d2a65647feec45c1d7e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 11555b10277d. Setting up logs at ./log/docker/node2_2024-12-12_04-10-10__5ceb41bc-a2fd-444f-8878-73dc7dd4f2b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4695
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4695/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4695/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.62/tcp/4696/p2p/16Uiu2HAmSxaakuzCZz9rAXY2ARQGQjWECC5AgiMBUrQJf86q1SbD","/ip4/172.18.190.62/tcp/4697/ws/p2p/16Uiu2HAmSxaakuzCZz9rAXY2ARQGQjWECC5AgiMBUrQJf86q1SbD"],"enrUri":"enr:-L24QLHCvN4_1jSO0xg5QrV5n8s3ltT__b-DgQwJE2yHmk6kcLgwuXHQTMO6GR_zhXNauMX2od-FVSqatnafDqQScSUCgmlkgnY0gmlwhKwSvj6KbXVsdGlhZGRyc5YACASsEr4-BhJYAAoErBK-PgYSWd0DgnJzhQADAQAAiXNlY3AyNTZrMaED1IUye_uBIKKZdGP5g-2Etwi7swsjSbPWfxPmgGM_TSSDdGNwghJYg3VkcIISWoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4695/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.175.154/tcp/10464/p2p/16Uiu2HAkzr3U1pZmy4z2rszyh9xyWDw7yKcnFcpAWyq6YH1iBwaK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-12_04-10-10__5ceb41bc-a2fd-444f-8878-73dc7dd4f2b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.248.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46812', '46813', '46814', '46815', '46816']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46812:46812 -p 46813:46813 -p 46814:46814 -p 46815:46815 -p 46816:46816 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46814 --rest-port=46812 --tcp-port=46813 --discv5-udp-port=46815 --rest-address=0.0.0.0 --nat=extip:172.18.248.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8e87a6cd094489d43df041eace226c27c8e4b450d4cc128b11eb760aae6fbae5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46816 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHsKsLjQAkx2u6w2f5OYjGBvobXb2wn7UJd0PE9it9B7WGksN355UJwrcPPnoMAEHCwWo82lhh3pp05jw3L7EsECgmlkgnY0gmlwhKwSr5qKbXVsdGlhZGRyc5YACASsEq-aBijgAAoErBKvmgYo4d0DgnJzhQADAQAAiXNlY3AyNTZrMaECUIirQ4ZpQp2W-dIiAnb7t1LFCPboccqnlKp-FnqHcMSDdGNwgijgg3VkcIIo4oV3YWt1MgU --filternode=/ip4/172.18.175.154/tcp/10464/p2p/16Uiu2HAkzr3U1pZmy4z2rszyh9xyWDw7yKcnFcpAWyq6YH1iBwaK
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.248.120 waku 05ac2fd4187fcffbcff407868b529633bd48efd63dfa71584d187e94dae3c747
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 05ac2fd4187f. Setting up logs at ./log/docker/node3_2024-12-12_04-10-10__5ceb41bc-a2fd-444f-8878-73dc7dd4f2b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 46812
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46812/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46812/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.248.120/tcp/46813/p2p/16Uiu2HAky2rCWc8qKp8yRnxjgF7c673XTamcnFDZEuAEDEWHdNRP","/ip4/172.18.248.120/tcp/46814/ws/p2p/16Uiu2HAky2rCWc8qKp8yRnxjgF7c673XTamcnFDZEuAEDEWHdNRP"],"enrUri":"enr:-L24QJJHyBEaOzDkiCmNZOG2YNATprOQqsL_sjKhBUZI2WyDAfK_3anuOa2mmTiBHFFKkZRkmddU_sFqbW30uDFprTkCgmlkgnY0gmlwhKwS-HiKbXVsdGlhZGRyc5YACASsEvh4BrbdAAoErBL4eAa23t0DgnJzhQADAQAAiXNlY3AyNTZrMaECNZXxrilaGtm8ixwKZI71FVImc63PZQBtvhbLZOtBaXqDdGNwgrbdg3VkcIK234V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46812/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.175.154/tcp/10464/p2p/16Uiu2HAkzr3U1pZmy4z2rszyh9xyWDw7yKcnFcpAWyq6YH1iBwaK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-12_04-10-10__5ceb41bc-a2fd-444f-8878-73dc7dd4f2b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.214.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15325', '15326', '15327', '15328', '15329']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15325:15325 -p 15326:15326 -p 15327:15327 -p 15328:15328 -p 15329:15329 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15327 --rest-port=15325 --tcp-port=15326 --discv5-udp-port=15328 --rest-address=0.0.0.0 --nat=extip:172.18.214.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bf8bfeed48d47ff62fa1a856b0a56edd67ff16add2b11e96a9877f10a03eefe0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15329 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHsKsLjQAkx2u6w2f5OYjGBvobXb2wn7UJd0PE9it9B7WGksN355UJwrcPPnoMAEHCwWo82lhh3pp05jw3L7EsECgmlkgnY0gmlwhKwSr5qKbXVsdGlhZGRyc5YACASsEq-aBijgAAoErBKvmgYo4d0DgnJzhQADAQAAiXNlY3AyNTZrMaECUIirQ4ZpQp2W-dIiAnb7t1LFCPboccqnlKp-FnqHcMSDdGNwgijgg3VkcIIo4oV3YWt1MgU --filternode=/ip4/172.18.175.154/tcp/10464/p2p/16Uiu2HAkzr3U1pZmy4z2rszyh9xyWDw7yKcnFcpAWyq6YH1iBwaK
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.214.207 waku c6a0fc76e87e88d76aea56677c752be1baed82a1601942a201f19ac2c5f0397d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c6a0fc76e87e. Setting up logs at ./log/docker/node4_2024-12-12_04-10-10__5ceb41bc-a2fd-444f-8878-73dc7dd4f2b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 15325
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15325/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15325/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.214.207/tcp/15326/p2p/16Uiu2HAmQhU2MDsCFrsP3TF94zsvT7jSCmGMr8h5BAgaUJz5Wdqk","/ip4/172.18.214.207/tcp/15327/ws/p2p/16Uiu2HAmQhU2MDsCFrsP3TF94zsvT7jSCmGMr8h5BAgaUJz5Wdqk"],"enrUri":"enr:-L24QOfhuoXPcFAlWr-ofaiyN9NAv73kqIPHX_Fhy3yChlPgCWsbImBikdgtx0LTBRlqIMiHgXkyd3rKGLrx8KoIchkCgmlkgnY0gmlwhKwS1s-KbXVsdGlhZGRyc5YACASsEtbPBjveAAoErBLWzwY7390DgnJzhQADAQAAiXNlY3AyNTZrMaEDsu6x-D547-Kbu5-zMlZRF8SOKLAuKpM25uNLcmuLkEODdGNwgjveg3VkcII74IV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15325/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.175.154/tcp/10464/p2p/16Uiu2HAkzr3U1pZmy4z2rszyh9xyWDw7yKcnFcpAWyq6YH1iBwaK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-12_04-10-10__5ceb41bc-a2fd-444f-8878-73dc7dd4f2b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.194.99
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41024', '41025', '41026', '41027', '41028']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41024:41024 -p 41025:41025 -p 41026:41026 -p 41027:41027 -p 41028:41028 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41026 --rest-port=41024 --tcp-port=41025 --discv5-udp-port=41027 --rest-address=0.0.0.0 --nat=extip:172.18.194.99 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aa86b9f88cb417e89bbabe1c38bd501efa9597c041c1c9ec7723f14eb00fbb9f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41028 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHsKsLjQAkx2u6w2f5OYjGBvobXb2wn7UJd0PE9it9B7WGksN355UJwrcPPnoMAEHCwWo82lhh3pp05jw3L7EsECgmlkgnY0gmlwhKwSr5qKbXVsdGlhZGRyc5YACASsEq-aBijgAAoErBKvmgYo4d0DgnJzhQADAQAAiXNlY3AyNTZrMaECUIirQ4ZpQp2W-dIiAnb7t1LFCPboccqnlKp-FnqHcMSDdGNwgijgg3VkcIIo4oV3YWt1MgU --filternode=/ip4/172.18.175.154/tcp/10464/p2p/16Uiu2HAkzr3U1pZmy4z2rszyh9xyWDw7yKcnFcpAWyq6YH1iBwaK
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.194.99 waku cd115a91ad1adf01d609e1cfebacffc6ffa1985218d95869656a4d77c969e011
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cd115a91ad1a. Setting up logs at ./log/docker/node5_2024-12-12_04-10-10__5ceb41bc-a2fd-444f-8878-73dc7dd4f2b2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 41024
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41024/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41024/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.194.99/tcp/41025/p2p/16Uiu2HAm4MGi5SH38CLoYFgJdBTA4gMLczz51iMoFpsydYRD1RoQ","/ip4/172.18.194.99/tcp/41026/ws/p2p/16Uiu2HAm4MGi5SH38CLoYFgJdBTA4gMLczz51iMoFpsydYRD1RoQ"],"enrUri":"enr:-L24QGOTieHaFyJFPLw6DeYC9Lku6ogpnxkupb-tZGpF6-qGIdlU_MfERJ6mHSWRpIRWUNiXt16Hiv9LpgrT1M9CJ8YCgmlkgnY0gmlwhKwSwmOKbXVsdGlhZGRyc5YACASsEsJjBqBBAAoErBLCYwagQt0DgnJzhQADAQAAiXNlY3AyNTZrMaEChJiL6YTC2GtXs3qRtUJ9uPMk2Ub7Bd8_mJ8zhOjS_WODdGNwgqBBg3VkcIKgQ4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41024/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.175.154/tcp/10464/p2p/16Uiu2HAkzr3U1pZmy4z2rszyh9xyWDw7yKcnFcpAWyq6YH1iBwaK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10463/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4695/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "28b600d9-eaae-4737-9215-660e30ac6189", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"28b600d9-eaae-4737-9215-660e30ac6189","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46812/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0f62f1b7-d26f-4fc5-ae1e-9036854d651d", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0f62f1b7-d26f-4fc5-ae1e-9036854d651d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15325/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ae42a8cd-af81-49ad-b614-5b1fcf3df5c0", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ae42a8cd-af81-49ad-b614-5b1fcf3df5c0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41024/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3d5c457e-baac-4216-af12-141f87d068bf", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3d5c457e-baac-4216-af12-141f87d068bf","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10463/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4695/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733976617948461056,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10463/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46812/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:46812/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c5d16117e81d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 11555b10277d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c5d16117e81d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 05ac2fd4187f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 11555b10277d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c6a0fc76e87e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 05ac2fd4187f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id cd115a91ad1a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c6a0fc76e87e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.