[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-12_04-16-35__12629634-ae04-4e53-9705-6d301e1cd517
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-12_04-16-35__12629634-ae04-4e53-9705-6d301e1cd517__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.244.52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27759', '27760', '27761', '27762', '27763']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27759:27759 -p 27760:27760 -p 27761:27761 -p 27762:27762 -p 27763:27763 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27761 --rest-port=27759 --tcp-port=27760 --discv5-udp-port=27762 --rest-address=0.0.0.0 --nat=extip:172.18.244.52 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d77edcafab71ac6ae8eddbd3ef4eaa4b1ed69adc9aeea3f6fc4aeed0152dcbeb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27763 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.244.52 waku 445f86b142b56021058c6e7ea66f096f175a2a8fcc1cdb84727db13cb4e4eaf4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 445f86b142b5. Setting up logs at ./log/docker/node1_2024-12-12_04-16-35__12629634-ae04-4e53-9705-6d301e1cd517__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 27759
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f742c2f3d1ca. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27759/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27759/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.244.52/tcp/27760/p2p/16Uiu2HAmUWzt6Bs1nXHRJJmoLktRSFFhiymHPhzgvHgHviDSM4Mc","/ip4/172.18.244.52/tcp/27761/ws/p2p/16Uiu2HAmUWzt6Bs1nXHRJJmoLktRSFFhiymHPhzgvHgHviDSM4Mc"],"enrUri":"enr:-L24QIVRlKlGy32U7EH3xSKh_yE1p6yi6iH2G_z7Cm_JtgfdEN88hBvBdzXcViDOWjU3VyEknN-tZKinnplz7u5aakMCgmlkgnY0gmlwhKwS9DSKbXVsdGlhZGRyc5YACASsEvQ0BmxwAAoErBL0NAZscd0DgnJzhQADAQAAiXNlY3AyNTZrMaED667x3liAnFvm6JPZ3FqfwY69AOSPXpHC1clSYy1dzAeDdGNwgmxwg3VkcIJscoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-12_04-16-35__12629634-ae04-4e53-9705-6d301e1cd517__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.111.250
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30668', '30669', '30670', '30671', '30672']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30668:30668 -p 30669:30669 -p 30670:30670 -p 30671:30671 -p 30672:30672 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30670 --rest-port=30668 --tcp-port=30669 --discv5-udp-port=30671 --rest-address=0.0.0.0 --nat=extip:172.18.111.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d4c1cd0355009ba9aacbc917f8caac663dbb26d7aaef6c9df4f0c09adfd203de --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30672 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIVRlKlGy32U7EH3xSKh_yE1p6yi6iH2G_z7Cm_JtgfdEN88hBvBdzXcViDOWjU3VyEknN-tZKinnplz7u5aakMCgmlkgnY0gmlwhKwS9DSKbXVsdGlhZGRyc5YACASsEvQ0BmxwAAoErBL0NAZscd0DgnJzhQADAQAAiXNlY3AyNTZrMaED667x3liAnFvm6JPZ3FqfwY69AOSPXpHC1clSYy1dzAeDdGNwgmxwg3VkcIJscoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.111.250 waku c5ce69c83063ce748850543791ef507655e1a88deb0f8492256fb03bcfc03bc4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c5ce69c83063. Setting up logs at ./log/docker/node2_2024-12-12_04-16-35__12629634-ae04-4e53-9705-6d301e1cd517__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30668
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30668/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30668/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.250/tcp/30669/p2p/16Uiu2HAmApKdMvRZzgx3M7FjXu81JH7FH5yS6dUAwrduGhEMyefJ","/ip4/172.18.111.250/tcp/30670/ws/p2p/16Uiu2HAmApKdMvRZzgx3M7FjXu81JH7FH5yS6dUAwrduGhEMyefJ"],"enrUri":"enr:-L24QDhto6Sg9PHw0E_XNrc0-mEeTpZNKE2CC6jRgXYjMG16fBInRSq4wLUjkpnkien4rdpx2YFXmmDEmEaWaXQGo9UCgmlkgnY0gmlwhKwSb_qKbXVsdGlhZGRyc5YACASsEm_6BnfNAAoErBJv-gZ3zt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC5KymbcWS0F9VVKLmCAxf_8N5oA47B-wKaRD-9SFAfYGDdGNwgnfNg3VkcIJ3z4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30668/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.244.52/tcp/27760/p2p/16Uiu2HAmUWzt6Bs1nXHRJJmoLktRSFFhiymHPhzgvHgHviDSM4Mc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-12_04-16-35__12629634-ae04-4e53-9705-6d301e1cd517__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.253.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54811', '54812', '54813', '54814', '54815']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54811:54811 -p 54812:54812 -p 54813:54813 -p 54814:54814 -p 54815:54815 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54813 --rest-port=54811 --tcp-port=54812 --discv5-udp-port=54814 --rest-address=0.0.0.0 --nat=extip:172.18.253.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=681959397b7d1cd3757c4d0ecefbcedced19b31abee6ef4a6b9744fa935e7f12 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54815 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIVRlKlGy32U7EH3xSKh_yE1p6yi6iH2G_z7Cm_JtgfdEN88hBvBdzXcViDOWjU3VyEknN-tZKinnplz7u5aakMCgmlkgnY0gmlwhKwS9DSKbXVsdGlhZGRyc5YACASsEvQ0BmxwAAoErBL0NAZscd0DgnJzhQADAQAAiXNlY3AyNTZrMaED667x3liAnFvm6JPZ3FqfwY69AOSPXpHC1clSYy1dzAeDdGNwgmxwg3VkcIJscoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.253.69 waku fb70e745011dc7bbfddb3c5c54c18ddacdcc0e69b0e455164bc1ca38bfe85c84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fb70e745011d. Setting up logs at ./log/docker/node3_2024-12-12_04-16-35__12629634-ae04-4e53-9705-6d301e1cd517__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 54811
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54811/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54811/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.69/tcp/54812/p2p/16Uiu2HAmUbepYgnLGw8RomRGrxWR8DjrHxN7LTobGhepXsxgfyuN","/ip4/172.18.253.69/tcp/54813/ws/p2p/16Uiu2HAmUbepYgnLGw8RomRGrxWR8DjrHxN7LTobGhepXsxgfyuN"],"enrUri":"enr:-L24QANiYh3vHPhz3lRWfnV9GAYtNfHlOI5tWuAD68hjzp0tFvGzwChwXLIaRHS0a4Tdxmz4BBIsElkTc5LCEbhHkpUCgmlkgnY0gmlwhKwS_UWKbXVsdGlhZGRyc5YACASsEv1FBtYcAAoErBL9RQbWHd0DgnJzhQADAQAAiXNlY3AyNTZrMaED7OAqa0ZBFQf5x3zmpAftKDyTkW7YtxMPiDzB5gNpbP2DdGNwgtYcg3VkcILWHoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54811/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.244.52/tcp/27760/p2p/16Uiu2HAmUWzt6Bs1nXHRJJmoLktRSFFhiymHPhzgvHgHviDSM4Mc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-12_04-16-35__12629634-ae04-4e53-9705-6d301e1cd517__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.14.75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34361', '34362', '34363', '34364', '34365']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34361:34361 -p 34362:34362 -p 34363:34363 -p 34364:34364 -p 34365:34365 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34363 --rest-port=34361 --tcp-port=34362 --discv5-udp-port=34364 --rest-address=0.0.0.0 --nat=extip:172.18.14.75 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfe8ccaae8dc8d13db0c9e6cc65ec7df74ba7c6bd0c1eaaeef9dab0ac4f0d3bc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34365 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIVRlKlGy32U7EH3xSKh_yE1p6yi6iH2G_z7Cm_JtgfdEN88hBvBdzXcViDOWjU3VyEknN-tZKinnplz7u5aakMCgmlkgnY0gmlwhKwS9DSKbXVsdGlhZGRyc5YACASsEvQ0BmxwAAoErBL0NAZscd0DgnJzhQADAQAAiXNlY3AyNTZrMaED667x3liAnFvm6JPZ3FqfwY69AOSPXpHC1clSYy1dzAeDdGNwgmxwg3VkcIJscoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.14.75 waku 3fbd9a2dfb7e4990606cfb62cbe0a88f4748b9246e1f78a6a28001d5f4198b1e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3fbd9a2dfb7e. Setting up logs at ./log/docker/node4_2024-12-12_04-16-35__12629634-ae04-4e53-9705-6d301e1cd517__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 34361
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34361/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34361/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.75/tcp/34362/p2p/16Uiu2HAm5t7z4Xfc9zbYxhAgx2dHtAiD4JRW4dPCGovGRHwyfmL3","/ip4/172.18.14.75/tcp/34363/ws/p2p/16Uiu2HAm5t7z4Xfc9zbYxhAgx2dHtAiD4JRW4dPCGovGRHwyfmL3"],"enrUri":"enr:-L24QGQ3sSwkC2YJy3SuGikIel0mZYob0lZDbgxLxwrEEHLLKdnu_hz74U9MNlNS2qdzuUPxcxAAAOlsdD6_JGAYw-YCgmlkgnY0gmlwhKwSDkuKbXVsdGlhZGRyc5YACASsEg5LBoY6AAoErBIOSwaGO90DgnJzhQADAQAAiXNlY3AyNTZrMaECm1tfsrQGlEBZKHN0Ykjaq0jycjGdUUG8gipSZDvHZLCDdGNwgoY6g3VkcIKGPIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34361/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.244.52/tcp/27760/p2p/16Uiu2HAmUWzt6Bs1nXHRJJmoLktRSFFhiymHPhzgvHgHviDSM4Mc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-12_04-16-35__12629634-ae04-4e53-9705-6d301e1cd517__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.1.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44168', '44169', '44170', '44171', '44172']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44168:44168 -p 44169:44169 -p 44170:44170 -p 44171:44171 -p 44172:44172 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44170 --rest-port=44168 --tcp-port=44169 --discv5-udp-port=44171 --rest-address=0.0.0.0 --nat=extip:172.18.1.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2dab4589edb7aded3c1ced0d864dfbb3b6998f24e01deacaf7feadffa3a116a1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44172 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIVRlKlGy32U7EH3xSKh_yE1p6yi6iH2G_z7Cm_JtgfdEN88hBvBdzXcViDOWjU3VyEknN-tZKinnplz7u5aakMCgmlkgnY0gmlwhKwS9DSKbXVsdGlhZGRyc5YACASsEvQ0BmxwAAoErBL0NAZscd0DgnJzhQADAQAAiXNlY3AyNTZrMaED667x3liAnFvm6JPZ3FqfwY69AOSPXpHC1clSYy1dzAeDdGNwgmxwg3VkcIJscoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.1.170 waku d7c62e957ec2f4610ac881da4300f68f00f4eee4ee107beaedbd0d0aca525090
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d7c62e957ec2. Setting up logs at ./log/docker/node5_2024-12-12_04-16-35__12629634-ae04-4e53-9705-6d301e1cd517__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 44168
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44168/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44168/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.1.170/tcp/44169/p2p/16Uiu2HAmCLpfUJMcmkhgEQxC7EUwyBsRRYgSrrFjebg4pgr7MGen","/ip4/172.18.1.170/tcp/44170/ws/p2p/16Uiu2HAmCLpfUJMcmkhgEQxC7EUwyBsRRYgSrrFjebg4pgr7MGen"],"enrUri":"enr:-L24QBz5UQBvdfg_3w_nQlH-AFi1vthjsTlPC9a0wVFNPUsTKEmpuxx8QwN0xlcWMYf4BHi3RYnl2e7oapU13CDOyX0CgmlkgnY0gmlwhKwSAaqKbXVsdGlhZGRyc5YACASsEgGqBqyJAAoErBIBqgasit0DgnJzhQADAQAAiXNlY3AyNTZrMaEC-1iXxPdajsI5wnCNE3Fp71rxNRgaSBb_jB4HSc6u9QuDdGNwgqyJg3VkcIKsi4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44168/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.244.52/tcp/27760/p2p/16Uiu2HAmUWzt6Bs1nXHRJJmoLktRSFFhiymHPhzgvHgHviDSM4Mc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27759/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30668/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54811/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34361/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44168/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977002436172800,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977002436172800,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54811/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977002436172800,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34361/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977002436172800,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44168/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977002436172800,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44168/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977002593692160,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977002593692160,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54811/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977002593692160,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34361/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977002593692160,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44168/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733977002593692160,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 445f86b142b5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c5ce69c83063
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 445f86b142b5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fb70e745011d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c5ce69c83063. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3fbd9a2dfb7e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fb70e745011d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d7c62e957ec2
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3fbd9a2dfb7e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.