[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-01-05_19-16-40__37b87b47-9b3d-4440-b5fb-25f5ecdca6ef
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-05_19-16-40__37b87b47-9b3d-4440-b5fb-25f5ecdca6ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.162.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31439', '31440', '31441', '31442', '31443']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31439:31439 -p 31440:31440 -p 31441:31441 -p 31442:31442 -p 31443:31443 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31441 --rest-port=31439 --tcp-port=31440 --discv5-udp-port=31442 --rest-address=0.0.0.0 --nat=extip:172.18.162.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b3cbc62e5510e51d69e0d5e352bbadc0efce2d92791928ffb2dcdd349adda6bd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31443 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.162.189 waku f86216dc0b32f2c7534d82a01ff15aa332aafce613626734ee6167d7b4008c7e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f86216dc0b32. Setting up logs at ./log/docker/node1_2025-01-05_19-16-40__37b87b47-9b3d-4440-b5fb-25f5ecdca6ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 31439
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d7e6760bcce5. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31439/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31439/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.162.189/tcp/31440/p2p/16Uiu2HAkv8EQvJE1kvpCxC5qTzPbhSdfogNGwez9epE6RWMwz6BC","/ip4/172.18.162.189/tcp/31441/ws/p2p/16Uiu2HAkv8EQvJE1kvpCxC5qTzPbhSdfogNGwez9epE6RWMwz6BC"],"enrUri":"enr:-L24QPkY4L8Qu8ELn91glcRFhzfuCwy0N4eH-zWbIO5V6qgeJrdAtx2pxhCYf7Hry316yucLx10dTRujV5jzJXCtenECgmlkgnY0gmlwhKwSor2KbXVsdGlhZGRyc5YACASsEqK9BnrQAAoErBKivQZ60d0DgnJzhQADAQAAiXNlY3AyNTZrMaECCmPnmyWG0LXf9OZIj0I1q2HaWnVGUyYQ0Z4wuS7slQuDdGNwgnrQg3VkcIJ60oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-05_19-16-40__37b87b47-9b3d-4440-b5fb-25f5ecdca6ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.46.253
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60605', '60606', '60607', '60608', '60609']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60605:60605 -p 60606:60606 -p 60607:60607 -p 60608:60608 -p 60609:60609 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60607 --rest-port=60605 --tcp-port=60606 --discv5-udp-port=60608 --rest-address=0.0.0.0 --nat=extip:172.18.46.253 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ba8b24dd7aaecebf9e7aebda47eb550a4cb625f5cef1ccc07ea8bc37dc8bb5cf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60609 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPkY4L8Qu8ELn91glcRFhzfuCwy0N4eH-zWbIO5V6qgeJrdAtx2pxhCYf7Hry316yucLx10dTRujV5jzJXCtenECgmlkgnY0gmlwhKwSor2KbXVsdGlhZGRyc5YACASsEqK9BnrQAAoErBKivQZ60d0DgnJzhQADAQAAiXNlY3AyNTZrMaECCmPnmyWG0LXf9OZIj0I1q2HaWnVGUyYQ0Z4wuS7slQuDdGNwgnrQg3VkcIJ60oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.46.253 waku 915f6edeccc7672af978fde2169529748dd222af1222cd5402aecc33836668f9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 915f6edeccc7. Setting up logs at ./log/docker/node2_2025-01-05_19-16-40__37b87b47-9b3d-4440-b5fb-25f5ecdca6ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60605
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60605/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60605/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.253/tcp/60606/p2p/16Uiu2HAmBE5tiXLLyYNbPmnnmNHHTHT1ZgxawuFZYfjDrUoEDdNm","/ip4/172.18.46.253/tcp/60607/ws/p2p/16Uiu2HAmBE5tiXLLyYNbPmnnmNHHTHT1ZgxawuFZYfjDrUoEDdNm"],"enrUri":"enr:-L24QGFp3BBHXkwqleFROsMw_qx1-wYE7BT3WzLVcV9m3LsXfwZ9Npa646dLp7Agl4T3RlHAZ9cuFg3V2n-70ZdBjY4CgmlkgnY0gmlwhKwSLv2KbXVsdGlhZGRyc5YACASsEi79Buy-AAoErBIu_Qbsv90DgnJzhQADAQAAiXNlY3AyNTZrMaEC6sMPHHL5FP7YlbnJI-aUjnK8eDLlsqYJT5HRRqpkL66DdGNwguy-g3VkcILswIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60605/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.162.189/tcp/31440/p2p/16Uiu2HAkv8EQvJE1kvpCxC5qTzPbhSdfogNGwez9epE6RWMwz6BC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-05_19-16-40__37b87b47-9b3d-4440-b5fb-25f5ecdca6ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.230.154
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38315', '38316', '38317', '38318', '38319']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38315:38315 -p 38316:38316 -p 38317:38317 -p 38318:38318 -p 38319:38319 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38317 --rest-port=38315 --tcp-port=38316 --discv5-udp-port=38318 --rest-address=0.0.0.0 --nat=extip:172.18.230.154 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=707ceea9d8ead9ad0aa6d7f4d6837f1cdb19a2f5ac6b9f60af0aae8e9dede60b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38319 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPkY4L8Qu8ELn91glcRFhzfuCwy0N4eH-zWbIO5V6qgeJrdAtx2pxhCYf7Hry316yucLx10dTRujV5jzJXCtenECgmlkgnY0gmlwhKwSor2KbXVsdGlhZGRyc5YACASsEqK9BnrQAAoErBKivQZ60d0DgnJzhQADAQAAiXNlY3AyNTZrMaECCmPnmyWG0LXf9OZIj0I1q2HaWnVGUyYQ0Z4wuS7slQuDdGNwgnrQg3VkcIJ60oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.230.154 waku 84f84e6438a1bb08747f821e37e1fbe05671f121940d5a747fb68fc1d6d54df1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 84f84e6438a1. Setting up logs at ./log/docker/node3_2025-01-05_19-16-40__37b87b47-9b3d-4440-b5fb-25f5ecdca6ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38315
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38315/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38315/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.154/tcp/38316/p2p/16Uiu2HAmAKwmkqY46nxYoZ5Sw5vWkYZ9goGjwyWecDSdQDhDjaun","/ip4/172.18.230.154/tcp/38317/ws/p2p/16Uiu2HAmAKwmkqY46nxYoZ5Sw5vWkYZ9goGjwyWecDSdQDhDjaun"],"enrUri":"enr:-L24QELAzuntyyYiaHWQ-UxsaFuWutlOBab--jHUGHWw9MnPUTSh33-M5qQ-QwVkwBUkPihJ1LCJ89vdfUq160uhLZMCgmlkgnY0gmlwhKwS5pqKbXVsdGlhZGRyc5YACASsEuaaBpWsAAoErBLmmgaVrd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC3Wes9shNPi8Mg5TywewPZeE5mb3amCius7cohnK6iGmDdGNwgpWsg3VkcIKVroV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38315/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.162.189/tcp/31440/p2p/16Uiu2HAkv8EQvJE1kvpCxC5qTzPbhSdfogNGwez9epE6RWMwz6BC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-05_19-16-40__37b87b47-9b3d-4440-b5fb-25f5ecdca6ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.11.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18324', '18325', '18326', '18327', '18328']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18324:18324 -p 18325:18325 -p 18326:18326 -p 18327:18327 -p 18328:18328 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18326 --rest-port=18324 --tcp-port=18325 --discv5-udp-port=18327 --rest-address=0.0.0.0 --nat=extip:172.18.11.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dd8451a71a8c9d972261aacb827e1d2aba8caddaf8faba42bf3a832c66a2bce0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18328 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPkY4L8Qu8ELn91glcRFhzfuCwy0N4eH-zWbIO5V6qgeJrdAtx2pxhCYf7Hry316yucLx10dTRujV5jzJXCtenECgmlkgnY0gmlwhKwSor2KbXVsdGlhZGRyc5YACASsEqK9BnrQAAoErBKivQZ60d0DgnJzhQADAQAAiXNlY3AyNTZrMaECCmPnmyWG0LXf9OZIj0I1q2HaWnVGUyYQ0Z4wuS7slQuDdGNwgnrQg3VkcIJ60oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.11.184 waku 41394518498ceb196f0befcc4d8b15ec12ed9d7366773ac8f5d71a6ed88e9599
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 41394518498c. Setting up logs at ./log/docker/node4_2025-01-05_19-16-40__37b87b47-9b3d-4440-b5fb-25f5ecdca6ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 18324
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18324/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18324/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.184/tcp/18325/p2p/16Uiu2HAm1jztaoUYhKhnZFPrUME9m3ajxTyrjQc9W9aHWrBzKmKn","/ip4/172.18.11.184/tcp/18326/ws/p2p/16Uiu2HAm1jztaoUYhKhnZFPrUME9m3ajxTyrjQc9W9aHWrBzKmKn"],"enrUri":"enr:-L24QCKNoTqQ2vVfuxBA4UzWwnw4WvtTRSXDqaS50GEdKJWBOiWlIN_1BEdE0Apct7uv7j_1Lh0BMk3aPFhWlGwIbwgCgmlkgnY0gmlwhKwSC7iKbXVsdGlhZGRyc5YACASsEgu4BkeVAAoErBILuAZHlt0DgnJzhQADAQAAiXNlY3AyNTZrMaECXdf1OnOBVw20ldNaTCstA1nPYCgtQq-OAPQunFFYstGDdGNwgkeVg3VkcIJHl4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18324/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.162.189/tcp/31440/p2p/16Uiu2HAkv8EQvJE1kvpCxC5qTzPbhSdfogNGwez9epE6RWMwz6BC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-05_19-16-40__37b87b47-9b3d-4440-b5fb-25f5ecdca6ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.1.122
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16877', '16878', '16879', '16880', '16881']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16877:16877 -p 16878:16878 -p 16879:16879 -p 16880:16880 -p 16881:16881 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16879 --rest-port=16877 --tcp-port=16878 --discv5-udp-port=16880 --rest-address=0.0.0.0 --nat=extip:172.18.1.122 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=feff8cbdaddfc733ddc31ae4bcb4aeed5803f99f957c978f4da822d20e6ef9b1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16881 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPkY4L8Qu8ELn91glcRFhzfuCwy0N4eH-zWbIO5V6qgeJrdAtx2pxhCYf7Hry316yucLx10dTRujV5jzJXCtenECgmlkgnY0gmlwhKwSor2KbXVsdGlhZGRyc5YACASsEqK9BnrQAAoErBKivQZ60d0DgnJzhQADAQAAiXNlY3AyNTZrMaECCmPnmyWG0LXf9OZIj0I1q2HaWnVGUyYQ0Z4wuS7slQuDdGNwgnrQg3VkcIJ60oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.1.122 waku 2af0a780fb3f902c81062755377850f62307aabf573f9691dfcf7c5baea1a13f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2af0a780fb3f. Setting up logs at ./log/docker/node5_2025-01-05_19-16-40__37b87b47-9b3d-4440-b5fb-25f5ecdca6ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 16877
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16877/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16877/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.1.122/tcp/16878/p2p/16Uiu2HAmQubM6fT7tx9EBaYMt5iggGPuCFTuKVbK62RzsTV355Hf","/ip4/172.18.1.122/tcp/16879/ws/p2p/16Uiu2HAmQubM6fT7tx9EBaYMt5iggGPuCFTuKVbK62RzsTV355Hf"],"enrUri":"enr:-L24QEGZ7a5Qd2M757rcN9nZW_WCVSLCt3iTA2DXYq1jlVwmVb9VeFj9A8iHaYyeKHUhKqXgba38DKCyIPwU0981RkcCgmlkgnY0gmlwhKwSAXqKbXVsdGlhZGRyc5YACASsEgF6BkHuAAoErBIBegZB790DgnJzhQADAQAAiXNlY3AyNTZrMaEDtgnyAaZtYP1NWJtDSf8gBT5g2RgFFZq6yjEgOfHDnRaDdGNwgkHug3VkcIJB8IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16877/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.162.189/tcp/31440/p2p/16Uiu2HAkv8EQvJE1kvpCxC5qTzPbhSdfogNGwez9epE6RWMwz6BC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31439/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60605/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38315/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18324/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16877/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736104607145317120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60605/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736104607145317120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38315/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736104607145317120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18324/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736104607145317120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16877/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736104607145317120,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16877/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736104607276501248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60605/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736104607276501248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38315/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736104607276501248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18324/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736104607276501248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16877/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736104607276501248,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f86216dc0b32
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 915f6edeccc7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f86216dc0b32. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 84f84e6438a1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 915f6edeccc7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 41394518498c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 84f84e6438a1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2af0a780fb3f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 41394518498c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.