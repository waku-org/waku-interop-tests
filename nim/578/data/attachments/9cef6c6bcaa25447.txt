[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-25_20-00-21__45568677-c95c-4fcb-a9df-e6fb0fca819e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-25_20-00-21__45568677-c95c-4fcb-a9df-e6fb0fca819e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.173.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61796', '61797', '61798', '61799', '61800']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61796:61796 -p 61797:61797 -p 61798:61798 -p 61799:61799 -p 61800:61800 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61798 --rest-port=61796 --tcp-port=61797 --discv5-udp-port=61799 --rest-address=0.0.0.0 --nat=extip:172.18.173.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdbfbabfdefadcba15daa9cab4ab06e97d3cbfcc66e5ecafcc0fbdcbf13ce4cb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61800 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.173.167 waku 99eaea63f788ce91749a2c66a5c898ee089e6e64c76d62ab04bbeb0c61675c15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 99eaea63f788. Setting up logs at ./log/docker/node1_2024-12-25_20-00-21__45568677-c95c-4fcb-a9df-e6fb0fca819e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61796
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61796/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61796/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.173.167/tcp/61797/p2p/16Uiu2HAm4829xSwZudzBbdrAZZNKBviQRryKPz3hFQUGmukWaXw4","/ip4/172.18.173.167/tcp/61798/ws/p2p/16Uiu2HAm4829xSwZudzBbdrAZZNKBviQRryKPz3hFQUGmukWaXw4"],"enrUri":"enr:-L24QJxwzP1tSZwzOZyuwzbvnaLBVpKtZbyV20MIDnkqkzhWCLLF2D1l1xHpjiWqXXLYL7sbDoYqyOJAN4S2I-Gx8fICgmlkgnY0gmlwhKwSraeKbXVsdGlhZGRyc5YACASsEq2nBvFlAAoErBKtpwbxZt0DgnJzhQADAQAAiXNlY3AyNTZrMaECgTOKPAClbkvyMEFfaS7Gvita8OPVkSQ4rfYLk00Vvk-DdGNwgvFlg3VkcILxZ4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-25_20-00-21__45568677-c95c-4fcb-a9df-e6fb0fca819e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.104.248
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43074', '43075', '43076', '43077', '43078']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43074:43074 -p 43075:43075 -p 43076:43076 -p 43077:43077 -p 43078:43078 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43076 --rest-port=43074 --tcp-port=43075 --discv5-udp-port=43077 --rest-address=0.0.0.0 --nat=extip:172.18.104.248 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0f0de8aa55cc94716bfecda9536dcb8a92ffa5e4dd91f3e29fa83c01a6bf462a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43078 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QJxwzP1tSZwzOZyuwzbvnaLBVpKtZbyV20MIDnkqkzhWCLLF2D1l1xHpjiWqXXLYL7sbDoYqyOJAN4S2I-Gx8fICgmlkgnY0gmlwhKwSraeKbXVsdGlhZGRyc5YACASsEq2nBvFlAAoErBKtpwbxZt0DgnJzhQADAQAAiXNlY3AyNTZrMaECgTOKPAClbkvyMEFfaS7Gvita8OPVkSQ4rfYLk00Vvk-DdGNwgvFlg3VkcILxZ4V3YWt1MgU --filternode=/ip4/172.18.173.167/tcp/61797/p2p/16Uiu2HAm4829xSwZudzBbdrAZZNKBviQRryKPz3hFQUGmukWaXw4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.104.248 waku 5d21c69b91bc4f58180ff3476b8fdc751f01c41184d1c9c28f4419bb8a307db1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5d21c69b91bc. Setting up logs at ./log/docker/node2_2024-12-25_20-00-21__45568677-c95c-4fcb-a9df-e6fb0fca819e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 43074
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43074/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43074/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.248/tcp/43075/p2p/16Uiu2HAmCGph33oUnY6Q8yhp6QKEaDKJ3cuNy8bsrdDusVWEQQus","/ip4/172.18.104.248/tcp/43076/ws/p2p/16Uiu2HAmCGph33oUnY6Q8yhp6QKEaDKJ3cuNy8bsrdDusVWEQQus"],"enrUri":"enr:-L24QHdf6deFGYoYKqELAg_MhltLFJhOWQiyWnoSNPKBZLAWCSHhBidBDjM2vdpR4P4U-8AgN00Aj3JP6RdcGPodM28CgmlkgnY0gmlwhKwSaPiKbXVsdGlhZGRyc5YACASsEmj4BqhDAAoErBJo-AaoRN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC-lJM1FyYxlsouh7G6DS4KqmJY3NCG3N5hl83BsLmUL6DdGNwgqhDg3VkcIKoRYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43074/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.173.167/tcp/61797/p2p/16Uiu2HAm4829xSwZudzBbdrAZZNKBviQRryKPz3hFQUGmukWaXw4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-25_20-00-21__45568677-c95c-4fcb-a9df-e6fb0fca819e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.191.194
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43026', '43027', '43028', '43029', '43030']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43026:43026 -p 43027:43027 -p 43028:43028 -p 43029:43029 -p 43030:43030 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43028 --rest-port=43026 --tcp-port=43027 --discv5-udp-port=43029 --rest-address=0.0.0.0 --nat=extip:172.18.191.194 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cf649f6aa2c52dba043bb5ba2bdd1cb2c1aea5c560d42e14b66afbafcd3ec15e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43030 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QJxwzP1tSZwzOZyuwzbvnaLBVpKtZbyV20MIDnkqkzhWCLLF2D1l1xHpjiWqXXLYL7sbDoYqyOJAN4S2I-Gx8fICgmlkgnY0gmlwhKwSraeKbXVsdGlhZGRyc5YACASsEq2nBvFlAAoErBKtpwbxZt0DgnJzhQADAQAAiXNlY3AyNTZrMaECgTOKPAClbkvyMEFfaS7Gvita8OPVkSQ4rfYLk00Vvk-DdGNwgvFlg3VkcILxZ4V3YWt1MgU --filternode=/ip4/172.18.173.167/tcp/61797/p2p/16Uiu2HAm4829xSwZudzBbdrAZZNKBviQRryKPz3hFQUGmukWaXw4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.191.194 waku 3e6c4c2a2f7ba11e5b255bd39e297d2d43c3aab903015554d046389ffb76d566
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3e6c4c2a2f7b. Setting up logs at ./log/docker/node3_2024-12-25_20-00-21__45568677-c95c-4fcb-a9df-e6fb0fca819e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 43026
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43026/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43026/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.191.194/tcp/43027/p2p/16Uiu2HAm9izppmAFdE1PjxiYUWXSYUYWEu729aXJeQ9Mihuu9z9B","/ip4/172.18.191.194/tcp/43028/ws/p2p/16Uiu2HAm9izppmAFdE1PjxiYUWXSYUYWEu729aXJeQ9Mihuu9z9B"],"enrUri":"enr:-L24QNNkNenJ4rmhPIv-E0Ouiqk-vHboLmypQlPr_L5nEZddWQ8K8ftW-jjiZQNOt60N29wtn09TsZsaJzMG28JKF-gCgmlkgnY0gmlwhKwSv8KKbXVsdGlhZGRyc5YACASsEr_CBqgTAAoErBK_wgaoFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1HPMmtVrNffbwxyfU9rMCyJWeho1P3_UvIC5vNRjDF6DdGNwgqgTg3VkcIKoFYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43026/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.173.167/tcp/61797/p2p/16Uiu2HAm4829xSwZudzBbdrAZZNKBviQRryKPz3hFQUGmukWaXw4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-25_20-00-21__45568677-c95c-4fcb-a9df-e6fb0fca819e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.203.218
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14017', '14018', '14019', '14020', '14021']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14017:14017 -p 14018:14018 -p 14019:14019 -p 14020:14020 -p 14021:14021 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14019 --rest-port=14017 --tcp-port=14018 --discv5-udp-port=14020 --rest-address=0.0.0.0 --nat=extip:172.18.203.218 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1b7059f23bbbe70d3ddb75c68decec3f263abad5bfa5d88c87403db740bfe8a8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14021 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QJxwzP1tSZwzOZyuwzbvnaLBVpKtZbyV20MIDnkqkzhWCLLF2D1l1xHpjiWqXXLYL7sbDoYqyOJAN4S2I-Gx8fICgmlkgnY0gmlwhKwSraeKbXVsdGlhZGRyc5YACASsEq2nBvFlAAoErBKtpwbxZt0DgnJzhQADAQAAiXNlY3AyNTZrMaECgTOKPAClbkvyMEFfaS7Gvita8OPVkSQ4rfYLk00Vvk-DdGNwgvFlg3VkcILxZ4V3YWt1MgU --filternode=/ip4/172.18.173.167/tcp/61797/p2p/16Uiu2HAm4829xSwZudzBbdrAZZNKBviQRryKPz3hFQUGmukWaXw4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.203.218 waku 53112c86fc29309ae52589ecd114c7d03e0be4b8a155f11690d22523ac7c55a6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 53112c86fc29. Setting up logs at ./log/docker/node4_2024-12-25_20-00-21__45568677-c95c-4fcb-a9df-e6fb0fca819e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 14017
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14017/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14017/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.203.218/tcp/14018/p2p/16Uiu2HAkzHAxAdVSxgLzhwLVubAkaYqY6nR9cBhgVVwQGC2JhWmp","/ip4/172.18.203.218/tcp/14019/ws/p2p/16Uiu2HAkzHAxAdVSxgLzhwLVubAkaYqY6nR9cBhgVVwQGC2JhWmp"],"enrUri":"enr:-L24QKihO1fQJ5kJXp1tyACHq5WIG-ZStMpSVzPdd4SkAZmLMZZ0k-sYPuEkOU1M2wtwwLdQjj3Slsh42xXq7woHZ_4CgmlkgnY0gmlwhKwSy9qKbXVsdGlhZGRyc5YACASsEsvaBjbCAAoErBLL2gY2w90DgnJzhQADAQAAiXNlY3AyNTZrMaECSBz3TpJey3UKW69skktouJ25UCKl6a8a9RaE6jAz5muDdGNwgjbCg3VkcII2xIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14017/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.173.167/tcp/61797/p2p/16Uiu2HAm4829xSwZudzBbdrAZZNKBviQRryKPz3hFQUGmukWaXw4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-25_20-00-21__45568677-c95c-4fcb-a9df-e6fb0fca819e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.82.65
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1470', '1471', '1472', '1473', '1474']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1470:1470 -p 1471:1471 -p 1472:1472 -p 1473:1473 -p 1474:1474 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1472 --rest-port=1470 --tcp-port=1471 --discv5-udp-port=1473 --rest-address=0.0.0.0 --nat=extip:172.18.82.65 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b2a81fe6aa6f13f8efc384c999fc1d026adbabab75c4b56c019a6bdc66bedba7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1474 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QJxwzP1tSZwzOZyuwzbvnaLBVpKtZbyV20MIDnkqkzhWCLLF2D1l1xHpjiWqXXLYL7sbDoYqyOJAN4S2I-Gx8fICgmlkgnY0gmlwhKwSraeKbXVsdGlhZGRyc5YACASsEq2nBvFlAAoErBKtpwbxZt0DgnJzhQADAQAAiXNlY3AyNTZrMaECgTOKPAClbkvyMEFfaS7Gvita8OPVkSQ4rfYLk00Vvk-DdGNwgvFlg3VkcILxZ4V3YWt1MgU --filternode=/ip4/172.18.173.167/tcp/61797/p2p/16Uiu2HAm4829xSwZudzBbdrAZZNKBviQRryKPz3hFQUGmukWaXw4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.82.65 waku d5ebc9a56dfe3c4184a02f89d92ba24866a567743c1779bc5b17ce5ad128ccd1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d5ebc9a56dfe. Setting up logs at ./log/docker/node5_2024-12-25_20-00-21__45568677-c95c-4fcb-a9df-e6fb0fca819e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1470
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1470/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1470/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.65/tcp/1471/p2p/16Uiu2HAm78WZizFkL25wa3Pg8y8CU6WodKtGWrXDsrPTnr35Phps","/ip4/172.18.82.65/tcp/1472/ws/p2p/16Uiu2HAm78WZizFkL25wa3Pg8y8CU6WodKtGWrXDsrPTnr35Phps"],"enrUri":"enr:-L24QKn0Koq0FIR9CA8-EYjq-iOi8QgazWE2RksDh57k9TNkTfHA7ktOGND_5au3F3NkhY3sfl1ilmtic4UZYxqhPNMCgmlkgnY0gmlwhKwSUkGKbXVsdGlhZGRyc5YACASsElJBBgW_AAoErBJSQQYFwN0DgnJzhQADAQAAiXNlY3AyNTZrMaECrea5S7EOaaOajBhS8mvSVPe59gxfXAjM8m-qxVP8TCiDdGNwggW_g3VkcIIFwYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1470/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.173.167/tcp/61797/p2p/16Uiu2HAm4829xSwZudzBbdrAZZNKBviQRryKPz3hFQUGmukWaXw4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61796/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43074/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4fe9b429-0d13-47b3-b805-83adf26f2143", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4fe9b429-0d13-47b3-b805-83adf26f2143","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43026/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "968e04b8-a068-48ab-95ec-ef5934a09396", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"968e04b8-a068-48ab-95ec-ef5934a09396","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14017/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6033d95e-2886-457a-a849-61c4116f31fb", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6033d95e-2886-457a-a849-61c4116f31fb","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1470/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "487260e5-9008-4cb8-8959-cacd388b2eb0", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"487260e5-9008-4cb8-8959-cacd388b2eb0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43074/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1735156831061211392,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43026/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:43026/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 99eaea63f788
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5d21c69b91bc
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 99eaea63f788. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3e6c4c2a2f7b
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5d21c69b91bc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 53112c86fc29
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3e6c4c2a2f7b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d5ebc9a56dfe
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 53112c86fc29. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.