[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-06_21-32-14__71810a92-f52c-46bc-831c-c5b066af6ed5
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_21-32-14__71810a92-f52c-46bc-831c-c5b066af6ed5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.25.209
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41760', '41761', '41762', '41763', '41764']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41760:41760 -p 41761:41761 -p 41762:41762 -p 41763:41763 -p 41764:41764 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41762 --rest-port=41760 --tcp-port=41761 --discv5-udp-port=41763 --rest-address=0.0.0.0 --nat=extip:172.18.25.209 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=15a2d63dcb133b24ebcefdf85ef7d1dbaf1ad5b14aff537311fdfa141bb55514 --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41764 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.25.209 waku 97f4af377bb8319f9021d9e423972a9767acc1161d32a0f2296467e12b9e8e57
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 97f4af377bb8. Setting up logs at ./log/docker/node1_2024-11-06_21-32-14__71810a92-f52c-46bc-831c-c5b066af6ed5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 41760
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d367c9c81d9f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41760/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41760/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.209/tcp/41761/p2p/16Uiu2HAmMbBQnEnfTmnQmMa3qLBH5CcArAy3mNuDKVWruMEgpiFX","/ip4/172.18.25.209/tcp/41762/ws/p2p/16Uiu2HAmMbBQnEnfTmnQmMa3qLBH5CcArAy3mNuDKVWruMEgpiFX"],"enrUri":"enr:-L24QBM9KevowhYLqQZERSLt-dRRAWnz1R59k0TqOLS8CHqcDTijbM2ERmBW0u1EvoqqvRY0zndU6vVY0R5fmM5ij2gCgmlkgnY0gmlwhKwSGdGKbXVsdGlhZGRyc5YACASsEhnRBqMhAAoErBIZ0QajIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhL9dacZ0jDgfNl_xpNAFKEwaZngACfFO1fupAiH5o_aDdGNwgqMhg3VkcIKjI4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_21-32-14__71810a92-f52c-46bc-831c-c5b066af6ed5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.29.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28826', '28827', '28828', '28829', '28830']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28826:28826 -p 28827:28827 -p 28828:28828 -p 28829:28829 -p 28830:28830 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28828 --rest-port=28826 --tcp-port=28827 --discv5-udp-port=28829 --rest-address=0.0.0.0 --nat=extip:172.18.29.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e80eedf7f8ef1b5e5167a2fa7ffc6fcbfb28fcb9dcaf71bccfdedfc45a74824d --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28830 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBM9KevowhYLqQZERSLt-dRRAWnz1R59k0TqOLS8CHqcDTijbM2ERmBW0u1EvoqqvRY0zndU6vVY0R5fmM5ij2gCgmlkgnY0gmlwhKwSGdGKbXVsdGlhZGRyc5YACASsEhnRBqMhAAoErBIZ0QajIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhL9dacZ0jDgfNl_xpNAFKEwaZngACfFO1fupAiH5o_aDdGNwgqMhg3VkcIKjI4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.29.68 waku 10c9c1061da0a40522da95aba3e888cd9d64d9eab96c5abdc6221a0691289e2e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 10c9c1061da0. Setting up logs at ./log/docker/node2_2024-11-06_21-32-14__71810a92-f52c-46bc-831c-c5b066af6ed5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 28826
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28826/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28826/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.29.68/tcp/28827/p2p/16Uiu2HAmMuHj85uv2FMxhoAjBBajssM2chXDPNXDDnPG8Dhoc5LM","/ip4/172.18.29.68/tcp/28828/ws/p2p/16Uiu2HAmMuHj85uv2FMxhoAjBBajssM2chXDPNXDDnPG8Dhoc5LM"],"enrUri":"enr:-L24QI4WKav2bxqLcniA0wMsh4OPZwKPTenLJY33P-oWQWi4agTsUsAx4BsXmr0LVFUCS6_OFPxHcIBAfAutX0oWD70CgmlkgnY0gmlwhKwSHUSKbXVsdGlhZGRyc5YACASsEh1EBnCbAAoErBIdRAZwnN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDiWL2FRUQULaHHoS9gWc3xY_pkul0200y5XrlzH1xucqDdGNwgnCbg3VkcIJwnYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28826/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.25.209/tcp/41761/p2p/16Uiu2HAmMbBQnEnfTmnQmMa3qLBH5CcArAy3mNuDKVWruMEgpiFX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_21-32-14__71810a92-f52c-46bc-831c-c5b066af6ed5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.180.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43600', '43601', '43602', '43603', '43604']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43600:43600 -p 43601:43601 -p 43602:43602 -p 43603:43603 -p 43604:43604 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43602 --rest-port=43600 --tcp-port=43601 --discv5-udp-port=43603 --rest-address=0.0.0.0 --nat=extip:172.18.180.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=de5ba108adaaf081234ad45bdcdfdb0b58b934c5c10bde2061ac0eafaf0ae533 --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43604 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBM9KevowhYLqQZERSLt-dRRAWnz1R59k0TqOLS8CHqcDTijbM2ERmBW0u1EvoqqvRY0zndU6vVY0R5fmM5ij2gCgmlkgnY0gmlwhKwSGdGKbXVsdGlhZGRyc5YACASsEhnRBqMhAAoErBIZ0QajIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhL9dacZ0jDgfNl_xpNAFKEwaZngACfFO1fupAiH5o_aDdGNwgqMhg3VkcIKjI4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.180.50 waku 5adf44724f24a8437624628aacf6a4a3e599d52b989bc3c25f5bdbf3eacdefa7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5adf44724f24. Setting up logs at ./log/docker/node3_2024-11-06_21-32-14__71810a92-f52c-46bc-831c-c5b066af6ed5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 43600
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43600/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43600/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.180.50/tcp/43601/p2p/16Uiu2HAmNuaAEWWEbXz4i7nTBMenJiLfvbuCGHLJ3eExPAYSVSvK","/ip4/172.18.180.50/tcp/43602/ws/p2p/16Uiu2HAmNuaAEWWEbXz4i7nTBMenJiLfvbuCGHLJ3eExPAYSVSvK"],"enrUri":"enr:-L24QOueI3XR6afmfytNGgsmbGrX75Q1L2XsE6fE5Tad4ku1F7YAfnNI1ASOKWgh4svMfHQqvagRltPEMbIqIvMLVNsCgmlkgnY0gmlwhKwStDKKbXVsdGlhZGRyc5YACASsErQyBqpRAAoErBK0MgaqUt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmFE6nhXJZzA6v4K9MdAHm99TqJb5a2aotjGboSPGUiiDdGNwgqpRg3VkcIKqU4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43600/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.25.209/tcp/41761/p2p/16Uiu2HAmMbBQnEnfTmnQmMa3qLBH5CcArAy3mNuDKVWruMEgpiFX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-06_21-32-14__71810a92-f52c-46bc-831c-c5b066af6ed5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.3.16
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13668', '13669', '13670', '13671', '13672']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13668:13668 -p 13669:13669 -p 13670:13670 -p 13671:13671 -p 13672:13672 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13670 --rest-port=13668 --tcp-port=13669 --discv5-udp-port=13671 --rest-address=0.0.0.0 --nat=extip:172.18.3.16 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7ff3eeebc341bbd7fbcd8cf07f0d42abe3dbf95a52f956bffdb5e0dbadfa264f --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13672 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBM9KevowhYLqQZERSLt-dRRAWnz1R59k0TqOLS8CHqcDTijbM2ERmBW0u1EvoqqvRY0zndU6vVY0R5fmM5ij2gCgmlkgnY0gmlwhKwSGdGKbXVsdGlhZGRyc5YACASsEhnRBqMhAAoErBIZ0QajIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhL9dacZ0jDgfNl_xpNAFKEwaZngACfFO1fupAiH5o_aDdGNwgqMhg3VkcIKjI4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.3.16 waku 2a80b34e4d83e7558a8bb1fa264a24130b6b2556ca86c71f0446d01c8ef2fc7b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2a80b34e4d83. Setting up logs at ./log/docker/node4_2024-11-06_21-32-14__71810a92-f52c-46bc-831c-c5b066af6ed5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 13668
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13668/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13668/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.16/tcp/13669/p2p/16Uiu2HAmLKskayz5Mw5xmqdHeBFmF6pU1SBp6ccGnH7Vs4vz6pwt","/ip4/172.18.3.16/tcp/13670/ws/p2p/16Uiu2HAmLKskayz5Mw5xmqdHeBFmF6pU1SBp6ccGnH7Vs4vz6pwt"],"enrUri":"enr:-L24QPgAC9H-UPd13aE2ZqpPi3LGtJPNSCuYfoD2eK9sRjnKHB63JLaf8mQXOk8PBUOgZWjRNQtZiZNxAOoz1gXwyH4CgmlkgnY0gmlwhKwSAxCKbXVsdGlhZGRyc5YACASsEgMQBjVlAAoErBIDEAY1Zt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDcff_0PvY8g0-MT8A5IxwgZWGxBJoMCH4clLZAFcHi0ODdGNwgjVlg3VkcII1Z4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13668/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.25.209/tcp/41761/p2p/16Uiu2HAmMbBQnEnfTmnQmMa3qLBH5CcArAy3mNuDKVWruMEgpiFX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-06_21-32-14__71810a92-f52c-46bc-831c-c5b066af6ed5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.35.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19235', '19236', '19237', '19238', '19239']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19235:19235 -p 19236:19236 -p 19237:19237 -p 19238:19238 -p 19239:19239 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19237 --rest-port=19235 --tcp-port=19236 --discv5-udp-port=19238 --rest-address=0.0.0.0 --nat=extip:172.18.35.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f34aafe40aecb1cdd0bcea0489884ea399c9fbeac4a7a116c1d3dceccc2cd54b --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19239 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBM9KevowhYLqQZERSLt-dRRAWnz1R59k0TqOLS8CHqcDTijbM2ERmBW0u1EvoqqvRY0zndU6vVY0R5fmM5ij2gCgmlkgnY0gmlwhKwSGdGKbXVsdGlhZGRyc5YACASsEhnRBqMhAAoErBIZ0QajIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhL9dacZ0jDgfNl_xpNAFKEwaZngACfFO1fupAiH5o_aDdGNwgqMhg3VkcIKjI4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.35.149 waku 8b44f16cea33599a1671f855f33284943ca3d0b41f6323eb60b62829c1e8083d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8b44f16cea33. Setting up logs at ./log/docker/node5_2024-11-06_21-32-14__71810a92-f52c-46bc-831c-c5b066af6ed5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 19235
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19235/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19235/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.149/tcp/19236/p2p/16Uiu2HAmJxmgko1QxB2s9azHAsJ5PvqRkviTptbRWEEmAu2SpPzP","/ip4/172.18.35.149/tcp/19237/ws/p2p/16Uiu2HAmJxmgko1QxB2s9azHAsJ5PvqRkviTptbRWEEmAu2SpPzP"],"enrUri":"enr:-L24QJ4INHZoTApIwz5vQ8NrDgIgcnBBu0f3Mi6YjMVr3lDrYL1scLGJUyh3Ryl0bRmKJ-goL7N3NPh7gLASDfm3QPMCgmlkgnY0gmlwhKwSI5WKbXVsdGlhZGRyc5YACASsEiOVBkskAAoErBIjlQZLJd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDXbRBp38vnV6c2clEeMoDFa9MLto9IP29ApfCulLMtSCDdGNwgkskg3VkcIJLJoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19235/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.25.209/tcp/41761/p2p/16Uiu2HAmMbBQnEnfTmnQmMa3qLBH5CcArAy3mNuDKVWruMEgpiFX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41760/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28826/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43600/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13668/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19235/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730928743204537088,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28826/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730928743204537088,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43600/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730928743204537088,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730928743204537088,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19235/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730928743204537088,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19235/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730928743342269440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28826/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730928743342269440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43600/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730928743342269440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730928743342269440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19235/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730928743342269440,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 97f4af377bb8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 10c9c1061da0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 97f4af377bb8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 5adf44724f24
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 10c9c1061da0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 2a80b34e4d83
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5adf44724f24. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 8b44f16cea33
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2a80b34e4d83. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.