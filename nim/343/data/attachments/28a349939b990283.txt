[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.71.107
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56354', '56355', '56356', '56357', '56358']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56354:56354 -p 56355:56355 -p 56356:56356 -p 56357:56357 -p 56358:56358 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56356 --rest-port=56354 --tcp-port=56355 --discv5-udp-port=56357 --rest-address=0.0.0.0 --nat=extip:172.18.71.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e287f8cf5babeb9ff8cbba7dfceab70af22f80e7dccb537f0e9a87cdc9dfdfbf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56358 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.71.107 waku 38cc67e177f153eb9eb44a9c349ed05d5ceab053cbd59b4a3cd7a47f6b7bdb36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 38cc67e177f1. Setting up logs at ./log/docker/receiving_node1_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56354
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56354/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56354/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.71.107/tcp/56355/p2p/16Uiu2HAkw4i5Su3Z64H8DkLvpWfmoT4chxjaN4qqZtZsuENNdQbg","/ip4/172.18.71.107/tcp/56356/ws/p2p/16Uiu2HAkw4i5Su3Z64H8DkLvpWfmoT4chxjaN4qqZtZsuENNdQbg"],"enrUri":"enr:-LO4QDq1P_CxerWZLaANzzmIw7zyLLyvcRlBDPJiLLqHKtaQWKZjCYQe2gUsIf0Vef6r1nRP-Uj-RB6F8f5yKjxSHBEBgmlkgnY0gmlwhKwSR2uKbXVsdGlhZGRyc4wACgSsEkdrBtwk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIYWIxp0SIhwfE0Tbu783jysOB76mmQFhb1l63tqj8tZ4N0Y3CC3CODdWRwgtwlhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.145.106
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38937', '38938', '38939', '38940', '38941']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38937:38937 -p 38938:38938 -p 38939:38939 -p 38940:38940 -p 38941:38941 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38939 --rest-port=38937 --tcp-port=38938 --discv5-udp-port=38940 --rest-address=0.0.0.0 --nat=extip:172.18.145.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9d02db9cc3e648eda899d6caac7aeee9fffa46515f9ef407dfba1ef3f7deeba0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38941 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.145.106 waku 31d5cd285760f20e211fc7bdbc0188dca50f528d92445090cb12e5bd3077541c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 31d5cd285760. Setting up logs at ./log/docker/receiving_node2_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38937
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38937/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38937/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.145.106/tcp/38938/p2p/16Uiu2HAmVghLzLimWNYVh1hDzeKZCsfRt9EmyJRJmpL7EbJdHAN5","/ip4/172.18.145.106/tcp/38939/ws/p2p/16Uiu2HAmVghLzLimWNYVh1hDzeKZCsfRt9EmyJRJmpL7EbJdHAN5"],"enrUri":"enr:-LO4QIKaoLm7PfFAMuTOf5mf0QrxNWWwVr4TF3WTlwtrxUcxOaP8bWO4EaQwHunWc5X6sgqZk0OELpOIFs5w1wdYLPABgmlkgnY0gmlwhKwSkWqKbXVsdGlhZGRyc4wACgSsEpFqBpgb3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP9BpyOZiUUedyOgWWTIjTV8uLF2YIqbvnMT7YWDvrgaoN0Y3CCmBqDdWRwgpgchXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38937/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.71.107/tcp/56355/p2p/16Uiu2HAkw4i5Su3Z64H8DkLvpWfmoT4chxjaN4qqZtZsuENNdQbg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.37.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56184', '56185', '56186', '56187', '56188']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56184:56184 -p 56185:56185 -p 56186:56186 -p 56187:56187 -p 56188:56188 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56186 --rest-port=56184 --tcp-port=56185 --discv5-udp-port=56187 --rest-address=0.0.0.0 --nat=extip:172.18.37.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0d4ffcb2f5e0a2d940bd97b106167495f6c43e90a22af7a0d26c010cfb5f3f44 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56188 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDq1P_CxerWZLaANzzmIw7zyLLyvcRlBDPJiLLqHKtaQWKZjCYQe2gUsIf0Vef6r1nRP-Uj-RB6F8f5yKjxSHBEBgmlkgnY0gmlwhKwSR2uKbXVsdGlhZGRyc4wACgSsEkdrBtwk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIYWIxp0SIhwfE0Tbu783jysOB76mmQFhb1l63tqj8tZ4N0Y3CC3CODdWRwgtwlhXdha3UyCQ --lightpushnode=/ip4/172.18.71.107/tcp/56355/p2p/16Uiu2HAkw4i5Su3Z64H8DkLvpWfmoT4chxjaN4qqZtZsuENNdQbg --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.37.249 waku 3aaca580f95cbb388a27faef288b9d88a73c0c7d6a7d7d8b2a6d6e9da9f02f91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3aaca580f95c. Setting up logs at ./log/docker/lightpush_node1_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56184
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56184/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56184/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.249/tcp/56185/p2p/16Uiu2HAm6aCA3vNm33x1Yx4T41kpidwGFPGcmauTn8eLSu3c3wNr","/ip4/172.18.37.249/tcp/56186/ws/p2p/16Uiu2HAm6aCA3vNm33x1Yx4T41kpidwGFPGcmauTn8eLSu3c3wNr"],"enrUri":"enr:-LO4QIXxslA5LUT205eqtjMknQJXEraaO6gXXcS7ajD-uuSwaUpDInIQl8Bg3y7E0jjbXpps4W5iIhdH_LgIAw4RVvoBgmlkgnY0gmlwhKwSJfmKbXVsdGlhZGRyc4wACgSsEiX5Btt63QOCcnOFAAMBAACJc2VjcDI1NmsxoQKln1Lgx1IzMIM-k9MKvxO2JjIUT04QQZp-1E39Y6e3y4N0Y3CC23mDdWRwgtt7hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56184/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.71.107/tcp/56355/p2p/16Uiu2HAkw4i5Su3Z64H8DkLvpWfmoT4chxjaN4qqZtZsuENNdQbg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56184/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.106/tcp/38938/p2p/16Uiu2HAmVghLzLimWNYVh1hDzeKZCsfRt9EmyJRJmpL7EbJdHAN5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.170.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['58935', '58936', '58937', '58938', '58939']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 58935:58935 -p 58936:58936 -p 58937:58937 -p 58938:58938 -p 58939:58939 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58937 --rest-port=58935 --tcp-port=58936 --discv5-udp-port=58938 --rest-address=0.0.0.0 --nat=extip:172.18.170.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=60c475d493bb5cee020bbb1cea00f8adbcc4591dd8d5dae7e0b60af505ebe0d3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58939 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDq1P_CxerWZLaANzzmIw7zyLLyvcRlBDPJiLLqHKtaQWKZjCYQe2gUsIf0Vef6r1nRP-Uj-RB6F8f5yKjxSHBEBgmlkgnY0gmlwhKwSR2uKbXVsdGlhZGRyc4wACgSsEkdrBtwk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIYWIxp0SIhwfE0Tbu783jysOB76mmQFhb1l63tqj8tZ4N0Y3CC3CODdWRwgtwlhXdha3UyCQ --lightpushnode=/ip4/172.18.71.107/tcp/56355/p2p/16Uiu2HAkw4i5Su3Z64H8DkLvpWfmoT4chxjaN4qqZtZsuENNdQbg --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.170.211 waku eb3369c29ec425facda9eb9f78611f8d522a1032268bd03c07f04ce1eefb5cba
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID eb3369c29ec4. Setting up logs at ./log/docker/lightpush_node2_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 58935
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58935/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58935/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.170.211/tcp/58936/p2p/16Uiu2HAky4P24XvYikaxC6AtVGiCjGFLKiKaWAuKYBcPrJQMbh6M","/ip4/172.18.170.211/tcp/58937/ws/p2p/16Uiu2HAky4P24XvYikaxC6AtVGiCjGFLKiKaWAuKYBcPrJQMbh6M"],"enrUri":"enr:-LO4QO3jda4n1D0nZcerOxn7X7ZSrbK4x-Cpu4c7BEJB54l3FpiUO6WFdWDYm0H6v9PV5sHW-7Wud3Xamu8qVZUvvk4BgmlkgnY0gmlwhKwSqtOKbXVsdGlhZGRyc4wACgSsEqrTBuY53QOCcnOFAAMBAACJc2VjcDI1NmsxoQI1-l97GrEyoDUFnsENB1f7QKsSoctYuVgJOn6bd4nvhoN0Y3CC5jiDdWRwguY6hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58935/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.71.107/tcp/56355/p2p/16Uiu2HAkw4i5Su3Z64H8DkLvpWfmoT4chxjaN4qqZtZsuENNdQbg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58935/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.106/tcp/38938/p2p/16Uiu2HAmVghLzLimWNYVh1hDzeKZCsfRt9EmyJRJmpL7EbJdHAN5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.28.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['39380', '39381', '39382', '39383', '39384']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 39380:39380 -p 39381:39381 -p 39382:39382 -p 39383:39383 -p 39384:39384 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39382 --rest-port=39380 --tcp-port=39381 --discv5-udp-port=39383 --rest-address=0.0.0.0 --nat=extip:172.18.28.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8b8b08a91fdec8feb8dfc135ccc4ed855af0f4fc6fdad387f6448ecddd4f0fd3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39384 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDq1P_CxerWZLaANzzmIw7zyLLyvcRlBDPJiLLqHKtaQWKZjCYQe2gUsIf0Vef6r1nRP-Uj-RB6F8f5yKjxSHBEBgmlkgnY0gmlwhKwSR2uKbXVsdGlhZGRyc4wACgSsEkdrBtwk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIYWIxp0SIhwfE0Tbu783jysOB76mmQFhb1l63tqj8tZ4N0Y3CC3CODdWRwgtwlhXdha3UyCQ --lightpushnode=/ip4/172.18.71.107/tcp/56355/p2p/16Uiu2HAkw4i5Su3Z64H8DkLvpWfmoT4chxjaN4qqZtZsuENNdQbg --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.28.14 waku ece5d28c47ac9b179229a76cd9cce16a102a18559ea9f062d054d8f877c35ba7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ece5d28c47ac. Setting up logs at ./log/docker/lightpush_node3_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 39380
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39380/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39380/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.28.14/tcp/39381/p2p/16Uiu2HAm2NaTASxQ19T2Vrv3U7fFEUuZamouuwBoP6eKDwndHJLf","/ip4/172.18.28.14/tcp/39382/ws/p2p/16Uiu2HAm2NaTASxQ19T2Vrv3U7fFEUuZamouuwBoP6eKDwndHJLf"],"enrUri":"enr:-LO4QAHx_A40nO5a1n-27xNW5Nein-TadSeQT7Z-owHJSyRuLuBxswFaazy3QvCisk7VCKqpv6yHO0enctY7bVui8xsBgmlkgnY0gmlwhKwSHA6KbXVsdGlhZGRyc4wACgSsEhwOBpnW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJnNtC-_3j51NWRU6TMKvLVZXpQNY3rnxp253JzK_qROIN0Y3CCmdWDdWRwgpnXhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39380/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.71.107/tcp/56355/p2p/16Uiu2HAkw4i5Su3Z64H8DkLvpWfmoT4chxjaN4qqZtZsuENNdQbg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39380/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.106/tcp/38938/p2p/16Uiu2HAmVghLzLimWNYVh1hDzeKZCsfRt9EmyJRJmpL7EbJdHAN5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.103.35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['60429', '60430', '60431', '60432', '60433']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 60429:60429 -p 60430:60430 -p 60431:60431 -p 60432:60432 -p 60433:60433 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60431 --rest-port=60429 --tcp-port=60430 --discv5-udp-port=60432 --rest-address=0.0.0.0 --nat=extip:172.18.103.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6cd34ec4ae3be3e0ecde5efbadbf4caeb1c6c15aeec10ae7f904f138b1aef8f6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60433 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDq1P_CxerWZLaANzzmIw7zyLLyvcRlBDPJiLLqHKtaQWKZjCYQe2gUsIf0Vef6r1nRP-Uj-RB6F8f5yKjxSHBEBgmlkgnY0gmlwhKwSR2uKbXVsdGlhZGRyc4wACgSsEkdrBtwk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIYWIxp0SIhwfE0Tbu783jysOB76mmQFhb1l63tqj8tZ4N0Y3CC3CODdWRwgtwlhXdha3UyCQ --lightpushnode=/ip4/172.18.71.107/tcp/56355/p2p/16Uiu2HAkw4i5Su3Z64H8DkLvpWfmoT4chxjaN4qqZtZsuENNdQbg --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.103.35 waku a66a349950c90ab2ae5ed6e9b2faf210b9941fb915882809b41121f93368c6c1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a66a349950c9. Setting up logs at ./log/docker/lightpush_node4_2024-09-03_04-19-43__97e608c6-16b9-456d-8217-5a010b2c2f0e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60429
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60429/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60429/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.35/tcp/60430/p2p/16Uiu2HAmJJBuYR8WnL95N4YjNLm8RZAS3sWRES65HKjvoGvGkZAw","/ip4/172.18.103.35/tcp/60431/ws/p2p/16Uiu2HAmJJBuYR8WnL95N4YjNLm8RZAS3sWRES65HKjvoGvGkZAw"],"enrUri":"enr:-LO4QP8_jyEo3956aqh0_0bkD-uEXliuMZJFdYsHrL_4OGHCcbqziibo9McciNdsBisn0mCILadpvXrO9-akSUtCUdcBgmlkgnY0gmlwhKwSZyOKbXVsdGlhZGRyc4wACgSsEmcjBuwP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNT0f22ocp-0UTTjBsC4jK8mQez1jFqXDgMPEMNQydLSIN0Y3CC7A6DdWRwguwQhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60429/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.71.107/tcp/56355/p2p/16Uiu2HAkw4i5Su3Z64H8DkLvpWfmoT4chxjaN4qqZtZsuENNdQbg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60429/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.106/tcp/38938/p2p/16Uiu2HAmVghLzLimWNYVh1hDzeKZCsfRt9EmyJRJmpL7EbJdHAN5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56354/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38937/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56184/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725337194955577856}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56354/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725337194955577856,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38937/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725337194955577856,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58935/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725337195072199936}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56354/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725337195072199936,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38937/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725337195072199936,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39380/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725337195201698560}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56354/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725337195201698560,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38937/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725337195201698560,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60429/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725337195324798976}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56354/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725337195324798976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38937/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725337195324798976,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 38cc67e177f1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 31d5cd285760
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3aaca580f95c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id eb3369c29ec4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ece5d28c47ac
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a66a349950c9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.