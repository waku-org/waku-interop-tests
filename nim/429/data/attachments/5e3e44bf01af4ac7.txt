[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-06_23-12-32__127aa461-b5d6-4f87-8d7e-04b15c48e374
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_23-12-32__127aa461-b5d6-4f87-8d7e-04b15c48e374__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.252.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41369', '41370', '41371', '41372', '41373']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41369:41369 -p 41370:41370 -p 41371:41371 -p 41372:41372 -p 41373:41373 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41371 --rest-port=41369 --tcp-port=41370 --discv5-udp-port=41372 --rest-address=0.0.0.0 --nat=extip:172.18.252.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e75399e14c4385e511f9dac5dcdddbafddb6243ab7cb71b17d1a39f3abdcbf42 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41373 --metrics-logging=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container efec291317c3. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.252.189 waku 32a56f1d793c23e460a30ed083d30d787c44e800bbb5e9af50bc7c8db4c8ce83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 32a56f1d793c. Setting up logs at ./log/docker/node1_2024-11-06_23-12-32__127aa461-b5d6-4f87-8d7e-04b15c48e374__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 41369
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41369/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41369/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.189/tcp/41370/p2p/16Uiu2HAmJPCE9Unc594b3V7k6vshdtY86N7eUXpXw6WvnGZ33Akr","/ip4/172.18.252.189/tcp/41371/ws/p2p/16Uiu2HAmJPCE9Unc594b3V7k6vshdtY86N7eUXpXw6WvnGZ33Akr"],"enrUri":"enr:-L24QJzETHqimrXjRnRgEbGZ-5Wo_Wmg2YEBeDOSPTEBm45pJ46IxtRH5oo1QRX-3uZVm1keUfbLJCFPM7Rl8Is22lsCgmlkgnY0gmlwhKwS_L2KbXVsdGlhZGRyc5YACASsEvy9BqGaAAoErBL8vQahm90DgnJzhQADAQAAiXNlY3AyNTZrMaEDVRpB_589DaLnaYXSouHGL4BHJusFtmuVOXhBPZfWw-ODdGNwgqGag3VkcIKhnIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_23-12-32__127aa461-b5d6-4f87-8d7e-04b15c48e374__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.247.87
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37616', '37617', '37618', '37619', '37620']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37616:37616 -p 37617:37617 -p 37618:37618 -p 37619:37619 -p 37620:37620 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37618 --rest-port=37616 --tcp-port=37617 --discv5-udp-port=37619 --rest-address=0.0.0.0 --nat=extip:172.18.247.87 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da4e98d22230c6180c50e0a85530ffbe3aa057f8e3b8d4cfa3dd9ffcd9daed76 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37620 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJzETHqimrXjRnRgEbGZ-5Wo_Wmg2YEBeDOSPTEBm45pJ46IxtRH5oo1QRX-3uZVm1keUfbLJCFPM7Rl8Is22lsCgmlkgnY0gmlwhKwS_L2KbXVsdGlhZGRyc5YACASsEvy9BqGaAAoErBL8vQahm90DgnJzhQADAQAAiXNlY3AyNTZrMaEDVRpB_589DaLnaYXSouHGL4BHJusFtmuVOXhBPZfWw-ODdGNwgqGag3VkcIKhnIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.247.87 waku 8cbb6dabe2de2780bf89ab4ddf78033183001c541b2b0df48b2efdd92a6f51f7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8cbb6dabe2de. Setting up logs at ./log/docker/node2_2024-11-06_23-12-32__127aa461-b5d6-4f87-8d7e-04b15c48e374__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 37616
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37616/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37616/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.247.87/tcp/37617/p2p/16Uiu2HAm9ickAS6Nr6UAVDz4YsBG4CKzTEPtdgTwZGiwYHFpd7rw","/ip4/172.18.247.87/tcp/37618/ws/p2p/16Uiu2HAm9ickAS6Nr6UAVDz4YsBG4CKzTEPtdgTwZGiwYHFpd7rw"],"enrUri":"enr:-L24QBy29tZwFW-1Otqp6Dh-QfnLOjPkMBQ0mLumCZ5VofU8Hv0K4P_NEqidf5HUE2CzEzNoBh8l-ivaIBZ51UcWuIkCgmlkgnY0gmlwhKwS91eKbXVsdGlhZGRyc5YACASsEvdXBpLxAAoErBL3VwaS8t0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1FrVOKcYvloQUYRmpQZNStpvIPDQuHnYucRjerBMwfiDdGNwgpLxg3VkcIKS84V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37616/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.189/tcp/41370/p2p/16Uiu2HAmJPCE9Unc594b3V7k6vshdtY86N7eUXpXw6WvnGZ33Akr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_23-12-32__127aa461-b5d6-4f87-8d7e-04b15c48e374__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.177.22
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12929', '12930', '12931', '12932', '12933']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12929:12929 -p 12930:12930 -p 12931:12931 -p 12932:12932 -p 12933:12933 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12931 --rest-port=12929 --tcp-port=12930 --discv5-udp-port=12932 --rest-address=0.0.0.0 --nat=extip:172.18.177.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2bad4234125f053ed7c523cc6fdfb41aebb3e4e84fba7f8c2dea54fdc0974ddb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12933 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJzETHqimrXjRnRgEbGZ-5Wo_Wmg2YEBeDOSPTEBm45pJ46IxtRH5oo1QRX-3uZVm1keUfbLJCFPM7Rl8Is22lsCgmlkgnY0gmlwhKwS_L2KbXVsdGlhZGRyc5YACASsEvy9BqGaAAoErBL8vQahm90DgnJzhQADAQAAiXNlY3AyNTZrMaEDVRpB_589DaLnaYXSouHGL4BHJusFtmuVOXhBPZfWw-ODdGNwgqGag3VkcIKhnIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.177.22 waku c86e8bb4860ee3a9eea85ca5b8066727088292863712735437b180dcb049cc27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c86e8bb4860e. Setting up logs at ./log/docker/node3_2024-11-06_23-12-32__127aa461-b5d6-4f87-8d7e-04b15c48e374__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 12929
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12929/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12929/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.22/tcp/12930/p2p/16Uiu2HAmMVXL8W1qamhswkULiBAEoSZKsaPFTbL6EtSSSc6Cg1Bm","/ip4/172.18.177.22/tcp/12931/ws/p2p/16Uiu2HAmMVXL8W1qamhswkULiBAEoSZKsaPFTbL6EtSSSc6Cg1Bm"],"enrUri":"enr:-L24QK3-dgtculue1eZlifleACLwaCndFu0HttAha2fEqTXXTSKcayEcgUPQ5HQjGgTvxmJO5Gvi7KLh39XgRJ11swACgmlkgnY0gmlwhKwSsRaKbXVsdGlhZGRyc5YACASsErEWBjKCAAoErBKxFgYyg90DgnJzhQADAQAAiXNlY3AyNTZrMaEDg0xnSHAkabHtjozvUV4zBpZCDb8rPWAwepMv4dV1gpiDdGNwgjKCg3VkcIIyhIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12929/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.189/tcp/41370/p2p/16Uiu2HAmJPCE9Unc594b3V7k6vshdtY86N7eUXpXw6WvnGZ33Akr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-06_23-12-32__127aa461-b5d6-4f87-8d7e-04b15c48e374__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.107.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3140', '3141', '3142', '3143', '3144']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3140:3140 -p 3141:3141 -p 3142:3142 -p 3143:3143 -p 3144:3144 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3142 --rest-port=3140 --tcp-port=3141 --discv5-udp-port=3143 --rest-address=0.0.0.0 --nat=extip:172.18.107.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f44acff087cc8d47fda3f01ed7cc6f7ebaa7c824d8d6e542cea266a9bdee72e6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3144 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJzETHqimrXjRnRgEbGZ-5Wo_Wmg2YEBeDOSPTEBm45pJ46IxtRH5oo1QRX-3uZVm1keUfbLJCFPM7Rl8Is22lsCgmlkgnY0gmlwhKwS_L2KbXVsdGlhZGRyc5YACASsEvy9BqGaAAoErBL8vQahm90DgnJzhQADAQAAiXNlY3AyNTZrMaEDVRpB_589DaLnaYXSouHGL4BHJusFtmuVOXhBPZfWw-ODdGNwgqGag3VkcIKhnIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.107.189 waku c6f2e472f278374a070be0a88e57dae13ba4b5f0dc2c242237b0a03a4b65f824
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c6f2e472f278. Setting up logs at ./log/docker/node4_2024-11-06_23-12-32__127aa461-b5d6-4f87-8d7e-04b15c48e374__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3140
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3140/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3140/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.189/tcp/3141/p2p/16Uiu2HAmTxbx8HZ6eYXB7ebJ8ifqnWEc6MmpJ2ZfbjJRBb2ypxPA","/ip4/172.18.107.189/tcp/3142/ws/p2p/16Uiu2HAmTxbx8HZ6eYXB7ebJ8ifqnWEc6MmpJ2ZfbjJRBb2ypxPA"],"enrUri":"enr:-L24QIYRRM3nL-2KSJyUKRyLrg78uyyfv2zTPzSoA7NfMgJHAPAC6M7poUkaD1DCkw5xsZwObKCUi3boP5EfaOpkSCICgmlkgnY0gmlwhKwSa72KbXVsdGlhZGRyc5YACASsEmu9BgxFAAoErBJrvQYMRt0DgnJzhQADAQAAiXNlY3AyNTZrMaED42JucOow9hErm3wExz4siz0iz0DUpxllI5phCyynHbmDdGNwggxFg3VkcIIMR4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3140/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.189/tcp/41370/p2p/16Uiu2HAmJPCE9Unc594b3V7k6vshdtY86N7eUXpXw6WvnGZ33Akr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-06_23-12-32__127aa461-b5d6-4f87-8d7e-04b15c48e374__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.110.114
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18164', '18165', '18166', '18167', '18168']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18164:18164 -p 18165:18165 -p 18166:18166 -p 18167:18167 -p 18168:18168 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18166 --rest-port=18164 --tcp-port=18165 --discv5-udp-port=18167 --rest-address=0.0.0.0 --nat=extip:172.18.110.114 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1bb794b22ba8bd8008f2763ed49ea35c5ba7fa007febe1ddb86c71ebe8fa4c8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18168 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJzETHqimrXjRnRgEbGZ-5Wo_Wmg2YEBeDOSPTEBm45pJ46IxtRH5oo1QRX-3uZVm1keUfbLJCFPM7Rl8Is22lsCgmlkgnY0gmlwhKwS_L2KbXVsdGlhZGRyc5YACASsEvy9BqGaAAoErBL8vQahm90DgnJzhQADAQAAiXNlY3AyNTZrMaEDVRpB_589DaLnaYXSouHGL4BHJusFtmuVOXhBPZfWw-ODdGNwgqGag3VkcIKhnIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.110.114 waku a7d3cd069ecde56bc26aa6a736dbe7a5e85cae9ce1577fdcf8c4563e63a4a24b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a7d3cd069ecd. Setting up logs at ./log/docker/node5_2024-11-06_23-12-32__127aa461-b5d6-4f87-8d7e-04b15c48e374__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18164
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18164/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18164/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.110.114/tcp/18165/p2p/16Uiu2HAmJJpAKCKVcEXqBWDV1msVffmUaT36bGXrLjjQboo85EAY","/ip4/172.18.110.114/tcp/18166/ws/p2p/16Uiu2HAmJJpAKCKVcEXqBWDV1msVffmUaT36bGXrLjjQboo85EAY"],"enrUri":"enr:-L24QL0leHeWKXl_PR8ycFecytWWI3VAZaN4iOH-EyYnigjGdwQh8bBlEz09yIrfjM1MQROI0seVPrI3aWBrP8NUUFkCgmlkgnY0gmlwhKwSbnKKbXVsdGlhZGRyc5YACASsEm5yBkb1AAoErBJucgZG9t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDU_r8ACcE2TenbmJMWHEYZG7BVhyNDKoS-bj9wW3qY02DdGNwgkb1g3VkcIJG94V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18164/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.189/tcp/41370/p2p/16Uiu2HAmJPCE9Unc594b3V7k6vshdtY86N7eUXpXw6WvnGZ33Akr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41369/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37616/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12929/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3140/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18164/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41369/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41369/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730934761058308352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37616/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730934761058308352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12929/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730934761058308352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3140/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730934761058308352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18164/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730934761058308352,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41369/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41369/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730934761199746304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37616/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730934761199746304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12929/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730934761199746304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3140/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730934761199746304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18164/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730934761199746304,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 32a56f1d793c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8cbb6dabe2de
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 32a56f1d793c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c86e8bb4860e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8cbb6dabe2de. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c6f2e472f278
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c86e8bb4860e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a7d3cd069ecd
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c6f2e472f278. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.