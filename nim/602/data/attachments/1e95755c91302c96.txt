[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2025-01-04_04-09-09__67e25a61-d58d-4bb3-ac12-81a915f6bc99
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-04_04-09-09__67e25a61-d58d-4bb3-ac12-81a915f6bc99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.177.152
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30885', '30886', '30887', '30888', '30889']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30885:30885 -p 30886:30886 -p 30887:30887 -p 30888:30888 -p 30889:30889 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30887 --rest-port=30885 --tcp-port=30886 --discv5-udp-port=30888 --rest-address=0.0.0.0 --nat=extip:172.18.177.152 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ecf7cabf74dcbce44dcf9afccf6ca4cef034561adc9bfcdb10fe1aadf51ebfda --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30889 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.177.152 waku 2fd6bda8fa0852e0754c2e819a0e09086a179bf3fc3b82c96e944ad98347bcf7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2fd6bda8fa08. Setting up logs at ./log/docker/node1_2025-01-04_04-09-09__67e25a61-d58d-4bb3-ac12-81a915f6bc99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30885
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 96172ddcd67b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30885/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30885/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.152/tcp/30886/p2p/16Uiu2HAmG8XKR5QdsRb9QKRk1pyx3GPBzYr5kvY7vSp6sUMuD4qk","/ip4/172.18.177.152/tcp/30887/ws/p2p/16Uiu2HAmG8XKR5QdsRb9QKRk1pyx3GPBzYr5kvY7vSp6sUMuD4qk"],"enrUri":"enr:-L24QPM0GzHpv4fkeh826wgyncYWPdozVQKKUY4h55_fzQr1X3h5bxH7BtS1g8AfDXFBovsxS5vGWDeTp94i0JvqOKoCgmlkgnY0gmlwhKwSsZiKbXVsdGlhZGRyc5YACASsErGYBnimAAoErBKxmAZ4p90DgnJzhQADAQAAiXNlY3AyNTZrMaEDM6DCBfKq3FaMetwcKi_ERJLvy6NSOZvnC8yMJRCR8NeDdGNwgnimg3VkcIJ4qIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-04_04-09-09__67e25a61-d58d-4bb3-ac12-81a915f6bc99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.49.109
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50700', '50701', '50702', '50703', '50704']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50700:50700 -p 50701:50701 -p 50702:50702 -p 50703:50703 -p 50704:50704 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50702 --rest-port=50700 --tcp-port=50701 --discv5-udp-port=50703 --rest-address=0.0.0.0 --nat=extip:172.18.49.109 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=82c6d9b2fcbec8ad3777aff0c6da3dad28d0fb42daf934836a5d06bc1ed8c4db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50704 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPM0GzHpv4fkeh826wgyncYWPdozVQKKUY4h55_fzQr1X3h5bxH7BtS1g8AfDXFBovsxS5vGWDeTp94i0JvqOKoCgmlkgnY0gmlwhKwSsZiKbXVsdGlhZGRyc5YACASsErGYBnimAAoErBKxmAZ4p90DgnJzhQADAQAAiXNlY3AyNTZrMaEDM6DCBfKq3FaMetwcKi_ERJLvy6NSOZvnC8yMJRCR8NeDdGNwgnimg3VkcIJ4qIV3YWt1MgU --filternode=/ip4/172.18.177.152/tcp/30886/p2p/16Uiu2HAmG8XKR5QdsRb9QKRk1pyx3GPBzYr5kvY7vSp6sUMuD4qk
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.49.109 waku 376627f6aae268c7ea6cb44b5da0adfed36264ed69ed7cf965e0afaf950e48b5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 376627f6aae2. Setting up logs at ./log/docker/node2_2025-01-04_04-09-09__67e25a61-d58d-4bb3-ac12-81a915f6bc99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 50700
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50700/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50700/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.49.109/tcp/50701/p2p/16Uiu2HAmQVCvUPVprPZsLjKsC6m46MDNrNzYbyEnpbHzMh4uQ58L","/ip4/172.18.49.109/tcp/50702/ws/p2p/16Uiu2HAmQVCvUPVprPZsLjKsC6m46MDNrNzYbyEnpbHzMh4uQ58L"],"enrUri":"enr:-L24QPqqCfRVZhtUhIwSmPRLQarDKa_4lk2pYwcy14_fiNqXLvQI5rmrLWMpJwi73AFtnRwz5mPQb1-Mvi-E4cPVjDoCgmlkgnY0gmlwhKwSMW2KbXVsdGlhZGRyc5YACASsEjFtBsYNAAoErBIxbQbGDt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDr8qmfq42Azlbb0vS7c-L2lH6RBufN2hD0x3WTgN1TPGDdGNwgsYNg3VkcILGD4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50700/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.152/tcp/30886/p2p/16Uiu2HAmG8XKR5QdsRb9QKRk1pyx3GPBzYr5kvY7vSp6sUMuD4qk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-04_04-09-09__67e25a61-d58d-4bb3-ac12-81a915f6bc99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.205.103
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47866', '47867', '47868', '47869', '47870']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47866:47866 -p 47867:47867 -p 47868:47868 -p 47869:47869 -p 47870:47870 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47868 --rest-port=47866 --tcp-port=47867 --discv5-udp-port=47869 --rest-address=0.0.0.0 --nat=extip:172.18.205.103 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0e462174cedcc50a8197bf36cf1c1d4faefcddbe9d4dcd18a718bde8d026e18d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47870 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPM0GzHpv4fkeh826wgyncYWPdozVQKKUY4h55_fzQr1X3h5bxH7BtS1g8AfDXFBovsxS5vGWDeTp94i0JvqOKoCgmlkgnY0gmlwhKwSsZiKbXVsdGlhZGRyc5YACASsErGYBnimAAoErBKxmAZ4p90DgnJzhQADAQAAiXNlY3AyNTZrMaEDM6DCBfKq3FaMetwcKi_ERJLvy6NSOZvnC8yMJRCR8NeDdGNwgnimg3VkcIJ4qIV3YWt1MgU --filternode=/ip4/172.18.177.152/tcp/30886/p2p/16Uiu2HAmG8XKR5QdsRb9QKRk1pyx3GPBzYr5kvY7vSp6sUMuD4qk
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.205.103 waku 1255b81ce1cfd9a3102bc414eb7ccf54f22aef9bf5dcdd128189083c4fbb02a6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1255b81ce1cf. Setting up logs at ./log/docker/node3_2025-01-04_04-09-09__67e25a61-d58d-4bb3-ac12-81a915f6bc99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 47866
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47866/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47866/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.205.103/tcp/47867/p2p/16Uiu2HAm4aGcwupBZ8hxpoW22ZwVHybHyJJSjySj2mjDVNaSwnvV","/ip4/172.18.205.103/tcp/47868/ws/p2p/16Uiu2HAm4aGcwupBZ8hxpoW22ZwVHybHyJJSjySj2mjDVNaSwnvV"],"enrUri":"enr:-L24QDQgDbD8aIy7rGHfmcVcem-k_szTztl5ZRKXtEEq1gEpPTrxnhnA0j4Xxh8vRviUZO5ohBg2gadpZnjHacSsrpYCgmlkgnY0gmlwhKwSzWeKbXVsdGlhZGRyc5YACASsEs1nBrr7AAoErBLNZwa6_N0DgnJzhQADAQAAiXNlY3AyNTZrMaECh-z_PmoX9OCDheieYa4LvK_EY2mhaiJ-xmYti9oD4VKDdGNwgrr7g3VkcIK6_YV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47866/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.152/tcp/30886/p2p/16Uiu2HAmG8XKR5QdsRb9QKRk1pyx3GPBzYr5kvY7vSp6sUMuD4qk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-04_04-09-09__67e25a61-d58d-4bb3-ac12-81a915f6bc99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.99.33
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53129', '53130', '53131', '53132', '53133']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53129:53129 -p 53130:53130 -p 53131:53131 -p 53132:53132 -p 53133:53133 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53131 --rest-port=53129 --tcp-port=53130 --discv5-udp-port=53132 --rest-address=0.0.0.0 --nat=extip:172.18.99.33 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=131c21fa7faeffbfca487073aaf1fc34c092deadeea0bd4ed6414891c3ae0d9c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53133 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPM0GzHpv4fkeh826wgyncYWPdozVQKKUY4h55_fzQr1X3h5bxH7BtS1g8AfDXFBovsxS5vGWDeTp94i0JvqOKoCgmlkgnY0gmlwhKwSsZiKbXVsdGlhZGRyc5YACASsErGYBnimAAoErBKxmAZ4p90DgnJzhQADAQAAiXNlY3AyNTZrMaEDM6DCBfKq3FaMetwcKi_ERJLvy6NSOZvnC8yMJRCR8NeDdGNwgnimg3VkcIJ4qIV3YWt1MgU --filternode=/ip4/172.18.177.152/tcp/30886/p2p/16Uiu2HAmG8XKR5QdsRb9QKRk1pyx3GPBzYr5kvY7vSp6sUMuD4qk
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.99.33 waku a1f0492a5cf3b8b8b4eb16ad92f10e3cc9bd95852d458a4b8b8ce6d648c1e269
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a1f0492a5cf3. Setting up logs at ./log/docker/node4_2025-01-04_04-09-09__67e25a61-d58d-4bb3-ac12-81a915f6bc99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 53129
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53129/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53129/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.33/tcp/53130/p2p/16Uiu2HAmEMnoj8eeBHtspXWg3peUR5VeZvHqk7r9wp1GK2MNjYbg","/ip4/172.18.99.33/tcp/53131/ws/p2p/16Uiu2HAmEMnoj8eeBHtspXWg3peUR5VeZvHqk7r9wp1GK2MNjYbg"],"enrUri":"enr:-L24QAueTjBn2JNlAOWpe3322GPz-nq-txI2ZAwUecqjHg1DA2QDX_4AvU0gtBrLpQCKoZcWTdsVYT0eo2Jx5uQSMccCgmlkgnY0gmlwhKwSYyGKbXVsdGlhZGRyc5YACASsEmMhBs-KAAoErBJjIQbPi90DgnJzhQADAQAAiXNlY3AyNTZrMaEDGU9yccQqqBGYLbYJ6Bck3kzQ8_Ncrwr6MVz3Hlu1SteDdGNwgs-Kg3VkcILPjIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53129/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.152/tcp/30886/p2p/16Uiu2HAmG8XKR5QdsRb9QKRk1pyx3GPBzYr5kvY7vSp6sUMuD4qk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-04_04-09-09__67e25a61-d58d-4bb3-ac12-81a915f6bc99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.214.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5442', '5443', '5444', '5445', '5446']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5442:5442 -p 5443:5443 -p 5444:5444 -p 5445:5445 -p 5446:5446 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5444 --rest-port=5442 --tcp-port=5443 --discv5-udp-port=5445 --rest-address=0.0.0.0 --nat=extip:172.18.214.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e6a04ceaab79fc4550eed2e740a47e40c27e47ebaea2db13b8b787dabaa6c3a8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5446 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPM0GzHpv4fkeh826wgyncYWPdozVQKKUY4h55_fzQr1X3h5bxH7BtS1g8AfDXFBovsxS5vGWDeTp94i0JvqOKoCgmlkgnY0gmlwhKwSsZiKbXVsdGlhZGRyc5YACASsErGYBnimAAoErBKxmAZ4p90DgnJzhQADAQAAiXNlY3AyNTZrMaEDM6DCBfKq3FaMetwcKi_ERJLvy6NSOZvnC8yMJRCR8NeDdGNwgnimg3VkcIJ4qIV3YWt1MgU --filternode=/ip4/172.18.177.152/tcp/30886/p2p/16Uiu2HAmG8XKR5QdsRb9QKRk1pyx3GPBzYr5kvY7vSp6sUMuD4qk
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.214.159 waku 52ce0683cd3ff5c00f664bc5c4323a3cb8f32b676293078130c44b026f850cb4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 52ce0683cd3f. Setting up logs at ./log/docker/node5_2025-01-04_04-09-09__67e25a61-d58d-4bb3-ac12-81a915f6bc99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 5442
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5442/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5442/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.214.159/tcp/5443/p2p/16Uiu2HAm3QBsEWd6Ctfe2BsyDyWv6EtXxTACggUgR8wRqLht2oJV","/ip4/172.18.214.159/tcp/5444/ws/p2p/16Uiu2HAm3QBsEWd6Ctfe2BsyDyWv6EtXxTACggUgR8wRqLht2oJV"],"enrUri":"enr:-L24QDEQ98PWykWD3drdGY3aRxMb-tZ1qOiOd0AHAFE7cEwSOP7ay9iV-MtGs4fA4fOr8qaEPztbxNtB7Ikxbd29MvgCgmlkgnY0gmlwhKwS1p-KbXVsdGlhZGRyc5YACASsEtafBhVDAAoErBLWnwYVRN0DgnJzhQADAQAAiXNlY3AyNTZrMaECdnwghFJkFBS3ZQp5M2tgzmm7AUxjr0SbDPbZwVOspIaDdGNwghVDg3VkcIIVRYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5442/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.152/tcp/30886/p2p/16Uiu2HAmG8XKR5QdsRb9QKRk1pyx3GPBzYr5kvY7vSp6sUMuD4qk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30885/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50700/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "245347f6-6747-4c89-8a73-940819b6413e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"245347f6-6747-4c89-8a73-940819b6413e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47866/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "809a20e9-0aa5-4133-858b-f22bc689e8d1", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"809a20e9-0aa5-4133-858b-f22bc689e8d1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53129/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "19503dda-2d98-4a76-a58d-c66bb027e448", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"19503dda-2d98-4a76-a58d-c66bb027e448","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5442/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "49c526a1-f16a-49f8-911d-a375e425bae4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"49c526a1-f16a-49f8-911d-a375e425bae4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50700/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1735963757327696384,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47866/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:47866/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2fd6bda8fa08
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 376627f6aae2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2fd6bda8fa08. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1255b81ce1cf
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 376627f6aae2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a1f0492a5cf3
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1255b81ce1cf. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 52ce0683cd3f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a1f0492a5cf3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.