[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_with_invalid_pubsub_topic_format with id: 2025-01-04_04-09-58__12b156c2-0864-4229-959a-26f99be7a0f2
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-04_04-09-58__12b156c2-0864-4229-959a-26f99be7a0f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.192.247
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10150', '10151', '10152', '10153', '10154']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10150:10150 -p 10151:10151 -p 10152:10152 -p 10153:10153 -p 10154:10154 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10152 --rest-port=10150 --tcp-port=10151 --discv5-udp-port=10153 --rest-address=0.0.0.0 --nat=extip:172.18.192.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eb94844e749b4b41c8de269c3ab83ef0781f75db78aaaabe2b80cadcaff8cf5b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10154 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.192.247 waku dab4555b50c68da376d8ff981d66858c312f45e1d60dd895cfa46338624ca650
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID dab4555b50c6. Setting up logs at ./log/docker/node1_2025-01-04_04-09-58__12b156c2-0864-4229-959a-26f99be7a0f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 10150
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9c076b3134b5. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10150/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10150/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.192.247/tcp/10151/p2p/16Uiu2HAm1zuYhKhHh73SxKt11sb23Vpm86oVd7FGpyPYyRbUvnF9","/ip4/172.18.192.247/tcp/10152/ws/p2p/16Uiu2HAm1zuYhKhHh73SxKt11sb23Vpm86oVd7FGpyPYyRbUvnF9"],"enrUri":"enr:-L24QPzwkzoezH7OcucVrprk9_-r1v6Y3syXATwokc7WN1evBL6H-RouBqtGFu386g2NM7de0MhrSWI24KuVteMcb7gCgmlkgnY0gmlwhKwSwPeKbXVsdGlhZGRyc5YACASsEsD3BienAAoErBLA9wYnqN0DgnJzhQADAQAAiXNlY3AyNTZrMaECYamg-1mFYU5qSmpj5a1KTsii4t95XGfbA8AzKHF4wcCDdGNwgieng3VkcIInqYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-04_04-09-58__12b156c2-0864-4229-959a-26f99be7a0f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.204.156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36460', '36461', '36462', '36463', '36464']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36460:36460 -p 36461:36461 -p 36462:36462 -p 36463:36463 -p 36464:36464 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36462 --rest-port=36460 --tcp-port=36461 --discv5-udp-port=36463 --rest-address=0.0.0.0 --nat=extip:172.18.204.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=faa783b3bcaffa4c43aaff31d6ffc5ae80f674ccc81ee18e2bfdea5528e37ade --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36464 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPzwkzoezH7OcucVrprk9_-r1v6Y3syXATwokc7WN1evBL6H-RouBqtGFu386g2NM7de0MhrSWI24KuVteMcb7gCgmlkgnY0gmlwhKwSwPeKbXVsdGlhZGRyc5YACASsEsD3BienAAoErBLA9wYnqN0DgnJzhQADAQAAiXNlY3AyNTZrMaECYamg-1mFYU5qSmpj5a1KTsii4t95XGfbA8AzKHF4wcCDdGNwgieng3VkcIInqYV3YWt1MgU --filternode=/ip4/172.18.192.247/tcp/10151/p2p/16Uiu2HAm1zuYhKhHh73SxKt11sb23Vpm86oVd7FGpyPYyRbUvnF9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.204.156 waku 68ae11a892146380710264e14e5fbd3b5d2cd76f5edfe87ec355f445077b7258
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 68ae11a89214. Setting up logs at ./log/docker/node2_2025-01-04_04-09-58__12b156c2-0864-4229-959a-26f99be7a0f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36460
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36460/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36460/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.204.156/tcp/36461/p2p/16Uiu2HAm24DrhjnXY6HBTVecVuh1Rt1F6Z2Y2A5S8MzF3eQTYcHs","/ip4/172.18.204.156/tcp/36462/ws/p2p/16Uiu2HAm24DrhjnXY6HBTVecVuh1Rt1F6Z2Y2A5S8MzF3eQTYcHs"],"enrUri":"enr:-L24QIgoX7hz-j6poU0eGpvMLmByyDElQUn9y-Zw19k0BFRgSIYclYX0SqstaxPv5oqYQTg-0uNrAdckZPW2i8DjLvACgmlkgnY0gmlwhKwSzJyKbXVsdGlhZGRyc5YACASsEsycBo5tAAoErBLMnAaObt0DgnJzhQADAQAAiXNlY3AyNTZrMaECYoMTMZAvQx1li_1QZl2XvpIzLHfO9nZFIeAzji0IC9aDdGNwgo5tg3VkcIKOb4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36460/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.192.247/tcp/10151/p2p/16Uiu2HAm1zuYhKhHh73SxKt11sb23Vpm86oVd7FGpyPYyRbUvnF9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10150/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36460/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9583d8b7-6157-4150-ba01-d63425a98f0a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9583d8b7-6157-4150-ba01-d63425a98f0a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36460/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": ["/waku/2/rs/3/1"]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:36460/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id dab4555b50c6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 68ae11a89214
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dab4555b50c6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.