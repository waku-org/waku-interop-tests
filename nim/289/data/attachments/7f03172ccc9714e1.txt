[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-07-27_04-11-38__0e74f97c-ab9f-45c6-a0bf-4d0a214b5fee
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node1_2024-07-27_04-11-38__0e74f97c-ab9f-45c6-a0bf-4d0a214b5fee__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.155.173
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['12217', '12218', '12219', '12220', '12221']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 12217:12217 -p 12218:12218 -p 12219:12219 -p 12220:12220 -p 12221:12221 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12219 --rest-port=12217 --tcp-port=12218 --discv5-udp-port=12220 --rest-address=0.0.0.0 --nat=extip:172.18.155.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12221 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.155.173 waku 32569f8a3b045f02261c2349f935ea6ccafdd903b2ba95ee00682728bdb2f003
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 32569f8a3b04. Setting up logs at ./log/docker/node1_2024-07-27_04-11-38__0e74f97c-ab9f-45c6-a0bf-4d0a214b5fee__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 12217
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12217/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12217/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.173/tcp/12218/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.155.173/tcp/12219/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QEhJ8bytBNOsS1OtMGbG4qk2dOw4ZewzIVRD8_Dp6lkbGVAHi1vwzwz9ORMTzk44QJYuORX1UuXgKbRMERZ4n-IBgmlkgnY0gmlwhKwSm62KbXVsdGlhZGRyc4wACgSsEputBi-73QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCL7qDdWRwgi-8hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node2_2024-07-27_04-11-38__0e74f97c-ab9f-45c6-a0bf-4d0a214b5fee__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.250.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['34523', '34524', '34525', '34526', '34527']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 34523:34523 -p 34524:34524 -p 34525:34525 -p 34526:34526 -p 34527:34527 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34525 --rest-port=34523 --tcp-port=34524 --discv5-udp-port=34526 --rest-address=0.0.0.0 --nat=extip:172.18.250.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34527 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEhJ8bytBNOsS1OtMGbG4qk2dOw4ZewzIVRD8_Dp6lkbGVAHi1vwzwz9ORMTzk44QJYuORX1UuXgKbRMERZ4n-IBgmlkgnY0gmlwhKwSm62KbXVsdGlhZGRyc4wACgSsEputBi-73QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCL7qDdWRwgi-8hXdha3UyBQ --filternode=/ip4/172.18.155.173/tcp/12218/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.250.50 waku a3acb4c240a9feb898d450cc56ae97ac720ead425fbf53a16289f9a63f12c35c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a3acb4c240a9. Setting up logs at ./log/docker/node2_2024-07-27_04-11-38__0e74f97c-ab9f-45c6-a0bf-4d0a214b5fee__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 34523
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34523/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34523/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.50/tcp/34524/p2p/16Uiu2HAmKWbAcEQbQo28v2fwyBRyTtjCRKHUkEhfPC2Rbvbfh7ZW","/ip4/172.18.250.50/tcp/34525/ws/p2p/16Uiu2HAmKWbAcEQbQo28v2fwyBRyTtjCRKHUkEhfPC2Rbvbfh7ZW"],"enrUri":"enr:-LO4QNcECGe2kwn1oB_UGeTD0EsWsdiMXXmrjWmWREXSMHWQeXyxH5IHiFEXwuBNkJpF-SRj2taMm-7dH59EKOeMPzgBgmlkgnY0gmlwhKwS-jKKbXVsdGlhZGRyc4wACgSsEvoyBobd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNl2vKVYOqC0CVSKT5n2oo0vWu9vg1nogzkiROhGSD6VYN0Y3CChtyDdWRwgobehXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34523/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.173/tcp/12218/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node3_2024-07-27_04-11-38__0e74f97c-ab9f-45c6-a0bf-4d0a214b5fee__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.120.9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['51845', '51846', '51847', '51848', '51849']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 51845:51845 -p 51846:51846 -p 51847:51847 -p 51848:51848 -p 51849:51849 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51847 --rest-port=51845 --tcp-port=51846 --discv5-udp-port=51848 --rest-address=0.0.0.0 --nat=extip:172.18.120.9 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51849 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEhJ8bytBNOsS1OtMGbG4qk2dOw4ZewzIVRD8_Dp6lkbGVAHi1vwzwz9ORMTzk44QJYuORX1UuXgKbRMERZ4n-IBgmlkgnY0gmlwhKwSm62KbXVsdGlhZGRyc4wACgSsEputBi-73QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCL7qDdWRwgi-8hXdha3UyBQ --filternode=/ip4/172.18.155.173/tcp/12218/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.120.9 waku a557eb2944258b9b920a92bd5b3f61c1d26403e13ee1980be08d24547d78abf1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a557eb294425. Setting up logs at ./log/docker/node3_2024-07-27_04-11-38__0e74f97c-ab9f-45c6-a0bf-4d0a214b5fee__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 51845
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51845/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51845/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.120.9/tcp/51846/p2p/16Uiu2HAmV6R7YLCqYjka9r9LQwxyds5ZQmra7PeTcNxrQmWk7h8z","/ip4/172.18.120.9/tcp/51847/ws/p2p/16Uiu2HAmV6R7YLCqYjka9r9LQwxyds5ZQmra7PeTcNxrQmWk7h8z"],"enrUri":"enr:-LO4QOoW04vi-NlnNbfm8rz_yPnoH1Der2jQEEykGr1-QDW5MDkM_DVVf_3QA9vNfkNRcUBgk5qPhnnPRo6IRgwYPb0BgmlkgnY0gmlwhKwSeAmKbXVsdGlhZGRyc4wACgSsEngJBsqH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP0PoK3EopDP8PXRXOoIggtO-YvZ-_SLt7V9lK1IREor4N0Y3CCyoaDdWRwgsqIhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51845/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.173/tcp/12218/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node4_2024-07-27_04-11-38__0e74f97c-ab9f-45c6-a0bf-4d0a214b5fee__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.232.70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['50155', '50156', '50157', '50158', '50159']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 50155:50155 -p 50156:50156 -p 50157:50157 -p 50158:50158 -p 50159:50159 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50157 --rest-port=50155 --tcp-port=50156 --discv5-udp-port=50158 --rest-address=0.0.0.0 --nat=extip:172.18.232.70 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50159 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEhJ8bytBNOsS1OtMGbG4qk2dOw4ZewzIVRD8_Dp6lkbGVAHi1vwzwz9ORMTzk44QJYuORX1UuXgKbRMERZ4n-IBgmlkgnY0gmlwhKwSm62KbXVsdGlhZGRyc4wACgSsEputBi-73QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCL7qDdWRwgi-8hXdha3UyBQ --filternode=/ip4/172.18.155.173/tcp/12218/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.232.70 waku 1240e638ca493bc1ee98a2829e9c58c2d4bd841fda99ae2acf32a3373f2b0161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1240e638ca49. Setting up logs at ./log/docker/node4_2024-07-27_04-11-38__0e74f97c-ab9f-45c6-a0bf-4d0a214b5fee__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 50155
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50155/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50155/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.232.70/tcp/50156/p2p/16Uiu2HAm8TRWYA9Ja3wijWa12ih52wnHmxM4Dc5rHQ1SCMNBm3UZ","/ip4/172.18.232.70/tcp/50157/ws/p2p/16Uiu2HAm8TRWYA9Ja3wijWa12ih52wnHmxM4Dc5rHQ1SCMNBm3UZ"],"enrUri":"enr:-LO4QO_1uGGjBugV_rUuaMiCKqWue1wVzny8zlaxE3fBD_AdH4Jw5D-89vhz85yu2Hh2-uzHedldq76yhuy4YRIW4AEBgmlkgnY0gmlwhKwS6EaKbXVsdGlhZGRyc4wACgSsEuhGBsPt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLBmrr_56b4iJjjhN4KBC7R450kQ9VS4U8mrUMPSMvdpoN0Y3CCw-yDdWRwgsPuhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50155/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.173/tcp/12218/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node5_2024-07-27_04-11-38__0e74f97c-ab9f-45c6-a0bf-4d0a214b5fee__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.252.157
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['62568', '62569', '62570', '62571', '62572']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 62568:62568 -p 62569:62569 -p 62570:62570 -p 62571:62571 -p 62572:62572 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62570 --rest-port=62568 --tcp-port=62569 --discv5-udp-port=62571 --rest-address=0.0.0.0 --nat=extip:172.18.252.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62572 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEhJ8bytBNOsS1OtMGbG4qk2dOw4ZewzIVRD8_Dp6lkbGVAHi1vwzwz9ORMTzk44QJYuORX1UuXgKbRMERZ4n-IBgmlkgnY0gmlwhKwSm62KbXVsdGlhZGRyc4wACgSsEputBi-73QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCL7qDdWRwgi-8hXdha3UyBQ --filternode=/ip4/172.18.155.173/tcp/12218/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.252.157 waku a8641b25de4bd81ccd1c08c795e05bdf306f562a86b76980d073a7a5ae8f6d8a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a8641b25de4b. Setting up logs at ./log/docker/node5_2024-07-27_04-11-38__0e74f97c-ab9f-45c6-a0bf-4d0a214b5fee__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 62568
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62568/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62568/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.157/tcp/62569/p2p/16Uiu2HAm1vsPfEAFftPPs3Y15P3o7ipBVmX5hj4dv6paMr44i4yV","/ip4/172.18.252.157/tcp/62570/ws/p2p/16Uiu2HAm1vsPfEAFftPPs3Y15P3o7ipBVmX5hj4dv6paMr44i4yV"],"enrUri":"enr:-LO4QLQl4d6ZI6M2tQZEjPz4rclWwYZcSLst28BBKcX-eav6WgAN38_ngcJ22IcN2GQYVHlnnvvm4JGUpUQ7Fw_Z0OwBgmlkgnY0gmlwhKwS_J2KbXVsdGlhZGRyc4wACgSsEvydBvRq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJgoN43cNxT54dCURaHERGsRu0fyI6VP4W74madvyTT8IN0Y3CC9GmDdWRwgvRrhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62568/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.173/tcp/12218/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12217/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34523/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8902f535-0040-4658-8f06-4187c632ec93", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8902f535-0040-4658-8f06-4187c632ec93","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51845/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "20622bfc-3862-44de-8306-f625f6b9b339", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"20622bfc-3862-44de-8306-f625f6b9b339","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50155/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "39033f1e-7b53-4e56-9485-503aa7c1ed88", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"39033f1e-7b53-4e56-9485-503aa7c1ed88","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62568/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2be73644-f93c-4ef8-ac91-a91c76697fbf", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2be73644-f93c-4ef8-ac91-a91c76697fbf","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12217/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34523/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1722053506682090752,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12217/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51845/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:51845/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 32569f8a3b04
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id a3acb4c240a9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id a557eb294425
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 1240e638ca49
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id a8641b25de4b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.