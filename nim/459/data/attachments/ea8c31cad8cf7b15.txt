[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-23_04-19-11__f481335a-1aff-4d0f-b9e3-48487ed0b883
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-23_04-19-11__f481335a-1aff-4d0f-b9e3-48487ed0b883__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.138.21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54582', '54583', '54584', '54585', '54586']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54582:54582 -p 54583:54583 -p 54584:54584 -p 54585:54585 -p 54586:54586 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54584 --rest-port=54582 --tcp-port=54583 --discv5-udp-port=54585 --rest-address=0.0.0.0 --nat=extip:172.18.138.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c788ec512157cf0c7de6b000e3e46facadbc6bcf9ea4661e5de19dcce623b5f7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54586 --metrics-logging=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7bba5ba70b05. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.138.21 waku b0f1ffef9ef4a931ca0fc0e9ab78e974af79fb0e50d78ef85f3faaf40bc42012
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b0f1ffef9ef4. Setting up logs at ./log/docker/node1_2024-11-23_04-19-11__f481335a-1aff-4d0f-b9e3-48487ed0b883__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 54582
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54582/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54582/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.21/tcp/54583/p2p/16Uiu2HAmGh1n2MMchvdrjZckemynUbRQWBcvhnnrhhKvoudjJvLG","/ip4/172.18.138.21/tcp/54584/ws/p2p/16Uiu2HAmGh1n2MMchvdrjZckemynUbRQWBcvhnnrhhKvoudjJvLG"],"enrUri":"enr:-L24QKiI3yuZw5W7KIKwe4HIoWn3Mdy2b95PRyHWENHDWcopBrE0qAJLxcMSfaDCBTUGPVveQKiRY8C_p8qVwShDt-cCgmlkgnY0gmlwhKwSihWKbXVsdGlhZGRyc5YACASsEooVBtU3AAoErBKKFQbVON0DgnJzhQADAQAAiXNlY3AyNTZrMaEDO_OFsBlHNXMfNVemrn73uk7t2VaMjmQHtkvwzh8G6ZmDdGNwgtU3g3VkcILVOYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-23_04-19-11__f481335a-1aff-4d0f-b9e3-48487ed0b883__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.187.38
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8870', '8871', '8872', '8873', '8874']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8870:8870 -p 8871:8871 -p 8872:8872 -p 8873:8873 -p 8874:8874 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8872 --rest-port=8870 --tcp-port=8871 --discv5-udp-port=8873 --rest-address=0.0.0.0 --nat=extip:172.18.187.38 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef161b5e9595c359ea1b1bcc46fa1f67050efb5da315aecc5fcb03e3acbfe2df --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8874 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKiI3yuZw5W7KIKwe4HIoWn3Mdy2b95PRyHWENHDWcopBrE0qAJLxcMSfaDCBTUGPVveQKiRY8C_p8qVwShDt-cCgmlkgnY0gmlwhKwSihWKbXVsdGlhZGRyc5YACASsEooVBtU3AAoErBKKFQbVON0DgnJzhQADAQAAiXNlY3AyNTZrMaEDO_OFsBlHNXMfNVemrn73uk7t2VaMjmQHtkvwzh8G6ZmDdGNwgtU3g3VkcILVOYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.187.38 waku 84ff3526c4669eac7c19d5c2f93f7f2b72f438b829afcc59134fa213e9a65f7f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 84ff3526c466. Setting up logs at ./log/docker/node2_2024-11-23_04-19-11__f481335a-1aff-4d0f-b9e3-48487ed0b883__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 8870
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8870/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8870/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.38/tcp/8871/p2p/16Uiu2HAm3ZydG32M9ro8bNCZhMaaV7WRihafypNfcTbeowuJZ1YD","/ip4/172.18.187.38/tcp/8872/ws/p2p/16Uiu2HAm3ZydG32M9ro8bNCZhMaaV7WRihafypNfcTbeowuJZ1YD"],"enrUri":"enr:-L24QNbms4T2uC7TRdUs5O2pPI7EAMotcvelGvLyMp-iwtssKVrBFnuHg4C0RRh3mgQaGK5tPeuL0kgD7bvEHqUhKUUCgmlkgnY0gmlwhKwSuyaKbXVsdGlhZGRyc5YACASsErsmBiKnAAoErBK7JgYiqN0DgnJzhQADAQAAiXNlY3AyNTZrMaECeP4YIMtoxtMok2hnqrzp9E3WjQaZ0Ekc9GTWzai7PCKDdGNwgiKng3VkcIIiqYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8870/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.21/tcp/54583/p2p/16Uiu2HAmGh1n2MMchvdrjZckemynUbRQWBcvhnnrhhKvoudjJvLG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-23_04-19-11__f481335a-1aff-4d0f-b9e3-48487ed0b883__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.67.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31796', '31797', '31798', '31799', '31800']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31796:31796 -p 31797:31797 -p 31798:31798 -p 31799:31799 -p 31800:31800 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31798 --rest-port=31796 --tcp-port=31797 --discv5-udp-port=31799 --rest-address=0.0.0.0 --nat=extip:172.18.67.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=feeded1b2bfdf23b59c711b6b85ba0dbf0e2b42bcc6afccd247aabad884b2edb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31800 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKiI3yuZw5W7KIKwe4HIoWn3Mdy2b95PRyHWENHDWcopBrE0qAJLxcMSfaDCBTUGPVveQKiRY8C_p8qVwShDt-cCgmlkgnY0gmlwhKwSihWKbXVsdGlhZGRyc5YACASsEooVBtU3AAoErBKKFQbVON0DgnJzhQADAQAAiXNlY3AyNTZrMaEDO_OFsBlHNXMfNVemrn73uk7t2VaMjmQHtkvwzh8G6ZmDdGNwgtU3g3VkcILVOYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.67.249 waku c8534c422cc2a8206da041825cbe7db9ec5663e28e92601626ff9190c8709cde
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c8534c422cc2. Setting up logs at ./log/docker/node3_2024-11-23_04-19-11__f481335a-1aff-4d0f-b9e3-48487ed0b883__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 31796
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31796/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31796/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.67.249/tcp/31797/p2p/16Uiu2HAm211nf3K1Svr459yTuX9acggJQh31kxxAP6nTso9M5Vig","/ip4/172.18.67.249/tcp/31798/ws/p2p/16Uiu2HAm211nf3K1Svr459yTuX9acggJQh31kxxAP6nTso9M5Vig"],"enrUri":"enr:-L24QPYevlclBqS9kNfLxFzCcHfkng7NETRayw1c0hTHhAhSIcscjJsI3J5T9CMi6HphkmZOV48mdPqxkTdQXvzHVv8CgmlkgnY0gmlwhKwSQ_mKbXVsdGlhZGRyc5YACASsEkP5Bnw1AAoErBJD-QZ8Nt0DgnJzhQADAQAAiXNlY3AyNTZrMaECYbCvanWXBOJSmq-VDKqGzb4LbHGtz0Ku0p6qHTbCYMGDdGNwgnw1g3VkcIJ8N4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31796/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.21/tcp/54583/p2p/16Uiu2HAmGh1n2MMchvdrjZckemynUbRQWBcvhnnrhhKvoudjJvLG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-23_04-19-11__f481335a-1aff-4d0f-b9e3-48487ed0b883__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.229.199
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29857', '29858', '29859', '29860', '29861']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29857:29857 -p 29858:29858 -p 29859:29859 -p 29860:29860 -p 29861:29861 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29859 --rest-port=29857 --tcp-port=29858 --discv5-udp-port=29860 --rest-address=0.0.0.0 --nat=extip:172.18.229.199 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0ecd3bdef14bc995e56d2482deb4ca4bbf38fee9ac2b8da019ad38337d2f7466 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29861 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKiI3yuZw5W7KIKwe4HIoWn3Mdy2b95PRyHWENHDWcopBrE0qAJLxcMSfaDCBTUGPVveQKiRY8C_p8qVwShDt-cCgmlkgnY0gmlwhKwSihWKbXVsdGlhZGRyc5YACASsEooVBtU3AAoErBKKFQbVON0DgnJzhQADAQAAiXNlY3AyNTZrMaEDO_OFsBlHNXMfNVemrn73uk7t2VaMjmQHtkvwzh8G6ZmDdGNwgtU3g3VkcILVOYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.229.199 waku 44650f7555a77c93dd4e5e0aa2269ff361029113fa4e927dde76bb79a4fb5374
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 44650f7555a7. Setting up logs at ./log/docker/node4_2024-11-23_04-19-11__f481335a-1aff-4d0f-b9e3-48487ed0b883__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 29857
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29857/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29857/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.229.199/tcp/29858/p2p/16Uiu2HAmMJVhUBKcPXB8XedeBWZJUtrX95AFxKoa1p95SovyAKkv","/ip4/172.18.229.199/tcp/29859/ws/p2p/16Uiu2HAmMJVhUBKcPXB8XedeBWZJUtrX95AFxKoa1p95SovyAKkv"],"enrUri":"enr:-L24QCuG-Bue5ejNWOx1Uy-_kX4pwH4WQi5MT1YAxeKTNZKoNd6BSiOFeqTj5YsggkRz87cOQW7_J2Cl5uOkTuocrwsCgmlkgnY0gmlwhKwS5ceKbXVsdGlhZGRyc5YACASsEuXHBnSiAAoErBLlxwZ0o90DgnJzhQADAQAAiXNlY3AyNTZrMaEDgHkrTVVJQsP8BhsyLmfpc8OM34HgAAR-qxsYd6TGfYODdGNwgnSig3VkcIJ0pIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29857/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.21/tcp/54583/p2p/16Uiu2HAmGh1n2MMchvdrjZckemynUbRQWBcvhnnrhhKvoudjJvLG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-23_04-19-11__f481335a-1aff-4d0f-b9e3-48487ed0b883__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.137.52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56444', '56445', '56446', '56447', '56448']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56444:56444 -p 56445:56445 -p 56446:56446 -p 56447:56447 -p 56448:56448 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56446 --rest-port=56444 --tcp-port=56445 --discv5-udp-port=56447 --rest-address=0.0.0.0 --nat=extip:172.18.137.52 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8b1e1cc7af6f410b1ef6f7f98edbd156ff51e1ef2c6db7fb92ce0be68d8fa13b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56448 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKiI3yuZw5W7KIKwe4HIoWn3Mdy2b95PRyHWENHDWcopBrE0qAJLxcMSfaDCBTUGPVveQKiRY8C_p8qVwShDt-cCgmlkgnY0gmlwhKwSihWKbXVsdGlhZGRyc5YACASsEooVBtU3AAoErBKKFQbVON0DgnJzhQADAQAAiXNlY3AyNTZrMaEDO_OFsBlHNXMfNVemrn73uk7t2VaMjmQHtkvwzh8G6ZmDdGNwgtU3g3VkcILVOYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.137.52 waku ed93d0ca41f6492a29ba0997b5c9ae247835af71d70e11a2dc1c763d6419c4bb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ed93d0ca41f6. Setting up logs at ./log/docker/node5_2024-11-23_04-19-11__f481335a-1aff-4d0f-b9e3-48487ed0b883__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 56444
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56444/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56444/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.52/tcp/56445/p2p/16Uiu2HAmQ7jpBVcqVmT4P5qbaCSxquR1qSeZnqcTPsWduwFcSxUv","/ip4/172.18.137.52/tcp/56446/ws/p2p/16Uiu2HAmQ7jpBVcqVmT4P5qbaCSxquR1qSeZnqcTPsWduwFcSxUv"],"enrUri":"enr:-L24QKJQjquyUQrADYkQ2ZEOBiTKfm9a336IUM6dGDytOG6oAB_9uvarSWSPBg0TLj1_2sdLR8m029id42EHC5thG7kCgmlkgnY0gmlwhKwSiTSKbXVsdGlhZGRyc5YACASsEok0Btx9AAoErBKJNAbcft0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqkrNPnxAgOMspNMa7kS0754WJMdcyKDftRYf_PivgGeDdGNwgtx9g3VkcILcf4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56444/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.21/tcp/54583/p2p/16Uiu2HAmGh1n2MMchvdrjZckemynUbRQWBcvhnnrhhKvoudjJvLG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54582/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31796/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29857/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56444/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54582/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54582/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335559677687296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335559677687296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335559677687296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29857/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335559677687296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56444/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335559677687296,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54582/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54582/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335559812785408,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335559812785408,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335559812785408,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29857/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335559812785408,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56444/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335559812785408,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id b0f1ffef9ef4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 84ff3526c466
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b0f1ffef9ef4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c8534c422cc2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 84ff3526c466. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 44650f7555a7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c8534c422cc2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id ed93d0ca41f6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 44650f7555a7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.