[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-23_04-19-31__f61c3658-a5a4-4aed-93ec-d257fbb3d14f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-23_04-19-31__f61c3658-a5a4-4aed-93ec-d257fbb3d14f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.34.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13327', '13328', '13329', '13330', '13331']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13327:13327 -p 13328:13328 -p 13329:13329 -p 13330:13330 -p 13331:13331 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13329 --rest-port=13327 --tcp-port=13328 --discv5-udp-port=13330 --rest-address=0.0.0.0 --nat=extip:172.18.34.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c557dacdf9d48d45cfd07b8896cad1fca93d7dfa0adbb93a2e62c4c40ff2feab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13331 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.34.69 waku 8ee441e5aa01e6ca6b37d9d21ed4cde410578d3297f9327442e4127a50b918c9
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ed93d0ca41f6. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8ee441e5aa01. Setting up logs at ./log/docker/node1_2024-11-23_04-19-31__f61c3658-a5a4-4aed-93ec-d257fbb3d14f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 13327
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13327/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13327/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.34.69/tcp/13328/p2p/16Uiu2HAmBRskK87DZY6wmDeWXJjs4rV9nosKFDB7M8UGVegmVQtq","/ip4/172.18.34.69/tcp/13329/ws/p2p/16Uiu2HAmBRskK87DZY6wmDeWXJjs4rV9nosKFDB7M8UGVegmVQtq"],"enrUri":"enr:-L24QIN7I3s3qCtDA2VhrSrAwOJSlMSlcdQG5tOsWhnwsX9Meoup1MymFZQsOzjtA3Ph88Ps3CxAuFo_8XTX0835CVoCgmlkgnY0gmlwhKwSIkWKbXVsdGlhZGRyc5YACASsEiJFBjQQAAoErBIiRQY0Ed0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7chL5WUpY3fAK7cUE7sbKb2zmwYkJRnZ0oLJrkG9NrqDdGNwgjQQg3VkcII0EoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-23_04-19-31__f61c3658-a5a4-4aed-93ec-d257fbb3d14f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.8.239
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48692', '48693', '48694', '48695', '48696']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48692:48692 -p 48693:48693 -p 48694:48694 -p 48695:48695 -p 48696:48696 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48694 --rest-port=48692 --tcp-port=48693 --discv5-udp-port=48695 --rest-address=0.0.0.0 --nat=extip:172.18.8.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef44fdc51b582eaadca9f8f7edcd7e12e8a71afec3bf8c4fd54b98eb606b7f07 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48696 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIN7I3s3qCtDA2VhrSrAwOJSlMSlcdQG5tOsWhnwsX9Meoup1MymFZQsOzjtA3Ph88Ps3CxAuFo_8XTX0835CVoCgmlkgnY0gmlwhKwSIkWKbXVsdGlhZGRyc5YACASsEiJFBjQQAAoErBIiRQY0Ed0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7chL5WUpY3fAK7cUE7sbKb2zmwYkJRnZ0oLJrkG9NrqDdGNwgjQQg3VkcII0EoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.8.239 waku 7a1e7673e7584d99cf8c002cd6427ce890bb4fe4568cb4bc18b2c6a83f34c3f7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7a1e7673e758. Setting up logs at ./log/docker/node2_2024-11-23_04-19-31__f61c3658-a5a4-4aed-93ec-d257fbb3d14f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 48692
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48692/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48692/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.8.239/tcp/48693/p2p/16Uiu2HAkzZkr1CFVpB3b4Xh5x3aSufgKiAH3aqzwQhs9woA2aRd9","/ip4/172.18.8.239/tcp/48694/ws/p2p/16Uiu2HAkzZkr1CFVpB3b4Xh5x3aSufgKiAH3aqzwQhs9woA2aRd9"],"enrUri":"enr:-L24QLI_EV2eC57MSVyXrwCoM3fO_7-ukJSXSyB_u9jJp21wHDaH7g5eEXn8ZEn8i4lwR5g3_EyzFAWpRr65FE9B7G8CgmlkgnY0gmlwhKwSCO-KbXVsdGlhZGRyc5YACASsEgjvBr41AAoErBII7wa-Nt0DgnJzhQADAQAAiXNlY3AyNTZrMaECTFyVMGXVGsL2etQGMU_KzX9oj7UdT-CUfFMFS381fOiDdGNwgr41g3VkcIK-N4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48692/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.34.69/tcp/13328/p2p/16Uiu2HAmBRskK87DZY6wmDeWXJjs4rV9nosKFDB7M8UGVegmVQtq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-23_04-19-31__f61c3658-a5a4-4aed-93ec-d257fbb3d14f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.217.33
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24418', '24419', '24420', '24421', '24422']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24418:24418 -p 24419:24419 -p 24420:24420 -p 24421:24421 -p 24422:24422 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24420 --rest-port=24418 --tcp-port=24419 --discv5-udp-port=24421 --rest-address=0.0.0.0 --nat=extip:172.18.217.33 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f6fb525cb1acbec42da15e1c46a3eccec2eef89caec34be1e5956b7b64c514aa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24422 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIN7I3s3qCtDA2VhrSrAwOJSlMSlcdQG5tOsWhnwsX9Meoup1MymFZQsOzjtA3Ph88Ps3CxAuFo_8XTX0835CVoCgmlkgnY0gmlwhKwSIkWKbXVsdGlhZGRyc5YACASsEiJFBjQQAAoErBIiRQY0Ed0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7chL5WUpY3fAK7cUE7sbKb2zmwYkJRnZ0oLJrkG9NrqDdGNwgjQQg3VkcII0EoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.217.33 waku 572fda802d3813b1e2699dc8610e073fa0fb2df422b4484e8088045c3ac3ec5a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 572fda802d38. Setting up logs at ./log/docker/node3_2024-11-23_04-19-31__f61c3658-a5a4-4aed-93ec-d257fbb3d14f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 24418
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24418/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24418/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.33/tcp/24419/p2p/16Uiu2HAm4mB9djNfwTujL42YJmKvsgAP3uZMLLFCkic6ANh2XTn9","/ip4/172.18.217.33/tcp/24420/ws/p2p/16Uiu2HAm4mB9djNfwTujL42YJmKvsgAP3uZMLLFCkic6ANh2XTn9"],"enrUri":"enr:-L24QMAaY4E-G92KXRqbGLl1yG2jU0T26fLMr1ghWbJMF9a7FO10df1XB4lgs2JrAXV-FeiFo23Hob0NwSfFdS08yfMCgmlkgnY0gmlwhKwS2SGKbXVsdGlhZGRyc5YACASsEtkhBl9jAAoErBLZIQZfZN0DgnJzhQADAQAAiXNlY3AyNTZrMaECirgzMESRMx8Bi3JC5nA6zcRTtpQYutNcBoVtaOb0X2KDdGNwgl9jg3VkcIJfZYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24418/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.34.69/tcp/13328/p2p/16Uiu2HAmBRskK87DZY6wmDeWXJjs4rV9nosKFDB7M8UGVegmVQtq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-23_04-19-31__f61c3658-a5a4-4aed-93ec-d257fbb3d14f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.197.238
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58915', '58916', '58917', '58918', '58919']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58915:58915 -p 58916:58916 -p 58917:58917 -p 58918:58918 -p 58919:58919 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58917 --rest-port=58915 --tcp-port=58916 --discv5-udp-port=58918 --rest-address=0.0.0.0 --nat=extip:172.18.197.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=effd780ca313aede791769faa3feaee7cbaf9c07247c6b1ea8edf1b4ddb16e4d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58919 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIN7I3s3qCtDA2VhrSrAwOJSlMSlcdQG5tOsWhnwsX9Meoup1MymFZQsOzjtA3Ph88Ps3CxAuFo_8XTX0835CVoCgmlkgnY0gmlwhKwSIkWKbXVsdGlhZGRyc5YACASsEiJFBjQQAAoErBIiRQY0Ed0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7chL5WUpY3fAK7cUE7sbKb2zmwYkJRnZ0oLJrkG9NrqDdGNwgjQQg3VkcII0EoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.197.238 waku f8381ebd76270f7e3358623ba4b16b7b823e61f9df15eba44176f894232b0d17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f8381ebd7627. Setting up logs at ./log/docker/node4_2024-11-23_04-19-31__f61c3658-a5a4-4aed-93ec-d257fbb3d14f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 58915
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58915/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58915/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.197.238/tcp/58916/p2p/16Uiu2HAkxPh8WfgdxmiVyfaf9tTGZNC1Sh6YZBYNPYBUZS1eFVV1","/ip4/172.18.197.238/tcp/58917/ws/p2p/16Uiu2HAkxPh8WfgdxmiVyfaf9tTGZNC1Sh6YZBYNPYBUZS1eFVV1"],"enrUri":"enr:-L24QDn5BRnmgNuktQYB1ly5MOrxD4Da8_ebWZZgUKcpHzbJLrCbqpdhkVgj9W-1xNmgjhZlFVN0zClSByGrQ2jeU2gCgmlkgnY0gmlwhKwSxe6KbXVsdGlhZGRyc5YACASsEsXuBuYkAAoErBLF7gbmJd0DgnJzhQADAQAAiXNlY3AyNTZrMaECLBEzKHydJ_vh37B6-z6QgyrgVVGK5x6tSUQ4muU_bwiDdGNwguYkg3VkcILmJoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58915/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.34.69/tcp/13328/p2p/16Uiu2HAmBRskK87DZY6wmDeWXJjs4rV9nosKFDB7M8UGVegmVQtq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-23_04-19-31__f61c3658-a5a4-4aed-93ec-d257fbb3d14f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.54.254
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22408', '22409', '22410', '22411', '22412']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22408:22408 -p 22409:22409 -p 22410:22410 -p 22411:22411 -p 22412:22412 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22410 --rest-port=22408 --tcp-port=22409 --discv5-udp-port=22411 --rest-address=0.0.0.0 --nat=extip:172.18.54.254 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ace7c584dba9e308cd2ffa1e86bb0fbbff04e43b3dcefacff7baf3d133cf901b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22412 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIN7I3s3qCtDA2VhrSrAwOJSlMSlcdQG5tOsWhnwsX9Meoup1MymFZQsOzjtA3Ph88Ps3CxAuFo_8XTX0835CVoCgmlkgnY0gmlwhKwSIkWKbXVsdGlhZGRyc5YACASsEiJFBjQQAAoErBIiRQY0Ed0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7chL5WUpY3fAK7cUE7sbKb2zmwYkJRnZ0oLJrkG9NrqDdGNwgjQQg3VkcII0EoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.54.254 waku 4cc2d5e1e33f53904f8f424c8d8e17235cb4296c3334fedf854b6d5bafe2e952
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4cc2d5e1e33f. Setting up logs at ./log/docker/node5_2024-11-23_04-19-31__f61c3658-a5a4-4aed-93ec-d257fbb3d14f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 22408
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22408/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22408/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.254/tcp/22409/p2p/16Uiu2HAm4W4fa2K9wBND3vK61gVTGYHhC5MibKgCXiBeCZt99Jz7","/ip4/172.18.54.254/tcp/22410/ws/p2p/16Uiu2HAm4W4fa2K9wBND3vK61gVTGYHhC5MibKgCXiBeCZt99Jz7"],"enrUri":"enr:-L24QNzqOU_HCzo__uc39qsswx9st6kI2IzwM82wXV9R74kgXo9LJQu9KeWTn0bDZ0CSUYOwCe2RjzHkSsOY3ahmoTUCgmlkgnY0gmlwhKwSNv6KbXVsdGlhZGRyc5YACASsEjb-BleJAAoErBI2_gZXit0DgnJzhQADAQAAiXNlY3AyNTZrMaEChtkoEAJj1rNc7ENs17hx5o7sydaELY-lxnBD23Q3fXSDdGNwgleJg3VkcIJXi4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22408/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.34.69/tcp/13328/p2p/16Uiu2HAmBRskK87DZY6wmDeWXJjs4rV9nosKFDB7M8UGVegmVQtq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13327/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48692/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24418/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58915/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22408/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13327/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13327/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335580509864448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48692/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335580509864448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24418/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335580509864448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335580509864448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22408/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335580509864448,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22408/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13327/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335580654030336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48692/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335580654030336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24418/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335580654030336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335580654030336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22408/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335580654030336,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8ee441e5aa01
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 7a1e7673e758
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8ee441e5aa01. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 572fda802d38
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7a1e7673e758. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f8381ebd7627
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 572fda802d38. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 4cc2d5e1e33f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f8381ebd7627. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.