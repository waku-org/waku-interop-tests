[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-11-23_04-19-52__dc995a7a-b8cb-4a20-8d22-e1a93fabee68
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-23_04-19-52__dc995a7a-b8cb-4a20-8d22-e1a93fabee68__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.89.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21733', '21734', '21735', '21736', '21737']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21733:21733 -p 21734:21734 -p 21735:21735 -p 21736:21736 -p 21737:21737 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21735 --rest-port=21733 --tcp-port=21734 --discv5-udp-port=21736 --rest-address=0.0.0.0 --nat=extip:172.18.89.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ed0d9d5a65fd6c4854107ccfccd77b53b84eca0bb84f7bd73b5cb5f117dc2a8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21737 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.89.41 waku 1b55f4c4bc8ddcb2012f72764a3dc03f67d982efab802984eb6e2bb40f5a677e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4cc2d5e1e33f. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1b55f4c4bc8d. Setting up logs at ./log/docker/node1_2024-11-23_04-19-52__dc995a7a-b8cb-4a20-8d22-e1a93fabee68__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 21733
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21733/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21733/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.89.41/tcp/21734/p2p/16Uiu2HAmTsoP1UaMR24VwUfdu5gej2GvmzPYNjxkjEd7eYvQ4TNF","/ip4/172.18.89.41/tcp/21735/ws/p2p/16Uiu2HAmTsoP1UaMR24VwUfdu5gej2GvmzPYNjxkjEd7eYvQ4TNF"],"enrUri":"enr:-L24QPaPpOz3cnhiVex3WvenE9Mot3D6-ooEVUisATip8LwFE18usDDdgY_kZyojpwJqr1yyo7QdY4SnW-A42_TsgHUCgmlkgnY0gmlwhKwSWSmKbXVsdGlhZGRyc5YACASsElkpBlTmAAoErBJZKQZU590DgnJzhQADAQAAiXNlY3AyNTZrMaED4idzP4Vi2qBX-bYaedjzTqFgq4d7Ivt5EU4Q_asjF8CDdGNwglTmg3VkcIJU6IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-23_04-19-52__dc995a7a-b8cb-4a20-8d22-e1a93fabee68__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.155.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4723', '4724', '4725', '4726', '4727']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4723:4723 -p 4724:4724 -p 4725:4725 -p 4726:4726 -p 4727:4727 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4725 --rest-port=4723 --tcp-port=4724 --discv5-udp-port=4726 --rest-address=0.0.0.0 --nat=extip:172.18.155.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9cdabee97faf6c1ef196c1f16499a2770b7519cb486bae8ea9ec43d53bb2652 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4727 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPaPpOz3cnhiVex3WvenE9Mot3D6-ooEVUisATip8LwFE18usDDdgY_kZyojpwJqr1yyo7QdY4SnW-A42_TsgHUCgmlkgnY0gmlwhKwSWSmKbXVsdGlhZGRyc5YACASsElkpBlTmAAoErBJZKQZU590DgnJzhQADAQAAiXNlY3AyNTZrMaED4idzP4Vi2qBX-bYaedjzTqFgq4d7Ivt5EU4Q_asjF8CDdGNwglTmg3VkcIJU6IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.155.6 waku 4588a7bb717b6265cf1ede43232cc51e5354bf65a368d9fc4454943cb251d5a4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4588a7bb717b. Setting up logs at ./log/docker/node2_2024-11-23_04-19-52__dc995a7a-b8cb-4a20-8d22-e1a93fabee68__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 4723
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4723/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4723/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.6/tcp/4724/p2p/16Uiu2HAmTqNDynYXoU7KcmL97n858bwrVPEj1M3xVvtWgerEQ5Go","/ip4/172.18.155.6/tcp/4725/ws/p2p/16Uiu2HAmTqNDynYXoU7KcmL97n858bwrVPEj1M3xVvtWgerEQ5Go"],"enrUri":"enr:-L24QG2l-pwApVT7KgWdxXHij8B937kystI62kPogCcFikKJPhCA97GiLBgorWtIARgUChrSD5BeCw8RZ8WgKf3rMhMCgmlkgnY0gmlwhKwSmwaKbXVsdGlhZGRyc5YACASsEpsGBhJ0AAoErBKbBgYSdd0DgnJzhQADAQAAiXNlY3AyNTZrMaED4YfYTySFFiJuDvZiKoUkFF21OUoHg1RVfuzz4RO6zuyDdGNwghJ0g3VkcIISdoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4723/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.41/tcp/21734/p2p/16Uiu2HAmTsoP1UaMR24VwUfdu5gej2GvmzPYNjxkjEd7eYvQ4TNF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-23_04-19-52__dc995a7a-b8cb-4a20-8d22-e1a93fabee68__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.165.72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13517', '13518', '13519', '13520', '13521']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13517:13517 -p 13518:13518 -p 13519:13519 -p 13520:13520 -p 13521:13521 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13519 --rest-port=13517 --tcp-port=13518 --discv5-udp-port=13520 --rest-address=0.0.0.0 --nat=extip:172.18.165.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d9a00bea4ccec60708feca10ccb1fff1ed5723c3a35f25fe77ec5b875848afba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13521 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPaPpOz3cnhiVex3WvenE9Mot3D6-ooEVUisATip8LwFE18usDDdgY_kZyojpwJqr1yyo7QdY4SnW-A42_TsgHUCgmlkgnY0gmlwhKwSWSmKbXVsdGlhZGRyc5YACASsElkpBlTmAAoErBJZKQZU590DgnJzhQADAQAAiXNlY3AyNTZrMaED4idzP4Vi2qBX-bYaedjzTqFgq4d7Ivt5EU4Q_asjF8CDdGNwglTmg3VkcIJU6IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.165.72 waku 06d87bd1e501682157a074249bbac6c7f88b73c027e53e0db12dc2c5dc59602c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 06d87bd1e501. Setting up logs at ./log/docker/node3_2024-11-23_04-19-52__dc995a7a-b8cb-4a20-8d22-e1a93fabee68__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 13517
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13517/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13517/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.165.72/tcp/13518/p2p/16Uiu2HAm9xQbbRBmJf9KE6FYQcb8PtB5iLq6MYFF2ZkbJuUG7wyH","/ip4/172.18.165.72/tcp/13519/ws/p2p/16Uiu2HAm9xQbbRBmJf9KE6FYQcb8PtB5iLq6MYFF2ZkbJuUG7wyH"],"enrUri":"enr:-L24QEnROju2mPzTCBQJG-6-jwcDslAB8mBwd1Uut6382BM9UZfjzL8JnDhjQe_9IfrXFkt_0ffpPSzmNjKokJK42XICgmlkgnY0gmlwhKwSpUiKbXVsdGlhZGRyc5YACASsEqVIBjTOAAoErBKlSAY0z90DgnJzhQADAQAAiXNlY3AyNTZrMaEC1-M6jZqLPmXJPARrX9mC-tEDGz-Up1NaF1x4qKPwepiDdGNwgjTOg3VkcII00IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13517/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.41/tcp/21734/p2p/16Uiu2HAmTsoP1UaMR24VwUfdu5gej2GvmzPYNjxkjEd7eYvQ4TNF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-23_04-19-52__dc995a7a-b8cb-4a20-8d22-e1a93fabee68__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.213.234
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23770', '23771', '23772', '23773', '23774']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23770:23770 -p 23771:23771 -p 23772:23772 -p 23773:23773 -p 23774:23774 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23772 --rest-port=23770 --tcp-port=23771 --discv5-udp-port=23773 --rest-address=0.0.0.0 --nat=extip:172.18.213.234 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e20c70bfb64decada9a8fa5d2c8b4c8331ea208dc8e21e02e120e2beeb8cee4a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23774 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPaPpOz3cnhiVex3WvenE9Mot3D6-ooEVUisATip8LwFE18usDDdgY_kZyojpwJqr1yyo7QdY4SnW-A42_TsgHUCgmlkgnY0gmlwhKwSWSmKbXVsdGlhZGRyc5YACASsElkpBlTmAAoErBJZKQZU590DgnJzhQADAQAAiXNlY3AyNTZrMaED4idzP4Vi2qBX-bYaedjzTqFgq4d7Ivt5EU4Q_asjF8CDdGNwglTmg3VkcIJU6IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.213.234 waku 0ee9210084fe02c9cb21122be33a119dc7d1a15c040c215017d3d05cc61bae52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0ee9210084fe. Setting up logs at ./log/docker/node4_2024-11-23_04-19-52__dc995a7a-b8cb-4a20-8d22-e1a93fabee68__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 23770
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23770/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23770/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.213.234/tcp/23771/p2p/16Uiu2HAkvBhj3QW1vCYzqdLPRXANcHvjCGs4PADR1S68UrYg7h4R","/ip4/172.18.213.234/tcp/23772/ws/p2p/16Uiu2HAkvBhj3QW1vCYzqdLPRXANcHvjCGs4PADR1S68UrYg7h4R"],"enrUri":"enr:-L24QLl8PVpnWgDi2EBcCqdFQTIC7zLhsdRzVi1MduMqKrNRP2Chwy3U3PxFhFVE42shmX0w7dOJD2P_Djt0cyR8iBoCgmlkgnY0gmlwhKwS1eqKbXVsdGlhZGRyc5YACASsEtXqBlzbAAoErBLV6gZc3N0DgnJzhQADAQAAiXNlY3AyNTZrMaECC0eHiOmZKrTMFYrJQLPv3XPb7vwMtH2nAJxKqiY0IeaDdGNwglzbg3VkcIJc3YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23770/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.41/tcp/21734/p2p/16Uiu2HAmTsoP1UaMR24VwUfdu5gej2GvmzPYNjxkjEd7eYvQ4TNF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-23_04-19-52__dc995a7a-b8cb-4a20-8d22-e1a93fabee68__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.252.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37882', '37883', '37884', '37885', '37886']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37882:37882 -p 37883:37883 -p 37884:37884 -p 37885:37885 -p 37886:37886 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37884 --rest-port=37882 --tcp-port=37883 --discv5-udp-port=37885 --rest-address=0.0.0.0 --nat=extip:172.18.252.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f18eb3f14f5c4b9581a5ee32b11faea08bfd63bfabe2a6c219ec7dc973ece387 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37886 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPaPpOz3cnhiVex3WvenE9Mot3D6-ooEVUisATip8LwFE18usDDdgY_kZyojpwJqr1yyo7QdY4SnW-A42_TsgHUCgmlkgnY0gmlwhKwSWSmKbXVsdGlhZGRyc5YACASsElkpBlTmAAoErBJZKQZU590DgnJzhQADAQAAiXNlY3AyNTZrMaED4idzP4Vi2qBX-bYaedjzTqFgq4d7Ivt5EU4Q_asjF8CDdGNwglTmg3VkcIJU6IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.252.207 waku e62f2920b043202013f16e8e5e9be20e9c62bdb9d9f9a75fafa4d10ec55b482e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e62f2920b043. Setting up logs at ./log/docker/node5_2024-11-23_04-19-52__dc995a7a-b8cb-4a20-8d22-e1a93fabee68__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 37882
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37882/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37882/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.207/tcp/37883/p2p/16Uiu2HAmKvjKjxobfaqGJoLeiQoYro1NgAX7gMotnT1FG1LaMCvs","/ip4/172.18.252.207/tcp/37884/ws/p2p/16Uiu2HAmKvjKjxobfaqGJoLeiQoYro1NgAX7gMotnT1FG1LaMCvs"],"enrUri":"enr:-L24QBSCjpRBuak8wTAe4bsTgzvjf3nyPRgETjUTcbLryrI4A0ce2FjJJ9uprA9nwhpRXf3_-iKhi7jB0VJlQ33y9eMCgmlkgnY0gmlwhKwS_M-KbXVsdGlhZGRyc5YACASsEvzPBpP7AAoErBL8zwaT_N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDbAocVj74WTocDhc7XhjBDgAZZC31qxGFBcoA_LHeXVCDdGNwgpP7g3VkcIKT_YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37882/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.41/tcp/21734/p2p/16Uiu2HAmTsoP1UaMR24VwUfdu5gej2GvmzPYNjxkjEd7eYvQ4TNF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21733/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4723/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13517/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23770/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37882/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21733/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21733/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335600482384384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4723/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335600482384384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335600482384384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23770/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335600482384384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335600482384384,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21733/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21733/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335600615738112,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4723/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335600615738112,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335600615738112,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23770/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335600615738112,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335600615738112,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 4588a7bb717b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21733/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335602657743104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23770/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335602657743104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732335602657743104,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 1b55f4c4bc8d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4588a7bb717b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 06d87bd1e501
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1b55f4c4bc8d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 0ee9210084fe
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 06d87bd1e501. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id e62f2920b043
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0ee9210084fe. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.