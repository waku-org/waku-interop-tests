[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_unsubscribed_peer with id: 2024-08-10_04-14-05__e67c64e9-5543-42be-8bbe-c353c52f49a6
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-10_04-14-05__e67c64e9-5543-42be-8bbe-c353c52f49a6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.112.144
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['1885', '1886', '1887', '1888', '1889']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 1885:1885 -p 1886:1886 -p 1887:1887 -p 1888:1888 -p 1889:1889 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1887 --rest-port=1885 --tcp-port=1886 --discv5-udp-port=1888 --rest-address=0.0.0.0 --nat=extip:172.18.112.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1889 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.112.144 waku a4724b93bcd500af6ca532e772dbeaaa0d4d5fa942a481ea6f8288f484015576
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a4724b93bcd5. Setting up logs at ./log/docker/node1_2024-08-10_04-14-05__e67c64e9-5543-42be-8bbe-c353c52f49a6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 1885
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1885/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1885/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.112.144/tcp/1886/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.112.144/tcp/1887/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QJ7uQC0kx3jSk7j_yM9QBQvFNwAo4tzi_MYIj67S0hvtWLMVM5lHHo0ZctLcQ7FXuyqY2DB_GtmQA7pZuSdsV8sBgmlkgnY0gmlwhKwScJCKbXVsdGlhZGRyc4wACgSsEnCQBgdf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCB16DdWRwggdghXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-10_04-14-05__e67c64e9-5543-42be-8bbe-c353c52f49a6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.41.106
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['49130', '49131', '49132', '49133', '49134']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 49130:49130 -p 49131:49131 -p 49132:49132 -p 49133:49133 -p 49134:49134 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49132 --rest-port=49130 --tcp-port=49131 --discv5-udp-port=49133 --rest-address=0.0.0.0 --nat=extip:172.18.41.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49134 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJ7uQC0kx3jSk7j_yM9QBQvFNwAo4tzi_MYIj67S0hvtWLMVM5lHHo0ZctLcQ7FXuyqY2DB_GtmQA7pZuSdsV8sBgmlkgnY0gmlwhKwScJCKbXVsdGlhZGRyc4wACgSsEnCQBgdf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCB16DdWRwggdghXdha3UyBQ --filternode=/ip4/172.18.112.144/tcp/1886/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.41.106 waku ea05913927d3e390a7405d2cb09976f0d6821e6bc8b4c8f83f01fb35d9c5d5f9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID ea05913927d3. Setting up logs at ./log/docker/node2_2024-08-10_04-14-05__e67c64e9-5543-42be-8bbe-c353c52f49a6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 49130
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49130/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49130/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.41.106/tcp/49131/p2p/16Uiu2HAmVLizmNiRUS5FfKfm97JRASy15eG3TCSYgm6zvLUhQ9vj","/ip4/172.18.41.106/tcp/49132/ws/p2p/16Uiu2HAmVLizmNiRUS5FfKfm97JRASy15eG3TCSYgm6zvLUhQ9vj"],"enrUri":"enr:-LO4QCOIr338rcvDgOujTHsnbEVS-anHvf8bPsn28cjCxPaXPJYeOWhnPt9Fnmg07VK4VtbmnaquD5kuUJK1S24yX4EBgmlkgnY0gmlwhKwSKWqKbXVsdGlhZGRyc4wACgSsEilqBr_s3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP36NzN9ss81VcnOuvWeYXEKgunUClG4Dt5JJOnB0eXhIN0Y3CCv-uDdWRwgr_thXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49130/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.144/tcp/1886/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1885/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49130/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7e63c6c9-bb29-41b3-8772-f82ac32cbc78", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7e63c6c9-bb29-41b3-8772-f82ac32cbc78","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49130/filter/v2/subscriptions/26b6b6d6-82bd-4f3d-8e8b-2845aa6f38c1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"26b6b6d6-82bd-4f3d-8e8b-2845aa6f38c1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:49130/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "12345", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"12345","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49130/filter/v2/subscriptions/117e9a07-a753-44d3-b3df-1e3677b90eb3" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:49130/filter/v2/subscriptions/117e9a07-a753-44d3-b3df-1e3677b90eb3. Response content: b'{"requestId":"117e9a07-a753-44d3-b3df-1e3677b90eb3","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id a4724b93bcd5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id ea05913927d3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.