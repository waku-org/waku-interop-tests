[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-09-06_11-57-11__176b9561-73fa-49e9-b2ef-61e0e85cd05a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-06_11-57-11__176b9561-73fa-49e9-b2ef-61e0e85cd05a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.172.236
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['37244', '37245', '37246', '37247', '37248']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 37244:37244 -p 37245:37245 -p 37246:37246 -p 37247:37247 -p 37248:37248 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37246 --rest-port=37244 --tcp-port=37245 --discv5-udp-port=37247 --rest-address=0.0.0.0 --nat=extip:172.18.172.236 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bf580b0ec2b2ea7a96c32430533de8e952fbc11b1c39bfacfa8230b1ae82ea3a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37248 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.172.236 waku 85324d45d581501c6248b81d4d856812518b90a355bead2320b1bf0cbca79963
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 85324d45d581. Setting up logs at ./log/docker/node1_2024-09-06_11-57-11__176b9561-73fa-49e9-b2ef-61e0e85cd05a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 37244
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37244/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37244/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.236/tcp/37245/p2p/16Uiu2HAm9kVteVxS4TiwqFvPRgaXiMPE2w7Q2P3aGePCPjyMrLei","/ip4/172.18.172.236/tcp/37246/ws/p2p/16Uiu2HAm9kVteVxS4TiwqFvPRgaXiMPE2w7Q2P3aGePCPjyMrLei"],"enrUri":"enr:-LO4QH6XTz88DhFEcnmttO3fI4NdKtur6j8zZMVLJEMgzCWqIwNE3LonUWO9ESglOr5rjFdUSuSj4MWbxNco6lRbvQkBgmlkgnY0gmlwhKwSrOyKbXVsdGlhZGRyc4wACgSsEqzsBpF-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLU1j63GrIlhbtXvQFyzVI6qfmaTXCreAIS4XEomoHUn4N0Y3CCkX2DdWRwgpF_hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-06_11-57-11__176b9561-73fa-49e9-b2ef-61e0e85cd05a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.44.192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['57862', '57863', '57864', '57865', '57866']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 57862:57862 -p 57863:57863 -p 57864:57864 -p 57865:57865 -p 57866:57866 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57864 --rest-port=57862 --tcp-port=57863 --discv5-udp-port=57865 --rest-address=0.0.0.0 --nat=extip:172.18.44.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfcbc2ec05149e9de5efafe38afbadc5719b0c3aaa88eb9dd453a74068d82b45 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57866 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QH6XTz88DhFEcnmttO3fI4NdKtur6j8zZMVLJEMgzCWqIwNE3LonUWO9ESglOr5rjFdUSuSj4MWbxNco6lRbvQkBgmlkgnY0gmlwhKwSrOyKbXVsdGlhZGRyc4wACgSsEqzsBpF-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLU1j63GrIlhbtXvQFyzVI6qfmaTXCreAIS4XEomoHUn4N0Y3CCkX2DdWRwgpF_hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.44.192 waku 66ecb4362f7d4b2dba4a317af8f98296c982c61be4ff95c63a7407928658c356
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 66ecb4362f7d. Setting up logs at ./log/docker/node2_2024-09-06_11-57-11__176b9561-73fa-49e9-b2ef-61e0e85cd05a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 57862
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57862/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57862/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.44.192/tcp/57863/p2p/16Uiu2HAmDzMRCwtkgiAzZE99FYnsDUx3VkxGrwxcWQ2U2pvPUY6c","/ip4/172.18.44.192/tcp/57864/ws/p2p/16Uiu2HAmDzMRCwtkgiAzZE99FYnsDUx3VkxGrwxcWQ2U2pvPUY6c"],"enrUri":"enr:-LO4QCPAs_2xmg7v-SuBD1jIXV5Ehq58AyiLM0rQO3dhPHPCZFmZ9i5a-DGVvJfLRF3Wg64iv2Wp-NTjJjjA306BB7QBgmlkgnY0gmlwhKwSLMCKbXVsdGlhZGRyc4wACgSsEizABuII3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMT0YseghL9Xgt4FA9NFi5YgOlBBgv3vq1nEeQRtuDtmYN0Y3CC4geDdWRwguIJhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57862/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.172.236/tcp/37245/p2p/16Uiu2HAm9kVteVxS4TiwqFvPRgaXiMPE2w7Q2P3aGePCPjyMrLei"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-06_11-57-11__176b9561-73fa-49e9-b2ef-61e0e85cd05a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.255.199
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['11361', '11362', '11363', '11364', '11365']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 11361:11361 -p 11362:11362 -p 11363:11363 -p 11364:11364 -p 11365:11365 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11363 --rest-port=11361 --tcp-port=11362 --discv5-udp-port=11364 --rest-address=0.0.0.0 --nat=extip:172.18.255.199 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8bcede03bbbc1bdb1ddbaf73cf7d13dc62ccd0923aa1f7dddf4602305e34af1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11365 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QH6XTz88DhFEcnmttO3fI4NdKtur6j8zZMVLJEMgzCWqIwNE3LonUWO9ESglOr5rjFdUSuSj4MWbxNco6lRbvQkBgmlkgnY0gmlwhKwSrOyKbXVsdGlhZGRyc4wACgSsEqzsBpF-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLU1j63GrIlhbtXvQFyzVI6qfmaTXCreAIS4XEomoHUn4N0Y3CCkX2DdWRwgpF_hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.255.199 waku c3928ffd8b2d335ef692fb69830a20e7fb396cd248c6f92bf0f91ab01f5f6199
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c3928ffd8b2d. Setting up logs at ./log/docker/node3_2024-09-06_11-57-11__176b9561-73fa-49e9-b2ef-61e0e85cd05a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11361
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11361/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11361/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.255.199/tcp/11362/p2p/16Uiu2HAm5aaSNUtKCAed9aDgszDmtomQzryRMv2MPwAaRuSXKkcP","/ip4/172.18.255.199/tcp/11363/ws/p2p/16Uiu2HAm5aaSNUtKCAed9aDgszDmtomQzryRMv2MPwAaRuSXKkcP"],"enrUri":"enr:-LO4QJYuUD71xDLEu8zY9kstnDOYp5agHP3f8952kwnJAldlZtt_mZeIw0njPDfsMXFXVo3cRDLpnSQH6wzK8tmnlzABgmlkgnY0gmlwhKwS_8eKbXVsdGlhZGRyc4wACgSsEv_HBixj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKW3NSYgc5M6ACUZ-irD8rKneHfQ0Qcp2gm6nJ3JRFMYIN0Y3CCLGKDdWRwgixkhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11361/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.172.236/tcp/37245/p2p/16Uiu2HAm9kVteVxS4TiwqFvPRgaXiMPE2w7Q2P3aGePCPjyMrLei"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-06_11-57-11__176b9561-73fa-49e9-b2ef-61e0e85cd05a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.169.193
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['60006', '60007', '60008', '60009', '60010']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 60006:60006 -p 60007:60007 -p 60008:60008 -p 60009:60009 -p 60010:60010 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60008 --rest-port=60006 --tcp-port=60007 --discv5-udp-port=60009 --rest-address=0.0.0.0 --nat=extip:172.18.169.193 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcbdccf8cace9daad6be48efa248ddf3ff11dc29bfdb5c05f59c8cbdea5faecf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60010 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QH6XTz88DhFEcnmttO3fI4NdKtur6j8zZMVLJEMgzCWqIwNE3LonUWO9ESglOr5rjFdUSuSj4MWbxNco6lRbvQkBgmlkgnY0gmlwhKwSrOyKbXVsdGlhZGRyc4wACgSsEqzsBpF-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLU1j63GrIlhbtXvQFyzVI6qfmaTXCreAIS4XEomoHUn4N0Y3CCkX2DdWRwgpF_hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.169.193 waku 3dfe6c4b4c648c7d5e585a878fdc513767ec97a7a21c038eaf6616f0a844fd48
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3dfe6c4b4c64. Setting up logs at ./log/docker/node4_2024-09-06_11-57-11__176b9561-73fa-49e9-b2ef-61e0e85cd05a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60006
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60006/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60006/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.169.193/tcp/60007/p2p/16Uiu2HAkzBSbKqdWxepED3VXykmtgXC7C866cEUf736qgyEaPa2i","/ip4/172.18.169.193/tcp/60008/ws/p2p/16Uiu2HAkzBSbKqdWxepED3VXykmtgXC7C866cEUf736qgyEaPa2i"],"enrUri":"enr:-LO4QJAcYn2mgxiBUf6kMK0qNTPx01oB5fytqMakStL3xYS5Q_stsWRRSNS9BbmFXiN77Be6zSBna7tqxLhCn7M0Ls0BgmlkgnY0gmlwhKwSqcGKbXVsdGlhZGRyc4wACgSsEqnBBupo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJGpSqIt0FhH4j0tExFsqzvAqvQ3_P4E3MTvxc3-sBbJ4N0Y3CC6meDdWRwgupphXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60006/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.172.236/tcp/37245/p2p/16Uiu2HAm9kVteVxS4TiwqFvPRgaXiMPE2w7Q2P3aGePCPjyMrLei"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-06_11-57-11__176b9561-73fa-49e9-b2ef-61e0e85cd05a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.28.234
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['21158', '21159', '21160', '21161', '21162']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 21158:21158 -p 21159:21159 -p 21160:21160 -p 21161:21161 -p 21162:21162 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21160 --rest-port=21158 --tcp-port=21159 --discv5-udp-port=21161 --rest-address=0.0.0.0 --nat=extip:172.18.28.234 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2cdac3f83ac3b8cda536acf3e7c08af806797c5ebfae75b4643b44bfc56adcc8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21162 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QH6XTz88DhFEcnmttO3fI4NdKtur6j8zZMVLJEMgzCWqIwNE3LonUWO9ESglOr5rjFdUSuSj4MWbxNco6lRbvQkBgmlkgnY0gmlwhKwSrOyKbXVsdGlhZGRyc4wACgSsEqzsBpF-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLU1j63GrIlhbtXvQFyzVI6qfmaTXCreAIS4XEomoHUn4N0Y3CCkX2DdWRwgpF_hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.28.234 waku d97d652615ddb2ce91bc27268d3d68f611dcdba3d50e3f0f958d7d74d65f2fc1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d97d652615dd. Setting up logs at ./log/docker/node5_2024-09-06_11-57-11__176b9561-73fa-49e9-b2ef-61e0e85cd05a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 21158
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21158/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21158/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.28.234/tcp/21159/p2p/16Uiu2HAmLLm8FN2rxGohxWBmhbzHedoc8reKeBGQ5TW8zBYuvQ8A","/ip4/172.18.28.234/tcp/21160/ws/p2p/16Uiu2HAmLLm8FN2rxGohxWBmhbzHedoc8reKeBGQ5TW8zBYuvQ8A"],"enrUri":"enr:-LO4QFADi-4L_6SGSYIzW6Rydz1Lb-wAubiklYVav9x8-wU6OCxY8z8szcGqFFkeRFRSKUufpfxIFj5D5B3yNwSAuHIBgmlkgnY0gmlwhKwSHOqKbXVsdGlhZGRyc4wACgSsEhzqBlKo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNyMhZjvUS7B9K3q0ZVgMbRPuE7YX3mq7tQ474Z9hZlw4N0Y3CCUqeDdWRwglKphXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21158/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.172.236/tcp/37245/p2p/16Uiu2HAm9kVteVxS4TiwqFvPRgaXiMPE2w7Q2P3aGePCPjyMrLei"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37244/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57862/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11361/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60006/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21158/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37244/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37244/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725623841354219776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725623841354219776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11361/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725623841354219776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60006/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725623841354219776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21158/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725623841354219776,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21158/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37244/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725623841482509312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725623841482509312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11361/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725623841482509312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60006/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725623841482509312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21158/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725623841482509312,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 85324d45d581
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 66ecb4362f7d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c3928ffd8b2d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3dfe6c4b4c64
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d97d652615dd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.