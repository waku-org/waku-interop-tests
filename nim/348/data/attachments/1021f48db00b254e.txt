[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.10.214
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15653', '15654', '15655', '15656', '15657']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15653:15653 -p 15654:15654 -p 15655:15655 -p 15656:15656 -p 15657:15657 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15655 --rest-port=15653 --tcp-port=15654 --discv5-udp-port=15656 --rest-address=0.0.0.0 --nat=extip:172.18.10.214 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c2de0ad8c3b1c28e35a23ffa33b6f89b3aa12e6d489bd68e8f0a4ffcbcba5ef4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15657 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.10.214 waku 806d6a6ba73840e9a6b3cc98601513af1a557c1eca53a0cda49a4d956166c03c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 806d6a6ba738. Setting up logs at ./log/docker/receiving_node1_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15653
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15653/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15653/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.10.214/tcp/15654/p2p/16Uiu2HAm6nWoo4srEaCUGkb1p7q4xC1eKEnF4LLQ3iBnRsn6YZv7","/ip4/172.18.10.214/tcp/15655/ws/p2p/16Uiu2HAm6nWoo4srEaCUGkb1p7q4xC1eKEnF4LLQ3iBnRsn6YZv7"],"enrUri":"enr:-LO4QLwPC0FZOzj18QLxDCBXklTD6Ksm0Ucm0DzLWgKIRgvBCHuIvEwd-PS_yfLk0gh9pHoS-rrdMgwKCb8mrSJGRmgBgmlkgnY0gmlwhKwSCtaKbXVsdGlhZGRyc4wACgSsEgrWBj0n3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKox2HGII9xIgm0ef7pKvPkdep3lhiTo6ep0EOXxRtzUIN0Y3CCPSaDdWRwgj0ohXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.222.138
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['8422', '8423', '8424', '8425', '8426']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 8422:8422 -p 8423:8423 -p 8424:8424 -p 8425:8425 -p 8426:8426 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8424 --rest-port=8422 --tcp-port=8423 --discv5-udp-port=8425 --rest-address=0.0.0.0 --nat=extip:172.18.222.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3eac69ddacfe6b41deb95bb05fef3b776fea150f28dbe82eac40670dadaed0ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8426 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.222.138 waku e535a54ad5b8db1f4234ed63b68779eb999e0dd40fd820f6521461449523604c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e535a54ad5b8. Setting up logs at ./log/docker/receiving_node2_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 8422
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8422/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8422/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.222.138/tcp/8423/p2p/16Uiu2HAmB2V9L8RCYTbrpAYAKDJG8Bzd5shodoLP3xoSogJnV3bT","/ip4/172.18.222.138/tcp/8424/ws/p2p/16Uiu2HAmB2V9L8RCYTbrpAYAKDJG8Bzd5shodoLP3xoSogJnV3bT"],"enrUri":"enr:-LO4QCryr_03axhmppNmrxWlOm40KNOeng2dC9qcOkwWKzy9BF1sVca1fnwo0rEuUGS7szTc99dTji_MFkVys3SOXtsBgmlkgnY0gmlwhKwS3oqKbXVsdGlhZGRyc4wACgSsEt6KBiDo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLnymFhv9YTLwmEDzuXwlUZ6W8DKBB9n2mzuWTnr6bhpoN0Y3CCIOeDdWRwgiDphXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8422/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.10.214/tcp/15654/p2p/16Uiu2HAm6nWoo4srEaCUGkb1p7q4xC1eKEnF4LLQ3iBnRsn6YZv7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.199.118
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['30820', '30821', '30822', '30823', '30824']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 30820:30820 -p 30821:30821 -p 30822:30822 -p 30823:30823 -p 30824:30824 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30822 --rest-port=30820 --tcp-port=30821 --discv5-udp-port=30823 --rest-address=0.0.0.0 --nat=extip:172.18.199.118 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f5aac02f8d0e71ca09bcaeb27eaadff42f4c1a4790fad71a2a8c552dbae4c48c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30824 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLwPC0FZOzj18QLxDCBXklTD6Ksm0Ucm0DzLWgKIRgvBCHuIvEwd-PS_yfLk0gh9pHoS-rrdMgwKCb8mrSJGRmgBgmlkgnY0gmlwhKwSCtaKbXVsdGlhZGRyc4wACgSsEgrWBj0n3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKox2HGII9xIgm0ef7pKvPkdep3lhiTo6ep0EOXxRtzUIN0Y3CCPSaDdWRwgj0ohXdha3UyCQ --lightpushnode=/ip4/172.18.10.214/tcp/15654/p2p/16Uiu2HAm6nWoo4srEaCUGkb1p7q4xC1eKEnF4LLQ3iBnRsn6YZv7 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.199.118 waku bb92cfa354ba81907decfc3f95f8223be1120e2511fd80511b20c9d2ba3870ee
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bb92cfa354ba. Setting up logs at ./log/docker/lightpush_node1_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30820
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30820/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30820/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.118/tcp/30821/p2p/16Uiu2HAky52vdo7hwpjMzSsi23sbEcpj74yzWCPnZTaH5DBQB5Cm","/ip4/172.18.199.118/tcp/30822/ws/p2p/16Uiu2HAky52vdo7hwpjMzSsi23sbEcpj74yzWCPnZTaH5DBQB5Cm"],"enrUri":"enr:-LO4QPJe_t93CVmzNeDE-m1kWlAFttXHLgJYVsbD4iZMsgSUcG6He6XJj5C33VcFRbTmqjnbGO3wmzCEccSxk2UWftEBgmlkgnY0gmlwhKwSx3aKbXVsdGlhZGRyc4wACgSsEsd2Bnhm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI2JTviKpwlZP6GkuOZX7AbhDxYirDSeWngRxZflOdYeoN0Y3CCeGWDdWRwgnhnhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30820/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.10.214/tcp/15654/p2p/16Uiu2HAm6nWoo4srEaCUGkb1p7q4xC1eKEnF4LLQ3iBnRsn6YZv7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30820/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.138/tcp/8423/p2p/16Uiu2HAmB2V9L8RCYTbrpAYAKDJG8Bzd5shodoLP3xoSogJnV3bT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.149.58
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['43551', '43552', '43553', '43554', '43555']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 43551:43551 -p 43552:43552 -p 43553:43553 -p 43554:43554 -p 43555:43555 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43553 --rest-port=43551 --tcp-port=43552 --discv5-udp-port=43554 --rest-address=0.0.0.0 --nat=extip:172.18.149.58 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b388ef97cf600d00b2ffddcc0728834426a52a3ed2ad2c1dcf21464badefce87 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43555 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLwPC0FZOzj18QLxDCBXklTD6Ksm0Ucm0DzLWgKIRgvBCHuIvEwd-PS_yfLk0gh9pHoS-rrdMgwKCb8mrSJGRmgBgmlkgnY0gmlwhKwSCtaKbXVsdGlhZGRyc4wACgSsEgrWBj0n3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKox2HGII9xIgm0ef7pKvPkdep3lhiTo6ep0EOXxRtzUIN0Y3CCPSaDdWRwgj0ohXdha3UyCQ --lightpushnode=/ip4/172.18.10.214/tcp/15654/p2p/16Uiu2HAm6nWoo4srEaCUGkb1p7q4xC1eKEnF4LLQ3iBnRsn6YZv7 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.149.58 waku 23de834c571a3597ec8724e4b8fd22f87df3f1f7cfc6ec98f97c60accf1e4b75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 23de834c571a. Setting up logs at ./log/docker/lightpush_node2_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43551
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43551/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43551/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.58/tcp/43552/p2p/16Uiu2HAmBWeswqKTHTuCrYgmoTZTyZmZ97eeZExmnpXguqM9wv63","/ip4/172.18.149.58/tcp/43553/ws/p2p/16Uiu2HAmBWeswqKTHTuCrYgmoTZTyZmZ97eeZExmnpXguqM9wv63"],"enrUri":"enr:-LO4QLFD9f3kUdg5N0lkBMtBh24ZS-ya-RHhqbUnXbm0GpZCKLKz_YjQy7VZ3wbVTzV0WrBd6_59mzNZhQjkQRbUlWEBgmlkgnY0gmlwhKwSlTqKbXVsdGlhZGRyc4wACgSsEpU6Bqoh3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLvAaZxmV0eQq_Xoub8neg7ntVaFJz2owGD2L05oW08CIN0Y3CCqiCDdWRwgqoihXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43551/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.10.214/tcp/15654/p2p/16Uiu2HAm6nWoo4srEaCUGkb1p7q4xC1eKEnF4LLQ3iBnRsn6YZv7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43551/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.138/tcp/8423/p2p/16Uiu2HAmB2V9L8RCYTbrpAYAKDJG8Bzd5shodoLP3xoSogJnV3bT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.85.116
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['25662', '25663', '25664', '25665', '25666']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 25662:25662 -p 25663:25663 -p 25664:25664 -p 25665:25665 -p 25666:25666 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25664 --rest-port=25662 --tcp-port=25663 --discv5-udp-port=25665 --rest-address=0.0.0.0 --nat=extip:172.18.85.116 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a76f7c0c668e2a90a4ea8a8dfcc9a6cf0bfd108e56acea0ce7a335d6e7fb5b92 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25666 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLwPC0FZOzj18QLxDCBXklTD6Ksm0Ucm0DzLWgKIRgvBCHuIvEwd-PS_yfLk0gh9pHoS-rrdMgwKCb8mrSJGRmgBgmlkgnY0gmlwhKwSCtaKbXVsdGlhZGRyc4wACgSsEgrWBj0n3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKox2HGII9xIgm0ef7pKvPkdep3lhiTo6ep0EOXxRtzUIN0Y3CCPSaDdWRwgj0ohXdha3UyCQ --lightpushnode=/ip4/172.18.10.214/tcp/15654/p2p/16Uiu2HAm6nWoo4srEaCUGkb1p7q4xC1eKEnF4LLQ3iBnRsn6YZv7 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.85.116 waku 3e85b7e56b330cc270de28ceae5d1fa1bb69fc3021ea7972e5409c44bf554488
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3e85b7e56b33. Setting up logs at ./log/docker/lightpush_node3_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 25662
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25662/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25662/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.85.116/tcp/25663/p2p/16Uiu2HAmQ3wHrbSPQC6cDzx3jyCgu7jmNQi5HoDcBRP2GPE9ccJW","/ip4/172.18.85.116/tcp/25664/ws/p2p/16Uiu2HAmQ3wHrbSPQC6cDzx3jyCgu7jmNQi5HoDcBRP2GPE9ccJW"],"enrUri":"enr:-LO4QJ1cM7BtFHdPqpLRdWKyKOtMfXhfGYnvUpyyLkUJL52xPdSsKjx4huMeUhDIIEeeyzoU13Mc9syopK1H0mz-gZABgmlkgnY0gmlwhKwSVXSKbXVsdGlhZGRyc4wACgSsElV0BmRA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOpUXSriUdA5cmN2EgK8UnENDxGhW6FnO-SGw7kf8ao-4N0Y3CCZD-DdWRwgmRBhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25662/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.10.214/tcp/15654/p2p/16Uiu2HAm6nWoo4srEaCUGkb1p7q4xC1eKEnF4LLQ3iBnRsn6YZv7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25662/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.138/tcp/8423/p2p/16Uiu2HAmB2V9L8RCYTbrpAYAKDJG8Bzd5shodoLP3xoSogJnV3bT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.181.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['1541', '1542', '1543', '1544', '1545']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 1541:1541 -p 1542:1542 -p 1543:1543 -p 1544:1544 -p 1545:1545 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1543 --rest-port=1541 --tcp-port=1542 --discv5-udp-port=1544 --rest-address=0.0.0.0 --nat=extip:172.18.181.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbba1fb9cbe0e7e1fe71336a7f96c330eaf168a9edb3b6ba87abebf29ccb373e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1545 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLwPC0FZOzj18QLxDCBXklTD6Ksm0Ucm0DzLWgKIRgvBCHuIvEwd-PS_yfLk0gh9pHoS-rrdMgwKCb8mrSJGRmgBgmlkgnY0gmlwhKwSCtaKbXVsdGlhZGRyc4wACgSsEgrWBj0n3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKox2HGII9xIgm0ef7pKvPkdep3lhiTo6ep0EOXxRtzUIN0Y3CCPSaDdWRwgj0ohXdha3UyCQ --lightpushnode=/ip4/172.18.10.214/tcp/15654/p2p/16Uiu2HAm6nWoo4srEaCUGkb1p7q4xC1eKEnF4LLQ3iBnRsn6YZv7 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.181.56 waku aa62d57b4aa72bbc965dcae775ca79aa4fdd32db1c5c85846d90018d1c0654a4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID aa62d57b4aa7. Setting up logs at ./log/docker/lightpush_node4_2024-09-06_11-52-56__eb39a32b-7424-4750-a454-90065a2d64af__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1541
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1541/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1541/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.181.56/tcp/1542/p2p/16Uiu2HAmFYTqMxq611ziWN4HreC4Lb417oKXQ6HkwwDxeYeBHH15","/ip4/172.18.181.56/tcp/1543/ws/p2p/16Uiu2HAmFYTqMxq611ziWN4HreC4Lb417oKXQ6HkwwDxeYeBHH15"],"enrUri":"enr:-LO4QHK_frW1HBwygomSdRfdQRQRQnC36x4NewNnZWa3qhPCFN6UnItkMDlgaekNlvW8vanuVsZxUKBxL8UVInjSAYUBgmlkgnY0gmlwhKwStTiKbXVsdGlhZGRyc4wACgSsErU4BgYH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMq5xJF_hK1I-7MpsrrNXpXAZbVwpQhuOhGO1-QMF8ExIN0Y3CCBgaDdWRwggYIhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1541/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.10.214/tcp/15654/p2p/16Uiu2HAm6nWoo4srEaCUGkb1p7q4xC1eKEnF4LLQ3iBnRsn6YZv7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1541/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.138/tcp/8423/p2p/16Uiu2HAmB2V9L8RCYTbrpAYAKDJG8Bzd5shodoLP3xoSogJnV3bT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15653/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8422/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30820/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725623586721621760}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15653/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725623586721621760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8422/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725623586721621760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43551/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725623586842685696}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15653/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725623586842685696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8422/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725623586842685696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25662/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725623586966433024}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15653/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725623586966433024,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8422/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725623586966433024,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1541/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725623587089009152}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15653/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725623587089009152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8422/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725623587089009152,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 806d6a6ba738
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e535a54ad5b8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bb92cfa354ba
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 23de834c571a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3e85b7e56b33
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id aa62d57b4aa7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.