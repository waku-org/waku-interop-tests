[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-02_04-13-09__140e2214-4956-408e-a2a1-e143fa61f441
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-02_04-13-09__140e2214-4956-408e-a2a1-e143fa61f441__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.161.71
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43153', '43154', '43155', '43156', '43157']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43153:43153 -p 43154:43154 -p 43155:43155 -p 43156:43156 -p 43157:43157 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43155 --rest-port=43153 --tcp-port=43154 --discv5-udp-port=43156 --rest-address=0.0.0.0 --nat=extip:172.18.161.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=173667ee3e6adaf607bdeeffeabd5e8f25b73ecd789ed58d2e610eec6dcf65f7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43157 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.161.71 waku bd8a7192b3114519e6e645ce2e0c47f477aa16597c4cce55c0fccf8e453aa6ef
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d34f51f83bb0. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bd8a7192b311. Setting up logs at ./log/docker/node1_2024-11-02_04-13-09__140e2214-4956-408e-a2a1-e143fa61f441__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43153
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43153/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43153/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.71/tcp/43154/p2p/16Uiu2HAmHTfFRwXSpw2yRbAg9GxEmE4i9iyQJxPfGsHtvRJYqs7e","/ip4/172.18.161.71/tcp/43155/ws/p2p/16Uiu2HAmHTfFRwXSpw2yRbAg9GxEmE4i9iyQJxPfGsHtvRJYqs7e"],"enrUri":"enr:-L24QP4qpj8X99Hhbz9GItVK_daUwC1GAUVl2_3xXlJo0LnXLOO07jvO-lf_jGmDkw31ZXnbnezWomAndtVgnS7j7-sCgmlkgnY0gmlwhKwSoUeKbXVsdGlhZGRyc5YACASsEqFHBqiSAAoErBKhRwaok90DgnJzhQADAQAAiXNlY3AyNTZrMaEDR2NyuWr9zS3KMENhKinASnTLdSE0x-lz5pdgf5cUVBmDdGNwgqiSg3VkcIKolIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-02_04-13-09__140e2214-4956-408e-a2a1-e143fa61f441__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.178.238
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39082', '39083', '39084', '39085', '39086']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39082:39082 -p 39083:39083 -p 39084:39084 -p 39085:39085 -p 39086:39086 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39084 --rest-port=39082 --tcp-port=39083 --discv5-udp-port=39085 --rest-address=0.0.0.0 --nat=extip:172.18.178.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a0e9e038ebbf5b4eda6ecea430d1d5ecadc1257b60aa9da1cff6bcffab1f05e5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39086 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QP4qpj8X99Hhbz9GItVK_daUwC1GAUVl2_3xXlJo0LnXLOO07jvO-lf_jGmDkw31ZXnbnezWomAndtVgnS7j7-sCgmlkgnY0gmlwhKwSoUeKbXVsdGlhZGRyc5YACASsEqFHBqiSAAoErBKhRwaok90DgnJzhQADAQAAiXNlY3AyNTZrMaEDR2NyuWr9zS3KMENhKinASnTLdSE0x-lz5pdgf5cUVBmDdGNwgqiSg3VkcIKolIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.178.238 waku dbaee5e64e7858a84b1d1b45c5c6dd3120664826f95aecb7b6620ca52f3ce848
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID dbaee5e64e78. Setting up logs at ./log/docker/node2_2024-11-02_04-13-09__140e2214-4956-408e-a2a1-e143fa61f441__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 39082
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39082/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39082/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.178.238/tcp/39083/p2p/16Uiu2HAkyL2JTvN3jrytZj4UwDmNs6LSybN9mCR2hk2de6uUiTdL","/ip4/172.18.178.238/tcp/39084/ws/p2p/16Uiu2HAkyL2JTvN3jrytZj4UwDmNs6LSybN9mCR2hk2de6uUiTdL"],"enrUri":"enr:-L24QCA9uYsjRvSBez7Xqfrktk-7KWAvUKn1wjXcS1192PIuWJGzo9qUUsd4GZBAS5adXFjvCbbAgVSlg6m-lFkTWgsCgmlkgnY0gmlwhKwSsu6KbXVsdGlhZGRyc5YACASsErLuBpirAAoErBKy7gaYrN0DgnJzhQADAQAAiXNlY3AyNTZrMaECOfw9rPpTRFiSfJC29Ld8FheyqXgYU_uGWnyUh92UsTuDdGNwgpirg3VkcIKYrYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39082/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.71/tcp/43154/p2p/16Uiu2HAmHTfFRwXSpw2yRbAg9GxEmE4i9iyQJxPfGsHtvRJYqs7e"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-02_04-13-09__140e2214-4956-408e-a2a1-e143fa61f441__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.123.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64020', '64021', '64022', '64023', '64024']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64020:64020 -p 64021:64021 -p 64022:64022 -p 64023:64023 -p 64024:64024 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64022 --rest-port=64020 --tcp-port=64021 --discv5-udp-port=64023 --rest-address=0.0.0.0 --nat=extip:172.18.123.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=82cdaec14a4574daaf9c1bf8ae6ddeddc3ddbb3ea53b4f657e98dabdb3a1febb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64024 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QP4qpj8X99Hhbz9GItVK_daUwC1GAUVl2_3xXlJo0LnXLOO07jvO-lf_jGmDkw31ZXnbnezWomAndtVgnS7j7-sCgmlkgnY0gmlwhKwSoUeKbXVsdGlhZGRyc5YACASsEqFHBqiSAAoErBKhRwaok90DgnJzhQADAQAAiXNlY3AyNTZrMaEDR2NyuWr9zS3KMENhKinASnTLdSE0x-lz5pdgf5cUVBmDdGNwgqiSg3VkcIKolIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.123.42 waku a0f6b38672de126e3877dd70f38a4e29831e430867724a5c5a73b42cbd6b0d46
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a0f6b38672de. Setting up logs at ./log/docker/node3_2024-11-02_04-13-09__140e2214-4956-408e-a2a1-e143fa61f441__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 64020
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64020/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64020/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.42/tcp/64021/p2p/16Uiu2HAmP3D49mXhv2MZRrhoBn5CMxG28AhAQ9EkBfBwGRJwQ3Gh","/ip4/172.18.123.42/tcp/64022/ws/p2p/16Uiu2HAmP3D49mXhv2MZRrhoBn5CMxG28AhAQ9EkBfBwGRJwQ3Gh"],"enrUri":"enr:-L24QFP_sD4i_GMSSsGJbIqTi1ZhQ2mw66n8W_rniTZZLy7vdMnzsyxYWoi3ptz8O0JTlFhnlCYqYcLEsdWFoTgbZv0CgmlkgnY0gmlwhKwSeyqKbXVsdGlhZGRyc5YACASsEnsqBvoVAAoErBJ7Kgb6Ft0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmkYDGY7G4vAeF6OjIa-Ygh_kvB131UVKUrsHk-S_Le6DdGNwgvoVg3VkcIL6F4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64020/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.71/tcp/43154/p2p/16Uiu2HAmHTfFRwXSpw2yRbAg9GxEmE4i9iyQJxPfGsHtvRJYqs7e"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-02_04-13-09__140e2214-4956-408e-a2a1-e143fa61f441__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.221.163
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1194', '1195', '1196', '1197', '1198']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1194:1194 -p 1195:1195 -p 1196:1196 -p 1197:1197 -p 1198:1198 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1196 --rest-port=1194 --tcp-port=1195 --discv5-udp-port=1197 --rest-address=0.0.0.0 --nat=extip:172.18.221.163 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8f33dc8da3eafdcecb9c99130df043b63ecc7f30d1d80d542c40f4e0fbd24dee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1198 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QP4qpj8X99Hhbz9GItVK_daUwC1GAUVl2_3xXlJo0LnXLOO07jvO-lf_jGmDkw31ZXnbnezWomAndtVgnS7j7-sCgmlkgnY0gmlwhKwSoUeKbXVsdGlhZGRyc5YACASsEqFHBqiSAAoErBKhRwaok90DgnJzhQADAQAAiXNlY3AyNTZrMaEDR2NyuWr9zS3KMENhKinASnTLdSE0x-lz5pdgf5cUVBmDdGNwgqiSg3VkcIKolIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.221.163 waku 2fc7b1c86b151015b153c8974c0a80d3f176d0f29cf2d75566c12cf2ec8f91ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2fc7b1c86b15. Setting up logs at ./log/docker/node4_2024-11-02_04-13-09__140e2214-4956-408e-a2a1-e143fa61f441__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1194
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1194/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1194/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.163/tcp/1195/p2p/16Uiu2HAmSAoF1pZR6aLsnYgnMkrBy56L4aBC84NtvP4VKmhXJC3f","/ip4/172.18.221.163/tcp/1196/ws/p2p/16Uiu2HAmSAoF1pZR6aLsnYgnMkrBy56L4aBC84NtvP4VKmhXJC3f"],"enrUri":"enr:-L24QKpECUO9fNBH_lAPqOgoa4HOGjBZm3vMUq3sVUShYsPfIX-oK24qRYBKjkw69PfQ5_a3PTVjcknIWgqJ3Xjvt_wCgmlkgnY0gmlwhKwS3aOKbXVsdGlhZGRyc5YACASsEt2jBgSrAAoErBLdowYErN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDyMrLU7ksPJVE8oC3-Q1Kt0oYWNZFKelhDAGIwzjWYK6DdGNwggSrg3VkcIIErYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1194/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.71/tcp/43154/p2p/16Uiu2HAmHTfFRwXSpw2yRbAg9GxEmE4i9iyQJxPfGsHtvRJYqs7e"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-02_04-13-09__140e2214-4956-408e-a2a1-e143fa61f441__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.20.166
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43792', '43793', '43794', '43795', '43796']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43792:43792 -p 43793:43793 -p 43794:43794 -p 43795:43795 -p 43796:43796 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43794 --rest-port=43792 --tcp-port=43793 --discv5-udp-port=43795 --rest-address=0.0.0.0 --nat=extip:172.18.20.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b381adfa00e6aeec821f6f6deee4683eaaba7fac73f2cbf0af02692e13dab2eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43796 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QP4qpj8X99Hhbz9GItVK_daUwC1GAUVl2_3xXlJo0LnXLOO07jvO-lf_jGmDkw31ZXnbnezWomAndtVgnS7j7-sCgmlkgnY0gmlwhKwSoUeKbXVsdGlhZGRyc5YACASsEqFHBqiSAAoErBKhRwaok90DgnJzhQADAQAAiXNlY3AyNTZrMaEDR2NyuWr9zS3KMENhKinASnTLdSE0x-lz5pdgf5cUVBmDdGNwgqiSg3VkcIKolIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.20.166 waku b40d753ada9b013f6e84b36b7243cf19be773d015d6095af0b37a00bf73344b9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b40d753ada9b. Setting up logs at ./log/docker/node5_2024-11-02_04-13-09__140e2214-4956-408e-a2a1-e143fa61f441__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43792
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43792/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43792/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.166/tcp/43793/p2p/16Uiu2HAm14h2c9qAfWA31FzBmKF6aLGoBrGv1VdoyBDvccxzRvZo","/ip4/172.18.20.166/tcp/43794/ws/p2p/16Uiu2HAm14h2c9qAfWA31FzBmKF6aLGoBrGv1VdoyBDvccxzRvZo"],"enrUri":"enr:-L24QP81FUpShTsjQ6U5gF4pynee3LBOdIWNkNK4owepqY0VAHvdzFSNZLkccGIKKN7NJIYxSKD09IXHiF03LDYKXGkCgmlkgnY0gmlwhKwSFKaKbXVsdGlhZGRyc5YACASsEhSmBqsRAAoErBIUpgarEt0DgnJzhQADAQAAiXNlY3AyNTZrMaECU8YcMKmgpuTIJZH53um9kjA9iqvd7XOcwWOe4U-3YNKDdGNwgqsRg3VkcIKrE4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43792/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.71/tcp/43154/p2p/16Uiu2HAmHTfFRwXSpw2yRbAg9GxEmE4i9iyQJxPfGsHtvRJYqs7e"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43153/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39082/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64020/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1194/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43792/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43153/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43153/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730520798096076032,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39082/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730520798096076032,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730520798096076032,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730520798096076032,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43792/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730520798096076032,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43792/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43153/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730520798232552704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39082/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730520798232552704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64020/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730520798232552704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730520798232552704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43792/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730520798232552704,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bd8a7192b311
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dbaee5e64e78
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bd8a7192b311. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a0f6b38672de
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dbaee5e64e78. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2fc7b1c86b15
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a0f6b38672de. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b40d753ada9b
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2fc7b1c86b15. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.