[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_passing_invalid_cursor with id: 2024-11-02_04-21-27__ed21f973-f93a-4720-84b8-81dd4023211b
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-02_04-21-27__ed21f973-f93a-4720-84b8-81dd4023211b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.25.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27046', '27047', '27048', '27049', '27050']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27046:27046 -p 27047:27047 -p 27048:27048 -p 27049:27049 -p 27050:27050 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27048 --rest-port=27046 --tcp-port=27047 --discv5-udp-port=27049 --rest-address=0.0.0.0 --nat=extip:172.18.25.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2bbfe0aefa2c4fffac07cacbb1dbcb455cfc16d32eefb41f7084fec02bbcf6cd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27050 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.25.94 waku 6674b66b68760cbb2ef2d74dd45c4b0538f72ea164ac150408ad66dd47370300
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6674b66b6876. Setting up logs at ./log/docker/publishing_node1_2024-11-02_04-21-27__ed21f973-f93a-4720-84b8-81dd4023211b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 27046
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 27ca3308c5cd. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27046/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27046/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.94/tcp/27047/p2p/16Uiu2HAmE2ozGLjS4ZWqmf4bNXjNsKC39SEGA62hn92GXCdjdkmg","/ip4/172.18.25.94/tcp/27048/ws/p2p/16Uiu2HAmE2ozGLjS4ZWqmf4bNXjNsKC39SEGA62hn92GXCdjdkmg"],"enrUri":"enr:-L24QPCtnCsmc-VEn0Ri711Z27HHL-_KUhY2mC1xNkMUSffhVncXhPRRInKBfwJxpyVtp8TskkItNG9WsSi8_5jLMzkCgmlkgnY0gmlwhKwSGV6KbXVsdGlhZGRyc5YACASsEhleBmmnAAoErBIZXgZpqN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDFHK_cQO4Z3t2UTXnD8bl7iu8oLNCxWBWmFgSZYk-7KuDdGNwgmmng3VkcIJpqYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-02_04-21-27__ed21f973-f93a-4720-84b8-81dd4023211b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.252.134
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14674', '14675', '14676', '14677', '14678']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14674:14674 -p 14675:14675 -p 14676:14676 -p 14677:14677 -p 14678:14678 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14676 --rest-port=14674 --tcp-port=14675 --discv5-udp-port=14677 --rest-address=0.0.0.0 --nat=extip:172.18.252.134 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b2e3ccd6ff36a5ac63ca2de42f254b07ba54bea4faddf1cb30baf9e23725cf5d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14678 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPCtnCsmc-VEn0Ri711Z27HHL-_KUhY2mC1xNkMUSffhVncXhPRRInKBfwJxpyVtp8TskkItNG9WsSi8_5jLMzkCgmlkgnY0gmlwhKwSGV6KbXVsdGlhZGRyc5YACASsEhleBmmnAAoErBIZXgZpqN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDFHK_cQO4Z3t2UTXnD8bl7iu8oLNCxWBWmFgSZYk-7KuDdGNwgmmng3VkcIJpqYV3YWt1MgM --storenode=/ip4/172.18.25.94/tcp/27047/p2p/16Uiu2HAmE2ozGLjS4ZWqmf4bNXjNsKC39SEGA62hn92GXCdjdkmg --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.252.134 waku 54f510266ee83a1a784b311a5a77dfeb75ed1aefd39e7eb7a91052d726933a45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 54f510266ee8. Setting up logs at ./log/docker/store_node1_2024-11-02_04-21-27__ed21f973-f93a-4720-84b8-81dd4023211b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 14674
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14674/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14674/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.134/tcp/14675/p2p/16Uiu2HAm9HXU3u5Ywx4y41bsgSWk7K3mcpdetk5SDwJYav7Az4Yj","/ip4/172.18.252.134/tcp/14676/ws/p2p/16Uiu2HAm9HXU3u5Ywx4y41bsgSWk7K3mcpdetk5SDwJYav7Az4Yj"],"enrUri":"enr:-L24QIS_06JoVvQqzERme2OPIf2T6-9l9C8gasG9cAs07Kj0Scbs9ybNJ_yehH5fdZnNWVioCYSX6ekRPpwgcBfob8UCgmlkgnY0gmlwhKwS_IaKbXVsdGlhZGRyc5YACASsEvyGBjlTAAoErBL8hgY5VN0DgnJzhQADAQAAiXNlY3AyNTZrMaECze1YVEmJlfU-CQjBznEbhzxWWJ8GoOl2QjwDGSOnf5SDdGNwgjlTg3VkcII5VYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14674/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.25.94/tcp/27047/p2p/16Uiu2HAmE2ozGLjS4ZWqmf4bNXjNsKC39SEGA62hn92GXCdjdkmg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27046/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14674/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27046/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=dGVzdA%3D%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27046/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=dGVzdA%3D%3D&pageSize=100&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 4'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6674b66b6876
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 54f510266ee8
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6674b66b6876. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.