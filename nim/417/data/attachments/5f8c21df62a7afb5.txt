[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-02_04-05-21__516ffe08-a839-4fc6-b067-c6effaf83da2
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-02_04-05-21__516ffe08-a839-4fc6-b067-c6effaf83da2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.148.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22763', '22764', '22765', '22766', '22767']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22763:22763 -p 22764:22764 -p 22765:22765 -p 22766:22766 -p 22767:22767 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22765 --rest-port=22763 --tcp-port=22764 --discv5-udp-port=22766 --rest-address=0.0.0.0 --nat=extip:172.18.148.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bfd9fd0cb3f6e5d4b4aac72beec3fddfbd544f160073b6ee2ce8fdafcacc51ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22767 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.148.249 waku 954def7eab4e28ad5a26a3f23b326463b29e6d79973f918af9c6a7d78825bdee
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 954def7eab4e. Setting up logs at ./log/docker/node1_2024-11-02_04-05-21__516ffe08-a839-4fc6-b067-c6effaf83da2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 22763
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ad55750b1014. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22763/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22763/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.148.249/tcp/22764/p2p/16Uiu2HAm8JWm2fkM3pCf2pKNd9chr376KrXFfVXqqNDzDxLVJp7U","/ip4/172.18.148.249/tcp/22765/ws/p2p/16Uiu2HAm8JWm2fkM3pCf2pKNd9chr376KrXFfVXqqNDzDxLVJp7U"],"enrUri":"enr:-L24QOKWcmhvHs1QeZfvJuk0gUJ1P3gCX18SDxO0Irlp0HF8I0Ty_C33kd1H609Z7zqyCxj70JrqjXWXsvlZBVIrLbUCgmlkgnY0gmlwhKwSlPmKbXVsdGlhZGRyc5YACASsEpT5BljsAAoErBKU-QZY7d0DgnJzhQADAQAAiXNlY3AyNTZrMaECv1JwcGTC-xiXIyxUh56wJ5-_mDaUma-FFNzj14dKaxuDdGNwgljsg3VkcIJY7oV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-02_04-05-21__516ffe08-a839-4fc6-b067-c6effaf83da2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.220.166
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13165', '13166', '13167', '13168', '13169']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13165:13165 -p 13166:13166 -p 13167:13167 -p 13168:13168 -p 13169:13169 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13167 --rest-port=13165 --tcp-port=13166 --discv5-udp-port=13168 --rest-address=0.0.0.0 --nat=extip:172.18.220.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5dec69b4dedd5dacc9d2bd026270c9be3da2d28fada7d74c34bc5236aca6b1bd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13169 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOKWcmhvHs1QeZfvJuk0gUJ1P3gCX18SDxO0Irlp0HF8I0Ty_C33kd1H609Z7zqyCxj70JrqjXWXsvlZBVIrLbUCgmlkgnY0gmlwhKwSlPmKbXVsdGlhZGRyc5YACASsEpT5BljsAAoErBKU-QZY7d0DgnJzhQADAQAAiXNlY3AyNTZrMaECv1JwcGTC-xiXIyxUh56wJ5-_mDaUma-FFNzj14dKaxuDdGNwgljsg3VkcIJY7oV3YWt1MgU --filternode=/ip4/172.18.148.249/tcp/22764/p2p/16Uiu2HAm8JWm2fkM3pCf2pKNd9chr376KrXFfVXqqNDzDxLVJp7U
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.220.166 waku 283ede417ef90dc4747759ff90859b4064cc587b167bf212b0026bf7693ec217
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 283ede417ef9. Setting up logs at ./log/docker/node2_2024-11-02_04-05-21__516ffe08-a839-4fc6-b067-c6effaf83da2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 13165
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13165/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13165/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.220.166/tcp/13166/p2p/16Uiu2HAm9oVa5UHPTdhW6swMeCBMCmncHPqLJ7q5XFD6wvmaj1bw","/ip4/172.18.220.166/tcp/13167/ws/p2p/16Uiu2HAm9oVa5UHPTdhW6swMeCBMCmncHPqLJ7q5XFD6wvmaj1bw"],"enrUri":"enr:-L24QKpRwXMOgm_uwbQVaAJwfAmK9-6Yrklyf3d5XdtYAuzLaU2R3PCpRWOzm4VZsLpFKVk0t50VS_VBAf6oikTHCI4CgmlkgnY0gmlwhKwS3KaKbXVsdGlhZGRyc5YACASsEtymBjNuAAoErBLcpgYzb90DgnJzhQADAQAAiXNlY3AyNTZrMaEC1ZqgGibU5fOuVbXEJ8sF1A9xrcyFrYTN8aZgDTfIQEqDdGNwgjNug3VkcIIzcIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13165/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.148.249/tcp/22764/p2p/16Uiu2HAm8JWm2fkM3pCf2pKNd9chr376KrXFfVXqqNDzDxLVJp7U"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-02_04-05-21__516ffe08-a839-4fc6-b067-c6effaf83da2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.113.227
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60874', '60875', '60876', '60877', '60878']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60874:60874 -p 60875:60875 -p 60876:60876 -p 60877:60877 -p 60878:60878 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60876 --rest-port=60874 --tcp-port=60875 --discv5-udp-port=60877 --rest-address=0.0.0.0 --nat=extip:172.18.113.227 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cdfa0bccbbd9cbb4ca4eeedad0bc982c1dbccab3ce00fbd90978a8b2d7ab7b62 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60878 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOKWcmhvHs1QeZfvJuk0gUJ1P3gCX18SDxO0Irlp0HF8I0Ty_C33kd1H609Z7zqyCxj70JrqjXWXsvlZBVIrLbUCgmlkgnY0gmlwhKwSlPmKbXVsdGlhZGRyc5YACASsEpT5BljsAAoErBKU-QZY7d0DgnJzhQADAQAAiXNlY3AyNTZrMaECv1JwcGTC-xiXIyxUh56wJ5-_mDaUma-FFNzj14dKaxuDdGNwgljsg3VkcIJY7oV3YWt1MgU --filternode=/ip4/172.18.148.249/tcp/22764/p2p/16Uiu2HAm8JWm2fkM3pCf2pKNd9chr376KrXFfVXqqNDzDxLVJp7U
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.113.227 waku f9649d963a6ce27dd47431d63c5a710d5f9ebcc15dfac026903f32981d57518a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f9649d963a6c. Setting up logs at ./log/docker/node3_2024-11-02_04-05-21__516ffe08-a839-4fc6-b067-c6effaf83da2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60874
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60874/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60874/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.113.227/tcp/60875/p2p/16Uiu2HAmNhGKpNRAaX76Emr67KkLK5EKXjqpzc8NGxLowECMtg12","/ip4/172.18.113.227/tcp/60876/ws/p2p/16Uiu2HAmNhGKpNRAaX76Emr67KkLK5EKXjqpzc8NGxLowECMtg12"],"enrUri":"enr:-L24QA_EYeFeuGaPIjnE7c5dTJtDQXXTUg0aM6TH46MUfVb-VCSetzzxbzm4M12s68kLeSOgFRGfb9VLGTL9g8U7bE4CgmlkgnY0gmlwhKwSceOKbXVsdGlhZGRyc5YACASsEnHjBu3LAAoErBJx4wbtzN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDlSoX621MeYb616T8Y9PGhmVdEenMG2VgRUVVPyz4EdWDdGNwgu3Lg3VkcILtzYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60874/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.148.249/tcp/22764/p2p/16Uiu2HAm8JWm2fkM3pCf2pKNd9chr376KrXFfVXqqNDzDxLVJp7U"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-02_04-05-21__516ffe08-a839-4fc6-b067-c6effaf83da2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.147.100
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20915', '20916', '20917', '20918', '20919']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20915:20915 -p 20916:20916 -p 20917:20917 -p 20918:20918 -p 20919:20919 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20917 --rest-port=20915 --tcp-port=20916 --discv5-udp-port=20918 --rest-address=0.0.0.0 --nat=extip:172.18.147.100 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=167e18cbbfca4bec680ecfef59ee6b3079b4eab0df57bdadb40f3ab291ccee54 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20919 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOKWcmhvHs1QeZfvJuk0gUJ1P3gCX18SDxO0Irlp0HF8I0Ty_C33kd1H609Z7zqyCxj70JrqjXWXsvlZBVIrLbUCgmlkgnY0gmlwhKwSlPmKbXVsdGlhZGRyc5YACASsEpT5BljsAAoErBKU-QZY7d0DgnJzhQADAQAAiXNlY3AyNTZrMaECv1JwcGTC-xiXIyxUh56wJ5-_mDaUma-FFNzj14dKaxuDdGNwgljsg3VkcIJY7oV3YWt1MgU --filternode=/ip4/172.18.148.249/tcp/22764/p2p/16Uiu2HAm8JWm2fkM3pCf2pKNd9chr376KrXFfVXqqNDzDxLVJp7U
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.147.100 waku 3617e3033ed3e579940dd3064205164d958be040646b707bbbb5258094e0a423
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3617e3033ed3. Setting up logs at ./log/docker/node4_2024-11-02_04-05-21__516ffe08-a839-4fc6-b067-c6effaf83da2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20915
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20915/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20915/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.147.100/tcp/20916/p2p/16Uiu2HAmKvriXwK67dQ3TcRpkRpi5JSTr5PDPmS9hVGE6uhvhzup","/ip4/172.18.147.100/tcp/20917/ws/p2p/16Uiu2HAmKvriXwK67dQ3TcRpkRpi5JSTr5PDPmS9hVGE6uhvhzup"],"enrUri":"enr:-L24QFa0A-ncAD5FVzHkEFmgXBEnkXVKjf0PKv71wDKUpzPpB8EfCTna93I1RuPC80CsYgyyC9e5KiQYjxaihDRf8OoCgmlkgnY0gmlwhKwSk2SKbXVsdGlhZGRyc5YACASsEpNkBlG0AAoErBKTZAZRtd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDbBJ4TxQDBsxgRu86cXf2DWwnQp354SPTdH9JTFT2AQuDdGNwglG0g3VkcIJRtoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20915/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.148.249/tcp/22764/p2p/16Uiu2HAm8JWm2fkM3pCf2pKNd9chr376KrXFfVXqqNDzDxLVJp7U"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-02_04-05-21__516ffe08-a839-4fc6-b067-c6effaf83da2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.33.174
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44877', '44878', '44879', '44880', '44881']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44877:44877 -p 44878:44878 -p 44879:44879 -p 44880:44880 -p 44881:44881 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44879 --rest-port=44877 --tcp-port=44878 --discv5-udp-port=44880 --rest-address=0.0.0.0 --nat=extip:172.18.33.174 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6b1e85722fadfc335c606a4f5b2acd13a767a73e4acfeadc97ab69deaddd63fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44881 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOKWcmhvHs1QeZfvJuk0gUJ1P3gCX18SDxO0Irlp0HF8I0Ty_C33kd1H609Z7zqyCxj70JrqjXWXsvlZBVIrLbUCgmlkgnY0gmlwhKwSlPmKbXVsdGlhZGRyc5YACASsEpT5BljsAAoErBKU-QZY7d0DgnJzhQADAQAAiXNlY3AyNTZrMaECv1JwcGTC-xiXIyxUh56wJ5-_mDaUma-FFNzj14dKaxuDdGNwgljsg3VkcIJY7oV3YWt1MgU --filternode=/ip4/172.18.148.249/tcp/22764/p2p/16Uiu2HAm8JWm2fkM3pCf2pKNd9chr376KrXFfVXqqNDzDxLVJp7U
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.33.174 waku 41a0ac131bdb9e86c2c0425bcd916d8a2586ec76e754905b4486d85036f60d77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 41a0ac131bdb. Setting up logs at ./log/docker/node5_2024-11-02_04-05-21__516ffe08-a839-4fc6-b067-c6effaf83da2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44877
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44877/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44877/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.174/tcp/44878/p2p/16Uiu2HAmBS8ajLaYiP5xVfhT7bUzyCAhuJTEf2qUhtW8P2dQDMmp","/ip4/172.18.33.174/tcp/44879/ws/p2p/16Uiu2HAmBS8ajLaYiP5xVfhT7bUzyCAhuJTEf2qUhtW8P2dQDMmp"],"enrUri":"enr:-L24QCsDrjHdWIJ1UB2Z99f-xDRMjqm9srAXZkaMMZv_tRiNRgRL9EBuTBR_07P9ecYNc5XNw6tLs8sWJ6wp6apaP0MCgmlkgnY0gmlwhKwSIa6KbXVsdGlhZGRyc5YACASsEiGuBq9OAAoErBIhrgavT90DgnJzhQADAQAAiXNlY3AyNTZrMaEC7dkR-YBdg0rBxxqARwPwOAcW-3TqgfCQF4-uLHOXxAeDdGNwgq9Og3VkcIKvUIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44877/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.148.249/tcp/22764/p2p/16Uiu2HAm8JWm2fkM3pCf2pKNd9chr376KrXFfVXqqNDzDxLVJp7U"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22763/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13165/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2cb1cddb-3a35-42cd-a207-bba229f7b286", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2cb1cddb-3a35-42cd-a207-bba229f7b286","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60874/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d37b77dc-6432-413f-9d42-f6ee635843d3", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d37b77dc-6432-413f-9d42-f6ee635843d3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20915/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "44e10d80-cb06-4ec5-9523-64444dae5af4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"44e10d80-cb06-4ec5-9523-64444dae5af4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44877/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8fe4c1eb-52ce-404f-a289-55b937a76c6b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8fe4c1eb-52ce-404f-a289-55b937a76c6b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13165/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730520330565009920,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22763/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60874/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:60874/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 954def7eab4e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 283ede417ef9
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 954def7eab4e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f9649d963a6c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 283ede417ef9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3617e3033ed3
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f9649d963a6c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 41a0ac131bdb
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3617e3033ed3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.