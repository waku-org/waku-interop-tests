[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_big_timestamp with id: 2025-01-22_04-04-41__77455444-3a0e-485a-849b-d176b3e8161d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-22_04-04-41__77455444-3a0e-485a-849b-d176b3e8161d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.75.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42910', '42911', '42912', '42913', '42914']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42910:42910 -p 42911:42911 -p 42912:42912 -p 42913:42913 -p 42914:42914 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42912 --rest-port=42910 --tcp-port=42911 --discv5-udp-port=42913 --rest-address=0.0.0.0 --nat=extip:172.18.75.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f208edce7cfb1f63db54f78caab79eb3fa03aac7b3cc7b7ed6256cfeadd80bfa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42914 --metrics-logging=true --store=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 41cb82a72b8d. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.75.91 waku c4db94de80fb000c7ea1359d3e5f643bccdd8426f36ab531598483805f16ec1a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c4db94de80fb. Setting up logs at ./log/docker/publishing_node1_2025-01-22_04-04-41__77455444-3a0e-485a-849b-d176b3e8161d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42910
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5f1fe96a4f56. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42910/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42910/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.91/tcp/42911/p2p/16Uiu2HAmQeLsbpYCZFLHtDTSfjoXSpGoXjQXiVXVBt6cBUYkP2By","/ip4/172.18.75.91/tcp/42912/ws/p2p/16Uiu2HAmQeLsbpYCZFLHtDTSfjoXSpGoXjQXiVXVBt6cBUYkP2By"],"enrUri":"enr:-L24QM6raJKb6JcEsqsWUhXFHDdjlqfprQ2WL2zETKZ148aVQT7HCWCQgT-9W-9LXJVvc6LfsBp7nstG_m8sFJSEh0UCgmlkgnY0gmlwhKwSS1uKbXVsdGlhZGRyc5YACASsEktbBqefAAoErBJLWwanoN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsiHeBv-ExPNCo3Wi9qwQr3wvZ3kRuVRsasxauqe2ceCDdGNwgqefg3VkcIKnoYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-22_04-04-41__77455444-3a0e-485a-849b-d176b3e8161d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.95.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43633', '43634', '43635', '43636', '43637']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43633:43633 -p 43634:43634 -p 43635:43635 -p 43636:43636 -p 43637:43637 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43635 --rest-port=43633 --tcp-port=43634 --discv5-udp-port=43636 --rest-address=0.0.0.0 --nat=extip:172.18.95.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8bd352ef63d7e3c8a06d9bdebe7d6f75e6dcffa9e125efdd1ebbe2a1eb3c2f62 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43637 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QM6raJKb6JcEsqsWUhXFHDdjlqfprQ2WL2zETKZ148aVQT7HCWCQgT-9W-9LXJVvc6LfsBp7nstG_m8sFJSEh0UCgmlkgnY0gmlwhKwSS1uKbXVsdGlhZGRyc5YACASsEktbBqefAAoErBJLWwanoN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsiHeBv-ExPNCo3Wi9qwQr3wvZ3kRuVRsasxauqe2ceCDdGNwgqefg3VkcIKnoYV3YWt1MgM --storenode=/ip4/172.18.75.91/tcp/42911/p2p/16Uiu2HAmQeLsbpYCZFLHtDTSfjoXSpGoXjQXiVXVBt6cBUYkP2By --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.95.19 waku 5da19c7a3180f04a6c213c4dffb6b691159866c11579b525a285765dc7b9a09d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5da19c7a3180. Setting up logs at ./log/docker/store_node1_2025-01-22_04-04-41__77455444-3a0e-485a-849b-d176b3e8161d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 43633
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43633/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43633/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.19/tcp/43634/p2p/16Uiu2HAm6uA4XEe7SqzRiGFpyYx8C7vHWGxAxMpXHgFhQgGHk8hf","/ip4/172.18.95.19/tcp/43635/ws/p2p/16Uiu2HAm6uA4XEe7SqzRiGFpyYx8C7vHWGxAxMpXHgFhQgGHk8hf"],"enrUri":"enr:-L24QGKIuLWt_-UBKgQXy4spQMJNik7yCxKKAsSWX8ZEC4qwNpH3CkqIkuGoQHkeEHQftlyiGCXSeiO4ZIZ75Geq4ZACgmlkgnY0gmlwhKwSXxOKbXVsdGlhZGRyc5YACASsEl8TBqpyAAoErBJfEwaqc90DgnJzhQADAQAAiXNlY3AyNTZrMaECqnr9a1mZn1lpltFSqPed37DuZ7ZxRsGh3gvK6QLolIqDdGNwgqpyg3VkcIKqdIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43633/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.91/tcp/42911/p2p/16Uiu2HAmQeLsbpYCZFLHtDTSfjoXSpGoXjQXiVXVBt6cBUYkP2By"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42910/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43633/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42910/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42910/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42910/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42910/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42910/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42910/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:204 inquering stored messages with start time 1737518689969394944 after end time 2428718694197089280
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42910/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1737518689969394944&endTime=2428718694197089280&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"9zlFg0JFE61JbWmbq13LNOMvZLWhF4uD0U7T9JQNnk8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518689969394944,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"bCcBCavLP6Mokzsi9bv3fVo6mFdRSMWiDZgJ4F+QTsk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518691969402112,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"FPb2N35HjACODbMiSu/Fpi02k9R+EDS+e8zfZlnoS1Q=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518692869404160,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"m15EDMz56zCQ/TYZzsYmEhOBPOIAotlTAH4i5QhN0M8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518693069405952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"q8FPtoi3b5a56gG1ABJOW+7UzO0I6ofY1L3BOechrqE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518694969408000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"fdxXRm6cECrJmMo2wmdooQPZDiESTkBFbPkjuxTDJH0=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518702969409024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1737518689969394944 and end time = 2428718694197089280 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43633/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1737518689969394944&endTime=2428718694197089280&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"9zlFg0JFE61JbWmbq13LNOMvZLWhF4uD0U7T9JQNnk8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518689969394944,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"bCcBCavLP6Mokzsi9bv3fVo6mFdRSMWiDZgJ4F+QTsk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518691969402112,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"FPb2N35HjACODbMiSu/Fpi02k9R+EDS+e8zfZlnoS1Q=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518692869404160,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"m15EDMz56zCQ/TYZzsYmEhOBPOIAotlTAH4i5QhN0M8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518693069405952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"q8FPtoi3b5a56gG1ABJOW+7UzO0I6ofY1L3BOechrqE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518694969408000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"fdxXRm6cECrJmMo2wmdooQPZDiESTkBFbPkjuxTDJH0=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1737518702969409024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1737518689969394944 and end time = 2428718694197089280 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c4db94de80fb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5da19c7a3180
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c4db94de80fb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.