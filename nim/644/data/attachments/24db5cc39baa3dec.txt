2025-02-08 04:08:40.300 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:08:40.300 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2025-02-08_04-08-40__f309158d-bd7f-4a45-af37-62d6b050448d
2025-02-08 04:08:40.300 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:08:40.301 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-08 04:08:40.301 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-08 04:08:40.308 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:08:40.308 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-08_04-08-40__f309158d-bd7f-4a45-af37-62d6b050448d__wakuorg_nwaku:latest.log
2025-02-08 04:08:40.308 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:08:40.308 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:08:40.310 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:08:40.310 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.42.199
2025-02-08 04:08:40.310 DEBUG [src.node.docker_mananger] Generated ports ['4664', '4665', '4666', '4667', '4668']
2025-02-08 04:08:40.310 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:08:40.310 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:08:40.310 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:08:40.311 DEBUG [src.node.docker_mananger] docker run -i -t -p 4664:4664 -p 4665:4665 -p 4666:4666 -p 4667:4667 -p 4668:4668 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4666 --rest-port=4664 --tcp-port=4665 --discv5-udp-port=4667 --rest-address=0.0.0.0 --nat=extip:172.18.42.199 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=9eabbe48ebbccdeca7e597bea85ec3d65dc876acfaeffb24f0faf1dceef9b2da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4668 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-08 04:08:40.538 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.42.199 waku 076f3567684afdebe6779aceb4a2185cf73f5d4bc3a23914c8df385d2647d13c
2025-02-08 04:08:40.592 DEBUG [src.node.docker_mananger] Container started with ID 076f3567684a. Setting up logs at ./log/docker/node1_2025-02-08_04-08-40__f309158d-bd7f-4a45-af37-62d6b050448d__wakuorg_nwaku:latest.log
2025-02-08 04:08:40.592 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4664
2025-02-08 04:08:40.593 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:08:41.098 ERROR [src.node.docker_mananger] Max retries reached for container a92e61a4342b. Exiting log stream.
2025-02-08 04:08:41.593 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:41.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:08:41.596 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:08:41.596 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:41.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.42.199/tcp/4665/p2p/16Uiu2HAm86h8BtFgYTrRuojgbCL7ZuWpxzr7cF9qc3fA3FUQC6zk","/ip4/172.18.42.199/tcp/4666/ws/p2p/16Uiu2HAm86h8BtFgYTrRuojgbCL7ZuWpxzr7cF9qc3fA3FUQC6zk"],"enrUri":"enr:-Mu4QELmILm6NXrRvu6Mxnwbk-DuGYMHGcSlcsawLEIIj6YiC5Ph7MlHEwcmmZECx6ytT6fy5JkT1QLCu24hCDImeq4CgmlkgnY0gmlwhKwSKseKbXVsdGlhZGRyc5YACASsEirHBhI5AAoErBIqxwYSOt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQK8SzBkbMwK3gYqoRD-0Da6jgDvr5lBIkzHA-2VzuU0UYN0Y3CCEjmDdWRwghI7hXdha3UyBQ"}'
2025-02-08 04:08:41.598 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:08:41.605 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:08:41.605 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-08_04-08-40__f309158d-bd7f-4a45-af37-62d6b050448d__wakuorg_nwaku:latest.log
2025-02-08 04:08:41.605 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:08:41.605 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:08:41.607 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:08:41.607 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.151.151
2025-02-08 04:08:41.607 DEBUG [src.node.docker_mananger] Generated ports ['1545', '1546', '1547', '1548', '1549']
2025-02-08 04:08:41.607 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:08:41.607 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:08:41.607 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:08:41.607 DEBUG [src.node.docker_mananger] docker run -i -t -p 1545:1545 -p 1546:1546 -p 1547:1547 -p 1548:1548 -p 1549:1549 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1547 --rest-port=1545 --tcp-port=1546 --discv5-udp-port=1548 --rest-address=0.0.0.0 --nat=extip:172.18.151.151 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=34ad0bca2b0ec6a28c8dae401d86e2cfadfcbc1a72ccee8fba5278ceba3ff002 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1549 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QELmILm6NXrRvu6Mxnwbk-DuGYMHGcSlcsawLEIIj6YiC5Ph7MlHEwcmmZECx6ytT6fy5JkT1QLCu24hCDImeq4CgmlkgnY0gmlwhKwSKseKbXVsdGlhZGRyc5YACASsEirHBhI5AAoErBIqxwYSOt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQK8SzBkbMwK3gYqoRD-0Da6jgDvr5lBIkzHA-2VzuU0UYN0Y3CCEjmDdWRwghI7hXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-08 04:08:41.834 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.151.151 waku fb35b41a60c2aa1c2e367e3855be28d2ea200f7cd15eb2f81609a52cf5626ed6
2025-02-08 04:08:41.883 DEBUG [src.node.docker_mananger] Container started with ID fb35b41a60c2. Setting up logs at ./log/docker/node2_2025-02-08_04-08-40__f309158d-bd7f-4a45-af37-62d6b050448d__wakuorg_nwaku:latest.log
2025-02-08 04:08:41.883 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 1545
2025-02-08 04:08:41.884 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:08:42.885 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:42.897 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:08:42.897 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:08:42.898 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:42.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.151.151/tcp/1546/p2p/16Uiu2HAmPApqkxDna4PjLJjfWCWuxdGbEwE2EvtgdsMzvE4S8m1c","/ip4/172.18.151.151/tcp/1547/ws/p2p/16Uiu2HAmPApqkxDna4PjLJjfWCWuxdGbEwE2EvtgdsMzvE4S8m1c"],"enrUri":"enr:-Mu4QArviGDWKK3GuvXhsNG46R6798ZVh8ZEfrsh_T3tJlC9c5X_HjQ9sUcXRtvnloHZtXRzEOhYyze8peRWkB9Wq2MCgmlkgnY0gmlwhKwSl5eKbXVsdGlhZGRyc5YACASsEpeXBgYKAAoErBKXlwYGC90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOcOYqfY2p0Qz7Yz0XKPCje5iKp-6Fl3UBb5-anlZz3m4N0Y3CCBgqDdWRwggYMhXdha3UyAQ"}'
2025-02-08 04:08:42.913 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:08:42.914 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1545/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.42.199/tcp/4665/p2p/16Uiu2HAm86h8BtFgYTrRuojgbCL7ZuWpxzr7cF9qc3fA3FUQC6zk"]'
2025-02-08 04:08:42.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:42.924 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-08 04:08:42.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:42.931 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1545/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-08 04:08:42.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:42.934 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:42.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:42.940 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:43.040 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.040 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987722934060032,"ephemeral":false}]'
2025-02-08 04:08:43.044 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.044 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987722934060032,"ephemeral":false}]'
2025-02-08 04:08:43.048 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:43.053 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:43.153 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.153 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723048365568,"ephemeral":false}]'
2025-02-08 04:08:43.157 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.157 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723048365568,"ephemeral":false}]'
2025-02-08 04:08:43.161 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.166 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:43.167 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:43.267 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.267 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.270 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723161313280,"ephemeral":false}]'
2025-02-08 04:08:43.271 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.272 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.274 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723161313280,"ephemeral":false}]'
2025-02-08 04:08:43.275 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.280 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:43.280 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:43.381 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.382 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723275481600,"ephemeral":false}]'
2025-02-08 04:08:43.386 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.386 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.388 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723275481600,"ephemeral":false}]'
2025-02-08 04:08:43.390 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:43.395 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:43.495 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.496 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723389986304,"ephemeral":false}]'
2025-02-08 04:08:43.499 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.500 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723389986304,"ephemeral":false}]'
2025-02-08 04:08:43.503 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:43.509 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:43.610 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.610 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.612 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723503732224,"ephemeral":false}]'
2025-02-08 04:08:43.614 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.614 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723503732224,"ephemeral":false}]'
2025-02-08 04:08:43.618 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:43.624 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:43.724 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.724 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.727 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723618012928,"ephemeral":false}]'
2025-02-08 04:08:43.728 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.728 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.730 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723618012928,"ephemeral":false}]'
2025-02-08 04:08:43.732 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:43.737 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:43.837 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.838 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.840 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723732374784,"ephemeral":false}]'
2025-02-08 04:08:43.841 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.841 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.843 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723732374784,"ephemeral":false}]'
2025-02-08 04:08:43.845 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:4664/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-08 04:08:43.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:43.853 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:1545/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-08 04:08:43.864 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:43.865 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.867 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-08 04:08:43.869 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.871 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-08 04:08:43.872 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.874 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-08 04:08:43.876 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:43.881 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:43.982 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.982 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723876185088,"ephemeral":false}]'
2025-02-08 04:08:43.986 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:43.986 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:43.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723876185088,"ephemeral":false}]'
2025-02-08 04:08:43.990 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:43.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:43.995 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:44.096 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:44.096 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:44.098 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723990448896,"ephemeral":false}]'
2025-02-08 04:08:44.100 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:44.100 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:44.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987723990448896,"ephemeral":false}]'
2025-02-08 04:08:44.104 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:44.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:44.108 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:44.209 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:44.209 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:44.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987724103907840,"ephemeral":false}]'
2025-02-08 04:08:44.213 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:44.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:44.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987724103907840,"ephemeral":false}]'
2025-02-08 04:08:44.217 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:44.222 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:44.222 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:44.322 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:44.323 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:44.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987724217577984,"ephemeral":false}]'
2025-02-08 04:08:44.326 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:44.327 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:44.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987724217577984,"ephemeral":false}]'
2025-02-08 04:08:44.331 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:08:44.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:08:44.336 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:08:44.436 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:44.436 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:44.439 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987724330959872,"ephemeral":false}]'
2025-02-08 04:08:44.440 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:08:44.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:08:44.442 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987724330959872,"ephemeral":false}]'
2025-02-08 04:08:44.446 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:08:44.447 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:08:44.447 DEBUG [src.node.waku_node] Stopping container with id 076f3567684a
2025-02-08 04:08:45.065 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:08:45.065 DEBUG [src.node.waku_node] Stopping container with id fb35b41a60c2
2025-02-08 04:08:45.877 ERROR [src.node.docker_mananger] Max retries reached for container 076f3567684a. Exiting log stream.
2025-02-08 04:08:46.578 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:08:46.578 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:08:46.588 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:08:46.598 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
