2025-02-08 04:03:13.203 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:03:13.203 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-08_04-03-13__c03f4585-0a05-4d81-a112-7687f873b668
2025-02-08 04:03:13.203 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:03:13.204 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-08 04:03:13.209 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:03:13.210 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-08_04-03-13__c03f4585-0a05-4d81-a112-7687f873b668__wakuorg_nwaku:latest.log
2025-02-08 04:03:13.210 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:03:13.210 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:03:13.211 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:03:13.211 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.80.200
2025-02-08 04:03:13.211 DEBUG [src.node.docker_mananger] Generated ports ['25083', '25084', '25085', '25086', '25087']
2025-02-08 04:03:13.212 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:03:13.212 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:03:13.212 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:03:13.212 DEBUG [src.node.docker_mananger] docker run -i -t -p 25083:25083 -p 25084:25084 -p 25085:25085 -p 25086:25086 -p 25087:25087 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25085 --rest-port=25083 --tcp-port=25084 --discv5-udp-port=25086 --rest-address=0.0.0.0 --nat=extip:172.18.80.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aeaadedfa6c2ef52f3dc52a94e1dccabcacb0fea88cfdadedc270745ae6fcc8b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25087 --metrics-logging=true --lightpush=true --relay=true
2025-02-08 04:03:13.433 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.80.200 waku 94d8d1701ae40e76ae5f533b49a5c5ab5b2849554d133169616e37a1c8813de5
2025-02-08 04:03:13.478 DEBUG [src.node.docker_mananger] Container started with ID 94d8d1701ae4. Setting up logs at ./log/docker/receiving_node1_2025-02-08_04-03-13__c03f4585-0a05-4d81-a112-7687f873b668__wakuorg_nwaku:latest.log
2025-02-08 04:03:13.479 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 25083
2025-02-08 04:03:13.479 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:03:13.990 ERROR [src.node.docker_mananger] Max retries reached for container c3d768bb236b. Exiting log stream.
2025-02-08 04:03:14.481 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:14.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:03:14.484 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:03:14.484 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:14.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.200/tcp/25084/p2p/16Uiu2HAmUjVih4VfrH8r4FeFcHHvWb9PCFW5PnirNz34ZzEBNy7Q","/ip4/172.18.80.200/tcp/25085/ws/p2p/16Uiu2HAmUjVih4VfrH8r4FeFcHHvWb9PCFW5PnirNz34ZzEBNy7Q"],"enrUri":"enr:-L24QI3_rRovt068pvAx2q3G5CLI9rs8rsS6MKH_b6v1ZE4yJEOYGFkJjGTZ1KQmToa4MKhsff0lk0oFCNgPryN8SooCgmlkgnY0gmlwhKwSUMiKbXVsdGlhZGRyc5YACASsElDIBmH8AAoErBJQyAZh_d0DgnJzhQADAQAAiXNlY3AyNTZrMaED7uKFjSWGZETYoVvI9hrw4HvqBCYUreAoVyeln8QPSZuDdGNwgmH8g3VkcIJh_oV3YWt1Mgk"}'
2025-02-08 04:03:14.486 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:03:14.493 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:03:14.493 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-08_04-03-13__c03f4585-0a05-4d81-a112-7687f873b668__wakuorg_nwaku:latest.log
2025-02-08 04:03:14.493 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:03:14.493 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:03:14.494 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:03:14.494 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.4.0
2025-02-08 04:03:14.495 DEBUG [src.node.docker_mananger] Generated ports ['15931', '15932', '15933', '15934', '15935']
2025-02-08 04:03:14.495 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:03:14.495 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:03:14.495 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:03:14.495 DEBUG [src.node.docker_mananger] docker run -i -t -p 15931:15931 -p 15932:15932 -p 15933:15933 -p 15934:15934 -p 15935:15935 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15933 --rest-port=15931 --tcp-port=15932 --discv5-udp-port=15934 --rest-address=0.0.0.0 --nat=extip:172.18.4.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3121baa07bfd1be82933683a735ed67a84033db8e9fd3c3a3bcecf07085e53b9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15935 --metrics-logging=true --lightpush=false --relay=true
2025-02-08 04:03:14.719 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.4.0 waku bb22124ecbc4906be0862c505fe2d94323e2d5cc02d7bcfe1766c1094ff3256a
2025-02-08 04:03:14.764 DEBUG [src.node.docker_mananger] Container started with ID bb22124ecbc4. Setting up logs at ./log/docker/receiving_node2_2025-02-08_04-03-13__c03f4585-0a05-4d81-a112-7687f873b668__wakuorg_nwaku:latest.log
2025-02-08 04:03:14.765 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15931
2025-02-08 04:03:14.765 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:03:15.765 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:15.768 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:03:15.768 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:03:15.768 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:15.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.4.0/tcp/15932/p2p/16Uiu2HAmDUaArXgiEyG3QSU2RsWiPAD3mKGdMynpFsRtMaA1kRfN","/ip4/172.18.4.0/tcp/15933/ws/p2p/16Uiu2HAmDUaArXgiEyG3QSU2RsWiPAD3mKGdMynpFsRtMaA1kRfN"],"enrUri":"enr:-L24QF_8qoRgIi7lmKaNxkgAx88KV6qAGObBF8WLiiGZuWUReH4skW_2V0WWRzutVl7wpuZqAjRk--dNYin3wtFWya0CgmlkgnY0gmlwhKwSBACKbXVsdGlhZGRyc5YACASsEgQABj48AAoErBIEAAY-Pd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDDDCJ3Ey_topo2voLHv8vtuBy_rVGGjitKP1HZCZFNqmDdGNwgj48g3VkcII-PoV3YWt1MgE"}'
2025-02-08 04:03:15.771 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:03:15.771 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15931/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.80.200/tcp/25084/p2p/16Uiu2HAmUjVih4VfrH8r4FeFcHHvWb9PCFW5PnirNz34ZzEBNy7Q"]'
2025-02-08 04:03:15.811 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:15.822 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:03:15.822 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-08_04-03-13__c03f4585-0a05-4d81-a112-7687f873b668__wakuorg_nwaku:latest.log
2025-02-08 04:03:15.822 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:03:15.822 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:03:15.824 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:03:15.824 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.60.118
2025-02-08 04:03:15.824 DEBUG [src.node.docker_mananger] Generated ports ['46143', '46144', '46145', '46146', '46147']
2025-02-08 04:03:15.824 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:03:15.824 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:03:15.824 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:03:15.825 DEBUG [src.node.docker_mananger] docker run -i -t -p 46143:46143 -p 46144:46144 -p 46145:46145 -p 46146:46146 -p 46147:46147 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46145 --rest-port=46143 --tcp-port=46144 --discv5-udp-port=46146 --rest-address=0.0.0.0 --nat=extip:172.18.60.118 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=17971bcf4ef4bacd4ac3a65a1ced8a23b35c5b1d9d3a7edfb746f503ed28c6f2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46147 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QI3_rRovt068pvAx2q3G5CLI9rs8rsS6MKH_b6v1ZE4yJEOYGFkJjGTZ1KQmToa4MKhsff0lk0oFCNgPryN8SooCgmlkgnY0gmlwhKwSUMiKbXVsdGlhZGRyc5YACASsElDIBmH8AAoErBJQyAZh_d0DgnJzhQADAQAAiXNlY3AyNTZrMaED7uKFjSWGZETYoVvI9hrw4HvqBCYUreAoVyeln8QPSZuDdGNwgmH8g3VkcIJh_oV3YWt1Mgk --lightpushnode=/ip4/172.18.80.200/tcp/25084/p2p/16Uiu2HAmUjVih4VfrH8r4FeFcHHvWb9PCFW5PnirNz34ZzEBNy7Q --lightpush=true --relay=false
2025-02-08 04:03:16.062 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.60.118 waku 9ca2e723b2d4f2f76ae24cbe7290f79036ca6d15173fb20cb2cfdba22392b5d7
2025-02-08 04:03:16.107 DEBUG [src.node.docker_mananger] Container started with ID 9ca2e723b2d4. Setting up logs at ./log/docker/lightpush_node1_2025-02-08_04-03-13__c03f4585-0a05-4d81-a112-7687f873b668__wakuorg_nwaku:latest.log
2025-02-08 04:03:16.108 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 46143
2025-02-08 04:03:16.108 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:03:17.108 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46143/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:03:17.112 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:03:17.112 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46143/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.114 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.118/tcp/46144/p2p/16Uiu2HAmFoCod373oU56DEArzBRf5bfp7jeCARnoESwiL3YHpwRr","/ip4/172.18.60.118/tcp/46145/ws/p2p/16Uiu2HAmFoCod373oU56DEArzBRf5bfp7jeCARnoESwiL3YHpwRr"],"enrUri":"enr:-L24QAkmmFZ4sQHPDs40kDxjaEDbUYOUHu4277ZhsBBfvo6UOYWq-SGDkyP_CKKOjR4XSfjkTNQ65Olgnsig86zI4tkCgmlkgnY0gmlwhKwSPHaKbXVsdGlhZGRyc5YACASsEjx2BrRAAAoErBI8dga0Qd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLq3J_ntRMuXZqJKVtvScQ5i3ldZK7b-u4YOXOeEDDPGDdGNwgrRAg3VkcIK0QoV3YWt1Mgg"}'
2025-02-08 04:03:17.114 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:03:17.114 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.80.200/tcp/25084/p2p/16Uiu2HAmUjVih4VfrH8r4FeFcHHvWb9PCFW5PnirNz34ZzEBNy7Q"]'
2025-02-08 04:03:17.150 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.150 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.4.0/tcp/15932/p2p/16Uiu2HAmDUaArXgiEyG3QSU2RsWiPAD3mKGdMynpFsRtMaA1kRfN"]'
2025-02-08 04:03:17.182 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.186 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25083/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:03:17.192 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.192 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15931/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:03:17.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.199 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-08 04:03:17.200 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:17.200 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1738987397200004864}}'
2025-02-08 04:03:17.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.210 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:17.310 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.310 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.312 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1738987397200004864,"ephemeral":false}]'
2025-02-08 04:03:17.313 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.314 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1738987397200004864,"ephemeral":false}]'
2025-02-08 04:03:17.317 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-08 04:03:17.318 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:17.318 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1738987397317813760}}'
2025-02-08 04:03:17.326 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.326 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:17.426 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.427 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.429 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1738987397317813760,"ephemeral":false}]'
2025-02-08 04:03:17.430 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.430 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1738987397317813760,"ephemeral":false}]'
2025-02-08 04:03:17.433 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-08 04:03:17.434 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:17.434 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1738987397434168832}}'
2025-02-08 04:03:17.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.444 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:17.545 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.545 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738987397434168832,"ephemeral":false}]'
2025-02-08 04:03:17.549 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.549 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.551 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738987397434168832,"ephemeral":false}]'
2025-02-08 04:03:17.553 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-08 04:03:17.553 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:17.553 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1738987397553344768}}'
2025-02-08 04:03:17.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.564 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:17.664 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.664 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.667 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738987397553344768,"ephemeral":false}]'
2025-02-08 04:03:17.668 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.668 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738987397553344768,"ephemeral":false}]'
2025-02-08 04:03:17.672 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-08 04:03:17.672 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:17.672 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1738987397672463360}}'
2025-02-08 04:03:17.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.682 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:17.782 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.782 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.785 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738987397672463360,"ephemeral":false}]'
2025-02-08 04:03:17.786 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.786 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.788 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738987397672463360,"ephemeral":false}]'
2025-02-08 04:03:17.789 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-08 04:03:17.790 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:17.790 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1738987397790172928}}'
2025-02-08 04:03:17.799 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.801 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:17.901 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.901 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.903 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738987397790172928,"ephemeral":false}]'
2025-02-08 04:03:17.905 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:17.905 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738987397790172928,"ephemeral":false}]'
2025-02-08 04:03:17.908 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-08 04:03:17.908 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:17.909 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1738987397908806912}}'
2025-02-08 04:03:17.918 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.918 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:18.018 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.019 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.021 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738987397908806912,"ephemeral":false}]'
2025-02-08 04:03:18.023 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.023 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738987397908806912,"ephemeral":false}]'
2025-02-08 04:03:18.027 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-08 04:03:18.027 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:18.027 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1738987398027492096}}'
2025-02-08 04:03:18.038 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:18.038 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:18.139 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.139 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738987398027492096,"ephemeral":false}]'
2025-02-08 04:03:18.143 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.143 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.146 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738987398027492096,"ephemeral":false}]'
2025-02-08 04:03:18.147 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-08 04:03:18.147 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:18.148 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1738987398147648000}}'
2025-02-08 04:03:18.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:18.159 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:18.260 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.260 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.262 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738987398147648000,"ephemeral":false}]'
2025-02-08 04:03:18.264 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.264 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738987398147648000,"ephemeral":false}]'
2025-02-08 04:03:18.267 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-08 04:03:18.268 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:18.268 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1738987398268243200}}'
2025-02-08 04:03:18.282 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:18.282 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:18.382 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.382 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.385 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738987398268243200,"ephemeral":false}]'
2025-02-08 04:03:18.387 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.387 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.390 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738987398268243200,"ephemeral":false}]'
2025-02-08 04:03:18.391 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-08 04:03:18.391 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:18.392 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1738987398391666688}}'
2025-02-08 04:03:18.401 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:18.402 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:18.502 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.502 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.505 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738987398391666688,"ephemeral":false}]'
2025-02-08 04:03:18.506 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.506 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.509 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738987398391666688,"ephemeral":false}]'
2025-02-08 04:03:18.510 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-08 04:03:18.510 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:18.511 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1738987398510796800}}'
2025-02-08 04:03:18.521 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:18.521 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:18.621 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.621 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1738987398510796800,"ephemeral":false}]'
2025-02-08 04:03:18.625 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.625 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.627 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1738987398510796800,"ephemeral":false}]'
2025-02-08 04:03:18.628 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-08 04:03:18.629 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:18.629 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1738987398628987904}}'
2025-02-08 04:03:18.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:18.638 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:18.739 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.739 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.742 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1738987398628987904,"ephemeral":false}]'
2025-02-08 04:03:18.743 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.743 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1738987398628987904,"ephemeral":false}]'
2025-02-08 04:03:18.747 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-08 04:03:18.747 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:18.747 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1738987398747348224}}'
2025-02-08 04:03:18.756 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:18.757 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:18.857 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.857 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.860 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738987398747348224,"ephemeral":false}]'
2025-02-08 04:03:18.861 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.861 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738987398747348224,"ephemeral":false}]'
2025-02-08 04:03:18.865 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-08 04:03:18.865 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:18.865 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1738987398865225472}}'
2025-02-08 04:03:18.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:18.875 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:18.976 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.976 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738987398865225472,"ephemeral":false}]'
2025-02-08 04:03:18.979 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:18.979 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:18.981 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738987398865225472,"ephemeral":false}]'
2025-02-08 04:03:18.983 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-08 04:03:18.983 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:18.983 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1738987398983292672}}'
2025-02-08 04:03:18.992 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:18.993 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:19.093 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.094 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1738987398983292672,"ephemeral":false}]'
2025-02-08 04:03:19.097 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.097 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.100 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1738987398983292672,"ephemeral":false}]'
2025-02-08 04:03:19.101 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-08 04:03:19.101 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:19.101 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1738987399101547520}}'
2025-02-08 04:03:19.110 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.110 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:19.211 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.211 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1738987399101547520,"ephemeral":false}]'
2025-02-08 04:03:19.214 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.215 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.217 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1738987399101547520,"ephemeral":false}]'
2025-02-08 04:03:19.218 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-08 04:03:19.218 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:19.218 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1738987399218523904}}'
2025-02-08 04:03:19.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.227 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:19.328 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.328 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738987399218523904,"ephemeral":false}]'
2025-02-08 04:03:19.331 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.331 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.333 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738987399218523904,"ephemeral":false}]'
2025-02-08 04:03:19.335 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-08 04:03:19.335 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:19.335 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1738987399335428352}}'
2025-02-08 04:03:19.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.344 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:19.445 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.445 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738987399335428352,"ephemeral":false}]'
2025-02-08 04:03:19.448 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.449 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.451 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738987399335428352,"ephemeral":false}]'
2025-02-08 04:03:19.452 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-08 04:03:19.452 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:19.453 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1738987399452629504}}'
2025-02-08 04:03:19.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.462 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:19.562 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.563 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738987399452629504,"ephemeral":false}]'
2025-02-08 04:03:19.567 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.567 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738987399452629504,"ephemeral":false}]'
2025-02-08 04:03:19.570 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-08 04:03:19.571 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:19.571 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1738987399571168768}}'
2025-02-08 04:03:19.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.583 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:19.683 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.684 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738987399571168768,"ephemeral":false}]'
2025-02-08 04:03:19.688 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.688 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.690 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738987399571168768,"ephemeral":false}]'
2025-02-08 04:03:19.691 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-08 04:03:19.692 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:19.692 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1738987399692219904}}'
2025-02-08 04:03:19.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.702 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:19.803 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.803 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.806 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738987399692219904,"ephemeral":false}]'
2025-02-08 04:03:19.807 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.807 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.809 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738987399692219904,"ephemeral":false}]'
2025-02-08 04:03:19.811 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-08 04:03:19.811 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:19.811 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1738987399811269888}}'
2025-02-08 04:03:19.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.822 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:19.922 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.922 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1738987399811269888,"ephemeral":false}]'
2025-02-08 04:03:19.925 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:19.925 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.928 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1738987399811269888,"ephemeral":false}]'
2025-02-08 04:03:19.930 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-08 04:03:19.930 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:19.931 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1738987399930562560}}'
2025-02-08 04:03:19.940 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.940 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:20.041 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.041 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738987399930562560,"ephemeral":false}]'
2025-02-08 04:03:20.045 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.045 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738987399930562560,"ephemeral":false}]'
2025-02-08 04:03:20.048 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-08 04:03:20.049 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:20.049 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1738987400049029376}}'
2025-02-08 04:03:20.057 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:20.057 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:20.158 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.158 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.160 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738987400049029376,"ephemeral":false}]'
2025-02-08 04:03:20.161 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.161 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738987400049029376,"ephemeral":false}]'
2025-02-08 04:03:20.166 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-08 04:03:20.166 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:20.167 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1738987400166803968}}'
2025-02-08 04:03:20.176 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:20.176 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:20.276 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.277 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738987400166803968,"ephemeral":false}]'
2025-02-08 04:03:20.280 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.280 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.282 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738987400166803968,"ephemeral":false}]'
2025-02-08 04:03:20.284 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-08 04:03:20.284 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:20.284 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1738987400284601856}}'
2025-02-08 04:03:20.293 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:20.293 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:20.394 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.397 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738987400284601856,"ephemeral":false}]'
2025-02-08 04:03:20.398 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.398 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.401 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738987400284601856,"ephemeral":false}]'
2025-02-08 04:03:20.403 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-08 04:03:20.403 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:20.403 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1738987400403266304}}'
2025-02-08 04:03:20.415 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:20.416 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:20.516 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.516 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.518 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738987400403266304,"ephemeral":false}]'
2025-02-08 04:03:20.520 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.520 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.522 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738987400403266304,"ephemeral":false}]'
2025-02-08 04:03:20.523 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-08 04:03:20.524 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:20.524 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1738987400523835904}}'
2025-02-08 04:03:20.532 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:20.534 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:20.635 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.635 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1738987400523835904,"ephemeral":false}]'
2025-02-08 04:03:20.638 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.638 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1738987400523835904,"ephemeral":false}]'
2025-02-08 04:03:20.642 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-08 04:03:20.642 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:20.642 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1738987400642519808}}'
2025-02-08 04:03:20.652 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:20.653 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:20.753 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.753 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.755 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1738987400642519808,"ephemeral":false}]'
2025-02-08 04:03:20.757 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.757 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.759 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1738987400642519808,"ephemeral":false}]'
2025-02-08 04:03:20.760 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-08 04:03:20.761 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:20.761 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1738987400761051136}}'
2025-02-08 04:03:20.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:20.771 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:20.871 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.871 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.873 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738987400761051136,"ephemeral":false}]'
2025-02-08 04:03:20.875 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738987400761051136,"ephemeral":false}]'
2025-02-08 04:03:20.878 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-08 04:03:20.879 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:20.879 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1738987400878922752}}'
2025-02-08 04:03:20.890 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:20.890 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:20.990 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.990 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.993 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738987400878922752,"ephemeral":false}]'
2025-02-08 04:03:20.994 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:20.994 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:20.996 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738987400878922752,"ephemeral":false}]'
2025-02-08 04:03:20.998 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-08 04:03:20.998 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:20.998 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1738987400998452992}}'
2025-02-08 04:03:21.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:21.008 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:21.108 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1738987400998452992,"ephemeral":false}]'
2025-02-08 04:03:21.113 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.113 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1738987400998452992,"ephemeral":false}]'
2025-02-08 04:03:21.117 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-08 04:03:21.117 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:21.117 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1738987401117485056}}'
2025-02-08 04:03:21.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:21.128 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:21.228 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.229 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738987401117485056,"ephemeral":false}]'
2025-02-08 04:03:21.232 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.232 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.234 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738987401117485056,"ephemeral":false}]'
2025-02-08 04:03:21.235 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-08 04:03:21.236 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:21.236 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1738987401236130304}}'
2025-02-08 04:03:21.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:21.245 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:21.346 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.346 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1738987401236130304,"ephemeral":false}]'
2025-02-08 04:03:21.351 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.351 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1738987401236130304,"ephemeral":false}]'
2025-02-08 04:03:21.355 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-08 04:03:21.355 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:21.355 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1738987401355375872}}'
2025-02-08 04:03:21.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:21.366 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:21.466 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.467 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.469 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1738987401355375872,"ephemeral":false}]'
2025-02-08 04:03:21.471 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.471 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1738987401355375872,"ephemeral":false}]'
2025-02-08 04:03:21.475 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-08 04:03:21.475 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:21.475 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1738987401475417344}}'
2025-02-08 04:03:21.485 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:21.486 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:21.586 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.587 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.589 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738987401475417344,"ephemeral":false}]'
2025-02-08 04:03:21.591 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.591 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738987401475417344,"ephemeral":false}]'
2025-02-08 04:03:21.595 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-08 04:03:21.596 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:21.596 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1738987401595869440}}'
2025-02-08 04:03:21.607 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:21.607 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:21.707 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.707 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1738987401595869440,"ephemeral":false}]'
2025-02-08 04:03:21.712 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.712 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.714 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1738987401595869440,"ephemeral":false}]'
2025-02-08 04:03:21.716 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-08 04:03:21.716 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:21.717 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1738987401716602624}}'
2025-02-08 04:03:21.726 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:21.727 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:21.827 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.828 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.830 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1738987401716602624,"ephemeral":false}]'
2025-02-08 04:03:21.832 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.832 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.834 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1738987401716602624,"ephemeral":false}]'
2025-02-08 04:03:21.836 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-08 04:03:21.836 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 04:03:21.836 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46143/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1738987401836474368}}'
2025-02-08 04:03:21.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:21.847 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:21.948 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.948 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25083/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.950 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1738987401836474368,"ephemeral":false}]'
2025-02-08 04:03:21.952 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 04:03:21.952 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15931/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:21.954 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1738987401836474368,"ephemeral":false}]'
2025-02-08 04:03:21.958 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:03:21.958 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:03:21.959 DEBUG [src.node.waku_node] Stopping container with id 94d8d1701ae4
2025-02-08 04:03:22.636 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:03:22.637 DEBUG [src.node.waku_node] Stopping container with id bb22124ecbc4
2025-02-08 04:03:23.449 ERROR [src.node.docker_mananger] Max retries reached for container 94d8d1701ae4. Exiting log stream.
2025-02-08 04:03:23.797 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:03:23.797 DEBUG [src.node.waku_node] Stopping container with id 9ca2e723b2d4
2025-02-08 04:03:24.610 ERROR [src.node.docker_mananger] Max retries reached for container bb22124ecbc4. Exiting log stream.
2025-02-08 04:03:25.084 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:03:25.085 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:03:25.107 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:03:25.120 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:03:25.137 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
