2025-02-08 04:03:46.708 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:03:46.709 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list0] with id: 2025-02-08_04-03-46__c5b75e88-1b67-4741-8c69-e11aab277232
2025-02-08 04:03:46.709 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:03:46.709 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-08 04:03:46.710 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-08 04:03:46.717 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:03:46.717 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-08_04-03-46__c5b75e88-1b67-4741-8c69-e11aab277232__wakuorg_nwaku:latest.log
2025-02-08 04:03:46.717 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:03:46.717 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:03:46.719 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:03:46.719 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.135.232
2025-02-08 04:03:46.719 DEBUG [src.node.docker_mananger] Generated ports ['28113', '28114', '28115', '28116', '28117']
2025-02-08 04:03:46.719 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:03:46.719 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:03:46.719 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:03:46.720 DEBUG [src.node.docker_mananger] docker run -i -t -p 28113:28113 -p 28114:28114 -p 28115:28115 -p 28116:28116 -p 28117:28117 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28115 --rest-port=28113 --tcp-port=28114 --discv5-udp-port=28116 --rest-address=0.0.0.0 --nat=extip:172.18.135.232 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=3dcd96c58c8f98e91fffec7faebaaffa9bdbbffaccdadd223eeffecddac4c2ee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28117 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-08 04:03:46.951 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.135.232 waku 3a4e1ab31e3747531ed95babe23d56b4e944d106de4a323b9b5667a0564a66b3
2025-02-08 04:03:47.000 DEBUG [src.node.docker_mananger] Container started with ID 3a4e1ab31e37. Setting up logs at ./log/docker/node1_2025-02-08_04-03-46__c5b75e88-1b67-4741-8c69-e11aab277232__wakuorg_nwaku:latest.log
2025-02-08 04:03:47.001 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 28113
2025-02-08 04:03:47.002 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:03:47.515 ERROR [src.node.docker_mananger] Max retries reached for container cd14ed4eb219. Exiting log stream.
2025-02-08 04:03:48.004 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:48.007 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:03:48.007 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:03:48.007 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:48.009 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.232/tcp/28114/p2p/16Uiu2HAmUkpLn9MYBUrSNsQz19vS6QCMCyrUFAJqwaUrWhaLfDpJ","/ip4/172.18.135.232/tcp/28115/ws/p2p/16Uiu2HAmUkpLn9MYBUrSNsQz19vS6QCMCyrUFAJqwaUrWhaLfDpJ"],"enrUri":"enr:-L24QIGwf_2TsJjAlXKlG88Wa7s42-3431JnknsghIuuS6aKZpTO3-phq5-NCPbW6-pZlnJAeO88ykV0WaSd4yP6q_0CgmlkgnY0gmlwhKwSh-iKbXVsdGlhZGRyc5YACASsEofoBm3SAAoErBKH6AZt090DgnJzhQACAQAAiXNlY3AyNTZrMaED7zkon38dA6aKXOzSRscbQucjw6VpuSim19BQb0FY-aeDdGNwgm3Sg3VkcIJt1IV3YWt1MgU"}'
2025-02-08 04:03:48.010 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:03:48.016 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:03:48.016 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-08_04-03-46__c5b75e88-1b67-4741-8c69-e11aab277232__wakuorg_nwaku:latest.log
2025-02-08 04:03:48.017 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:03:48.017 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:03:48.018 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:03:48.018 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.188.61
2025-02-08 04:03:48.018 DEBUG [src.node.docker_mananger] Generated ports ['36417', '36418', '36419', '36420', '36421']
2025-02-08 04:03:48.018 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:03:48.019 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:03:48.019 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:03:48.019 DEBUG [src.node.docker_mananger] docker run -i -t -p 36417:36417 -p 36418:36418 -p 36419:36419 -p 36420:36420 -p 36421:36421 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36419 --rest-port=36417 --tcp-port=36418 --discv5-udp-port=36420 --rest-address=0.0.0.0 --nat=extip:172.18.188.61 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=5de2d4de3b213f174d43ce8f6b4af4fcf45a3aa3a9ec37b31dfb0c468cdbdfe3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36421 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIGwf_2TsJjAlXKlG88Wa7s42-3431JnknsghIuuS6aKZpTO3-phq5-NCPbW6-pZlnJAeO88ykV0WaSd4yP6q_0CgmlkgnY0gmlwhKwSh-iKbXVsdGlhZGRyc5YACASsEofoBm3SAAoErBKH6AZt090DgnJzhQACAQAAiXNlY3AyNTZrMaED7zkon38dA6aKXOzSRscbQucjw6VpuSim19BQb0FY-aeDdGNwgm3Sg3VkcIJt1IV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-08 04:03:48.246 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.188.61 waku 00a3ad2b6b197415eaaf7e11cefc3cebda36b9f3aaacdba5021a5c8d521b81e8
2025-02-08 04:03:48.291 DEBUG [src.node.docker_mananger] Container started with ID 00a3ad2b6b19. Setting up logs at ./log/docker/node2_2025-02-08_04-03-46__c5b75e88-1b67-4741-8c69-e11aab277232__wakuorg_nwaku:latest.log
2025-02-08 04:03:48.293 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 36417
2025-02-08 04:03:48.293 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:03:49.293 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.300 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:03:49.302 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:03:49.302 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.308 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.188.61/tcp/36418/p2p/16Uiu2HAmLZtrXAyDduP5iWW8x11PeJSFBVQ2yyAQYui3P6b8pjmK","/ip4/172.18.188.61/tcp/36419/ws/p2p/16Uiu2HAmLZtrXAyDduP5iWW8x11PeJSFBVQ2yyAQYui3P6b8pjmK"],"enrUri":"enr:-L24QE-6Lcy2VOS590cNZy9FG3cFLW8dBtY66cVg31EBt6rfd0UuU-TbPTvVWeTndTQIytqsveaVtByC8mNDunqTVAsCgmlkgnY0gmlwhKwSvD2KbXVsdGlhZGRyc5YACASsErw9Bo5CAAoErBK8PQaOQ90DgnJzhQACAQAAiXNlY3AyNTZrMaEDdY9ggzAcWmvNCOndNjtp7U-kSkmYyZ5844X5YiBXZDqDdGNwgo5Cg3VkcIKORIV3YWt1MgE"}'
2025-02-08 04:03:49.310 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:03:49.311 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36417/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.135.232/tcp/28114/p2p/16Uiu2HAmUkpLn9MYBUrSNsQz19vS6QCMCyrUFAJqwaUrWhaLfDpJ"]'
2025-02-08 04:03:49.314 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:49.314 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-08 04:03:49.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:49.322 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36417/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-08 04:03:49.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:49.332 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:49.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:49.340 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:49.440 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:49.441 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.443 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1738987429331992832,"ephemeral":false}]'
2025-02-08 04:03:49.445 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:49.445 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1738987429331992832,"ephemeral":false}]'
2025-02-08 04:03:49.449 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:49.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:49.455 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:49.555 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:49.555 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.558 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1738987429449304320,"ephemeral":false}]'
2025-02-08 04:03:49.559 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:49.559 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1738987429449304320,"ephemeral":false}]'
2025-02-08 04:03:49.563 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:49.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:49.569 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:49.669 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:49.670 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.672 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1738987429563631872,"ephemeral":false}]'
2025-02-08 04:03:49.674 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:49.674 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.676 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1738987429563631872,"ephemeral":false}]'
2025-02-08 04:03:49.678 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:49.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:49.683 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:49.784 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:49.784 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1738987429678055424,"ephemeral":false}]'
2025-02-08 04:03:49.788 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:49.789 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1738987429678055424,"ephemeral":false}]'
2025-02-08 04:03:49.793 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:49.797 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:49.798 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:49.898 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:49.898 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1738987429792940032,"ephemeral":false}]'
2025-02-08 04:03:49.902 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:49.902 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:49.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1738987429792940032,"ephemeral":false}]'
2025-02-08 04:03:49.906 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:49.911 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:49.911 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:50.012 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.012 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.015 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1738987429906743296,"ephemeral":false}]'
2025-02-08 04:03:50.016 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.016 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1738987429906743296,"ephemeral":false}]'
2025-02-08 04:03:50.020 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:50.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:50.025 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:50.126 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.126 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1738987430020617728,"ephemeral":false}]'
2025-02-08 04:03:50.131 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.131 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1738987430020617728,"ephemeral":false}]'
2025-02-08 04:03:50.135 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:50.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:50.140 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:50.241 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.241 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.244 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1738987430135115264,"ephemeral":false}]'
2025-02-08 04:03:50.246 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.246 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.248 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1738987430135115264,"ephemeral":false}]'
2025-02-08 04:03:50.250 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:28113/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-08 04:03:50.256 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:50.256 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:36417/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-08 04:03:50.262 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:50.262 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:50.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:50.266 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:50.366 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.366 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.369 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf. Response content: b'/newsService/1.0/weekly/protobuf'
2025-02-08 04:03:50.371 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:50.373 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:50.374 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:50.474 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.474 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.477 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml. Response content: b'/newsService/1.0/alerts/xml'
2025-02-08 04:03:50.478 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:50.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:50.481 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:50.582 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.582 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.585 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson. Response content: b'/newsService/1.0/updates/json'
2025-02-08 04:03:50.587 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:50.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:50.592 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:50.693 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.693 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.696 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1738987430587001600,"ephemeral":false}]'
2025-02-08 04:03:50.697 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.698 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.700 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1738987430587001600,"ephemeral":false}]'
2025-02-08 04:03:50.702 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:50.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:50.707 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:50.807 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.808 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.811 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1738987430702019584,"ephemeral":false}]'
2025-02-08 04:03:50.812 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.812 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1738987430702019584,"ephemeral":false}]'
2025-02-08 04:03:50.816 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:50.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:50.821 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:50.921 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.922 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.925 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1738987430816411392,"ephemeral":false}]'
2025-02-08 04:03:50.926 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:50.927 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:50.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1738987430816411392,"ephemeral":false}]'
2025-02-08 04:03:50.930 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:50.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:50.936 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:51.036 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:51.037 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:51.039 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1738987430930852096,"ephemeral":false}]'
2025-02-08 04:03:51.041 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:51.041 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:51.044 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1738987430930852096,"ephemeral":false}]'
2025-02-08 04:03:51.045 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28113/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:03:51.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:51.051 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:51.152 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:51.152 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28113/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:51.155 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1738987431045789696,"ephemeral":false}]'
2025-02-08 04:03:51.156 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:03:51.157 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36417/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:51.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1738987431045789696,"ephemeral":false}]'
2025-02-08 04:03:51.162 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:03:51.163 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:03:51.163 DEBUG [src.node.waku_node] Stopping container with id 3a4e1ab31e37
2025-02-08 04:03:52.485 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:03:52.486 DEBUG [src.node.waku_node] Stopping container with id 00a3ad2b6b19
2025-02-08 04:03:53.326 ERROR [src.node.docker_mananger] Max retries reached for container 3a4e1ab31e37. Exiting log stream.
2025-02-08 04:03:53.999 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:03:54.000 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:03:54.018 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:03:54.026 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
