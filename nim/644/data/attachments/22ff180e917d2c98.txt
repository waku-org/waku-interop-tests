2025-02-08 04:04:57.379 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:04:57.379 DEBUG [tests.conftest] Running test: test_time_filter_big_timestamp with id: 2025-02-08_04-04-57__15f55087-7be9-49ac-8e21-bda35668456a
2025-02-08 04:04:57.379 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:04:57.380 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-08 04:04:57.380 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-08 04:04:57.386 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:04:57.386 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-08_04-04-57__15f55087-7be9-49ac-8e21-bda35668456a__wakuorg_nwaku:latest.log
2025-02-08 04:04:57.386 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:04:57.386 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:04:57.388 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:04:57.388 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.111.200
2025-02-08 04:04:57.388 DEBUG [src.node.docker_mananger] Generated ports ['22105', '22106', '22107', '22108', '22109']
2025-02-08 04:04:57.388 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:04:57.388 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:04:57.389 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:04:57.389 DEBUG [src.node.docker_mananger] docker run -i -t -p 22105:22105 -p 22106:22106 -p 22107:22107 -p 22108:22108 -p 22109:22109 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22107 --rest-port=22105 --tcp-port=22106 --discv5-udp-port=22108 --rest-address=0.0.0.0 --nat=extip:172.18.111.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1283f4a596aeb7caebd1c00322d0509dbdc4d88cac7f1042b8dddaf8a5360a6e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22109 --metrics-logging=true --store=true --relay=true
2025-02-08 04:04:57.615 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.111.200 waku 669740d60ad67d169e47874f715164edba7c83298c1a769a2d382679f51de526
2025-02-08 04:04:57.667 DEBUG [src.node.docker_mananger] Container started with ID 669740d60ad6. Setting up logs at ./log/docker/publishing_node1_2025-02-08_04-04-57__15f55087-7be9-49ac-8e21-bda35668456a__wakuorg_nwaku:latest.log
2025-02-08 04:04:57.668 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 22105
2025-02-08 04:04:57.668 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:04:58.166 ERROR [src.node.docker_mananger] Max retries reached for container 2f3f2b9c36f3. Exiting log stream.
2025-02-08 04:04:58.668 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22105/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:58.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:04:58.671 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:04:58.671 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22105/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:58.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.200/tcp/22106/p2p/16Uiu2HAmPP6iCzfyxaJGaSCBmgGt6hpNiVuXZL9ySwsQF1S9iJbC","/ip4/172.18.111.200/tcp/22107/ws/p2p/16Uiu2HAmPP6iCzfyxaJGaSCBmgGt6hpNiVuXZL9ySwsQF1S9iJbC"],"enrUri":"enr:-L24QAsWz1tCmMDZMo6paLrIeEJYvYEHIt4e4J9TXd7jxOIqfBnt7lwS26h_uT31UqlmbpjCTeCm3tpZQLAk6-nG3rwCgmlkgnY0gmlwhKwSb8iKbXVsdGlhZGRyc5YACASsEm_IBlZaAAoErBJvyAZWW90DgnJzhQADAQAAiXNlY3AyNTZrMaEDn150i5z4WJACanyo_GLgLD3PatWbKazbhHriYvBe-quDdGNwglZag3VkcIJWXIV3YWt1MgM"}'
2025-02-08 04:04:58.673 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:04:58.680 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:04:58.680 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-08_04-04-57__15f55087-7be9-49ac-8e21-bda35668456a__wakuorg_nwaku:latest.log
2025-02-08 04:04:58.680 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:04:58.680 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:04:58.681 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:04:58.681 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.172.239
2025-02-08 04:04:58.682 DEBUG [src.node.docker_mananger] Generated ports ['35762', '35763', '35764', '35765', '35766']
2025-02-08 04:04:58.682 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:04:58.682 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:04:58.682 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:04:58.682 DEBUG [src.node.docker_mananger] docker run -i -t -p 35762:35762 -p 35763:35763 -p 35764:35764 -p 35765:35765 -p 35766:35766 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35764 --rest-port=35762 --tcp-port=35763 --discv5-udp-port=35765 --rest-address=0.0.0.0 --nat=extip:172.18.172.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c90169bd6af38bccfacfd9a931d833df85f43f5ab0c91b521a23c7abafb254dd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35766 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QAsWz1tCmMDZMo6paLrIeEJYvYEHIt4e4J9TXd7jxOIqfBnt7lwS26h_uT31UqlmbpjCTeCm3tpZQLAk6-nG3rwCgmlkgnY0gmlwhKwSb8iKbXVsdGlhZGRyc5YACASsEm_IBlZaAAoErBJvyAZWW90DgnJzhQADAQAAiXNlY3AyNTZrMaEDn150i5z4WJACanyo_GLgLD3PatWbKazbhHriYvBe-quDdGNwglZag3VkcIJWXIV3YWt1MgM --storenode=/ip4/172.18.111.200/tcp/22106/p2p/16Uiu2HAmPP6iCzfyxaJGaSCBmgGt6hpNiVuXZL9ySwsQF1S9iJbC --store=true --relay=true
2025-02-08 04:04:58.905 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.172.239 waku 90edec5ee47c2662adaed93ed90b10971c087a6cea06f28af8ba928add4b798b
2025-02-08 04:04:58.957 DEBUG [src.node.docker_mananger] Container started with ID 90edec5ee47c. Setting up logs at ./log/docker/store_node1_2025-02-08_04-04-57__15f55087-7be9-49ac-8e21-bda35668456a__wakuorg_nwaku:latest.log
2025-02-08 04:04:58.959 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 35762
2025-02-08 04:04:58.959 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:04:59.960 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35762/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:59.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:04:59.963 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:04:59.963 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35762/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:59.965 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.239/tcp/35763/p2p/16Uiu2HAmFKJaW3xwRh45abLTGKTjnNTZyapiTCJH7Pcmc96i6sGU","/ip4/172.18.172.239/tcp/35764/ws/p2p/16Uiu2HAmFKJaW3xwRh45abLTGKTjnNTZyapiTCJH7Pcmc96i6sGU"],"enrUri":"enr:-L24QKE-guSQ3qTm40F7_CGyHU8MRqNKUj63gLNpPvc9wZpIGouB7PWJ3-yYP8OxiXQmRkMqkQ8j87UB-ThvXwtb-lICgmlkgnY0gmlwhKwSrO-KbXVsdGlhZGRyc5YACASsEqzvBouzAAoErBKs7waLtN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJ4gOCQpcvkX-IoDc-c1zbm18GokKKS0DsYUrOUfufoGDdGNwgouzg3VkcIKLtYV3YWt1MgM"}'
2025-02-08 04:04:59.965 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:04:59.966 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35762/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.200/tcp/22106/p2p/16Uiu2HAmPP6iCzfyxaJGaSCBmgGt6hpNiVuXZL9ySwsQF1S9iJbC"]'
2025-02-08 04:04:59.968 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:59.968 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22105/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:04:59.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:59.971 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35762/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:04:59.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:59.974 DEBUG [src.steps.store] Relaying message
2025-02-08 04:04:59.975 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22105/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:59.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:59.981 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:00.182 DEBUG [src.steps.store] Relaying message
2025-02-08 04:05:00.182 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22105/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:00.188 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:00.189 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:00.389 DEBUG [src.steps.store] Relaying message
2025-02-08 04:05:00.390 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22105/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:00.395 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:00.395 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:00.596 DEBUG [src.steps.store] Relaying message
2025-02-08 04:05:00.596 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22105/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:00.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:00.602 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:00.803 DEBUG [src.steps.store] Relaying message
2025-02-08 04:05:00.803 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22105/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:00.809 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:00.809 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:01.010 DEBUG [src.steps.store] Relaying message
2025-02-08 04:05:01.010 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22105/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:01.016 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:01.017 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:01.217 DEBUG [tests.store.test_time_filter] inquering stored messages with start time 1738987496974624000 after end time 2430187501217325056
2025-02-08 04:05:01.217 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22105/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738987496974624000&endTime=2430187501217325056&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:01.220 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x402c091972884843c9b77643c527d7ddc0af77c011a0f7c7418ba20c5eef5928","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987496974624000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xe53e968e376e0e727e7f36636c0c730fbebfb10f7f1cb9a7d5a3e8c8540c9761","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987498974631168,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x5bbe4d41a712fcdc5d1fda6d811768af6fa85040ffb9c6904ddf12184c44a82a","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987499874632960,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xf4b0da53cc8ef428dd9f501d579e0fb778c060fcaa614acc0f8a3b40ae2bad11","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987500074635008,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xb11aed092b22f8ab550d336e1e3dbe86ee5eb3133345dcfc22acec44acee0691","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987501974636032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x85f53bd300f1a788a40d6c0f86035f11ee7ee7565ea224e37e4ffb874a9c27f9","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987509974638080,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
2025-02-08 04:05:01.262 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:05:01.263 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:05:01.263 DEBUG [src.node.waku_node] Stopping container with id 669740d60ad6
2025-02-08 04:05:02.246 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:05:02.247 DEBUG [src.node.waku_node] Stopping container with id 90edec5ee47c
2025-02-08 04:05:03.059 ERROR [src.node.docker_mananger] Max retries reached for container 669740d60ad6. Exiting log stream.
2025-02-08 04:05:03.752 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:05:03.753 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:05:03.760 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:05:03.765 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:05:03.766 DEBUG [tests.conftest] Running fixture teardown: attach_logs_on_fail
2025-02-08 04:05:03.766 DEBUG [tests.conftest] Test failed, attempting to attach logs to the allure reports
2025-02-08 04:05:03.766 DEBUG [src.libs.common] Attaching file ./log/docker/store_node1_2025-02-08_04-04-57__15f55087-7be9-49ac-8e21-bda35668456a__wakuorg_nwaku:latest.log
2025-02-08 04:05:03.767 DEBUG [src.libs.common] Attaching file ./log/docker/publishing_node1_2025-02-08_04-04-57__15f55087-7be9-49ac-8e21-bda35668456a__wakuorg_nwaku:latest.log
2025-02-08 04:05:03.770 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:05:03.771 DEBUG [tests.conftest] Running test: test_time_filter_big_timestamp with id: 2025-02-08_04-05-03__70e0f2a2-afe1-44d6-b62b-a8b13138024c
2025-02-08 04:05:03.771 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:05:03.771 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-08 04:05:03.771 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-08 04:05:03.778 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:05:03.778 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-08_04-05-03__70e0f2a2-afe1-44d6-b62b-a8b13138024c__wakuorg_nwaku:latest.log
2025-02-08 04:05:03.778 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:05:03.778 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:05:03.779 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:05:03.779 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.122.103
2025-02-08 04:05:03.780 DEBUG [src.node.docker_mananger] Generated ports ['48927', '48928', '48929', '48930', '48931']
2025-02-08 04:05:03.780 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:05:03.780 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:05:03.780 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:05:03.780 DEBUG [src.node.docker_mananger] docker run -i -t -p 48927:48927 -p 48928:48928 -p 48929:48929 -p 48930:48930 -p 48931:48931 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48929 --rest-port=48927 --tcp-port=48928 --discv5-udp-port=48930 --rest-address=0.0.0.0 --nat=extip:172.18.122.103 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8cfe015a0bcde81a0fbc8ebeffdacbfbecabc320a52c077c9a8effd7f17fe1c1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48931 --metrics-logging=true --store=true --relay=true
2025-02-08 04:05:04.016 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.122.103 waku 6fe1309040674f513173d9d60ad012fbbfce0725695c71cd00a31a0cdd099d31
2025-02-08 04:05:04.064 DEBUG [src.node.docker_mananger] Container started with ID 6fe130904067. Setting up logs at ./log/docker/publishing_node1_2025-02-08_04-05-03__70e0f2a2-afe1-44d6-b62b-a8b13138024c__wakuorg_nwaku:latest.log
2025-02-08 04:05:04.066 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 48927
2025-02-08 04:05:04.066 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:05:04.575 ERROR [src.node.docker_mananger] Max retries reached for container 90edec5ee47c. Exiting log stream.
2025-02-08 04:05:05.067 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48927/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:05.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:05:05.070 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:05:05.070 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48927/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:05.072 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.122.103/tcp/48928/p2p/16Uiu2HAm1rN4uhweoPVHspJMzc26x881LckAsmscHsMnJPEGj8Ez","/ip4/172.18.122.103/tcp/48929/ws/p2p/16Uiu2HAm1rN4uhweoPVHspJMzc26x881LckAsmscHsMnJPEGj8Ez"],"enrUri":"enr:-L24QGaXENqOR-y57ajYLkC8EDa_UbiOoDASoOFGXhDkFCDoWnVqgB_J7fiUiwBWlRMI3pfusQu1bfBNcfMs9x9vCpUCgmlkgnY0gmlwhKwSemeKbXVsdGlhZGRyc5YACASsEnpnBr8gAAoErBJ6Zwa_Id0DgnJzhQADAQAAiXNlY3AyNTZrMaECX3ljjBeUenzsXKvEpty0GTc8qrbig-Cf49Jqqdi_r8eDdGNwgr8gg3VkcIK_IoV3YWt1MgM"}'
2025-02-08 04:05:05.073 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:05:05.079 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:05:05.079 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-08_04-05-03__70e0f2a2-afe1-44d6-b62b-a8b13138024c__wakuorg_nwaku:latest.log
2025-02-08 04:05:05.079 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:05:05.080 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:05:05.081 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:05:05.081 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.106.241
2025-02-08 04:05:05.081 DEBUG [src.node.docker_mananger] Generated ports ['36404', '36405', '36406', '36407', '36408']
2025-02-08 04:05:05.081 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:05:05.081 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:05:05.082 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:05:05.082 DEBUG [src.node.docker_mananger] docker run -i -t -p 36404:36404 -p 36405:36405 -p 36406:36406 -p 36407:36407 -p 36408:36408 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36406 --rest-port=36404 --tcp-port=36405 --discv5-udp-port=36407 --rest-address=0.0.0.0 --nat=extip:172.18.106.241 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0ddd8a7faad5f4b3f423ec6c17a0ab8a084abc0accdfc75ebff0aa9eb02efb01 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36408 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QGaXENqOR-y57ajYLkC8EDa_UbiOoDASoOFGXhDkFCDoWnVqgB_J7fiUiwBWlRMI3pfusQu1bfBNcfMs9x9vCpUCgmlkgnY0gmlwhKwSemeKbXVsdGlhZGRyc5YACASsEnpnBr8gAAoErBJ6Zwa_Id0DgnJzhQADAQAAiXNlY3AyNTZrMaECX3ljjBeUenzsXKvEpty0GTc8qrbig-Cf49Jqqdi_r8eDdGNwgr8gg3VkcIK_IoV3YWt1MgM --storenode=/ip4/172.18.122.103/tcp/48928/p2p/16Uiu2HAm1rN4uhweoPVHspJMzc26x881LckAsmscHsMnJPEGj8Ez --store=true --relay=true
2025-02-08 04:05:05.304 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.106.241 waku 73bb4ec88bd1e9d2fad53ff5af32cd9cd10b1e98368256e3956586e3b7fc23be
2025-02-08 04:05:05.354 DEBUG [src.node.docker_mananger] Container started with ID 73bb4ec88bd1. Setting up logs at ./log/docker/store_node1_2025-02-08_04-05-03__70e0f2a2-afe1-44d6-b62b-a8b13138024c__wakuorg_nwaku:latest.log
2025-02-08 04:05:05.354 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 36404
2025-02-08 04:05:05.355 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:05:06.356 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36404/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:06.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:05:06.360 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:05:06.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36404/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:06.362 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.106.241/tcp/36405/p2p/16Uiu2HAmDpExaKd7Mk1aLYG4X2uvmQpYDEVtbAnX8XC1Bq8feJwn","/ip4/172.18.106.241/tcp/36406/ws/p2p/16Uiu2HAmDpExaKd7Mk1aLYG4X2uvmQpYDEVtbAnX8XC1Bq8feJwn"],"enrUri":"enr:-L24QNczUbN6xc8KXTLfYpYfoyAAat4JQGt1GQ27pvZ-bEkTIovtx3IhYwI2n_PDVHUcQd2z3FK2B40I3AmTHa22vdwCgmlkgnY0gmlwhKwSavGKbXVsdGlhZGRyc5YACASsEmrxBo41AAoErBJq8QaONt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDETpuk-amTsWlSVnhSfc6eKHWPgUAGlPGaqu4TtxC3lWDdGNwgo41g3VkcIKON4V3YWt1MgM"}'
2025-02-08 04:05:06.362 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:05:06.362 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36404/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.122.103/tcp/48928/p2p/16Uiu2HAm1rN4uhweoPVHspJMzc26x881LckAsmscHsMnJPEGj8Ez"]'
2025-02-08 04:05:06.365 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:06.366 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48927/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:05:06.368 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:06.368 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36404/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:05:06.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:06.371 DEBUG [src.steps.store] Relaying message
2025-02-08 04:05:06.372 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48927/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:06.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:06.378 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:06.579 DEBUG [src.steps.store] Relaying message
2025-02-08 04:05:06.579 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48927/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:06.585 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:06.586 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:06.786 DEBUG [src.steps.store] Relaying message
2025-02-08 04:05:06.787 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48927/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:06.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:06.793 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:06.994 DEBUG [src.steps.store] Relaying message
2025-02-08 04:05:06.995 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48927/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:07.000 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:07.001 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:07.202 DEBUG [src.steps.store] Relaying message
2025-02-08 04:05:07.202 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48927/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:07.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:07.209 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:07.410 DEBUG [src.steps.store] Relaying message
2025-02-08 04:05:07.410 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48927/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:07.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:07.416 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:05:07.617 DEBUG [tests.store.test_time_filter] inquering stored messages with start time 1738987503371608064 after end time 2430187507617608192
2025-02-08 04:05:07.618 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48927/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738987503371608064&endTime=2430187507617608192&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:07.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0a978f594412fe10d061c6de627174958efaa6b6b5b241e36ead07815170ed21","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987503371608064,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x6dcb8ac47243546709c99813bf25170a76e253dee8cf90aa2bc74e891703482b","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987505371614976,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x4546354f5a8647f8a354bf1c8b93e12971c60dc6aaef3b3f68f29f6ce6ad41d8","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987506271617024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x93c1081b6bc4092861a4b3397e539d870eb6edea65aff89bdd21688c089fc8f8","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987506471620096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xf9bc6b28dde919e26064ebfd91877ab5bddcba6f74c5b0737f9d9aa802abfc1f","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987508371620864,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x9b620fde1e5eb51135b57e4eed785840578281b0d1a15cf60f37f80a4fb06fd4","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987516371622912,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
2025-02-08 04:05:07.632 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:05:07.633 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:05:07.633 DEBUG [src.node.waku_node] Stopping container with id 6fe130904067
2025-02-08 04:05:08.604 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:05:08.604 DEBUG [src.node.waku_node] Stopping container with id 73bb4ec88bd1
2025-02-08 04:05:09.416 ERROR [src.node.docker_mananger] Max retries reached for container 6fe130904067. Exiting log stream.
2025-02-08 04:05:10.120 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:05:10.122 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:05:10.130 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:05:10.136 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:05:10.138 DEBUG [tests.conftest] Running fixture teardown: attach_logs_on_fail
2025-02-08 04:05:10.139 DEBUG [tests.conftest] Test failed, attempting to attach logs to the allure reports
2025-02-08 04:05:10.141 DEBUG [src.libs.common] Attaching file ./log/docker/publishing_node1_2025-02-08_04-05-03__70e0f2a2-afe1-44d6-b62b-a8b13138024c__wakuorg_nwaku:latest.log
2025-02-08 04:05:10.143 DEBUG [src.libs.common] Attaching file ./log/docker/store_node1_2025-02-08_04-05-03__70e0f2a2-afe1-44d6-b62b-a8b13138024c__wakuorg_nwaku:latest.log
