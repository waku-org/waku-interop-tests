2025-02-08 04:03:15.159 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:03:15.160 DEBUG [tests.conftest] Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2025-02-08_04-03-15__f7e05c2d-7791-43c7-a2f2-b960c278fc5d
2025-02-08 04:03:15.160 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:03:15.160 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-08 04:03:15.166 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:03:15.166 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-08_04-03-15__f7e05c2d-7791-43c7-a2f2-b960c278fc5d__wakuorg_nwaku:latest.log
2025-02-08 04:03:15.167 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:03:15.167 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:03:15.168 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:03:15.168 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.26.35
2025-02-08 04:03:15.168 DEBUG [src.node.docker_mananger] Generated ports ['33382', '33383', '33384', '33385', '33386']
2025-02-08 04:03:15.169 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:03:15.169 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:03:15.169 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:03:15.169 DEBUG [src.node.docker_mananger] docker run -i -t -p 33382:33382 -p 33383:33383 -p 33384:33384 -p 33385:33385 -p 33386:33386 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33384 --rest-port=33382 --tcp-port=33383 --discv5-udp-port=33385 --rest-address=0.0.0.0 --nat=extip:172.18.26.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be40c264dd095434ec2fbfb6f0f9fa3daccb78d3eae5c14a54aa2c74ffc3348a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33386 --metrics-logging=true --lightpush=true --relay=true
2025-02-08 04:03:15.393 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.26.35 waku ba30a53b1243eef0ec6418b0ac4c0833261e22d3fee775f5daf4517e8d558c4c
2025-02-08 04:03:15.441 DEBUG [src.node.docker_mananger] Container started with ID ba30a53b1243. Setting up logs at ./log/docker/receiving_node1_2025-02-08_04-03-15__f7e05c2d-7791-43c7-a2f2-b960c278fc5d__wakuorg_nwaku:latest.log
2025-02-08 04:03:15.442 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 33382
2025-02-08 04:03:15.442 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:03:15.964 ERROR [src.node.docker_mananger] Max retries reached for container e7be585275e8. Exiting log stream.
2025-02-08 04:03:16.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33382/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:16.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:03:16.445 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:03:16.446 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33382/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:16.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.26.35/tcp/33383/p2p/16Uiu2HAmBWAnxZ2y6G3sMbcYgpPZ8opFz46DB1EDcuECq8koy3p1","/ip4/172.18.26.35/tcp/33384/ws/p2p/16Uiu2HAmBWAnxZ2y6G3sMbcYgpPZ8opFz46DB1EDcuECq8koy3p1"],"enrUri":"enr:-L24QHje55fOCHtOHzXpBhTqpepFAPP4zMKRm-Nso5hMXKGZFZSMk9yEQ1D81kIi46-ESs6Kjh8_c1BOncuUCjqSBs8CgmlkgnY0gmlwhKwSGiOKbXVsdGlhZGRyc5YACASsEhojBoJnAAoErBIaIwaCaN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7uHkqzJRBQYV7OwdVbzwtWLH2ThWTuIsvuBdBtgKwS6DdGNwgoJng3VkcIKCaYV3YWt1Mgk"}'
2025-02-08 04:03:16.448 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:03:16.454 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:03:16.454 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-08_04-03-15__f7e05c2d-7791-43c7-a2f2-b960c278fc5d__wakuorg_nwaku:latest.log
2025-02-08 04:03:16.455 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:03:16.455 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:03:16.456 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:03:16.456 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.66.100
2025-02-08 04:03:16.456 DEBUG [src.node.docker_mananger] Generated ports ['23870', '23871', '23872', '23873', '23874']
2025-02-08 04:03:16.456 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:03:16.457 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:03:16.457 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:03:16.457 DEBUG [src.node.docker_mananger] docker run -i -t -p 23870:23870 -p 23871:23871 -p 23872:23872 -p 23873:23873 -p 23874:23874 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23872 --rest-port=23870 --tcp-port=23871 --discv5-udp-port=23873 --rest-address=0.0.0.0 --nat=extip:172.18.66.100 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4d18601cb39bcb51be3c4e7ed1d1f2ed0ccb9e38cf0c8dbc4ac5b0ba215ee073 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23874 --metrics-logging=true --lightpush=false --relay=true
2025-02-08 04:03:16.684 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.66.100 waku 19517a302169427ad98544cb5293e8bc54363590972c5170b13383917f86e95c
2025-02-08 04:03:16.731 DEBUG [src.node.docker_mananger] Container started with ID 19517a302169. Setting up logs at ./log/docker/receiving_node2_2025-02-08_04-03-15__f7e05c2d-7791-43c7-a2f2-b960c278fc5d__wakuorg_nwaku:latest.log
2025-02-08 04:03:16.731 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 23870
2025-02-08 04:03:16.731 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:03:17.732 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23870/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.734 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:03:17.735 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:03:17.735 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23870/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:17.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.66.100/tcp/23871/p2p/16Uiu2HAkzLXGJXZKacVbK8KsNNvhxo4wsP15jkBk6ELfJR5Z89rd","/ip4/172.18.66.100/tcp/23872/ws/p2p/16Uiu2HAkzLXGJXZKacVbK8KsNNvhxo4wsP15jkBk6ELfJR5Z89rd"],"enrUri":"enr:-L24QIMoIeyfIhRs35CMUh2Vn5qTZw4kj-H98WhDktX8KqQZa50Akb8zYEw4RrKY5zZ7-CS9QuqixZ-ZY_KId6H57scCgmlkgnY0gmlwhKwSQmSKbXVsdGlhZGRyc5YACASsEkJkBl0_AAoErBJCZAZdQN0DgnJzhQADAQAAiXNlY3AyNTZrMaECSPitFTBEN4XiX9DlW_foQaBWXvw7g2Ty52aAF9uobHaDdGNwgl0_g3VkcIJdQYV3YWt1MgE"}'
2025-02-08 04:03:17.737 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:03:17.737 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23870/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.26.35/tcp/33383/p2p/16Uiu2HAmBWAnxZ2y6G3sMbcYgpPZ8opFz46DB1EDcuECq8koy3p1"]'
2025-02-08 04:03:17.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:17.784 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:03:17.784 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-08_04-03-15__f7e05c2d-7791-43c7-a2f2-b960c278fc5d__wakuorg_nwaku:latest.log
2025-02-08 04:03:17.785 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:03:17.785 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:03:17.786 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:03:17.786 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.189.69
2025-02-08 04:03:17.786 DEBUG [src.node.docker_mananger] Generated ports ['8019', '8020', '8021', '8022', '8023']
2025-02-08 04:03:17.787 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:03:17.787 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:03:17.787 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:03:17.787 DEBUG [src.node.docker_mananger] docker run -i -t -p 8019:8019 -p 8020:8020 -p 8021:8021 -p 8022:8022 -p 8023:8023 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8021 --rest-port=8019 --tcp-port=8020 --discv5-udp-port=8022 --rest-address=0.0.0.0 --nat=extip:172.18.189.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=23c6e47f5a68cdbaad71d2241edb6bc6c27cbee70ead19e483fd440f5c3ae7b8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8023 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QHje55fOCHtOHzXpBhTqpepFAPP4zMKRm-Nso5hMXKGZFZSMk9yEQ1D81kIi46-ESs6Kjh8_c1BOncuUCjqSBs8CgmlkgnY0gmlwhKwSGiOKbXVsdGlhZGRyc5YACASsEhojBoJnAAoErBIaIwaCaN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7uHkqzJRBQYV7OwdVbzwtWLH2ThWTuIsvuBdBtgKwS6DdGNwgoJng3VkcIKCaYV3YWt1Mgk --lightpushnode=/ip4/172.18.26.35/tcp/33383/p2p/16Uiu2HAmBWAnxZ2y6G3sMbcYgpPZ8opFz46DB1EDcuECq8koy3p1 --lightpush=true --relay=false
2025-02-08 04:03:18.008 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.189.69 waku 9b92723d6b62c1def92a76097e85b56077698a6a256c3ddce9eddaf6ceb468a6
2025-02-08 04:03:18.054 DEBUG [src.node.docker_mananger] Container started with ID 9b92723d6b62. Setting up logs at ./log/docker/lightpush_node1_2025-02-08_04-03-15__f7e05c2d-7791-43c7-a2f2-b960c278fc5d__wakuorg_nwaku:latest.log
2025-02-08 04:03:18.054 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8019
2025-02-08 04:03:18.054 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:03:19.055 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8019/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:03:19.058 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:03:19.058 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8019/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.189.69/tcp/8020/p2p/16Uiu2HAm8poR5FMrgF3z52c9eyH7CXEWnFkW3SfGtY6jKufhWjov","/ip4/172.18.189.69/tcp/8021/ws/p2p/16Uiu2HAm8poR5FMrgF3z52c9eyH7CXEWnFkW3SfGtY6jKufhWjov"],"enrUri":"enr:-L24QKcDVei3ZX-qwUpQ1ZdkKGH92tr7o0AIlfrHY001dlAdQBXUsnb_FcXe9nMXA892umWdqFJTGffIDCAz2YQYpGMCgmlkgnY0gmlwhKwSvUWKbXVsdGlhZGRyc5YACASsEr1FBh9UAAoErBK9RQYfVd0DgnJzhQADAQAAiXNlY3AyNTZrMaECxxSySG8RoznRoqYXJGRlktetBr2gwkKjzp8oM7an21GDdGNwgh9Ug3VkcIIfVoV3YWt1Mgg"}'
2025-02-08 04:03:19.061 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:03:19.061 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8019/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.26.35/tcp/33383/p2p/16Uiu2HAmBWAnxZ2y6G3sMbcYgpPZ8opFz46DB1EDcuECq8koy3p1"]'
2025-02-08 04:03:19.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.097 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8019/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.66.100/tcp/23871/p2p/16Uiu2HAkzLXGJXZKacVbK8KsNNvhxo4wsP15jkBk6ELfJR5Z89rd"]'
2025-02-08 04:03:19.127 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.128 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33382/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:03:19.137 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.139 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:03:19.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.147 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33382/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-08 04:03:19.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.156 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-08 04:03:19.169 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.171 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8019/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738987399171807744}}'
2025-02-08 04:03:19.185 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:03:19.186 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:03:19.287 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33382/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:03:19.290 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-08 04:03:19.291 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:03:19.292 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:03:19.293 DEBUG [src.node.waku_node] Stopping container with id ba30a53b1243
2025-02-08 04:03:19.928 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:03:19.929 DEBUG [src.node.waku_node] Stopping container with id 19517a302169
2025-02-08 04:03:20.741 ERROR [src.node.docker_mananger] Max retries reached for container ba30a53b1243. Exiting log stream.
2025-02-08 04:03:21.416 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:03:21.416 DEBUG [src.node.waku_node] Stopping container with id 9b92723d6b62
2025-02-08 04:03:22.229 ERROR [src.node.docker_mananger] Max retries reached for container 19517a302169. Exiting log stream.
2025-02-08 04:03:22.916 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:03:22.918 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:03:22.927 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:03:22.934 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:03:22.939 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
