2025-02-08 04:05:48.357 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:05:48.358 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2025-02-08_04-05-48__a00df4fb-b3a0-4265-b736-4c0c9cff6f50
2025-02-08 04:05:48.358 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:05:48.358 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-08 04:05:48.358 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-08 04:05:48.365 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:05:48.365 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-08_04-05-48__a00df4fb-b3a0-4265-b736-4c0c9cff6f50__wakuorg_nwaku:latest.log
2025-02-08 04:05:48.365 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:05:48.366 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:05:48.367 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:05:48.367 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.157.63
2025-02-08 04:05:48.367 DEBUG [src.node.docker_mananger] Generated ports ['32425', '32426', '32427', '32428', '32429']
2025-02-08 04:05:48.367 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:05:48.367 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:05:48.368 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:05:48.368 DEBUG [src.node.docker_mananger] docker run -i -t -p 32425:32425 -p 32426:32426 -p 32427:32427 -p 32428:32428 -p 32429:32429 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32427 --rest-port=32425 --tcp-port=32426 --discv5-udp-port=32428 --rest-address=0.0.0.0 --nat=extip:172.18.157.63 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=fe147d550d9d9def3eb59b2bef9bef6c2137dd5973faa7bc851cdceb8e8f19db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32429 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-08 04:05:48.590 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.157.63 waku 950142e04be3565302ab7d99f0aa9fcee683d07065346ce40bc8a957194b679e
2025-02-08 04:05:48.646 DEBUG [src.node.docker_mananger] Container started with ID 950142e04be3. Setting up logs at ./log/docker/node1_2025-02-08_04-05-48__a00df4fb-b3a0-4265-b736-4c0c9cff6f50__wakuorg_nwaku:latest.log
2025-02-08 04:05:48.646 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 32425
2025-02-08 04:05:48.646 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:05:49.156 ERROR [src.node.docker_mananger] Max retries reached for container e65d178bb682. Exiting log stream.
2025-02-08 04:05:49.647 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:49.650 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:05:49.650 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:05:49.650 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:49.652 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.157.63/tcp/32426/p2p/16Uiu2HAmHjBdKDb5TWwemABmCeQvRgrHkUPRrhfLQd4nCtTdATMj","/ip4/172.18.157.63/tcp/32427/ws/p2p/16Uiu2HAmHjBdKDb5TWwemABmCeQvRgrHkUPRrhfLQd4nCtTdATMj"],"enrUri":"enr:-L24QFH7V5kmw_u35eBqLCidzxxhjMRMrfFE-FUrSfstlTr6WxIyd9jpdk4GtPFDvS_Q_cfsyFRfyAYcg8ikJHomQPYCgmlkgnY0gmlwhKwSnT-KbXVsdGlhZGRyc5YACASsEp0_Bn6qAAoErBKdPwZ-q90DgnJzhQACAQAAiXNlY3AyNTZrMaEDS12CDTITaDH0ydo_81-ZQoyR5cE-pX4XPA6yoRNws4KDdGNwgn6qg3VkcIJ-rIV3YWt1MgU"}'
2025-02-08 04:05:49.652 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:05:49.659 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:05:49.659 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-08_04-05-48__a00df4fb-b3a0-4265-b736-4c0c9cff6f50__wakuorg_nwaku:latest.log
2025-02-08 04:05:49.659 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:05:49.660 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:05:49.661 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:05:49.661 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.194.82
2025-02-08 04:05:49.661 DEBUG [src.node.docker_mananger] Generated ports ['58628', '58629', '58630', '58631', '58632']
2025-02-08 04:05:49.661 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:05:49.661 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:05:49.662 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:05:49.662 DEBUG [src.node.docker_mananger] docker run -i -t -p 58628:58628 -p 58629:58629 -p 58630:58630 -p 58631:58631 -p 58632:58632 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58630 --rest-port=58628 --tcp-port=58629 --discv5-udp-port=58631 --rest-address=0.0.0.0 --nat=extip:172.18.194.82 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=7bf5c2240db112fcab51c89d3dbb4c4f6c6615f8fcad783c4e5abb7623524bdb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58632 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFH7V5kmw_u35eBqLCidzxxhjMRMrfFE-FUrSfstlTr6WxIyd9jpdk4GtPFDvS_Q_cfsyFRfyAYcg8ikJHomQPYCgmlkgnY0gmlwhKwSnT-KbXVsdGlhZGRyc5YACASsEp0_Bn6qAAoErBKdPwZ-q90DgnJzhQACAQAAiXNlY3AyNTZrMaEDS12CDTITaDH0ydo_81-ZQoyR5cE-pX4XPA6yoRNws4KDdGNwgn6qg3VkcIJ-rIV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-08 04:05:49.892 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.194.82 waku 5ad64190cc4ded2419282b5d1201b0879653d06cb9f4f8a52ce0eb9c91b4b4f0
2025-02-08 04:05:49.942 DEBUG [src.node.docker_mananger] Container started with ID 5ad64190cc4d. Setting up logs at ./log/docker/node2_2025-02-08_04-05-48__a00df4fb-b3a0-4265-b736-4c0c9cff6f50__wakuorg_nwaku:latest.log
2025-02-08 04:05:49.942 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58628
2025-02-08 04:05:49.943 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:05:50.943 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:50.953 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:05:50.954 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:05:50.954 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:50.957 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.194.82/tcp/58629/p2p/16Uiu2HAm57cjP53BAPm6HZpA6aA4j9krRSy8TD3QaWksKse7hELp","/ip4/172.18.194.82/tcp/58630/ws/p2p/16Uiu2HAm57cjP53BAPm6HZpA6aA4j9krRSy8TD3QaWksKse7hELp"],"enrUri":"enr:-L24QN111cTrqeYsbIMRKAfl5mlY6hbeyeTKVZRuSZ4es6oyYtpJZ2upoSc7iu6zZcmCSCSPh30usadrQcldM9yNPJQCgmlkgnY0gmlwhKwSwlKKbXVsdGlhZGRyc5YACASsEsJSBuUFAAoErBLCUgblBt0DgnJzhQACAQAAiXNlY3AyNTZrMaECj_S92yfj3s0wWeokY_SX6gt6N2imXrz0HkCizS-MZZGDdGNwguUFg3VkcILlB4V3YWt1MgE"}'
2025-02-08 04:05:50.957 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:05:50.958 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58628/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.157.63/tcp/32426/p2p/16Uiu2HAmHjBdKDb5TWwemABmCeQvRgrHkUPRrhfLQd4nCtTdATMj"]'
2025-02-08 04:05:50.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:50.961 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-08 04:05:50.972 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:50.972 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58628/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-08 04:05:50.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:50.992 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:51.002 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:51.003 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:51.104 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.104 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987550991810304,"ephemeral":false}]'
2025-02-08 04:05:51.109 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987550991810304,"ephemeral":false}]'
2025-02-08 04:05:51.113 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:51.118 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:51.119 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:51.219 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.220 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738987551113312256,"ephemeral":false}]'
2025-02-08 04:05:51.224 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.224 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738987551113312256,"ephemeral":false}]'
2025-02-08 04:05:51.228 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:51.234 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:51.235 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:51.335 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.335 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738987551228769792,"ephemeral":false}]'
2025-02-08 04:05:51.340 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.340 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.342 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738987551228769792,"ephemeral":false}]'
2025-02-08 04:05:51.344 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:51.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:51.350 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:51.451 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.451 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738987551344388096,"ephemeral":false}]'
2025-02-08 04:05:51.455 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.455 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.457 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738987551344388096,"ephemeral":false}]'
2025-02-08 04:05:51.459 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:51.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:51.465 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:51.565 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.565 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738987551459128320,"ephemeral":false}]'
2025-02-08 04:05:51.569 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738987551459128320,"ephemeral":false}]'
2025-02-08 04:05:51.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:51.579 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:51.579 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:51.680 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.680 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738987551574076672,"ephemeral":false}]'
2025-02-08 04:05:51.684 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.684 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738987551574076672,"ephemeral":false}]'
2025-02-08 04:05:51.688 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:51.693 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:51.693 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:51.794 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.794 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.797 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738987551688403456,"ephemeral":false}]'
2025-02-08 04:05:51.798 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.799 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.801 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738987551688403456,"ephemeral":false}]'
2025-02-08 04:05:51.803 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:51.807 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:51.808 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:51.909 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.909 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.912 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738987551802957312,"ephemeral":false}]'
2025-02-08 04:05:51.914 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:51.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:51.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738987551802957312,"ephemeral":false}]'
2025-02-08 04:05:51.918 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:32425/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-08 04:05:51.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:51.927 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:58628/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-08 04:05:51.934 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:51.935 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:51.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:51.939 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:52.039 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.039 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.041 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:32425/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-08 04:05:52.043 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:52.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:52.046 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:52.146 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.147 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.150 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:32425/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-08 04:05:52.151 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:52.154 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:52.154 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:52.255 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.255 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.258 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:32425/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-08 04:05:52.259 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:52.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:52.264 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:52.365 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738987552259832832,"ephemeral":false}]'
2025-02-08 04:05:52.369 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.369 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.372 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738987552259832832,"ephemeral":false}]'
2025-02-08 04:05:52.374 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:52.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:52.379 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:52.479 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.480 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738987552374164224,"ephemeral":false}]'
2025-02-08 04:05:52.484 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.484 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738987552374164224,"ephemeral":false}]'
2025-02-08 04:05:52.488 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:52.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:52.493 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:52.593 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.597 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738987552487955712,"ephemeral":false}]'
2025-02-08 04:05:52.598 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.598 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.601 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738987552487955712,"ephemeral":false}]'
2025-02-08 04:05:52.603 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:52.608 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:52.608 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:52.709 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.709 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738987552603735808,"ephemeral":false}]'
2025-02-08 04:05:52.713 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.714 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.716 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738987552603735808,"ephemeral":false}]'
2025-02-08 04:05:52.717 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32425/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:52.722 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:52.722 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:52.823 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.823 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32425/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738987552717829376,"ephemeral":false}]'
2025-02-08 04:05:52.827 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:52.827 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58628/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:52.829 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738987552717829376,"ephemeral":false}]'
2025-02-08 04:05:52.832 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:05:52.833 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:05:52.833 DEBUG [src.node.waku_node] Stopping container with id 950142e04be3
2025-02-08 04:05:54.141 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:05:54.142 DEBUG [src.node.waku_node] Stopping container with id 5ad64190cc4d
2025-02-08 04:05:54.953 ERROR [src.node.docker_mananger] Max retries reached for container 950142e04be3. Exiting log stream.
2025-02-08 04:05:55.624 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:05:55.626 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:05:55.637 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:05:55.648 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
