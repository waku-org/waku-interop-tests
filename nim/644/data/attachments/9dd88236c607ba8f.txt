2025-02-08 04:04:44.481 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:04:44.482 DEBUG [tests.conftest] Running test: test_invalid_hash_param with id: 2025-02-08_04-04-44__0f1add32-5dce-43f1-84e3-9b355a0873eb
2025-02-08 04:04:44.482 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:04:44.482 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-08 04:04:44.483 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-08 04:04:44.489 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:04:44.489 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-08_04-04-44__0f1add32-5dce-43f1-84e3-9b355a0873eb__wakuorg_nwaku:latest.log
2025-02-08 04:04:44.489 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:04:44.489 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:04:44.490 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:04:44.491 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.146.162
2025-02-08 04:04:44.491 DEBUG [src.node.docker_mananger] Generated ports ['57009', '57010', '57011', '57012', '57013']
2025-02-08 04:04:44.491 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:04:44.491 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:04:44.491 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:04:44.491 DEBUG [src.node.docker_mananger] docker run -i -t -p 57009:57009 -p 57010:57010 -p 57011:57011 -p 57012:57012 -p 57013:57013 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57011 --rest-port=57009 --tcp-port=57010 --discv5-udp-port=57012 --rest-address=0.0.0.0 --nat=extip:172.18.146.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b09757ced9d4da5ef3ec6bc6aa757fe322b64b0952bdc0b4f2446be1b501b0fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57013 --metrics-logging=true --store=true --relay=true
2025-02-08 04:04:44.713 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.146.162 waku 3533a0e3a0f9c4b408ac75de0e9aa21bc1688d4234dfed7baffaaf42fbffefe5
2025-02-08 04:04:44.762 DEBUG [src.node.docker_mananger] Container started with ID 3533a0e3a0f9. Setting up logs at ./log/docker/publishing_node1_2025-02-08_04-04-44__0f1add32-5dce-43f1-84e3-9b355a0873eb__wakuorg_nwaku:latest.log
2025-02-08 04:04:44.764 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57009
2025-02-08 04:04:44.764 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:04:45.281 ERROR [src.node.docker_mananger] Max retries reached for container 3d71817fa02e. Exiting log stream.
2025-02-08 04:04:45.765 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57009/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:45.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:04:45.767 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:04:45.768 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57009/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:45.770 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.162/tcp/57010/p2p/16Uiu2HAmPJiJcqQz35qCsTvs5qw7dh159qnjuwyudwT62X6YVjhK","/ip4/172.18.146.162/tcp/57011/ws/p2p/16Uiu2HAmPJiJcqQz35qCsTvs5qw7dh159qnjuwyudwT62X6YVjhK"],"enrUri":"enr:-L24QL0TBKUlcIODgBoM_8r-E2s7VLbUAItI_IQuHH-xrKvOb2INyvBFAaFDoAYEO8nkQ7nC7hkafk1rIwZkE0_nmdACgmlkgnY0gmlwhKwSkqKKbXVsdGlhZGRyc5YACASsEpKiBt6yAAoErBKSogbes90DgnJzhQADAQAAiXNlY3AyNTZrMaEDnj7L8u4LxrFAZM2G0_niMf14g0T-rcuTFxvaeQBNNXqDdGNwgt6yg3VkcILetIV3YWt1MgM"}'
2025-02-08 04:04:45.770 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:04:45.776 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:04:45.777 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-08_04-04-44__0f1add32-5dce-43f1-84e3-9b355a0873eb__wakuorg_nwaku:latest.log
2025-02-08 04:04:45.777 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:04:45.777 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:04:45.778 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:04:45.778 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.141.24
2025-02-08 04:04:45.778 DEBUG [src.node.docker_mananger] Generated ports ['15304', '15305', '15306', '15307', '15308']
2025-02-08 04:04:45.779 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:04:45.779 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:04:45.779 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:04:45.779 DEBUG [src.node.docker_mananger] docker run -i -t -p 15304:15304 -p 15305:15305 -p 15306:15306 -p 15307:15307 -p 15308:15308 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15306 --rest-port=15304 --tcp-port=15305 --discv5-udp-port=15307 --rest-address=0.0.0.0 --nat=extip:172.18.141.24 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aee801e05cced62ebe0b41944e29ade4ab08deb0fc176688ca91b30ad2672bfc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15308 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QL0TBKUlcIODgBoM_8r-E2s7VLbUAItI_IQuHH-xrKvOb2INyvBFAaFDoAYEO8nkQ7nC7hkafk1rIwZkE0_nmdACgmlkgnY0gmlwhKwSkqKKbXVsdGlhZGRyc5YACASsEpKiBt6yAAoErBKSogbes90DgnJzhQADAQAAiXNlY3AyNTZrMaEDnj7L8u4LxrFAZM2G0_niMf14g0T-rcuTFxvaeQBNNXqDdGNwgt6yg3VkcILetIV3YWt1MgM --storenode=/ip4/172.18.146.162/tcp/57010/p2p/16Uiu2HAmPJiJcqQz35qCsTvs5qw7dh159qnjuwyudwT62X6YVjhK --store=true --relay=true
2025-02-08 04:04:45.996 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.141.24 waku 531ee922e8628bdb5a7b60a7677bbbbc70dfac2c1d5e636bd83327458c804c79
2025-02-08 04:04:46.044 DEBUG [src.node.docker_mananger] Container started with ID 531ee922e862. Setting up logs at ./log/docker/store_node1_2025-02-08_04-04-44__0f1add32-5dce-43f1-84e3-9b355a0873eb__wakuorg_nwaku:latest.log
2025-02-08 04:04:46.044 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15304
2025-02-08 04:04:46.045 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:04:47.046 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15304/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:47.048 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:04:47.048 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:04:47.049 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15304/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:47.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.24/tcp/15305/p2p/16Uiu2HAmJf8eAQbSYbwqjr2U2fAChMjAvhMiDnreGqYwTmgmoa7S","/ip4/172.18.141.24/tcp/15306/ws/p2p/16Uiu2HAmJf8eAQbSYbwqjr2U2fAChMjAvhMiDnreGqYwTmgmoa7S"],"enrUri":"enr:-L24QLpy69vbFBkeoh0DzAvCDvu2mzqaQUpGpMOGVIoNzoFPHdTa1esP6Px_yObiF6Z6H6TaIU4wH9A_v5kVE7HOLzYCgmlkgnY0gmlwhKwSjRiKbXVsdGlhZGRyc5YACASsEo0YBjvJAAoErBKNGAY7yt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWS9_Aiim7FNvwj9b2HKT2T_6A-pKx6yuVO8YqNeZeGmDdGNwgjvJg3VkcII7y4V3YWt1MgM"}'
2025-02-08 04:04:47.051 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:04:47.051 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15304/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.162/tcp/57010/p2p/16Uiu2HAmPJiJcqQz35qCsTvs5qw7dh159qnjuwyudwT62X6YVjhK"]'
2025-02-08 04:04:47.054 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:47.054 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57009/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:04:47.056 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:47.056 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15304/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:04:47.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:47.060 DEBUG [src.steps.store] Relaying message
2025-02-08 04:04:47.060 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:47.065 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:47.066 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:04:47.267 DEBUG [src.steps.store] Relaying message
2025-02-08 04:04:47.267 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:47.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:47.272 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:04:47.473 DEBUG [src.steps.store] Relaying message
2025-02-08 04:04:47.473 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:47.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:47.479 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:04:47.680 DEBUG [src.steps.store] Relaying message
2025-02-08 04:04:47.680 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:47.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:47.686 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:04:47.887 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57009/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=0x1224987bec171d7c96c0728dec3c669588305fa65cad35dc914955912ae423a6&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:47.890 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1224987bec171d7c96c0728dec3c669588305fa65cad35dc914955912ae423a6"}]}'
2025-02-08 04:04:47.890 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57009/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&ascending=true&hash=0x1224987bec171d7c96c0728dec3c669588305fa65cad35dc914955912ae423a6" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:47.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa0060fcb7a09dda7c78993c48013907e6c1fea87040cc7ec08ae03066ef45bc6"},{"messageHash":"0x80faa91fea99c7b65a2886d92157ed397e28de3263b9189dd9b9adcc7c6e13e8"},{"messageHash":"0x1224987bec171d7c96c0728dec3c669588305fa65cad35dc914955912ae423a6"},{"messageHash":"0x8423ced42b4826f96b63fceed1381bb69ffac088443611a4a9853a2573bb6102"}]}'
2025-02-08 04:04:47.893 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15304/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=0x1224987bec171d7c96c0728dec3c669588305fa65cad35dc914955912ae423a6&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:47.895 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1224987bec171d7c96c0728dec3c669588305fa65cad35dc914955912ae423a6"}]}'
2025-02-08 04:04:47.896 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15304/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&ascending=true&hash=0x1224987bec171d7c96c0728dec3c669588305fa65cad35dc914955912ae423a6" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:47.898 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa0060fcb7a09dda7c78993c48013907e6c1fea87040cc7ec08ae03066ef45bc6"},{"messageHash":"0x80faa91fea99c7b65a2886d92157ed397e28de3263b9189dd9b9adcc7c6e13e8"},{"messageHash":"0x1224987bec171d7c96c0728dec3c669588305fa65cad35dc914955912ae423a6"},{"messageHash":"0x8423ced42b4826f96b63fceed1381bb69ffac088443611a4a9853a2573bb6102"}]}'
2025-02-08 04:04:47.900 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:04:47.901 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:04:47.901 DEBUG [src.node.waku_node] Stopping container with id 3533a0e3a0f9
2025-02-08 04:04:48.575 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:04:48.576 DEBUG [src.node.waku_node] Stopping container with id 531ee922e862
2025-02-08 04:04:49.403 ERROR [src.node.docker_mananger] Max retries reached for container 3533a0e3a0f9. Exiting log stream.
2025-02-08 04:04:50.060 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:04:50.061 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:04:50.072 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:04:50.078 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
