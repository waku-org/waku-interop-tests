2025-02-08 04:02:38.528 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:02:38.528 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2025-02-08_04-02-38__f5bd5152-166b-42c3-b37d-e9390af6dcd8
2025-02-08 04:02:38.528 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:02:38.529 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-08 04:02:38.529 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-08 04:02:38.537 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:02:38.537 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-08_04-02-38__f5bd5152-166b-42c3-b37d-e9390af6dcd8__wakuorg_nwaku:latest.log
2025-02-08 04:02:38.537 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:02:38.537 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:02:38.539 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:02:38.539 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.130.59
2025-02-08 04:02:38.539 DEBUG [src.node.docker_mananger] Generated ports ['22064', '22065', '22066', '22067', '22068']
2025-02-08 04:02:38.539 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:02:38.539 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:02:38.539 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:02:38.539 DEBUG [src.node.docker_mananger] docker run -i -t -p 22064:22064 -p 22065:22065 -p 22066:22066 -p 22067:22067 -p 22068:22068 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22066 --rest-port=22064 --tcp-port=22065 --discv5-udp-port=22067 --rest-address=0.0.0.0 --nat=extip:172.18.130.59 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=becce5f76fabeb8cfce6c197a3b5908ee4a83abc56b4687ed707431f4d772b9a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22068 --metrics-logging=true --relay=true --filter=true
2025-02-08 04:02:38.765 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.130.59 waku e97e70bdbafbd56b2e62f297a87f83a4e312ddd6d57b9f67c85cdb76c9ffe100
2025-02-08 04:02:38.824 DEBUG [src.node.docker_mananger] Container started with ID e97e70bdbafb. Setting up logs at ./log/docker/node1_2025-02-08_04-02-38__f5bd5152-166b-42c3-b37d-e9390af6dcd8__wakuorg_nwaku:latest.log
2025-02-08 04:02:38.825 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 22064
2025-02-08 04:02:38.825 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:02:39.325 ERROR [src.node.docker_mananger] Max retries reached for container 303ed66cdb5e. Exiting log stream.
2025-02-08 04:02:39.826 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22064/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:02:39.829 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:02:39.829 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:02:39.829 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22064/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:02:39.831 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.130.59/tcp/22065/p2p/16Uiu2HAkw2CQuYohmf1KjYvdmoMAiE2CEbmfjpXavFmyJFc869vj","/ip4/172.18.130.59/tcp/22066/ws/p2p/16Uiu2HAkw2CQuYohmf1KjYvdmoMAiE2CEbmfjpXavFmyJFc869vj"],"enrUri":"enr:-L24QDE7ttkedMfnKbzdd4OlTMViIRu9NE2g6qqVhZN9ptinbzU9VAcuuv130wliusqKXbDs2qktyJFRkKIGJ7RXV-4CgmlkgnY0gmlwhKwSgjuKbXVsdGlhZGRyc5YACASsEoI7BlYxAAoErBKCOwZWMt0DgnJzhQADAQAAiXNlY3AyNTZrMaECF7PYWg7EbcxfovmLh0dFEs_1TU2S9tNWfi_81hdy0mSDdGNwglYxg3VkcIJWM4V3YWt1MgU"}'
2025-02-08 04:02:39.832 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:02:39.832 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-08 04:02:39.838 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:02:39.838 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-08_04-02-38__f5bd5152-166b-42c3-b37d-e9390af6dcd8__wakuorg_nwaku:latest.log
2025-02-08 04:02:39.838 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:02:39.838 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:02:39.840 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:02:39.840 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.20.51
2025-02-08 04:02:39.840 DEBUG [src.node.docker_mananger] Generated ports ['24757', '24758', '24759', '24760', '24761']
2025-02-08 04:02:39.840 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:02:39.840 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:02:39.841 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:02:39.841 DEBUG [src.node.docker_mananger] docker run -i -t -p 24757:24757 -p 24758:24758 -p 24759:24759 -p 24760:24760 -p 24761:24761 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24759 --rest-port=24757 --tcp-port=24758 --discv5-udp-port=24760 --rest-address=0.0.0.0 --nat=extip:172.18.20.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b3cfaf5a8bfd6a2524bbca9dcdefc5eeea925d2b58e656b6ef5a5720242dc78e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24761 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QDE7ttkedMfnKbzdd4OlTMViIRu9NE2g6qqVhZN9ptinbzU9VAcuuv130wliusqKXbDs2qktyJFRkKIGJ7RXV-4CgmlkgnY0gmlwhKwSgjuKbXVsdGlhZGRyc5YACASsEoI7BlYxAAoErBKCOwZWMt0DgnJzhQADAQAAiXNlY3AyNTZrMaECF7PYWg7EbcxfovmLh0dFEs_1TU2S9tNWfi_81hdy0mSDdGNwglYxg3VkcIJWM4V3YWt1MgU --filternode=/ip4/172.18.130.59/tcp/22065/p2p/16Uiu2HAkw2CQuYohmf1KjYvdmoMAiE2CEbmfjpXavFmyJFc869vj
2025-02-08 04:02:40.066 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.20.51 waku 4c04398560c6dd36a6a2e9b9ea7e4c55e9c8e98aa7a65658af7fe0f58fb4bab8
2025-02-08 04:02:40.114 DEBUG [src.node.docker_mananger] Container started with ID 4c04398560c6. Setting up logs at ./log/docker/node2_2025-02-08_04-02-38__f5bd5152-166b-42c3-b37d-e9390af6dcd8__wakuorg_nwaku:latest.log
2025-02-08 04:02:40.115 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 24757
2025-02-08 04:02:40.115 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:02:41.116 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24757/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:02:41.119 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:02:41.119 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:02:41.119 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24757/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:02:41.122 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.51/tcp/24758/p2p/16Uiu2HAmB1QjQaBKpLFFm4hN9uSok91ZjgfR4Xqt6LdL3z22rrh6","/ip4/172.18.20.51/tcp/24759/ws/p2p/16Uiu2HAmB1QjQaBKpLFFm4hN9uSok91ZjgfR4Xqt6LdL3z22rrh6"],"enrUri":"enr:-L24QPJwW_h5s4v7kbIFKhBSEpMNXD-X62sUx0ZstNR__QFHJ4g2r2D7555uh7coyHQPsf9LfXZqbosXae5rHvI_EQsCgmlkgnY0gmlwhKwSFDOKbXVsdGlhZGRyc5YACASsEhQzBmC2AAoErBIUMwZgt90DgnJzhQADAQAAiXNlY3AyNTZrMaEC54PPdcPZ78WPx5SBRZeamSWJbvyUwsyHeSS_m5Z5aZGDdGNwgmC2g3VkcIJguIV3YWt1MgA"}'
2025-02-08 04:02:41.122 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:02:41.122 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24757/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.130.59/tcp/22065/p2p/16Uiu2HAkw2CQuYohmf1KjYvdmoMAiE2CEbmfjpXavFmyJFc869vj"]'
2025-02-08 04:02:41.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:02:41.161 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-08 04:02:41.161 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22064/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-08 04:02:41.179 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:02:41.180 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24757/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a0c72a87-63fe-4822-9dd1-f82f10d45175", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-08 04:02:41.191 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"a0c72a87-63fe-4822-9dd1-f82f10d45175","statusDesc":"OK"}'
2025-02-08 04:02:41.193 INFO [src.node.api_clients.base_client] curl -v -X PUT "http://127.0.0.1:24757/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
2025-02-08 04:02:41.201 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2025-02-08 04:02:41.202 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:02:41.203 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:02:41.203 DEBUG [src.node.waku_node] Stopping container with id e97e70bdbafb
2025-02-08 04:02:42.274 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:02:42.275 DEBUG [src.node.waku_node] Stopping container with id 4c04398560c6
2025-02-08 04:02:43.088 ERROR [src.node.docker_mananger] Max retries reached for container e97e70bdbafb. Exiting log stream.
2025-02-08 04:02:43.764 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:02:43.765 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:02:43.771 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:02:43.774 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
