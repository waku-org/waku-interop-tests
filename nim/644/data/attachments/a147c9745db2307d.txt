2025-02-08 04:05:52.731 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:05:52.731 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics with id: 2025-02-08_04-05-52__be1c125c-d581-4c64-a669-79b542e8ba0e
2025-02-08 04:05:52.731 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:05:52.731 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-08 04:05:52.732 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-08 04:05:52.738 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:05:52.738 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-08_04-05-52__be1c125c-d581-4c64-a669-79b542e8ba0e__wakuorg_nwaku:latest.log
2025-02-08 04:05:52.738 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:05:52.739 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:05:52.740 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:05:52.740 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.44.142
2025-02-08 04:05:52.740 DEBUG [src.node.docker_mananger] Generated ports ['58972', '58973', '58974', '58975', '58976']
2025-02-08 04:05:52.740 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:05:52.740 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:05:52.741 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:05:52.741 DEBUG [src.node.docker_mananger] docker run -i -t -p 58972:58972 -p 58973:58973 -p 58974:58974 -p 58975:58975 -p 58976:58976 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58974 --rest-port=58972 --tcp-port=58973 --discv5-udp-port=58975 --rest-address=0.0.0.0 --nat=extip:172.18.44.142 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=7ccfeaeadf9c4cad086cebe6acc368ffffdaba963ff2bd902a469cd70ec5da06 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58976 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-08 04:05:52.975 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.44.142 waku 26b053d5e410b4ba2259133df58dba92b465a15510eb066a90244c1b287f0901
2025-02-08 04:05:53.020 DEBUG [src.node.docker_mananger] Container started with ID 26b053d5e410. Setting up logs at ./log/docker/node1_2025-02-08_04-05-52__be1c125c-d581-4c64-a669-79b542e8ba0e__wakuorg_nwaku:latest.log
2025-02-08 04:05:53.021 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58972
2025-02-08 04:05:53.021 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:05:53.548 ERROR [src.node.docker_mananger] Max retries reached for container ff3c1e3ca716. Exiting log stream.
2025-02-08 04:05:54.022 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:54.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:05:54.025 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:05:54.025 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:54.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.44.142/tcp/58973/p2p/16Uiu2HAmEBEpoqE5RiHDUU4bMPSqwd2SgyLq2bqmVrHFpUNu6WVn","/ip4/172.18.44.142/tcp/58974/ws/p2p/16Uiu2HAmEBEpoqE5RiHDUU4bMPSqwd2SgyLq2bqmVrHFpUNu6WVn"],"enrUri":"enr:-L24QCKEB2gD13ndvZ1Aad-DRBt7Z0Ter6zYv4wvzLc2BvV-dMf2VptjdhxWPhyNqtzJ2ZDSgr6JXlmifwPQtGU97QkCgmlkgnY0gmlwhKwSLI6KbXVsdGlhZGRyc5YACASsEiyOBuZdAAoErBIsjgbmXt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDFpt6PotBKXW3LbxdzAvXt51bO2oJsnxt62rAyDXhPAGDdGNwguZdg3VkcILmX4V3YWt1MgU"}'
2025-02-08 04:05:54.028 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:05:54.034 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:05:54.034 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-08_04-05-52__be1c125c-d581-4c64-a669-79b542e8ba0e__wakuorg_nwaku:latest.log
2025-02-08 04:05:54.034 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:05:54.034 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:05:54.035 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:05:54.035 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.100.86
2025-02-08 04:05:54.036 DEBUG [src.node.docker_mananger] Generated ports ['62542', '62543', '62544', '62545', '62546']
2025-02-08 04:05:54.036 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:05:54.036 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:05:54.036 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:05:54.036 DEBUG [src.node.docker_mananger] docker run -i -t -p 62542:62542 -p 62543:62543 -p 62544:62544 -p 62545:62545 -p 62546:62546 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62544 --rest-port=62542 --tcp-port=62543 --discv5-udp-port=62545 --rest-address=0.0.0.0 --nat=extip:172.18.100.86 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=a4bea7bc67002feca0acfea03dded33cccf96e7dfc87f6cbf218a13bf0a44add --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62546 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCKEB2gD13ndvZ1Aad-DRBt7Z0Ter6zYv4wvzLc2BvV-dMf2VptjdhxWPhyNqtzJ2ZDSgr6JXlmifwPQtGU97QkCgmlkgnY0gmlwhKwSLI6KbXVsdGlhZGRyc5YACASsEiyOBuZdAAoErBIsjgbmXt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDFpt6PotBKXW3LbxdzAvXt51bO2oJsnxt62rAyDXhPAGDdGNwguZdg3VkcILmX4V3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-08 04:05:54.266 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.100.86 waku 0fb53cb9283a7cd8f449cde848741c3fe808d9edec410cf6d2a1703452a10387
2025-02-08 04:05:54.313 DEBUG [src.node.docker_mananger] Container started with ID 0fb53cb9283a. Setting up logs at ./log/docker/node2_2025-02-08_04-05-52__be1c125c-d581-4c64-a669-79b542e8ba0e__wakuorg_nwaku:latest.log
2025-02-08 04:05:54.313 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 62542
2025-02-08 04:05:54.313 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:05:55.314 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62542/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.319 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:05:55.319 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:05:55.320 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62542/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.326 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.100.86/tcp/62543/p2p/16Uiu2HAm2LtqM7b9iJZR3nGm6uiKinr35prFiAhVxNRBJqbzgipo","/ip4/172.18.100.86/tcp/62544/ws/p2p/16Uiu2HAm2LtqM7b9iJZR3nGm6uiKinr35prFiAhVxNRBJqbzgipo"],"enrUri":"enr:-L24QIQCLXsOu_CzBeTsaLv62mDaEMqoE46s8vIljjQBg2KNHrKKrnJ33p-ttYAeP1PNyH4PR463GydMmAv7oNfg1cICgmlkgnY0gmlwhKwSZFaKbXVsdGlhZGRyc5YACASsEmRWBvRPAAoErBJkVgb0UN0DgnJzhQACAQAAiXNlY3AyNTZrMaECZshwXfbhx8YHB6sDteE2JFx_iPUjNCh81KDciU91rgCDdGNwgvRPg3VkcIL0UYV3YWt1MgE"}'
2025-02-08 04:05:55.327 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:05:55.329 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62542/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.44.142/tcp/58973/p2p/16Uiu2HAmEBEpoqE5RiHDUU4bMPSqwd2SgyLq2bqmVrHFpUNu6WVn"]'
2025-02-08 04:05:55.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:55.337 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-08 04:05:55.347 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:55.348 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62542/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-08 04:05:55.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:55.369 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:55.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:55.377 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:55.478 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:55.478 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.480 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987555369425664,"ephemeral":false}]'
2025-02-08 04:05:55.482 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:55.482 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62542/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.484 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987555369425664,"ephemeral":false}]'
2025-02-08 04:05:55.486 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:55.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:55.493 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:55.593 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:55.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738987555486542080,"ephemeral":false}]'
2025-02-08 04:05:55.597 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:55.598 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62542/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738987555486542080,"ephemeral":false}]'
2025-02-08 04:05:55.602 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:55.607 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:55.607 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:55.707 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:55.708 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738987555602732288,"ephemeral":false}]'
2025-02-08 04:05:55.711 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:55.711 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62542/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738987555602732288,"ephemeral":false}]'
2025-02-08 04:05:55.715 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:55.719 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:55.719 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:55.820 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:55.820 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738987555715281152,"ephemeral":false}]'
2025-02-08 04:05:55.824 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:55.824 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62542/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.826 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738987555715281152,"ephemeral":false}]'
2025-02-08 04:05:55.828 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:55.833 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:55.833 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:55.934 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:55.934 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738987555828466176,"ephemeral":false}]'
2025-02-08 04:05:55.938 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:55.938 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62542/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:55.941 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738987555828466176,"ephemeral":false}]'
2025-02-08 04:05:55.942 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:55.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:55.948 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:56.048 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.048 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738987555942568448,"ephemeral":false}]'
2025-02-08 04:05:56.052 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.052 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62542/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738987555942568448,"ephemeral":false}]'
2025-02-08 04:05:56.056 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:56.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:56.061 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:56.161 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.162 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738987556056422400,"ephemeral":false}]'
2025-02-08 04:05:56.166 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.166 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62542/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.168 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738987556056422400,"ephemeral":false}]'
2025-02-08 04:05:56.169 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:56.174 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:56.175 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:56.275 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.276 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.278 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738987556169874944,"ephemeral":false}]'
2025-02-08 04:05:56.280 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.281 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62542/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738987556169874944,"ephemeral":false}]'
2025-02-08 04:05:56.286 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:58972/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-08 04:05:56.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:56.303 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:62542/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-08 04:05:56.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:56.322 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:56.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:56.325 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:56.425 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.426 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.428 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58972/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-08 04:05:56.430 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:56.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:56.433 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:56.533 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.533 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.536 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58972/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-08 04:05:56.537 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:56.540 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:56.540 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:56.640 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.640 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.643 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-08 04:05:56.644 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:56.647 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:56.647 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:56.747 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.748 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.750 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58972/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-08 04:05:56.752 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:56.754 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:56.755 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:56.855 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.855 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.857 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58972/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-08 04:05:56.859 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:56.861 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:56.861 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:56.962 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:56.962 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:56.965 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-08 04:05:56.966 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:56.969 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:56.969 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:57.069 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:57.070 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:57.072 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-08 04:05:57.073 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58972/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:05:57.076 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:05:57.076 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:05:57.176 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:05:57.176 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:05:57.179 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58972/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-08 04:05:57.181 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:05:57.182 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:05:57.182 DEBUG [src.node.waku_node] Stopping container with id 26b053d5e410
2025-02-08 04:05:58.510 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:05:58.510 DEBUG [src.node.waku_node] Stopping container with id 0fb53cb9283a
2025-02-08 04:05:59.321 ERROR [src.node.docker_mananger] Max retries reached for container 26b053d5e410. Exiting log stream.
2025-02-08 04:05:59.792 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:05:59.793 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:05:59.807 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:05:59.818 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
