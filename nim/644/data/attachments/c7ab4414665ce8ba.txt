2025-02-08 04:04:53.755 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:04:53.756 DEBUG [tests.conftest] Running test: test_passing_invalid_cursor with id: 2025-02-08_04-04-53__effbc10a-a17b-4caf-be73-d95d462aa975
2025-02-08 04:04:53.756 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:04:53.756 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-08 04:04:53.756 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-08 04:04:53.763 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:04:53.763 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-08_04-04-53__effbc10a-a17b-4caf-be73-d95d462aa975__wakuorg_nwaku:latest.log
2025-02-08 04:04:53.763 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:04:53.763 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:04:53.764 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:04:53.764 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.134.203
2025-02-08 04:04:53.765 DEBUG [src.node.docker_mananger] Generated ports ['10461', '10462', '10463', '10464', '10465']
2025-02-08 04:04:53.765 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:04:53.765 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:04:53.765 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:04:53.765 DEBUG [src.node.docker_mananger] docker run -i -t -p 10461:10461 -p 10462:10462 -p 10463:10463 -p 10464:10464 -p 10465:10465 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10463 --rest-port=10461 --tcp-port=10462 --discv5-udp-port=10464 --rest-address=0.0.0.0 --nat=extip:172.18.134.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b6dff8fc5bf2ff6a9d6d8dfb2bcfabce2e2caeb1da171ea6eb8bcb1eb969fcd3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10465 --metrics-logging=true --store=true --relay=true
2025-02-08 04:04:53.999 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.134.203 waku ca121b9a2b365bf3e2e43c54b1909e9290ade718bd2694256871bbc3f2aea584
2025-02-08 04:04:54.052 DEBUG [src.node.docker_mananger] Container started with ID ca121b9a2b36. Setting up logs at ./log/docker/publishing_node1_2025-02-08_04-04-53__effbc10a-a17b-4caf-be73-d95d462aa975__wakuorg_nwaku:latest.log
2025-02-08 04:04:54.055 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 10461
2025-02-08 04:04:54.055 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:04:54.563 ERROR [src.node.docker_mananger] Max retries reached for container 3a03941e3e9b. Exiting log stream.
2025-02-08 04:04:55.055 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10461/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:55.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:04:55.058 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:04:55.059 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10461/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:55.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.134.203/tcp/10462/p2p/16Uiu2HAmUptWej32nQh7mxECcXa3ivHUktXezZGTJvN2NVGwUwLx","/ip4/172.18.134.203/tcp/10463/ws/p2p/16Uiu2HAmUptWej32nQh7mxECcXa3ivHUktXezZGTJvN2NVGwUwLx"],"enrUri":"enr:-L24QFHcbKKSOq734elYYwdcvUvW4pSS0Y4-sUBNcFLuvHJ-di1g9zwSHDVNdJxEQR4ThcZ7VIfbhq89NMesSBd2JU0CgmlkgnY0gmlwhKwShsuKbXVsdGlhZGRyc5YACASsEobLBijeAAoErBKGywYo390DgnJzhQADAQAAiXNlY3AyNTZrMaED8EQyewQc8baDdnr-TeO-SYxuHeK08iRd9ETntgc8vJWDdGNwgijeg3VkcIIo4IV3YWt1MgM"}'
2025-02-08 04:04:55.061 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:04:55.067 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:04:55.068 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-08_04-04-53__effbc10a-a17b-4caf-be73-d95d462aa975__wakuorg_nwaku:latest.log
2025-02-08 04:04:55.068 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:04:55.068 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:04:55.069 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:04:55.069 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.82.59
2025-02-08 04:04:55.069 DEBUG [src.node.docker_mananger] Generated ports ['3317', '3318', '3319', '3320', '3321']
2025-02-08 04:04:55.069 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:04:55.070 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:04:55.070 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:04:55.070 DEBUG [src.node.docker_mananger] docker run -i -t -p 3317:3317 -p 3318:3318 -p 3319:3319 -p 3320:3320 -p 3321:3321 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3319 --rest-port=3317 --tcp-port=3318 --discv5-udp-port=3320 --rest-address=0.0.0.0 --nat=extip:172.18.82.59 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ccbaec20dc8e8bbeffcba0637c91886c3834de9d5ee3d275e505adf18f1fb48 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3321 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QFHcbKKSOq734elYYwdcvUvW4pSS0Y4-sUBNcFLuvHJ-di1g9zwSHDVNdJxEQR4ThcZ7VIfbhq89NMesSBd2JU0CgmlkgnY0gmlwhKwShsuKbXVsdGlhZGRyc5YACASsEobLBijeAAoErBKGywYo390DgnJzhQADAQAAiXNlY3AyNTZrMaED8EQyewQc8baDdnr-TeO-SYxuHeK08iRd9ETntgc8vJWDdGNwgijeg3VkcIIo4IV3YWt1MgM --storenode=/ip4/172.18.134.203/tcp/10462/p2p/16Uiu2HAmUptWej32nQh7mxECcXa3ivHUktXezZGTJvN2NVGwUwLx --store=true --relay=true
2025-02-08 04:04:55.312 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.82.59 waku d76c14281f0ce633ad058ba8386baf3ba217ef8b348969fb3094fc5872cba4a2
2025-02-08 04:04:55.361 DEBUG [src.node.docker_mananger] Container started with ID d76c14281f0c. Setting up logs at ./log/docker/store_node1_2025-02-08_04-04-53__effbc10a-a17b-4caf-be73-d95d462aa975__wakuorg_nwaku:latest.log
2025-02-08 04:04:55.361 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 3317
2025-02-08 04:04:55.362 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:04:56.363 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3317/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:56.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:04:56.366 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:04:56.366 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3317/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:56.368 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.59/tcp/3318/p2p/16Uiu2HAmMLKeymjh2xNxc631zhAmv3A8sa5iRAfEEgWLBP16FREn","/ip4/172.18.82.59/tcp/3319/ws/p2p/16Uiu2HAmMLKeymjh2xNxc631zhAmv3A8sa5iRAfEEgWLBP16FREn"],"enrUri":"enr:-L24QLAEPrBd77Guaq6TxJgwXn1dI9_9YayZLlEs7954LX0EUqTLx7olfECGRzFI-xd-Nm52m9dpADawXh42fcqLgSwCgmlkgnY0gmlwhKwSUjuKbXVsdGlhZGRyc5YACASsElI7Bgz2AAoErBJSOwYM990DgnJzhQADAQAAiXNlY3AyNTZrMaEDgPD5pkDwf5TE9TnBiXO4EKjfpLFGMHF8UjUkC3LF2X-DdGNwggz2g3VkcIIM-IV3YWt1MgM"}'
2025-02-08 04:04:56.368 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:04:56.369 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3317/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.134.203/tcp/10462/p2p/16Uiu2HAmUptWej32nQh7mxECcXa3ivHUktXezZGTJvN2NVGwUwLx"]'
2025-02-08 04:04:56.371 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:56.372 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10461/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:04:56.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:56.374 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:3317/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 04:04:56.376 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:56.377 DEBUG [src.steps.store] Relaying message
2025-02-08 04:04:56.378 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:56.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:56.384 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:04:56.584 DEBUG [src.steps.store] Relaying message
2025-02-08 04:04:56.585 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:56.590 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:56.590 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:04:56.791 DEBUG [src.steps.store] Relaying message
2025-02-08 04:04:56.792 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:56.797 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:56.797 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:04:56.998 DEBUG [src.steps.store] Relaying message
2025-02-08 04:04:56.998 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:57.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:57.004 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-08 04:04:57.205 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10461/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:57.208 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:10461/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 4'
2025-02-08 04:04:57.209 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:3317/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:57.211 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:3317/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 4'
2025-02-08 04:04:57.214 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:04:57.215 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:04:57.215 DEBUG [src.node.waku_node] Stopping container with id ca121b9a2b36
2025-02-08 04:04:57.912 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:04:57.913 DEBUG [src.node.waku_node] Stopping container with id d76c14281f0c
2025-02-08 04:04:58.725 ERROR [src.node.docker_mananger] Max retries reached for container ca121b9a2b36. Exiting log stream.
2025-02-08 04:04:59.443 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:04:59.445 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:04:59.450 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:04:59.458 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
