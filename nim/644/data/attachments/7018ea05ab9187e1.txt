2025-02-08 04:04:40.698 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 04:04:40.698 DEBUG [tests.conftest] Running test: test_multiple_content_topics_and_multiple_pubsub_topics with id: 2025-02-08_04-04-40__fc18b6b9-cace-42bb-a182-e6f32db00b86
2025-02-08 04:04:40.699 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 04:04:40.699 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-08 04:04:40.699 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-08 04:04:40.706 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:04:40.706 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-08_04-04-40__fc18b6b9-cace-42bb-a182-e6f32db00b86__wakuorg_nwaku:latest.log
2025-02-08 04:04:40.706 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:04:40.706 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:04:40.707 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:04:40.707 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.91.58
2025-02-08 04:04:40.708 DEBUG [src.node.docker_mananger] Generated ports ['39134', '39135', '39136', '39137', '39138']
2025-02-08 04:04:40.708 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:04:40.708 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:04:40.708 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:04:40.708 DEBUG [src.node.docker_mananger] docker run -i -t -p 39134:39134 -p 39135:39135 -p 39136:39136 -p 39137:39137 -p 39138:39138 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39136 --rest-port=39134 --tcp-port=39135 --discv5-udp-port=39137 --rest-address=0.0.0.0 --nat=extip:172.18.91.58 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=5fbf4aba94ffab0d16aa90e6adf9b2e5f4a6ad9a8cfe0bb99f2c60d5aee7ab8a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39138 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-08 04:04:40.924 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.91.58 waku 38f3acac398f99a4a615ea1c320ae59f299068747d625c9339dbd15c4b3c0a5e
2025-02-08 04:04:40.975 DEBUG [src.node.docker_mananger] Container started with ID 38f3acac398f. Setting up logs at ./log/docker/node1_2025-02-08_04-04-40__fc18b6b9-cace-42bb-a182-e6f32db00b86__wakuorg_nwaku:latest.log
2025-02-08 04:04:40.977 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 39134
2025-02-08 04:04:40.977 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:04:41.507 ERROR [src.node.docker_mananger] Max retries reached for container 54f9275090a5. Exiting log stream.
2025-02-08 04:04:41.979 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39134/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:41.981 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:04:41.982 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:04:41.982 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39134/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:41.984 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.58/tcp/39135/p2p/16Uiu2HAmHjzKsMjQRnZaXCrTdgVy4mmuWBmomYdCZKz1ih1DLqNm","/ip4/172.18.91.58/tcp/39136/ws/p2p/16Uiu2HAmHjzKsMjQRnZaXCrTdgVy4mmuWBmomYdCZKz1ih1DLqNm"],"enrUri":"enr:-Mu4QIpRMCvphKh0k4jINwc8FT_jTzd_8nag_9NW_qpIflTmZV-vseKytRCquvKuCCql2VC0X-har1HKrzcLzFXBAowCgmlkgnY0gmlwhKwSWzqKbXVsdGlhZGRyc5YACASsEls6BpjfAAoErBJbOgaY4N0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQNLkk-cRUonIiubGf-Z2mD1nPnfUk18eHJj7PENdzgT5oN0Y3CCmN-DdWRwgpjhhXdha3UyBQ"}'
2025-02-08 04:04:41.984 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:04:41.990 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 04:04:41.991 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-08_04-04-40__fc18b6b9-cace-42bb-a182-e6f32db00b86__wakuorg_nwaku:latest.log
2025-02-08 04:04:41.991 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 04:04:41.991 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 04:04:41.992 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 04:04:41.992 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.218.142
2025-02-08 04:04:41.992 DEBUG [src.node.docker_mananger] Generated ports ['47782', '47783', '47784', '47785', '47786']
2025-02-08 04:04:41.992 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 04:04:41.993 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 04:04:41.993 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 04:04:41.993 DEBUG [src.node.docker_mananger] docker run -i -t -p 47782:47782 -p 47783:47783 -p 47784:47784 -p 47785:47785 -p 47786:47786 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47784 --rest-port=47782 --tcp-port=47783 --discv5-udp-port=47785 --rest-address=0.0.0.0 --nat=extip:172.18.218.142 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=a4fc673976ae0e7e23975b7b14e7018e5b9afe6b7a1bbb94f796d5acd65bc339 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47786 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QIpRMCvphKh0k4jINwc8FT_jTzd_8nag_9NW_qpIflTmZV-vseKytRCquvKuCCql2VC0X-har1HKrzcLzFXBAowCgmlkgnY0gmlwhKwSWzqKbXVsdGlhZGRyc5YACASsEls6BpjfAAoErBJbOgaY4N0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQNLkk-cRUonIiubGf-Z2mD1nPnfUk18eHJj7PENdzgT5oN0Y3CCmN-DdWRwgpjhhXdha3UyBQ --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-08 04:04:42.214 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.218.142 waku 3af95189a12e1d4eda97c162c10e613c971b7e1d90011e65635a3ada6c3d5aa6
2025-02-08 04:04:42.270 DEBUG [src.node.docker_mananger] Container started with ID 3af95189a12e. Setting up logs at ./log/docker/node2_2025-02-08_04-04-40__fc18b6b9-cace-42bb-a182-e6f32db00b86__wakuorg_nwaku:latest.log
2025-02-08 04:04:42.270 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 47782
2025-02-08 04:04:42.270 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 04:04:43.271 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47782/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 04:04:43.285 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 04:04:43.286 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47782/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.314 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.218.142/tcp/47783/p2p/16Uiu2HAkvPFxSdQbCiEvCQyCMFQDKVqVaL2LMZ3owMrM9GZCnhsq","/ip4/172.18.218.142/tcp/47784/ws/p2p/16Uiu2HAkvPFxSdQbCiEvCQyCMFQDKVqVaL2LMZ3owMrM9GZCnhsq"],"enrUri":"enr:-Mu4QBiu_cVVIDlVci4eeNcf3OVpjyn5RDRjRM3hraEh5HdGCOgikGWYec0k9-dwi4fJy-W-jiFKLKC03ZWtXXQdJKACgmlkgnY0gmlwhKwS2o6KbXVsdGlhZGRyc5YACASsEtqOBrqnAAoErBLajga6qN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQIOPVyxvibOl5-9DS-PZBVBIRzDzECdChDkY0K5wSIVnIN0Y3CCuqeDdWRwgrqphXdha3UyAQ"}'
2025-02-08 04:04:43.314 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 04:04:43.315 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47782/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.91.58/tcp/39135/p2p/16Uiu2HAmHjzKsMjQRnZaXCrTdgVy4mmuWBmomYdCZKz1ih1DLqNm"]'
2025-02-08 04:04:43.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:43.326 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39134/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-08 04:04:43.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:43.330 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47782/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-08 04:04:43.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:43.335 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39134/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:43.342 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:43.342 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:04:43.443 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:43.443 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39134/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987483335726848,"ephemeral":false}]'
2025-02-08 04:04:43.447 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:43.448 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47782/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738987483335726848,"ephemeral":false}]'
2025-02-08 04:04:43.451 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39134/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:43.456 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:43.456 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:04:43.557 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:43.557 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39134/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738987483451731968,"ephemeral":false}]'
2025-02-08 04:04:43.561 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:43.561 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47782/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738987483451731968,"ephemeral":false}]'
2025-02-08 04:04:43.565 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39134/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:43.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:43.570 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:04:43.670 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:43.671 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39134/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738987483565424128,"ephemeral":false}]'
2025-02-08 04:04:43.674 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:43.675 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47782/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.677 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738987483565424128,"ephemeral":false}]'
2025-02-08 04:04:43.678 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39134/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:43.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:43.683 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:04:43.784 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:43.784 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39134/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738987483678848512,"ephemeral":false}]'
2025-02-08 04:04:43.788 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:43.788 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47782/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.790 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738987483678848512,"ephemeral":false}]'
2025-02-08 04:04:43.792 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39134/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:43.797 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:43.797 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:04:43.898 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:43.898 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39134/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738987483792527104,"ephemeral":false}]'
2025-02-08 04:04:43.902 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:43.902 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47782/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:43.904 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738987483792527104,"ephemeral":false}]'
2025-02-08 04:04:43.906 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39134/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:43.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:43.910 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:04:44.011 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:44.011 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39134/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:44.013 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738987483905989120,"ephemeral":false}]'
2025-02-08 04:04:44.015 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:44.015 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47782/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:44.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738987483905989120,"ephemeral":false}]'
2025-02-08 04:04:44.019 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39134/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:44.024 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:44.025 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:04:44.125 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:44.125 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39134/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:44.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738987484019190272,"ephemeral":false}]'
2025-02-08 04:04:44.129 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:44.129 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47782/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:44.132 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738987484019190272,"ephemeral":false}]'
2025-02-08 04:04:44.133 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39134/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-08 04:04:44.138 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 04:04:44.138 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 04:04:44.239 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:44.239 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39134/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:44.242 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738987484133709568,"ephemeral":false}]'
2025-02-08 04:04:44.243 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-08 04:04:44.244 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47782/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-08 04:04:44.246 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738987484133709568,"ephemeral":false}]'
2025-02-08 04:04:44.248 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 04:04:44.249 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 04:04:44.250 DEBUG [src.node.waku_node] Stopping container with id 38f3acac398f
2025-02-08 04:04:45.456 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:04:45.457 DEBUG [src.node.waku_node] Stopping container with id 3af95189a12e
2025-02-08 04:04:46.268 ERROR [src.node.docker_mananger] Max retries reached for container 38f3acac398f. Exiting log stream.
2025-02-08 04:04:46.912 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 04:04:46.913 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 04:04:46.929 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 04:04:46.940 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
