[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-11-10_06-17-05__5637fb86-49e7-4540-a3bf-062527f9ee6d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-10_06-17-05__5637fb86-49e7-4540-a3bf-062527f9ee6d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.92.202
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22759', '22760', '22761', '22762', '22763']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22759:22759 -p 22760:22760 -p 22761:22761 -p 22762:22762 -p 22763:22763 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22761 --rest-port=22759 --tcp-port=22760 --discv5-udp-port=22762 --rest-address=0.0.0.0 --nat=extip:172.18.92.202 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6f82dc2ea219bf609e2a28f7da1ffdc298de4cd8dd6d4477b9bcce8536eaf2e2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22763 --metrics-logging=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 132327ae6e9f. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.92.202 waku 47aa63d26c0042e4b1a05f3e0e3e2d45b2bc5df94b31a0a2f5a9fad2f8b187b0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 47aa63d26c00. Setting up logs at ./log/docker/node1_2024-11-10_06-17-05__5637fb86-49e7-4540-a3bf-062527f9ee6d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 22759
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22759/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22759/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.92.202/tcp/22760/p2p/16Uiu2HAm7SQRuUomjrHGEisDwZtL54WWxsaNbafFr6h67e5ZEvJB","/ip4/172.18.92.202/tcp/22761/ws/p2p/16Uiu2HAm7SQRuUomjrHGEisDwZtL54WWxsaNbafFr6h67e5ZEvJB"],"enrUri":"enr:-L24QJJHpsdQs9h8H15YaL2H5klXu01w75swYwiAHoyE0PtdHl56SGKqWhjvZgqNuzX4eDiRidB5vTQwRj7V1JQHPrcCgmlkgnY0gmlwhKwSXMqKbXVsdGlhZGRyc5YACASsElzKBljoAAoErBJcygZY6d0DgnJzhQADAQAAiXNlY3AyNTZrMaECsnw94WSEZviiXDyvuTkGaIIvWm9CYC0R1ES54SzjYCCDdGNwgljog3VkcIJY6oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-10_06-17-05__5637fb86-49e7-4540-a3bf-062527f9ee6d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.232.145
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27114', '27115', '27116', '27117', '27118']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27114:27114 -p 27115:27115 -p 27116:27116 -p 27117:27117 -p 27118:27118 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27116 --rest-port=27114 --tcp-port=27115 --discv5-udp-port=27117 --rest-address=0.0.0.0 --nat=extip:172.18.232.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a07e327e05cf7bcc7cf1bafc0cd81a4bde8bf66c65f3eaaef7e33f4b681ec7fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27118 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJJHpsdQs9h8H15YaL2H5klXu01w75swYwiAHoyE0PtdHl56SGKqWhjvZgqNuzX4eDiRidB5vTQwRj7V1JQHPrcCgmlkgnY0gmlwhKwSXMqKbXVsdGlhZGRyc5YACASsElzKBljoAAoErBJcygZY6d0DgnJzhQADAQAAiXNlY3AyNTZrMaECsnw94WSEZviiXDyvuTkGaIIvWm9CYC0R1ES54SzjYCCDdGNwgljog3VkcIJY6oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.232.145 waku 632bbea9e86052ecdec0a7f6ae653f88a742c349055351aff8d2277400cbf9c6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 632bbea9e860. Setting up logs at ./log/docker/node2_2024-11-10_06-17-05__5637fb86-49e7-4540-a3bf-062527f9ee6d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 27114
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27114/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27114/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.232.145/tcp/27115/p2p/16Uiu2HAkySuvgVSbvmoinE7s4W566cXGZaroAaHfiBxDWhVza4C7","/ip4/172.18.232.145/tcp/27116/ws/p2p/16Uiu2HAkySuvgVSbvmoinE7s4W566cXGZaroAaHfiBxDWhVza4C7"],"enrUri":"enr:-L24QBEamN0ArJKdPR6p94x_YCLTOhtadxmMUWdgv6scKoa5OLHepiSyQjMPWEQJn3ECsaoKO2NFuC_tMK6TxTwsVDoCgmlkgnY0gmlwhKwS6JGKbXVsdGlhZGRyc5YACASsEuiRBmnrAAoErBLokQZp7N0DgnJzhQADAQAAiXNlY3AyNTZrMaECO8AZAuAbszHcUQeGpUbp81f-HiiYOW5J_P9T8XmKy6iDdGNwgmnrg3VkcIJp7YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27114/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.92.202/tcp/22760/p2p/16Uiu2HAm7SQRuUomjrHGEisDwZtL54WWxsaNbafFr6h67e5ZEvJB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-10_06-17-05__5637fb86-49e7-4540-a3bf-062527f9ee6d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.84.71
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52674', '52675', '52676', '52677', '52678']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52674:52674 -p 52675:52675 -p 52676:52676 -p 52677:52677 -p 52678:52678 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52676 --rest-port=52674 --tcp-port=52675 --discv5-udp-port=52677 --rest-address=0.0.0.0 --nat=extip:172.18.84.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bedde6ccf50ebb1a7fbeffe2de8c2d8787decc45e3ffdb5c16efeac319f0d23f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52678 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJJHpsdQs9h8H15YaL2H5klXu01w75swYwiAHoyE0PtdHl56SGKqWhjvZgqNuzX4eDiRidB5vTQwRj7V1JQHPrcCgmlkgnY0gmlwhKwSXMqKbXVsdGlhZGRyc5YACASsElzKBljoAAoErBJcygZY6d0DgnJzhQADAQAAiXNlY3AyNTZrMaECsnw94WSEZviiXDyvuTkGaIIvWm9CYC0R1ES54SzjYCCDdGNwgljog3VkcIJY6oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.84.71 waku cced696b535201e16dd8d68af95a39b3789fb7eaea4653248798008877e2f93e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cced696b5352. Setting up logs at ./log/docker/node3_2024-11-10_06-17-05__5637fb86-49e7-4540-a3bf-062527f9ee6d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 52674
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52674/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52674/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.84.71/tcp/52675/p2p/16Uiu2HAmJzFAa5XmbABjQFah4Yg2n6quRLZdxagTvc62vVx6Sqhj","/ip4/172.18.84.71/tcp/52676/ws/p2p/16Uiu2HAmJzFAa5XmbABjQFah4Yg2n6quRLZdxagTvc62vVx6Sqhj"],"enrUri":"enr:-L24QOl23JVOhX439sDI26JAYPMfoVU0vfZvRFGATfkZSdqUPyWskM1-rb77V-Cpo3J7e5-Y8ZkNcyhCZJJSrUW92UQCgmlkgnY0gmlwhKwSVEeKbXVsdGlhZGRyc5YACASsElRHBs3DAAoErBJURwbNxN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDXhTolQRBJBMvPSzyuM5znLvQiH96ErVV_KoV2kUixxKDdGNwgs3Dg3VkcILNxYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52674/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.92.202/tcp/22760/p2p/16Uiu2HAm7SQRuUomjrHGEisDwZtL54WWxsaNbafFr6h67e5ZEvJB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-10_06-17-05__5637fb86-49e7-4540-a3bf-062527f9ee6d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.119.66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29864', '29865', '29866', '29867', '29868']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29864:29864 -p 29865:29865 -p 29866:29866 -p 29867:29867 -p 29868:29868 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29866 --rest-port=29864 --tcp-port=29865 --discv5-udp-port=29867 --rest-address=0.0.0.0 --nat=extip:172.18.119.66 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ec9d8c12a9eabecff3dfc74072abbcbcdc01c4e6af8c9e1b38cabea3b0b44e6e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29868 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJJHpsdQs9h8H15YaL2H5klXu01w75swYwiAHoyE0PtdHl56SGKqWhjvZgqNuzX4eDiRidB5vTQwRj7V1JQHPrcCgmlkgnY0gmlwhKwSXMqKbXVsdGlhZGRyc5YACASsElzKBljoAAoErBJcygZY6d0DgnJzhQADAQAAiXNlY3AyNTZrMaECsnw94WSEZviiXDyvuTkGaIIvWm9CYC0R1ES54SzjYCCDdGNwgljog3VkcIJY6oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.119.66 waku 8d9aff042de6b6f2a31551a6760e02ca05f237b2d21a557f6276cfecbfb2cae2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8d9aff042de6. Setting up logs at ./log/docker/node4_2024-11-10_06-17-05__5637fb86-49e7-4540-a3bf-062527f9ee6d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 29864
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29864/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29864/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.66/tcp/29865/p2p/16Uiu2HAkz7yFNB1eUeTzCYRowpiGWrhFd8hJxpe3LkTbPUPLVn2x","/ip4/172.18.119.66/tcp/29866/ws/p2p/16Uiu2HAkz7yFNB1eUeTzCYRowpiGWrhFd8hJxpe3LkTbPUPLVn2x"],"enrUri":"enr:-L24QCAgf3QwrlYxcjr0HgrLs5GLkvcn55bGL6XIX57il8EWSNBoZuZH6ZeuPUo2PVS1X6R9OYF10w-8uGK9PgLhMJwCgmlkgnY0gmlwhKwSd0KKbXVsdGlhZGRyc5YACASsEndCBnSpAAoErBJ3QgZ0qt0DgnJzhQADAQAAiXNlY3AyNTZrMaECRcGBb7YN1yy_cflZWTMKXdxTBvcahJzfHj72MtLCmdWDdGNwgnSpg3VkcIJ0q4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29864/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.92.202/tcp/22760/p2p/16Uiu2HAm7SQRuUomjrHGEisDwZtL54WWxsaNbafFr6h67e5ZEvJB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-10_06-17-05__5637fb86-49e7-4540-a3bf-062527f9ee6d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.201.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['65411', '65412', '65413', '65414', '65415']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 65411:65411 -p 65412:65412 -p 65413:65413 -p 65414:65414 -p 65415:65415 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65413 --rest-port=65411 --tcp-port=65412 --discv5-udp-port=65414 --rest-address=0.0.0.0 --nat=extip:172.18.201.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f6dcf1c51e0aa0d8dd9d00bbec3dbc0c9ab5dade854386be9112ccad6ab7e0ec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65415 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJJHpsdQs9h8H15YaL2H5klXu01w75swYwiAHoyE0PtdHl56SGKqWhjvZgqNuzX4eDiRidB5vTQwRj7V1JQHPrcCgmlkgnY0gmlwhKwSXMqKbXVsdGlhZGRyc5YACASsElzKBljoAAoErBJcygZY6d0DgnJzhQADAQAAiXNlY3AyNTZrMaECsnw94WSEZviiXDyvuTkGaIIvWm9CYC0R1ES54SzjYCCDdGNwgljog3VkcIJY6oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.201.14 waku 6306e351d094aec821e8f1b226d9c452cfd005adea129454e57e665024a12499
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6306e351d094. Setting up logs at ./log/docker/node5_2024-11-10_06-17-05__5637fb86-49e7-4540-a3bf-062527f9ee6d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 65411
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65411/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65411/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.201.14/tcp/65412/p2p/16Uiu2HAmSbZx7BoMKTrkCEizwa4AjWoFZR38rxC6ExW7oMLQd9go","/ip4/172.18.201.14/tcp/65413/ws/p2p/16Uiu2HAmSbZx7BoMKTrkCEizwa4AjWoFZR38rxC6ExW7oMLQd9go"],"enrUri":"enr:-L24QFfkJVrcncc6jFvwekUaOk2wH-_7-y9xnO0NZ6jeRJ2JQaePcMibyHNExCNAsWWUbn0I1iJOdXTHGHE0_PT-uEgCgmlkgnY0gmlwhKwSyQ6KbXVsdGlhZGRyc5YACASsEskOBv-EAAoErBLJDgb_hd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzyNJJL0jfP3J61tOhgFoernO_sXCU7awvPlIOgULExSDdGNwgv-Eg3VkcIL_hoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65411/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.92.202/tcp/22760/p2p/16Uiu2HAm7SQRuUomjrHGEisDwZtL54WWxsaNbafFr6h67e5ZEvJB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22759/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27114/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52674/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29864/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65411/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219433976340224,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219433976340224,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52674/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219433976340224,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29864/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219433976340224,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219433976340224,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219434119727360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219434119727360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52674/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219434119727360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29864/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219434119727360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219434119727360,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 632bbea9e860
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52674/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219436472091648,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29864/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219436472091648,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731219436472091648,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 47aa63d26c00
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 632bbea9e860. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id cced696b5352
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 47aa63d26c00. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8d9aff042de6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cced696b5352. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 6306e351d094
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8d9aff042de6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.