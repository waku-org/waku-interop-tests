[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-07-15_04-14-38__8d62d76f-6dda-417c-90ee-0b0e49ca9282
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node1_2024-07-15_04-14-38__8d62d76f-6dda-417c-90ee-0b0e49ca9282__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.207.101
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['59238', '59239', '59240', '59241', '59242']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 59238:59238 -p 59239:59239 -p 59240:59240 -p 59241:59241 -p 59242:59242 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59240 --rest-port=59238 --tcp-port=59239 --discv5-udp-port=59241 --rest-address=0.0.0.0 --nat=extip:172.18.207.101 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59242 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.207.101 waku 635c121be63ab4799f42a00090d0851008efc1ccc45289a21029d64aed2ccc18
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 635c121be63a. Setting up logs at ./log/docker/node1_2024-07-15_04-14-38__8d62d76f-6dda-417c-90ee-0b0e49ca9282__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 59238
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59238/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59238/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.207.101/tcp/59239/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.207.101/tcp/59240/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QP6yV8fcOXoRP2IDUBAOMhJstlzdwV1UwDizUkpTnDbfcWcMescuBiw-RNpn_GVOV6iTIOLR4R4BIF7VqZImAOgBgmlkgnY0gmlwhKwSz2WKbXVsdGlhZGRyc4wACgSsEs9lBudo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC52eDdWRwgudphXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node2_2024-07-15_04-14-38__8d62d76f-6dda-417c-90ee-0b0e49ca9282__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.42.220
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['21794', '21795', '21796', '21797', '21798']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 21794:21794 -p 21795:21795 -p 21796:21796 -p 21797:21797 -p 21798:21798 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21796 --rest-port=21794 --tcp-port=21795 --discv5-udp-port=21797 --rest-address=0.0.0.0 --nat=extip:172.18.42.220 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21798 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QP6yV8fcOXoRP2IDUBAOMhJstlzdwV1UwDizUkpTnDbfcWcMescuBiw-RNpn_GVOV6iTIOLR4R4BIF7VqZImAOgBgmlkgnY0gmlwhKwSz2WKbXVsdGlhZGRyc4wACgSsEs9lBudo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC52eDdWRwgudphXdha3UyBQ --filternode=/ip4/172.18.207.101/tcp/59239/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.42.220 waku 035218b5b0afde6290d8376b93660218798bde2a4c14c2be93eb46f841e17f82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 035218b5b0af. Setting up logs at ./log/docker/node2_2024-07-15_04-14-38__8d62d76f-6dda-417c-90ee-0b0e49ca9282__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 21794
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21794/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21794/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.42.220/tcp/21795/p2p/16Uiu2HAmE5QtpsajDaMWtG27H5YG9nbZFLJveaZReUVwkPpG6HRw","/ip4/172.18.42.220/tcp/21796/ws/p2p/16Uiu2HAmE5QtpsajDaMWtG27H5YG9nbZFLJveaZReUVwkPpG6HRw"],"enrUri":"enr:-LO4QN6p0YxKmUSg5Ft1qOdVdtZaJ1nq8WHZwwKlJYvXsZQ-abQ6VjbhsXlsw58NiOE-jiGoYTCn86zK8fRCbdeWJ2kBgmlkgnY0gmlwhKwSKtyKbXVsdGlhZGRyc4wACgSsEircBlUk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMVHWDGbZ1he2zdM23BOuGxGnPBiB5enErncjj0c55F_oN0Y3CCVSODdWRwglUlhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21794/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.207.101/tcp/59239/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node3_2024-07-15_04-14-38__8d62d76f-6dda-417c-90ee-0b0e49ca9282__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.127.71
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['6815', '6816', '6817', '6818', '6819']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 6815:6815 -p 6816:6816 -p 6817:6817 -p 6818:6818 -p 6819:6819 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6817 --rest-port=6815 --tcp-port=6816 --discv5-udp-port=6818 --rest-address=0.0.0.0 --nat=extip:172.18.127.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6819 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QP6yV8fcOXoRP2IDUBAOMhJstlzdwV1UwDizUkpTnDbfcWcMescuBiw-RNpn_GVOV6iTIOLR4R4BIF7VqZImAOgBgmlkgnY0gmlwhKwSz2WKbXVsdGlhZGRyc4wACgSsEs9lBudo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC52eDdWRwgudphXdha3UyBQ --filternode=/ip4/172.18.207.101/tcp/59239/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.127.71 waku 2fe5f8ec5d84c7e0ec038867f34b68f87c39bdd6b590f3c196cf86bda354ddb5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 2fe5f8ec5d84. Setting up logs at ./log/docker/node3_2024-07-15_04-14-38__8d62d76f-6dda-417c-90ee-0b0e49ca9282__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 6815
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6815/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6815/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.71/tcp/6816/p2p/16Uiu2HAmU8JLgWJJvzSK2DfsQPxR3Vec1zj9ACQWHRgENryT6rNW","/ip4/172.18.127.71/tcp/6817/ws/p2p/16Uiu2HAmU8JLgWJJvzSK2DfsQPxR3Vec1zj9ACQWHRgENryT6rNW"],"enrUri":"enr:-LO4QJuC3Hiz8UymrhRiHce6H3VJD3A_gHLpggaHs2cUgBcncIBlZkjGBUHgvfSs4lgdhoyCs3SGHG533JdTSAAo0AUBgmlkgnY0gmlwhKwSf0eKbXVsdGlhZGRyc4wACgSsEn9HBhqh3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPl3lOZA1QzVVZ__wNUjUTmfsB4VXRHiD8mMGS6QBIb64N0Y3CCGqCDdWRwghqihXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6815/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.207.101/tcp/59239/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node4_2024-07-15_04-14-38__8d62d76f-6dda-417c-90ee-0b0e49ca9282__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.233.116
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['24519', '24520', '24521', '24522', '24523']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 24519:24519 -p 24520:24520 -p 24521:24521 -p 24522:24522 -p 24523:24523 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24521 --rest-port=24519 --tcp-port=24520 --discv5-udp-port=24522 --rest-address=0.0.0.0 --nat=extip:172.18.233.116 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24523 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QP6yV8fcOXoRP2IDUBAOMhJstlzdwV1UwDizUkpTnDbfcWcMescuBiw-RNpn_GVOV6iTIOLR4R4BIF7VqZImAOgBgmlkgnY0gmlwhKwSz2WKbXVsdGlhZGRyc4wACgSsEs9lBudo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC52eDdWRwgudphXdha3UyBQ --filternode=/ip4/172.18.207.101/tcp/59239/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.233.116 waku b29e16c8060bb4029543f5f7862e521389fc1264fc35db7490ac830fc47c6be1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b29e16c8060b. Setting up logs at ./log/docker/node4_2024-07-15_04-14-38__8d62d76f-6dda-417c-90ee-0b0e49ca9282__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 24519
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24519/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24519/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.233.116/tcp/24520/p2p/16Uiu2HAkwbPVJqUYQEAf8zVZxxFmXss6yAWyvANf6UQ2j4dqp1sQ","/ip4/172.18.233.116/tcp/24521/ws/p2p/16Uiu2HAkwbPVJqUYQEAf8zVZxxFmXss6yAWyvANf6UQ2j4dqp1sQ"],"enrUri":"enr:-LO4QNYprXmQkmQauhbXHEyTAdBnfIxNfqEevt-YWZg87lx7D0ScaCrCJxsAaC8BS5bvvu3nRLmqF4Kf6qiwsBGiTVkBgmlkgnY0gmlwhKwS6XSKbXVsdGlhZGRyc4wACgSsEul0Bl_J3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIgNIkOBWHKA_wq8pYF9DpcXmcP0HuWR0a3jYSRRc9NA4N0Y3CCX8iDdWRwgl_KhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24519/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.207.101/tcp/59239/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node5_2024-07-15_04-14-38__8d62d76f-6dda-417c-90ee-0b0e49ca9282__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.104.182
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['30447', '30448', '30449', '30450', '30451']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 30447:30447 -p 30448:30448 -p 30449:30449 -p 30450:30450 -p 30451:30451 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30449 --rest-port=30447 --tcp-port=30448 --discv5-udp-port=30450 --rest-address=0.0.0.0 --nat=extip:172.18.104.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30451 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QP6yV8fcOXoRP2IDUBAOMhJstlzdwV1UwDizUkpTnDbfcWcMescuBiw-RNpn_GVOV6iTIOLR4R4BIF7VqZImAOgBgmlkgnY0gmlwhKwSz2WKbXVsdGlhZGRyc4wACgSsEs9lBudo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC52eDdWRwgudphXdha3UyBQ --filternode=/ip4/172.18.207.101/tcp/59239/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.104.182 waku c7765101db109d8c772cd88cb74f50c880b07b41bd51133651017cdd86902b75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c7765101db10. Setting up logs at ./log/docker/node5_2024-07-15_04-14-38__8d62d76f-6dda-417c-90ee-0b0e49ca9282__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 30447
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30447/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30447/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.182/tcp/30448/p2p/16Uiu2HAkvg7GzPhn7BaadZ77HxWKpVcKZNeSfedVkH1WdYH5iF7o","/ip4/172.18.104.182/tcp/30449/ws/p2p/16Uiu2HAkvg7GzPhn7BaadZ77HxWKpVcKZNeSfedVkH1WdYH5iF7o"],"enrUri":"enr:-LO4QNPa50yHV-EMTIDo88E5eqZGIjYOJ3H5RJr5gRTVi0c9SiWBnpF8ndBerw_7yCAMkZlmLQmL-sWbBHfnTKw8AEoBgmlkgnY0gmlwhKwSaLaKbXVsdGlhZGRyc4wACgSsEmi2Bnbx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQISjmvMxn9b_5U8eFxj-7QBDeeLThdZGfp4SBqtqAMo6oN0Y3CCdvCDdWRwgnbyhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30447/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.207.101/tcp/59239/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59238/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21794/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3937a7a5-6e16-4087-86db-5a73d2d40210", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3937a7a5-6e16-4087-86db-5a73d2d40210","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6815/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1e70c1d2-2f3a-42f5-b9e2-db51647e11d7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1e70c1d2-2f3a-42f5-b9e2-db51647e11d7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24519/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "bf65010a-b5f2-407f-8343-bf80c5f9358c", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"bf65010a-b5f2-407f-8343-bf80c5f9358c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30447/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "18159cc3-37dd-4969-9ef9-8f1e89ed363f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"18159cc3-37dd-4969-9ef9-8f1e89ed363f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59238/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21794/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1721016886415655680,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59238/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6815/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:6815/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 635c121be63a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 035218b5b0af
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 2fe5f8ec5d84
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id b29e16c8060b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id c7765101db10
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.