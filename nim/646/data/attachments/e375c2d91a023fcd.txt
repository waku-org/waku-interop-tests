2025-02-10 04:07:15.158 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 04:07:15.159 DEBUG [tests.conftest] Running test: test_light_push_on_multiple_pubsub_topics with id: 2025-02-10_04-07-15__0c2d3072-8129-4e75-a462-8323b3674eb7
2025-02-10 04:07:15.159 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 04:07:15.159 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-10 04:07:15.165 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:07:15.165 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-10_04-07-15__0c2d3072-8129-4e75-a462-8323b3674eb7__wakuorg_nwaku:latest.log
2025-02-10 04:07:15.165 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:07:15.165 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:07:15.167 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:07:15.167 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.187.209
2025-02-10 04:07:15.167 DEBUG [src.node.docker_mananger] Generated ports ['31033', '31034', '31035', '31036', '31037']
2025-02-10 04:07:15.167 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:07:15.167 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:07:15.167 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:07:15.167 DEBUG [src.node.docker_mananger] docker run -i -t -p 31033:31033 -p 31034:31034 -p 31035:31035 -p 31036:31036 -p 31037:31037 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31035 --rest-port=31033 --tcp-port=31034 --discv5-udp-port=31036 --rest-address=0.0.0.0 --nat=extip:172.18.187.209 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fc4ba2eedefc64e69ce3ef94184422cdcece19bcbe14b3cfd720ab1ccf051cf8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31037 --metrics-logging=true --lightpush=true --relay=true
2025-02-10 04:07:15.401 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.187.209 waku cba53bf81d819c19a5a43e1209103ebac4b26769cfedf2d20fe544fafba5ea5d
2025-02-10 04:07:15.449 DEBUG [src.node.docker_mananger] Container started with ID cba53bf81d81. Setting up logs at ./log/docker/receiving_node1_2025-02-10_04-07-15__0c2d3072-8129-4e75-a462-8323b3674eb7__wakuorg_nwaku:latest.log
2025-02-10 04:07:15.451 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31033
2025-02-10 04:07:15.451 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:07:15.964 ERROR [src.node.docker_mananger] Max retries reached for container 3aefce39dcc5. Exiting log stream.
2025-02-10 04:07:16.451 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31033/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:16.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:07:16.454 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:07:16.454 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31033/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:16.457 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.209/tcp/31034/p2p/16Uiu2HAmBZHutng1ZQhsZ1wQp2Rnbpa6S8ExTreoEXtrjcchMi8Y","/ip4/172.18.187.209/tcp/31035/ws/p2p/16Uiu2HAmBZHutng1ZQhsZ1wQp2Rnbpa6S8ExTreoEXtrjcchMi8Y"],"enrUri":"enr:-L24QFkpZggBCFn4iW3EoZFPZZ3MQSqEvFRY8MYd3xFMqAIlbsI-tCrwYgk0R6WF8orCvDEFCH3gc3dKS2xixNwdqb4CgmlkgnY0gmlwhKwSu9GKbXVsdGlhZGRyc5YACASsErvRBnk6AAoErBK70QZ5O90DgnJzhQADAQAAiXNlY3AyNTZrMaEC766vj9XR0BzyHIXuP63Pz3kY9M174Y4t6QKHZyhY2bmDdGNwgnk6g3VkcIJ5PIV3YWt1Mgk"}'
2025-02-10 04:07:16.457 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:07:16.463 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:07:16.463 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-10_04-07-15__0c2d3072-8129-4e75-a462-8323b3674eb7__wakuorg_nwaku:latest.log
2025-02-10 04:07:16.463 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:07:16.464 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:07:16.465 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:07:16.465 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.96.215
2025-02-10 04:07:16.465 DEBUG [src.node.docker_mananger] Generated ports ['4612', '4613', '4614', '4615', '4616']
2025-02-10 04:07:16.465 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:07:16.465 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:07:16.466 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:07:16.466 DEBUG [src.node.docker_mananger] docker run -i -t -p 4612:4612 -p 4613:4613 -p 4614:4614 -p 4615:4615 -p 4616:4616 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4614 --rest-port=4612 --tcp-port=4613 --discv5-udp-port=4615 --rest-address=0.0.0.0 --nat=extip:172.18.96.215 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0a6b4fd75d244249164f306e283ceeeccae05ee093b2ddeb72fc41ae5ed785cd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4616 --metrics-logging=true --lightpush=false --relay=true
2025-02-10 04:07:16.691 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.96.215 waku 2731521fff2edc35bc434a282d0f3faeb48163ccf3616c31424ddff2b14dab07
2025-02-10 04:07:16.737 DEBUG [src.node.docker_mananger] Container started with ID 2731521fff2e. Setting up logs at ./log/docker/receiving_node2_2025-02-10_04-07-15__0c2d3072-8129-4e75-a462-8323b3674eb7__wakuorg_nwaku:latest.log
2025-02-10 04:07:16.737 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4612
2025-02-10 04:07:16.737 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:07:17.738 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4612/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:17.741 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:07:17.741 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:07:17.741 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4612/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:17.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.215/tcp/4613/p2p/16Uiu2HAkzfY6oaN7XqSX7Bio1YGVMiBnrByUsykAkj2uzEoxypuV","/ip4/172.18.96.215/tcp/4614/ws/p2p/16Uiu2HAkzfY6oaN7XqSX7Bio1YGVMiBnrByUsykAkj2uzEoxypuV"],"enrUri":"enr:-L24QHddYvFXngAoyHr5rq30lzDJf1OdvArCHAlOAZf_kTtZHmL-cGMEobR-TVIacWOUFKcNNnxzAU3R0egmtcmcxWECgmlkgnY0gmlwhKwSYNeKbXVsdGlhZGRyc5YACASsEmDXBhIFAAoErBJg1wYSBt0DgnJzhQADAQAAiXNlY3AyNTZrMaECTdeoMNnSl264avEgQSUtQpYYKSA8uUHgM-9UG2U5JTCDdGNwghIFg3VkcIISB4V3YWt1MgE"}'
2025-02-10 04:07:17.743 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:07:17.744 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4612/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.187.209/tcp/31034/p2p/16Uiu2HAmBZHutng1ZQhsZ1wQp2Rnbpa6S8ExTreoEXtrjcchMi8Y"]'
2025-02-10 04:07:17.782 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:17.791 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:07:17.792 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-10_04-07-15__0c2d3072-8129-4e75-a462-8323b3674eb7__wakuorg_nwaku:latest.log
2025-02-10 04:07:17.792 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:07:17.792 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:07:17.793 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:07:17.794 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.45.90
2025-02-10 04:07:17.794 DEBUG [src.node.docker_mananger] Generated ports ['20670', '20671', '20672', '20673', '20674']
2025-02-10 04:07:17.794 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:07:17.794 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:07:17.794 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:07:17.794 DEBUG [src.node.docker_mananger] docker run -i -t -p 20670:20670 -p 20671:20671 -p 20672:20672 -p 20673:20673 -p 20674:20674 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20672 --rest-port=20670 --tcp-port=20671 --discv5-udp-port=20673 --rest-address=0.0.0.0 --nat=extip:172.18.45.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a8dfe8ef5bfcfb8b4a3bd6affacc0fa53aaa2c8c2fcac143db3669dcef7fae4a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20674 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QFkpZggBCFn4iW3EoZFPZZ3MQSqEvFRY8MYd3xFMqAIlbsI-tCrwYgk0R6WF8orCvDEFCH3gc3dKS2xixNwdqb4CgmlkgnY0gmlwhKwSu9GKbXVsdGlhZGRyc5YACASsErvRBnk6AAoErBK70QZ5O90DgnJzhQADAQAAiXNlY3AyNTZrMaEC766vj9XR0BzyHIXuP63Pz3kY9M174Y4t6QKHZyhY2bmDdGNwgnk6g3VkcIJ5PIV3YWt1Mgk --lightpushnode=/ip4/172.18.187.209/tcp/31034/p2p/16Uiu2HAmBZHutng1ZQhsZ1wQp2Rnbpa6S8ExTreoEXtrjcchMi8Y --lightpush=true --relay=false
2025-02-10 04:07:18.024 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.45.90 waku 1edc0d84fd264cffaab665d1727c8ddc60ce1baa89ab029f53752845e5a8a64d
2025-02-10 04:07:18.072 DEBUG [src.node.docker_mananger] Container started with ID 1edc0d84fd26. Setting up logs at ./log/docker/lightpush_node1_2025-02-10_04-07-15__0c2d3072-8129-4e75-a462-8323b3674eb7__wakuorg_nwaku:latest.log
2025-02-10 04:07:18.072 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 20670
2025-02-10 04:07:18.073 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:07:19.073 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20670/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.076 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:07:19.076 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:07:19.076 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20670/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.078 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.45.90/tcp/20671/p2p/16Uiu2HAm1bhkd3mx8Z8ChqGqbb88ny2x9t86Ar4GBFD5bC3U9ZbS","/ip4/172.18.45.90/tcp/20672/ws/p2p/16Uiu2HAm1bhkd3mx8Z8ChqGqbb88ny2x9t86Ar4GBFD5bC3U9ZbS"],"enrUri":"enr:-L24QDPPK2aFR-Rm-jbYgLlqJDNqb-GKRKDpHlYjsxpwjkQKN4tzsmwy6zoiMYJIYaJJUtSfZLONyHzZGWE_ZIPm6sgCgmlkgnY0gmlwhKwSLVqKbXVsdGlhZGRyc5YACASsEi1aBlC_AAoErBItWgZQwN0DgnJzhQADAQAAiXNlY3AyNTZrMaECW7fvLVGEB0tvk5kyf1XqT62oYPPY2pqOfJL8NgcNxz2DdGNwglC_g3VkcIJQwYV3YWt1Mgg"}'
2025-02-10 04:07:19.078 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:07:19.078 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20670/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.187.209/tcp/31034/p2p/16Uiu2HAmBZHutng1ZQhsZ1wQp2Rnbpa6S8ExTreoEXtrjcchMi8Y"]'
2025-02-10 04:07:19.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:19.116 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20670/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.215/tcp/4613/p2p/16Uiu2HAkzfY6oaN7XqSX7Bio1YGVMiBnrByUsykAkj2uzEoxypuV"]'
2025-02-10 04:07:19.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:19.145 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31033/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 04:07:19.150 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:19.151 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4612/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 04:07:19.158 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:19.161 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31033/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-10 04:07:19.170 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:19.170 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4612/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-10 04:07:19.184 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:19.186 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/0
2025-02-10 04:07:19.186 DEBUG [src.steps.light_push] Lightpushing message
2025-02-10 04:07:19.187 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20670/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739160439186904576}}'
2025-02-10 04:07:19.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:19.199 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:07:19.300 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-10 04:07:19.300 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31033/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160439186904576,"ephemeral":false}]'
2025-02-10 04:07:19.303 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-10 04:07:19.303 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4612/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.305 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160439186904576,"ephemeral":false}]'
2025-02-10 04:07:19.307 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/1
2025-02-10 04:07:19.307 DEBUG [src.steps.light_push] Lightpushing message
2025-02-10 04:07:19.307 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20670/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739160439307703040}}'
2025-02-10 04:07:19.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:19.318 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:07:19.418 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-10 04:07:19.418 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31033/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.420 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160439307703040,"ephemeral":false}]'
2025-02-10 04:07:19.422 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-10 04:07:19.422 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4612/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.424 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160439307703040,"ephemeral":false}]'
2025-02-10 04:07:19.425 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/9
2025-02-10 04:07:19.425 DEBUG [src.steps.light_push] Lightpushing message
2025-02-10 04:07:19.426 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20670/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/9", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739160439425899776}}'
2025-02-10 04:07:19.435 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:19.436 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:07:19.536 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-10 04:07:19.536 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31033/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160439425899776,"ephemeral":false}]'
2025-02-10 04:07:19.540 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-10 04:07:19.540 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4612/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160439425899776,"ephemeral":false}]'
2025-02-10 04:07:19.543 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/25
2025-02-10 04:07:19.544 DEBUG [src.steps.light_push] Lightpushing message
2025-02-10 04:07:19.544 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20670/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/25", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739160439544208640}}'
2025-02-10 04:07:19.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:19.553 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:07:19.654 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-10 04:07:19.654 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31033/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160439544208640,"ephemeral":false}]'
2025-02-10 04:07:19.658 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-10 04:07:19.658 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4612/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160439544208640,"ephemeral":false}]'
2025-02-10 04:07:19.661 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/1000
2025-02-10 04:07:19.662 DEBUG [src.steps.light_push] Lightpushing message
2025-02-10 04:07:19.662 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20670/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1000", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739160439662024704}}'
2025-02-10 04:07:19.672 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:07:19.672 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:07:19.772 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-10 04:07:19.772 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31033/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160439662024704,"ephemeral":false}]'
2025-02-10 04:07:19.776 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-10 04:07:19.776 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4612/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:07:19.779 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160439662024704,"ephemeral":false}]'
2025-02-10 04:07:19.781 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 04:07:19.782 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 04:07:19.782 DEBUG [src.node.waku_node] Stopping container with id cba53bf81d81
2025-02-10 04:07:20.691 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:07:20.691 DEBUG [src.node.waku_node] Stopping container with id 2731521fff2e
2025-02-10 04:07:21.503 ERROR [src.node.docker_mananger] Max retries reached for container cba53bf81d81. Exiting log stream.
2025-02-10 04:07:21.682 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:07:21.682 DEBUG [src.node.waku_node] Stopping container with id 1edc0d84fd26
2025-02-10 04:07:22.494 ERROR [src.node.docker_mananger] Max retries reached for container 2731521fff2e. Exiting log stream.
2025-02-10 04:07:23.025 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:07:23.025 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 04:07:23.035 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:07:23.045 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:07:23.051 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
