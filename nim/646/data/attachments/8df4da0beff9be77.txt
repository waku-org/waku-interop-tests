2025-02-10 04:04:12.130 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 04:04:12.131 DEBUG [tests.conftest] Running test: test_publish_after_node1_restarts with id: 2025-02-10_04-04-12__cbe1603d-f367-4bd0-853c-08c0421ca419
2025-02-10 04:04:12.131 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 04:04:12.131 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-10 04:04:12.131 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-10 04:04:12.137 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:04:12.137 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-10_04-04-12__cbe1603d-f367-4bd0-853c-08c0421ca419__wakuorg_nwaku:latest.log
2025-02-10 04:04:12.137 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:04:12.137 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:04:12.139 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:04:12.139 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.214.242
2025-02-10 04:04:12.139 DEBUG [src.node.docker_mananger] Generated ports ['40737', '40738', '40739', '40740', '40741']
2025-02-10 04:04:12.139 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:04:12.139 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:04:12.139 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:04:12.139 DEBUG [src.node.docker_mananger] docker run -i -t -p 40737:40737 -p 40738:40738 -p 40739:40739 -p 40740:40740 -p 40741:40741 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40739 --rest-port=40737 --tcp-port=40738 --discv5-udp-port=40740 --rest-address=0.0.0.0 --nat=extip:172.18.214.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8fe9cbd082d169fabbfb965fc8284ed192e8c0d5b4d60f8b341ef83a052a6aef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40741 --metrics-logging=true --relay=true
2025-02-10 04:04:12.356 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.214.242 waku 2f0d56bb4d3ff273d0f15c9b3924883343f29c989833b8c3b4cb984ddf0bf2a8
2025-02-10 04:04:12.406 DEBUG [src.node.docker_mananger] Container started with ID 2f0d56bb4d3f. Setting up logs at ./log/docker/node1_2025-02-10_04-04-12__cbe1603d-f367-4bd0-853c-08c0421ca419__wakuorg_nwaku:latest.log
2025-02-10 04:04:12.406 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 40737
2025-02-10 04:04:12.406 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:04:12.938 ERROR [src.node.docker_mananger] Max retries reached for container 483d43d39250. Exiting log stream.
2025-02-10 04:04:13.407 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:13.409 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:04:13.409 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:04:13.409 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:13.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.214.242/tcp/40738/p2p/16Uiu2HAmHiz7xeKRLAoTPZbxAkw2mCCWNbVanDsA2EAY9X76zEEp","/ip4/172.18.214.242/tcp/40739/ws/p2p/16Uiu2HAmHiz7xeKRLAoTPZbxAkw2mCCWNbVanDsA2EAY9X76zEEp"],"enrUri":"enr:-L24QA_pM1oAQTmBU47xLEZNg846JKu3I0lUuWkdHnJFPk6gbujIjkDfKL-5yrfLFHrraD0RsZ8ZBmmJN_hyJNTjYGoCgmlkgnY0gmlwhKwS1vKKbXVsdGlhZGRyc5YACASsEtbyBp8iAAoErBLW8gafI90DgnJzhQADAQAAiXNlY3AyNTZrMaEDS1B_fWaafOMVfbbWZdqCsfY62BWe731dIqP8LEV8aG2DdGNwgp8ig3VkcIKfJIV3YWt1MgE"}'
2025-02-10 04:04:13.412 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:04:13.417 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:04:13.418 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-10_04-04-12__cbe1603d-f367-4bd0-853c-08c0421ca419__wakuorg_nwaku:latest.log
2025-02-10 04:04:13.418 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:04:13.418 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:04:13.419 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:04:13.419 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.171.143
2025-02-10 04:04:13.419 DEBUG [src.node.docker_mananger] Generated ports ['26571', '26572', '26573', '26574', '26575']
2025-02-10 04:04:13.420 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:04:13.420 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:04:13.420 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:04:13.420 DEBUG [src.node.docker_mananger] docker run -i -t -p 26571:26571 -p 26572:26572 -p 26573:26573 -p 26574:26574 -p 26575:26575 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26573 --rest-port=26571 --tcp-port=26572 --discv5-udp-port=26574 --rest-address=0.0.0.0 --nat=extip:172.18.171.143 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e7b12addf5ae26bd6abffaa722b6cf0b34fa00903fa0a9cccddee48eaf9a25ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26575 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QA_pM1oAQTmBU47xLEZNg846JKu3I0lUuWkdHnJFPk6gbujIjkDfKL-5yrfLFHrraD0RsZ8ZBmmJN_hyJNTjYGoCgmlkgnY0gmlwhKwS1vKKbXVsdGlhZGRyc5YACASsEtbyBp8iAAoErBLW8gafI90DgnJzhQADAQAAiXNlY3AyNTZrMaEDS1B_fWaafOMVfbbWZdqCsfY62BWe731dIqP8LEV8aG2DdGNwgp8ig3VkcIKfJIV3YWt1MgE
2025-02-10 04:04:13.641 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.171.143 waku a29fd7eddb5f32f43806335cebaab52f82bbb028cfc3bb24e63debcd147b44b4
2025-02-10 04:04:13.694 DEBUG [src.node.docker_mananger] Container started with ID a29fd7eddb5f. Setting up logs at ./log/docker/node2_2025-02-10_04-04-12__cbe1603d-f367-4bd0-853c-08c0421ca419__wakuorg_nwaku:latest.log
2025-02-10 04:04:13.694 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 26571
2025-02-10 04:04:13.694 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:04:14.695 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26571/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:14.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:04:14.702 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:04:14.703 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26571/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:14.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.143/tcp/26572/p2p/16Uiu2HAmEg4S5HiExHmCCPtvpxv63qqxbsLA8sLxHPVP1iwmWjKm","/ip4/172.18.171.143/tcp/26573/ws/p2p/16Uiu2HAmEg4S5HiExHmCCPtvpxv63qqxbsLA8sLxHPVP1iwmWjKm"],"enrUri":"enr:-L24QC4yxZvzHCJCHfMe8K3-zPAqMKIZyFgEoCdkYkGSsnrqEx3g4_KYp4VV29RdCvIdMXpZlNvYlfm9KgN_5Pu5kpUCgmlkgnY0gmlwhKwSq4-KbXVsdGlhZGRyc5YACASsEquPBmfMAAoErBKrjwZnzd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDHf2SHR3HMq89tQzJNAKG6iiCxD7Th1PEIyiT4Q0hx3CDdGNwgmfMg3VkcIJnzoV3YWt1MgE"}'
2025-02-10 04:04:14.708 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:04:14.708 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26571/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.214.242/tcp/40738/p2p/16Uiu2HAmHiz7xeKRLAoTPZbxAkw2mCCWNbVanDsA2EAY9X76zEEp"]'
2025-02-10 04:04:14.711 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:14.711 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-10 04:04:14.712 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:14.716 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:14.716 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26571/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:14.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:14.722 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:14.727 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:14.727 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:14.828 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:14.828 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:14.830 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160254722270464,"ephemeral":false}]'
2025-02-10 04:04:14.832 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:14.832 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26571/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:14.834 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160254722270464,"ephemeral":false}]'
2025-02-10 04:04:14.835 INFO [src.steps.relay] WARM UP successful!!
2025-02-10 04:04:14.836 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:14.841 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:14.841 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:14.941 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:14.941 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:14.943 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160254836774144,"ephemeral":false}]'
2025-02-10 04:04:14.945 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:14.945 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26571/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:14.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160254836774144,"ephemeral":false}]'
2025-02-10 04:04:14.948 DEBUG [src.node.waku_node] Restarting container with id 2f0d56bb4d3f
2025-02-10 04:04:16.104 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:16.208 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:16.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:04:16.210 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:04:16.211 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:16.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.214.242/tcp/40738/p2p/16Uiu2HAmHiz7xeKRLAoTPZbxAkw2mCCWNbVanDsA2EAY9X76zEEp","/ip4/172.18.214.242/tcp/40739/ws/p2p/16Uiu2HAmHiz7xeKRLAoTPZbxAkw2mCCWNbVanDsA2EAY9X76zEEp"],"enrUri":"enr:-L24QA_pM1oAQTmBU47xLEZNg846JKu3I0lUuWkdHnJFPk6gbujIjkDfKL-5yrfLFHrraD0RsZ8ZBmmJN_hyJNTjYGoCgmlkgnY0gmlwhKwS1vKKbXVsdGlhZGRyc5YACASsEtbyBp8iAAoErBLW8gafI90DgnJzhQADAQAAiXNlY3AyNTZrMaEDS1B_fWaafOMVfbbWZdqCsfY62BWe731dIqP8LEV8aG2DdGNwgp8ig3VkcIKfJIV3YWt1MgE"}'
2025-02-10 04:04:16.213 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:04:16.213 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:16.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:16.232 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26571/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:16.234 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:16.235 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:16.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:16.237 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:16.338 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:16.338 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:16.340 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160256235074816,"ephemeral":false}]'
2025-02-10 04:04:16.342 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:16.342 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26571/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:16.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-10 04:04:17.345 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:17.347 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:17.347 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26571/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:17.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:17.350 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:17.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:17.353 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:17.453 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:17.453 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:17.455 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160257350479360,"ephemeral":false}]'
2025-02-10 04:04:17.457 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:17.457 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26571/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:17.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-10 04:04:18.460 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:18.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:18.462 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26571/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:18.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:18.464 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:18.467 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:18.467 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:18.567 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:18.568 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:18.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160258464899840,"ephemeral":false}]'
2025-02-10 04:04:18.572 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:18.572 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26571/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:18.574 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-10 04:04:19.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:19.577 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:19.577 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26571/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:19.579 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:19.579 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:19.582 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:19.582 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:19.682 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:19.682 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:19.684 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160259579671296,"ephemeral":false}]'
2025-02-10 04:04:19.685 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:19.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26571/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:19.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-10 04:04:20.688 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:20.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:20.691 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26571/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:20.693 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:20.693 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:20.695 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:20.696 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:20.796 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:20.796 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:20.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160260693570304,"ephemeral":false}]'
2025-02-10 04:04:20.800 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:20.800 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26571/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:20.802 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-10 04:04:21.803 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:21.806 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:21.806 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26571/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:21.808 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:21.809 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:21.812 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:21.813 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:21.914 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:21.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:21.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160261809041664,"ephemeral":false}]'
2025-02-10 04:04:21.917 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:21.917 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26571/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:21.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160261809041664,"ephemeral":false}]'
2025-02-10 04:04:21.922 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 04:04:21.923 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 04:04:21.923 DEBUG [src.node.waku_node] Stopping container with id 2f0d56bb4d3f
2025-02-10 04:04:22.470 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:04:22.470 DEBUG [src.node.waku_node] Stopping container with id a29fd7eddb5f
2025-02-10 04:04:23.282 ERROR [src.node.docker_mananger] Max retries reached for container 2f0d56bb4d3f. Exiting log stream.
2025-02-10 04:04:23.636 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:04:23.637 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 04:04:23.654 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:04:23.662 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
