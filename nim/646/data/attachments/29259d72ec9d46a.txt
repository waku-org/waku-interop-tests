2025-02-10 04:06:16.914 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 04:06:16.914 DEBUG [tests.conftest] Running test: test_filter_static_sharding_multiple_shards with id: 2025-02-10_04-06-16__2f605929-ccb9-4b1a-b006-119ced82fd21
2025-02-10 04:06:16.915 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 04:06:16.915 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-10 04:06:16.915 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-10 04:06:16.922 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:06:16.922 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-10_04-06-16__2f605929-ccb9-4b1a-b006-119ced82fd21__wakuorg_nwaku:latest.log
2025-02-10 04:06:16.922 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:06:16.922 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:06:16.924 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:06:16.924 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.96.173
2025-02-10 04:06:16.924 DEBUG [src.node.docker_mananger] Generated ports ['37434', '37435', '37436', '37437', '37438']
2025-02-10 04:06:16.924 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-10 04:06:16.924 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:06:16.924 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:06:16.924 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:06:16.925 DEBUG [src.node.docker_mananger] docker run -i -t -p 37434:37434 -p 37435:37435 -p 37436:37436 -p 37437:37437 -p 37438:37438 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37436 --rest-port=37434 --tcp-port=37435 --discv5-udp-port=37437 --rest-address=0.0.0.0 --nat=extip:172.18.96.173 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=4c4bfdd9e7aad1d99fcc3b64893dfab97fd4e8296edd0ef9ed81de34efc1af2f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37438 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-10 04:06:17.148 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.96.173 waku 5f48f251f55f574290c0d57d66107af2b3de4aeb70cac93522da6c5f75713443
2025-02-10 04:06:17.197 DEBUG [src.node.docker_mananger] Container started with ID 5f48f251f55f. Setting up logs at ./log/docker/node1_2025-02-10_04-06-16__2f605929-ccb9-4b1a-b006-119ced82fd21__wakuorg_nwaku:latest.log
2025-02-10 04:06:17.197 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 37434
2025-02-10 04:06:17.198 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:06:17.719 ERROR [src.node.docker_mananger] Max retries reached for container b4e60c5fb721. Exiting log stream.
2025-02-10 04:06:18.198 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37434/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:18.201 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:06:18.201 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:06:18.202 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37434/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:18.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.173/tcp/37435/p2p/16Uiu2HAmA92JqJhu6cesPY2ESBGT952e2BPuVAd5FWTRwsAEDEoF","/ip4/172.18.96.173/tcp/37436/ws/p2p/16Uiu2HAmA92JqJhu6cesPY2ESBGT952e2BPuVAd5FWTRwsAEDEoF"],"enrUri":"enr:-Mu4QIqHsrkDZYszl6GgrUQHg84aF0uKbEiv_H5rRZiPfwY-OomcPlQfjunUL2lasZYePCguFBYv8AzjHqbV_7k2ZtICgmlkgnY0gmlwhKwSYK2KbXVsdGlhZGRyc5YACASsEmCtBpI7AAoErBJgrQaSPN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQLam2pXkcm0_RqaBWNQs38v_qw3-vuH5_ThacCiNR_LHoN0Y3CCkjuDdWRwgpI9hXdha3UyBQ"}'
2025-02-10 04:06:18.204 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:06:18.211 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:06:18.211 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-10_04-06-16__2f605929-ccb9-4b1a-b006-119ced82fd21__wakuorg_nwaku:latest.log
2025-02-10 04:06:18.211 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:06:18.211 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:06:18.212 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:06:18.213 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.58.18
2025-02-10 04:06:18.213 DEBUG [src.node.docker_mananger] Generated ports ['32556', '32557', '32558', '32559', '32560']
2025-02-10 04:06:18.213 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-10 04:06:18.213 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:06:18.213 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:06:18.213 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:06:18.213 DEBUG [src.node.docker_mananger] docker run -i -t -p 32556:32556 -p 32557:32557 -p 32558:32558 -p 32559:32559 -p 32560:32560 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32558 --rest-port=32556 --tcp-port=32557 --discv5-udp-port=32559 --rest-address=0.0.0.0 --nat=extip:172.18.58.18 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=2e2bcf3adbb53024a81883b0b6a4d9ab1f439941fa4095da2a1ceab95e7d06e5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32560 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-Mu4QIqHsrkDZYszl6GgrUQHg84aF0uKbEiv_H5rRZiPfwY-OomcPlQfjunUL2lasZYePCguFBYv8AzjHqbV_7k2ZtICgmlkgnY0gmlwhKwSYK2KbXVsdGlhZGRyc5YACASsEmCtBpI7AAoErBJgrQaSPN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQLam2pXkcm0_RqaBWNQs38v_qw3-vuH5_ThacCiNR_LHoN0Y3CCkjuDdWRwgpI9hXdha3UyBQ --filternode=/ip4/172.18.96.173/tcp/37435/p2p/16Uiu2HAmA92JqJhu6cesPY2ESBGT952e2BPuVAd5FWTRwsAEDEoF --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-10 04:06:18.439 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.58.18 waku 6ea4afe61adbf905ab9bfbbecac859989354600d7955fd73266b8de17c8e792c
2025-02-10 04:06:18.489 DEBUG [src.node.docker_mananger] Container started with ID 6ea4afe61adb. Setting up logs at ./log/docker/node2_2025-02-10_04-06-16__2f605929-ccb9-4b1a-b006-119ced82fd21__wakuorg_nwaku:latest.log
2025-02-10 04:06:18.489 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 32556
2025-02-10 04:06:18.489 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:06:19.490 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32556/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:19.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:06:19.493 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:06:19.493 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32556/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:19.496 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.58.18/tcp/32557/p2p/16Uiu2HAmMsxzCB4bUeF16T6hiAaVH3ezPbbWCPNQw3QUMepz6WeX","/ip4/172.18.58.18/tcp/32558/ws/p2p/16Uiu2HAmMsxzCB4bUeF16T6hiAaVH3ezPbbWCPNQw3QUMepz6WeX"],"enrUri":"enr:-Mu4QJWt2xFpK6w1iEdilWSQgh7fvhCZk47qgJhRIJRZ3zjAFfkWasMP0VOnxkUOnvYACFQOOXYVa6j5zamcEXvqw0UCgmlkgnY0gmlwhKwSOhKKbXVsdGlhZGRyc5YACASsEjoSBn8tAAoErBI6EgZ_Lt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOJDDDddxCQeTp0qbs0Q3CkBHj-IJi8M-QRVMWQrZTbjIN0Y3CCfy2DdWRwgn8vhXdha3UyAA"}'
2025-02-10 04:06:19.496 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:06:19.496 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32556/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.173/tcp/37435/p2p/16Uiu2HAmA92JqJhu6cesPY2ESBGT952e2BPuVAd5FWTRwsAEDEoF"]'
2025-02-10 04:06:19.533 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:19.534 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37434/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-10 04:06:19.555 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:19.557 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32556/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "cc16c139-053d-4d71-ac92-ef5ebd0617c7", "contentFilters": ["/myapp/1/latest/proto"], "pubsubTopic": "/waku/2/rs/2/0"}'
2025-02-10 04:06:19.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"cc16c139-053d-4d71-ac92-ef5ebd0617c7","statusDesc":"OK"}'
2025-02-10 04:06:19.569 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32556/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "44ba621a-8633-4644-b74e-eea897d3ef9b", "contentFilters": ["/waku/2/content/test.js"], "pubsubTopic": "/waku/2/rs/2/1"}'
2025-02-10 04:06:19.577 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"44ba621a-8633-4644-b74e-eea897d3ef9b","statusDesc":"OK"}'
2025-02-10 04:06:19.577 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32556/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "57418b3e-86ab-42b8-9253-b2d7fc6b3c7b", "contentFilters": ["/app/22/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/2"}'
2025-02-10 04:06:19.586 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"57418b3e-86ab-42b8-9253-b2d7fc6b3c7b","statusDesc":"OK"}'
2025-02-10 04:06:19.586 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32556/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9ca78408-01a7-4d28-9869-f7b3e3a4259f", "contentFilters": ["/toychat/2/huilong/proto"], "pubsubTopic": "/waku/2/rs/2/3"}'
2025-02-10 04:06:19.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"9ca78408-01a7-4d28-9869-f7b3e3a4259f","statusDesc":"OK"}'
2025-02-10 04:06:19.594 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32556/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "cc58ebdc-f790-41f2-b149-4dab069c0952", "contentFilters": ["/statusim/1/community/cbor"], "pubsubTopic": "/waku/2/rs/2/4"}'
2025-02-10 04:06:19.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"cc58ebdc-f790-41f2-b149-4dab069c0952","statusDesc":"OK"}'
2025-02-10 04:06:19.603 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32556/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "21dbe60e-881c-4a2c-96ba-e8ca698ea2eb", "contentFilters": ["/app/27/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/5"}'
2025-02-10 04:06:19.612 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"21dbe60e-881c-4a2c-96ba-e8ca698ea2eb","statusDesc":"OK"}'
2025-02-10 04:06:19.613 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32556/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2ccd013e-6a0f-40b9-81d6-51db3d9f22a0", "contentFilters": ["/app/29/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/6"}'
2025-02-10 04:06:19.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"2ccd013e-6a0f-40b9-81d6-51db3d9f22a0","statusDesc":"OK"}'
2025-02-10 04:06:19.622 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32556/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "01f7f3cc-ac2c-47e3-b60c-988c03172da3", "contentFilters": ["/app/20/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/7"}'
2025-02-10 04:06:19.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"01f7f3cc-ac2c-47e3-b60c-988c03172da3","statusDesc":"OK"}'
2025-02-10 04:06:19.632 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:19.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:19.641 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:19.741 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:19.741 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32556/filter/v2/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:19.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160379631963904,"ephemeral":false}]'
2025-02-10 04:06:19.746 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:19.752 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:19.753 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:19.853 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:19.853 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32556/filter/v2/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:19.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739160379746488576,"ephemeral":false}]'
2025-02-10 04:06:19.858 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:19.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:19.863 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:19.964 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:19.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32556/filter/v2/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:19.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739160379857882624,"ephemeral":false}]'
2025-02-10 04:06:19.969 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:19.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:19.975 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:20.075 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:20.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32556/filter/v2/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:20.078 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739160379968927488,"ephemeral":false}]'
2025-02-10 04:06:20.080 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:20.085 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:20.086 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:20.186 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:20.186 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32556/filter/v2/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:20.189 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739160380080194048,"ephemeral":false}]'
2025-02-10 04:06:20.190 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:20.196 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:20.196 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:20.296 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:20.297 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32556/filter/v2/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:20.300 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739160380190765056,"ephemeral":false}]'
2025-02-10 04:06:20.302 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:20.308 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:20.308 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:20.408 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:20.408 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32556/filter/v2/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:20.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739160380302022400,"ephemeral":false}]'
2025-02-10 04:06:20.413 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37434/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:20.419 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:20.419 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:20.520 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:20.520 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32556/filter/v2/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:20.522 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739160380413734400,"ephemeral":false}]'
2025-02-10 04:06:20.525 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 04:06:20.526 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 04:06:20.526 DEBUG [src.node.waku_node] Stopping container with id 5f48f251f55f
2025-02-10 04:06:21.788 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:06:21.788 DEBUG [src.node.waku_node] Stopping container with id 6ea4afe61adb
2025-02-10 04:06:22.601 ERROR [src.node.docker_mananger] Max retries reached for container 5f48f251f55f. Exiting log stream.
2025-02-10 04:06:23.309 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:06:23.310 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 04:06:23.318 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:06:23.325 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
