[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_without_pubsub_topic_and_content_topic with id: 2025-02-10_04-07-47__4c611ae8-4c87-46a3-b405-60da17b8ed05
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-10_04-07-47__4c611ae8-4c87-46a3-b405-60da17b8ed05__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.104.144
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57031', '57032', '57033', '57034', '57035']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57031:57031 -p 57032:57032 -p 57033:57033 -p 57034:57034 -p 57035:57035 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57033 --rest-port=57031 --tcp-port=57032 --discv5-udp-port=57034 --rest-address=0.0.0.0 --nat=extip:172.18.104.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a727ada521ede56a5921da89973f0b58df8aeaf7ecbb66425f94e2cbfb6d7aab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57035 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.104.144 waku 02b32904a3a43f7668140cbd97212c0dc2059dffa5b9596fe680dec7254de9d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 02b32904a3a4. Setting up logs at ./log/docker/publishing_node1_2025-02-10_04-07-47__4c611ae8-4c87-46a3-b405-60da17b8ed05__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 57031
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8b61e43032cb. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57031/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57031/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.144/tcp/57032/p2p/16Uiu2HAm2JyGhDJM5rJDENYGJ3VpubxQXzv4c2KwZseH7ocuf5iN","/ip4/172.18.104.144/tcp/57033/ws/p2p/16Uiu2HAm2JyGhDJM5rJDENYGJ3VpubxQXzv4c2KwZseH7ocuf5iN"],"enrUri":"enr:-L24QHL23SePwZ4-rYtkfi-yCYggTeShRuBV9CoFt-o6GPxrE7zWhdnqBxlhl-F3STDdXJ3OZdhU5jzQUwA69ts5so4CgmlkgnY0gmlwhKwSaJCKbXVsdGlhZGRyc5YACASsEmiQBt7IAAoErBJokAbeyd0DgnJzhQADAQAAiXNlY3AyNTZrMaECZkpLVHoLXoUC3iueaGd8p86GDUqgUNxc7GLLI0iv1H-DdGNwgt7Ig3VkcILeyoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-10_04-07-47__4c611ae8-4c87-46a3-b405-60da17b8ed05__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.113.105
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4547', '4548', '4549', '4550', '4551']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4547:4547 -p 4548:4548 -p 4549:4549 -p 4550:4550 -p 4551:4551 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4549 --rest-port=4547 --tcp-port=4548 --discv5-udp-port=4550 --rest-address=0.0.0.0 --nat=extip:172.18.113.105 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9dd8964d9f20cd41f441bbdc3fb69b68fc67b8a8ce3904a113fe5b4bdfacdcfe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4551 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QHL23SePwZ4-rYtkfi-yCYggTeShRuBV9CoFt-o6GPxrE7zWhdnqBxlhl-F3STDdXJ3OZdhU5jzQUwA69ts5so4CgmlkgnY0gmlwhKwSaJCKbXVsdGlhZGRyc5YACASsEmiQBt7IAAoErBJokAbeyd0DgnJzhQADAQAAiXNlY3AyNTZrMaECZkpLVHoLXoUC3iueaGd8p86GDUqgUNxc7GLLI0iv1H-DdGNwgt7Ig3VkcILeyoV3YWt1MgM --storenode=/ip4/172.18.104.144/tcp/57032/p2p/16Uiu2HAm2JyGhDJM5rJDENYGJ3VpubxQXzv4c2KwZseH7ocuf5iN --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.113.105 waku 3c09b6658923ea9890026ae086f0e5dae8ebc14154f74bf6a4532aa3d69167dd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3c09b6658923. Setting up logs at ./log/docker/store_node1_2025-02-10_04-07-47__4c611ae8-4c87-46a3-b405-60da17b8ed05__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4547
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4547/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4547/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.113.105/tcp/4548/p2p/16Uiu2HAmQFSoTnC1vBGPoWJaogZik7yaHwKbCHfPGc88E4RhGgdx","/ip4/172.18.113.105/tcp/4549/ws/p2p/16Uiu2HAmQFSoTnC1vBGPoWJaogZik7yaHwKbCHfPGc88E4RhGgdx"],"enrUri":"enr:-L24QL-e_yOea9mZ6aEE0D2ls4KxLLGHfttg_RDc3LLXkSxtWyUJSGKaGCd81Zm8ZkLyV4Euf8SiqItCg-ONNlCjQOQCgmlkgnY0gmlwhKwScWmKbXVsdGlhZGRyc5YACASsEnFpBhHEAAoErBJxaQYRxd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDrEQ2VGHTShdXzUTm42YXxhmHNMnpTLRPmM9VJLqw_vODdGNwghHEg3VkcIIRxoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4547/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.104.144/tcp/57032/p2p/16Uiu2HAm2JyGhDJM5rJDENYGJ3VpubxQXzv4c2KwZseH7ocuf5iN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57031/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4547/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57031/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x61cba21a2ae1107984188926f45f3af838898189410ed1576555ae98cfd48ff2"},{"messageHash":"0x263c83b03da13b9d32f2eb6846cd4c4a6c4d0ddbfd6118756ab1e9395055d009"},{"messageHash":"0xfc4997f561503ef4199f032e10440c09db8b62d55913ad000def15619b4aec5f"},{"messageHash":"0x66885d42df7e59f53968b31aab248a941b9c878f60de9d277f904f3c1a5f826d"},{"messageHash":"0xae001d0dbc7c4be71d0c76bb4f80d06a75c5adafd9831b31f305f5cbd05a543d"},{"messageHash":"0x8b46bbd9694e4c913ae3d88d08dbc64a457d366822a2082833365112b95723ad"},{"messageHash":"0x5da49e61dae1c916274675e3aef70f0a8d700bfa5e45bd7e8230aea6989d9833"},{"messageHash":"0xefda828064de797a0f7af4632f23718de23eb888a670b9c388e86aeeb206f204"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4547/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x61cba21a2ae1107984188926f45f3af838898189410ed1576555ae98cfd48ff2"},{"messageHash":"0x263c83b03da13b9d32f2eb6846cd4c4a6c4d0ddbfd6118756ab1e9395055d009"},{"messageHash":"0xfc4997f561503ef4199f032e10440c09db8b62d55913ad000def15619b4aec5f"},{"messageHash":"0x66885d42df7e59f53968b31aab248a941b9c878f60de9d277f904f3c1a5f826d"},{"messageHash":"0xae001d0dbc7c4be71d0c76bb4f80d06a75c5adafd9831b31f305f5cbd05a543d"},{"messageHash":"0x8b46bbd9694e4c913ae3d88d08dbc64a457d366822a2082833365112b95723ad"},{"messageHash":"0x5da49e61dae1c916274675e3aef70f0a8d700bfa5e45bd7e8230aea6989d9833"},{"messageHash":"0xefda828064de797a0f7af4632f23718de23eb888a670b9c388e86aeeb206f204"}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 02b32904a3a4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3c09b6658923
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 02b32904a3a4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.