2025-02-10 04:08:06.346 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 04:08:06.346 DEBUG [tests.conftest] Running test: test_publish_with_valid_payloads with id: 2025-02-10_04-08-06__3cb87a93-2c2c-4f3a-bf86-a8220d920978
2025-02-10 04:08:06.346 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 04:08:06.346 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-10 04:08:06.347 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-10 04:08:06.352 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:08:06.353 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-10_04-08-06__3cb87a93-2c2c-4f3a-bf86-a8220d920978__wakuorg_nwaku:latest.log
2025-02-10 04:08:06.353 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:08:06.353 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:08:06.354 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:08:06.354 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.30.86
2025-02-10 04:08:06.354 DEBUG [src.node.docker_mananger] Generated ports ['8860', '8861', '8862', '8863', '8864']
2025-02-10 04:08:06.355 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:08:06.355 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:08:06.355 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:08:06.355 DEBUG [src.node.docker_mananger] docker run -i -t -p 8860:8860 -p 8861:8861 -p 8862:8862 -p 8863:8863 -p 8864:8864 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8862 --rest-port=8860 --tcp-port=8861 --discv5-udp-port=8863 --rest-address=0.0.0.0 --nat=extip:172.18.30.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1daf9bb6f2b7fdecdd9cbbbc2e5eeb3d7fde0e9034ac626b8e32e354c702baee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8864 --metrics-logging=true --relay=true
2025-02-10 04:08:06.593 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.30.86 waku 8742801c08cb4fd60c11cad2be5f4911be5c2ad547521c5f6326d87fb8e386da
2025-02-10 04:08:06.641 DEBUG [src.node.docker_mananger] Container started with ID 8742801c08cb. Setting up logs at ./log/docker/node1_2025-02-10_04-08-06__3cb87a93-2c2c-4f3a-bf86-a8220d920978__wakuorg_nwaku:latest.log
2025-02-10 04:08:06.641 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8860
2025-02-10 04:08:06.641 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:08:07.109 ERROR [src.node.docker_mananger] Max retries reached for container 6dd02e59dcf2. Exiting log stream.
2025-02-10 04:08:07.642 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:07.644 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:08:07.645 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:08:07.645 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:07.647 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.86/tcp/8861/p2p/16Uiu2HAmNaLNfTDVPkWzPbdQnMYuYWJn1ZYVgQjvxuyzgyHNM5b8","/ip4/172.18.30.86/tcp/8862/ws/p2p/16Uiu2HAmNaLNfTDVPkWzPbdQnMYuYWJn1ZYVgQjvxuyzgyHNM5b8"],"enrUri":"enr:-L24QGARKqXErSLLeRNQ6-_rDtS5wuzC-hbHJ94UwnWrYf9gbZE1gRImGAtaOe1T5Vdq6ScGBPnfMH9ibE9rxMo4Q8oCgmlkgnY0gmlwhKwSHlaKbXVsdGlhZGRyc5YACASsEh5WBiKdAAoErBIeVgYint0DgnJzhQADAQAAiXNlY3AyNTZrMaEDk2ObJ7DWZZND-uvIsLamWOVqbUC-ekhy3R2JNwsk7DuDdGNwgiKdg3VkcIIin4V3YWt1MgE"}'
2025-02-10 04:08:07.647 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:08:07.653 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:08:07.653 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-10_04-08-06__3cb87a93-2c2c-4f3a-bf86-a8220d920978__wakuorg_nwaku:latest.log
2025-02-10 04:08:07.653 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:08:07.654 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:08:07.655 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:08:07.655 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.51.42
2025-02-10 04:08:07.655 DEBUG [src.node.docker_mananger] Generated ports ['52338', '52339', '52340', '52341', '52342']
2025-02-10 04:08:07.655 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:08:07.655 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:08:07.656 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:08:07.656 DEBUG [src.node.docker_mananger] docker run -i -t -p 52338:52338 -p 52339:52339 -p 52340:52340 -p 52341:52341 -p 52342:52342 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52340 --rest-port=52338 --tcp-port=52339 --discv5-udp-port=52341 --rest-address=0.0.0.0 --nat=extip:172.18.51.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f84d79bb2be98cab90bdc3db9defb5991a08e86234f7ff1210a6586fdd6709c4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52342 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGARKqXErSLLeRNQ6-_rDtS5wuzC-hbHJ94UwnWrYf9gbZE1gRImGAtaOe1T5Vdq6ScGBPnfMH9ibE9rxMo4Q8oCgmlkgnY0gmlwhKwSHlaKbXVsdGlhZGRyc5YACASsEh5WBiKdAAoErBIeVgYint0DgnJzhQADAQAAiXNlY3AyNTZrMaEDk2ObJ7DWZZND-uvIsLamWOVqbUC-ekhy3R2JNwsk7DuDdGNwgiKdg3VkcIIin4V3YWt1MgE
2025-02-10 04:08:07.886 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.51.42 waku 1f5aef4595a87f894ea2736959836af7fcffbeef11c94fe4e5baba201f51871d
2025-02-10 04:08:07.936 DEBUG [src.node.docker_mananger] Container started with ID 1f5aef4595a8. Setting up logs at ./log/docker/node2_2025-02-10_04-08-06__3cb87a93-2c2c-4f3a-bf86-a8220d920978__wakuorg_nwaku:latest.log
2025-02-10 04:08:07.936 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 52338
2025-02-10 04:08:07.936 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:08:08.937 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:08.945 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:08:08.946 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:08:08.946 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:08.949 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.42/tcp/52339/p2p/16Uiu2HAkvNT8A6faYSK1QPCThEakbTbNVktRoeYdZiai3neZdcZS","/ip4/172.18.51.42/tcp/52340/ws/p2p/16Uiu2HAkvNT8A6faYSK1QPCThEakbTbNVktRoeYdZiai3neZdcZS"],"enrUri":"enr:-L24QOv0JdSYUnYWgTqwd78qRQ7drutp9jwLOjTejFhxm-bfQ7GyTU6w6x3Zx6jyGYC0TW7Q4gZs3V4tLwIk3bgRowsCgmlkgnY0gmlwhKwSMyqKbXVsdGlhZGRyc5YACASsEjMqBsxzAAoErBIzKgbMdN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDghojZg0atQubh71GaLeFo-B2v0IbZnaF97qbHvWGEWDdGNwgsxzg3VkcILMdYV3YWt1MgE"}'
2025-02-10 04:08:08.949 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:08:08.949 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52338/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.30.86/tcp/8861/p2p/16Uiu2HAmNaLNfTDVPkWzPbdQnMYuYWJn1ZYVgQjvxuyzgyHNM5b8"]'
2025-02-10 04:08:08.952 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:08.952 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-10 04:08:08.953 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:08:08.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:08.957 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52338/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:08:08.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:08.964 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:08.969 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:08.969 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:09.070 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.070 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.072 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160488964548608,"ephemeral":false}]'
2025-02-10 04:08:09.074 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.074 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.076 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160488964548608,"ephemeral":false}]'
2025-02-10 04:08:09.077 INFO [src.steps.relay] WARM UP successful!!
2025-02-10 04:08:09.078 DEBUG [tests.relay.test_publish] Running test with payload A simple string
2025-02-10 04:08:09.078 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:09.083 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:09.083 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:09.184 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.184 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.186 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489078636800,"ephemeral":false}]'
2025-02-10 04:08:09.187 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.188 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489078636800,"ephemeral":false}]'
2025-02-10 04:08:09.191 DEBUG [tests.relay.test_publish] Running test with payload An integer
2025-02-10 04:08:09.191 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:09.196 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:09.196 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:09.297 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.297 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.299 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489191578368,"ephemeral":false}]'
2025-02-10 04:08:09.301 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.301 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.303 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489191578368,"ephemeral":false}]'
2025-02-10 04:08:09.304 DEBUG [tests.relay.test_publish] Running test with payload A dictionary
2025-02-10 04:08:09.305 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:09.309 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:09.310 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:09.410 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.410 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.412 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489304914944,"ephemeral":false}]'
2025-02-10 04:08:09.414 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.414 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489304914944,"ephemeral":false}]'
2025-02-10 04:08:09.417 DEBUG [tests.relay.test_publish] Running test with payload Chinese characters
2025-02-10 04:08:09.417 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:09.421 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:09.422 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:09.523 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.523 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.525 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489417803008,"ephemeral":false}]'
2025-02-10 04:08:09.526 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.526 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.528 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489417803008,"ephemeral":false}]'
2025-02-10 04:08:09.529 DEBUG [tests.relay.test_publish] Running test with payload Emojis
2025-02-10 04:08:09.530 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:09.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:09.534 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:09.635 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.635 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.638 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489530114816,"ephemeral":false}]'
2025-02-10 04:08:09.639 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.639 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.641 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489530114816,"ephemeral":false}]'
2025-02-10 04:08:09.643 DEBUG [tests.relay.test_publish] Running test with payload Lorem ipsum text
2025-02-10 04:08:09.643 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:09.647 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:09.647 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:09.747 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.748 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.750 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489643428352,"ephemeral":false}]'
2025-02-10 04:08:09.751 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.751 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.754 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489643428352,"ephemeral":false}]'
2025-02-10 04:08:09.755 DEBUG [tests.relay.test_publish] Running test with payload HTML content
2025-02-10 04:08:09.755 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:09.760 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:09.761 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:09.861 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.861 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.864 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489755695360,"ephemeral":false}]'
2025-02-10 04:08:09.865 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.865 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.867 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489755695360,"ephemeral":false}]'
2025-02-10 04:08:09.868 DEBUG [tests.relay.test_publish] Running test with payload Cyrillic characters
2025-02-10 04:08:09.869 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "0J/RgNC40LLQtdGC", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:09.873 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:09.873 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:09.974 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.974 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.976 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489868994816,"ephemeral":false}]'
2025-02-10 04:08:09.977 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:09.977 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:09.979 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489868994816,"ephemeral":false}]'
2025-02-10 04:08:09.981 DEBUG [tests.relay.test_publish] Running test with payload Base64 encoded string
2025-02-10 04:08:09.981 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QmFzZTY0PT1kR1Z6ZEE9PQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:09.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:09.986 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:10.086 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.086 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.089 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489981576704,"ephemeral":false}]'
2025-02-10 04:08:10.090 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.090 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160489981576704,"ephemeral":false}]'
2025-02-10 04:08:10.093 DEBUG [tests.relay.test_publish] Running test with payload Binary data
2025-02-10 04:08:10.094 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:10.098 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:10.098 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:10.198 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.199 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.201 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490094023424,"ephemeral":false}]'
2025-02-10 04:08:10.202 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.202 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490094023424,"ephemeral":false}]'
2025-02-10 04:08:10.206 DEBUG [tests.relay.test_publish] Running test with payload Special characters with whitespace
2025-02-10 04:08:10.206 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "CQpTcGVjaWFsCUNoYXJhY3RlcnMK", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:10.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:10.211 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:10.311 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.311 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490206446080,"ephemeral":false}]'
2025-02-10 04:08:10.315 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.315 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490206446080,"ephemeral":false}]'
2025-02-10 04:08:10.319 DEBUG [tests.relay.test_publish] Running test with payload Boolean false as a string
2025-02-10 04:08:10.319 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmFsc2U=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:10.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:10.324 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:10.424 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.424 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.427 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490319289600,"ephemeral":false}]'
2025-02-10 04:08:10.428 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.428 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490319289600,"ephemeral":false}]'
2025-02-10 04:08:10.431 DEBUG [tests.relay.test_publish] Running test with payload A float number
2025-02-10 04:08:10.432 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "My4xNDE1OTI2NTM1", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:10.436 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:10.437 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:10.537 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.537 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.540 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490432230144,"ephemeral":false}]'
2025-02-10 04:08:10.541 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.541 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.544 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490432230144,"ephemeral":false}]'
2025-02-10 04:08:10.545 DEBUG [tests.relay.test_publish] Running test with payload A list
2025-02-10 04:08:10.545 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "WzEsIDIsIDMsIDQsIDVd", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:10.549 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:10.549 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:10.650 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.650 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.652 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490545616640,"ephemeral":false}]'
2025-02-10 04:08:10.653 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.653 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490545616640,"ephemeral":false}]'
2025-02-10 04:08:10.657 DEBUG [tests.relay.test_publish] Running test with payload Hexadecimal number as a string
2025-02-10 04:08:10.657 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MHhERUFEQkVFRg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:10.661 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:10.662 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:10.762 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.762 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.764 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490657452032,"ephemeral":false}]'
2025-02-10 04:08:10.765 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.766 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.768 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490657452032,"ephemeral":false}]'
2025-02-10 04:08:10.769 DEBUG [tests.relay.test_publish] Running test with payload Email format
2025-02-10 04:08:10.769 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "dXNlckBleGFtcGxlLmNvbQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:10.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:10.774 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:10.875 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490769599744,"ephemeral":false}]'
2025-02-10 04:08:10.878 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.878 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.880 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490769599744,"ephemeral":false}]'
2025-02-10 04:08:10.882 DEBUG [tests.relay.test_publish] Running test with payload URL format
2025-02-10 04:08:10.882 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "aHR0cDovL2V4YW1wbGUuY29t", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:10.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:10.887 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:10.987 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.987 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490882297856,"ephemeral":false}]'
2025-02-10 04:08:10.991 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:10.991 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:10.993 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490882297856,"ephemeral":false}]'
2025-02-10 04:08:10.994 DEBUG [tests.relay.test_publish] Running test with payload Date and time in ISO format
2025-02-10 04:08:10.994 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MjAyMy0xMS0wMVQxMjowMDowMFo=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:10.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:10.999 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:11.099 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.100 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490994843648,"ephemeral":false}]'
2025-02-10 04:08:11.103 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.104 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.106 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160490994843648,"ephemeral":false}]'
2025-02-10 04:08:11.107 DEBUG [tests.relay.test_publish] Running test with payload String with escaped quotes
2025-02-10 04:08:11.107 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "IkVzY2FwZWQiIFwicXVvdGVzXCI=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:11.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:11.112 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:11.213 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.215 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491107773952,"ephemeral":false}]'
2025-02-10 04:08:11.217 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.217 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.219 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491107773952,"ephemeral":false}]'
2025-02-10 04:08:11.220 DEBUG [tests.relay.test_publish] Running test with payload A regular expression
2025-02-10 04:08:11.220 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:11.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:11.225 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:11.326 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.326 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491220826368,"ephemeral":false}]'
2025-02-10 04:08:11.330 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.330 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.332 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491220826368,"ephemeral":false}]'
2025-02-10 04:08:11.333 DEBUG [tests.relay.test_publish] Running test with payload A very long string
2025-02-10 04:08:11.333 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:11.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:11.339 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:11.440 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.443 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491333838592,"ephemeral":false}]'
2025-02-10 04:08:11.444 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.444 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491333838592,"ephemeral":false}]'
2025-02-10 04:08:11.448 DEBUG [tests.relay.test_publish] Running test with payload A JSON string
2025-02-10 04:08:11.448 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:11.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:11.453 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:11.554 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.554 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491448646912,"ephemeral":false}]'
2025-02-10 04:08:11.557 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.557 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491448646912,"ephemeral":false}]'
2025-02-10 04:08:11.561 DEBUG [tests.relay.test_publish] Running test with payload A Unix path
2025-02-10 04:08:11.561 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "L3Vzci9sb2NhbC9iaW4=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:11.566 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:11.566 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:11.667 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.667 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.669 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491561753600,"ephemeral":false}]'
2025-02-10 04:08:11.670 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.671 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491561753600,"ephemeral":false}]'
2025-02-10 04:08:11.674 DEBUG [tests.relay.test_publish] Running test with payload A Windows path
2025-02-10 04:08:11.675 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QzpcV2luZG93c1xTeXN0ZW0zMg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:11.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:11.680 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:11.780 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.781 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491675046144,"ephemeral":false}]'
2025-02-10 04:08:11.784 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.785 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491675046144,"ephemeral":false}]'
2025-02-10 04:08:11.788 DEBUG [tests.relay.test_publish] Running test with payload An SQL query
2025-02-10 04:08:11.788 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:11.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:11.793 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:11.894 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.894 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.897 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491788816384,"ephemeral":false}]'
2025-02-10 04:08:11.899 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:11.899 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:11.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491788816384,"ephemeral":false}]'
2025-02-10 04:08:11.902 DEBUG [tests.relay.test_publish] Running test with payload JavaScript code snippet
2025-02-10 04:08:11.903 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:11.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:11.908 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:12.008 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.009 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491903050752,"ephemeral":false}]'
2025-02-10 04:08:12.012 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.012 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160491903050752,"ephemeral":false}]'
2025-02-10 04:08:12.016 DEBUG [tests.relay.test_publish] Running test with payload A CSS snippet
2025-02-10 04:08:12.016 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:12.021 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:12.021 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:12.121 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.122 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.124 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492016457728,"ephemeral":false}]'
2025-02-10 04:08:12.125 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.125 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492016457728,"ephemeral":false}]'
2025-02-10 04:08:12.129 DEBUG [tests.relay.test_publish] Running test with payload A Python one-liner
2025-02-10 04:08:12.129 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "cHJpbnQoJ0hlbGxvIFdvcmxkJyk=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:12.134 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:12.134 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:12.235 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.235 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492129643264,"ephemeral":false}]'
2025-02-10 04:08:12.238 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.239 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492129643264,"ephemeral":false}]'
2025-02-10 04:08:12.242 DEBUG [tests.relay.test_publish] Running test with payload An IP address
2025-02-10 04:08:12.242 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTkyLjE2OC4xLjE=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:12.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:12.247 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:12.347 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.347 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492242636288,"ephemeral":false}]'
2025-02-10 04:08:12.351 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.351 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492242636288,"ephemeral":false}]'
2025-02-10 04:08:12.354 DEBUG [tests.relay.test_publish] Running test with payload A domain name
2025-02-10 04:08:12.355 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "d3d3LmV4YW1wbGUuY29t", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:12.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:12.360 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:12.460 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.461 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.463 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492355052544,"ephemeral":false}]'
2025-02-10 04:08:12.464 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.464 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.466 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492355052544,"ephemeral":false}]'
2025-02-10 04:08:12.467 DEBUG [tests.relay.test_publish] Running test with payload A user agent string
2025-02-10 04:08:12.467 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:12.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:12.472 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:12.572 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.572 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.574 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492467851520,"ephemeral":false}]'
2025-02-10 04:08:12.576 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.576 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.579 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492467851520,"ephemeral":false}]'
2025-02-10 04:08:12.580 DEBUG [tests.relay.test_publish] Running test with payload A credit card number
2025-02-10 04:08:12.581 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzNC01Njc4LTkwMTItMzQ1Ng==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:12.585 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:12.585 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:12.686 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.686 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492580954368,"ephemeral":false}]'
2025-02-10 04:08:12.689 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.690 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492580954368,"ephemeral":false}]'
2025-02-10 04:08:12.693 DEBUG [tests.relay.test_publish] Running test with payload A phone number
2025-02-10 04:08:12.693 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "KzEyMzQ1Njc4OTA=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:12.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:12.698 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:12.798 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.798 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.801 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492693759232,"ephemeral":false}]'
2025-02-10 04:08:12.802 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.802 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.804 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492693759232,"ephemeral":false}]'
2025-02-10 04:08:12.806 DEBUG [tests.relay.test_publish] Running test with payload A UUID
2025-02-10 04:08:12.806 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:12.810 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:12.811 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:12.911 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492806308096,"ephemeral":false}]'
2025-02-10 04:08:12.914 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:12.915 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:12.917 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492806308096,"ephemeral":false}]'
2025-02-10 04:08:12.918 DEBUG [tests.relay.test_publish] Running test with payload A hashtag
2025-02-10 04:08:12.919 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "I2hlbGxvV29ybGQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:12.922 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:12.924 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:13.024 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.024 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.026 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492918875392,"ephemeral":false}]'
2025-02-10 04:08:13.028 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.028 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.030 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160492918875392,"ephemeral":false}]'
2025-02-10 04:08:13.031 DEBUG [tests.relay.test_publish] Running test with payload A Twitter handle
2025-02-10 04:08:13.032 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QHVzZXJuYW1l", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:13.036 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:13.036 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:13.137 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.137 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160493032180736,"ephemeral":false}]'
2025-02-10 04:08:13.140 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.140 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160493032180736,"ephemeral":false}]'
2025-02-10 04:08:13.144 DEBUG [tests.relay.test_publish] Running test with payload A password
2025-02-10 04:08:13.144 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UEBzc3cwcmQh", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:13.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:13.148 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:13.248 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.249 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.251 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160493144326144,"ephemeral":false}]'
2025-02-10 04:08:13.252 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.252 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.254 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160493144326144,"ephemeral":false}]'
2025-02-10 04:08:13.255 DEBUG [tests.relay.test_publish] Running test with payload A date in common format
2025-02-10 04:08:13.256 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MDEvMTEvMjAyMw==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:13.260 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:13.260 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:13.361 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.361 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160493256213760,"ephemeral":false}]'
2025-02-10 04:08:13.364 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160493256213760,"ephemeral":false}]'
2025-02-10 04:08:13.368 DEBUG [tests.relay.test_publish] Running test with payload A time string
2025-02-10 04:08:13.368 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTI6MDA6MDA=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:13.373 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:13.373 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:13.473 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.473 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.476 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160493368496640,"ephemeral":false}]'
2025-02-10 04:08:13.477 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.477 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160493368496640,"ephemeral":false}]'
2025-02-10 04:08:13.480 DEBUG [tests.relay.test_publish] Running test with payload A mathematical equation
2025-02-10 04:08:13.480 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RSA9IG1jXjI=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:08:13.484 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:08:13.485 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:08:13.585 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.586 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.588 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160493480811776,"ephemeral":false}]'
2025-02-10 04:08:13.589 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:08:13.589 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52338/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:08:13.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160493480811776,"ephemeral":false}]'
2025-02-10 04:08:13.595 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 04:08:13.596 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 04:08:13.596 DEBUG [src.node.waku_node] Stopping container with id 8742801c08cb
2025-02-10 04:08:14.116 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:08:14.116 DEBUG [src.node.waku_node] Stopping container with id 1f5aef4595a8
2025-02-10 04:08:14.928 ERROR [src.node.docker_mananger] Max retries reached for container 8742801c08cb. Exiting log stream.
2025-02-10 04:08:15.570 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:08:15.571 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 04:08:15.586 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:08:15.598 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
