2025-02-10 04:04:39.397 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 04:04:39.398 DEBUG [tests.conftest] Running test: test_filter_ping_without_request_id with id: 2025-02-10_04-04-39__29d4bd32-73d2-4726-ac96-43b911b0dd7d
2025-02-10 04:04:39.398 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 04:04:39.398 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-10 04:04:39.398 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-10 04:04:39.405 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:04:39.405 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-10_04-04-39__29d4bd32-73d2-4726-ac96-43b911b0dd7d__wakuorg_nwaku:latest.log
2025-02-10 04:04:39.405 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:04:39.405 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:04:39.407 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:04:39.407 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.23.144
2025-02-10 04:04:39.407 DEBUG [src.node.docker_mananger] Generated ports ['64588', '64589', '64590', '64591', '64592']
2025-02-10 04:04:39.407 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:04:39.407 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:04:39.407 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:04:39.408 DEBUG [src.node.docker_mananger] docker run -i -t -p 64588:64588 -p 64589:64589 -p 64590:64590 -p 64591:64591 -p 64592:64592 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64590 --rest-port=64588 --tcp-port=64589 --discv5-udp-port=64591 --rest-address=0.0.0.0 --nat=extip:172.18.23.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e9e40c217b7a1af4a190beab54050bac86b8662a6edad5ce139ce74d2eba9d3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64592 --metrics-logging=true --relay=true --filter=true
2025-02-10 04:04:39.635 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.23.144 waku 38b311b9e2fef7a6fc09ff73fc5dc151035f6e1cda0f61370bb66bec112bd9ba
2025-02-10 04:04:39.684 DEBUG [src.node.docker_mananger] Container started with ID 38b311b9e2fe. Setting up logs at ./log/docker/node1_2025-02-10_04-04-39__29d4bd32-73d2-4726-ac96-43b911b0dd7d__wakuorg_nwaku:latest.log
2025-02-10 04:04:39.686 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64588
2025-02-10 04:04:39.686 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:04:40.204 ERROR [src.node.docker_mananger] Max retries reached for container 3ce124cc259d. Exiting log stream.
2025-02-10 04:04:40.687 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64588/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:40.690 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:04:40.690 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:04:40.690 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64588/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:40.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.23.144/tcp/64589/p2p/16Uiu2HAmMrw17RtFzTdTNkBPpKkUzxssn8h67vHHYnQzLNB6AXFF","/ip4/172.18.23.144/tcp/64590/ws/p2p/16Uiu2HAmMrw17RtFzTdTNkBPpKkUzxssn8h67vHHYnQzLNB6AXFF"],"enrUri":"enr:-L24QInt50MJVbvvg69dyA9YHqhXCH-mqkmWY0LE6mB288IUEtlwpMrG_501-fV7Ao2pAX5XSazpudB7proxorwUfLECgmlkgnY0gmlwhKwSF5CKbXVsdGlhZGRyc5YACASsEheQBvxNAAoErBIXkAb8Tt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDiMhd1xXmcxxFfdCqnPLksuqak128Zx7tjyJsHdnSWCqDdGNwgvxNg3VkcIL8T4V3YWt1MgU"}'
2025-02-10 04:04:40.692 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:04:40.693 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-10 04:04:40.699 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:04:40.699 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-10_04-04-39__29d4bd32-73d2-4726-ac96-43b911b0dd7d__wakuorg_nwaku:latest.log
2025-02-10 04:04:40.699 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:04:40.699 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:04:40.700 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:04:40.701 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.33.242
2025-02-10 04:04:40.701 DEBUG [src.node.docker_mananger] Generated ports ['63874', '63875', '63876', '63877', '63878']
2025-02-10 04:04:40.701 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:04:40.701 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:04:40.701 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:04:40.701 DEBUG [src.node.docker_mananger] docker run -i -t -p 63874:63874 -p 63875:63875 -p 63876:63876 -p 63877:63877 -p 63878:63878 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63876 --rest-port=63874 --tcp-port=63875 --discv5-udp-port=63877 --rest-address=0.0.0.0 --nat=extip:172.18.33.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5cdeeec38ec3c5ae2eec79900b0baf43efde3dbbf44dc1eccdfc9778dd2a8dce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63878 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QInt50MJVbvvg69dyA9YHqhXCH-mqkmWY0LE6mB288IUEtlwpMrG_501-fV7Ao2pAX5XSazpudB7proxorwUfLECgmlkgnY0gmlwhKwSF5CKbXVsdGlhZGRyc5YACASsEheQBvxNAAoErBIXkAb8Tt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDiMhd1xXmcxxFfdCqnPLksuqak128Zx7tjyJsHdnSWCqDdGNwgvxNg3VkcIL8T4V3YWt1MgU --filternode=/ip4/172.18.23.144/tcp/64589/p2p/16Uiu2HAmMrw17RtFzTdTNkBPpKkUzxssn8h67vHHYnQzLNB6AXFF
2025-02-10 04:04:40.929 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.33.242 waku 28c3f4613135bd9de4c7123249c927f61e6f05c772556a79739526c4f2399218
2025-02-10 04:04:40.979 DEBUG [src.node.docker_mananger] Container started with ID 28c3f4613135. Setting up logs at ./log/docker/node2_2025-02-10_04-04-39__29d4bd32-73d2-4726-ac96-43b911b0dd7d__wakuorg_nwaku:latest.log
2025-02-10 04:04:40.979 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63874
2025-02-10 04:04:40.979 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:04:41.980 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63874/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:41.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:04:41.983 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:04:41.983 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63874/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:41.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.242/tcp/63875/p2p/16Uiu2HAmUNAtgXtSrHjxT7LcAZw8sgBoncVyrnsKHLBZABVMWBwh","/ip4/172.18.33.242/tcp/63876/ws/p2p/16Uiu2HAmUNAtgXtSrHjxT7LcAZw8sgBoncVyrnsKHLBZABVMWBwh"],"enrUri":"enr:-L24QNv6cMnp-qBmIesE9FpUOrh1gRzetnp04ilRONp_hxZWb7IoyMDr15yKFzMLa95SSI8p8PVVRPe-JYd6qKmGbwYCgmlkgnY0gmlwhKwSIfKKbXVsdGlhZGRyc5YACASsEiHyBvmDAAoErBIh8gb5hN0DgnJzhQADAQAAiXNlY3AyNTZrMaED6WwJPa5vjo7nXu0u1nalrNb1uo-h-YeugZtmcqzGdhSDdGNwgvmDg3VkcIL5hYV3YWt1MgA"}'
2025-02-10 04:04:41.986 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:04:41.986 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63874/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.23.144/tcp/64589/p2p/16Uiu2HAmMrw17RtFzTdTNkBPpKkUzxssn8h67vHHYnQzLNB6AXFF"]'
2025-02-10 04:04:42.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:42.031 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-10 04:04:42.032 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64588/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:04:42.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:42.049 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63874/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b37d3e96-8105-43fb-9ae4-ea33716ffd9f", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-10 04:04:42.060 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"b37d3e96-8105-43fb-9ae4-ea33716ffd9f","statusDesc":"OK"}'
2025-02-10 04:04:42.061 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63874/filter/v2/subscriptions/" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:42.068 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusDesc":"OK"}'
2025-02-10 04:04:42.070 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 04:04:42.071 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 04:04:42.071 DEBUG [src.node.waku_node] Stopping container with id 38b311b9e2fe
2025-02-10 04:04:43.180 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:04:43.180 DEBUG [src.node.waku_node] Stopping container with id 28c3f4613135
2025-02-10 04:04:43.993 ERROR [src.node.docker_mananger] Max retries reached for container 38b311b9e2fe. Exiting log stream.
2025-02-10 04:04:44.697 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:04:44.698 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 04:04:44.703 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:04:44.707 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
