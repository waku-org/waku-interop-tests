2025-02-10 04:05:53.635 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 04:05:53.636 DEBUG [tests.conftest] Running test: test_store_sort_ascending[false] with id: 2025-02-10_04-05-53__2d090613-4011-4857-b597-9ecefe25f994
2025-02-10 04:05:53.636 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 04:05:53.636 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-10 04:05:53.636 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-10 04:05:53.642 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:05:53.642 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-10_04-05-53__2d090613-4011-4857-b597-9ecefe25f994__wakuorg_nwaku:latest.log
2025-02-10 04:05:53.643 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:05:53.643 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:05:53.644 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:05:53.644 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.247.74
2025-02-10 04:05:53.644 DEBUG [src.node.docker_mananger] Generated ports ['29116', '29117', '29118', '29119', '29120']
2025-02-10 04:05:53.644 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:05:53.644 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:05:53.645 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:05:53.645 DEBUG [src.node.docker_mananger] docker run -i -t -p 29116:29116 -p 29117:29117 -p 29118:29118 -p 29119:29119 -p 29120:29120 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29118 --rest-port=29116 --tcp-port=29117 --discv5-udp-port=29119 --rest-address=0.0.0.0 --nat=extip:172.18.247.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac707ebbee62dcacbcc61c2e59afead8f782b8affda053fd1e7ef9cd0a91e401 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29120 --metrics-logging=true --store=true --relay=true
2025-02-10 04:05:53.865 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.247.74 waku 5166dbaf7a25a75ce2adcdc6f595217db406df870058936b61bae6e9a15c72e1
2025-02-10 04:05:53.914 DEBUG [src.node.docker_mananger] Container started with ID 5166dbaf7a25. Setting up logs at ./log/docker/publishing_node1_2025-02-10_04-05-53__2d090613-4011-4857-b597-9ecefe25f994__wakuorg_nwaku:latest.log
2025-02-10 04:05:53.916 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29116
2025-02-10 04:05:53.916 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:05:54.432 ERROR [src.node.docker_mananger] Max retries reached for container 7d3d751b87b6. Exiting log stream.
2025-02-10 04:05:54.918 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29116/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:05:54.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:05:54.920 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:05:54.921 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29116/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:05:54.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.247.74/tcp/29117/p2p/16Uiu2HAm224wvuASKE6aTjTv8k495s8uyCbscbL93ZcQUuyVGWPo","/ip4/172.18.247.74/tcp/29118/ws/p2p/16Uiu2HAm224wvuASKE6aTjTv8k495s8uyCbscbL93ZcQUuyVGWPo"],"enrUri":"enr:-L24QHbW1LymIjONGoZf-glWyx5P19v-pNESY8bOmt5O3YT2WwYptJ4EcptnRA5SKN1k0t8m5oSpQf7_ycRRm_kH4nsCgmlkgnY0gmlwhKwS90qKbXVsdGlhZGRyc5YACASsEvdKBnG9AAoErBL3SgZxvt0DgnJzhQADAQAAiXNlY3AyNTZrMaECYfXWw6SG6mB1rM_8cWwPb2w3xXNx0OCyfGtAh4kL6NaDdGNwgnG9g3VkcIJxv4V3YWt1MgM"}'
2025-02-10 04:05:54.923 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:05:54.929 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:05:54.929 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-10_04-05-53__2d090613-4011-4857-b597-9ecefe25f994__wakuorg_nwaku:latest.log
2025-02-10 04:05:54.929 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:05:54.930 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:05:54.931 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:05:54.931 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.16.150
2025-02-10 04:05:54.931 DEBUG [src.node.docker_mananger] Generated ports ['5045', '5046', '5047', '5048', '5049']
2025-02-10 04:05:54.931 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:05:54.931 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:05:54.932 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:05:54.932 DEBUG [src.node.docker_mananger] docker run -i -t -p 5045:5045 -p 5046:5046 -p 5047:5047 -p 5048:5048 -p 5049:5049 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5047 --rest-port=5045 --tcp-port=5046 --discv5-udp-port=5048 --rest-address=0.0.0.0 --nat=extip:172.18.16.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fa5c3edaafa00cb23a898dbd40f03dcf249fdffed3fdef475b18a1c896862c7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5049 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QHbW1LymIjONGoZf-glWyx5P19v-pNESY8bOmt5O3YT2WwYptJ4EcptnRA5SKN1k0t8m5oSpQf7_ycRRm_kH4nsCgmlkgnY0gmlwhKwS90qKbXVsdGlhZGRyc5YACASsEvdKBnG9AAoErBL3SgZxvt0DgnJzhQADAQAAiXNlY3AyNTZrMaECYfXWw6SG6mB1rM_8cWwPb2w3xXNx0OCyfGtAh4kL6NaDdGNwgnG9g3VkcIJxv4V3YWt1MgM --storenode=/ip4/172.18.247.74/tcp/29117/p2p/16Uiu2HAm224wvuASKE6aTjTv8k495s8uyCbscbL93ZcQUuyVGWPo --store=true --relay=true
2025-02-10 04:05:55.150 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.16.150 waku 3e7925b862abf97a9434d947ccfc63ff13ac2ee5fcc16ba1ef551ebead47d3ab
2025-02-10 04:05:55.200 DEBUG [src.node.docker_mananger] Container started with ID 3e7925b862ab. Setting up logs at ./log/docker/store_node1_2025-02-10_04-05-53__2d090613-4011-4857-b597-9ecefe25f994__wakuorg_nwaku:latest.log
2025-02-10 04:05:55.202 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5045
2025-02-10 04:05:55.202 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:05:56.202 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5045/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:05:56.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:05:56.205 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:05:56.205 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5045/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:05:56.207 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.16.150/tcp/5046/p2p/16Uiu2HAm3GoDDeCuVRtjHTbd9rPrZt7VWW48sQVsSToPV7wgA6Xh","/ip4/172.18.16.150/tcp/5047/ws/p2p/16Uiu2HAm3GoDDeCuVRtjHTbd9rPrZt7VWW48sQVsSToPV7wgA6Xh"],"enrUri":"enr:-L24QDtsY1QVDv99pTbukQ6MsnPnGehcudPwpLX7kmmKORHfUaCxdkHctrV1SJiM7iCaodwjiuEWSnjyxFNpiN-pA2wCgmlkgnY0gmlwhKwSEJaKbXVsdGlhZGRyc5YACASsEhCWBhO2AAoErBIQlgYTt90DgnJzhQADAQAAiXNlY3AyNTZrMaECdJdx3PzlentVhBTIXsM56UbIBXoCw8LqVigKGmsX_sCDdGNwghO2g3VkcIITuIV3YWt1MgM"}'
2025-02-10 04:05:56.207 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:05:56.207 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5045/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.247.74/tcp/29117/p2p/16Uiu2HAm224wvuASKE6aTjTv8k495s8uyCbscbL93ZcQUuyVGWPo"]'
2025-02-10 04:05:56.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:56.210 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29116/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 04:05:56.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:56.212 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5045/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 04:05:56.214 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:56.216 DEBUG [src.steps.store] Relaying message
2025-02-10 04:05:56.216 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29116/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:05:56.222 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:56.222 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 04:05:56.423 DEBUG [src.steps.store] Relaying message
2025-02-10 04:05:56.423 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29116/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:05:56.428 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:56.429 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 04:05:56.629 DEBUG [src.steps.store] Relaying message
2025-02-10 04:05:56.630 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29116/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:05:56.634 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:56.634 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 04:05:56.835 DEBUG [src.steps.store] Relaying message
2025-02-10 04:05:56.835 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29116/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:05:56.840 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:56.841 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 04:05:57.042 DEBUG [src.steps.store] Relaying message
2025-02-10 04:05:57.042 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29116/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:05:57.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:57.047 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 04:05:57.248 DEBUG [src.steps.store] Relaying message
2025-02-10 04:05:57.248 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29116/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:05:57.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:57.254 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 04:05:57.455 DEBUG [src.steps.store] Relaying message
2025-02-10 04:05:57.455 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29116/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:05:57.460 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:57.461 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 04:05:57.661 DEBUG [src.steps.store] Relaying message
2025-02-10 04:05:57.662 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29116/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:05:57.667 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:57.667 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 04:05:57.868 DEBUG [src.steps.store] Relaying message
2025-02-10 04:05:57.868 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29116/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:05:57.872 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:57.873 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 04:05:58.073 DEBUG [src.steps.store] Relaying message
2025-02-10 04:05:58.074 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29116/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:05:58.078 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:05:58.079 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 04:05:58.280 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29116/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:05:58.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6f39b21539b7f764f49aca6fd017cbdb18335a7bdb938261537b7dfa47630b24"},{"messageHash":"0x8de38a2367091c1566827218f18b2c9bfd915a6f81fb52a79fb4fca5b014f082"},{"messageHash":"0x982d3975de94637f16d4d5c78ebb414d6aef43bdb4b67f1af681b0f0fcd73e16"},{"messageHash":"0x804376fa5c5346ce04dfb562945346d36bc53d0680f0a10d9d8fb60c43d7f353"},{"messageHash":"0x9d8da7cf4d4e57a837941a9b661794f26c8922498cb0fadc92072fc5f1148ae2"}],"paginationCursor":"0x6f39b21539b7f764f49aca6fd017cbdb18335a7bdb938261537b7dfa47630b24"}'
2025-02-10 04:05:58.283 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5045/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:05:58.286 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6f39b21539b7f764f49aca6fd017cbdb18335a7bdb938261537b7dfa47630b24"},{"messageHash":"0x8de38a2367091c1566827218f18b2c9bfd915a6f81fb52a79fb4fca5b014f082"},{"messageHash":"0x982d3975de94637f16d4d5c78ebb414d6aef43bdb4b67f1af681b0f0fcd73e16"},{"messageHash":"0x804376fa5c5346ce04dfb562945346d36bc53d0680f0a10d9d8fb60c43d7f353"},{"messageHash":"0x9d8da7cf4d4e57a837941a9b661794f26c8922498cb0fadc92072fc5f1148ae2"}],"paginationCursor":"0x6f39b21539b7f764f49aca6fd017cbdb18335a7bdb938261537b7dfa47630b24"}'
2025-02-10 04:05:58.288 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 04:05:58.289 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 04:05:58.289 DEBUG [src.node.waku_node] Stopping container with id 5166dbaf7a25
2025-02-10 04:05:59.262 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:05:59.262 DEBUG [src.node.waku_node] Stopping container with id 3e7925b862ab
2025-02-10 04:06:00.073 ERROR [src.node.docker_mananger] Max retries reached for container 5166dbaf7a25. Exiting log stream.
2025-02-10 04:06:00.505 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:06:00.506 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 04:06:00.513 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:06:00.519 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
