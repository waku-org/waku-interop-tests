2025-02-10 04:03:31.870 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 04:03:31.871 DEBUG [tests.conftest] Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2025-02-10_04-03-31__0912daf1-9a0a-400f-81df-b73c22f364a4
2025-02-10 04:03:31.871 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 04:03:31.871 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-10 04:03:31.877 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:03:31.877 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-10_04-03-31__0912daf1-9a0a-400f-81df-b73c22f364a4__wakuorg_nwaku:latest.log
2025-02-10 04:03:31.877 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:03:31.877 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:03:31.879 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:03:31.879 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.75.213
2025-02-10 04:03:31.879 DEBUG [src.node.docker_mananger] Generated ports ['35732', '35733', '35734', '35735', '35736']
2025-02-10 04:03:31.879 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:03:31.879 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:03:31.879 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:03:31.879 DEBUG [src.node.docker_mananger] docker run -i -t -p 35732:35732 -p 35733:35733 -p 35734:35734 -p 35735:35735 -p 35736:35736 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35734 --rest-port=35732 --tcp-port=35733 --discv5-udp-port=35735 --rest-address=0.0.0.0 --nat=extip:172.18.75.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4acf07bc2afbcab3c4bcad3dc4dcba3a12bff4b7e4acdcd5df4f53ba639506dd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35736 --metrics-logging=true --lightpush=true --relay=true
2025-02-10 04:03:32.099 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.75.213 waku 653529a6e359d2e2432d55c90ec4f741e70c5fc6edcfa90d93a002dd0fa9cfca
2025-02-10 04:03:32.143 DEBUG [src.node.docker_mananger] Container started with ID 653529a6e359. Setting up logs at ./log/docker/receiving_node1_2025-02-10_04-03-31__0912daf1-9a0a-400f-81df-b73c22f364a4__wakuorg_nwaku:latest.log
2025-02-10 04:03:32.144 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 35732
2025-02-10 04:03:32.144 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:03:32.674 ERROR [src.node.docker_mananger] Max retries reached for container 5a4cd5127801. Exiting log stream.
2025-02-10 04:03:33.145 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35732/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:33.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:03:33.148 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:03:33.148 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35732/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:33.150 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.213/tcp/35733/p2p/16Uiu2HAkxAcXFQFyGKVEjhJfJVF3d4uE4nZksJ4rjkUsQ9xQuP4Y","/ip4/172.18.75.213/tcp/35734/ws/p2p/16Uiu2HAkxAcXFQFyGKVEjhJfJVF3d4uE4nZksJ4rjkUsQ9xQuP4Y"],"enrUri":"enr:-L24QPGy1SNNmz5gjD4x8z2AeDGEn5E9s4i_rfu7AT153GF5FxreEXHUSY1W9jgHs3TvSG2_hdPsxdWQHLGXkDxvSXgCgmlkgnY0gmlwhKwSS9WKbXVsdGlhZGRyc5YACASsEkvVBouVAAoErBJL1QaLlt0DgnJzhQADAQAAiXNlY3AyNTZrMaECKLdwZbM4emsFUd_Ju-IQVHfb7AryWgMLlE_ZRWh3I1WDdGNwgouVg3VkcIKLl4V3YWt1Mgk"}'
2025-02-10 04:03:33.150 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:03:33.157 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:03:33.157 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-10_04-03-31__0912daf1-9a0a-400f-81df-b73c22f364a4__wakuorg_nwaku:latest.log
2025-02-10 04:03:33.157 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:03:33.157 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:03:33.159 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:03:33.159 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.229.48
2025-02-10 04:03:33.159 DEBUG [src.node.docker_mananger] Generated ports ['31982', '31983', '31984', '31985', '31986']
2025-02-10 04:03:33.159 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:03:33.159 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:03:33.159 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:03:33.159 DEBUG [src.node.docker_mananger] docker run -i -t -p 31982:31982 -p 31983:31983 -p 31984:31984 -p 31985:31985 -p 31986:31986 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31984 --rest-port=31982 --tcp-port=31983 --discv5-udp-port=31985 --rest-address=0.0.0.0 --nat=extip:172.18.229.48 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=62bcba7c8c6d589a64a57d85b8a4bcc40f1ec1bbadff2b2b18c9fec4e1b9e4c0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31986 --metrics-logging=true --lightpush=false --relay=true
2025-02-10 04:03:33.378 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.229.48 waku d7e7702029ead6b92baab4e0fe49680dcf3bb452a53423d9c8fa63f137d4ff91
2025-02-10 04:03:33.425 DEBUG [src.node.docker_mananger] Container started with ID d7e7702029ea. Setting up logs at ./log/docker/receiving_node2_2025-02-10_04-03-31__0912daf1-9a0a-400f-81df-b73c22f364a4__wakuorg_nwaku:latest.log
2025-02-10 04:03:33.426 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31982
2025-02-10 04:03:33.426 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:03:34.426 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31982/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:34.429 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:03:34.429 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:03:34.429 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31982/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:34.431 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.229.48/tcp/31983/p2p/16Uiu2HAmNEUVn3d3ZYUk5u4mu9FeF5TxCamEgnjo1yo5rQMfu32T","/ip4/172.18.229.48/tcp/31984/ws/p2p/16Uiu2HAmNEUVn3d3ZYUk5u4mu9FeF5TxCamEgnjo1yo5rQMfu32T"],"enrUri":"enr:-L24QJr_kRtyWJe0RKnD7vyhOukZMsrvvIX1KALKi2m35K9YHxuYWg1D7n0FAOviePmOTFVLEyVsJgIb9aeeU6jUB3ECgmlkgnY0gmlwhKwS5TCKbXVsdGlhZGRyc5YACASsEuUwBnzvAAoErBLlMAZ88N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjk0smIFqoJeJxR5n7c25mGMe2CEpudzExj3-pSucDdyDdGNwgnzvg3VkcIJ88YV3YWt1MgE"}'
2025-02-10 04:03:34.431 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:03:34.432 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31982/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.213/tcp/35733/p2p/16Uiu2HAkxAcXFQFyGKVEjhJfJVF3d4uE4nZksJ4rjkUsQ9xQuP4Y"]'
2025-02-10 04:03:34.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:34.480 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:03:34.480 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-10_04-03-31__0912daf1-9a0a-400f-81df-b73c22f364a4__wakuorg_nwaku:latest.log
2025-02-10 04:03:34.480 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:03:34.480 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:03:34.482 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:03:34.482 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.6.198
2025-02-10 04:03:34.482 DEBUG [src.node.docker_mananger] Generated ports ['2030', '2031', '2032', '2033', '2034']
2025-02-10 04:03:34.482 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:03:34.482 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:03:34.482 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:03:34.482 DEBUG [src.node.docker_mananger] docker run -i -t -p 2030:2030 -p 2031:2031 -p 2032:2032 -p 2033:2033 -p 2034:2034 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2032 --rest-port=2030 --tcp-port=2031 --discv5-udp-port=2033 --rest-address=0.0.0.0 --nat=extip:172.18.6.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5bfc1dce6d70fcb9f7f82a901dca5b94eaa9732ffde12f4bcd17ba962abe2535 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2034 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPGy1SNNmz5gjD4x8z2AeDGEn5E9s4i_rfu7AT153GF5FxreEXHUSY1W9jgHs3TvSG2_hdPsxdWQHLGXkDxvSXgCgmlkgnY0gmlwhKwSS9WKbXVsdGlhZGRyc5YACASsEkvVBouVAAoErBJL1QaLlt0DgnJzhQADAQAAiXNlY3AyNTZrMaECKLdwZbM4emsFUd_Ju-IQVHfb7AryWgMLlE_ZRWh3I1WDdGNwgouVg3VkcIKLl4V3YWt1Mgk --lightpushnode=/ip4/172.18.75.213/tcp/35733/p2p/16Uiu2HAkxAcXFQFyGKVEjhJfJVF3d4uE4nZksJ4rjkUsQ9xQuP4Y --lightpush=true --relay=false
2025-02-10 04:03:34.715 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.6.198 waku 5765c85c6d880e363cc383da3211eee99c5dc4ed84861a0ccf80e4e8293b94a0
2025-02-10 04:03:34.759 DEBUG [src.node.docker_mananger] Container started with ID 5765c85c6d88. Setting up logs at ./log/docker/lightpush_node1_2025-02-10_04-03-31__0912daf1-9a0a-400f-81df-b73c22f364a4__wakuorg_nwaku:latest.log
2025-02-10 04:03:34.760 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 2030
2025-02-10 04:03:34.760 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:03:35.760 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2030/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:35.763 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:03:35.763 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:03:35.763 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2030/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:35.765 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.6.198/tcp/2031/p2p/16Uiu2HAmSKJecYeEH44YT9gjUoJAKxkrN61dLEJVv13RdSNmarim","/ip4/172.18.6.198/tcp/2032/ws/p2p/16Uiu2HAmSKJecYeEH44YT9gjUoJAKxkrN61dLEJVv13RdSNmarim"],"enrUri":"enr:-L24QCqs5yDl1qqgqjNySKRBhxDQTQWp3i1P0ZaTkfigA2IULOgSE-hhR7d2OujsAZtkkGYrBclLhjpU169-KVKjsxoCgmlkgnY0gmlwhKwSBsaKbXVsdGlhZGRyc5YACASsEgbGBgfvAAoErBIGxgYH8N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDyviw8Qb8cLsSRR3Oa1tp1rkTKOSu2oi8rObotMfRG6KDdGNwggfvg3VkcIIH8YV3YWt1Mgg"}'
2025-02-10 04:03:35.765 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:03:35.766 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2030/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.213/tcp/35733/p2p/16Uiu2HAkxAcXFQFyGKVEjhJfJVF3d4uE4nZksJ4rjkUsQ9xQuP4Y"]'
2025-02-10 04:03:35.801 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:35.802 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2030/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.229.48/tcp/31983/p2p/16Uiu2HAmNEUVn3d3ZYUk5u4mu9FeF5TxCamEgnjo1yo5rQMfu32T"]'
2025-02-10 04:03:35.830 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:35.832 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35732/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 04:03:35.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:35.838 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31982/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 04:03:35.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:35.846 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35732/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-10 04:03:35.854 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:35.855 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31982/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-10 04:03:35.869 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:35.870 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2030/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739160215870531840}}'
2025-02-10 04:03:35.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:35.883 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:35.983 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35732/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:35.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-10 04:03:35.987 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 04:03:35.988 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 04:03:35.988 DEBUG [src.node.waku_node] Stopping container with id 653529a6e359
2025-02-10 04:03:36.637 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:03:36.637 DEBUG [src.node.waku_node] Stopping container with id d7e7702029ea
2025-02-10 04:03:37.448 ERROR [src.node.docker_mananger] Max retries reached for container 653529a6e359. Exiting log stream.
2025-02-10 04:03:38.135 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:03:38.135 DEBUG [src.node.waku_node] Stopping container with id 5765c85c6d88
2025-02-10 04:03:38.946 ERROR [src.node.docker_mananger] Max retries reached for container d7e7702029ea. Exiting log stream.
2025-02-10 04:03:39.627 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:03:39.628 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 04:03:39.636 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:03:39.644 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:03:39.649 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
