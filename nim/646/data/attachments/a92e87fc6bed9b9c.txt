2025-02-10 04:04:28.911 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 04:04:28.912 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2025-02-10_04-04-28__e15444e3-bece-44ea-9b9b-55e45d9f0abd
2025-02-10 04:04:28.912 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 04:04:28.912 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-10 04:04:28.913 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-10 04:04:28.919 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:04:28.919 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-10_04-04-28__e15444e3-bece-44ea-9b9b-55e45d9f0abd__wakuorg_nwaku:latest.log
2025-02-10 04:04:28.919 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:04:28.919 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:04:28.921 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:04:28.921 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.129.4
2025-02-10 04:04:28.921 DEBUG [src.node.docker_mananger] Generated ports ['43077', '43078', '43079', '43080', '43081']
2025-02-10 04:04:28.921 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:04:28.921 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:04:28.922 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:04:28.922 DEBUG [src.node.docker_mananger] docker run -i -t -p 43077:43077 -p 43078:43078 -p 43079:43079 -p 43080:43080 -p 43081:43081 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43079 --rest-port=43077 --tcp-port=43078 --discv5-udp-port=43080 --rest-address=0.0.0.0 --nat=extip:172.18.129.4 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ee5eb1e91afdcce65a21faa4e5cdebf5dcf9502c62ea5cd8ecd1e3bd2c3a7be3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43081 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-10 04:04:29.144 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.129.4 waku 2134609d3d817f81a0629e5a284d7752cc401a835373359de702d4c6be3194c0
2025-02-10 04:04:29.195 DEBUG [src.node.docker_mananger] Container started with ID 2134609d3d81. Setting up logs at ./log/docker/node1_2025-02-10_04-04-28__e15444e3-bece-44ea-9b9b-55e45d9f0abd__wakuorg_nwaku:latest.log
2025-02-10 04:04:29.196 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 43077
2025-02-10 04:04:29.196 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:04:29.709 ERROR [src.node.docker_mananger] Max retries reached for container 33e3f2b14938. Exiting log stream.
2025-02-10 04:04:30.197 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:30.199 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:04:30.199 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:04:30.200 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:30.202 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.4/tcp/43078/p2p/16Uiu2HAmK6sh2YYKvC4ueem6yDXJcCawABAWR9VbJfU6e1Lw1LE2","/ip4/172.18.129.4/tcp/43079/ws/p2p/16Uiu2HAmK6sh2YYKvC4ueem6yDXJcCawABAWR9VbJfU6e1Lw1LE2"],"enrUri":"enr:-L24QBg7gid0R5Bn57AoaGrUugf9U9iosAhw7DDbd63MIB6eVY9BHXoYsnnS0Sh3uMZKbW2ASB2y4PLjXdJFTw6WYS0CgmlkgnY0gmlwhKwSgQSKbXVsdGlhZGRyc5YACASsEoEEBqhGAAoErBKBBAaoR90DgnJzhQACAQAAiXNlY3AyNTZrMaEDX8exRGzqTNA1LIjuk3Y9IAGi3pWRhj2-nkQfvq0LwF-DdGNwgqhGg3VkcIKoSIV3YWt1MgU"}'
2025-02-10 04:04:30.202 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:04:30.208 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:04:30.208 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-10_04-04-28__e15444e3-bece-44ea-9b9b-55e45d9f0abd__wakuorg_nwaku:latest.log
2025-02-10 04:04:30.208 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:04:30.208 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:04:30.209 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:04:30.210 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.242.177
2025-02-10 04:04:30.210 DEBUG [src.node.docker_mananger] Generated ports ['65466', '65467', '65468', '65469', '65470']
2025-02-10 04:04:30.210 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:04:30.210 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:04:30.210 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:04:30.210 DEBUG [src.node.docker_mananger] docker run -i -t -p 65466:65466 -p 65467:65467 -p 65468:65468 -p 65469:65469 -p 65470:65470 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65468 --rest-port=65466 --tcp-port=65467 --discv5-udp-port=65469 --rest-address=0.0.0.0 --nat=extip:172.18.242.177 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=6cd6f34d3c1a20797b306f49fe2115d0ced4edff1eff4fcbd87b7b381e55efc5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65470 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBg7gid0R5Bn57AoaGrUugf9U9iosAhw7DDbd63MIB6eVY9BHXoYsnnS0Sh3uMZKbW2ASB2y4PLjXdJFTw6WYS0CgmlkgnY0gmlwhKwSgQSKbXVsdGlhZGRyc5YACASsEoEEBqhGAAoErBKBBAaoR90DgnJzhQACAQAAiXNlY3AyNTZrMaEDX8exRGzqTNA1LIjuk3Y9IAGi3pWRhj2-nkQfvq0LwF-DdGNwgqhGg3VkcIKoSIV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-10 04:04:30.440 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.242.177 waku d59bb45ee39b5398f55f2a1aeb113d427783ca9e331fc66ffbe02c54239698ff
2025-02-10 04:04:30.487 DEBUG [src.node.docker_mananger] Container started with ID d59bb45ee39b. Setting up logs at ./log/docker/node2_2025-02-10_04-04-28__e15444e3-bece-44ea-9b9b-55e45d9f0abd__wakuorg_nwaku:latest.log
2025-02-10 04:04:30.487 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 65466
2025-02-10 04:04:30.488 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:04:31.488 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:31.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:04:31.500 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:04:31.502 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:31.504 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.177/tcp/65467/p2p/16Uiu2HAkvfBgx5YAWMotzzn12aEZZGLDf5TTUParhHbVoe57zkZt","/ip4/172.18.242.177/tcp/65468/ws/p2p/16Uiu2HAkvfBgx5YAWMotzzn12aEZZGLDf5TTUParhHbVoe57zkZt"],"enrUri":"enr:-L24QJQYVwp3_zvdFRZnikR8k5lDO3ulw-LFTHndUWJdwWicD1jmoBS-uE5ibXzJBNlYyMH6a6BRwcCP49Ru0czebBwCgmlkgnY0gmlwhKwS8rGKbXVsdGlhZGRyc5YACASsEvKxBv-7AAoErBLysQb_vN0DgnJzhQACAQAAiXNlY3AyNTZrMaECElHUh-SVACoyvGz1P4Ib9YMGcIVmKTT0arHCqWz3_oeDdGNwgv-7g3VkcIL_vYV3YWt1MgE"}'
2025-02-10 04:04:31.504 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:04:31.504 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65466/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.129.4/tcp/43078/p2p/16Uiu2HAmK6sh2YYKvC4ueem6yDXJcCawABAWR9VbJfU6e1Lw1LE2"]'
2025-02-10 04:04:31.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:31.507 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-10 04:04:31.518 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:31.518 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65466/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-10 04:04:31.540 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:31.541 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:31.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:31.550 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:31.651 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:31.651 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:31.653 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160271541236224,"ephemeral":false}]'
2025-02-10 04:04:31.655 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:31.655 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:31.657 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739160271541236224,"ephemeral":false}]'
2025-02-10 04:04:31.659 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:31.663 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:31.664 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:31.764 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:31.765 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:31.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739160271658988800,"ephemeral":false}]'
2025-02-10 04:04:31.768 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:31.769 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:31.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739160271658988800,"ephemeral":false}]'
2025-02-10 04:04:31.772 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:31.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:31.778 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:31.879 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:31.879 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:31.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739160271772856832,"ephemeral":false}]'
2025-02-10 04:04:31.883 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:31.883 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:31.885 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739160271772856832,"ephemeral":false}]'
2025-02-10 04:04:31.886 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:31.891 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:31.892 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:31.992 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:31.993 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:31.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739160271886851840,"ephemeral":false}]'
2025-02-10 04:04:31.996 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:31.997 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:31.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739160271886851840,"ephemeral":false}]'
2025-02-10 04:04:32.000 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:32.005 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:32.005 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:32.106 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.106 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.109 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739160272000632064,"ephemeral":false}]'
2025-02-10 04:04:32.110 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.110 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739160272000632064,"ephemeral":false}]'
2025-02-10 04:04:32.114 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:32.118 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:32.118 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:32.219 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.219 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.221 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739160272114065152,"ephemeral":false}]'
2025-02-10 04:04:32.223 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.223 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739160272114065152,"ephemeral":false}]'
2025-02-10 04:04:32.227 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:32.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:32.232 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:32.333 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.333 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739160272227053824,"ephemeral":false}]'
2025-02-10 04:04:32.336 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.337 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739160272227053824,"ephemeral":false}]'
2025-02-10 04:04:32.341 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:32.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:32.345 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:32.446 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.446 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739160272340952320,"ephemeral":false}]'
2025-02-10 04:04:32.450 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.450 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739160272340952320,"ephemeral":false}]'
2025-02-10 04:04:32.456 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43077/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-10 04:04:32.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:32.464 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:65466/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-10 04:04:32.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:32.473 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:32.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:32.477 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:32.577 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.578 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.580 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43077/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-10 04:04:32.582 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:32.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:32.584 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:32.684 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.687 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43077/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-10 04:04:32.688 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:32.690 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:32.691 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:32.791 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.791 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.794 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43077/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-10 04:04:32.795 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:32.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:32.800 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:32.900 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.901 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.903 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739160272795232768,"ephemeral":false}]'
2025-02-10 04:04:32.904 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:32.904 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:32.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739160272795232768,"ephemeral":false}]'
2025-02-10 04:04:32.909 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:32.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:32.914 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:33.014 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:33.015 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:33.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739160272909334784,"ephemeral":false}]'
2025-02-10 04:04:33.018 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:33.018 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:33.021 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739160272909334784,"ephemeral":false}]'
2025-02-10 04:04:33.022 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:33.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:33.028 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:33.128 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:33.128 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:33.130 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739160273022398464,"ephemeral":false}]'
2025-02-10 04:04:33.132 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:33.132 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:33.134 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739160273022398464,"ephemeral":false}]'
2025-02-10 04:04:33.136 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:33.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:33.141 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:33.242 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:33.242 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:33.244 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739160273136091904,"ephemeral":false}]'
2025-02-10 04:04:33.246 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:33.246 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:33.248 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739160273136091904,"ephemeral":false}]'
2025-02-10 04:04:33.249 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43077/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:33.254 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:33.255 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:33.355 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:33.356 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43077/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:33.358 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739160273249699328,"ephemeral":false}]'
2025-02-10 04:04:33.359 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:33.359 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65466/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:33.361 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739160273249699328,"ephemeral":false}]'
2025-02-10 04:04:33.364 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 04:04:33.365 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 04:04:33.365 DEBUG [src.node.waku_node] Stopping container with id 2134609d3d81
2025-02-10 04:04:34.680 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:04:34.680 DEBUG [src.node.waku_node] Stopping container with id d59bb45ee39b
2025-02-10 04:04:35.491 ERROR [src.node.docker_mananger] Max retries reached for container 2134609d3d81. Exiting log stream.
2025-02-10 04:04:36.204 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:04:36.205 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 04:04:36.216 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:04:36.227 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
