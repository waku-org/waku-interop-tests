2025-02-10 04:03:52.517 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 04:03:52.517 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list0] with id: 2025-02-10_04-03-52__8c5af145-a2d2-4d59-ab8c-d5baee7fb7db
2025-02-10 04:03:52.517 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 04:03:52.518 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-10 04:03:52.518 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-10 04:03:52.525 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:03:52.525 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-10_04-03-52__8c5af145-a2d2-4d59-ab8c-d5baee7fb7db__wakuorg_nwaku:latest.log
2025-02-10 04:03:52.525 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:03:52.525 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:03:52.527 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:03:52.527 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.115.243
2025-02-10 04:03:52.527 DEBUG [src.node.docker_mananger] Generated ports ['13468', '13469', '13470', '13471', '13472']
2025-02-10 04:03:52.527 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:03:52.527 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:03:52.527 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:03:52.528 DEBUG [src.node.docker_mananger] docker run -i -t -p 13468:13468 -p 13469:13469 -p 13470:13470 -p 13471:13471 -p 13472:13472 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13470 --rest-port=13468 --tcp-port=13469 --discv5-udp-port=13471 --rest-address=0.0.0.0 --nat=extip:172.18.115.243 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=eeebd79d7d9cddea88691c1cfebcbde114baefa1dbdaa5da3ddacd3f6cff64df --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13472 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-10 04:03:52.763 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.115.243 waku e5b06a899f5afb21c42d63cb91ce9aee9a482b3ae836ee498fe66a4b6e902017
2025-02-10 04:03:52.815 DEBUG [src.node.docker_mananger] Container started with ID e5b06a899f5a. Setting up logs at ./log/docker/node1_2025-02-10_04-03-52__8c5af145-a2d2-4d59-ab8c-d5baee7fb7db__wakuorg_nwaku:latest.log
2025-02-10 04:03:52.815 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 13468
2025-02-10 04:03:52.816 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:03:53.316 ERROR [src.node.docker_mananger] Max retries reached for container 5d096cdea4f2. Exiting log stream.
2025-02-10 04:03:53.817 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:53.820 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:03:53.820 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:03:53.820 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:53.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.115.243/tcp/13469/p2p/16Uiu2HAkxXWkqWWKD4heoi3Qvt6zqrfs6fyN9FxtCzjbXw8NBmMg","/ip4/172.18.115.243/tcp/13470/ws/p2p/16Uiu2HAkxXWkqWWKD4heoi3Qvt6zqrfs6fyN9FxtCzjbXw8NBmMg"],"enrUri":"enr:-L24QMlJVvHETyJFjfZPWUSPIwy0kMa_0_p9RoU4fi-28jZ1ENyU3EVbYNKobuW60-4Hm__aWAxQI_1rCWFx_azlbwACgmlkgnY0gmlwhKwSc_OKbXVsdGlhZGRyc5YACASsEnPzBjSdAAoErBJz8wY0nt0DgnJzhQACAQAAiXNlY3AyNTZrMaECLhId4UTG7gNY92cREFieLrDDm9fLXwb-KZ4SkV--dJ-DdGNwgjSdg3VkcII0n4V3YWt1MgU"}'
2025-02-10 04:03:53.822 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:03:53.829 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:03:53.829 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-10_04-03-52__8c5af145-a2d2-4d59-ab8c-d5baee7fb7db__wakuorg_nwaku:latest.log
2025-02-10 04:03:53.829 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:03:53.829 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:03:53.831 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:03:53.831 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.159.9
2025-02-10 04:03:53.831 DEBUG [src.node.docker_mananger] Generated ports ['13604', '13605', '13606', '13607', '13608']
2025-02-10 04:03:53.831 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:03:53.831 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:03:53.831 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:03:53.831 DEBUG [src.node.docker_mananger] docker run -i -t -p 13604:13604 -p 13605:13605 -p 13606:13606 -p 13607:13607 -p 13608:13608 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13606 --rest-port=13604 --tcp-port=13605 --discv5-udp-port=13607 --rest-address=0.0.0.0 --nat=extip:172.18.159.9 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=d8592cfd3aff32cb915ee3beda4c8e0ca73ab409de5c6db970edcf2be94bdd41 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13608 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMlJVvHETyJFjfZPWUSPIwy0kMa_0_p9RoU4fi-28jZ1ENyU3EVbYNKobuW60-4Hm__aWAxQI_1rCWFx_azlbwACgmlkgnY0gmlwhKwSc_OKbXVsdGlhZGRyc5YACASsEnPzBjSdAAoErBJz8wY0nt0DgnJzhQACAQAAiXNlY3AyNTZrMaECLhId4UTG7gNY92cREFieLrDDm9fLXwb-KZ4SkV--dJ-DdGNwgjSdg3VkcII0n4V3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-10 04:03:54.059 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.159.9 waku a00754959d615024eedd99d6757d28e47f44b5dc6e65df61a396ceee98d2b813
2025-02-10 04:03:54.109 DEBUG [src.node.docker_mananger] Container started with ID a00754959d61. Setting up logs at ./log/docker/node2_2025-02-10_04-03-52__8c5af145-a2d2-4d59-ab8c-d5baee7fb7db__wakuorg_nwaku:latest.log
2025-02-10 04:03:54.109 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 13604
2025-02-10 04:03:54.109 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:03:55.110 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:03:55.126 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:03:55.126 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.136 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.159.9/tcp/13605/p2p/16Uiu2HAm6Mr187HEKEE3dpUwuCosH6ugFE1hmnh5KX1bq4LjtuTx","/ip4/172.18.159.9/tcp/13606/ws/p2p/16Uiu2HAm6Mr187HEKEE3dpUwuCosH6ugFE1hmnh5KX1bq4LjtuTx"],"enrUri":"enr:-L24QNGQfVVdMFDYDFVUv9g0mfNoU3eTIDlams8jF6uh86QDbaFEYfjwrp2L5XNTQzZbUsiQw0Fb54Z0gYT8o0ISuIwCgmlkgnY0gmlwhKwSnwmKbXVsdGlhZGRyc5YACASsEp8JBjUlAAoErBKfCQY1Jt0DgnJzhQACAQAAiXNlY3AyNTZrMaEConWQ3850KNBHV9PvliDio1GpmzjyUBGyXDpp8vymO6ODdGNwgjUlg3VkcII1J4V3YWt1MgE"}'
2025-02-10 04:03:55.137 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:03:55.137 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13604/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.243/tcp/13469/p2p/16Uiu2HAkxXWkqWWKD4heoi3Qvt6zqrfs6fyN9FxtCzjbXw8NBmMg"]'
2025-02-10 04:03:55.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:55.141 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-10 04:03:55.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:55.149 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13604/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-10 04:03:55.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:55.164 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:55.169 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:55.170 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:55.270 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.270 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739160235164141824,"ephemeral":false}]'
2025-02-10 04:03:55.275 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.275 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.278 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739160235164141824,"ephemeral":false}]'
2025-02-10 04:03:55.279 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:55.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:55.285 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:55.385 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.386 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.389 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739160235279450880,"ephemeral":false}]'
2025-02-10 04:03:55.391 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.391 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739160235279450880,"ephemeral":false}]'
2025-02-10 04:03:55.395 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:55.400 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:55.400 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:55.500 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.501 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.504 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739160235395030016,"ephemeral":false}]'
2025-02-10 04:03:55.505 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.505 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739160235395030016,"ephemeral":false}]'
2025-02-10 04:03:55.509 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:55.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:55.514 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:55.615 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.615 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.618 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739160235509669632,"ephemeral":false}]'
2025-02-10 04:03:55.620 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.620 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739160235509669632,"ephemeral":false}]'
2025-02-10 04:03:55.624 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:55.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:55.629 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:55.730 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.730 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739160235624275456,"ephemeral":false}]'
2025-02-10 04:03:55.734 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739160235624275456,"ephemeral":false}]'
2025-02-10 04:03:55.738 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:55.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:55.744 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:55.844 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.845 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739160235738708224,"ephemeral":false}]'
2025-02-10 04:03:55.849 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.849 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739160235738708224,"ephemeral":false}]'
2025-02-10 04:03:55.853 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:55.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:55.860 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:55.960 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.961 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.964 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739160235853803264,"ephemeral":false}]'
2025-02-10 04:03:55.965 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:55.965 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:55.968 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739160235853803264,"ephemeral":false}]'
2025-02-10 04:03:55.969 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:55.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:55.975 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:56.076 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.076 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739160235969571840,"ephemeral":false}]'
2025-02-10 04:03:56.081 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.081 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.084 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739160235969571840,"ephemeral":false}]'
2025-02-10 04:03:56.085 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:13468/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-10 04:03:56.090 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:56.091 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:13604/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-10 04:03:56.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:56.097 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:56.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:56.100 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:56.200 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.200 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.203 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf. Response content: b'/newsService/1.0/weekly/protobuf'
2025-02-10 04:03:56.205 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:56.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:56.208 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:56.308 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.309 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.312 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml. Response content: b'/newsService/1.0/alerts/xml'
2025-02-10 04:03:56.313 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:56.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:56.316 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:56.416 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.417 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.420 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson. Response content: b'/newsService/1.0/updates/json'
2025-02-10 04:03:56.421 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:56.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:56.426 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:56.527 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.527 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.530 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739160236421341696,"ephemeral":false}]'
2025-02-10 04:03:56.531 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.532 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739160236421341696,"ephemeral":false}]'
2025-02-10 04:03:56.536 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:56.541 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:56.542 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:56.642 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.643 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.646 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739160236536110848,"ephemeral":false}]'
2025-02-10 04:03:56.647 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.647 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.650 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739160236536110848,"ephemeral":false}]'
2025-02-10 04:03:56.651 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:56.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:56.656 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:56.756 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.757 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.759 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739160236651436288,"ephemeral":false}]'
2025-02-10 04:03:56.760 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.760 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.763 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739160236651436288,"ephemeral":false}]'
2025-02-10 04:03:56.764 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:56.769 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:56.769 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:56.870 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.870 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.873 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739160236764668416,"ephemeral":false}]'
2025-02-10 04:03:56.874 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739160236764668416,"ephemeral":false}]'
2025-02-10 04:03:56.878 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13468/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:03:56.883 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:03:56.883 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:03:56.984 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.984 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13468/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.987 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739160236878840832,"ephemeral":false}]'
2025-02-10 04:03:56.989 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:03:56.989 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13604/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:03:56.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739160236878840832,"ephemeral":false}]'
2025-02-10 04:03:56.994 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 04:03:56.995 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 04:03:56.995 DEBUG [src.node.waku_node] Stopping container with id e5b06a899f5a
2025-02-10 04:03:58.280 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:03:58.280 DEBUG [src.node.waku_node] Stopping container with id a00754959d61
2025-02-10 04:03:59.122 ERROR [src.node.docker_mananger] Max retries reached for container e5b06a899f5a. Exiting log stream.
2025-02-10 04:03:59.797 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:03:59.798 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 04:03:59.817 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:03:59.826 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
