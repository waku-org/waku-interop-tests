2025-02-10 04:06:05.198 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 04:06:05.199 DEBUG [tests.conftest] Running test: test_publish_with_valid_content_topics with id: 2025-02-10_04-06-05__c54e78c7-8e40-4977-8553-b4351096bc8d
2025-02-10 04:06:05.199 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 04:06:05.199 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-10 04:06:05.199 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-10 04:06:05.206 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:06:05.206 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-10_04-06-05__c54e78c7-8e40-4977-8553-b4351096bc8d__wakuorg_nwaku:latest.log
2025-02-10 04:06:05.206 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:06:05.206 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:06:05.208 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:06:05.208 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.142.149
2025-02-10 04:06:05.208 DEBUG [src.node.docker_mananger] Generated ports ['52509', '52510', '52511', '52512', '52513']
2025-02-10 04:06:05.208 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:06:05.208 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:06:05.208 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:06:05.209 DEBUG [src.node.docker_mananger] docker run -i -t -p 52509:52509 -p 52510:52510 -p 52511:52511 -p 52512:52512 -p 52513:52513 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52511 --rest-port=52509 --tcp-port=52510 --discv5-udp-port=52512 --rest-address=0.0.0.0 --nat=extip:172.18.142.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1224b5b64bc0a09206fedf1f52e7befa98284764ecadc023deb5795f6aeafef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52513 --metrics-logging=true --relay=true
2025-02-10 04:06:05.444 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.142.149 waku d20f2a4a6e66d8097c9084e9d9a86f53a1caecc5358fdfff748db2f3e4a40c9b
2025-02-10 04:06:05.494 DEBUG [src.node.docker_mananger] Container started with ID d20f2a4a6e66. Setting up logs at ./log/docker/node1_2025-02-10_04-06-05__c54e78c7-8e40-4977-8553-b4351096bc8d__wakuorg_nwaku:latest.log
2025-02-10 04:06:05.494 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 52509
2025-02-10 04:06:05.494 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:06:06.004 ERROR [src.node.docker_mananger] Max retries reached for container 3c575af35a2e. Exiting log stream.
2025-02-10 04:06:06.495 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:06.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:06:06.498 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:06:06.498 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:06.500 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.142.149/tcp/52510/p2p/16Uiu2HAmBpx8gaaE7WKn5nEiJH1s3tTyKCwpYjE3uErvf63xUGh9","/ip4/172.18.142.149/tcp/52511/ws/p2p/16Uiu2HAmBpx8gaaE7WKn5nEiJH1s3tTyKCwpYjE3uErvf63xUGh9"],"enrUri":"enr:-L24QK0ruTMvriinYjptrxGoUyGTokrjvZ7I4GwpqBK5jyguVn2xEWP49fis6LU4iWuZRlhhGpZDZFST8D3zRhyXaYwCgmlkgnY0gmlwhKwSjpWKbXVsdGlhZGRyc5YACASsEo6VBs0eAAoErBKOlQbNH90DgnJzhQADAQAAiXNlY3AyNTZrMaEC87GdLo4tWn7US5vAOSy9bjrxlSk6YKF-SpyYaTK9O1yDdGNwgs0eg3VkcILNIIV3YWt1MgE"}'
2025-02-10 04:06:06.500 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:06:06.507 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:06:06.507 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-10_04-06-05__c54e78c7-8e40-4977-8553-b4351096bc8d__wakuorg_nwaku:latest.log
2025-02-10 04:06:06.507 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:06:06.507 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:06:06.509 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:06:06.509 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.184.16
2025-02-10 04:06:06.509 DEBUG [src.node.docker_mananger] Generated ports ['64964', '64965', '64966', '64967', '64968']
2025-02-10 04:06:06.509 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:06:06.509 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:06:06.509 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:06:06.509 DEBUG [src.node.docker_mananger] docker run -i -t -p 64964:64964 -p 64965:64965 -p 64966:64966 -p 64967:64967 -p 64968:64968 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64966 --rest-port=64964 --tcp-port=64965 --discv5-udp-port=64967 --rest-address=0.0.0.0 --nat=extip:172.18.184.16 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbbeaa01f6e7e9aef11c252ece2b725c3752ddaadcca3fa7c7d9fcc5ced9ac6a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64968 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QK0ruTMvriinYjptrxGoUyGTokrjvZ7I4GwpqBK5jyguVn2xEWP49fis6LU4iWuZRlhhGpZDZFST8D3zRhyXaYwCgmlkgnY0gmlwhKwSjpWKbXVsdGlhZGRyc5YACASsEo6VBs0eAAoErBKOlQbNH90DgnJzhQADAQAAiXNlY3AyNTZrMaEC87GdLo4tWn7US5vAOSy9bjrxlSk6YKF-SpyYaTK9O1yDdGNwgs0eg3VkcILNIIV3YWt1MgE
2025-02-10 04:06:06.736 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.184.16 waku bb63ce166d9017023ea9dc3b7ffde0d5e619ee587c9ae3ffc7c618715484980b
2025-02-10 04:06:06.784 DEBUG [src.node.docker_mananger] Container started with ID bb63ce166d90. Setting up logs at ./log/docker/node2_2025-02-10_04-06-05__c54e78c7-8e40-4977-8553-b4351096bc8d__wakuorg_nwaku:latest.log
2025-02-10 04:06:06.784 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64964
2025-02-10 04:06:06.785 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:06:07.785 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:07.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:06:07.799 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:06:07.800 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:07.806 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.184.16/tcp/64965/p2p/16Uiu2HAmJT1cnU7Etuvk4XLoACPsBdUgjr2qXjfDMR12AEKyHt7X","/ip4/172.18.184.16/tcp/64966/ws/p2p/16Uiu2HAmJT1cnU7Etuvk4XLoACPsBdUgjr2qXjfDMR12AEKyHt7X"],"enrUri":"enr:-L24QPIfQYYy191o09q1Tk7R5-VjHEpQumOiUJIOvrzJHUXFALB1Of8-g3-z5h2TjsKNNNpYJ1Pz7MXdgs-DWaDKYfgCgmlkgnY0gmlwhKwSuBCKbXVsdGlhZGRyc5YACASsErgQBv3FAAoErBK4EAb9xt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVhSVqeFXWgUWD7VGUm_-QMBpapbxHYrPwKBcPKvu86aDdGNwgv3Fg3VkcIL9x4V3YWt1MgE"}'
2025-02-10 04:06:07.807 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:06:07.807 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64964/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.149/tcp/52510/p2p/16Uiu2HAmBpx8gaaE7WKn5nEiJH1s3tTyKCwpYjE3uErvf63xUGh9"]'
2025-02-10 04:06:07.811 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:07.811 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-10 04:06:07.812 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:06:07.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:07.816 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64964/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 04:06:07.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:07.822 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:07.827 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:07.828 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:07.928 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:07.929 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:07.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160367822705920,"ephemeral":false}]'
2025-02-10 04:06:07.932 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:07.933 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:07.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160367822705920,"ephemeral":false}]'
2025-02-10 04:06:07.936 INFO [src.steps.relay] WARM UP successful!!
2025-02-10 04:06:07.937 DEBUG [tests.relay.test_publish] Running test with content topic A simple string
2025-02-10 04:06:07.937 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Hello World!", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:07.942 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:07.942 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:08.042 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.043 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.045 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Hello World!","version":0,"timestamp":1739160367937536000,"ephemeral":false}]'
2025-02-10 04:06:08.047 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.047 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Hello World!","version":0,"timestamp":1739160367937536000,"ephemeral":false}]'
2025-02-10 04:06:08.050 DEBUG [tests.relay.test_publish] Running test with content topic An integer
2025-02-10 04:06:08.051 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "1234567890", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:08.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:08.056 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:08.156 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.157 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234567890","version":0,"timestamp":1739160368051096320,"ephemeral":false}]'
2025-02-10 04:06:08.161 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.161 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234567890","version":0,"timestamp":1739160368051096320,"ephemeral":false}]'
2025-02-10 04:06:08.164 DEBUG [tests.relay.test_publish] Running test with content topic A dictionary
2025-02-10 04:06:08.165 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "{\"key\": \"value\"}", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:08.169 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:08.170 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:08.271 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.271 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.274 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739160368165136384,"ephemeral":false}]'
2025-02-10 04:06:08.276 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.276 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.278 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739160368165136384,"ephemeral":false}]'
2025-02-10 04:06:08.279 DEBUG [tests.relay.test_publish] Running test with content topic Chinese characters
2025-02-10 04:06:08.280 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:08.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:08.284 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:08.385 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.385 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.388 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739160368280058368,"ephemeral":false}]'
2025-02-10 04:06:08.389 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.389 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.391 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739160368280058368,"ephemeral":false}]'
2025-02-10 04:06:08.393 DEBUG [tests.relay.test_publish] Running test with content topic Emojis
2025-02-10 04:06:08.393 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:08.398 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:08.398 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:08.499 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.499 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739160368393534208,"ephemeral":false}]'
2025-02-10 04:06:08.503 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.504 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739160368393534208,"ephemeral":false}]'
2025-02-10 04:06:08.507 DEBUG [tests.relay.test_publish] Running test with content topic Lorem ipsum text
2025-02-10 04:06:08.507 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:08.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:08.512 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:08.612 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.612 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739160368507514624,"ephemeral":false}]'
2025-02-10 04:06:08.616 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.616 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.619 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739160368507514624,"ephemeral":false}]'
2025-02-10 04:06:08.620 DEBUG [tests.relay.test_publish] Running test with content topic HTML content
2025-02-10 04:06:08.620 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "<html><body>Hello</body></html>", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:08.625 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:08.626 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:08.726 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.726 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.729 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739160368620784128,"ephemeral":false}]'
2025-02-10 04:06:08.730 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.730 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.732 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739160368620784128,"ephemeral":false}]'
2025-02-10 04:06:08.734 DEBUG [tests.relay.test_publish] Running test with content topic Cyrillic characters
2025-02-10 04:06:08.734 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:08.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:08.739 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:08.839 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.839 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739160368734452736,"ephemeral":false}]'
2025-02-10 04:06:08.843 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739160368734452736,"ephemeral":false}]'
2025-02-10 04:06:08.847 DEBUG [tests.relay.test_publish] Running test with content topic Base64 encoded string
2025-02-10 04:06:08.847 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Base64==dGVzdA==", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:08.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:08.853 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:08.953 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.953 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739160368847718400,"ephemeral":false}]'
2025-02-10 04:06:08.957 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:08.957 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:08.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739160368847718400,"ephemeral":false}]'
2025-02-10 04:06:08.961 DEBUG [tests.relay.test_publish] Running test with content topic Binary data
2025-02-10 04:06:08.962 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:08.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:08.967 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:09.067 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.067 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739160368961826560,"ephemeral":false}]'
2025-02-10 04:06:09.071 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.071 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.074 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739160368961826560,"ephemeral":false}]'
2025-02-10 04:06:09.075 DEBUG [tests.relay.test_publish] Running test with content topic Special characters with whitespace
2025-02-10 04:06:09.075 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:09.080 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:09.081 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:09.181 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.181 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.184 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739160369075472896,"ephemeral":false}]'
2025-02-10 04:06:09.185 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.185 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739160369075472896,"ephemeral":false}]'
2025-02-10 04:06:09.189 DEBUG [tests.relay.test_publish] Running test with content topic Boolean false as a string
2025-02-10 04:06:09.189 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "False", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:09.194 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:09.194 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:09.294 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.294 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.297 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"False","version":0,"timestamp":1739160369189533696,"ephemeral":false}]'
2025-02-10 04:06:09.298 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.298 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.300 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"False","version":0,"timestamp":1739160369189533696,"ephemeral":false}]'
2025-02-10 04:06:09.301 DEBUG [tests.relay.test_publish] Running test with content topic A float number
2025-02-10 04:06:09.302 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "3.1415926535", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:09.306 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:09.306 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:09.406 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.407 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.410 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"3.1415926535","version":0,"timestamp":1739160369301975296,"ephemeral":false}]'
2025-02-10 04:06:09.411 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.411 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.413 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"3.1415926535","version":0,"timestamp":1739160369301975296,"ephemeral":false}]'
2025-02-10 04:06:09.415 DEBUG [tests.relay.test_publish] Running test with content topic A list
2025-02-10 04:06:09.415 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:09.419 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:09.420 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:09.520 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.520 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.522 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739160369415414272,"ephemeral":false}]'
2025-02-10 04:06:09.524 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.524 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.526 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739160369415414272,"ephemeral":false}]'
2025-02-10 04:06:09.527 DEBUG [tests.relay.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-10 04:06:09.528 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "0xDEADBEEF", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:09.532 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:09.533 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:09.633 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.634 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.636 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739160369527860224,"ephemeral":false}]'
2025-02-10 04:06:09.637 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.637 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739160369527860224,"ephemeral":false}]'
2025-02-10 04:06:09.641 DEBUG [tests.relay.test_publish] Running test with content topic Email format
2025-02-10 04:06:09.641 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "user@example.com", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:09.646 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:09.646 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:09.747 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.747 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.749 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"user@example.com","version":0,"timestamp":1739160369641733888,"ephemeral":false}]'
2025-02-10 04:06:09.751 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.751 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.754 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"user@example.com","version":0,"timestamp":1739160369641733888,"ephemeral":false}]'
2025-02-10 04:06:09.755 DEBUG [tests.relay.test_publish] Running test with content topic URL format
2025-02-10 04:06:09.755 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "http://example.com", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:09.759 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:09.760 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:09.860 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.860 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"http://example.com","version":0,"timestamp":1739160369755605504,"ephemeral":false}]'
2025-02-10 04:06:09.864 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.864 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.867 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"http://example.com","version":0,"timestamp":1739160369755605504,"ephemeral":false}]'
2025-02-10 04:06:09.868 DEBUG [tests.relay.test_publish] Running test with content topic Date and time in ISO format
2025-02-10 04:06:09.869 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:09.873 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:09.873 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:09.974 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.974 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.976 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739160369868888832,"ephemeral":false}]'
2025-02-10 04:06:09.978 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:09.978 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:09.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739160369868888832,"ephemeral":false}]'
2025-02-10 04:06:09.981 DEBUG [tests.relay.test_publish] Running test with content topic String with escaped quotes
2025-02-10 04:06:09.982 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:09.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:09.987 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:10.087 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.088 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.090 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739160369982188288,"ephemeral":false}]'
2025-02-10 04:06:10.092 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.092 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739160369982188288,"ephemeral":false}]'
2025-02-10 04:06:10.095 DEBUG [tests.relay.test_publish] Running test with content topic A regular expression
2025-02-10 04:06:10.095 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:10.100 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:10.101 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:10.201 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.201 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739160370095807232,"ephemeral":false}]'
2025-02-10 04:06:10.205 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.205 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.207 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739160370095807232,"ephemeral":false}]'
2025-02-10 04:06:10.208 DEBUG [tests.relay.test_publish] Running test with content topic A very long string
2025-02-10 04:06:10.209 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:10.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:10.214 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:10.314 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.314 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739160370209159168,"ephemeral":false}]'
2025-02-10 04:06:10.318 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.318 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739160370209159168,"ephemeral":false}]'
2025-02-10 04:06:10.322 DEBUG [tests.relay.test_publish] Running test with content topic A JSON string
2025-02-10 04:06:10.323 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:10.328 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:10.328 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:10.429 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.429 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.431 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739160370322980352,"ephemeral":false}]'
2025-02-10 04:06:10.433 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.433 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.435 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739160370322980352,"ephemeral":false}]'
2025-02-10 04:06:10.436 DEBUG [tests.relay.test_publish] Running test with content topic A Unix path
2025-02-10 04:06:10.437 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/usr/local/bin", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:10.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:10.441 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:10.541 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.542 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.544 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/usr/local/bin","version":0,"timestamp":1739160370437197824,"ephemeral":false}]'
2025-02-10 04:06:10.546 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.546 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/usr/local/bin","version":0,"timestamp":1739160370437197824,"ephemeral":false}]'
2025-02-10 04:06:10.549 DEBUG [tests.relay.test_publish] Running test with content topic A Windows path
2025-02-10 04:06:10.550 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "C:\\Windows\\System32", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:10.554 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:10.555 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:10.656 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.656 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.659 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739160370549897984,"ephemeral":false}]'
2025-02-10 04:06:10.661 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.661 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.663 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739160370549897984,"ephemeral":false}]'
2025-02-10 04:06:10.665 DEBUG [tests.relay.test_publish] Running test with content topic An SQL query
2025-02-10 04:06:10.665 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:10.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:10.670 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:10.770 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.771 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.773 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739160370665419520,"ephemeral":false}]'
2025-02-10 04:06:10.775 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.775 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.777 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739160370665419520,"ephemeral":false}]'
2025-02-10 04:06:10.778 DEBUG [tests.relay.test_publish] Running test with content topic JavaScript code snippet
2025-02-10 04:06:10.779 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:10.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:10.784 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:10.884 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.884 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.887 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739160370779121152,"ephemeral":false}]'
2025-02-10 04:06:10.889 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.889 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:10.891 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739160370779121152,"ephemeral":false}]'
2025-02-10 04:06:10.892 DEBUG [tests.relay.test_publish] Running test with content topic A CSS snippet
2025-02-10 04:06:10.893 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "body { background-color: #fff; }", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:10.898 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:10.899 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:10.999 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:10.999 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.002 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739160370893112832,"ephemeral":false}]'
2025-02-10 04:06:11.003 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.003 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.006 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739160370893112832,"ephemeral":false}]'
2025-02-10 04:06:11.007 DEBUG [tests.relay.test_publish] Running test with content topic A Python one-liner
2025-02-10 04:06:11.008 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "print('Hello World')", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:11.012 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:11.012 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:11.113 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.113 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.116 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739160371007836160,"ephemeral":false}]'
2025-02-10 04:06:11.118 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.118 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739160371007836160,"ephemeral":false}]'
2025-02-10 04:06:11.121 DEBUG [tests.relay.test_publish] Running test with content topic An IP address
2025-02-10 04:06:11.122 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "192.168.1.1", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:11.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:11.127 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:11.227 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.227 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.230 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"192.168.1.1","version":0,"timestamp":1739160371121940992,"ephemeral":false}]'
2025-02-10 04:06:11.232 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.232 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.234 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"192.168.1.1","version":0,"timestamp":1739160371121940992,"ephemeral":false}]'
2025-02-10 04:06:11.236 DEBUG [tests.relay.test_publish] Running test with content topic A domain name
2025-02-10 04:06:11.236 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "www.example.com", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:11.240 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:11.241 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:11.341 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.341 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"www.example.com","version":0,"timestamp":1739160371236275712,"ephemeral":false}]'
2025-02-10 04:06:11.346 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.346 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"www.example.com","version":0,"timestamp":1739160371236275712,"ephemeral":false}]'
2025-02-10 04:06:11.349 DEBUG [tests.relay.test_publish] Running test with content topic A user agent string
2025-02-10 04:06:11.350 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:11.354 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:11.354 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:11.455 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.455 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739160371349884416,"ephemeral":false}]'
2025-02-10 04:06:11.460 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.460 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.463 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739160371349884416,"ephemeral":false}]'
2025-02-10 04:06:11.464 DEBUG [tests.relay.test_publish] Running test with content topic A credit card number
2025-02-10 04:06:11.464 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "1234-5678-9012-3456", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:11.469 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:11.469 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:11.570 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739160371464736000,"ephemeral":false}]'
2025-02-10 04:06:11.574 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.574 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739160371464736000,"ephemeral":false}]'
2025-02-10 04:06:11.577 DEBUG [tests.relay.test_publish] Running test with content topic A phone number
2025-02-10 04:06:11.578 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "+1234567890", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:11.582 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:11.583 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:11.683 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.684 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"+1234567890","version":0,"timestamp":1739160371578104064,"ephemeral":false}]'
2025-02-10 04:06:11.687 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.687 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"+1234567890","version":0,"timestamp":1739160371578104064,"ephemeral":false}]'
2025-02-10 04:06:11.690 DEBUG [tests.relay.test_publish] Running test with content topic A UUID
2025-02-10 04:06:11.691 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:11.696 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:11.697 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:11.797 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.797 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739160371691122944,"ephemeral":false}]'
2025-02-10 04:06:11.801 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.801 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.804 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739160371691122944,"ephemeral":false}]'
2025-02-10 04:06:11.805 DEBUG [tests.relay.test_publish] Running test with content topic A hashtag
2025-02-10 04:06:11.806 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "#helloWorld", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:11.810 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:11.810 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:11.910 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"#helloWorld","version":0,"timestamp":1739160371805972736,"ephemeral":false}]'
2025-02-10 04:06:11.914 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:11.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:11.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"#helloWorld","version":0,"timestamp":1739160371805972736,"ephemeral":false}]'
2025-02-10 04:06:11.918 DEBUG [tests.relay.test_publish] Running test with content topic A Twitter handle
2025-02-10 04:06:11.918 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "@username", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:11.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:11.923 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:12.023 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:12.024 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:12.026 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"@username","version":0,"timestamp":1739160371918438400,"ephemeral":false}]'
2025-02-10 04:06:12.028 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:12.028 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:12.030 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"@username","version":0,"timestamp":1739160371918438400,"ephemeral":false}]'
2025-02-10 04:06:12.031 DEBUG [tests.relay.test_publish] Running test with content topic A password
2025-02-10 04:06:12.031 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "P@ssw0rd!", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:12.036 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:12.036 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:12.137 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:12.137 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:12.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739160372031838208,"ephemeral":false}]'
2025-02-10 04:06:12.141 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:12.141 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:12.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739160372031838208,"ephemeral":false}]'
2025-02-10 04:06:12.145 DEBUG [tests.relay.test_publish] Running test with content topic A date in common format
2025-02-10 04:06:12.145 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "01/11/2023", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:12.150 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:12.150 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:12.251 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:12.251 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:12.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"01/11/2023","version":0,"timestamp":1739160372145609472,"ephemeral":false}]'
2025-02-10 04:06:12.255 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:12.255 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:12.257 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"01/11/2023","version":0,"timestamp":1739160372145609472,"ephemeral":false}]'
2025-02-10 04:06:12.259 DEBUG [tests.relay.test_publish] Running test with content topic A time string
2025-02-10 04:06:12.259 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "12:00:00", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:12.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:12.264 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:12.364 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:12.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:12.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"12:00:00","version":0,"timestamp":1739160372259541760,"ephemeral":false}]'
2025-02-10 04:06:12.369 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:12.369 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:12.371 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"12:00:00","version":0,"timestamp":1739160372259541760,"ephemeral":false}]'
2025-02-10 04:06:12.373 DEBUG [tests.relay.test_publish] Running test with content topic A mathematical equation
2025-02-10 04:06:12.373 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "E = mc^2", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:06:12.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:06:12.378 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:06:12.479 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:12.479 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:12.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"E = mc^2","version":0,"timestamp":1739160372373411840,"ephemeral":false}]'
2025-02-10 04:06:12.483 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:06:12.483 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:06:12.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"E = mc^2","version":0,"timestamp":1739160372373411840,"ephemeral":false}]'
2025-02-10 04:06:12.489 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 04:06:12.490 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 04:06:12.490 DEBUG [src.node.waku_node] Stopping container with id d20f2a4a6e66
2025-02-10 04:06:13.990 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:06:13.990 DEBUG [src.node.waku_node] Stopping container with id bb63ce166d90
2025-02-10 04:06:14.804 ERROR [src.node.docker_mananger] Max retries reached for container d20f2a4a6e66. Exiting log stream.
2025-02-10 04:06:14.857 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:06:14.858 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 04:06:14.869 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:06:14.881 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
