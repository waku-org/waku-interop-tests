2025-02-10 04:04:05.668 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 04:04:05.669 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_from_some_pubsub_topics with id: 2025-02-10_04-04-05__a0e34769-4d96-484c-9b10-b7b3d184982e
2025-02-10 04:04:05.669 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 04:04:05.669 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-10 04:04:05.669 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-10 04:04:05.675 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:04:05.675 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-10_04-04-05__a0e34769-4d96-484c-9b10-b7b3d184982e__wakuorg_nwaku:latest.log
2025-02-10 04:04:05.676 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:04:05.676 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:04:05.677 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:04:05.677 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.197.37
2025-02-10 04:04:05.677 DEBUG [src.node.docker_mananger] Generated ports ['23882', '23883', '23884', '23885', '23886']
2025-02-10 04:04:05.678 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:04:05.678 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:04:05.678 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:04:05.678 DEBUG [src.node.docker_mananger] docker run -i -t -p 23882:23882 -p 23883:23883 -p 23884:23884 -p 23885:23885 -p 23886:23886 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23884 --rest-port=23882 --tcp-port=23883 --discv5-udp-port=23885 --rest-address=0.0.0.0 --nat=extip:172.18.197.37 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=25e44a52baad21aeae5e48f224f1e1d8ead8de38bb7bd8bae66cdeafd172ecac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23886 --metrics-logging=true --relay=true
2025-02-10 04:04:05.905 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.197.37 waku e01fbd7b9c32ca54aa930959484dfb2efc83b003fe92108c62030cf5d2614365
2025-02-10 04:04:05.955 DEBUG [src.node.docker_mananger] Container started with ID e01fbd7b9c32. Setting up logs at ./log/docker/node1_2025-02-10_04-04-05__a0e34769-4d96-484c-9b10-b7b3d184982e__wakuorg_nwaku:latest.log
2025-02-10 04:04:05.955 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 23882
2025-02-10 04:04:05.956 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:04:06.470 ERROR [src.node.docker_mananger] Max retries reached for container abd96e101efc. Exiting log stream.
2025-02-10 04:04:06.957 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23882/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:06.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:04:06.960 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:04:06.960 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23882/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:06.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.197.37/tcp/23883/p2p/16Uiu2HAmHXtyqWsK9VWvdpsYFTU44kJTEgxDv94LeLL9qDcj3u1v","/ip4/172.18.197.37/tcp/23884/ws/p2p/16Uiu2HAmHXtyqWsK9VWvdpsYFTU44kJTEgxDv94LeLL9qDcj3u1v"],"enrUri":"enr:-L24QKcrKiMGlocMFjZ7f9iInmhQ2lmH3jyCcuXbMMXzfe3bU6r2waQ_-RPLvOgva35y5Fg4YhJ67trQbNdvFyOSn2gCgmlkgnY0gmlwhKwSxSWKbXVsdGlhZGRyc5YACASsEsUlBl1LAAoErBLFJQZdTN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDSHlMF4sRB5BR4UhrWoHt0aNOsW49VnMBRSw-_A-itlWDdGNwgl1Lg3VkcIJdTYV3YWt1MgE"}'
2025-02-10 04:04:06.963 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:04:06.969 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 04:04:06.969 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-10_04-04-05__a0e34769-4d96-484c-9b10-b7b3d184982e__wakuorg_nwaku:latest.log
2025-02-10 04:04:06.969 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 04:04:06.969 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 04:04:06.970 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 04:04:06.970 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.114.35
2025-02-10 04:04:06.971 DEBUG [src.node.docker_mananger] Generated ports ['57498', '57499', '57500', '57501', '57502']
2025-02-10 04:04:06.971 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 04:04:06.971 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 04:04:06.971 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 04:04:06.971 DEBUG [src.node.docker_mananger] docker run -i -t -p 57498:57498 -p 57499:57499 -p 57500:57500 -p 57501:57501 -p 57502:57502 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57500 --rest-port=57498 --tcp-port=57499 --discv5-udp-port=57501 --rest-address=0.0.0.0 --nat=extip:172.18.114.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=79a3f2b6ffadf696b2ee8fd4cb61bd7a306e1cf0b5fa7d5f46d069ffac73dd07 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57502 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKcrKiMGlocMFjZ7f9iInmhQ2lmH3jyCcuXbMMXzfe3bU6r2waQ_-RPLvOgva35y5Fg4YhJ67trQbNdvFyOSn2gCgmlkgnY0gmlwhKwSxSWKbXVsdGlhZGRyc5YACASsEsUlBl1LAAoErBLFJQZdTN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDSHlMF4sRB5BR4UhrWoHt0aNOsW49VnMBRSw-_A-itlWDdGNwgl1Lg3VkcIJdTYV3YWt1MgE
2025-02-10 04:04:07.193 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.114.35 waku 9af3cb59a97386706a878d61dfcf0a80dcca2f5f982be6507c1a5d288b480e5a
2025-02-10 04:04:07.246 DEBUG [src.node.docker_mananger] Container started with ID 9af3cb59a973. Setting up logs at ./log/docker/node2_2025-02-10_04-04-05__a0e34769-4d96-484c-9b10-b7b3d184982e__wakuorg_nwaku:latest.log
2025-02-10 04:04:07.247 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57498
2025-02-10 04:04:07.248 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 04:04:08.249 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57498/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 04:04:08.254 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 04:04:08.254 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57498/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.256 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.35/tcp/57499/p2p/16Uiu2HAmJShcycqxtD44XAmaG9Kv82xyUiHg68iE2dWrhQDvbpHz","/ip4/172.18.114.35/tcp/57500/ws/p2p/16Uiu2HAmJShcycqxtD44XAmaG9Kv82xyUiHg68iE2dWrhQDvbpHz"],"enrUri":"enr:-L24QNRqCU3lNr-HSqUEtegu60oFY22vEHjtDDNAm_on8-5oDM_qqjNtS4i4pcz-RVoOJDw_WDXuVnz_QFvAIhcg1boCgmlkgnY0gmlwhKwSciOKbXVsdGlhZGRyc5YACASsEnIjBuCbAAoErBJyIwbgnN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVgA8V0JT4YmzpDk1RBwhJMKOiz3yvyAlXgONsddMnVWDdGNwguCbg3VkcILgnYV3YWt1MgE"}'
2025-02-10 04:04:08.256 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 04:04:08.257 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57498/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.197.37/tcp/23883/p2p/16Uiu2HAmHXtyqWsK9VWvdpsYFTU44kJTEgxDv94LeLL9qDcj3u1v"]'
2025-02-10 04:04:08.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.260 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23882/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-10 04:04:08.268 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.268 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57498/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-10 04:04:08.280 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.282 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:08.290 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.290 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:08.390 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.391 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248281887488,"ephemeral":false}]'
2025-02-10 04:04:08.394 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.395 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57498/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.397 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248281887488,"ephemeral":false}]'
2025-02-10 04:04:08.398 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:08.403 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.403 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:08.503 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.503 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248398506752,"ephemeral":false}]'
2025-02-10 04:04:08.507 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.507 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57498/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.510 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248398506752,"ephemeral":false}]'
2025-02-10 04:04:08.511 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:08.518 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.518 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:08.618 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.618 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248511661056,"ephemeral":false}]'
2025-02-10 04:04:08.623 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.623 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57498/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.625 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248511661056,"ephemeral":false}]'
2025-02-10 04:04:08.627 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:08.632 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.632 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:08.732 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.732 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248627350784,"ephemeral":false}]'
2025-02-10 04:04:08.736 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.736 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57498/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.738 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248627350784,"ephemeral":false}]'
2025-02-10 04:04:08.740 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:08.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.745 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:08.845 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.845 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248740423424,"ephemeral":false}]'
2025-02-10 04:04:08.849 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.849 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57498/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248740423424,"ephemeral":false}]'
2025-02-10 04:04:08.853 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:23882/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-10 04:04:08.860 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.860 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57498/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-10 04:04:08.868 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.868 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:08.871 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/0'
2025-02-10 04:04:08.872 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:08.874 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/1'
2025-02-10 04:04:08.874 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:08.876 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/9'
2025-02-10 04:04:08.877 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:08.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.881 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:08.982 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.982 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.984 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248877335040,"ephemeral":false}]'
2025-02-10 04:04:08.986 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:08.986 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57498/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:08.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248877335040,"ephemeral":false}]'
2025-02-10 04:04:08.990 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 04:04:08.994 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 04:04:08.994 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 04:04:09.095 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:09.095 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:09.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248990023680,"ephemeral":false}]'
2025-02-10 04:04:09.099 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-10 04:04:09.099 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57498/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-10 04:04:09.101 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739160248990023680,"ephemeral":false}]'
2025-02-10 04:04:09.104 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 04:04:09.104 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 04:04:09.105 DEBUG [src.node.waku_node] Stopping container with id e01fbd7b9c32
2025-02-10 04:04:10.438 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:04:10.438 DEBUG [src.node.waku_node] Stopping container with id 9af3cb59a973
2025-02-10 04:04:11.250 ERROR [src.node.docker_mananger] Max retries reached for container e01fbd7b9c32. Exiting log stream.
2025-02-10 04:04:11.932 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 04:04:11.935 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 04:04:11.943 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 04:04:11.950 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
