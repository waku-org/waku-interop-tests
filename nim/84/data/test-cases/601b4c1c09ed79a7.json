{"uid":"601b4c1c09ed79a7","name":"test_all_nodes_subscribed_to_the_topic","fullName":"tests.filter.test_multiple_nodes.TestFilterMultipleNodes#test_all_nodes_subscribed_to_the_topic","historyId":"1922f713c7d866af3814ecf60dd1d269","time":{"start":1709611832807,"stop":1709611848044,"duration":15237},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/go-waku:latest couldn't find any messages","statusTrace":"tests/filter/test_multiple_nodes.py:16: in test_all_nodes_subscribed_to_the_topic\n    self.check_published_message_reaches_filter_peer()\nsrc/steps/filter.py:96: in check_published_message_reaches_filter_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\nE   AssertionError: Peer NODE_2:harbor.status.im/wakuorg/go-waku:latest couldn't find any messages","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1709611817225,"stop":1709611817226,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"test_id","time":{"start":1709611817226,"stop":1709611817227,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"close_open_nodes","time":{"start":1709611817226,"stop":1709611817226,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"attach_logs_on_fail","time":{"start":1709611817226,"stop":1709611817226,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"test_setup","time":{"start":1709611817227,"stop":1709611817227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"setup_main_relay_node","time":{"start":1709611817227,"stop":1709611831206,"duration":13979},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"filter_setup","time":{"start":1709611817227,"stop":1709611817227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"setup_main_filter_node","time":{"start":1709611831206,"stop":1709611832806,"duration":1600},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/go-waku:latest couldn't find any messages","statusTrace":"tests/filter/test_multiple_nodes.py:16: in test_all_nodes_subscribed_to_the_topic\n    self.check_published_message_reaches_filter_peer()\nsrc/steps/filter.py:96: in check_published_message_reaches_filter_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\nE   AssertionError: Peer NODE_2:harbor.status.im/wakuorg/go-waku:latest couldn't find any messages","steps":[{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1709611847291,"stop":1709611847319,"duration":28},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1709611847294,"stop":1709611847319,"duration":25},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1709611847294,"stop":1709611847319,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '9e2e7f77-0d67-4625-b3f1-edf5dffab1d3', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '9e2e7f77-0d67-4625-b3f1-edf5dffab1d3', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-filter/proto']"},{"name":"pubsub_topic","value":"None"}],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"subscribe_optional_filter_nodes","time":{"start":1709611847320,"stop":1709611847925,"duration":605},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1709611847320,"stop":1709611847337,"duration":17},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1709611847320,"stop":1709611847337,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '9e6d81be-04b3-4ea2-93cf-e7fd07d7d31a', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f29d419b080>"}],"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '9e6d81be-04b3-4ea2-93cf-e7fd07d7d31a', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f29d419b080>"}],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"create_filter_subscription_with_retry","time":{"start":1709611847337,"stop":1709611847886,"duration":549},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1709611847337,"stop":1709611847886,"duration":549},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '56131905-4b3d-4311-b8e2-63265e5642c9', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f29d419bdd0>"}],"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '56131905-4b3d-4311-b8e2-63265e5642c9', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f29d419bdd0>"}],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"create_filter_subscription_with_retry","time":{"start":1709611847887,"stop":1709611847925,"duration":38},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1709611847887,"stop":1709611847925,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'd948fb22-e2af-4681-8582-acb336d6716b', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f29d4117fb0>"}],"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'd948fb22-e2af-4681-8582-acb336d6716b', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f29d4117fb0>"}],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-filter/proto']"},{"name":"pubsub_topic","value":"None"}],"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"check_published_message_reaches_filter_peer","time":{"start":1709611847925,"stop":1709611848043,"duration":118},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/go-waku:latest couldn't find any messages\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 96, in check_published_message_reaches_filter_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\n","steps":[{"name":"create_message","time":{"start":1709611847925,"stop":1709611847925,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"get_filter_messages","time":{"start":1709611848036,"stop":1709611848038,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f29d4162a20>"}],"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"assert_received_message","time":{"start":1709611848039,"stop":1709611848039,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1709611847924863232}"},{"name":"index","value":"0"}],"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"get_filter_messages","time":{"start":1709611848039,"stop":1709611848041,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f29d419b080>"}],"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"assert_received_message","time":{"start":1709611848041,"stop":1709611848041,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1709611847924863232}"},{"name":"index","value":"0"}],"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"get_filter_messages","time":{"start":1709611848041,"stop":1709611848043,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f29d419bdd0>"}],"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true}],"attachments":[{"uid":"f2c103f4913127c8","name":"log","source":"f2c103f4913127c8.txt","type":"text/plain","size":23820}],"parameters":[],"stepsCount":17,"attachmentsCount":1,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true},"afterStages":[{"name":"test_setup::0","time":{"start":1709611848084,"stop":1709611848084,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"close_open_nodes::0","time":{"start":1709611848085,"stop":1709611857322,"duration":9237},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"attach_logs_on_fail::0","time":{"start":1709611857323,"stop":1709611857326,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"2d7de34e99277a3c","name":"node2_2024-03-05_04-10-17__00f6309a-26e1-4f17-ad55-e1ae543da619__harbor.status.im_wakuorg_nwaku:latest.log","source":"2d7de34e99277a3c.txt","type":"text/plain","size":126503},{"uid":"b74d864464067fa1","name":"node1_2024-03-05_04-10-17__00f6309a-26e1-4f17-ad55-e1ae543da619__harbor.status.im_wakuorg_nwaku:latest.log","source":"b74d864464067fa1.txt","type":"text/plain","size":274722},{"uid":"6f10a0574c91998b","name":"additional_node2_2024-03-05_04-10-17__00f6309a-26e1-4f17-ad55-e1ae543da619__harbor.status.im_wakuorg_go-waku:latest.log","source":"6f10a0574c91998b.txt","type":"text/plain","size":67883},{"uid":"9ec765083ea7d0f9","name":"additional_node1_2024-03-05_04-10-17__00f6309a-26e1-4f17-ad55-e1ae543da619__harbor.status.im_wakuorg_nwaku:latest.log","source":"9ec765083ea7d0f9.txt","type":"text/plain","size":118322},{"uid":"15077b407ad5ab87","name":"additional_node3_2024-03-05_04-10-17__00f6309a-26e1-4f17-ad55-e1ae543da619__harbor.status.im_wakuorg_nwaku:latest.log","source":"15077b407ad5ab87.txt","type":"text/plain","size":84053}],"parameters":[],"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false},{"name":"set_allure_env_variables::0","time":{"start":1709612667928,"stop":1709612667928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"},{"name":"parentSuite","value":"tests.filter"},{"name":"suite","value":"test_multiple_nodes"},{"name":"subSuite","value":"TestFilterMultipleNodes"},{"name":"host","value":"fv-az1429-514"},{"name":"thread","value":"2144-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.filter.test_multiple_nodes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"]},"source":"601b4c1c09ed79a7.json","parameterValues":[]}