[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_update_subscription_with_no_request_id with id: 2024-03-12_07-13-32__4820ed3d-fe99-49dd-81b3-eb3c0ac0a3f5
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-03-12_07-13-32__4820ed3d-fe99-49dd-81b3-eb3c0ac0a3f5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.85.52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['32505', '32506', '32507', '32508', '32509']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 32505:32505 -p 32506:32506 -p 32507:32507 -p 32508:32508 -p 32509:32509 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32507 --rest-port=32505 --tcp-port=32506 --discv5-udp-port=32508 --rest-address=0.0.0.0 --nat=extip:172.18.85.52 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32509 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.85.52 waku 74b45ac27a128654415650d88956029792e362d9c8a2c1bcce9419ea2c157ffd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 74b45ac27a12. Setting up logs at ./log/docker/node1_2024-03-12_07-13-32__4820ed3d-fe99-49dd-81b3-eb3c0ac0a3f5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 32505
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:32505/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.85.52/tcp/32506/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.85.52/tcp/32507/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-Kq4QIeP7N7vbEDII3Vj7NdCkwU4QKj18kKa2cnsp3W9O2-AY3dZywIaoBkRtu9qt9dsTp2wLfJUbWtwtrFZ--0Uv58BgmlkgnY0gmlwhKwSVTSKbXVsdGlhZGRyc4wACgSsElU0Bn773QOJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCfvqDdWRwgn78hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-03-12_07-13-32__4820ed3d-fe99-49dd-81b3-eb3c0ac0a3f5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.106.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['33086', '33087', '33088', '33089', '33090']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 33086:33086 -p 33087:33087 -p 33088:33088 -p 33089:33089 -p 33090:33090 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33088 --rest-port=33086 --tcp-port=33087 --discv5-udp-port=33089 --rest-address=0.0.0.0 --nat=extip:172.18.106.225 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33090 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-Kq4QIeP7N7vbEDII3Vj7NdCkwU4QKj18kKa2cnsp3W9O2-AY3dZywIaoBkRtu9qt9dsTp2wLfJUbWtwtrFZ--0Uv58BgmlkgnY0gmlwhKwSVTSKbXVsdGlhZGRyc4wACgSsElU0Bn773QOJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCfvqDdWRwgn78hXdha3UyBQ --filternode=/ip4/172.18.85.52/tcp/32506/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.106.225 waku 190e8bee416e3cb2e69e8723b5b6bed7eb9c5e1a207cca2bf6a61e74ccdd918e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 190e8bee416e. Setting up logs at ./log/docker/node2_2024-03-12_07-13-32__4820ed3d-fe99-49dd-81b3-eb3c0ac0a3f5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 33086
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:33086/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.106.225/tcp/33087/p2p/16Uiu2HAkwyKkdnDYWSkuTMky1HZp5JQuSsGUsPMYzLyqP3uen4SH","/ip4/172.18.106.225/tcp/33088/ws/p2p/16Uiu2HAkwyKkdnDYWSkuTMky1HZp5JQuSsGUsPMYzLyqP3uen4SH"],"enrUri":"enr:-Kq4QCdO310wqV2nTGDyM7UHVXK5XWU--Kvjtsuz1xqZ6n_eJq_YfOL2CuCgfUOcBD5Hk2VDyRUgXyJ4eaMG-rYmm0UBgmlkgnY0gmlwhKwSauGKbXVsdGlhZGRyc4wACgSsEmrhBoFA3QOJc2VjcDI1NmsxoQIl0xbSSCByQes4ftMg30tNqBxlq4j6v1t5rqWvlQnlfoN0Y3CCgT-DdWRwgoFBhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:45 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:32505/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:33086/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2a4c9234-e098-4b91-9131-dc072a1b2872", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"2a4c9234-e098-4b91-9131-dc072a1b2872","statusCode":0,"statusDesc":""}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X PUT "http://127.0.0.1:33086/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:17 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:33086/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusCode":400,"statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 74b45ac27a12
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 190e8bee416e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.