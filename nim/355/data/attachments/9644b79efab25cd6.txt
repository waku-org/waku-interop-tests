[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.192.223
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['12253', '12254', '12255', '12256', '12257']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 12253:12253 -p 12254:12254 -p 12255:12255 -p 12256:12256 -p 12257:12257 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12255 --rest-port=12253 --tcp-port=12254 --discv5-udp-port=12256 --rest-address=0.0.0.0 --nat=extip:172.18.192.223 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=885965b8cd0f034105804b325db08eab8ae22ec1c6e13477d7333ab5a7ca78ae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12257 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.192.223 waku 3d869a93ef1a26d51e2d3cfeb592dfb5294ab894c3b8c8529ac4b2c67d59fbde
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3d869a93ef1a. Setting up logs at ./log/docker/receiving_node1_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 12253
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12253/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12253/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.192.223/tcp/12254/p2p/16Uiu2HAmKpMwrW9xKhYkctN2omWUWUKD7BwV91e7G9oRcBfnjpjv","/ip4/172.18.192.223/tcp/12255/ws/p2p/16Uiu2HAmKpMwrW9xKhYkctN2omWUWUKD7BwV91e7G9oRcBfnjpjv"],"enrUri":"enr:-LO4QFz2xV7KLGQSY-eQjhNIkLyZqoq-mliQAo76mTDLJouEc71SLmk2xf9JZj5BhOBLSqCc2itQubHJt0KHWg_BXRgBgmlkgnY0gmlwhKwSwN-KbXVsdGlhZGRyc4wACgSsEsDfBi_f3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNqaHRRs9gl0pE-yIcjVNaPs5JJgTJVW75AsqhvKGCpdYN0Y3CCL96DdWRwgi_ghXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.118.47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61672', '61673', '61674', '61675', '61676']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61672:61672 -p 61673:61673 -p 61674:61674 -p 61675:61675 -p 61676:61676 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61674 --rest-port=61672 --tcp-port=61673 --discv5-udp-port=61675 --rest-address=0.0.0.0 --nat=extip:172.18.118.47 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbbe9e2ee96dc5be1feafff895eaef6ef91d9dfe291e5efe7b9a1bc4435e7fcb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61676 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.118.47 waku ca5ebc1b384b2aa00e596f45da8eeb74e8efb0b3474f2824338a418b0b97dd9e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ca5ebc1b384b. Setting up logs at ./log/docker/receiving_node2_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61672
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61672/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61672/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.118.47/tcp/61673/p2p/16Uiu2HAkuUT8TnWbTDj1ELJEaWpVexH9coCqVRRrjveo5GPYePzb","/ip4/172.18.118.47/tcp/61674/ws/p2p/16Uiu2HAkuUT8TnWbTDj1ELJEaWpVexH9coCqVRRrjveo5GPYePzb"],"enrUri":"enr:-LO4QC-5Q5EHGRUwZfqXHnwvL7f7TyKBPKNSRCrskzpfxqnhSRc9vp_Ohgx-kzHJIxb8JuXwLyPKm322agNUm55p7EYBgmlkgnY0gmlwhKwSdi-KbXVsdGlhZGRyc4wACgSsEnYvBvDq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIAtjZYN5e_0bQBNRWAN06e4z4Vuz8HuSPRX-n8fXTyXIN0Y3CC8OmDdWRwgvDrhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61672/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.192.223/tcp/12254/p2p/16Uiu2HAmKpMwrW9xKhYkctN2omWUWUKD7BwV91e7G9oRcBfnjpjv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.172.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['25816', '25817', '25818', '25819', '25820']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 25816:25816 -p 25817:25817 -p 25818:25818 -p 25819:25819 -p 25820:25820 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25818 --rest-port=25816 --tcp-port=25817 --discv5-udp-port=25819 --rest-address=0.0.0.0 --nat=extip:172.18.172.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ed49df8ebc74cf07c51ece1afdab586aa7e2bf0fa51f813e18a9ea8cbefedb0f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25820 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QFz2xV7KLGQSY-eQjhNIkLyZqoq-mliQAo76mTDLJouEc71SLmk2xf9JZj5BhOBLSqCc2itQubHJt0KHWg_BXRgBgmlkgnY0gmlwhKwSwN-KbXVsdGlhZGRyc4wACgSsEsDfBi_f3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNqaHRRs9gl0pE-yIcjVNaPs5JJgTJVW75AsqhvKGCpdYN0Y3CCL96DdWRwgi_ghXdha3UyCQ --lightpushnode=/ip4/172.18.192.223/tcp/12254/p2p/16Uiu2HAmKpMwrW9xKhYkctN2omWUWUKD7BwV91e7G9oRcBfnjpjv --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.172.179 waku 15f710e25d7febd28b3f0c71a47c0473acfd9c58249c9843541a052a9fb9c09f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 15f710e25d7f. Setting up logs at ./log/docker/lightpush_node1_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 25816
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25816/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25816/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.179/tcp/25817/p2p/16Uiu2HAmNgstqK2cXg2qmsmarZFqjyPiUJks7ZJWnp8wp3wPcmwN","/ip4/172.18.172.179/tcp/25818/ws/p2p/16Uiu2HAmNgstqK2cXg2qmsmarZFqjyPiUJks7ZJWnp8wp3wPcmwN"],"enrUri":"enr:-LO4QEEl0Oi0Wt5XdocFO5JXlD8WTyWfvOh1YJUpt8Pp-NleQTTUNAfQbMcoTfPF5GCAvlrYrPepHHv7roNUxxp4fHsBgmlkgnY0gmlwhKwSrLOKbXVsdGlhZGRyc4wACgSsEqyzBmTa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOVELscVCitNHH7Ic8jXDTPgjPUsTr8iJrzPYn7K1wrGYN0Y3CCZNmDdWRwgmTbhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25816/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.192.223/tcp/12254/p2p/16Uiu2HAmKpMwrW9xKhYkctN2omWUWUKD7BwV91e7G9oRcBfnjpjv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25816/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.47/tcp/61673/p2p/16Uiu2HAkuUT8TnWbTDj1ELJEaWpVexH9coCqVRRrjveo5GPYePzb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.197.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62778', '62779', '62780', '62781', '62782']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62778:62778 -p 62779:62779 -p 62780:62780 -p 62781:62781 -p 62782:62782 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62780 --rest-port=62778 --tcp-port=62779 --discv5-udp-port=62781 --rest-address=0.0.0.0 --nat=extip:172.18.197.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c8a3d348faa88b67cbe0cbfb447586f247fcd0ba152134eeeb2f7560b7f88639 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62782 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QFz2xV7KLGQSY-eQjhNIkLyZqoq-mliQAo76mTDLJouEc71SLmk2xf9JZj5BhOBLSqCc2itQubHJt0KHWg_BXRgBgmlkgnY0gmlwhKwSwN-KbXVsdGlhZGRyc4wACgSsEsDfBi_f3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNqaHRRs9gl0pE-yIcjVNaPs5JJgTJVW75AsqhvKGCpdYN0Y3CCL96DdWRwgi_ghXdha3UyCQ --lightpushnode=/ip4/172.18.192.223/tcp/12254/p2p/16Uiu2HAmKpMwrW9xKhYkctN2omWUWUKD7BwV91e7G9oRcBfnjpjv --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.197.136 waku 32dff4a856f41ad9439f8275c11d24d27a9c5ccf534fc9f83981ddf9b2cb106d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 32dff4a856f4. Setting up logs at ./log/docker/lightpush_node2_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62778
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62778/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62778/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.197.136/tcp/62779/p2p/16Uiu2HAmTsVK1aPcxLsWuPcwR1ZT9EsfRxvoBvPkoSZc6UajKgrQ","/ip4/172.18.197.136/tcp/62780/ws/p2p/16Uiu2HAmTsVK1aPcxLsWuPcwR1ZT9EsfRxvoBvPkoSZc6UajKgrQ"],"enrUri":"enr:-LO4QJYFWoMmJ5P4iVSLYNlPC8oVqhkstSU2nLIhhz7leBaKUW6L-P5qDvNVcsC_xzYvbcwdXqoR9F_8FE5kx6EJnUoBgmlkgnY0gmlwhKwSxYiKbXVsdGlhZGRyc4wACgSsEsWIBvU83QOCcnOFAAMBAACJc2VjcDI1NmsxoQPiEwUDA-S94AJRNl3lJn9ak2bUxro0-hSGBNQSRwp0_YN0Y3CC9TuDdWRwgvU9hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62778/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.192.223/tcp/12254/p2p/16Uiu2HAmKpMwrW9xKhYkctN2omWUWUKD7BwV91e7G9oRcBfnjpjv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62778/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.47/tcp/61673/p2p/16Uiu2HAkuUT8TnWbTDj1ELJEaWpVexH9coCqVRRrjveo5GPYePzb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.233.11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['11484', '11485', '11486', '11487', '11488']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 11484:11484 -p 11485:11485 -p 11486:11486 -p 11487:11487 -p 11488:11488 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11486 --rest-port=11484 --tcp-port=11485 --discv5-udp-port=11487 --rest-address=0.0.0.0 --nat=extip:172.18.233.11 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3ed2ce10cfc9dcf54ff23ecd5b9689a3da744aeed9a42c0afabdcfc6fc7ee6aa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11488 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QFz2xV7KLGQSY-eQjhNIkLyZqoq-mliQAo76mTDLJouEc71SLmk2xf9JZj5BhOBLSqCc2itQubHJt0KHWg_BXRgBgmlkgnY0gmlwhKwSwN-KbXVsdGlhZGRyc4wACgSsEsDfBi_f3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNqaHRRs9gl0pE-yIcjVNaPs5JJgTJVW75AsqhvKGCpdYN0Y3CCL96DdWRwgi_ghXdha3UyCQ --lightpushnode=/ip4/172.18.192.223/tcp/12254/p2p/16Uiu2HAmKpMwrW9xKhYkctN2omWUWUKD7BwV91e7G9oRcBfnjpjv --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.233.11 waku a0f77acd167b1c9baf1873b1a95cedbdb1eb9f1816a5389d949c0598d3a1dc74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a0f77acd167b. Setting up logs at ./log/docker/lightpush_node3_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11484
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11484/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11484/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.233.11/tcp/11485/p2p/16Uiu2HAmDuK8mHVkiLD49hzWQXxFVUPSAgNBWc3wfPE4ND3VcQXp","/ip4/172.18.233.11/tcp/11486/ws/p2p/16Uiu2HAmDuK8mHVkiLD49hzWQXxFVUPSAgNBWc3wfPE4ND3VcQXp"],"enrUri":"enr:-LO4QKqbFd240c2Z3zIbjqSmJU3BWew_48WfJqHpXwnbBQtjH8Tk9LyZcHcC5h5GbmZxayxZYCl5ALjJaeuFWXlyrgwBgmlkgnY0gmlwhKwS6QuKbXVsdGlhZGRyc4wACgSsEukLBize3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMShw60QRtpwe1VwyuiG-jvl-1cmDu_Cs4UJc1a36yGL4N0Y3CCLN2DdWRwgizfhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11484/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.192.223/tcp/12254/p2p/16Uiu2HAmKpMwrW9xKhYkctN2omWUWUKD7BwV91e7G9oRcBfnjpjv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11484/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.47/tcp/61673/p2p/16Uiu2HAkuUT8TnWbTDj1ELJEaWpVexH9coCqVRRrjveo5GPYePzb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.26.154
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38387', '38388', '38389', '38390', '38391']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38387:38387 -p 38388:38388 -p 38389:38389 -p 38390:38390 -p 38391:38391 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38389 --rest-port=38387 --tcp-port=38388 --discv5-udp-port=38390 --rest-address=0.0.0.0 --nat=extip:172.18.26.154 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c8e9886ce3438aaed3f6fa1fbe2b0aee3d5a23c140f4f8504cea82edc6fded5b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38391 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QFz2xV7KLGQSY-eQjhNIkLyZqoq-mliQAo76mTDLJouEc71SLmk2xf9JZj5BhOBLSqCc2itQubHJt0KHWg_BXRgBgmlkgnY0gmlwhKwSwN-KbXVsdGlhZGRyc4wACgSsEsDfBi_f3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNqaHRRs9gl0pE-yIcjVNaPs5JJgTJVW75AsqhvKGCpdYN0Y3CCL96DdWRwgi_ghXdha3UyCQ --lightpushnode=/ip4/172.18.192.223/tcp/12254/p2p/16Uiu2HAmKpMwrW9xKhYkctN2omWUWUKD7BwV91e7G9oRcBfnjpjv --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.26.154 waku 25b4253b04b0f8d4581dd2a1d0e68f9597e82454ccb5e746d76610bf82c5b743
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 25b4253b04b0. Setting up logs at ./log/docker/lightpush_node4_2024-09-11_04-21-23__68a8c58e-9fbe-463c-b06c-4313d71b65cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38387
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38387/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38387/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.26.154/tcp/38388/p2p/16Uiu2HAmAnHiYtXL5BmrAgjJcspHWBdd2anZ6GKokkjoV54639Le","/ip4/172.18.26.154/tcp/38389/ws/p2p/16Uiu2HAmAnHiYtXL5BmrAgjJcspHWBdd2anZ6GKokkjoV54639Le"],"enrUri":"enr:-LO4QBczwKk-DqZdZaHSebo3HaKNojzgM1xEsdMg1ro2WyGkKG2eFtrSCv263t11Bi3xEJ9N4MEU9R2jZ3godPyej3ABgmlkgnY0gmlwhKwSGpqKbXVsdGlhZGRyc4wACgSsEhqaBpX13QOCcnOFAAMBAACJc2VjcDI1NmsxoQLkJ1QIDVZ8lMeoZVhDTKyYwYHOK9F-18jlrzAKk_o5E4N0Y3CClfSDdWRwgpX2hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38387/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.192.223/tcp/12254/p2p/16Uiu2HAmKpMwrW9xKhYkctN2omWUWUKD7BwV91e7G9oRcBfnjpjv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38387/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.47/tcp/61673/p2p/16Uiu2HAkuUT8TnWbTDj1ELJEaWpVexH9coCqVRRrjveo5GPYePzb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12253/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61672/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25816/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726028494095382784}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726028494095382784,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61672/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726028494095382784,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62778/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726028494222949888}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726028494222949888,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61672/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726028494222949888,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11484/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726028494338135296}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726028494338135296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61672/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726028494338135296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38387/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726028494456503808}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726028494456503808,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61672/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726028494456503808,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3d869a93ef1a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ca5ebc1b384b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 15f710e25d7f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 32dff4a856f4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a0f77acd167b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 25b4253b04b0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.