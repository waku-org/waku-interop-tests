[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_with_no_content_topic with id: 2025-01-24_04-07-33__397b6068-476e-4b8a-aaeb-3a94ea315bac
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-24_04-07-33__397b6068-476e-4b8a-aaeb-3a94ea315bac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.138.27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63426', '63427', '63428', '63429', '63430']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63426:63426 -p 63427:63427 -p 63428:63428 -p 63429:63429 -p 63430:63430 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63428 --rest-port=63426 --tcp-port=63427 --discv5-udp-port=63429 --rest-address=0.0.0.0 --nat=extip:172.18.138.27 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eeb864f9bc5a09bc7bd8bbc57dfce1f82becae854a3b63dc6b6a93de023e3dfa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63430 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.138.27 waku fe602042b71d17d1b3e369dd262e329aa3c9c7ce5a1b87506f4d8652b3f5c261
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fe602042b71d. Setting up logs at ./log/docker/node1_2025-01-24_04-07-33__397b6068-476e-4b8a-aaeb-3a94ea315bac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 63426
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f81b6664d467. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63426/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63426/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.27/tcp/63427/p2p/16Uiu2HAmBgRoNFdsrLMC6S5yQyDrQDANrEoqvSd5b4cTpyL6gwr8","/ip4/172.18.138.27/tcp/63428/ws/p2p/16Uiu2HAmBgRoNFdsrLMC6S5yQyDrQDANrEoqvSd5b4cTpyL6gwr8"],"enrUri":"enr:-L24QH8gwGHbJM31IxPzj98OnxoBUV85UjQ3416JOGNyWGriVoGHNQu4AhNkNMqBFKvRxnWgS38VnWh8gxv2Xb4FqoQCgmlkgnY0gmlwhKwSihuKbXVsdGlhZGRyc5YACASsEoobBvfDAAoErBKKGwb3xN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC8YKreypB-uKI7ah8fNXMFAUB67CqJEFebm7Wq7I9uIGDdGNwgvfDg3VkcIL3xYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-24_04-07-33__397b6068-476e-4b8a-aaeb-3a94ea315bac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.138.150
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3980', '3981', '3982', '3983', '3984']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3980:3980 -p 3981:3981 -p 3982:3982 -p 3983:3983 -p 3984:3984 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3982 --rest-port=3980 --tcp-port=3981 --discv5-udp-port=3983 --rest-address=0.0.0.0 --nat=extip:172.18.138.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbb33bbdc59a5ad547005a5d83a29dffcdff89ecc2790bdb1640826f94040eff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3984 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QH8gwGHbJM31IxPzj98OnxoBUV85UjQ3416JOGNyWGriVoGHNQu4AhNkNMqBFKvRxnWgS38VnWh8gxv2Xb4FqoQCgmlkgnY0gmlwhKwSihuKbXVsdGlhZGRyc5YACASsEoobBvfDAAoErBKKGwb3xN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC8YKreypB-uKI7ah8fNXMFAUB67CqJEFebm7Wq7I9uIGDdGNwgvfDg3VkcIL3xYV3YWt1MgU --filternode=/ip4/172.18.138.27/tcp/63427/p2p/16Uiu2HAmBgRoNFdsrLMC6S5yQyDrQDANrEoqvSd5b4cTpyL6gwr8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.138.150 waku add389a1f31b8477599834bd3d406f7993f940232060eca8a3999bd042933ee4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID add389a1f31b. Setting up logs at ./log/docker/node2_2025-01-24_04-07-33__397b6068-476e-4b8a-aaeb-3a94ea315bac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3980
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3980/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3980/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.150/tcp/3981/p2p/16Uiu2HAmSzgTwyEaZc3gp4B2XyaS6bvhM4wZGu7nRSP5AC1iwk2t","/ip4/172.18.138.150/tcp/3982/ws/p2p/16Uiu2HAmSzgTwyEaZc3gp4B2XyaS6bvhM4wZGu7nRSP5AC1iwk2t"],"enrUri":"enr:-L24QIhdjMFuTe0tLBDEU7r6JHzi3yK2PPJc2RuPor8XbdLwB4NNps80gurXq0-nd3GU3Jj6uuFSK2Im30a53--aSpACgmlkgnY0gmlwhKwSipaKbXVsdGlhZGRyc5YACASsEoqWBg-NAAoErBKKlgYPjt0DgnJzhQADAQAAiXNlY3AyNTZrMaED1Q8CosI8CZtAbMQxOyGaWXjmdtDCaRrB26R2f_b6KLmDdGNwgg-Ng3VkcIIPj4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3980/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.27/tcp/63427/p2p/16Uiu2HAmBgRoNFdsrLMC6S5yQyDrQDANrEoqvSd5b4cTpyL6gwr8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63426/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3980/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "02145c50-9bd7-42e9-b760-a304b60f9add", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"02145c50-9bd7-42e9-b760-a304b60f9add","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X PUT "http://127.0.0.1:3980/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:3980/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fe602042b71d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id add389a1f31b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fe602042b71d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.