[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter with id: 2025-01-01_04-02-34__1c41de38-a386-4c25-8ef1-273d6efd9f83
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-01_04-02-34__1c41de38-a386-4c25-8ef1-273d6efd9f83__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.118.165
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44949', '44950', '44951', '44952', '44953']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44949:44949 -p 44950:44950 -p 44951:44951 -p 44952:44952 -p 44953:44953 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44951 --rest-port=44949 --tcp-port=44950 --discv5-udp-port=44952 --rest-address=0.0.0.0 --nat=extip:172.18.118.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0b1de1cba6eadfe17ec1aca5adc31ed3ca89de7ed1acbd20cafb5a8f71ed2dfd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44953 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.118.165 waku 7bbed6be82808dfd453b1bedf6efe0644e9390f5e8cdbbe8faa5b6dbdd951b6a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7bbed6be8280. Setting up logs at ./log/docker/node1_2025-01-01_04-02-34__1c41de38-a386-4c25-8ef1-273d6efd9f83__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 44949
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44949/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44949/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.118.165/tcp/44950/p2p/16Uiu2HAmEFa6kYYVLyoSUJnTxnWtSKU6yKg97Wz9ggFovBmdiocV","/ip4/172.18.118.165/tcp/44951/ws/p2p/16Uiu2HAmEFa6kYYVLyoSUJnTxnWtSKU6yKg97Wz9ggFovBmdiocV"],"enrUri":"enr:-L24QBuijEudNorNxcflNdWVbhz2lKsrXBrzoIk3GqYSC4flDeFZHT-6zo_7p0zXshYDgUKvbBOgWqKaWwmYA8V3Zc0CgmlkgnY0gmlwhKwSdqWKbXVsdGlhZGRyc5YACASsEnalBq-WAAoErBJ2pQavl90DgnJzhQADAQAAiXNlY3AyNTZrMaEDF7eYTaZD9RVWcyuaa08kKtfEYtkxb8xsDUWJvQUe26qDdGNwgq-Wg3VkcIKvmIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-01_04-02-34__1c41de38-a386-4c25-8ef1-273d6efd9f83__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.208.238
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39942', '39943', '39944', '39945', '39946']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39942:39942 -p 39943:39943 -p 39944:39944 -p 39945:39945 -p 39946:39946 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39944 --rest-port=39942 --tcp-port=39943 --discv5-udp-port=39945 --rest-address=0.0.0.0 --nat=extip:172.18.208.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f0df1adc6ff078f51e5e4e6cf1d6c0c0c9c467d9c38fbacd81831e74aa75bbab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39946 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QBuijEudNorNxcflNdWVbhz2lKsrXBrzoIk3GqYSC4flDeFZHT-6zo_7p0zXshYDgUKvbBOgWqKaWwmYA8V3Zc0CgmlkgnY0gmlwhKwSdqWKbXVsdGlhZGRyc5YACASsEnalBq-WAAoErBJ2pQavl90DgnJzhQADAQAAiXNlY3AyNTZrMaEDF7eYTaZD9RVWcyuaa08kKtfEYtkxb8xsDUWJvQUe26qDdGNwgq-Wg3VkcIKvmIV3YWt1MgU --filternode=/ip4/172.18.118.165/tcp/44950/p2p/16Uiu2HAmEFa6kYYVLyoSUJnTxnWtSKU6yKg97Wz9ggFovBmdiocV
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.208.238 waku 1ac6b8adde18a847afcefaa60f2de34e250b6fb44cd3595173aa82310f0a7e8a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1ac6b8adde18. Setting up logs at ./log/docker/node1_2025-01-01_04-02-34__1c41de38-a386-4c25-8ef1-273d6efd9f83__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 39942
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39942/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39942/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.208.238/tcp/39943/p2p/16Uiu2HAmHjj3JoATF8xNCzwLrcejEDonnofpyxHiGjzPKkKcSPhY","/ip4/172.18.208.238/tcp/39944/ws/p2p/16Uiu2HAmHjj3JoATF8xNCzwLrcejEDonnofpyxHiGjzPKkKcSPhY"],"enrUri":"enr:-L24QMjHNr5oll5ukLeCVzVseN3XOs6g9VBiTNfoyW0_j_R_NbVaCSSxIX85HF5wnR46d154sisICddjhH753OzVRVwCgmlkgnY0gmlwhKwS0O6KbXVsdGlhZGRyc5YACASsEtDuBpwHAAoErBLQ7gacCN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDS4EHDkOoC_JtfqJkmO-6hvpgW2mFDA-OtDiFzyoxAF-DdGNwgpwHg3VkcIKcCYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44949/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39942/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7007fd56-3471-4c68-bb7d-c5cad8e69f56", "contentFilters": ["/test/1/waku-relay/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7007fd56-3471-4c68-bb7d-c5cad8e69f56","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44949/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39942/filter/v2/messages/%2Ftest%2F1%2Fwaku-relay%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735704159306345472,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7bbed6be8280
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1ac6b8adde18
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7bbed6be8280. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.