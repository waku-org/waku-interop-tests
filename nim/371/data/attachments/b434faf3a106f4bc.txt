[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_sort_ascending[false] with id: 2024-09-25_04-37-02__a8843e7e-6765-4b0e-a2f6-05f0276945ad
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-25_04-37-02__a8843e7e-6765-4b0e-a2f6-05f0276945ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.232.178
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40729', '40730', '40731', '40732', '40733']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40729:40729 -p 40730:40730 -p 40731:40731 -p 40732:40732 -p 40733:40733 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40731 --rest-port=40729 --tcp-port=40730 --discv5-udp-port=40732 --rest-address=0.0.0.0 --nat=extip:172.18.232.178 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac9f64cbcc0bbcf3633d60ef51b778c361bf17c9b1cf003fc168c23ce8d825de --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40733 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.232.178 waku e664457b10ed835b71cf230741f41ae96799bbca09b0c0626505b87eaf4a90af
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e664457b10ed. Setting up logs at ./log/docker/publishing_node1_2024-09-25_04-37-02__a8843e7e-6765-4b0e-a2f6-05f0276945ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40729
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40729/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40729/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.232.178/tcp/40730/p2p/16Uiu2HAm6zhJBmBPSadzn3TvUyn5HacbRrWZuhmCtTGsqcYxGJZM","/ip4/172.18.232.178/tcp/40731/ws/p2p/16Uiu2HAm6zhJBmBPSadzn3TvUyn5HacbRrWZuhmCtTGsqcYxGJZM"],"enrUri":"enr:-LO4QAJ5htuwBzD0fOSapzvwvbKr4iAvkBDm92OOH4ZlCTDDOzul8VoL0zILNnVhw-oNAedLs7PEiClZUDM9X-RRoRwBgmlkgnY0gmlwhKwS6LKKbXVsdGlhZGRyc4wACgSsEuiyBp8b3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKr5jZQFSROmpBJRA9_ZjQmsReRRQquRKBWCuTfMSLWoIN0Y3CCnxqDdWRwgp8chXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-25_04-37-02__a8843e7e-6765-4b0e-a2f6-05f0276945ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.136.188
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['22620', '22621', '22622', '22623', '22624']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 22620:22620 -p 22621:22621 -p 22622:22622 -p 22623:22623 -p 22624:22624 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22622 --rest-port=22620 --tcp-port=22621 --discv5-udp-port=22623 --rest-address=0.0.0.0 --nat=extip:172.18.136.188 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b89bbbea09c7fa72e521dcf4aedfa000f8f3f323ffe9ecc2cfd9de76505ceacc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22624 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QAJ5htuwBzD0fOSapzvwvbKr4iAvkBDm92OOH4ZlCTDDOzul8VoL0zILNnVhw-oNAedLs7PEiClZUDM9X-RRoRwBgmlkgnY0gmlwhKwS6LKKbXVsdGlhZGRyc4wACgSsEuiyBp8b3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKr5jZQFSROmpBJRA9_ZjQmsReRRQquRKBWCuTfMSLWoIN0Y3CCnxqDdWRwgp8chXdha3UyAw --storenode=/ip4/172.18.232.178/tcp/40730/p2p/16Uiu2HAm6zhJBmBPSadzn3TvUyn5HacbRrWZuhmCtTGsqcYxGJZM --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.136.188 waku fadf26e2f7bb4c283067f774fef23fb6856094925b7bac0706b5fd0570130fc7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fadf26e2f7bb. Setting up logs at ./log/docker/store_node1_2024-09-25_04-37-02__a8843e7e-6765-4b0e-a2f6-05f0276945ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 22620
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22620/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22620/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.136.188/tcp/22621/p2p/16Uiu2HAm6PnSJDRYnX8yGvTtT39rYrWVVezwWrfZWhUJWUuvXzah","/ip4/172.18.136.188/tcp/22622/ws/p2p/16Uiu2HAm6PnSJDRYnX8yGvTtT39rYrWVVezwWrfZWhUJWUuvXzah"],"enrUri":"enr:-LO4QBNhb2ZZeauy1pedgveuYDbYpi-jI0Tz1MvM6dPi_S7lLre0ddR8___94EFexxcCNKt6zQC-yXMupQllafMTNfcBgmlkgnY0gmlwhKwSiLyKbXVsdGlhZGRyc4wACgSsEoi8Blhe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKi9LILfLYP_ybCmN1p55AH1ICk5kVED3sqqU2fAm2OZoN0Y3CCWF2DdWRwglhfhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22620/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.232.178/tcp/40730/p2p/16Uiu2HAm6zhJBmBPSadzn3TvUyn5HacbRrWZuhmCtTGsqcYxGJZM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40729/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22620/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40729/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"skS6cTocn2z9H0zsnA5EPtZQHGoP+ZNUM7tG0Gc8uzY="},{"messageHash":"l4X0CRKAsokZEjpxY+9e4WU+Ev0FLePBkwlLAbOv554="},{"messageHash":"hBw2mo/U+8lTlNhERnPWlHZGBib2ocbL0JOV5ZM/HuM="},{"messageHash":"M0KYuLasObnem5s4kcu0VsxvWCpVWduimkvWfNLtDYc="},{"messageHash":"jEjR9xJ6Q17B0K4WT2W3g2+voqFgNQ9A0QHhS2QR7Y4="}],"paginationCursor":"skS6cTocn2z9H0zsnA5EPtZQHGoP+ZNUM7tG0Gc8uzY="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22620/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"skS6cTocn2z9H0zsnA5EPtZQHGoP+ZNUM7tG0Gc8uzY="},{"messageHash":"l4X0CRKAsokZEjpxY+9e4WU+Ev0FLePBkwlLAbOv554="},{"messageHash":"hBw2mo/U+8lTlNhERnPWlHZGBib2ocbL0JOV5ZM/HuM="},{"messageHash":"M0KYuLasObnem5s4kcu0VsxvWCpVWduimkvWfNLtDYc="},{"messageHash":"jEjR9xJ6Q17B0K4WT2W3g2+voqFgNQ9A0QHhS2QR7Y4="}],"paginationCursor":"skS6cTocn2z9H0zsnA5EPtZQHGoP+ZNUM7tG0Gc8uzY="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e664457b10ed
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fadf26e2f7bb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.