[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_message_relayed_while_store_node_is_paused with id: 2025-01-16_04-05-31__40abf197-9350-4bf8-9cc4-23119e73b3a0
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-16_04-05-31__40abf197-9350-4bf8-9cc4-23119e73b3a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.216.188
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34217', '34218', '34219', '34220', '34221']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34217:34217 -p 34218:34218 -p 34219:34219 -p 34220:34220 -p 34221:34221 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34219 --rest-port=34217 --tcp-port=34218 --discv5-udp-port=34220 --rest-address=0.0.0.0 --nat=extip:172.18.216.188 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1eebfadfe212ec6927facceefdf9b7c6c22db7f7bc2d8f5dca3be0ab6fb1e653 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34221 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.216.188 waku 4230c1994a830a2a68c025ec6bd88a97d62d7e3e0adb99a8e0406d1b52cd1a5a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4230c1994a83. Setting up logs at ./log/docker/publishing_node1_2025-01-16_04-05-31__40abf197-9350-4bf8-9cc4-23119e73b3a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 34217
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8d4b0d5e7a18. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34217/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34217/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.188/tcp/34218/p2p/16Uiu2HAmTuKH3o3ViFAs4w8GJbVvzp4vkQwJi5X1romqmJgehbzQ","/ip4/172.18.216.188/tcp/34219/ws/p2p/16Uiu2HAmTuKH3o3ViFAs4w8GJbVvzp4vkQwJi5X1romqmJgehbzQ"],"enrUri":"enr:-L24QN9DukC1q8NoNEDoMi3kpRCyz427nVcWi231taxpJk02UEu38YHz4QawIq04DeQn7ZM5tOAPaFtiz0WjLwnsuWwCgmlkgnY0gmlwhKwS2LyKbXVsdGlhZGRyc5YACASsEti8BoWqAAoErBLYvAaFq90DgnJzhQADAQAAiXNlY3AyNTZrMaED4orV_ojzlc83MRLIiWBZvZOgC2HcNGHB6UDRN-__cPmDdGNwgoWqg3VkcIKFrIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-16_04-05-31__40abf197-9350-4bf8-9cc4-23119e73b3a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.114.57
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30855', '30856', '30857', '30858', '30859']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30855:30855 -p 30856:30856 -p 30857:30857 -p 30858:30858 -p 30859:30859 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30857 --rest-port=30855 --tcp-port=30856 --discv5-udp-port=30858 --rest-address=0.0.0.0 --nat=extip:172.18.114.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4503a5c4cfcccc152a61da0f8b5cdaa6c5402061f8baab4d181f8fcb030bce07 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30859 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QN9DukC1q8NoNEDoMi3kpRCyz427nVcWi231taxpJk02UEu38YHz4QawIq04DeQn7ZM5tOAPaFtiz0WjLwnsuWwCgmlkgnY0gmlwhKwS2LyKbXVsdGlhZGRyc5YACASsEti8BoWqAAoErBLYvAaFq90DgnJzhQADAQAAiXNlY3AyNTZrMaED4orV_ojzlc83MRLIiWBZvZOgC2HcNGHB6UDRN-__cPmDdGNwgoWqg3VkcIKFrIV3YWt1MgM --storenode=/ip4/172.18.216.188/tcp/34218/p2p/16Uiu2HAmTuKH3o3ViFAs4w8GJbVvzp4vkQwJi5X1romqmJgehbzQ --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.114.57 waku 0c00c3a9c9e7938c1d681a1acaf287790773eddac5419aa5d1cdf6476c52ab80
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0c00c3a9c9e7. Setting up logs at ./log/docker/store_node1_2025-01-16_04-05-31__40abf197-9350-4bf8-9cc4-23119e73b3a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30855
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30855/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30855/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.57/tcp/30856/p2p/16Uiu2HAmBuNLUJdFBxJimgsiWck1rUN1FTrL2QX5QcF9qdu4ahtE","/ip4/172.18.114.57/tcp/30857/ws/p2p/16Uiu2HAmBuNLUJdFBxJimgsiWck1rUN1FTrL2QX5QcF9qdu4ahtE"],"enrUri":"enr:-L24QMWt0t2vhlPrauSJ8N8KBiN4cso-MRc7_K1arxrF11t1QIiGby30rVV1iNjPuClYJM_eu6nxpMlpNIcHsfigQr4CgmlkgnY0gmlwhKwScjmKbXVsdGlhZGRyc5YACASsEnI5BniIAAoErBJyOQZ4id0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9NNNzi2C-KCFcQwfZRDgmv4oxqlukiVJcXqaANi-lRODdGNwgniIg3VkcIJ4ioV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30855/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.188/tcp/34218/p2p/16Uiu2HAmTuKH3o3ViFAs4w8GJbVvzp4vkQwJi5X1romqmJgehbzQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34217/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30855/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34217/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34217/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"i2ntOfazdefS7yvnpuJtdPo8pg1YT+RZt9Qf7CYBxNI="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30855/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"i2ntOfazdefS7yvnpuJtdPo8pg1YT+RZt9Qf7CYBxNI="}]}'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:254 Pausing container with id 0c00c3a9c9e7
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34217/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:259 Unpause container with id 0c00c3a9c9e7
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30855/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30855/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.57/tcp/30856/p2p/16Uiu2HAmBuNLUJdFBxJimgsiWck1rUN1FTrL2QX5QcF9qdu4ahtE","/ip4/172.18.114.57/tcp/30857/ws/p2p/16Uiu2HAmBuNLUJdFBxJimgsiWck1rUN1FTrL2QX5QcF9qdu4ahtE"],"enrUri":"enr:-L24QMWt0t2vhlPrauSJ8N8KBiN4cso-MRc7_K1arxrF11t1QIiGby30rVV1iNjPuClYJM_eu6nxpMlpNIcHsfigQr4CgmlkgnY0gmlwhKwScjmKbXVsdGlhZGRyc5YACASsEnI5BniIAAoErBJyOQZ4id0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9NNNzi2C-KCFcQwfZRDgmv4oxqlukiVJcXqaANi-lRODdGNwgniIg3VkcIJ4ioV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34217/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"i2ntOfazdefS7yvnpuJtdPo8pg1YT+RZt9Qf7CYBxNI="},{"messageHash":"jAkaFqHP/4auWlFqk7IcVErFC3ldM6E/yKoZjlqYRH8="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30855/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"i2ntOfazdefS7yvnpuJtdPo8pg1YT+RZt9Qf7CYBxNI="},{"messageHash":"jAkaFqHP/4auWlFqk7IcVErFC3ldM6E/yKoZjlqYRH8="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34217/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"i2ntOfazdefS7yvnpuJtdPo8pg1YT+RZt9Qf7CYBxNI="},{"messageHash":"jAkaFqHP/4auWlFqk7IcVErFC3ldM6E/yKoZjlqYRH8="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30855/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"i2ntOfazdefS7yvnpuJtdPo8pg1YT+RZt9Qf7CYBxNI="},{"messageHash":"jAkaFqHP/4auWlFqk7IcVErFC3ldM6E/yKoZjlqYRH8="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4230c1994a83
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0c00c3a9c9e7
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4230c1994a83. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.