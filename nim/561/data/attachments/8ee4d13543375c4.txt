[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_from_non_existing_content_topic with id: 2024-12-25_15-04-56__e6c640e1-5a3c-4a66-b8f5-65583eb10b6c
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-25_15-04-56__e6c640e1-5a3c-4a66-b8f5-65583eb10b6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.89.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8779', '8780', '8781', '8782', '8783']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8779:8779 -p 8780:8780 -p 8781:8781 -p 8782:8782 -p 8783:8783 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8781 --rest-port=8779 --tcp-port=8780 --discv5-udp-port=8782 --rest-address=0.0.0.0 --nat=extip:172.18.89.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=628b2997aff52fbcaf073cb6ca4af2e8ce797a586b1b042e03eb0cc1126fa7a9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8783 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.89.201 waku 38fa0c9e03882fa2d79e02adbf464e4c744accc9be7ded3cce235d0dda3ba07e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 38fa0c9e0388. Setting up logs at ./log/docker/node1_2024-12-25_15-04-56__e6c640e1-5a3c-4a66-b8f5-65583eb10b6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 8779
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0595bbb4597d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8779/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8779/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.89.201/tcp/8780/p2p/16Uiu2HAkySiAcGdBKaiXtYyQHzCFQCqZorUaTbHX8s4Znsk5MRoR","/ip4/172.18.89.201/tcp/8781/ws/p2p/16Uiu2HAkySiAcGdBKaiXtYyQHzCFQCqZorUaTbHX8s4Znsk5MRoR"],"enrUri":"enr:-L24QOSUm4GnONTSEtRKxK8O7p19_dEDyXYMwghZvudy8pzwbIyuHSEhVOTzLN0OT9Ioj_nrJm-Siq2ID9NqJjBg4zsCgmlkgnY0gmlwhKwSWcmKbXVsdGlhZGRyc5YACASsElnJBiJMAAoErBJZyQYiTd0DgnJzhQADAQAAiXNlY3AyNTZrMaECO7LM_wmzgJS7VmE8dB-MD1w0PY0oKrE3STWn0QMbBiSDdGNwgiJMg3VkcIIiToV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-25_15-04-56__e6c640e1-5a3c-4a66-b8f5-65583eb10b6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.102.187
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43720', '43721', '43722', '43723', '43724']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43720:43720 -p 43721:43721 -p 43722:43722 -p 43723:43723 -p 43724:43724 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43722 --rest-port=43720 --tcp-port=43721 --discv5-udp-port=43723 --rest-address=0.0.0.0 --nat=extip:172.18.102.187 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8e1bb28fa3b9e7c44ada7f9a4e5accfe0edcb48ef4cc65424bb798068b1be38b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43724 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOSUm4GnONTSEtRKxK8O7p19_dEDyXYMwghZvudy8pzwbIyuHSEhVOTzLN0OT9Ioj_nrJm-Siq2ID9NqJjBg4zsCgmlkgnY0gmlwhKwSWcmKbXVsdGlhZGRyc5YACASsElnJBiJMAAoErBJZyQYiTd0DgnJzhQADAQAAiXNlY3AyNTZrMaECO7LM_wmzgJS7VmE8dB-MD1w0PY0oKrE3STWn0QMbBiSDdGNwgiJMg3VkcIIiToV3YWt1MgU --filternode=/ip4/172.18.89.201/tcp/8780/p2p/16Uiu2HAkySiAcGdBKaiXtYyQHzCFQCqZorUaTbHX8s4Znsk5MRoR
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.102.187 waku 79807529c5eefb46199cfdd44e5d42e318c4ca4d4b8fa4b9ef4cdd1fdb3e24a6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 79807529c5ee. Setting up logs at ./log/docker/node2_2024-12-25_15-04-56__e6c640e1-5a3c-4a66-b8f5-65583eb10b6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 43720
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43720/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43720/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.187/tcp/43721/p2p/16Uiu2HAmD43wJKrDLA4otVNhWDaS5TYziQDTBBpTHqvJPgzrNunP","/ip4/172.18.102.187/tcp/43722/ws/p2p/16Uiu2HAmD43wJKrDLA4otVNhWDaS5TYziQDTBBpTHqvJPgzrNunP"],"enrUri":"enr:-L24QHAPadP2_QywwN2jMTLjyH0TFR-RiXKNvVXv_NIjxP_tYHupJdM7qLVe5I55cTF4Pqvk_gGapqjol5oQP7n4MboCgmlkgnY0gmlwhKwSZruKbXVsdGlhZGRyc5YACASsEma7BqrJAAoErBJmuwaqyt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBehp6nY_CL4_FrXhvmaWfcu98Ap0geq3cv18j8b4eVCDdGNwgqrJg3VkcIKqy4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43720/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.201/tcp/8780/p2p/16Uiu2HAkySiAcGdBKaiXtYyQHzCFQCqZorUaTbHX8s4Znsk5MRoR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8779/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43720/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "aaf23b54-c197-442c-bfe8-b711758cf1de", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"aaf23b54-c197-442c-bfe8-b711758cf1de","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:43720/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43720/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8779/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43720/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1735139099629448704,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 38fa0c9e0388
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 79807529c5ee
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 38fa0c9e0388. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.