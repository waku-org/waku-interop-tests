[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_without_request_id with id: 2024-12-25_15-03-41__5d66dfdd-400f-4ff1-b5a4-d0b0a1affb90
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-25_15-03-41__5d66dfdd-400f-4ff1-b5a4-d0b0a1affb90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:33 Network waku created
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.95.18
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18072', '18073', '18074', '18075', '18076']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18072:18072 -p 18073:18073 -p 18074:18074 -p 18075:18075 -p 18076:18076 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18074 --rest-port=18072 --tcp-port=18073 --discv5-udp-port=18075 --rest-address=0.0.0.0 --nat=extip:172.18.95.18 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d0db9547f6c41d3ec5a35f8cbeb0fda1ff41b8fac3b89cc53de5090a8a4cedc6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18076 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.95.18 waku e5d4298c76a04ff84d0ef9411e575f8797a9b7be85ad4edb2330fae4723102e8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e5d4298c76a0. Setting up logs at ./log/docker/node1_2024-12-25_15-03-41__5d66dfdd-400f-4ff1-b5a4-d0b0a1affb90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 18072
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18072/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18072/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.18/tcp/18073/p2p/16Uiu2HAm9aXtfEqajpLFsidzdaT6WEU66ggZaSKQGZtCVLmzKqzC","/ip4/172.18.95.18/tcp/18074/ws/p2p/16Uiu2HAm9aXtfEqajpLFsidzdaT6WEU66ggZaSKQGZtCVLmzKqzC"],"enrUri":"enr:-L24QPwFpuegvnkq1rcuukoL5p9fQsVqae_iRiuloFXvmW2XUn7WsA3PuqSdAoZAkEyF4oyQmbcsi9ObWZT5TrEF2nMCgmlkgnY0gmlwhKwSXxKKbXVsdGlhZGRyc5YACASsEl8SBkaZAAoErBJfEgZGmt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0kiy0_AaRLaFPiEUCtaJHtJQ4afNe-lRMjqjOWTY2FWDdGNwgkaZg3VkcIJGm4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-25_15-03-41__5d66dfdd-400f-4ff1-b5a4-d0b0a1affb90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.17.132
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40985', '40986', '40987', '40988', '40989']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40985:40985 -p 40986:40986 -p 40987:40987 -p 40988:40988 -p 40989:40989 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40987 --rest-port=40985 --tcp-port=40986 --discv5-udp-port=40988 --rest-address=0.0.0.0 --nat=extip:172.18.17.132 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=85f874ed6ffcb86a95eaae6044d2a97ae3d274aa8a3bef0bcb5faefcae6da514 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40989 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPwFpuegvnkq1rcuukoL5p9fQsVqae_iRiuloFXvmW2XUn7WsA3PuqSdAoZAkEyF4oyQmbcsi9ObWZT5TrEF2nMCgmlkgnY0gmlwhKwSXxKKbXVsdGlhZGRyc5YACASsEl8SBkaZAAoErBJfEgZGmt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0kiy0_AaRLaFPiEUCtaJHtJQ4afNe-lRMjqjOWTY2FWDdGNwgkaZg3VkcIJGm4V3YWt1MgU --filternode=/ip4/172.18.95.18/tcp/18073/p2p/16Uiu2HAm9aXtfEqajpLFsidzdaT6WEU66ggZaSKQGZtCVLmzKqzC
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.17.132 waku 20f7c6105812a08745bb111f0cdda649f60a65183cd6cba300d9b646a07e5535
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 20f7c6105812. Setting up logs at ./log/docker/node2_2024-12-25_15-03-41__5d66dfdd-400f-4ff1-b5a4-d0b0a1affb90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 40985
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40985/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40985/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.17.132/tcp/40986/p2p/16Uiu2HAmBPwPP5VRj1A3vUTxFbt1PTHbv2eCgChPskwndGNgXbHs","/ip4/172.18.17.132/tcp/40987/ws/p2p/16Uiu2HAmBPwPP5VRj1A3vUTxFbt1PTHbv2eCgChPskwndGNgXbHs"],"enrUri":"enr:-L24QKSALAZfS7iNNAKM2_5Eu7S1WceStZFmSKZywts8Z9wZA60ONGr4y2qs_q7SgP5WNV2HkaQZwiOsZwvRgytOQvsCgmlkgnY0gmlwhKwSEYSKbXVsdGlhZGRyc5YACASsEhGEBqAaAAoErBIRhAagG90DgnJzhQADAQAAiXNlY3AyNTZrMaEC7Uk_5emWiBtuXvyckhUm5mJRVkTpGrjim700GsMrE5qDdGNwgqAag3VkcIKgHIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40985/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.95.18/tcp/18073/p2p/16Uiu2HAm9aXtfEqajpLFsidzdaT6WEU66ggZaSKQGZtCVLmzKqzC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18072/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40985/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6e983867-86f0-43be-8943-1516ff20ba48", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6e983867-86f0-43be-8943-1516ff20ba48","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40985/filter/v2/subscriptions/" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e5d4298c76a0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 20f7c6105812
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e5d4298c76a0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.