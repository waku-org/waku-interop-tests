[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-25_15-03-50__de7eb876-98fb-404c-8d35-f42152b077f8
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-25_15-03-50__de7eb876-98fb-404c-8d35-f42152b077f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.37.46
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42259', '42260', '42261', '42262', '42263']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42259:42259 -p 42260:42260 -p 42261:42261 -p 42262:42262 -p 42263:42263 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42261 --rest-port=42259 --tcp-port=42260 --discv5-udp-port=42262 --rest-address=0.0.0.0 --nat=extip:172.18.37.46 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2f923b06fd3d8abeafdad8ce6e4c30ddca28cfacde4b1f18e61cdc2ae4d6d7ed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42263 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.37.46 waku 7b063e321df59ef088b22dd1af431d5de7d1c5173c81bdf4856a15a3b4c4e86a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7b063e321df5. Setting up logs at ./log/docker/node1_2024-12-25_15-03-50__de7eb876-98fb-404c-8d35-f42152b077f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42259
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 323a5eea6c18. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42259/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42259/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.46/tcp/42260/p2p/16Uiu2HAmHUf7jtve2jkaL5wcfhFYsqkFS4jKpnedApRv2a9nTrmA","/ip4/172.18.37.46/tcp/42261/ws/p2p/16Uiu2HAmHUf7jtve2jkaL5wcfhFYsqkFS4jKpnedApRv2a9nTrmA"],"enrUri":"enr:-L24QCR7tpwrUow3ZzIIheOS4Q2KDFeokC-qzjbnjNxXg641PwGdIv1EPj_3TNRcm52q6ZmXJGqcM_vh6IhocRzdO9sCgmlkgnY0gmlwhKwSJS6KbXVsdGlhZGRyc5YACASsEiUuBqUUAAoErBIlLgalFd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDR6ThB-YqOy7IaQ5J6X3fsfZbxZbZy7cTQSFVytdlEIWDdGNwgqUUg3VkcIKlFoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-25_15-03-50__de7eb876-98fb-404c-8d35-f42152b077f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.143.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4877', '4878', '4879', '4880', '4881']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4877:4877 -p 4878:4878 -p 4879:4879 -p 4880:4880 -p 4881:4881 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4879 --rest-port=4877 --tcp-port=4878 --discv5-udp-port=4880 --rest-address=0.0.0.0 --nat=extip:172.18.143.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=94abcec31f0c9aad2abb473294f4b5b5afe1ba05b0234ac3e1fa2dcc95bff6af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4881 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCR7tpwrUow3ZzIIheOS4Q2KDFeokC-qzjbnjNxXg641PwGdIv1EPj_3TNRcm52q6ZmXJGqcM_vh6IhocRzdO9sCgmlkgnY0gmlwhKwSJS6KbXVsdGlhZGRyc5YACASsEiUuBqUUAAoErBIlLgalFd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDR6ThB-YqOy7IaQ5J6X3fsfZbxZbZy7cTQSFVytdlEIWDdGNwgqUUg3VkcIKlFoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.143.184 waku 6ab4dc1021dbd9577646c4afbbbfc2dc629cf83cbc3f46c97925b96a229abb83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6ab4dc1021db. Setting up logs at ./log/docker/node2_2024-12-25_15-03-50__de7eb876-98fb-404c-8d35-f42152b077f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4877
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4877/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4877/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.143.184/tcp/4878/p2p/16Uiu2HAmAfR3FPgjoB9kETdG2wy79VoCH3dobJK5NjSrz85JPm2z","/ip4/172.18.143.184/tcp/4879/ws/p2p/16Uiu2HAmAfR3FPgjoB9kETdG2wy79VoCH3dobJK5NjSrz85JPm2z"],"enrUri":"enr:-L24QEOqQFSAXp4qpLCeWQak5FSA64ebA83qFB1hZCk7RyE8Mw3DonWAFnPmVHXNtD57xU4N-3BZ44cKFRcNLWBBcboCgmlkgnY0gmlwhKwSj7iKbXVsdGlhZGRyc5YACASsEo-4BhMOAAoErBKPuAYTD90DgnJzhQADAQAAiXNlY3AyNTZrMaEC4mSKwpDctusgV0333Bu0InqhXztJgV9aOlQS_bfLw-ODdGNwghMOg3VkcIITEIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4877/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.37.46/tcp/42260/p2p/16Uiu2HAmHUf7jtve2jkaL5wcfhFYsqkFS4jKpnedApRv2a9nTrmA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-25_15-03-50__de7eb876-98fb-404c-8d35-f42152b077f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.230.58
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38664', '38665', '38666', '38667', '38668']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38664:38664 -p 38665:38665 -p 38666:38666 -p 38667:38667 -p 38668:38668 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38666 --rest-port=38664 --tcp-port=38665 --discv5-udp-port=38667 --rest-address=0.0.0.0 --nat=extip:172.18.230.58 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=afe1ff2a715d1ed9378a6b734a55cd784ae35db8be4a3de22763b67138df5da3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38668 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCR7tpwrUow3ZzIIheOS4Q2KDFeokC-qzjbnjNxXg641PwGdIv1EPj_3TNRcm52q6ZmXJGqcM_vh6IhocRzdO9sCgmlkgnY0gmlwhKwSJS6KbXVsdGlhZGRyc5YACASsEiUuBqUUAAoErBIlLgalFd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDR6ThB-YqOy7IaQ5J6X3fsfZbxZbZy7cTQSFVytdlEIWDdGNwgqUUg3VkcIKlFoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.230.58 waku 3e9790b7adb1c829f6ce94fc8184674855f07896cb4e11cfc8c70ff1e379a298
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3e9790b7adb1. Setting up logs at ./log/docker/node3_2024-12-25_15-03-50__de7eb876-98fb-404c-8d35-f42152b077f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38664
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38664/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38664/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.58/tcp/38665/p2p/16Uiu2HAkyvukUkgAbH3JcexD5HeA1WaxhKZyvpKK5RR71JW1qWMd","/ip4/172.18.230.58/tcp/38666/ws/p2p/16Uiu2HAkyvukUkgAbH3JcexD5HeA1WaxhKZyvpKK5RR71JW1qWMd"],"enrUri":"enr:-L24QCDcU0Au2dv7JIlYbxtb6gKJszepe8-a_LhI5zmhs9rYADEsD7Nob_WiRhmY0K6PEoR7p5qcDyoI4AA6irCg1EECgmlkgnY0gmlwhKwS5jqKbXVsdGlhZGRyc5YACASsEuY6BpcJAAoErBLmOgaXCt0DgnJzhQADAQAAiXNlY3AyNTZrMaECQuwpVXRrgJTUfnJmF46YkaN6MheSLQTc52KljH2r3KCDdGNwgpcJg3VkcIKXC4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38664/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.37.46/tcp/42260/p2p/16Uiu2HAmHUf7jtve2jkaL5wcfhFYsqkFS4jKpnedApRv2a9nTrmA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-25_15-03-50__de7eb876-98fb-404c-8d35-f42152b077f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.121.210
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47082', '47083', '47084', '47085', '47086']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47082:47082 -p 47083:47083 -p 47084:47084 -p 47085:47085 -p 47086:47086 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47084 --rest-port=47082 --tcp-port=47083 --discv5-udp-port=47085 --rest-address=0.0.0.0 --nat=extip:172.18.121.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=99840270c6eadafe046e5b4ad7b0acab922347ca8bdfadf0afc5fdacd0b9bcc1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47086 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCR7tpwrUow3ZzIIheOS4Q2KDFeokC-qzjbnjNxXg641PwGdIv1EPj_3TNRcm52q6ZmXJGqcM_vh6IhocRzdO9sCgmlkgnY0gmlwhKwSJS6KbXVsdGlhZGRyc5YACASsEiUuBqUUAAoErBIlLgalFd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDR6ThB-YqOy7IaQ5J6X3fsfZbxZbZy7cTQSFVytdlEIWDdGNwgqUUg3VkcIKlFoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.121.210 waku 3e37fdfc59d3d56f0c62ed7b884ae02b92d3db899647a0113b7f0286994ff3d9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3e37fdfc59d3. Setting up logs at ./log/docker/node4_2024-12-25_15-03-50__de7eb876-98fb-404c-8d35-f42152b077f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 47082
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47082/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47082/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.210/tcp/47083/p2p/16Uiu2HAkwZXv7wB6RKqFdHkYmbadQ51sFiZ6pGYDXX5MqJFYAsgW","/ip4/172.18.121.210/tcp/47084/ws/p2p/16Uiu2HAkwZXv7wB6RKqFdHkYmbadQ51sFiZ6pGYDXX5MqJFYAsgW"],"enrUri":"enr:-L24QLJyf2JTVfC3JIwa0aiG85kRLk2W6Aa3KvFsXrAyCodHW0ZJzbv_EAIZTGPlChOnuZJicypcdvsAJOt2qWLCh4wCgmlkgnY0gmlwhKwSedKKbXVsdGlhZGRyc5YACASsEnnSBrfrAAoErBJ50ga37N0DgnJzhQADAQAAiXNlY3AyNTZrMaECH7rnMNSjBEhvgQOc2TMvbltjzrOT-aAfZ7LPeI5Nj1ODdGNwgrfrg3VkcIK37YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47082/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.37.46/tcp/42260/p2p/16Uiu2HAmHUf7jtve2jkaL5wcfhFYsqkFS4jKpnedApRv2a9nTrmA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-25_15-03-50__de7eb876-98fb-404c-8d35-f42152b077f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.99.197
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38537', '38538', '38539', '38540', '38541']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38537:38537 -p 38538:38538 -p 38539:38539 -p 38540:38540 -p 38541:38541 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38539 --rest-port=38537 --tcp-port=38538 --discv5-udp-port=38540 --rest-address=0.0.0.0 --nat=extip:172.18.99.197 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bc19dd7cbb9fe7675add9787fe6733edb632fdae6a2d3b00fe6cf6bae6376b1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38541 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCR7tpwrUow3ZzIIheOS4Q2KDFeokC-qzjbnjNxXg641PwGdIv1EPj_3TNRcm52q6ZmXJGqcM_vh6IhocRzdO9sCgmlkgnY0gmlwhKwSJS6KbXVsdGlhZGRyc5YACASsEiUuBqUUAAoErBIlLgalFd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDR6ThB-YqOy7IaQ5J6X3fsfZbxZbZy7cTQSFVytdlEIWDdGNwgqUUg3VkcIKlFoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.99.197 waku f5406a0df128377e8310089b554d30fcf4af5362170e724fcc6f1879bf25f10c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f5406a0df128. Setting up logs at ./log/docker/node5_2024-12-25_15-03-50__de7eb876-98fb-404c-8d35-f42152b077f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38537
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38537/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38537/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.197/tcp/38538/p2p/16Uiu2HAmQ9tNLHoWJAfcaE7Ra7cBcoGgwuNFrQvmwLCpjVTAcGkg","/ip4/172.18.99.197/tcp/38539/ws/p2p/16Uiu2HAmQ9tNLHoWJAfcaE7Ra7cBcoGgwuNFrQvmwLCpjVTAcGkg"],"enrUri":"enr:-L24QApCxSfZjCozGMRvXOG0Gtaw5lCh7G_drAVEoDXaaRYwVbnX7GCHoaY5F04oMsde7_mlPU_BkqSbhi522yksSi0CgmlkgnY0gmlwhKwSY8WKbXVsdGlhZGRyc5YACASsEmPFBpaKAAoErBJjxQaWi90DgnJzhQADAQAAiXNlY3AyNTZrMaEDqteiwiJfMa7zjv5sWJkFbrYZ0RPjombx5DetiUGCO0mDdGNwgpaKg3VkcIKWjIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38537/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.37.46/tcp/42260/p2p/16Uiu2HAmHUf7jtve2jkaL5wcfhFYsqkFS4jKpnedApRv2a9nTrmA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42259/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4877/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38664/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47082/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38537/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42259/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42259/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735139037411219456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4877/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735139037411219456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735139037411219456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47082/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735139037411219456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38537/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735139037411219456,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42259/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42259/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735139037544102912,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4877/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735139037544102912,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38664/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735139037544102912,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47082/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735139037544102912,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38537/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735139037544102912,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7b063e321df5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6ab4dc1021db
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7b063e321df5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3e9790b7adb1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6ab4dc1021db. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3e37fdfc59d3
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3e9790b7adb1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f5406a0df128
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3e37fdfc59d3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.