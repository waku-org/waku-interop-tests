[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-12-25_15-03-48__b15eeb37-79f1-42ea-9cad-3ad63b52c298
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-12-25_15-03-48__b15eeb37-79f1-42ea-9cad-3ad63b52c298__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.245.60
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51751', '51752', '51753', '51754', '51755']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51751:51751 -p 51752:51752 -p 51753:51753 -p 51754:51754 -p 51755:51755 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51753 --rest-port=51751 --tcp-port=51752 --discv5-udp-port=51754 --rest-address=0.0.0.0 --nat=extip:172.18.245.60 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe5f979a779c9c8bcfd56b0edcb1efdd4a1ebcde9fa852ecb5fddecd0039ffcb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51755 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.245.60 waku 5c3d922ecbb6cb280fffd5f24666b68385d6f8b0a1abc381ad6fdd9aced4f2bb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5c3d922ecbb6. Setting up logs at ./log/docker/receiving_node1_2024-12-25_15-03-48__b15eeb37-79f1-42ea-9cad-3ad63b52c298__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51751
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 050f72975897. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51751/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51751/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.245.60/tcp/51752/p2p/16Uiu2HAm5C1zjRb8oKto7nDCqvjYs5CwsBL1qPDzmpnjgatHtzR7","/ip4/172.18.245.60/tcp/51753/ws/p2p/16Uiu2HAm5C1zjRb8oKto7nDCqvjYs5CwsBL1qPDzmpnjgatHtzR7"],"enrUri":"enr:-L24QDIC8Fj86QX9HoxKlnGlqbYzy5ymPdjXxD_U4zOeZn_DGI18xAn4PJ48Wmb9BBMBstHmnzNlH6vFEAAqJ9-PMdUCgmlkgnY0gmlwhKwS9TyKbXVsdGlhZGRyc5YACASsEvU8BsooAAoErBL1PAbKKd0DgnJzhQADAQAAiXNlY3AyNTZrMaECkRVezJec0eqEXi61dBAOHuAy-rMnSX3MnRTZ4qTJmBKDdGNwgsoog3VkcILKKoV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-12-25_15-03-48__b15eeb37-79f1-42ea-9cad-3ad63b52c298__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.240.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54293', '54294', '54295', '54296', '54297']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54293:54293 -p 54294:54294 -p 54295:54295 -p 54296:54296 -p 54297:54297 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54295 --rest-port=54293 --tcp-port=54294 --discv5-udp-port=54296 --rest-address=0.0.0.0 --nat=extip:172.18.240.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=930b84cb0f5a1c1e16befb0eda1e0d06bde0216e2f4bac7628ae031fcf5bc005 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54297 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.240.89 waku 6792540f75efd8ac537dfabf89792d220c60e21072fccae9d83e8ea0ba7c5fa6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6792540f75ef. Setting up logs at ./log/docker/receiving_node2_2024-12-25_15-03-48__b15eeb37-79f1-42ea-9cad-3ad63b52c298__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 54293
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54293/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54293/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.89/tcp/54294/p2p/16Uiu2HAmLvvnx7D82YVdn1ZTmoUA4tKxKG6WGG8zZerrbQpGVyii","/ip4/172.18.240.89/tcp/54295/ws/p2p/16Uiu2HAmLvvnx7D82YVdn1ZTmoUA4tKxKG6WGG8zZerrbQpGVyii"],"enrUri":"enr:-L24QKxMSukARiHLFAEsHcYehK_AnCE0TvngtW6YM4zT9YFGRfaVbqLdIhEYn5XRDuFUsq8sRz8KVt5eLQx_krr0dIkCgmlkgnY0gmlwhKwS8FmKbXVsdGlhZGRyc5YACASsEvBZBtQWAAoErBLwWQbUF90DgnJzhQADAQAAiXNlY3AyNTZrMaEDevLEC4u0HkQ0_OsGcDEHFJISlkte_nP5yRMSX7sbZcODdGNwgtQWg3VkcILUGIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54293/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.60/tcp/51752/p2p/16Uiu2HAm5C1zjRb8oKto7nDCqvjYs5CwsBL1qPDzmpnjgatHtzR7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-12-25_15-03-48__b15eeb37-79f1-42ea-9cad-3ad63b52c298__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.103.45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40545', '40546', '40547', '40548', '40549']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40545:40545 -p 40546:40546 -p 40547:40547 -p 40548:40548 -p 40549:40549 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40547 --rest-port=40545 --tcp-port=40546 --discv5-udp-port=40548 --rest-address=0.0.0.0 --nat=extip:172.18.103.45 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9dccba8eaae5129ccc88a30d27ede8e7eb7fcc8d6beadfc85b9e975fb978b20d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40549 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QDIC8Fj86QX9HoxKlnGlqbYzy5ymPdjXxD_U4zOeZn_DGI18xAn4PJ48Wmb9BBMBstHmnzNlH6vFEAAqJ9-PMdUCgmlkgnY0gmlwhKwS9TyKbXVsdGlhZGRyc5YACASsEvU8BsooAAoErBL1PAbKKd0DgnJzhQADAQAAiXNlY3AyNTZrMaECkRVezJec0eqEXi61dBAOHuAy-rMnSX3MnRTZ4qTJmBKDdGNwgsoog3VkcILKKoV3YWt1Mgk --lightpushnode=/ip4/172.18.245.60/tcp/51752/p2p/16Uiu2HAm5C1zjRb8oKto7nDCqvjYs5CwsBL1qPDzmpnjgatHtzR7 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.103.45 waku c3c3deff5290c4ef2f7878a216679dde6d364bb7f094776581191ed43f87d165
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c3c3deff5290. Setting up logs at ./log/docker/lightpush_node1_2024-12-25_15-03-48__b15eeb37-79f1-42ea-9cad-3ad63b52c298__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 40545
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40545/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40545/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.45/tcp/40546/p2p/16Uiu2HAmTVFXqkgxCHDVe6fH5BX9nsZT8iTioAyaCgBPSQdj1RMk","/ip4/172.18.103.45/tcp/40547/ws/p2p/16Uiu2HAmTVFXqkgxCHDVe6fH5BX9nsZT8iTioAyaCgBPSQdj1RMk"],"enrUri":"enr:-L24QHsJ8Jfj4cxRlg8FR7hNQkVQesKET044wmue1VwVFF34OA5oRz1w4-ANI9zL83IQcT3tfRzHW3uzV7gGE0aSLOUCgmlkgnY0gmlwhKwSZy2KbXVsdGlhZGRyc5YACASsEmctBp5iAAoErBJnLQaeY90DgnJzhQADAQAAiXNlY3AyNTZrMaED3GCpfLZBQWkw35DjuSH4S5SEuExbdu7nb8CVPJTm43ODdGNwgp5ig3VkcIKeZIV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40545/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.60/tcp/51752/p2p/16Uiu2HAm5C1zjRb8oKto7nDCqvjYs5CwsBL1qPDzmpnjgatHtzR7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40545/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.89/tcp/54294/p2p/16Uiu2HAmLvvnx7D82YVdn1ZTmoUA4tKxKG6WGG8zZerrbQpGVyii"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51751/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54293/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40545/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1735139033243768064}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:40545/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5c3d922ecbb6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6792540f75ef
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5c3d922ecbb6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c3c3deff5290
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6792540f75ef. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.