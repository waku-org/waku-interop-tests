[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_unsubscribe_with_extra_field with id: 2024-04-14_04-35-59__3d40d369-70a6-4b1e-8365-a4c9c34d2158
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-04-14_04-35-59__3d40d369-70a6-4b1e-8365-a4c9c34d2158__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.70.60
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['8202', '8203', '8204', '8205', '8206']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:297 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 8202:8202 -p 8203:8203 -p 8204:8204 -p 8205:8205 -p 8206:8206 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8204 --rest-port=8202 --tcp-port=8203 --discv5-udp-port=8205 --rest-address=0.0.0.0 --nat=extip:172.18.70.60 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8206 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.70.60 waku eecabe58951359971d540340b7ff28faab6cea79284766a61aac29cac30ddd4c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID eecabe589513. Setting up logs at ./log/docker/node1_2024-04-14_04-35-59__3d40d369-70a6-4b1e-8365-a4c9c34d2158__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 8202
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8202/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.70.60/tcp/8203/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.70.60/tcp/8204/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QJcEP2Y35QAndDRoP64LFVUTInKZm0jzCV71AGdAEXQUTG8ViMq4wkjh1cCHOAKc9bNvsJiz0uJsEKT-iMb7G7UBgmlkgnY0gmlwhKwSRjyKbXVsdGlhZGRyc4wACgSsEkY8BiAM3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCIAuDdWRwgiANhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-04-14_04-35-59__3d40d369-70a6-4b1e-8365-a4c9c34d2158__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.24.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['55592', '55593', '55594', '55595', '55596']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:297 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 55592:55592 -p 55593:55593 -p 55594:55594 -p 55595:55595 -p 55596:55596 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55594 --rest-port=55592 --tcp-port=55593 --discv5-udp-port=55595 --rest-address=0.0.0.0 --nat=extip:172.18.24.151 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55596 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJcEP2Y35QAndDRoP64LFVUTInKZm0jzCV71AGdAEXQUTG8ViMq4wkjh1cCHOAKc9bNvsJiz0uJsEKT-iMb7G7UBgmlkgnY0gmlwhKwSRjyKbXVsdGlhZGRyc4wACgSsEkY8BiAM3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCIAuDdWRwgiANhXdha3UyBQ --filternode=/ip4/172.18.70.60/tcp/8203/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.24.151 waku 6c50921640579171bbfe9cd35fc9acd87ff8e889d77b20e29853a769af9a0181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6c5092164057. Setting up logs at ./log/docker/node2_2024-04-14_04-35-59__3d40d369-70a6-4b1e-8365-a4c9c34d2158__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 55592
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55592/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.24.151/tcp/55593/p2p/16Uiu2HAmV1w8VqGgFKN32Y3HHqJ8ewSiwNpGFmVS421CMMeZeccX","/ip4/172.18.24.151/tcp/55594/ws/p2p/16Uiu2HAmV1w8VqGgFKN32Y3HHqJ8ewSiwNpGFmVS421CMMeZeccX"],"enrUri":"enr:-LO4QKFM32ws4BKFqlMZ_HSuethRBcLNXMoNevHkVeL_793JJN9Mkz5yFoKvh0071nkR3tkYZBPiHZEQrbu01R76oGoBgmlkgnY0gmlwhKwSGJeKbXVsdGlhZGRyc4wACgSsEhiXBtkq3QOCcnOFAAABAACJc2VjcDI1NmsxoQPzGIvb3tZXWVExCbuWL6UjG_9IyC-5iXQcCXgGDAPD4IN0Y3CC2SmDdWRwgtkrhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55592/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.70.60/tcp/8203/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8202/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55592/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f6d7222c-b255-41d2-a238-71550e0caa77", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f6d7222c-b255-41d2-a238-71550e0caa77","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:55592/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1", "extraField": "extraValue"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:55592/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id eecabe589513
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 6c5092164057
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.