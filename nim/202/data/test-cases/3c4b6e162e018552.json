{"uid":"3c4b6e162e018552","name":"test_publish_after_node2_restarts","fullName":"tests.relay.test_publish.TestRelayPublish#test_publish_after_node2_restarts","historyId":"719105ca16b4bcf069d86d819d499912","time":{"start":1716351052159,"stop":1716351052159,"duration":0},"status":"broken","statusMessage":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","statusTrace":"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:532: in send\n    conn = self._get_connection(request, verify, proxies=proxies, cert=cert)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:400: in _get_connection\n    conn = self.poolmanager.connection_from_host(\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/urllib3/poolmanager.py:304: in connection_from_host\n    return self.connection_from_context(request_context)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/urllib3/poolmanager.py:326: in connection_from_context\n    raise URLSchemeUnknown(scheme)\nE   urllib3.exceptions.URLSchemeUnknown: Not supported URL scheme http+docker\n\nDuring handling of the above exception, another exception occurred:\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:213: in _retrieve_server_version\n    return self.version(api_version=False)[\"ApiVersion\"]\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/daemon.py:181: in version\n    return self._result(self._get(url), json=True)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/utils/decorators.py:44: in inner\n    return f(self, *args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:236: in _get\n    return self.get(url, **self._set_request_timeout(kwargs))\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:602: in get\n    return self.request(\"GET\", url, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:534: in send\n    raise InvalidURL(e, request=request)\nE   requests.exceptions.InvalidURL: Not supported URL scheme http+docker\n\nThe above exception was the direct cause of the following exception:\nsrc/steps/relay.py:36: in setup_main_relay_nodes\n    self.node1 = WakuNode(NODE_1, f\"node1_{request.cls.test_id}\")\nsrc/node/waku_node.py:46: in __init__\n    self._docker_manager = DockerManager(self._image_name)\nsrc/node/docker_mananger.py:16: in __init__\n    self._client = docker.from_env()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py:94: in from_env\n    return cls(\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py:45: in __init__\n    self.api = APIClient(*args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:197: in __init__\n    self._version = self._retrieve_server_version()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:220: in _retrieve_server_version\n    raise DockerException(\nE   docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1716351032515,"stop":1716351032516,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1716351052160,"stop":1716351052160,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1716351052160,"stop":1716351052160,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1716351052160,"stop":1716351052160,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1716351052160,"stop":1716351052161,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_nodes","time":{"start":1716351052161,"stop":1716351052162,"duration":1},"status":"broken","statusMessage":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 137, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 917, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/relay.py\", line 36, in setup_main_relay_nodes\n    self.node1 = WakuNode(NODE_1, f\"node1_{request.cls.test_id}\")\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 46, in __init__\n    self._docker_manager = DockerManager(self._image_name)\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/docker_mananger.py\", line 16, in __init__\n    self._client = docker.from_env()\n                   ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py\", line 94, in from_env\n    return cls(\n           ^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py\", line 45, in __init__\n    self.api = APIClient(*args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py\", line 197, in __init__\n    self._version = self._retrieve_server_version()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py\", line 220, in _retrieve_server_version\n    raise DockerException(\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_setup","time":{"start":1716351052161,"stop":1716351052161,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1716351052161,"stop":1716351052161,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","statusTrace":"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:532: in send\n    conn = self._get_connection(request, verify, proxies=proxies, cert=cert)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:400: in _get_connection\n    conn = self.poolmanager.connection_from_host(\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/urllib3/poolmanager.py:304: in connection_from_host\n    return self.connection_from_context(request_context)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/urllib3/poolmanager.py:326: in connection_from_context\n    raise URLSchemeUnknown(scheme)\nE   urllib3.exceptions.URLSchemeUnknown: Not supported URL scheme http+docker\n\nDuring handling of the above exception, another exception occurred:\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:213: in _retrieve_server_version\n    return self.version(api_version=False)[\"ApiVersion\"]\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/daemon.py:181: in version\n    return self._result(self._get(url), json=True)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/utils/decorators.py:44: in inner\n    return f(self, *args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:236: in _get\n    return self.get(url, **self._set_request_timeout(kwargs))\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:602: in get\n    return self.request(\"GET\", url, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:534: in send\n    raise InvalidURL(e, request=request)\nE   requests.exceptions.InvalidURL: Not supported URL scheme http+docker\n\nThe above exception was the direct cause of the following exception:\nsrc/steps/relay.py:36: in setup_main_relay_nodes\n    self.node1 = WakuNode(NODE_1, f\"node1_{request.cls.test_id}\")\nsrc/node/waku_node.py:46: in __init__\n    self._docker_manager = DockerManager(self._image_name)\nsrc/node/docker_mananger.py:16: in __init__\n    self._client = docker.from_env()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py:94: in from_env\n    return cls(\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py:45: in __init__\n    self.api = APIClient(*args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:197: in __init__\n    self._version = self._retrieve_server_version()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:220: in _retrieve_server_version\n    raise DockerException(\nE   docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","steps":[],"attachments":[{"uid":"f9f0fae59f9efb8f","name":"log","source":"f9f0fae59f9efb8f.txt","type":"text/plain","size":2024}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1716351052313,"stop":1716351052313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1716351052314,"stop":1716351052315,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1716351052314,"stop":1716351052314,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1716351064932,"stop":1716351064932,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_nodes', 'subscribe_main_relay_nodes', 'relay_warm_up')"},{"name":"parentSuite","value":"tests.relay"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestRelayPublish"},{"name":"host","value":"fv-az569-751"},{"name":"thread","value":"2231-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.relay.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a94531bfc0058d17","status":"broken","statusDetails":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","time":{"start":1716351051995,"stop":1716351051995,"duration":0}},{"uid":"3c541ae2edcc8b7d","status":"broken","statusDetails":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","time":{"start":1716351051814,"stop":1716351051814,"duration":0}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":74,"unknown":0,"total":78},"items":[{"uid":"d0e498ada17894fb","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/201//#testresult/d0e498ada17894fb","status":"passed","time":{"start":1716316939110,"stop":1716316997112,"duration":58002}},{"uid":"35dcf3b22d3bd8df","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/200//#testresult/35dcf3b22d3bd8df","status":"passed","time":{"start":1716301988280,"stop":1716302045304,"duration":57024}},{"uid":"d867a22d2fb14876","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/199//#testresult/d867a22d2fb14876","status":"passed","time":{"start":1716290205113,"stop":1716290262437,"duration":57324}},{"uid":"e90c943ade8e57e8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/198//#testresult/e90c943ade8e57e8","status":"passed","time":{"start":1716288771323,"stop":1716288828597,"duration":57274}},{"uid":"8f455bb1e5bf129a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/197//#testresult/8f455bb1e5bf129a","status":"passed","time":{"start":1716265119222,"stop":1716265177281,"duration":58059}},{"uid":"73a11f892e84d9db","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/196//#testresult/73a11f892e84d9db","status":"passed","time":{"start":1716203280660,"stop":1716203338818,"duration":58158}},{"uid":"c651c1c2e6da28a5","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/195//#testresult/c651c1c2e6da28a5","status":"passed","time":{"start":1716195646885,"stop":1716195704863,"duration":57978}},{"uid":"f9704004b780f704","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/194//#testresult/f9704004b780f704","status":"passed","time":{"start":1716178808581,"stop":1716178866035,"duration":57454}},{"uid":"89682b52b82a2d3a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/193//#testresult/89682b52b82a2d3a","status":"passed","time":{"start":1716092342237,"stop":1716092399798,"duration":57561}},{"uid":"dc781beef41c460f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/192//#testresult/dc781beef41c460f","status":"passed","time":{"start":1716005884941,"stop":1716005942699,"duration":57758}},{"uid":"1b25419b3f149828","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/191//#testresult/1b25419b3f149828","status":"passed","time":{"start":1715919533850,"stop":1715919590937,"duration":57087}},{"uid":"628086780a8d9f1f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/190//#testresult/628086780a8d9f1f","status":"passed","time":{"start":1715844045080,"stop":1715844102345,"duration":57265}},{"uid":"afb8df410fc10f4c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/189//#testresult/afb8df410fc10f4c","status":"passed","time":{"start":1715833047633,"stop":1715833105482,"duration":57849}},{"uid":"d16e2c34381aa047","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/188//#testresult/d16e2c34381aa047","status":"passed","time":{"start":1715746781047,"stop":1715746839142,"duration":58095}},{"uid":"a234578556dc2747","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/187//#testresult/a234578556dc2747","status":"passed","time":{"start":1715660292607,"stop":1715660349716,"duration":57109}},{"uid":"9b27d75100aa5f56","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/186//#testresult/9b27d75100aa5f56","status":"passed","time":{"start":1715601741769,"stop":1715601799456,"duration":57687}},{"uid":"c41d025abb90c51f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/185//#testresult/c41d025abb90c51f","status":"passed","time":{"start":1715597009494,"stop":1715597067486,"duration":57992}},{"uid":"aa5eacdcafc38c79","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/184//#testresult/aa5eacdcafc38c79","status":"passed","time":{"start":1715573985290,"stop":1715574043373,"duration":58083}},{"uid":"9ce31d42492a6d4f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/183//#testresult/9ce31d42492a6d4f","status":"passed","time":{"start":1715487544628,"stop":1715487602229,"duration":57601}},{"uid":"3fd24cd9b3d38f17","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/182//#testresult/3fd24cd9b3d38f17","status":"passed","time":{"start":1715401070517,"stop":1715401128131,"duration":57614}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_nodes', 'subscribe_main_relay_nodes', 'relay_warm_up')"]},"source":"3c4b6e162e018552.json","parameterValues":[]}