[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-27_12-25-09__6d03f156-be64-46ae-a7e2-549d7852c096
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-27_12-25-09__6d03f156-be64-46ae-a7e2-549d7852c096__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.228.61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47569', '47570', '47571', '47572', '47573']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47569:47569 -p 47570:47570 -p 47571:47571 -p 47572:47572 -p 47573:47573 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47571 --rest-port=47569 --tcp-port=47570 --discv5-udp-port=47572 --rest-address=0.0.0.0 --nat=extip:172.18.228.61 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d2aedcadf1ca7ccdc5e798723fa37a9b80bcb78533ae7ac0b163daffcce8dcf3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47573 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.228.61 waku ac468249d5fc7dcc5547d5e5fb925b068fc8c3dfd76c882285909ff92a6e0087
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ac468249d5fc. Setting up logs at ./log/docker/node1_2024-11-27_12-25-09__6d03f156-be64-46ae-a7e2-549d7852c096__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 47569
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 736c868d9afa. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47569/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47569/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.61/tcp/47570/p2p/16Uiu2HAm1BLHDmbbfxczqkLRwxqco5NPFxyXqzwwgZ142UtHDtpE","/ip4/172.18.228.61/tcp/47571/ws/p2p/16Uiu2HAm1BLHDmbbfxczqkLRwxqco5NPFxyXqzwwgZ142UtHDtpE"],"enrUri":"enr:-L24QNGqHH_CSAdkx_sGV_WV5bTH4JF1RDuDg4CgkSgtJHB2P3qcatAWGXoqQjW8v70Ze3tMapykAVC4DNiDAC3BxSYCgmlkgnY0gmlwhKwS5D2KbXVsdGlhZGRyc5YACASsEuQ9BrnSAAoErBLkPQa5090DgnJzhQADAQAAiXNlY3AyNTZrMaECVXm3RZDghscBAgJy7p1ZPrYBmQQQz7-Xyvl8DIY-cN-DdGNwgrnSg3VkcIK51IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-27_12-25-09__6d03f156-be64-46ae-a7e2-549d7852c096__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.252.195
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34807', '34808', '34809', '34810', '34811']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34807:34807 -p 34808:34808 -p 34809:34809 -p 34810:34810 -p 34811:34811 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34809 --rest-port=34807 --tcp-port=34808 --discv5-udp-port=34810 --rest-address=0.0.0.0 --nat=extip:172.18.252.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbfdce29ce2afc4b0b5291f4cda27edc9530c3def4f92aba72cc1fad37ce9ac2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34811 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNGqHH_CSAdkx_sGV_WV5bTH4JF1RDuDg4CgkSgtJHB2P3qcatAWGXoqQjW8v70Ze3tMapykAVC4DNiDAC3BxSYCgmlkgnY0gmlwhKwS5D2KbXVsdGlhZGRyc5YACASsEuQ9BrnSAAoErBLkPQa5090DgnJzhQADAQAAiXNlY3AyNTZrMaECVXm3RZDghscBAgJy7p1ZPrYBmQQQz7-Xyvl8DIY-cN-DdGNwgrnSg3VkcIK51IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.252.195 waku 7e01d21d3d96685d2b7309d9acc784b953058181d4e6a0c5c67925f01e445029
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7e01d21d3d96. Setting up logs at ./log/docker/node2_2024-11-27_12-25-09__6d03f156-be64-46ae-a7e2-549d7852c096__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 34807
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34807/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34807/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.195/tcp/34808/p2p/16Uiu2HAmSqrW2Kc3cHhyGN7fHudKx54W6Nt9T3EtuXWQqpG7LuHw","/ip4/172.18.252.195/tcp/34809/ws/p2p/16Uiu2HAmSqrW2Kc3cHhyGN7fHudKx54W6Nt9T3EtuXWQqpG7LuHw"],"enrUri":"enr:-L24QGEwnfHI2umDX9WxnL6pURKwi57jdnIwU3SKm9zj1vsDAT15mLe-1eQG6LBOcnKysznL5IPNPJ2eD813dNlUwGcCgmlkgnY0gmlwhKwS_MOKbXVsdGlhZGRyc5YACASsEvzDBof4AAoErBL8wwaH-d0DgnJzhQADAQAAiXNlY3AyNTZrMaED0swhaJ-T-00mGaQCXkVGH2Uk3k0KENhgP01wnzwE4Z6DdGNwgof4g3VkcIKH-oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34807/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.228.61/tcp/47570/p2p/16Uiu2HAm1BLHDmbbfxczqkLRwxqco5NPFxyXqzwwgZ142UtHDtpE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-27_12-25-09__6d03f156-be64-46ae-a7e2-549d7852c096__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.74.59
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40545', '40546', '40547', '40548', '40549']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40545:40545 -p 40546:40546 -p 40547:40547 -p 40548:40548 -p 40549:40549 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40547 --rest-port=40545 --tcp-port=40546 --discv5-udp-port=40548 --rest-address=0.0.0.0 --nat=extip:172.18.74.59 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=244c5b3bcbb951a48db0231fe1ba4dc14cf4aec6b0d294bef514c74f3a4e6bcd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40549 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNGqHH_CSAdkx_sGV_WV5bTH4JF1RDuDg4CgkSgtJHB2P3qcatAWGXoqQjW8v70Ze3tMapykAVC4DNiDAC3BxSYCgmlkgnY0gmlwhKwS5D2KbXVsdGlhZGRyc5YACASsEuQ9BrnSAAoErBLkPQa5090DgnJzhQADAQAAiXNlY3AyNTZrMaECVXm3RZDghscBAgJy7p1ZPrYBmQQQz7-Xyvl8DIY-cN-DdGNwgrnSg3VkcIK51IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.74.59 waku aa559303ab694374f2c70bfc9f5759196e032e97d8c584c52545e031f4553932
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID aa559303ab69. Setting up logs at ./log/docker/node3_2024-11-27_12-25-09__6d03f156-be64-46ae-a7e2-549d7852c096__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 40545
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40545/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40545/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.59/tcp/40546/p2p/16Uiu2HAm45mr2Q2WZBESqxom3bfQdK7z5AceAj9FhqyNK1GgtiBq","/ip4/172.18.74.59/tcp/40547/ws/p2p/16Uiu2HAm45mr2Q2WZBESqxom3bfQdK7z5AceAj9FhqyNK1GgtiBq"],"enrUri":"enr:-L24QPzbvj5ijWU4tcTMurrjWuolfc1KIBU7fb8owsYX9A3JDdboqAL9hHSfU47W4-paCs8Wfc7x_JyhWHX7SmUn_20CgmlkgnY0gmlwhKwSSjuKbXVsdGlhZGRyc5YACASsEko7Bp5iAAoErBJKOwaeY90DgnJzhQADAQAAiXNlY3AyNTZrMaECgKAy7QMY83Q7tFv1QJPtTGlQi9XH4dfjfXnjf20nNwCDdGNwgp5ig3VkcIKeZIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40545/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.228.61/tcp/47570/p2p/16Uiu2HAm1BLHDmbbfxczqkLRwxqco5NPFxyXqzwwgZ142UtHDtpE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-27_12-25-09__6d03f156-be64-46ae-a7e2-549d7852c096__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.27.173
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13167', '13168', '13169', '13170', '13171']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13167:13167 -p 13168:13168 -p 13169:13169 -p 13170:13170 -p 13171:13171 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13169 --rest-port=13167 --tcp-port=13168 --discv5-udp-port=13170 --rest-address=0.0.0.0 --nat=extip:172.18.27.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0599bcb9c85fc5cf8ddb88380aef15bf4cabb24ccf7d86aaadcbcdc1afffbd7a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13171 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNGqHH_CSAdkx_sGV_WV5bTH4JF1RDuDg4CgkSgtJHB2P3qcatAWGXoqQjW8v70Ze3tMapykAVC4DNiDAC3BxSYCgmlkgnY0gmlwhKwS5D2KbXVsdGlhZGRyc5YACASsEuQ9BrnSAAoErBLkPQa5090DgnJzhQADAQAAiXNlY3AyNTZrMaECVXm3RZDghscBAgJy7p1ZPrYBmQQQz7-Xyvl8DIY-cN-DdGNwgrnSg3VkcIK51IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.27.173 waku 11096a9d0aa5c9325ddea561829c787cb357954beda73c0cc04d790badc6ddb4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 11096a9d0aa5. Setting up logs at ./log/docker/node4_2024-11-27_12-25-09__6d03f156-be64-46ae-a7e2-549d7852c096__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 13167
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13167/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13167/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.27.173/tcp/13168/p2p/16Uiu2HAmLxEfDN574bj8DtefBRfRHivUygjT78EA4AkE91L1AHXN","/ip4/172.18.27.173/tcp/13169/ws/p2p/16Uiu2HAmLxEfDN574bj8DtefBRfRHivUygjT78EA4AkE91L1AHXN"],"enrUri":"enr:-L24QKeWi3F51x3-ZttIOWzzUu2fOtM1-CieGmT3_EQFUL9rMhsTWaB256IoORxzSUipg-D64gSeKwbK4Wom4eJvLsACgmlkgnY0gmlwhKwSG62KbXVsdGlhZGRyc5YACASsEhutBjNwAAoErBIbrQYzcd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDe0iMZtIucku0SPhP8e7sO6bYXBcugVxNFaUtP-mQSmmDdGNwgjNwg3VkcIIzcoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13167/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.228.61/tcp/47570/p2p/16Uiu2HAm1BLHDmbbfxczqkLRwxqco5NPFxyXqzwwgZ142UtHDtpE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-27_12-25-09__6d03f156-be64-46ae-a7e2-549d7852c096__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.137.197
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6459', '6460', '6461', '6462', '6463']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6459:6459 -p 6460:6460 -p 6461:6461 -p 6462:6462 -p 6463:6463 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6461 --rest-port=6459 --tcp-port=6460 --discv5-udp-port=6462 --rest-address=0.0.0.0 --nat=extip:172.18.137.197 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbb579ddecacc4e2f2dcb27ad2c8a6865e04abbcd19cb5e13df0860616ffdf60 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6463 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNGqHH_CSAdkx_sGV_WV5bTH4JF1RDuDg4CgkSgtJHB2P3qcatAWGXoqQjW8v70Ze3tMapykAVC4DNiDAC3BxSYCgmlkgnY0gmlwhKwS5D2KbXVsdGlhZGRyc5YACASsEuQ9BrnSAAoErBLkPQa5090DgnJzhQADAQAAiXNlY3AyNTZrMaECVXm3RZDghscBAgJy7p1ZPrYBmQQQz7-Xyvl8DIY-cN-DdGNwgrnSg3VkcIK51IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.137.197 waku 41f7036745bae8d127f6d012795692d4a76d30ec3d8d8183d95a406c661f48ec
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 41f7036745ba. Setting up logs at ./log/docker/node5_2024-11-27_12-25-09__6d03f156-be64-46ae-a7e2-549d7852c096__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 6459
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6459/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6459/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.197/tcp/6460/p2p/16Uiu2HAm57mKUJKBJdHnTZdEFKxpFHAhezSyGRsFV5VG8h8JDLFx","/ip4/172.18.137.197/tcp/6461/ws/p2p/16Uiu2HAm57mKUJKBJdHnTZdEFKxpFHAhezSyGRsFV5VG8h8JDLFx"],"enrUri":"enr:-L24QFKgu6YH6947PokdIwKPO9qXvUL90pWsGEEJiQ3uV8bdBUxv7_OZsA9-xMlpM3-aX2mmA_m5qplYWboL9kQfkPUCgmlkgnY0gmlwhKwSicWKbXVsdGlhZGRyc5YACASsEonFBhk8AAoErBKJxQYZPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECj_5zq6Zm3_aC17iJIlT0mVThohqj3N6D1Ls2jLPqpt-DdGNwghk8g3VkcIIZPoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6459/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.228.61/tcp/47570/p2p/16Uiu2HAm1BLHDmbbfxczqkLRwxqco5NPFxyXqzwwgZ142UtHDtpE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47569/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34807/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40545/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13167/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6459/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47569/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47569/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732710317094926080,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732710317094926080,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732710317094926080,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13167/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732710317094926080,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6459/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732710317094926080,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47569/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47569/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732710317221503744,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732710317221503744,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732710317221503744,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13167/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732710317221503744,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6459/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732710317221503744,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id ac468249d5fc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 7e01d21d3d96
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ac468249d5fc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id aa559303ab69
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7e01d21d3d96. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 11096a9d0aa5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container aa559303ab69. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 41f7036745ba
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 11096a9d0aa5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.