[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-08-03_04-11-41__42caf9c7-a801-4222-a7ec-5d62d3d34e77
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node1_2024-08-03_04-11-41__42caf9c7-a801-4222-a7ec-5d62d3d34e77__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.148.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['15614', '15615', '15616', '15617', '15618']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 15614:15614 -p 15615:15615 -p 15616:15616 -p 15617:15617 -p 15618:15618 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15616 --rest-port=15614 --tcp-port=15615 --discv5-udp-port=15617 --rest-address=0.0.0.0 --nat=extip:172.18.148.29 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15618 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.148.29 waku c83041d0f791bdd740f98c4a73b51455516a172c4a46e964bc41f2cee8e9e753
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c83041d0f791. Setting up logs at ./log/docker/node1_2024-08-03_04-11-41__42caf9c7-a801-4222-a7ec-5d62d3d34e77__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/nwaku:latest. REST: 15614
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15614/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15614/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.148.29/tcp/15615/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.148.29/tcp/15616/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QOfNbA5IX8eQ0_vmBcA6akDvbYehPO-aXzHCjwGS3cNGbn7aCs9N94WL6eIGsfkxTzTAKzaKJpZ3oJcXRgG10W8BgmlkgnY0gmlwhKwSlB2KbXVsdGlhZGRyc4wACgSsEpQdBj0A3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCPP-DdWRwgj0BhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node2_2024-08-03_04-11-41__42caf9c7-a801-4222-a7ec-5d62d3d34e77__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.207.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['65520', '65521', '65522', '65523', '65524']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 65520:65520 -p 65521:65521 -p 65522:65522 -p 65523:65523 -p 65524:65524 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65522 --rest-port=65520 --tcp-port=65521 --discv5-udp-port=65523 --rest-address=0.0.0.0 --nat=extip:172.18.207.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65524 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOfNbA5IX8eQ0_vmBcA6akDvbYehPO-aXzHCjwGS3cNGbn7aCs9N94WL6eIGsfkxTzTAKzaKJpZ3oJcXRgG10W8BgmlkgnY0gmlwhKwSlB2KbXVsdGlhZGRyc4wACgSsEpQdBj0A3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCPP-DdWRwgj0BhXdha3UyBQ --filternode=/ip4/172.18.148.29/tcp/15615/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.207.139 waku 2a3916aebfacbbb22c0158da79d66bb9e89a16444ef1e26920008264bc586a2e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 2a3916aebfac. Setting up logs at ./log/docker/node2_2024-08-03_04-11-41__42caf9c7-a801-4222-a7ec-5d62d3d34e77__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/nwaku:latest. REST: 65520
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65520/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65520/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.207.139/tcp/65521/p2p/16Uiu2HAm6eWKWXN3pJsCEbmrzz9Tf6LitnwBcy1uqdhoQdgaEkqP","/ip4/172.18.207.139/tcp/65522/ws/p2p/16Uiu2HAm6eWKWXN3pJsCEbmrzz9Tf6LitnwBcy1uqdhoQdgaEkqP"],"enrUri":"enr:-LO4QNGSG9ZGT2MJK7Yxabz6K0xrPn8DjkRFDO8VO_Y-qTd6b32kjBPcnl-zPWnRDOQz9zhqN7SZlZ5B2Az0jUjY8uIBgmlkgnY0gmlwhKwSz4uKbXVsdGlhZGRyc4wACgSsEs-LBv_y3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKmui8dNJnuDLg3eL2YmK566JEFDoQIkV9EIn_iuqpu-oN0Y3CC__GDdWRwgv_zhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65520/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.148.29/tcp/15615/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node3_2024-08-03_04-11-41__42caf9c7-a801-4222-a7ec-5d62d3d34e77__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.209.36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['26542', '26543', '26544', '26545', '26546']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 26542:26542 -p 26543:26543 -p 26544:26544 -p 26545:26545 -p 26546:26546 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26544 --rest-port=26542 --tcp-port=26543 --discv5-udp-port=26545 --rest-address=0.0.0.0 --nat=extip:172.18.209.36 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26546 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOfNbA5IX8eQ0_vmBcA6akDvbYehPO-aXzHCjwGS3cNGbn7aCs9N94WL6eIGsfkxTzTAKzaKJpZ3oJcXRgG10W8BgmlkgnY0gmlwhKwSlB2KbXVsdGlhZGRyc4wACgSsEpQdBj0A3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCPP-DdWRwgj0BhXdha3UyBQ --filternode=/ip4/172.18.148.29/tcp/15615/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.209.36 waku 4f73af4bba2da3b2c4b3f4d5523e6c744b73646c974c78035a49bf39762cb8c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 4f73af4bba2d. Setting up logs at ./log/docker/node3_2024-08-03_04-11-41__42caf9c7-a801-4222-a7ec-5d62d3d34e77__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/nwaku:latest. REST: 26542
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26542/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26542/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.36/tcp/26543/p2p/16Uiu2HAkxnmuPU9XT2jgpEKcJwpXP5GFcSLXWf5YKEMv8z7emxVy","/ip4/172.18.209.36/tcp/26544/ws/p2p/16Uiu2HAkxnmuPU9XT2jgpEKcJwpXP5GFcSLXWf5YKEMv8z7emxVy"],"enrUri":"enr:-LO4QB6C4zMlD8XAerytZ2buHb9uttvsoizo7URiNwZM8ONdOlC8BtUcmpPxW_1uJkAFYAlH9ZoWDY-0Oq4fjvMHuMYBgmlkgnY0gmlwhKwS0SSKbXVsdGlhZGRyc4wACgSsEtEkBmew3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIx-vTDoGpqBt-5LA-TQE6HLuUoVCMJj0IQmToRm4G7_IN0Y3CCZ6-DdWRwgmexhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26542/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.148.29/tcp/15615/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node4_2024-08-03_04-11-41__42caf9c7-a801-4222-a7ec-5d62d3d34e77__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.189.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['9356', '9357', '9358', '9359', '9360']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 9356:9356 -p 9357:9357 -p 9358:9358 -p 9359:9359 -p 9360:9360 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9358 --rest-port=9356 --tcp-port=9357 --discv5-udp-port=9359 --rest-address=0.0.0.0 --nat=extip:172.18.189.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9360 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOfNbA5IX8eQ0_vmBcA6akDvbYehPO-aXzHCjwGS3cNGbn7aCs9N94WL6eIGsfkxTzTAKzaKJpZ3oJcXRgG10W8BgmlkgnY0gmlwhKwSlB2KbXVsdGlhZGRyc4wACgSsEpQdBj0A3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCPP-DdWRwgj0BhXdha3UyBQ --filternode=/ip4/172.18.148.29/tcp/15615/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.189.229 waku 072764295e19a742cc30246fa7d9c51d4b54bdb02f3a34cc602051344e571ca3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 072764295e19. Setting up logs at ./log/docker/node4_2024-08-03_04-11-41__42caf9c7-a801-4222-a7ec-5d62d3d34e77__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/nwaku:latest. REST: 9356
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9356/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9356/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.189.229/tcp/9357/p2p/16Uiu2HAmC6NrBnKAbNGmNsgxHL1JSRV6CJJVY8wxpPyo3cgJiyzG","/ip4/172.18.189.229/tcp/9358/ws/p2p/16Uiu2HAmC6NrBnKAbNGmNsgxHL1JSRV6CJJVY8wxpPyo3cgJiyzG"],"enrUri":"enr:-LO4QK9y6PzMx-NbXSzJGxLn5K6oOUnl_0OPVdAgk6FdiY-bRM-eXzDNV-jH4CQcmosJIVMj78aiS7xvLm9t3bjKm78BgmlkgnY0gmlwhKwSveWKbXVsdGlhZGRyc4wACgSsEr3lBiSO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL3pUWpq90h_8b0HVPwSHyiKgIP-4uT8kgkV3psNNG0cYN0Y3CCJI2DdWRwgiSPhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9356/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.148.29/tcp/15615/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node5_2024-08-03_04-11-41__42caf9c7-a801-4222-a7ec-5d62d3d34e77__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.245.83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['10270', '10271', '10272', '10273', '10274']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 10270:10270 -p 10271:10271 -p 10272:10272 -p 10273:10273 -p 10274:10274 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10272 --rest-port=10270 --tcp-port=10271 --discv5-udp-port=10273 --rest-address=0.0.0.0 --nat=extip:172.18.245.83 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10274 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOfNbA5IX8eQ0_vmBcA6akDvbYehPO-aXzHCjwGS3cNGbn7aCs9N94WL6eIGsfkxTzTAKzaKJpZ3oJcXRgG10W8BgmlkgnY0gmlwhKwSlB2KbXVsdGlhZGRyc4wACgSsEpQdBj0A3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCPP-DdWRwgj0BhXdha3UyBQ --filternode=/ip4/172.18.148.29/tcp/15615/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.245.83 waku b0d13b0f8c2caa3b1d56104c2d26ec15868f74b2d5de9b4a2314bfaf0801706d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b0d13b0f8c2c. Setting up logs at ./log/docker/node5_2024-08-03_04-11-41__42caf9c7-a801-4222-a7ec-5d62d3d34e77__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/nwaku:latest. REST: 10270
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10270/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10270/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.245.83/tcp/10271/p2p/16Uiu2HAm3fUXzbo7Y61eS3JBuEt7YaNzEhcHM1auLnZyhGjmHLCu","/ip4/172.18.245.83/tcp/10272/ws/p2p/16Uiu2HAm3fUXzbo7Y61eS3JBuEt7YaNzEhcHM1auLnZyhGjmHLCu"],"enrUri":"enr:-LO4QM8uzwx5njCr98QK3LR1MaR--Y_H4LnPOZ-1mRLeioDCWoODKDaHtwBV1ovWA3jpnNvbL-Vho4WTxLIMQogTk9oBgmlkgnY0gmlwhKwS9VOKbXVsdGlhZGRyc4wACgSsEvVTBigg3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ6Zq-gLc4VAdsvxX1SyOi9I5D1dEAIXkHhgGNSxccvnoN0Y3CCKB-DdWRwgighhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10270/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.148.29/tcp/15615/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15614/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65520/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "bcb71dfb-9532-4a7a-938c-99ba5b9c409b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"bcb71dfb-9532-4a7a-938c-99ba5b9c409b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26542/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4d096226-aae9-4bef-bd82-6120196654d9", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4d096226-aae9-4bef-bd82-6120196654d9","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9356/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7d146a70-7e79-4b78-87f4-61531e04b3e1", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7d146a70-7e79-4b78-87f4-61531e04b3e1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10270/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e790fc89-aa7e-40ee-8833-e68c2ca33f08", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e790fc89-aa7e-40ee-8833-e68c2ca33f08","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15614/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65520/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1722658309866715904,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15614/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26542/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:26542/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id c83041d0f791
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 2a3916aebfac
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 4f73af4bba2d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 072764295e19
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id b0d13b0f8c2c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.