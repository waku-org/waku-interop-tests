{"uid":"a975fdf9fefc9f98","name":"test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","fullName":"tests.light_push.test_publish.TestLightPushPublish#test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","historyId":"88c874acd5852c43d37fbe8b7f7a0144","time":{"start":1722658549612,"stop":1722658549624,"duration":12},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:9004/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x9b7c54fd4ba2060bbb736a2752b50e5cfb04eb72428c57451b19bcae7622ab79'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:9004/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:338: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:9004/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x9b7c54fd4ba2060bbb736a2752b50e5cfb04eb72428c57451b19bcae7622ab79'","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1722658251853,"stop":1722658251853,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1722658545963,"stop":1722658545963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1722658545963,"stop":1722658545964,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1722658545963,"stop":1722658545963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1722658545964,"stop":1722658545964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1722658545964,"stop":1722658545964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_publish_setup","time":{"start":1722658545964,"stop":1722658549611,"duration":3647},"status":"passed","steps":[{"name":"setup_first_receiving_node","time":{"start":1722658545964,"stop":1722658548119,"duration":2155},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1722658545965,"stop":1722658548118,"duration":2153},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722658548118,"stop":1722658548118,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f2a46669940>, <src.node.waku_node.WakuNode object at 0x7f2a35e8f8c0>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"nodekey","value":"'30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_lightpush_node","time":{"start":1722658548119,"stop":1722658549600,"duration":1481},"status":"passed","steps":[{"name":"setup_lightpush_node","time":{"start":1722658548119,"stop":1722658549600,"duration":1481},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722658549565,"stop":1722658549600,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f2a46669940>, <src.node.waku_node.WakuNode object at 0x7f2a35e8ed50>, ['/ip4/172.18.32.115/tcp/50783/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1722658549600,"stop":1722658549611,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"common_setup","time":{"start":1722658545964,"stop":1722658545964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:9004/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x9b7c54fd4ba2060bbb736a2752b50e5cfb04eb72428c57451b19bcae7622ab79'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:9004/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:338: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:9004/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x9b7c54fd4ba2060bbb736a2752b50e5cfb04eb72428c57451b19bcae7622ab79'","steps":[{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1722658549612,"stop":1722658549618,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/3/0', '/waku/2/rs/3/1', '/waku/2/rs/3/9', '/waku/2/rs/3/25', '/waku/2/rs/3/1000']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_payload","time":{"start":1722658549618,"stop":1722658549618,"duration":0},"status":"passed","steps":[{"name":"create_message","time":{"start":1722658549618,"stop":1722658549618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"7ca3409e12599ff5","name":"log","source":"7ca3409e12599ff5.txt","type":"text/plain","size":32911}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1722658549662,"stop":1722658549664,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1722658549664,"stop":1722658554023,"duration":4359},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1722658554023,"stop":1722658554025,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"8bf77e4f70b1407d","name":"lightpush_node1_2024-08-03_04-15-45__60fde538-5e1c-47da-b590-55d60d0d6626__wakuorg_nwaku:latest.log","source":"8bf77e4f70b1407d.txt","type":"text/plain","size":93960},{"uid":"82ce2301135fa4c0","name":"receiving_node1_2024-08-03_04-15-45__60fde538-5e1c-47da-b590-55d60d0d6626__wakuorg_nwaku:latest.log","source":"82ce2301135fa4c0.txt","type":"text/plain","size":106500}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1722659449048,"stop":1722659449048,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.light_push"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestLightPushPublish"},{"name":"host","value":"fv-az530-335"},{"name":"thread","value":"2081-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.light_push.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c6060364cfcde2bf","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:13360/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x4aa607cb8ad27ee296b677a3e64d755ab486d4abc91e29e5d9fa9897242d2a73'","time":{"start":1722658541698,"stop":1722658541715,"duration":17}},{"uid":"c6b71a8d518ba542","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:54616/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0xa508b52010bbb843a331b7fafe6c4c5c0f0a6c7bcff36fa844f3a63f19f484cb'","time":{"start":1722658533468,"stop":1722658533480,"duration":12}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":54,"unknown":0,"total":55},"items":[{"uid":"fd9378163205e4c7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/296//#testresult/fd9378163205e4c7","status":"passed","time":{"start":1722572134120,"stop":1722572134237,"duration":117}},{"uid":"75fe95a3cb002edd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/295//#testresult/75fe95a3cb002edd","status":"passed","time":{"start":1722485741425,"stop":1722485741550,"duration":125}},{"uid":"4e731b914b9ac5e6","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/294//#testresult/4e731b914b9ac5e6","status":"passed","time":{"start":1722399202209,"stop":1722399202325,"duration":116}},{"uid":"2f0cfdab4a188e0a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/293//#testresult/2f0cfdab4a188e0a","status":"passed","time":{"start":1722312923301,"stop":1722312923416,"duration":115}},{"uid":"d7632edb1eaaa9cd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/292//#testresult/d7632edb1eaaa9cd","status":"passed","time":{"start":1722235757962,"stop":1722235758078,"duration":116}},{"uid":"2c508ac3089adf4e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/290//#testresult/2c508ac3089adf4e","status":"passed","time":{"start":1722140090063,"stop":1722140090184,"duration":121}},{"uid":"76708084b734cd3a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/289//#testresult/76708084b734cd3a","status":"passed","time":{"start":1722053703216,"stop":1722053703337,"duration":121}},{"uid":"71bd0d6018beae47","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/288//#testresult/71bd0d6018beae47","status":"passed","time":{"start":1721967365000,"stop":1721967365115,"duration":115}},{"uid":"a944b07ddb3187d7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/287//#testresult/a944b07ddb3187d7","status":"passed","time":{"start":1721880941033,"stop":1721880941149,"duration":116}},{"uid":"aa08028d0e395694","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/286//#testresult/aa08028d0e395694","status":"passed","time":{"start":1721794504442,"stop":1721794504560,"duration":118}},{"uid":"6d17671e642b755b","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/285//#testresult/6d17671e642b755b","status":"passed","time":{"start":1721708127025,"stop":1721708127145,"duration":120}},{"uid":"12ca18ecb19864ac","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/284//#testresult/12ca18ecb19864ac","status":"passed","time":{"start":1721621753294,"stop":1721621753408,"duration":114}},{"uid":"d4f49aaa4aae7acc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/283//#testresult/d4f49aaa4aae7acc","status":"passed","time":{"start":1721535323964,"stop":1721535324080,"duration":116}},{"uid":"fa376caf837292c9","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/282//#testresult/fa376caf837292c9","status":"passed","time":{"start":1721449006939,"stop":1721449007055,"duration":116}},{"uid":"168a4178039d877f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/281//#testresult/168a4178039d877f","status":"passed","time":{"start":1721362580761,"stop":1721362580878,"duration":117}},{"uid":"6e72976a5b750d26","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/280//#testresult/6e72976a5b750d26","status":"passed","time":{"start":1721277296081,"stop":1721277296199,"duration":118}},{"uid":"b3dd08c1fd463d00","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/279//#testresult/b3dd08c1fd463d00","status":"passed","time":{"start":1721276061852,"stop":1721276061965,"duration":113}},{"uid":"c46be901bff72935","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/278//#testresult/c46be901bff72935","status":"passed","time":{"start":1721189720917,"stop":1721189721037,"duration":120}},{"uid":"179db1b83c5d069a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/277//#testresult/179db1b83c5d069a","status":"passed","time":{"start":1721103371821,"stop":1721103371940,"duration":119}},{"uid":"ac705ce255402bee","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/276//#testresult/ac705ce255402bee","status":"passed","time":{"start":1721057639548,"stop":1721057639671,"duration":123}}]},"tags":[]},"source":"a975fdf9fefc9f98.json","parameterValues":[]}