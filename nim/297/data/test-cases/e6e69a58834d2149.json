{"uid":"e6e69a58834d2149","name":"test_light_push_with_valid_timestamps","fullName":"tests.light_push.test_publish.TestLightPushPublish#test_light_push_with_valid_timestamps","historyId":"cfac8d913e897090239207429191f819","time":{"start":1722658573884,"stop":1722658573946,"duration":62},"status":"failed","statusMessage":"AssertionError: Timestamps failed: [{'description': 'Now', 'value': 1722658251039317760, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Far future', 'value': 2038018251039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Recent past', 'value': 1722654651039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Near future', 'value': 1722661851039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Positive number', 'value': 1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Negative number', 'value': -1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'DST change', 'value': 1583632800000000000, 'valid_for': ['nwaku', 'gowaku']}]\nassert not [{'description': 'Now', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722658251039317760}, {'description': 'Far future', 'valid_for': ['nwaku', 'gowaku'], 'value': 2038018251039293952}, {'description': 'Recent past', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722654651039293952}, {'description': 'Near future', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722661851039293952}, {'description': 'Positive number', 'valid_for': ['nwaku', 'gowaku'], 'value': 1}, {'description': 'Negative number', 'valid_for': ['nwaku', 'gowaku'], 'value': -1}, ...]","statusTrace":"tests/light_push/test_publish.py:166: in test_light_push_with_valid_timestamps\n    assert not failed_timestamps, f\"Timestamps failed: {failed_timestamps}\"\nE   AssertionError: Timestamps failed: [{'description': 'Now', 'value': 1722658251039317760, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Far future', 'value': 2038018251039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Recent past', 'value': 1722654651039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Near future', 'value': 1722661851039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Positive number', 'value': 1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Negative number', 'value': -1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'DST change', 'value': 1583632800000000000, 'valid_for': ['nwaku', 'gowaku']}]\nE   assert not [{'description': 'Now', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722658251039317760}, {'description': 'Far future', 'valid_for': ['nwaku', 'gowaku'], 'value': 2038018251039293952}, {'description': 'Recent past', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722654651039293952}, {'description': 'Near future', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722661851039293952}, {'description': 'Positive number', 'valid_for': ['nwaku', 'gowaku'], 'value': 1}, {'description': 'Negative number', 'valid_for': ['nwaku', 'gowaku'], 'value': -1}, ...]","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1722658252376,"stop":1722658252376,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1722658570156,"stop":1722658570157,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1722658570157,"stop":1722658570157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1722658570157,"stop":1722658570157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_publish_setup","time":{"start":1722658570157,"stop":1722658573884,"duration":3727},"status":"passed","steps":[{"name":"setup_first_receiving_node","time":{"start":1722658570158,"stop":1722658571850,"duration":1692},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1722658570158,"stop":1722658571847,"duration":1689},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722658571847,"stop":1722658571847,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7fe55db6a540>, <src.node.waku_node.WakuNode object at 0x7fe55d4a1520>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"nodekey","value":"'30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_lightpush_node","time":{"start":1722658571850,"stop":1722658573869,"duration":2019},"status":"passed","steps":[{"name":"setup_lightpush_node","time":{"start":1722658571850,"stop":1722658573868,"duration":2018},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722658573827,"stop":1722658573868,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7fe55db6a540>, <src.node.waku_node.WakuNode object at 0x7fe55d3bf800>, ['/ip4/172.18.50.192/tcp/20062/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1722658573869,"stop":1722658573884,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1722658570157,"stop":1722658570157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1722658570157,"stop":1722658570157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1722658570157,"stop":1722658570157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Timestamps failed: [{'description': 'Now', 'value': 1722658251039317760, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Far future', 'value': 2038018251039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Recent past', 'value': 1722654651039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Near future', 'value': 1722661851039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Positive number', 'value': 1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Negative number', 'value': -1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'DST change', 'value': 1583632800000000000, 'valid_for': ['nwaku', 'gowaku']}]\nassert not [{'description': 'Now', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722658251039317760}, {'description': 'Far future', 'valid_for': ['nwaku', 'gowaku'], 'value': 2038018251039293952}, {'description': 'Recent past', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722654651039293952}, {'description': 'Near future', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722661851039293952}, {'description': 'Positive number', 'valid_for': ['nwaku', 'gowaku'], 'value': 1}, {'description': 'Negative number', 'valid_for': ['nwaku', 'gowaku'], 'value': -1}, ...]","statusTrace":"tests/light_push/test_publish.py:166: in test_light_push_with_valid_timestamps\n    assert not failed_timestamps, f\"Timestamps failed: {failed_timestamps}\"\nE   AssertionError: Timestamps failed: [{'description': 'Now', 'value': 1722658251039317760, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Far future', 'value': 2038018251039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Recent past', 'value': 1722654651039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Near future', 'value': 1722661851039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Positive number', 'value': 1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Negative number', 'value': -1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'DST change', 'value': 1583632800000000000, 'valid_for': ['nwaku', 'gowaku']}]\nE   assert not [{'description': 'Now', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722658251039317760}, {'description': 'Far future', 'valid_for': ['nwaku', 'gowaku'], 'value': 2038018251039293952}, {'description': 'Recent past', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722654651039293952}, {'description': 'Near future', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722661851039293952}, {'description': 'Positive number', 'valid_for': ['nwaku', 'gowaku'], 'value': 1}, {'description': 'Negative number', 'valid_for': ['nwaku', 'gowaku'], 'value': -1}, ...]","steps":[{"name":"create_message","time":{"start":1722658573885,"stop":1722658573885,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"1722658251039317760"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_light_pushed_message_reaches_receiving_peer","time":{"start":1722658573885,"stop":1722658573893,"duration":8},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:62107/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x8f730d6931f121b964726044b053801b943bc8260dd5fdc3fe6677d02bcaa2b1'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 122, in check_light_pushed_message_reaches_receiving_peer\n    sender.send_light_push_message(payload)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 338, in send_light_push_message\n    return self._api.send_light_push_message(payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 57, in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_payload","time":{"start":1722658573885,"stop":1722658573885,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1722658251039317760}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1722658251039317760}"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1722658573894,"stop":1722658573894,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"2038018251039293952"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_light_pushed_message_reaches_receiving_peer","time":{"start":1722658573895,"stop":1722658573901,"duration":6},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:62107/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x275e7549278c90d36611d998df75126bb21813bfb7ad993b7f1f1becc13f483e'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 122, in check_light_pushed_message_reaches_receiving_peer\n    sender.send_light_push_message(payload)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 338, in send_light_push_message\n    return self._api.send_light_push_message(payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 57, in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_payload","time":{"start":1722658573895,"stop":1722658573895,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 2038018251039293952}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 2038018251039293952}"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1722658573902,"stop":1722658573902,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"1722654651039293952"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_light_pushed_message_reaches_receiving_peer","time":{"start":1722658573902,"stop":1722658573910,"duration":8},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:62107/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x45699c58864b7023294875bd60e0363af48841d2cb0c1eb06ed779b45f678773'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 122, in check_light_pushed_message_reaches_receiving_peer\n    sender.send_light_push_message(payload)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 338, in send_light_push_message\n    return self._api.send_light_push_message(payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 57, in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_payload","time":{"start":1722658573902,"stop":1722658573902,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1722654651039293952}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1722654651039293952}"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1722658573911,"stop":1722658573911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"1722661851039293952"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_light_pushed_message_reaches_receiving_peer","time":{"start":1722658573911,"stop":1722658573918,"duration":7},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:62107/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x7666b775f2446ff3d8d2e8a157b8a81b05a65af69ee7974ae6718a13a904d282'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 122, in check_light_pushed_message_reaches_receiving_peer\n    sender.send_light_push_message(payload)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 338, in send_light_push_message\n    return self._api.send_light_push_message(payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 57, in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_payload","time":{"start":1722658573911,"stop":1722658573911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1722661851039293952}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1722661851039293952}"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1722658573919,"stop":1722658573919,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"1"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_light_pushed_message_reaches_receiving_peer","time":{"start":1722658573919,"stop":1722658573926,"duration":7},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:62107/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x47ee80622a7127c13231c3ea28878ef62429950efe9c7c753094867389629603'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 122, in check_light_pushed_message_reaches_receiving_peer\n    sender.send_light_push_message(payload)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 338, in send_light_push_message\n    return self._api.send_light_push_message(payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 57, in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_payload","time":{"start":1722658573919,"stop":1722658573919,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1}"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1722658573928,"stop":1722658573928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"-1"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_light_pushed_message_reaches_receiving_peer","time":{"start":1722658573928,"stop":1722658573935,"duration":7},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:62107/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0xa71d511bea2105fbbb6b69ea7d16d29eefa89bd70407a15b01f3623eb8e26b4b'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 122, in check_light_pushed_message_reaches_receiving_peer\n    sender.send_light_push_message(payload)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 338, in send_light_push_message\n    return self._api.send_light_push_message(payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 57, in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_payload","time":{"start":1722658573928,"stop":1722658573928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': -1}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': -1}"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1722658573936,"stop":1722658573936,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"1583632800000000000"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_light_pushed_message_reaches_receiving_peer","time":{"start":1722658573936,"stop":1722658573943,"duration":7},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:62107/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0xa1de2174a28bbe78ab7cfeb98791a0d458c08a144653f0aba91de098c075d197'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 122, in check_light_pushed_message_reaches_receiving_peer\n    sender.send_light_push_message(payload)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 338, in send_light_push_message\n    return self._api.send_light_push_message(payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 57, in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_payload","time":{"start":1722658573937,"stop":1722658573937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1583632800000000000}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TGlnaHQgcHVzaCB3b3JrcyEh', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1583632800000000000}"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"29255b8294fc3a4f","name":"log","source":"29255b8294fc3a4f.txt","type":"text/plain","size":56258}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":21,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1722658573963,"stop":1722658573966,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1722658573967,"stop":1722658579196,"duration":5229},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1722658579197,"stop":1722658579199,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"d7e922b5bfa6e53c","name":"lightpush_node1_2024-08-03_04-16-10__08a4c557-0de4-4ecf-9342-43aff471dcb9__wakuorg_nwaku:latest.log","source":"d7e922b5bfa6e53c.txt","type":"text/plain","size":158345},{"uid":"bc1943005f311129","name":"receiving_node1_2024-08-03_04-16-10__08a4c557-0de4-4ecf-9342-43aff471dcb9__wakuorg_nwaku:latest.log","source":"bc1943005f311129.txt","type":"text/plain","size":152347}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1722659792388,"stop":1722659792388,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.light_push"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestLightPushPublish"},{"name":"host","value":"fv-az530-335"},{"name":"thread","value":"2078-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.light_push.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"9fed7f3238b85bc3","status":"failed","statusDetails":"AssertionError: Timestamps failed: [{'description': 'Now', 'value': 1722658251039317760, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Far future', 'value': 2038018251039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Recent past', 'value': 1722654651039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Near future', 'value': 1722661851039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Positive number', 'value': 1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Negative number', 'value': -1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'DST change', 'value': 1583632800000000000, 'valid_for': ['nwaku', 'gowaku']}]\nassert not [{'description': 'Now', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722658251039317760}, {'description': 'Far future', 'valid_for': ['nwaku', 'gowaku'], 'value': 2038018251039293952}, {'description': 'Recent past', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722654651039293952}, {'description': 'Near future', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722661851039293952}, {'description': 'Positive number', 'valid_for': ['nwaku', 'gowaku'], 'value': 1}, {'description': 'Negative number', 'valid_for': ['nwaku', 'gowaku'], 'value': -1}, ...]","time":{"start":1722658563649,"stop":1722658563704,"duration":55}},{"uid":"29a1d1c08caa5d4c","status":"failed","statusDetails":"AssertionError: Timestamps failed: [{'description': 'Now', 'value': 1722658251039317760, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Far future', 'value': 2038018251039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Recent past', 'value': 1722654651039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Near future', 'value': 1722661851039293952, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Positive number', 'value': 1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'Negative number', 'value': -1, 'valid_for': ['nwaku', 'gowaku']}, {'description': 'DST change', 'value': 1583632800000000000, 'valid_for': ['nwaku', 'gowaku']}]\nassert not [{'description': 'Now', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722658251039317760}, {'description': 'Far future', 'valid_for': ['nwaku', 'gowaku'], 'value': 2038018251039293952}, {'description': 'Recent past', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722654651039293952}, {'description': 'Near future', 'valid_for': ['nwaku', 'gowaku'], 'value': 1722661851039293952}, {'description': 'Positive number', 'valid_for': ['nwaku', 'gowaku'], 'value': 1}, {'description': 'Negative number', 'valid_for': ['nwaku', 'gowaku'], 'value': -1}, ...]","time":{"start":1722658554829,"stop":1722658554880,"duration":51}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":54,"unknown":0,"total":55},"items":[{"uid":"54e89336e01613b8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/296//#testresult/54e89336e01613b8","status":"passed","time":{"start":1722572134899,"stop":1722572135694,"duration":795}},{"uid":"bab1b95e25a6e70c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/295//#testresult/bab1b95e25a6e70c","status":"passed","time":{"start":1722485761903,"stop":1722485762690,"duration":787}},{"uid":"a0ebdf22c162a309","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/294//#testresult/a0ebdf22c162a309","status":"passed","time":{"start":1722399219450,"stop":1722399220235,"duration":785}},{"uid":"64a770680e02e88a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/293//#testresult/64a770680e02e88a","status":"passed","time":{"start":1722312931304,"stop":1722312932090,"duration":786}},{"uid":"2dc0bf85b08c6289","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/292//#testresult/2dc0bf85b08c6289","status":"passed","time":{"start":1722235768671,"stop":1722235769451,"duration":780}},{"uid":"d985ba6dd58a2592","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/290//#testresult/d985ba6dd58a2592","status":"passed","time":{"start":1722140108456,"stop":1722140109244,"duration":788}},{"uid":"8aee8ac797da478e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/289//#testresult/8aee8ac797da478e","status":"passed","time":{"start":1722053712446,"stop":1722053713227,"duration":781}},{"uid":"34c62b27361a8a23","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/288//#testresult/34c62b27361a8a23","status":"passed","time":{"start":1721967373521,"stop":1721967374297,"duration":776}},{"uid":"8db8d3ed2bef40b4","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/287//#testresult/8db8d3ed2bef40b4","status":"passed","time":{"start":1721880948292,"stop":1721880949080,"duration":788}},{"uid":"7881c5771ef1abe1","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/286//#testresult/7881c5771ef1abe1","status":"passed","time":{"start":1721794518864,"stop":1721794519646,"duration":782}},{"uid":"d8ce1e2f58581d14","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/285//#testresult/d8ce1e2f58581d14","status":"passed","time":{"start":1721708136161,"stop":1721708136948,"duration":787}},{"uid":"f46e1d36617b5223","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/284//#testresult/f46e1d36617b5223","status":"passed","time":{"start":1721621753200,"stop":1721621753992,"duration":792}},{"uid":"4ea8654d60d16149","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/283//#testresult/4ea8654d60d16149","status":"passed","time":{"start":1721535334461,"stop":1721535335237,"duration":776}},{"uid":"a3f9803be25ecf20","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/282//#testresult/a3f9803be25ecf20","status":"passed","time":{"start":1721449007487,"stop":1721449008272,"duration":785}},{"uid":"dee43df41a430a0b","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/281//#testresult/dee43df41a430a0b","status":"passed","time":{"start":1721362580508,"stop":1721362581291,"duration":783}},{"uid":"de15850d0be75c86","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/280//#testresult/de15850d0be75c86","status":"passed","time":{"start":1721277304054,"stop":1721277304858,"duration":804}},{"uid":"bb23be7990642e9f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/279//#testresult/bb23be7990642e9f","status":"passed","time":{"start":1721276082316,"stop":1721276083093,"duration":777}},{"uid":"f1edd225fcc3849b","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/278//#testresult/f1edd225fcc3849b","status":"passed","time":{"start":1721189729930,"stop":1721189730703,"duration":773}},{"uid":"c9186338a058ec01","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/277//#testresult/c9186338a058ec01","status":"passed","time":{"start":1721103375762,"stop":1721103376558,"duration":796}},{"uid":"ea7cc64da2d218e5","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/276//#testresult/ea7cc64da2d218e5","status":"passed","time":{"start":1721057647153,"stop":1721057647929,"duration":776}}]},"tags":[]},"source":"e6e69a58834d2149.json","parameterValues":[]}