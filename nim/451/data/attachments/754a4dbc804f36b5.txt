[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_sort_ascending[true] with id: 2024-11-16_04-38-08__dc8bb919-ea86-46ba-9dd3-266037c3c6bf
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-16_04-38-08__dc8bb919-ea86-46ba-9dd3-266037c3c6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.33.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14470', '14471', '14472', '14473', '14474']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14470:14470 -p 14471:14471 -p 14472:14472 -p 14473:14473 -p 14474:14474 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14472 --rest-port=14470 --tcp-port=14471 --discv5-udp-port=14473 --rest-address=0.0.0.0 --nat=extip:172.18.33.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbec6fe045dd4793ab1e99e4b0638ac4cbe2f3bcf8eaead06abfef33a6a14ad0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14474 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.33.211 waku fbab75f8d149eb9c6a77bab843edd9cce88ec8ac5de56b8fb2493f44fa829581
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fbab75f8d149. Setting up logs at ./log/docker/publishing_node1_2024-11-16_04-38-08__dc8bb919-ea86-46ba-9dd3-266037c3c6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 14470
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 29fec92f0bea. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14470/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14470/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.211/tcp/14471/p2p/16Uiu2HAmPgQKJPQkBHABWSMdN6MZkxvQbbd9EQWRXW4oEJRnD4UW","/ip4/172.18.33.211/tcp/14472/ws/p2p/16Uiu2HAmPgQKJPQkBHABWSMdN6MZkxvQbbd9EQWRXW4oEJRnD4UW"],"enrUri":"enr:-L24QANygd-wD-Gq0IOiCgLbJsbDBINVOirU3SwsKVz-LPQOay0jUCMC4-1-dCHC5jANmCiOtJ8jf2NqqWNTfeKMa_8CgmlkgnY0gmlwhKwSIdOKbXVsdGlhZGRyc5YACASsEiHTBjiHAAoErBIh0wY4iN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDo808L80MLL1w7R3TITflyrYjLpL5ddb1NFp-xT6QDReDdGNwgjiHg3VkcII4iYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-16_04-38-08__dc8bb919-ea86-46ba-9dd3-266037c3c6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.146.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16117', '16118', '16119', '16120', '16121']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16117:16117 -p 16118:16118 -p 16119:16119 -p 16120:16120 -p 16121:16121 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16119 --rest-port=16117 --tcp-port=16118 --discv5-udp-port=16120 --rest-address=0.0.0.0 --nat=extip:172.18.146.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1b0ffe4d3faf8b85c424ec2f84dd140efc5cfe9b188aa2e036ccf97d425fc0f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16121 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QANygd-wD-Gq0IOiCgLbJsbDBINVOirU3SwsKVz-LPQOay0jUCMC4-1-dCHC5jANmCiOtJ8jf2NqqWNTfeKMa_8CgmlkgnY0gmlwhKwSIdOKbXVsdGlhZGRyc5YACASsEiHTBjiHAAoErBIh0wY4iN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDo808L80MLL1w7R3TITflyrYjLpL5ddb1NFp-xT6QDReDdGNwgjiHg3VkcII4iYV3YWt1MgM --storenode=/ip4/172.18.33.211/tcp/14471/p2p/16Uiu2HAmPgQKJPQkBHABWSMdN6MZkxvQbbd9EQWRXW4oEJRnD4UW --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.146.249 waku d96937b9e3ae8899385dc569fb61f9173174e3c9a773a5cad657b98421ade018
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d96937b9e3ae. Setting up logs at ./log/docker/store_node1_2024-11-16_04-38-08__dc8bb919-ea86-46ba-9dd3-266037c3c6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 16117
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16117/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16117/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.249/tcp/16118/p2p/16Uiu2HAmPne9D97rcTeV2w5Af8zdpskfkbETi5NNjwiLQasLT2rk","/ip4/172.18.146.249/tcp/16119/ws/p2p/16Uiu2HAmPne9D97rcTeV2w5Af8zdpskfkbETi5NNjwiLQasLT2rk"],"enrUri":"enr:-L24QPV-SB6prP8qh8BO7WcTUMkfnlXajl9OnBMaOndnwsyDRHGSNHYvcV7JX1wO33XXDomrpzQOllg4Fg5u3unA15YCgmlkgnY0gmlwhKwSkvmKbXVsdGlhZGRyc5YACASsEpL5Bj72AAoErBKS-QY-990DgnJzhQADAQAAiXNlY3AyNTZrMaEDpWZaZJB62sc5iV0tfIwWVpynOkHJpRHg8uh5khfFpqmDdGNwgj72g3VkcII--IV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16117/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.211/tcp/14471/p2p/16Uiu2HAmPgQKJPQkBHABWSMdN6MZkxvQbbd9EQWRXW4oEJRnD4UW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14470/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16117/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14470/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"+MmYK/6rFY3Q1wzeQe8TwTx/CQXza8ELYBdQ+8FaheE="},{"messageHash":"9PyGQuVBYqg8C30GyCSOJMENAiPQKG2sximFWfo2K3g="},{"messageHash":"yOuXMY7gQ+mNwiHlRmJgyfxki+9w93xfMDDTFyLlIoY="},{"messageHash":"n9OV7qpwVCThNrK59eU1M/XWVIkdmk04EUs+6t0o4Jg="},{"messageHash":"C4XQFHhXkZwNGfczEJUajxXDL9VcSKBH9yLkImTomzY="}],"paginationCursor":"C4XQFHhXkZwNGfczEJUajxXDL9VcSKBH9yLkImTomzY="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16117/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"+MmYK/6rFY3Q1wzeQe8TwTx/CQXza8ELYBdQ+8FaheE="},{"messageHash":"9PyGQuVBYqg8C30GyCSOJMENAiPQKG2sximFWfo2K3g="},{"messageHash":"yOuXMY7gQ+mNwiHlRmJgyfxki+9w93xfMDDTFyLlIoY="},{"messageHash":"n9OV7qpwVCThNrK59eU1M/XWVIkdmk04EUs+6t0o4Jg="},{"messageHash":"C4XQFHhXkZwNGfczEJUajxXDL9VcSKBH9yLkImTomzY="}],"paginationCursor":"C4XQFHhXkZwNGfczEJUajxXDL9VcSKBH9yLkImTomzY="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id fbab75f8d149
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id d96937b9e3ae
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fbab75f8d149. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.