[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-16_04-10-31__f4596f79-fb1a-436d-8882-5c308ff360c7
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-16_04-10-31__f4596f79-fb1a-436d-8882-5c308ff360c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.70.140
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34823', '34824', '34825', '34826', '34827']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34823:34823 -p 34824:34824 -p 34825:34825 -p 34826:34826 -p 34827:34827 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34825 --rest-port=34823 --tcp-port=34824 --discv5-udp-port=34826 --rest-address=0.0.0.0 --nat=extip:172.18.70.140 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be65fb2c7730dd45c7b86dc66e0c0edd998b165f0c67aca33ee1cebbdeabac8c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34827 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.70.140 waku 45ef533fa9921daac9592cff7e9a587b379a04cffd5ae410ba05d8effbb618a6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 45ef533fa992. Setting up logs at ./log/docker/node1_2024-11-16_04-10-31__f4596f79-fb1a-436d-8882-5c308ff360c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 34823
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 75850d2f99e6. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34823/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34823/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.70.140/tcp/34824/p2p/16Uiu2HAm3o3qYTAJBgAuinTezV2mKpubvYtea56Ly5pwEBR4Cc6p","/ip4/172.18.70.140/tcp/34825/ws/p2p/16Uiu2HAm3o3qYTAJBgAuinTezV2mKpubvYtea56Ly5pwEBR4Cc6p"],"enrUri":"enr:-L24QGEpha3i3nNvfOELNgoj-xWhC4B9FpW0IsqS3yFrfLQLUqkaYJPk8-gO8U75P8-mM6wBAF7JOwyN-2L-ns6ngx4CgmlkgnY0gmlwhKwSRoyKbXVsdGlhZGRyc5YACASsEkaMBogIAAoErBJGjAaICd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfFdoM7mBSQL82-Wk8F0oA1LlxM32EYQREr1KvL0sPiWDdGNwgogIg3VkcIKICoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-16_04-10-31__f4596f79-fb1a-436d-8882-5c308ff360c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.170.27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58015', '58016', '58017', '58018', '58019']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58015:58015 -p 58016:58016 -p 58017:58017 -p 58018:58018 -p 58019:58019 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58017 --rest-port=58015 --tcp-port=58016 --discv5-udp-port=58018 --rest-address=0.0.0.0 --nat=extip:172.18.170.27 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0db2cf2ebec93d4cf2f407cfc31cc8bd2a8ab9c2ca240b5aace167f1c3fc2b10 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58019 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGEpha3i3nNvfOELNgoj-xWhC4B9FpW0IsqS3yFrfLQLUqkaYJPk8-gO8U75P8-mM6wBAF7JOwyN-2L-ns6ngx4CgmlkgnY0gmlwhKwSRoyKbXVsdGlhZGRyc5YACASsEkaMBogIAAoErBJGjAaICd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfFdoM7mBSQL82-Wk8F0oA1LlxM32EYQREr1KvL0sPiWDdGNwgogIg3VkcIKICoV3YWt1MgU --filternode=/ip4/172.18.70.140/tcp/34824/p2p/16Uiu2HAm3o3qYTAJBgAuinTezV2mKpubvYtea56Ly5pwEBR4Cc6p
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.170.27 waku a74a40f2b33237aec6a93fc99472c2c09573b4dbfd55ae2b889a185a9eb293d1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a74a40f2b332. Setting up logs at ./log/docker/node2_2024-11-16_04-10-31__f4596f79-fb1a-436d-8882-5c308ff360c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 58015
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58015/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58015/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.170.27/tcp/58016/p2p/16Uiu2HAmFjs891jqthhgktvH2fMUsz9gEuxP2GTjapyUjgx5Qo7m","/ip4/172.18.170.27/tcp/58017/ws/p2p/16Uiu2HAmFjs891jqthhgktvH2fMUsz9gEuxP2GTjapyUjgx5Qo7m"],"enrUri":"enr:-L24QHot8ikcr9oVtEe41QKqRj76SZvCVrCylqYSROJ5NvSyUN_veYHuTFjTJKjuN_9QYJkCurNZxVBnaVYWM4vCORgCgmlkgnY0gmlwhKwSqhuKbXVsdGlhZGRyc5YACASsEqobBuKgAAoErBKqGwbiod0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLdLLJF4kghAQUpi8O8hxGeKrPWv2QF64vs6mGuM97PiDdGNwguKgg3VkcILiooV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58015/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.70.140/tcp/34824/p2p/16Uiu2HAm3o3qYTAJBgAuinTezV2mKpubvYtea56Ly5pwEBR4Cc6p"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-16_04-10-31__f4596f79-fb1a-436d-8882-5c308ff360c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.155.156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49650', '49651', '49652', '49653', '49654']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49650:49650 -p 49651:49651 -p 49652:49652 -p 49653:49653 -p 49654:49654 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49652 --rest-port=49650 --tcp-port=49651 --discv5-udp-port=49653 --rest-address=0.0.0.0 --nat=extip:172.18.155.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfe8c1dd77d1fdb51b0abfe8f5f6ce2b71cbae8c64af8e96b2895d449e2a7fec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49654 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGEpha3i3nNvfOELNgoj-xWhC4B9FpW0IsqS3yFrfLQLUqkaYJPk8-gO8U75P8-mM6wBAF7JOwyN-2L-ns6ngx4CgmlkgnY0gmlwhKwSRoyKbXVsdGlhZGRyc5YACASsEkaMBogIAAoErBJGjAaICd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfFdoM7mBSQL82-Wk8F0oA1LlxM32EYQREr1KvL0sPiWDdGNwgogIg3VkcIKICoV3YWt1MgU --filternode=/ip4/172.18.70.140/tcp/34824/p2p/16Uiu2HAm3o3qYTAJBgAuinTezV2mKpubvYtea56Ly5pwEBR4Cc6p
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.155.156 waku 68864d65c2b79f1ed67cb31d8834c1a5492d0ab3aecf1e60015232baa0c7e79e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 68864d65c2b7. Setting up logs at ./log/docker/node3_2024-11-16_04-10-31__f4596f79-fb1a-436d-8882-5c308ff360c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 49650
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49650/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49650/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.156/tcp/49651/p2p/16Uiu2HAm7av1xtKbgVF9YdhBp4LQF9EiV4kKWFmrgoDvMV5XvS8a","/ip4/172.18.155.156/tcp/49652/ws/p2p/16Uiu2HAm7av1xtKbgVF9YdhBp4LQF9EiV4kKWFmrgoDvMV5XvS8a"],"enrUri":"enr:-L24QA8fJQR8Lf9v_f9rJ_mWwQGHfUQ2wk_3BEy3QTN9SSroKrs6uCFpT1kgZWSbHTCos3zI2SYps1KkAxZ7l8YZu2ECgmlkgnY0gmlwhKwSm5yKbXVsdGlhZGRyc5YACASsEpucBsHzAAoErBKbnAbB9N0DgnJzhQADAQAAiXNlY3AyNTZrMaECtKpXspFuDi90m0cByBaDz-EuURB4btRmpco25RJm4OODdGNwgsHzg3VkcILB9YV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49650/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.70.140/tcp/34824/p2p/16Uiu2HAm3o3qYTAJBgAuinTezV2mKpubvYtea56Ly5pwEBR4Cc6p"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-16_04-10-31__f4596f79-fb1a-436d-8882-5c308ff360c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.31.1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19403', '19404', '19405', '19406', '19407']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19403:19403 -p 19404:19404 -p 19405:19405 -p 19406:19406 -p 19407:19407 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19405 --rest-port=19403 --tcp-port=19404 --discv5-udp-port=19406 --rest-address=0.0.0.0 --nat=extip:172.18.31.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a85cbb838af5e02dcabdf1ff5c8693fefdeec7fa1d3373bffc23dea26c5aaec5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19407 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGEpha3i3nNvfOELNgoj-xWhC4B9FpW0IsqS3yFrfLQLUqkaYJPk8-gO8U75P8-mM6wBAF7JOwyN-2L-ns6ngx4CgmlkgnY0gmlwhKwSRoyKbXVsdGlhZGRyc5YACASsEkaMBogIAAoErBJGjAaICd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfFdoM7mBSQL82-Wk8F0oA1LlxM32EYQREr1KvL0sPiWDdGNwgogIg3VkcIKICoV3YWt1MgU --filternode=/ip4/172.18.70.140/tcp/34824/p2p/16Uiu2HAm3o3qYTAJBgAuinTezV2mKpubvYtea56Ly5pwEBR4Cc6p
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.31.1 waku df2b678df5995ab4c4b970a44fb9d47ab29130d7202db307ac176709217212f7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID df2b678df599. Setting up logs at ./log/docker/node4_2024-11-16_04-10-31__f4596f79-fb1a-436d-8882-5c308ff360c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 19403
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19403/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19403/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.31.1/tcp/19404/p2p/16Uiu2HAmBybQriuTRY1zjmxhgDdXEyNRwh3JLZaQw2ECbR5LQpPw","/ip4/172.18.31.1/tcp/19405/ws/p2p/16Uiu2HAmBybQriuTRY1zjmxhgDdXEyNRwh3JLZaQw2ECbR5LQpPw"],"enrUri":"enr:-L24QFRnmrB3hN31xJriApVA44byMMktTha_OBHB-11zGSIXbsqIzgMBrDstnwqBdYeF3zj-sgSXK17jfgBlzSPPM6UCgmlkgnY0gmlwhKwSHwGKbXVsdGlhZGRyc5YACASsEh8BBkvMAAoErBIfAQZLzd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9ehpbWIxQmFkETY3dpeJg7wfa9I-b6shLyO76n5YkxaDdGNwgkvMg3VkcIJLzoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19403/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.70.140/tcp/34824/p2p/16Uiu2HAm3o3qYTAJBgAuinTezV2mKpubvYtea56Ly5pwEBR4Cc6p"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-16_04-10-31__f4596f79-fb1a-436d-8882-5c308ff360c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.5.243
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31065', '31066', '31067', '31068', '31069']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31065:31065 -p 31066:31066 -p 31067:31067 -p 31068:31068 -p 31069:31069 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31067 --rest-port=31065 --tcp-port=31066 --discv5-udp-port=31068 --rest-address=0.0.0.0 --nat=extip:172.18.5.243 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9ebfab0b5bfab2ffe155a4fe8a86163178f0bccf094e498afe12f982ced9674f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31069 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGEpha3i3nNvfOELNgoj-xWhC4B9FpW0IsqS3yFrfLQLUqkaYJPk8-gO8U75P8-mM6wBAF7JOwyN-2L-ns6ngx4CgmlkgnY0gmlwhKwSRoyKbXVsdGlhZGRyc5YACASsEkaMBogIAAoErBJGjAaICd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfFdoM7mBSQL82-Wk8F0oA1LlxM32EYQREr1KvL0sPiWDdGNwgogIg3VkcIKICoV3YWt1MgU --filternode=/ip4/172.18.70.140/tcp/34824/p2p/16Uiu2HAm3o3qYTAJBgAuinTezV2mKpubvYtea56Ly5pwEBR4Cc6p
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.5.243 waku f58844907f2c5c9c9ba802c37a760ece0f74fdfc98fe4d95b0fc47dc078396f0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f58844907f2c. Setting up logs at ./log/docker/node5_2024-11-16_04-10-31__f4596f79-fb1a-436d-8882-5c308ff360c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 31065
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31065/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31065/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.243/tcp/31066/p2p/16Uiu2HAm6mt7UaY3SDzMxfni8oDW118bhTe8WF1DEx9oBn6ehgz4","/ip4/172.18.5.243/tcp/31067/ws/p2p/16Uiu2HAm6mt7UaY3SDzMxfni8oDW118bhTe8WF1DEx9oBn6ehgz4"],"enrUri":"enr:-L24QHvqc31qxHFYOVUGq0BPF2dGpucBwLMSGdcX9u3uMyCqMiME4XGboagnRyXjG42ArRB9nWxYFvSWJNz-7NcB1xICgmlkgnY0gmlwhKwSBfOKbXVsdGlhZGRyc5YACASsEgXzBnlaAAoErBIF8wZ5W90DgnJzhQADAQAAiXNlY3AyNTZrMaECqJ3j_a-Vx5i3uSEyoKpDYLDCGNPHfGDIOgKvMCnlV1mDdGNwgnlag3VkcIJ5XIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31065/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.70.140/tcp/34824/p2p/16Uiu2HAm3o3qYTAJBgAuinTezV2mKpubvYtea56Ly5pwEBR4Cc6p"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34823/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58015/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a412232f-00e4-43b8-9ed1-955c343036d0", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a412232f-00e4-43b8-9ed1-955c343036d0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49650/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6190e904-727c-40f2-96ed-80d0703aca1e", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6190e904-727c-40f2-96ed-80d0703aca1e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19403/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1d5ce378-4d22-45cd-a036-e7a06def76ad", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1d5ce378-4d22-45cd-a036-e7a06def76ad","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31065/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a9ca5fbe-ff97-42d2-ace2-69dad16f339b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a9ca5fbe-ff97-42d2-ace2-69dad16f339b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34823/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58015/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731730240423825408,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34823/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49650/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:49650/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 45ef533fa992
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id a74a40f2b332
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 45ef533fa992. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 68864d65c2b7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a74a40f2b332. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id df2b678df599
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 68864d65c2b7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f58844907f2c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container df2b678df599. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.