[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-11-16_04-19-00__ccf83e20-ba61-4512-a740-45f1e728a600
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-16_04-19-00__ccf83e20-ba61-4512-a740-45f1e728a600__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.111.144
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55469', '55470', '55471', '55472', '55473']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55469:55469 -p 55470:55470 -p 55471:55471 -p 55472:55472 -p 55473:55473 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55471 --rest-port=55469 --tcp-port=55470 --discv5-udp-port=55472 --rest-address=0.0.0.0 --nat=extip:172.18.111.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c59dd75288a20aa709e583f0f79db7ff317cd18159fec985a6be7a4ababdca69 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55473 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.111.144 waku 1c9c1fa58fe48115c8cee7920befaa187cfe123797b50ee986f8aac6034982c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1c9c1fa58fe4. Setting up logs at ./log/docker/node1_2024-11-16_04-19-00__ccf83e20-ba61-4512-a740-45f1e728a600__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 55469
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1459ec8a82b3. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55469/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55469/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.144/tcp/55470/p2p/16Uiu2HAm6fcp9Lszo2TxyZzH1qA5GTDQz34EbHe9om4vL4NPgorG","/ip4/172.18.111.144/tcp/55471/ws/p2p/16Uiu2HAm6fcp9Lszo2TxyZzH1qA5GTDQz34EbHe9om4vL4NPgorG"],"enrUri":"enr:-L24QJXlbjrv9LFYC-IG1caPvoimEDQR04t5JiC5OAhR5dfyEEAPN5H-VApMw6xNHb-ucDuZd59MlebPF9Hs3OCSaWUCgmlkgnY0gmlwhKwSb5CKbXVsdGlhZGRyc5YACASsEm-QBtiuAAoErBJvkAbYr90DgnJzhQADAQAAiXNlY3AyNTZrMaECpwMbeC-wBBWsqMHR_Q1BrkNCp2jfuH5dansxYOrepnmDdGNwgtiug3VkcILYsIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-16_04-19-00__ccf83e20-ba61-4512-a740-45f1e728a600__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.169.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36129', '36130', '36131', '36132', '36133']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36129:36129 -p 36130:36130 -p 36131:36131 -p 36132:36132 -p 36133:36133 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36131 --rest-port=36129 --tcp-port=36130 --discv5-udp-port=36132 --rest-address=0.0.0.0 --nat=extip:172.18.169.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=629bfd18fc6aecf1f20d1d91deac59c2f1d07da4b4b29ebdde7d6c1c8aa9429c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36133 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJXlbjrv9LFYC-IG1caPvoimEDQR04t5JiC5OAhR5dfyEEAPN5H-VApMw6xNHb-ucDuZd59MlebPF9Hs3OCSaWUCgmlkgnY0gmlwhKwSb5CKbXVsdGlhZGRyc5YACASsEm-QBtiuAAoErBJvkAbYr90DgnJzhQADAQAAiXNlY3AyNTZrMaECpwMbeC-wBBWsqMHR_Q1BrkNCp2jfuH5dansxYOrepnmDdGNwgtiug3VkcILYsIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.169.167 waku 8fa0331c85ea2a411a68561b5521395c2b3245bbbf203cc944154ae2d53d38e6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8fa0331c85ea. Setting up logs at ./log/docker/node2_2024-11-16_04-19-00__ccf83e20-ba61-4512-a740-45f1e728a600__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 36129
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36129/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36129/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.169.167/tcp/36130/p2p/16Uiu2HAm4L8Y8bkuhGqHcNBb1znjrCPeGEiGNbrngYdon2gjyZsK","/ip4/172.18.169.167/tcp/36131/ws/p2p/16Uiu2HAm4L8Y8bkuhGqHcNBb1znjrCPeGEiGNbrngYdon2gjyZsK"],"enrUri":"enr:-L24QNl9CSWrH97bDJSPW1kSrNOTqN_8jcmN_6cE7PTql_IeMNCdqmb-VTZ7Ammchcs8xGkfiXjZ0p92dGUxC6pBFQkCgmlkgnY0gmlwhKwSqaeKbXVsdGlhZGRyc5YACASsEqmnBo0iAAoErBKppwaNI90DgnJzhQADAQAAiXNlY3AyNTZrMaEChE256Mv_abos_Sas3Cui3I-hwsjHplfzFuHZ8HKbkWaDdGNwgo0ig3VkcIKNJIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36129/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.144/tcp/55470/p2p/16Uiu2HAm6fcp9Lszo2TxyZzH1qA5GTDQz34EbHe9om4vL4NPgorG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-16_04-19-00__ccf83e20-ba61-4512-a740-45f1e728a600__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.176.212
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61397', '61398', '61399', '61400', '61401']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61397:61397 -p 61398:61398 -p 61399:61399 -p 61400:61400 -p 61401:61401 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61399 --rest-port=61397 --tcp-port=61398 --discv5-udp-port=61400 --rest-address=0.0.0.0 --nat=extip:172.18.176.212 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe33c400ac74f6e4c61a3510e9f6cbb781f31c4ff0684d7b52cec3adacc8af6d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61401 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJXlbjrv9LFYC-IG1caPvoimEDQR04t5JiC5OAhR5dfyEEAPN5H-VApMw6xNHb-ucDuZd59MlebPF9Hs3OCSaWUCgmlkgnY0gmlwhKwSb5CKbXVsdGlhZGRyc5YACASsEm-QBtiuAAoErBJvkAbYr90DgnJzhQADAQAAiXNlY3AyNTZrMaECpwMbeC-wBBWsqMHR_Q1BrkNCp2jfuH5dansxYOrepnmDdGNwgtiug3VkcILYsIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.176.212 waku 6c2d1c525238de2346967df0366d3a311b37d6d8fed934f135fbfacf1bd7a78b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6c2d1c525238. Setting up logs at ./log/docker/node3_2024-11-16_04-19-00__ccf83e20-ba61-4512-a740-45f1e728a600__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 61397
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61397/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61397/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.176.212/tcp/61398/p2p/16Uiu2HAmTYa2PUSmJ1QqWhBu2JNNnEWbtZbwd3FXH7DdbKwM3rt5","/ip4/172.18.176.212/tcp/61399/ws/p2p/16Uiu2HAmTYa2PUSmJ1QqWhBu2JNNnEWbtZbwd3FXH7DdbKwM3rt5"],"enrUri":"enr:-L24QPUEOIwDLW9eFwV4xReVKe_ieJVaL1_XNHreZWmuM7zTOd42UUEa1H3pRZPAB-FDsZ01SLhfI7HXNJUwR5yEXGECgmlkgnY0gmlwhKwSsNSKbXVsdGlhZGRyc5YACASsErDUBu_WAAoErBKw1Abv190DgnJzhQADAQAAiXNlY3AyNTZrMaED3TpQTKt0HOQq95_Y9yOYlpd_MTC2yCPgWNrKB2WwgkaDdGNwgu_Wg3VkcILv2IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61397/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.144/tcp/55470/p2p/16Uiu2HAm6fcp9Lszo2TxyZzH1qA5GTDQz34EbHe9om4vL4NPgorG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-16_04-19-00__ccf83e20-ba61-4512-a740-45f1e728a600__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.238.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61926', '61927', '61928', '61929', '61930']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61926:61926 -p 61927:61927 -p 61928:61928 -p 61929:61929 -p 61930:61930 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61928 --rest-port=61926 --tcp-port=61927 --discv5-udp-port=61929 --rest-address=0.0.0.0 --nat=extip:172.18.238.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebb7deafb2cf7febccecae5cdb1e4ed354e454e1dd525df553e22da041bffec3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61930 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJXlbjrv9LFYC-IG1caPvoimEDQR04t5JiC5OAhR5dfyEEAPN5H-VApMw6xNHb-ucDuZd59MlebPF9Hs3OCSaWUCgmlkgnY0gmlwhKwSb5CKbXVsdGlhZGRyc5YACASsEm-QBtiuAAoErBJvkAbYr90DgnJzhQADAQAAiXNlY3AyNTZrMaECpwMbeC-wBBWsqMHR_Q1BrkNCp2jfuH5dansxYOrepnmDdGNwgtiug3VkcILYsIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.238.49 waku a24a7404dbdbbd073e831bce06587ab488f133b9564ec5611fa600421a2bba86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a24a7404dbdb. Setting up logs at ./log/docker/node4_2024-11-16_04-19-00__ccf83e20-ba61-4512-a740-45f1e728a600__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 61926
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61926/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61926/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.49/tcp/61927/p2p/16Uiu2HAmS7AS1tB7m4vYE6BamvaHbXiFpcd5YYnm23Cabg1kEJtD","/ip4/172.18.238.49/tcp/61928/ws/p2p/16Uiu2HAmS7AS1tB7m4vYE6BamvaHbXiFpcd5YYnm23Cabg1kEJtD"],"enrUri":"enr:-L24QKBWc_w5dOQubj5f-lrYaAFc8TlkkjirUJdbihLpq-KpSSekKk6m4CczY1NUI2dSLFB6jVZIHKf648ey54qulg4CgmlkgnY0gmlwhKwS7jGKbXVsdGlhZGRyc5YACASsEu4xBvHnAAoErBLuMQbx6N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDx9xuJOP90XMlWcReooM_rtA--bR9je6JavLxQLQ0uHaDdGNwgvHng3VkcILx6YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61926/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.144/tcp/55470/p2p/16Uiu2HAm6fcp9Lszo2TxyZzH1qA5GTDQz34EbHe9om4vL4NPgorG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-16_04-19-00__ccf83e20-ba61-4512-a740-45f1e728a600__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.22.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20842', '20843', '20844', '20845', '20846']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20842:20842 -p 20843:20843 -p 20844:20844 -p 20845:20845 -p 20846:20846 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20844 --rest-port=20842 --tcp-port=20843 --discv5-udp-port=20845 --rest-address=0.0.0.0 --nat=extip:172.18.22.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f2bfa302fad2ddf071bd3e8ce79ed076aafeb641cfe9ef735ead34dfd7a4d7ce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20846 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJXlbjrv9LFYC-IG1caPvoimEDQR04t5JiC5OAhR5dfyEEAPN5H-VApMw6xNHb-ucDuZd59MlebPF9Hs3OCSaWUCgmlkgnY0gmlwhKwSb5CKbXVsdGlhZGRyc5YACASsEm-QBtiuAAoErBJvkAbYr90DgnJzhQADAQAAiXNlY3AyNTZrMaECpwMbeC-wBBWsqMHR_Q1BrkNCp2jfuH5dansxYOrepnmDdGNwgtiug3VkcILYsIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.22.225 waku 596a971849450d5366252f4ddd1c012c07969c513ff2cc2f6d5a893fb3d7a6be
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 596a97184945. Setting up logs at ./log/docker/node5_2024-11-16_04-19-00__ccf83e20-ba61-4512-a740-45f1e728a600__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 20842
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20842/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20842/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.225/tcp/20843/p2p/16Uiu2HAm26WLTwMy1N2wFDHMBgbAVcGfbxyjBJBMDJLryYkNSBv1","/ip4/172.18.22.225/tcp/20844/ws/p2p/16Uiu2HAm26WLTwMy1N2wFDHMBgbAVcGfbxyjBJBMDJLryYkNSBv1"],"enrUri":"enr:-L24QGs4TXKO-QYWRVEy62pKqzHjIToSihdKVEFMV3r-V2baRpUnaNvooU1wefiam-wNZoqntJWULvKBioYIYz1IhawCgmlkgnY0gmlwhKwSFuGKbXVsdGlhZGRyc5YACASsEhbhBlFrAAoErBIW4QZRbN0DgnJzhQADAQAAiXNlY3AyNTZrMaECYxjee1F8uxSYj2OZG_znO5icz8CFp8-nRQJDIDALgkKDdGNwglFrg3VkcIJRbYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20842/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.144/tcp/55470/p2p/16Uiu2HAm6fcp9Lszo2TxyZzH1qA5GTDQz34EbHe9om4vL4NPgorG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55469/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36129/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61397/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61926/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20842/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730749127022336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36129/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730749127022336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61397/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730749127022336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61926/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730749127022336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730749127022336,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730749268904960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36129/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730749268904960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61397/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730749268904960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61926/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730749268904960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730749268904960,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8fa0331c85ea
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61397/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730751507221504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61926/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730751507221504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731730751507221504,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 1c9c1fa58fe4
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8fa0331c85ea. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 6c2d1c525238
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1c9c1fa58fe4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id a24a7404dbdb
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6c2d1c525238. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 596a97184945
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a24a7404dbdb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.