[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_subscribed_peer with id: 2024-08-26_14-49-34__333a1fe4-9671-420d-8ff2-63a6133f8468
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-26_14-49-34__333a1fe4-9671-420d-8ff2-63a6133f8468__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.253.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38677', '38678', '38679', '38680', '38681']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38677:38677 -p 38678:38678 -p 38679:38679 -p 38680:38680 -p 38681:38681 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38679 --rest-port=38677 --tcp-port=38678 --discv5-udp-port=38680 --rest-address=0.0.0.0 --nat=extip:172.18.253.29 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=64ace91ccaf745f9f99af43b3adb918bd73dda5ee26eabcda5df87ccf54effad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38681 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.253.29 waku 9befd370c88b544c43f09e39087364768cd1fc7e8b9aec3c54a9ed0958fb42ba
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9befd370c88b. Setting up logs at ./log/docker/node1_2024-08-26_14-49-34__333a1fe4-9671-420d-8ff2-63a6133f8468__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38677
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38677/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38677/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.29/tcp/38678/p2p/16Uiu2HAmDhHYTGb62ay1TEubmBh7EDHUQF7vuUbXqk6NAKr6tN9Z","/ip4/172.18.253.29/tcp/38679/ws/p2p/16Uiu2HAmDhHYTGb62ay1TEubmBh7EDHUQF7vuUbXqk6NAKr6tN9Z"],"enrUri":"enr:-LO4QE_SYpjp9fRZzAq9MjCoe8x-u2EMqcAHe4lT23gKTQiPDYSxqiNm_w0YNxXA3gCzrVqFo2ieH_IhYAbCtzZKjTUBgmlkgnY0gmlwhKwS_R2KbXVsdGlhZGRyc4wACgSsEv0dBpcX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMPcknDyt8KY4feGYcfhjZ0b1FYHHKU66au6N_e_PrCzIN0Y3CClxaDdWRwgpcYhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-26_14-49-34__333a1fe4-9671-420d-8ff2-63a6133f8468__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.58.172
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['17203', '17204', '17205', '17206', '17207']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 17203:17203 -p 17204:17204 -p 17205:17205 -p 17206:17206 -p 17207:17207 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17205 --rest-port=17203 --tcp-port=17204 --discv5-udp-port=17206 --rest-address=0.0.0.0 --nat=extip:172.18.58.172 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=54adf1638cff92fb0536bbe08d13aaff886edcdade2b5a65e6e5d9f80b2e0a6a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17207 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QE_SYpjp9fRZzAq9MjCoe8x-u2EMqcAHe4lT23gKTQiPDYSxqiNm_w0YNxXA3gCzrVqFo2ieH_IhYAbCtzZKjTUBgmlkgnY0gmlwhKwS_R2KbXVsdGlhZGRyc4wACgSsEv0dBpcX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMPcknDyt8KY4feGYcfhjZ0b1FYHHKU66au6N_e_PrCzIN0Y3CClxaDdWRwgpcYhXdha3UyBQ --filternode=/ip4/172.18.253.29/tcp/38678/p2p/16Uiu2HAmDhHYTGb62ay1TEubmBh7EDHUQF7vuUbXqk6NAKr6tN9Z
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.58.172 waku 5bea31fede9005e4d116961913767d6e1e9ae5dbb28ee7cd74597c577b7d8d74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5bea31fede90. Setting up logs at ./log/docker/node2_2024-08-26_14-49-34__333a1fe4-9671-420d-8ff2-63a6133f8468__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 17203
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17203/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17203/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.58.172/tcp/17204/p2p/16Uiu2HAkzf65dGsqFNw5deDPKRsxQ3BB6hJNADbVL2QSgihuZykQ","/ip4/172.18.58.172/tcp/17205/ws/p2p/16Uiu2HAkzf65dGsqFNw5deDPKRsxQ3BB6hJNADbVL2QSgihuZykQ"],"enrUri":"enr:-LO4QA3ikOBz-b9uxlHF-KKX8AQYxec3-NYp_2GnE9JEqeEQeRGjUfsmzzVZLVpON28QrUJj-n9BpqRy2mEnZFWXvfgBgmlkgnY0gmlwhKwSOqyKbXVsdGlhZGRyc4wACgSsEjqsBkM13QOCcnOFAAMBAACJc2VjcDI1NmsxoQJNujxZvGLVFDv1iBlO6M92BSaLX17qfniGb9pNU-mbtYN0Y3CCQzSDdWRwgkM2hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17203/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.253.29/tcp/38678/p2p/16Uiu2HAmDhHYTGb62ay1TEubmBh7EDHUQF7vuUbXqk6NAKr6tN9Z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38677/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17203/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d404385a-7579-45b6-be28-9ad5e8aa6890", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d404385a-7579-45b6-be28-9ad5e8aa6890","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17203/filter/v2/subscriptions/55c20bb0-db1c-4733-8da6-68b89ef31f50" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"55c20bb0-db1c-4733-8da6-68b89ef31f50","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9befd370c88b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5bea31fede90
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.