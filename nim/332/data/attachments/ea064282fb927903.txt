[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.77.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3171', '3172', '3173', '3174', '3175']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3171:3171 -p 3172:3172 -p 3173:3173 -p 3174:3174 -p 3175:3175 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3173 --rest-port=3171 --tcp-port=3172 --discv5-udp-port=3174 --rest-address=0.0.0.0 --nat=extip:172.18.77.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=939eb7eeec5db8fe03ea8b7efbcaf326beddc6210bfc759705da62a9fd6bfeee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3175 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.77.167 waku 0877eff00a5c93b88c91124899e39c919e340dab4b180da86248f85ad64e4ecc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0877eff00a5c. Setting up logs at ./log/docker/node1_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3171
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3171/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3171/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq","/ip4/172.18.77.167/tcp/3173/ws/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq"],"enrUri":"enr:-LO4QJuHd4u7Yn0Pv-zs8c90n69ofaM8GSfOktfGRGUmnLbrR88tzV_xWElXmAR_QXQHeaUxDuWPY1QPEgn2XmNjuIMBgmlkgnY0gmlwhKwSTaeKbXVsdGlhZGRyc4wACgSsEk2nBgxl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIFhKUBpzUGpJajn3OOxtEbp0GenhJpvJxH-sBw4QFuAoN0Y3CCDGSDdWRwggxmhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.36.119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59820', '59821', '59822', '59823', '59824']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59820:59820 -p 59821:59821 -p 59822:59822 -p 59823:59823 -p 59824:59824 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59822 --rest-port=59820 --tcp-port=59821 --discv5-udp-port=59823 --rest-address=0.0.0.0 --nat=extip:172.18.36.119 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=26ffe1e02e2cfea4ab94501b441ca5e2e7eaca5aa7b7fe5b6edb5e2a1be2e2bc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59824 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJuHd4u7Yn0Pv-zs8c90n69ofaM8GSfOktfGRGUmnLbrR88tzV_xWElXmAR_QXQHeaUxDuWPY1QPEgn2XmNjuIMBgmlkgnY0gmlwhKwSTaeKbXVsdGlhZGRyc4wACgSsEk2nBgxl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIFhKUBpzUGpJajn3OOxtEbp0GenhJpvJxH-sBw4QFuAoN0Y3CCDGSDdWRwggxmhXdha3UyBQ --filternode=/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.36.119 waku b75a59a482af195cc35fc5a6a6198e13629a2c3d443beceff179c58347881659
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b75a59a482af. Setting up logs at ./log/docker/node2_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59820
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59820/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59820/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.36.119/tcp/59821/p2p/16Uiu2HAm3KdjSWG6nPzFnTE14bQLYwfK17mM6QGk3oHkXLWc9yhX","/ip4/172.18.36.119/tcp/59822/ws/p2p/16Uiu2HAm3KdjSWG6nPzFnTE14bQLYwfK17mM6QGk3oHkXLWc9yhX"],"enrUri":"enr:-LO4QLzWgPWT6fTZ2OFB45zAZgcrYbAmEK8fy7hsij7w_vjtGJsB3D7eBaIBAiHxf8wC0zm6QrEUXX4BmUV-MYMyLnwBgmlkgnY0gmlwhKwSJHeKbXVsdGlhZGRyc4wACgSsEiR3Bumu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ1UXgmpFcvzNN8cfPybRvUrPJsFemgm1mATEgwTg8LXoN0Y3CC6a2DdWRwgumvhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59820/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.91.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15685', '15686', '15687', '15688', '15689']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15685:15685 -p 15686:15686 -p 15687:15687 -p 15688:15688 -p 15689:15689 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15687 --rest-port=15685 --tcp-port=15686 --discv5-udp-port=15688 --rest-address=0.0.0.0 --nat=extip:172.18.91.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b0ba2a5a86fc8c8ca8cf5890ae1f1a52ec8daa6aaaa7893fd1936dceacbfe63b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15689 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJuHd4u7Yn0Pv-zs8c90n69ofaM8GSfOktfGRGUmnLbrR88tzV_xWElXmAR_QXQHeaUxDuWPY1QPEgn2XmNjuIMBgmlkgnY0gmlwhKwSTaeKbXVsdGlhZGRyc4wACgSsEk2nBgxl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIFhKUBpzUGpJajn3OOxtEbp0GenhJpvJxH-sBw4QFuAoN0Y3CCDGSDdWRwggxmhXdha3UyBQ --filternode=/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.91.225 waku c9c1114ae9e81f8fe89864e3dcf41accc6b37759b76d6f1f2464664b7fc596ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c9c1114ae9e8. Setting up logs at ./log/docker/node3_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15685
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15685/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15685/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.225/tcp/15686/p2p/16Uiu2HAmCCffdDGkb2Rgf6VgirHdXAiZHVigpeeVcFn4rF3ZH6Ku","/ip4/172.18.91.225/tcp/15687/ws/p2p/16Uiu2HAmCCffdDGkb2Rgf6VgirHdXAiZHVigpeeVcFn4rF3ZH6Ku"],"enrUri":"enr:-LO4QNArpvfCYh_i18FPY2ym5eMSjl7epyTgttcgb3jPJeRaT5Rx-NG7dqboR8_pXCBOsnSoe876KJwIQwqPiP8LACoBgmlkgnY0gmlwhKwSW-GKbXVsdGlhZGRyc4wACgSsElvhBj1H3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL5QcXl717nbMwBE73UR352j68Kvk7Lj4ulTN-wiBkUvIN0Y3CCPUaDdWRwgj1IhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15685/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.177.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['58359', '58360', '58361', '58362', '58363']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 58359:58359 -p 58360:58360 -p 58361:58361 -p 58362:58362 -p 58363:58363 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58361 --rest-port=58359 --tcp-port=58360 --discv5-udp-port=58362 --rest-address=0.0.0.0 --nat=extip:172.18.177.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0a3bcafbcbe6ec9f7bef3bd032ec40f74de09ad6a15ed5a0a81f5f831ccaffeb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58363 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJuHd4u7Yn0Pv-zs8c90n69ofaM8GSfOktfGRGUmnLbrR88tzV_xWElXmAR_QXQHeaUxDuWPY1QPEgn2XmNjuIMBgmlkgnY0gmlwhKwSTaeKbXVsdGlhZGRyc4wACgSsEk2nBgxl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIFhKUBpzUGpJajn3OOxtEbp0GenhJpvJxH-sBw4QFuAoN0Y3CCDGSDdWRwggxmhXdha3UyBQ --filternode=/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.177.17 waku 138dde2f6f6451c91dc177c965cf9db90a7d7f7d0f49ca6bb2a70df41269587e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 138dde2f6f64. Setting up logs at ./log/docker/node4_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 58359
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58359/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58359/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.17/tcp/58360/p2p/16Uiu2HAmVEsLA6V8SEaP98tpbo66bAWWcm8jcAooZTVnP6ghb42h","/ip4/172.18.177.17/tcp/58361/ws/p2p/16Uiu2HAmVEsLA6V8SEaP98tpbo66bAWWcm8jcAooZTVnP6ghb42h"],"enrUri":"enr:-LO4QMHyNbD0dy18Er8-Fn1NYyc9MuLfHvABlLsN7EFDjEUoOyF2f10qvAZn75j6LlmNSmtYwSW6moIbRjTffS12Q5sBgmlkgnY0gmlwhKwSsRGKbXVsdGlhZGRyc4wACgSsErERBuP53QOCcnOFAAMBAACJc2VjcDI1NmsxoQP2aM0kE58zR1baBUXKrY43ybGwgeLVihXLSzP_dM2qPoN0Y3CC4_iDdWRwguP6hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58359/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.204.216
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['46117', '46118', '46119', '46120', '46121']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 46117:46117 -p 46118:46118 -p 46119:46119 -p 46120:46120 -p 46121:46121 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46119 --rest-port=46117 --tcp-port=46118 --discv5-udp-port=46120 --rest-address=0.0.0.0 --nat=extip:172.18.204.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1efaa3beffabde64322eeaba2eb593b7ad190b3a3fa7fa74b72d51b2ed828300 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46121 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJuHd4u7Yn0Pv-zs8c90n69ofaM8GSfOktfGRGUmnLbrR88tzV_xWElXmAR_QXQHeaUxDuWPY1QPEgn2XmNjuIMBgmlkgnY0gmlwhKwSTaeKbXVsdGlhZGRyc4wACgSsEk2nBgxl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIFhKUBpzUGpJajn3OOxtEbp0GenhJpvJxH-sBw4QFuAoN0Y3CCDGSDdWRwggxmhXdha3UyBQ --filternode=/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.204.216 waku 64c7b19f54b0e1585caf32af7dc12687dab09b11a1c5fbd548792b096e8d3b19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 64c7b19f54b0. Setting up logs at ./log/docker/node5_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46117
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46117/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46117/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.204.216/tcp/46118/p2p/16Uiu2HAmBj1BhSCb64ymTYTpPvGdkTgNNzgTN28wJnTZ5Turfb1W","/ip4/172.18.204.216/tcp/46119/ws/p2p/16Uiu2HAmBj1BhSCb64ymTYTpPvGdkTgNNzgTN28wJnTZ5Turfb1W"],"enrUri":"enr:-LO4QBt_YFjOb463oRvkXTwaYkymCigzWBAlC7vbeLdOIxyhVe6JiMkOZQVcdbCEfv1aSzzKg5_wmeBd-p7NdX_Kc6gBgmlkgnY0gmlwhKwSzNiKbXVsdGlhZGRyc4wACgSsEszYBrQn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLyK5R8NSTLVpcjk-PfbbKNUsvu5mXSs6Z2MBhamYrx5YN0Y3CCtCaDdWRwgrQohXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46117/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3171/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59820/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4814b50d-3331-4240-b369-7e263b1554ac", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4814b50d-3331-4240-b369-7e263b1554ac","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15685/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ad0e2ebf-5650-4021-be24-4cd63e62c2c0", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ad0e2ebf-5650-4021-be24-4cd63e62c2c0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58359/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5cd24216-ba4e-4fed-921c-32958c7eee47", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5cd24216-ba4e-4fed-921c-32958c7eee47","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46117/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0058f794-7351-49fd-b5f9-a403131dcdad", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0058f794-7351-49fd-b5f9-a403131dcdad","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3171/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59820/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724683744280634880,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3171/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15685/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:15685/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0877eff00a5c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b75a59a482af
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c9c1114ae9e8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 138dde2f6f64
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 64c7b19f54b0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'error': ['DBG 2024-08-26 14:49:04.506+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=GET peer=172.17.0.1:45466 uri=/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto error_status="400 Bad Request" error_content_type=text/plain error_message="Not subscribed to topic: /test/1/waku-filter/proto"']
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-08-26_14-49-14__41dd5e22-553e-46ec-8c06-fe0cd62043da
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-26_14-49-14__41dd5e22-553e-46ec-8c06-fe0cd62043da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.5.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53287', '53288', '53289', '53290', '53291']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53287:53287 -p 53288:53288 -p 53289:53289 -p 53290:53290 -p 53291:53291 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53289 --rest-port=53287 --tcp-port=53288 --discv5-udp-port=53290 --rest-address=0.0.0.0 --nat=extip:172.18.5.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4ed8fcbaacca31443b3ece536fafa5cd88efadc4e9ea7a768addec5cc6fa6dee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53291 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.5.42 waku f20e48abf7c49dbb91218adf6fee1e8df1e350b5ecff6117a8457e5c63f9e128
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f20e48abf7c4. Setting up logs at ./log/docker/node1_2024-08-26_14-49-14__41dd5e22-553e-46ec-8c06-fe0cd62043da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53287
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53287/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53287/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.42/tcp/53288/p2p/16Uiu2HAmH2TocGYStHXf1Bajids6pSqB6Fx7mUqJvd7vSk5ShTQw","/ip4/172.18.5.42/tcp/53289/ws/p2p/16Uiu2HAmH2TocGYStHXf1Bajids6pSqB6Fx7mUqJvd7vSk5ShTQw"],"enrUri":"enr:-LO4QE8qLiFffYISoZOREZeVCIeXo2ADOl2ocqecNykiyDcaEFdxs0jIVbPwB5k65PWDbKVxUGX-JMP83y2_k1VPzx8BgmlkgnY0gmlwhKwSBSqKbXVsdGlhZGRyc4wACgSsEgUqBtAp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNA7vydlJuVn51Uabj6zWGlAnNcQfgFuKicXL93yrCapIN0Y3CC0CiDdWRwgtAqhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-26_14-49-14__41dd5e22-553e-46ec-8c06-fe0cd62043da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.241.114
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['25299', '25300', '25301', '25302', '25303']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 25299:25299 -p 25300:25300 -p 25301:25301 -p 25302:25302 -p 25303:25303 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25301 --rest-port=25299 --tcp-port=25300 --discv5-udp-port=25302 --rest-address=0.0.0.0 --nat=extip:172.18.241.114 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ba1b6b664ce922ccacd5b8650add1f1dc230da4ed9b6a9bdae9dd49d41a612ce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25303 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QE8qLiFffYISoZOREZeVCIeXo2ADOl2ocqecNykiyDcaEFdxs0jIVbPwB5k65PWDbKVxUGX-JMP83y2_k1VPzx8BgmlkgnY0gmlwhKwSBSqKbXVsdGlhZGRyc4wACgSsEgUqBtAp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNA7vydlJuVn51Uabj6zWGlAnNcQfgFuKicXL93yrCapIN0Y3CC0CiDdWRwgtAqhXdha3UyBQ --filternode=/ip4/172.18.5.42/tcp/53288/p2p/16Uiu2HAmH2TocGYStHXf1Bajids6pSqB6Fx7mUqJvd7vSk5ShTQw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.241.114 waku a0abb9f0c0d120fc767270ffcabee7f3cbe0b6f0ffb260e33ea470f0b155de3a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a0abb9f0c0d1. Setting up logs at ./log/docker/node2_2024-08-26_14-49-14__41dd5e22-553e-46ec-8c06-fe0cd62043da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 25299
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25299/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25299/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.114/tcp/25300/p2p/16Uiu2HAky3MCQAsM8my6NwFa7nme4dGAERvWKjNgZUTFLrgHxABX","/ip4/172.18.241.114/tcp/25301/ws/p2p/16Uiu2HAky3MCQAsM8my6NwFa7nme4dGAERvWKjNgZUTFLrgHxABX"],"enrUri":"enr:-LO4QDM2eerYf2hDRMWbhzJdpuKpzXEhN1d4QrfIi-tzFMlEO1-19_bcdfy9fd0Is0pVwWCYxO6yackvhAFkPupWHmsBgmlkgnY0gmlwhKwS8XKKbXVsdGlhZGRyc4wACgSsEvFyBmLV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI1trt4WY7WjLsjv7OkcjjZjR3Kc6f-FcXoELKh-Jq7XoN0Y3CCYtSDdWRwgmLWhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25299/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.5.42/tcp/53288/p2p/16Uiu2HAmH2TocGYStHXf1Bajids6pSqB6Fx7mUqJvd7vSk5ShTQw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-08-26_14-49-14__41dd5e22-553e-46ec-8c06-fe0cd62043da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.30.175
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3276', '3277', '3278', '3279', '3280']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3276:3276 -p 3277:3277 -p 3278:3278 -p 3279:3279 -p 3280:3280 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3278 --rest-port=3276 --tcp-port=3277 --discv5-udp-port=3279 --rest-address=0.0.0.0 --nat=extip:172.18.30.175 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef4927d6cdff2ad9d8defa6ad289bc95e72ee7e64bcbaee42bea9df4cd660d78 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3280 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QE8qLiFffYISoZOREZeVCIeXo2ADOl2ocqecNykiyDcaEFdxs0jIVbPwB5k65PWDbKVxUGX-JMP83y2_k1VPzx8BgmlkgnY0gmlwhKwSBSqKbXVsdGlhZGRyc4wACgSsEgUqBtAp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNA7vydlJuVn51Uabj6zWGlAnNcQfgFuKicXL93yrCapIN0Y3CC0CiDdWRwgtAqhXdha3UyBQ --filternode=/ip4/172.18.5.42/tcp/53288/p2p/16Uiu2HAmH2TocGYStHXf1Bajids6pSqB6Fx7mUqJvd7vSk5ShTQw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.30.175 waku 847e6437ff7981fb1b8fea9d0a75cecfa3a8fd357b021f86b5a5f3dbe24f87ab
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 847e6437ff79. Setting up logs at ./log/docker/node3_2024-08-26_14-49-14__41dd5e22-553e-46ec-8c06-fe0cd62043da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3276
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3276/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3276/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.175/tcp/3277/p2p/16Uiu2HAmLZ3woxZ1mAyW2XrMRgRnMcnRSthfsvnYZCNUx6Bjtwo1","/ip4/172.18.30.175/tcp/3278/ws/p2p/16Uiu2HAmLZ3woxZ1mAyW2XrMRgRnMcnRSthfsvnYZCNUx6Bjtwo1"],"enrUri":"enr:-LO4QNTCAtPCQyrrvaeuKZb0uhKx010OyzWW2t90CqwgPM7KCecqpQBO3NIu6o8oNg4pL0G_HDAUiUYLvyPpA46BwYcBgmlkgnY0gmlwhKwSHq-KbXVsdGlhZGRyc4wACgSsEh6vBgzO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN1WBNdQDUiOfBKIAeCEjZqSYXwHHdpw28GDI_dekrcnIN0Y3CCDM2DdWRwggzPhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3276/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.5.42/tcp/53288/p2p/16Uiu2HAmH2TocGYStHXf1Bajids6pSqB6Fx7mUqJvd7vSk5ShTQw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-08-26_14-49-14__41dd5e22-553e-46ec-8c06-fe0cd62043da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.153.40
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20823', '20824', '20825', '20826', '20827']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20823:20823 -p 20824:20824 -p 20825:20825 -p 20826:20826 -p 20827:20827 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20825 --rest-port=20823 --tcp-port=20824 --discv5-udp-port=20826 --rest-address=0.0.0.0 --nat=extip:172.18.153.40 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e4fdffd0c9ec76dbd2cd5deb04ebeebfd9a53b3ebd62b1f7b3a4eed2e632ef38 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20827 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QE8qLiFffYISoZOREZeVCIeXo2ADOl2ocqecNykiyDcaEFdxs0jIVbPwB5k65PWDbKVxUGX-JMP83y2_k1VPzx8BgmlkgnY0gmlwhKwSBSqKbXVsdGlhZGRyc4wACgSsEgUqBtAp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNA7vydlJuVn51Uabj6zWGlAnNcQfgFuKicXL93yrCapIN0Y3CC0CiDdWRwgtAqhXdha3UyBQ --filternode=/ip4/172.18.5.42/tcp/53288/p2p/16Uiu2HAmH2TocGYStHXf1Bajids6pSqB6Fx7mUqJvd7vSk5ShTQw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.153.40 waku 6604b4e9378d419e0edd06a12afa25e8644741e78827de2096dc40fb55be9fc1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6604b4e9378d. Setting up logs at ./log/docker/node4_2024-08-26_14-49-14__41dd5e22-553e-46ec-8c06-fe0cd62043da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20823
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20823/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20823/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.40/tcp/20824/p2p/16Uiu2HAm2ZEZk6Sn51qkn2zdiHHYHsSnCCh4rTX2xpSZJ3bgS61H","/ip4/172.18.153.40/tcp/20825/ws/p2p/16Uiu2HAm2ZEZk6Sn51qkn2zdiHHYHsSnCCh4rTX2xpSZJ3bgS61H"],"enrUri":"enr:-LO4QLmO8LgXM5rpUYhyXLmYBTg275y_m-_V08n92_LFY_HxDowy8uX_sV7vZM-P3pIK-ZlbUB3jt50AfZlU2VY9Ex0BgmlkgnY0gmlwhKwSmSiKbXVsdGlhZGRyc4wACgSsEpkoBlFZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJp8bfw-AV-8jqIgyqmXKgnpxvAT09GvUfKgbEmi15ZXIN0Y3CCUViDdWRwglFahXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20823/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.5.42/tcp/53288/p2p/16Uiu2HAmH2TocGYStHXf1Bajids6pSqB6Fx7mUqJvd7vSk5ShTQw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-08-26_14-49-14__41dd5e22-553e-46ec-8c06-fe0cd62043da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.146.160
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59820', '59821', '59822', '59823', '59824']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59820:59820 -p 59821:59821 -p 59822:59822 -p 59823:59823 -p 59824:59824 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59822 --rest-port=59820 --tcp-port=59821 --discv5-udp-port=59823 --rest-address=0.0.0.0 --nat=extip:172.18.146.160 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=22299f3fa50ecd8cfdd4bcbed057cc22a05b11cb6bfd4d0948c666fee67d0bb4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59824 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QE8qLiFffYISoZOREZeVCIeXo2ADOl2ocqecNykiyDcaEFdxs0jIVbPwB5k65PWDbKVxUGX-JMP83y2_k1VPzx8BgmlkgnY0gmlwhKwSBSqKbXVsdGlhZGRyc4wACgSsEgUqBtAp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNA7vydlJuVn51Uabj6zWGlAnNcQfgFuKicXL93yrCapIN0Y3CC0CiDdWRwgtAqhXdha3UyBQ --filternode=/ip4/172.18.5.42/tcp/53288/p2p/16Uiu2HAmH2TocGYStHXf1Bajids6pSqB6Fx7mUqJvd7vSk5ShTQw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.146.160 waku ed8477e901cbbb3bece130e57830197052c48119de47be48874264cfb56ef528
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ed8477e901cb. Setting up logs at ./log/docker/node5_2024-08-26_14-49-14__41dd5e22-553e-46ec-8c06-fe0cd62043da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59820
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59820/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59820/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.160/tcp/59821/p2p/16Uiu2HAmB7AXz2mFGo9geqpCryzrkQ9bHAC8h4WRVy9zjjmXfZQq","/ip4/172.18.146.160/tcp/59822/ws/p2p/16Uiu2HAmB7AXz2mFGo9geqpCryzrkQ9bHAC8h4WRVy9zjjmXfZQq"],"enrUri":"enr:-LO4QGcnOzJMuIkmFs1rEUwBe1uNbKScf-TVw90NBnaow_bTGS9LysLDKRVVs5NbEnooiEfd6oSmD6_R0D_roYUoDOsBgmlkgnY0gmlwhKwSkqCKbXVsdGlhZGRyc4wACgSsEpKgBumu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLo_T4ht79-P7r6JsSow7wod94eX0aAyGAfTPvL2nzTtoN0Y3CC6a2DdWRwgumvhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59820/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.5.42/tcp/53288/p2p/16Uiu2HAmH2TocGYStHXf1Bajids6pSqB6Fx7mUqJvd7vSk5ShTQw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53287/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25299/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1f1d4f83-8945-4094-b7cd-04889cb8b51a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1f1d4f83-8945-4094-b7cd-04889cb8b51a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3276/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "794119dd-150b-4de4-88a9-7856f688fcd7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"794119dd-150b-4de4-88a9-7856f688fcd7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20823/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f79d2c68-3acb-47f4-aa99-7421930e2ca6", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f79d2c68-3acb-47f4-aa99-7421930e2ca6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59820/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3e2e209e-abae-42ba-b613-9e74c7e302e3", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3e2e209e-abae-42ba-b613-9e74c7e302e3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53287/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25299/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724683762124100608,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53287/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3276/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:3276/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f20e48abf7c4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a0abb9f0c0d1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 847e6437ff79
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6604b4e9378d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ed8477e901cb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'error': ['DBG 2024-08-26 14:49:22.342+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=GET peer=172.17.0.1:55118 uri=/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto error_status="400 Bad Request" error_content_type=text/plain error_message="Not subscribed to topic: /test/1/waku-filter/proto"']
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-08-26_14-49-35__21fa2839-9c3b-4afd-acec-c51bed4003ce
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-26_14-49-35__21fa2839-9c3b-4afd-acec-c51bed4003ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.73.35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['23446', '23447', '23448', '23449', '23450']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 23446:23446 -p 23447:23447 -p 23448:23448 -p 23449:23449 -p 23450:23450 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23448 --rest-port=23446 --tcp-port=23447 --discv5-udp-port=23449 --rest-address=0.0.0.0 --nat=extip:172.18.73.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f3a394d19e173c5aedcbdf4d8de0ddc5a48c082eb1b1059a9376f7b46ac05ff3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23450 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.73.35 waku 765df47e21aeb27eb41eb99b208bf2a0eabb472041e24efd711704846741aeb3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 765df47e21ae. Setting up logs at ./log/docker/node1_2024-08-26_14-49-35__21fa2839-9c3b-4afd-acec-c51bed4003ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23446
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23446/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23446/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.35/tcp/23447/p2p/16Uiu2HAmLLXNmV9K2HVPThe6SxQeELzoXUTKiYShZmuR2efe6RYb","/ip4/172.18.73.35/tcp/23448/ws/p2p/16Uiu2HAmLLXNmV9K2HVPThe6SxQeELzoXUTKiYShZmuR2efe6RYb"],"enrUri":"enr:-LO4QCyx9l5SSaJazP3gYjSo-p914nByCApIRKflAPvfOPOPAvG9HrJE9jM1iF26u7UKBAfT-zFTFWIs_KtPH-Q1fU4BgmlkgnY0gmlwhKwSSSOKbXVsdGlhZGRyc4wACgSsEkkjBluY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNyIopo1e7L1tD7mby1JrJSTyCXxODQ3Rb5zybQtYXAIIN0Y3CCW5eDdWRwgluZhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-26_14-49-35__21fa2839-9c3b-4afd-acec-c51bed4003ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.187.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40907', '40908', '40909', '40910', '40911']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40907:40907 -p 40908:40908 -p 40909:40909 -p 40910:40910 -p 40911:40911 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40909 --rest-port=40907 --tcp-port=40908 --discv5-udp-port=40910 --rest-address=0.0.0.0 --nat=extip:172.18.187.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f936afadaa9583cffed45be5c8f122dc5528be396f1df9ad0cfbe4ebb7e5ecba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40911 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCyx9l5SSaJazP3gYjSo-p914nByCApIRKflAPvfOPOPAvG9HrJE9jM1iF26u7UKBAfT-zFTFWIs_KtPH-Q1fU4BgmlkgnY0gmlwhKwSSSOKbXVsdGlhZGRyc4wACgSsEkkjBluY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNyIopo1e7L1tD7mby1JrJSTyCXxODQ3Rb5zybQtYXAIIN0Y3CCW5eDdWRwgluZhXdha3UyBQ --filternode=/ip4/172.18.73.35/tcp/23447/p2p/16Uiu2HAmLLXNmV9K2HVPThe6SxQeELzoXUTKiYShZmuR2efe6RYb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.187.31 waku a67464eb5472e55b81f6965391df5f6ebe3f8a071499e2510635e6cd32b2879d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a67464eb5472. Setting up logs at ./log/docker/node2_2024-08-26_14-49-35__21fa2839-9c3b-4afd-acec-c51bed4003ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40907
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40907/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40907/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.31/tcp/40908/p2p/16Uiu2HAkzU9eh3vYAWrJ6xNqv1n9WaaEudTur485PCMeXwD1HebF","/ip4/172.18.187.31/tcp/40909/ws/p2p/16Uiu2HAkzU9eh3vYAWrJ6xNqv1n9WaaEudTur485PCMeXwD1HebF"],"enrUri":"enr:-LO4QIVgN1hTfTXfPxDtafNESlCZ5d_3XyDOyVc0pEGPo5ilRC-bpNYgwCtwF0MMtPk_1ztym8d6IbDGkhULTMZiWrcBgmlkgnY0gmlwhKwSux-KbXVsdGlhZGRyc4wACgSsErsfBp_N3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJK7OIwui_5VhbSUCGYgG8zTEKDsNYRma82AsxvS4lJdoN0Y3CCn8yDdWRwgp_OhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40907/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.35/tcp/23447/p2p/16Uiu2HAmLLXNmV9K2HVPThe6SxQeELzoXUTKiYShZmuR2efe6RYb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-08-26_14-49-35__21fa2839-9c3b-4afd-acec-c51bed4003ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.15.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47749', '47750', '47751', '47752', '47753']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47749:47749 -p 47750:47750 -p 47751:47751 -p 47752:47752 -p 47753:47753 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47751 --rest-port=47749 --tcp-port=47750 --discv5-udp-port=47752 --rest-address=0.0.0.0 --nat=extip:172.18.15.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ba69586b60bbba3da930e289fd57f8a70c2e6d009df9f7a24fbe9e6a5ce30476 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47753 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCyx9l5SSaJazP3gYjSo-p914nByCApIRKflAPvfOPOPAvG9HrJE9jM1iF26u7UKBAfT-zFTFWIs_KtPH-Q1fU4BgmlkgnY0gmlwhKwSSSOKbXVsdGlhZGRyc4wACgSsEkkjBluY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNyIopo1e7L1tD7mby1JrJSTyCXxODQ3Rb5zybQtYXAIIN0Y3CCW5eDdWRwgluZhXdha3UyBQ --filternode=/ip4/172.18.73.35/tcp/23447/p2p/16Uiu2HAmLLXNmV9K2HVPThe6SxQeELzoXUTKiYShZmuR2efe6RYb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.15.139 waku 558b561f76270c39d0a39a1ee66e6ced5b2d35367389134ab633f820e7a54dee
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 558b561f7627. Setting up logs at ./log/docker/node3_2024-08-26_14-49-35__21fa2839-9c3b-4afd-acec-c51bed4003ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47749
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47749/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47749/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.139/tcp/47750/p2p/16Uiu2HAkx9gRJzdhwND1MBGhtXrVw78juEW7JUiYt4Xmg5YVzS4K","/ip4/172.18.15.139/tcp/47751/ws/p2p/16Uiu2HAkx9gRJzdhwND1MBGhtXrVw78juEW7JUiYt4Xmg5YVzS4K"],"enrUri":"enr:-LO4QJt6SLR29Tg4av3prDfYNnaSYCmJtrNXQbHPwmW6Am9fGvxTxQSomCm7RA8kN4W4iXYK8V35fOu2xm4ArMeSct4BgmlkgnY0gmlwhKwSD4uKbXVsdGlhZGRyc4wACgSsEg-LBrqH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIoekPqZgrsM6-KCGbGBPH6MljT8BGcATYMkuG_jpamzIN0Y3CCuoaDdWRwgrqIhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47749/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.35/tcp/23447/p2p/16Uiu2HAmLLXNmV9K2HVPThe6SxQeELzoXUTKiYShZmuR2efe6RYb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-08-26_14-49-35__21fa2839-9c3b-4afd-acec-c51bed4003ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.190.208
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['19048', '19049', '19050', '19051', '19052']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 19048:19048 -p 19049:19049 -p 19050:19050 -p 19051:19051 -p 19052:19052 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19050 --rest-port=19048 --tcp-port=19049 --discv5-udp-port=19051 --rest-address=0.0.0.0 --nat=extip:172.18.190.208 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=987d0ca5f0bf788f8efb690f781eee6e555ff71adabf1885c2f3fb39a4256dec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19052 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCyx9l5SSaJazP3gYjSo-p914nByCApIRKflAPvfOPOPAvG9HrJE9jM1iF26u7UKBAfT-zFTFWIs_KtPH-Q1fU4BgmlkgnY0gmlwhKwSSSOKbXVsdGlhZGRyc4wACgSsEkkjBluY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNyIopo1e7L1tD7mby1JrJSTyCXxODQ3Rb5zybQtYXAIIN0Y3CCW5eDdWRwgluZhXdha3UyBQ --filternode=/ip4/172.18.73.35/tcp/23447/p2p/16Uiu2HAmLLXNmV9K2HVPThe6SxQeELzoXUTKiYShZmuR2efe6RYb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.190.208 waku 2a939ef87f4e5f3c267a20d38294574a59d65a79630940c1e87dea9398e0a709
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2a939ef87f4e. Setting up logs at ./log/docker/node4_2024-08-26_14-49-35__21fa2839-9c3b-4afd-acec-c51bed4003ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 19048
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19048/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19048/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.208/tcp/19049/p2p/16Uiu2HAmJKaUNxYQV7v1H5kaTuK7udf37AoqcQ2QaF2AAvX1RN9Q","/ip4/172.18.190.208/tcp/19050/ws/p2p/16Uiu2HAmJKaUNxYQV7v1H5kaTuK7udf37AoqcQ2QaF2AAvX1RN9Q"],"enrUri":"enr:-LO4QKf44sw9ySKcG_OBFFl5JuIBrYsrbWg6Pi8OsHdg33mmQvnFFrtarFf_iEA6v3QkHZS5yyVfLDQYRUae9fMHrCYBgmlkgnY0gmlwhKwSvtCKbXVsdGlhZGRyc4wACgSsEr7QBkpq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNULRZm9mUFlK3pBVL-X6Tvev7BkTNEjG8EfP1AxGdPG4N0Y3CCSmmDdWRwgkprhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19048/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.35/tcp/23447/p2p/16Uiu2HAmLLXNmV9K2HVPThe6SxQeELzoXUTKiYShZmuR2efe6RYb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-08-26_14-49-35__21fa2839-9c3b-4afd-acec-c51bed4003ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.65.85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36850', '36851', '36852', '36853', '36854']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36850:36850 -p 36851:36851 -p 36852:36852 -p 36853:36853 -p 36854:36854 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36852 --rest-port=36850 --tcp-port=36851 --discv5-udp-port=36853 --rest-address=0.0.0.0 --nat=extip:172.18.65.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddde09c29b5471a48d3135e5dcd3f1ca8ce1b650cb756bdb6b572fd42b7e316d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36854 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCyx9l5SSaJazP3gYjSo-p914nByCApIRKflAPvfOPOPAvG9HrJE9jM1iF26u7UKBAfT-zFTFWIs_KtPH-Q1fU4BgmlkgnY0gmlwhKwSSSOKbXVsdGlhZGRyc4wACgSsEkkjBluY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNyIopo1e7L1tD7mby1JrJSTyCXxODQ3Rb5zybQtYXAIIN0Y3CCW5eDdWRwgluZhXdha3UyBQ --filternode=/ip4/172.18.73.35/tcp/23447/p2p/16Uiu2HAmLLXNmV9K2HVPThe6SxQeELzoXUTKiYShZmuR2efe6RYb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.65.85 waku dbd2a63759c464b2a5ea836487e4aa83d8ee6d23751abc19af8c973d1cb07728
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID dbd2a63759c4. Setting up logs at ./log/docker/node5_2024-08-26_14-49-35__21fa2839-9c3b-4afd-acec-c51bed4003ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36850
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36850/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36850/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.85/tcp/36851/p2p/16Uiu2HAmM3GDx5eMX8cfF1eLoAFXzcxqtCe11FQFtwFstKX1KGjQ","/ip4/172.18.65.85/tcp/36852/ws/p2p/16Uiu2HAmM3GDx5eMX8cfF1eLoAFXzcxqtCe11FQFtwFstKX1KGjQ"],"enrUri":"enr:-LO4QDTOyvKNqCxTmTod4JDdxn_ufXvGXUHxARfwtxL_5UsfHn9LTTn51usZcTx_uPINDgqBevAgOx0VinfoDxgjc40BgmlkgnY0gmlwhKwSQVWKbXVsdGlhZGRyc4wACgSsEkFVBo_03QOCcnOFAAMBAACJc2VjcDI1NmsxoQN8kjis1lrsO9Wu_LVstT7AltGwCzqkjKhQWDSN47DER4N0Y3CCj_ODdWRwgo_1hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36850/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.35/tcp/23447/p2p/16Uiu2HAmLLXNmV9K2HVPThe6SxQeELzoXUTKiYShZmuR2efe6RYb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23446/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40907/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "194843b7-f990-41f7-8b19-853fa14dff40", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"194843b7-f990-41f7-8b19-853fa14dff40","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47749/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5e512399-d442-4662-9b4c-371c621fdcca", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5e512399-d442-4662-9b4c-371c621fdcca","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19048/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "cb0919de-c25e-457b-aede-c85550ef3748", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"cb0919de-c25e-457b-aede-c85550ef3748","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36850/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "74eadcba-fa95-4f79-9b6b-afcd2ebb1cef", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"74eadcba-fa95-4f79-9b6b-afcd2ebb1cef","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23446/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40907/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724683784300591360,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23446/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47749/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:47749/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 765df47e21ae
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a67464eb5472
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 558b561f7627
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2a939ef87f4e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dbd2a63759c4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'error': ['DBG 2024-08-26 14:49:44.523+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=GET peer=172.17.0.1:56890 uri=/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto error_status="400 Bad Request" error_content_type=text/plain error_message="Not subscribed to topic: /test/1/waku-filter/proto"']