[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.77.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3171', '3172', '3173', '3174', '3175']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3171:3171 -p 3172:3172 -p 3173:3173 -p 3174:3174 -p 3175:3175 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3173 --rest-port=3171 --tcp-port=3172 --discv5-udp-port=3174 --rest-address=0.0.0.0 --nat=extip:172.18.77.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=939eb7eeec5db8fe03ea8b7efbcaf326beddc6210bfc759705da62a9fd6bfeee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3175 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.77.167 waku 0877eff00a5c93b88c91124899e39c919e340dab4b180da86248f85ad64e4ecc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0877eff00a5c. Setting up logs at ./log/docker/node1_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3171
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3171/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3171/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq","/ip4/172.18.77.167/tcp/3173/ws/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq"],"enrUri":"enr:-LO4QJuHd4u7Yn0Pv-zs8c90n69ofaM8GSfOktfGRGUmnLbrR88tzV_xWElXmAR_QXQHeaUxDuWPY1QPEgn2XmNjuIMBgmlkgnY0gmlwhKwSTaeKbXVsdGlhZGRyc4wACgSsEk2nBgxl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIFhKUBpzUGpJajn3OOxtEbp0GenhJpvJxH-sBw4QFuAoN0Y3CCDGSDdWRwggxmhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.36.119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59820', '59821', '59822', '59823', '59824']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59820:59820 -p 59821:59821 -p 59822:59822 -p 59823:59823 -p 59824:59824 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59822 --rest-port=59820 --tcp-port=59821 --discv5-udp-port=59823 --rest-address=0.0.0.0 --nat=extip:172.18.36.119 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=26ffe1e02e2cfea4ab94501b441ca5e2e7eaca5aa7b7fe5b6edb5e2a1be2e2bc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59824 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJuHd4u7Yn0Pv-zs8c90n69ofaM8GSfOktfGRGUmnLbrR88tzV_xWElXmAR_QXQHeaUxDuWPY1QPEgn2XmNjuIMBgmlkgnY0gmlwhKwSTaeKbXVsdGlhZGRyc4wACgSsEk2nBgxl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIFhKUBpzUGpJajn3OOxtEbp0GenhJpvJxH-sBw4QFuAoN0Y3CCDGSDdWRwggxmhXdha3UyBQ --filternode=/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.36.119 waku b75a59a482af195cc35fc5a6a6198e13629a2c3d443beceff179c58347881659
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b75a59a482af. Setting up logs at ./log/docker/node2_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59820
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59820/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59820/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.36.119/tcp/59821/p2p/16Uiu2HAm3KdjSWG6nPzFnTE14bQLYwfK17mM6QGk3oHkXLWc9yhX","/ip4/172.18.36.119/tcp/59822/ws/p2p/16Uiu2HAm3KdjSWG6nPzFnTE14bQLYwfK17mM6QGk3oHkXLWc9yhX"],"enrUri":"enr:-LO4QLzWgPWT6fTZ2OFB45zAZgcrYbAmEK8fy7hsij7w_vjtGJsB3D7eBaIBAiHxf8wC0zm6QrEUXX4BmUV-MYMyLnwBgmlkgnY0gmlwhKwSJHeKbXVsdGlhZGRyc4wACgSsEiR3Bumu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ1UXgmpFcvzNN8cfPybRvUrPJsFemgm1mATEgwTg8LXoN0Y3CC6a2DdWRwgumvhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59820/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.91.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15685', '15686', '15687', '15688', '15689']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15685:15685 -p 15686:15686 -p 15687:15687 -p 15688:15688 -p 15689:15689 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15687 --rest-port=15685 --tcp-port=15686 --discv5-udp-port=15688 --rest-address=0.0.0.0 --nat=extip:172.18.91.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b0ba2a5a86fc8c8ca8cf5890ae1f1a52ec8daa6aaaa7893fd1936dceacbfe63b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15689 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJuHd4u7Yn0Pv-zs8c90n69ofaM8GSfOktfGRGUmnLbrR88tzV_xWElXmAR_QXQHeaUxDuWPY1QPEgn2XmNjuIMBgmlkgnY0gmlwhKwSTaeKbXVsdGlhZGRyc4wACgSsEk2nBgxl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIFhKUBpzUGpJajn3OOxtEbp0GenhJpvJxH-sBw4QFuAoN0Y3CCDGSDdWRwggxmhXdha3UyBQ --filternode=/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.91.225 waku c9c1114ae9e81f8fe89864e3dcf41accc6b37759b76d6f1f2464664b7fc596ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c9c1114ae9e8. Setting up logs at ./log/docker/node3_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15685
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15685/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15685/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.225/tcp/15686/p2p/16Uiu2HAmCCffdDGkb2Rgf6VgirHdXAiZHVigpeeVcFn4rF3ZH6Ku","/ip4/172.18.91.225/tcp/15687/ws/p2p/16Uiu2HAmCCffdDGkb2Rgf6VgirHdXAiZHVigpeeVcFn4rF3ZH6Ku"],"enrUri":"enr:-LO4QNArpvfCYh_i18FPY2ym5eMSjl7epyTgttcgb3jPJeRaT5Rx-NG7dqboR8_pXCBOsnSoe876KJwIQwqPiP8LACoBgmlkgnY0gmlwhKwSW-GKbXVsdGlhZGRyc4wACgSsElvhBj1H3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL5QcXl717nbMwBE73UR352j68Kvk7Lj4ulTN-wiBkUvIN0Y3CCPUaDdWRwgj1IhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15685/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.177.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['58359', '58360', '58361', '58362', '58363']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 58359:58359 -p 58360:58360 -p 58361:58361 -p 58362:58362 -p 58363:58363 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58361 --rest-port=58359 --tcp-port=58360 --discv5-udp-port=58362 --rest-address=0.0.0.0 --nat=extip:172.18.177.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0a3bcafbcbe6ec9f7bef3bd032ec40f74de09ad6a15ed5a0a81f5f831ccaffeb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58363 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJuHd4u7Yn0Pv-zs8c90n69ofaM8GSfOktfGRGUmnLbrR88tzV_xWElXmAR_QXQHeaUxDuWPY1QPEgn2XmNjuIMBgmlkgnY0gmlwhKwSTaeKbXVsdGlhZGRyc4wACgSsEk2nBgxl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIFhKUBpzUGpJajn3OOxtEbp0GenhJpvJxH-sBw4QFuAoN0Y3CCDGSDdWRwggxmhXdha3UyBQ --filternode=/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.177.17 waku 138dde2f6f6451c91dc177c965cf9db90a7d7f7d0f49ca6bb2a70df41269587e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 138dde2f6f64. Setting up logs at ./log/docker/node4_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 58359
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58359/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58359/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.17/tcp/58360/p2p/16Uiu2HAmVEsLA6V8SEaP98tpbo66bAWWcm8jcAooZTVnP6ghb42h","/ip4/172.18.177.17/tcp/58361/ws/p2p/16Uiu2HAmVEsLA6V8SEaP98tpbo66bAWWcm8jcAooZTVnP6ghb42h"],"enrUri":"enr:-LO4QMHyNbD0dy18Er8-Fn1NYyc9MuLfHvABlLsN7EFDjEUoOyF2f10qvAZn75j6LlmNSmtYwSW6moIbRjTffS12Q5sBgmlkgnY0gmlwhKwSsRGKbXVsdGlhZGRyc4wACgSsErERBuP53QOCcnOFAAMBAACJc2VjcDI1NmsxoQP2aM0kE58zR1baBUXKrY43ybGwgeLVihXLSzP_dM2qPoN0Y3CC4_iDdWRwguP6hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58359/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.204.216
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['46117', '46118', '46119', '46120', '46121']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 46117:46117 -p 46118:46118 -p 46119:46119 -p 46120:46120 -p 46121:46121 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46119 --rest-port=46117 --tcp-port=46118 --discv5-udp-port=46120 --rest-address=0.0.0.0 --nat=extip:172.18.204.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1efaa3beffabde64322eeaba2eb593b7ad190b3a3fa7fa74b72d51b2ed828300 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46121 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJuHd4u7Yn0Pv-zs8c90n69ofaM8GSfOktfGRGUmnLbrR88tzV_xWElXmAR_QXQHeaUxDuWPY1QPEgn2XmNjuIMBgmlkgnY0gmlwhKwSTaeKbXVsdGlhZGRyc4wACgSsEk2nBgxl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIFhKUBpzUGpJajn3OOxtEbp0GenhJpvJxH-sBw4QFuAoN0Y3CCDGSDdWRwggxmhXdha3UyBQ --filternode=/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.204.216 waku 64c7b19f54b0e1585caf32af7dc12687dab09b11a1c5fbd548792b096e8d3b19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 64c7b19f54b0. Setting up logs at ./log/docker/node5_2024-08-26_14-48-55__0e51d5f1-669d-497d-90bb-eda2f7230060__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46117
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46117/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46117/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.204.216/tcp/46118/p2p/16Uiu2HAmBj1BhSCb64ymTYTpPvGdkTgNNzgTN28wJnTZ5Turfb1W","/ip4/172.18.204.216/tcp/46119/ws/p2p/16Uiu2HAmBj1BhSCb64ymTYTpPvGdkTgNNzgTN28wJnTZ5Turfb1W"],"enrUri":"enr:-LO4QBt_YFjOb463oRvkXTwaYkymCigzWBAlC7vbeLdOIxyhVe6JiMkOZQVcdbCEfv1aSzzKg5_wmeBd-p7NdX_Kc6gBgmlkgnY0gmlwhKwSzNiKbXVsdGlhZGRyc4wACgSsEszYBrQn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLyK5R8NSTLVpcjk-PfbbKNUsvu5mXSs6Z2MBhamYrx5YN0Y3CCtCaDdWRwgrQohXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46117/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.77.167/tcp/3172/p2p/16Uiu2HAkuoDL6QCyemnQ6yXeXjBE3zXNxE5mQMPEoHrM4oxFYHaq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3171/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59820/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4814b50d-3331-4240-b369-7e263b1554ac", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4814b50d-3331-4240-b369-7e263b1554ac","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15685/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ad0e2ebf-5650-4021-be24-4cd63e62c2c0", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ad0e2ebf-5650-4021-be24-4cd63e62c2c0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58359/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5cd24216-ba4e-4fed-921c-32958c7eee47", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5cd24216-ba4e-4fed-921c-32958c7eee47","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46117/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0058f794-7351-49fd-b5f9-a403131dcdad", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0058f794-7351-49fd-b5f9-a403131dcdad","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3171/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59820/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724683744280634880,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3171/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15685/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:15685/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0877eff00a5c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b75a59a482af
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c9c1114ae9e8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 138dde2f6f64
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 64c7b19f54b0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'error': ['DBG 2024-08-26 14:49:04.506+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=GET peer=172.17.0.1:45466 uri=/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto error_status="400 Bad Request" error_content_type=text/plain error_message="Not subscribed to topic: /test/1/waku-filter/proto"']