[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_invalid_timestamps with id: 2024-08-26_14-57-34__8a757aac-05b0-4270-a66d-543024e99d8d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-26_14-57-34__8a757aac-05b0-4270-a66d-543024e99d8d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.6.37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2379', '2380', '2381', '2382', '2383']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2379:2379 -p 2380:2380 -p 2381:2381 -p 2382:2382 -p 2383:2383 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2381 --rest-port=2379 --tcp-port=2380 --discv5-udp-port=2382 --rest-address=0.0.0.0 --nat=extip:172.18.6.37 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f3aacd5cde7b488f3d09e93828fccaadfdf144ef968a2aabeb3159fec9d723df --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2383 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.6.37 waku e400c82e2ca343ef62cd29b4da3d53867eccb8f7f67279496f41f4740642cc89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e400c82e2ca3. Setting up logs at ./log/docker/receiving_node1_2024-08-26_14-57-34__8a757aac-05b0-4270-a66d-543024e99d8d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2379
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2379/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2379/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.6.37/tcp/2380/p2p/16Uiu2HAm3ax4kh2UH31Ptqd7xnkAiPEJhSTwpdTet9W5Rkb7BcVx","/ip4/172.18.6.37/tcp/2381/ws/p2p/16Uiu2HAm3ax4kh2UH31Ptqd7xnkAiPEJhSTwpdTet9W5Rkb7BcVx"],"enrUri":"enr:-LO4QJ6xxFBk9HAldCR2Ly7bdUpiQNfgc3E5QIm0TDudYm4uA6yuoHGWwb1zwCgJ-AG7_Mq0TQrxK2OhVRRkFsb8QQgBgmlkgnY0gmlwhKwSBiWKbXVsdGlhZGRyc4wACgSsEgYlBglN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ5PekgwZAEgmTUUNiInQAD8aD6_RSHrgnC2b2Llp-sa4N0Y3CCCUyDdWRwgglOhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-26_14-57-34__8a757aac-05b0-4270-a66d-543024e99d8d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.129.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['31844', '31845', '31846', '31847', '31848']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 31844:31844 -p 31845:31845 -p 31846:31846 -p 31847:31847 -p 31848:31848 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31846 --rest-port=31844 --tcp-port=31845 --discv5-udp-port=31847 --rest-address=0.0.0.0 --nat=extip:172.18.129.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=73399e75eaea2f6be0facb0c7fdccdc6873865b26e43bcb7e02c10967f053a7e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31848 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.129.149 waku 38039fc942002210ce217b959c544c153bea77866c91a244566803d38c6de42c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 38039fc94200. Setting up logs at ./log/docker/receiving_node2_2024-08-26_14-57-34__8a757aac-05b0-4270-a66d-543024e99d8d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 31844
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31844/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31844/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.149/tcp/31845/p2p/16Uiu2HAmDa4H9A5MSTXoDpAc1zcgYSN27haCm41jNqJPaURtWJ1R","/ip4/172.18.129.149/tcp/31846/ws/p2p/16Uiu2HAmDa4H9A5MSTXoDpAc1zcgYSN27haCm41jNqJPaURtWJ1R"],"enrUri":"enr:-LO4QJs7c_MWvY07j77ModJptKgWgsZx9E4Swh7eVFUBWVmDXYiJW7U2NeDOMa_9c73wHc_583AVI_bztPWZQuORd54BgmlkgnY0gmlwhKwSgZWKbXVsdGlhZGRyc4wACgSsEoGVBnxm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMNmDmN8n3uD4zxyYtGeeuvRqdvpiH8hXR2TqICkFgSdIN0Y3CCfGWDdWRwgnxnhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31844/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.37/tcp/2380/p2p/16Uiu2HAm3ax4kh2UH31Ptqd7xnkAiPEJhSTwpdTet9W5Rkb7BcVx"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-26_14-57-34__8a757aac-05b0-4270-a66d-543024e99d8d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.242.61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['9697', '9698', '9699', '9700', '9701']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 9697:9697 -p 9698:9698 -p 9699:9699 -p 9700:9700 -p 9701:9701 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9699 --rest-port=9697 --tcp-port=9698 --discv5-udp-port=9700 --rest-address=0.0.0.0 --nat=extip:172.18.242.61 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=febe7b6e8fcf1eccecb34ffa27742b6dae5b2f55b1b69a0ebcfc7ec9b8adc2a9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9701 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJ6xxFBk9HAldCR2Ly7bdUpiQNfgc3E5QIm0TDudYm4uA6yuoHGWwb1zwCgJ-AG7_Mq0TQrxK2OhVRRkFsb8QQgBgmlkgnY0gmlwhKwSBiWKbXVsdGlhZGRyc4wACgSsEgYlBglN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ5PekgwZAEgmTUUNiInQAD8aD6_RSHrgnC2b2Llp-sa4N0Y3CCCUyDdWRwgglOhXdha3UyCQ --lightpushnode=/ip4/172.18.6.37/tcp/2380/p2p/16Uiu2HAm3ax4kh2UH31Ptqd7xnkAiPEJhSTwpdTet9W5Rkb7BcVx --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.242.61 waku 20dd582ef3b6cce39320e6d13f8400d1889cd87b7ea4cd98e3ed71e6234a30fd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 20dd582ef3b6. Setting up logs at ./log/docker/lightpush_node1_2024-08-26_14-57-34__8a757aac-05b0-4270-a66d-543024e99d8d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9697
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9697/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9697/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.61/tcp/9698/p2p/16Uiu2HAm9dV9buYHGsMmsqSB6gSL2cK9pKHMQMStmoTZTpqaoCUp","/ip4/172.18.242.61/tcp/9699/ws/p2p/16Uiu2HAm9dV9buYHGsMmsqSB6gSL2cK9pKHMQMStmoTZTpqaoCUp"],"enrUri":"enr:-LO4QOK1reD-0vegJcqi3jmuEx3BuDX5EQ7KDB6lw_WqGeMVKADsiEroF2b5yyBmftumXr17NdYbvYHT8UmerkbqUk4BgmlkgnY0gmlwhKwS8j2KbXVsdGlhZGRyc4wACgSsEvI9BiXj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLTClcVHh5MHFdwmTHDAjWaSaU4xS-cyYGSezNGY7Jp2YN0Y3CCJeKDdWRwgiXkhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9697/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.37/tcp/2380/p2p/16Uiu2HAm3ax4kh2UH31Ptqd7xnkAiPEJhSTwpdTet9W5Rkb7BcVx"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9697/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.129.149/tcp/31845/p2p/16Uiu2HAmDa4H9A5MSTXoDpAc1zcgYSN27haCm41jNqJPaURtWJ1R"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2379/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31844/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Timestamp as string number
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9697/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": "1724683440698037248"}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9697/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Invalid large number
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9697/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 9223372036854775808}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9697/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Float number
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9697/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1.7246834406980396e+18}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9697/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Array instead of timestamp
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9697/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": [1724683440698042368]}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9697/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Object instead of timestamp
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9697/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": {"time": 1724683440698043648}}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9697/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp ISO 8601 timestamp
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9697/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": "2023-12-26T10:58:51"}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9697/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Missing
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9697/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": null}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9697/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e400c82e2ca3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 38039fc94200
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 20dd582ef3b6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'error': ['DBG 2024-08-26 14:57:40.056+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:47278 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:40.060+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:47294 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:40.065+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:47296 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:40.070+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:47306 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:40.073+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:47318 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:40.077+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:47320 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:40.080+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:47334 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"']
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_invalid_timestamps with id: 2024-08-26_14-57-47__53a159fd-1ba1-4240-89b3-86eab94a82c8
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-26_14-57-47__53a159fd-1ba1-4240-89b3-86eab94a82c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.125.104
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48863', '48864', '48865', '48866', '48867']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48863:48863 -p 48864:48864 -p 48865:48865 -p 48866:48866 -p 48867:48867 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48865 --rest-port=48863 --tcp-port=48864 --discv5-udp-port=48866 --rest-address=0.0.0.0 --nat=extip:172.18.125.104 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=17fca8c53dc4a3e594da0c73efcbe3c86ddcb3a9e98c39cbcd02995ec4f7d08f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48867 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.125.104 waku def3ce433c295a575d33c924da526cd5049688e96faf765ae97a14c68cf06b73
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID def3ce433c29. Setting up logs at ./log/docker/receiving_node1_2024-08-26_14-57-47__53a159fd-1ba1-4240-89b3-86eab94a82c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48863
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48863/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48863/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.125.104/tcp/48864/p2p/16Uiu2HAmC3NYD15DQKV9Dw5v8SGDzMGTqUUKCK8DJ6p8FaaM1g2E","/ip4/172.18.125.104/tcp/48865/ws/p2p/16Uiu2HAmC3NYD15DQKV9Dw5v8SGDzMGTqUUKCK8DJ6p8FaaM1g2E"],"enrUri":"enr:-LO4QL-hWak7_3s3zKb9pe37OGsPq-JMBRbHbqK29GPWovNVRdsf6WM5NzhsMRphxu0_W1IPCEUUTLziH8cJxo_Z6Q8BgmlkgnY0gmlwhKwSfWiKbXVsdGlhZGRyc4wACgSsEn1oBr7h3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL24C3fuhH9QQMWWWEuYjgkqjil1wxPC5TBKPgZHtJ544N0Y3CCvuCDdWRwgr7ihXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-26_14-57-47__53a159fd-1ba1-4240-89b3-86eab94a82c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.193.9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['49327', '49328', '49329', '49330', '49331']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 49327:49327 -p 49328:49328 -p 49329:49329 -p 49330:49330 -p 49331:49331 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49329 --rest-port=49327 --tcp-port=49328 --discv5-udp-port=49330 --rest-address=0.0.0.0 --nat=extip:172.18.193.9 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=490c35a66bf89ca49b0ac56001d3d43bcdcdd69c3df94c4a3c8fcbe5fcababd0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49331 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.193.9 waku f3a1c73e7e35db3e8a673956d5d0cc39d9f0c7fa344e8a22928fae5edd298fe4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f3a1c73e7e35. Setting up logs at ./log/docker/receiving_node2_2024-08-26_14-57-47__53a159fd-1ba1-4240-89b3-86eab94a82c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 49327
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49327/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49327/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.9/tcp/49328/p2p/16Uiu2HAkzLNAc7npLhQieksGKHt4Bx1bMPcUezMUS2n8MMNpGc6t","/ip4/172.18.193.9/tcp/49329/ws/p2p/16Uiu2HAkzLNAc7npLhQieksGKHt4Bx1bMPcUezMUS2n8MMNpGc6t"],"enrUri":"enr:-LO4QOJQ0QOsx23doItxkuF-NDs2lLwyzcPLCFs_6UabgyNcG756NB7NOcm2F0Pl0kSMdoP-G5917YSt82bhkkSgBukBgmlkgnY0gmlwhKwSwQmKbXVsdGlhZGRyc4wACgSsEsEJBsCx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJI7mOC1pggKpU1XnNwV9MKXtbI1TczFyyPVOdSGjFFqYN0Y3CCwLCDdWRwgsCyhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49327/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.125.104/tcp/48864/p2p/16Uiu2HAmC3NYD15DQKV9Dw5v8SGDzMGTqUUKCK8DJ6p8FaaM1g2E"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-26_14-57-47__53a159fd-1ba1-4240-89b3-86eab94a82c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.11.75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['45572', '45573', '45574', '45575', '45576']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 45572:45572 -p 45573:45573 -p 45574:45574 -p 45575:45575 -p 45576:45576 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45574 --rest-port=45572 --tcp-port=45573 --discv5-udp-port=45575 --rest-address=0.0.0.0 --nat=extip:172.18.11.75 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cdcb03b270c91ae1f83d95a2abf2b94cfeb3acae1eb8bad979cd6bdbfabde4ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45576 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QL-hWak7_3s3zKb9pe37OGsPq-JMBRbHbqK29GPWovNVRdsf6WM5NzhsMRphxu0_W1IPCEUUTLziH8cJxo_Z6Q8BgmlkgnY0gmlwhKwSfWiKbXVsdGlhZGRyc4wACgSsEn1oBr7h3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL24C3fuhH9QQMWWWEuYjgkqjil1wxPC5TBKPgZHtJ544N0Y3CCvuCDdWRwgr7ihXdha3UyCQ --lightpushnode=/ip4/172.18.125.104/tcp/48864/p2p/16Uiu2HAmC3NYD15DQKV9Dw5v8SGDzMGTqUUKCK8DJ6p8FaaM1g2E --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.11.75 waku bd458587639692d8399a3d729ac211e14e7ec09128d3e5c63813b3df9a5b433a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bd4585876396. Setting up logs at ./log/docker/lightpush_node1_2024-08-26_14-57-47__53a159fd-1ba1-4240-89b3-86eab94a82c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 45572
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45572/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45572/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.75/tcp/45573/p2p/16Uiu2HAmJy9tKPAoyYqJvcZab3RkHjXTSftWo2AC7d2eUtBCpFF8","/ip4/172.18.11.75/tcp/45574/ws/p2p/16Uiu2HAmJy9tKPAoyYqJvcZab3RkHjXTSftWo2AC7d2eUtBCpFF8"],"enrUri":"enr:-LO4QMup-2pBevgsvsgMjea6aJyeB9_2uxYZZb7fP8QpuGG-CuftxCXSycMRJqAHpOQP4GegIiUlc0dYVPcG1nI_fC4BgmlkgnY0gmlwhKwSC0uKbXVsdGlhZGRyc4wACgSsEgtLBrIG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNdzVt6kCsjQsXFv2YEHWCvBRLtJKmkyj2Jm-11LQgZs4N0Y3CCsgWDdWRwgrIHhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45572/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.125.104/tcp/48864/p2p/16Uiu2HAmC3NYD15DQKV9Dw5v8SGDzMGTqUUKCK8DJ6p8FaaM1g2E"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45572/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.193.9/tcp/49328/p2p/16Uiu2HAkzLNAc7npLhQieksGKHt4Bx1bMPcUezMUS2n8MMNpGc6t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48863/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49327/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Timestamp as string number
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45572/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": "1724683440698037248"}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:45572/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Invalid large number
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45572/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 9223372036854775808}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:45572/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Float number
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45572/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1.7246834406980396e+18}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:45572/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Array instead of timestamp
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45572/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": [1724683440698042368]}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:45572/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Object instead of timestamp
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45572/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": {"time": 1724683440698043648}}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:45572/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp ISO 8601 timestamp
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45572/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": "2023-12-26T10:58:51"}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:45572/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Missing
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45572/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": null}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:45572/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id def3ce433c29
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f3a1c73e7e35
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bd4585876396
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'error': ['DBG 2024-08-26 14:57:53.142+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:50654 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:53.146+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:50668 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:53.150+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:50680 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:53.153+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:50696 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:53.156+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:50710 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:53.159+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:50714 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:57:53.162+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:50722 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"']
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_invalid_timestamps with id: 2024-08-26_14-58-01__6958c827-1d5c-4250-9fc5-f12b02862a14
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-26_14-58-01__6958c827-1d5c-4250-9fc5-f12b02862a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.81.245
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['54875', '54876', '54877', '54878', '54879']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 54875:54875 -p 54876:54876 -p 54877:54877 -p 54878:54878 -p 54879:54879 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54877 --rest-port=54875 --tcp-port=54876 --discv5-udp-port=54878 --rest-address=0.0.0.0 --nat=extip:172.18.81.245 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0e60adb3c668f8ddee9e827b6f5dc6b5ac46a2ec4b2d5c91d4caefef9b78090e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54879 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.81.245 waku 1400a2e7cbf9e69ddc426ac7af68b2181be3c390a291d3d91ba2706caed75af4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1400a2e7cbf9. Setting up logs at ./log/docker/receiving_node1_2024-08-26_14-58-01__6958c827-1d5c-4250-9fc5-f12b02862a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 54875
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54875/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54875/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.245/tcp/54876/p2p/16Uiu2HAmEenLunqGNyxE4dQdUnUXF7YR2AEjHKkFufvNA86utduU","/ip4/172.18.81.245/tcp/54877/ws/p2p/16Uiu2HAmEenLunqGNyxE4dQdUnUXF7YR2AEjHKkFufvNA86utduU"],"enrUri":"enr:-LO4QP1wUsUcz3vcXZYKNsEeIMIDXgExDPrjoLGJnS_KF57veIvXMZHACZzLVPMcgUmG3FHn6FzF6YqoQRohO_EjqGUBgmlkgnY0gmlwhKwSUfWKbXVsdGlhZGRyc4wACgSsElH1BtZd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMdqcxLPtIQ54i8BEAKHpt2fXQGprl0-wEx6yFSjbYni4N0Y3CC1lyDdWRwgtZehXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-26_14-58-01__6958c827-1d5c-4250-9fc5-f12b02862a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.135.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['1651', '1652', '1653', '1654', '1655']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 1651:1651 -p 1652:1652 -p 1653:1653 -p 1654:1654 -p 1655:1655 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1653 --rest-port=1651 --tcp-port=1652 --discv5-udp-port=1654 --rest-address=0.0.0.0 --nat=extip:172.18.135.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a7a5d5782ea8ccf75c3bccfddafde76cce5dc57daf8650636d1bdfe5c5fdd44f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1655 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.135.14 waku 111a26b36db481e6303b1c987f82f1e72d6064d6c7afcbfb9f0f1744f190d6a3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 111a26b36db4. Setting up logs at ./log/docker/receiving_node2_2024-08-26_14-58-01__6958c827-1d5c-4250-9fc5-f12b02862a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1651
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1651/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1651/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.14/tcp/1652/p2p/16Uiu2HAm2ewQQjSREmssWwaBxKaKbqLwhq7g5kwSvyZV28LojH4F","/ip4/172.18.135.14/tcp/1653/ws/p2p/16Uiu2HAm2ewQQjSREmssWwaBxKaKbqLwhq7g5kwSvyZV28LojH4F"],"enrUri":"enr:-LO4QAUWfVTK9kxmSIwtxpLUIg-chZaGmD1Ity38qBLOA8PeRTdLnPmeR2UvgYszyJBvvEm_5bh7-3qqz9htPhAv3dcBgmlkgnY0gmlwhKwShw6KbXVsdGlhZGRyc4wACgSsEocOBgZ13QOCcnOFAAMBAACJc2VjcDI1NmsxoQJrZ8yo38Hv85KigfGZ-N8JNmQgnHR3TEoj3gzVCee7jIN0Y3CCBnSDdWRwggZ2hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1651/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.81.245/tcp/54876/p2p/16Uiu2HAmEenLunqGNyxE4dQdUnUXF7YR2AEjHKkFufvNA86utduU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-26_14-58-01__6958c827-1d5c-4250-9fc5-f12b02862a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.21.5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['17445', '17446', '17447', '17448', '17449']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 17445:17445 -p 17446:17446 -p 17447:17447 -p 17448:17448 -p 17449:17449 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17447 --rest-port=17445 --tcp-port=17446 --discv5-udp-port=17448 --rest-address=0.0.0.0 --nat=extip:172.18.21.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdd9b9edfeaec1c6b04cc3d5747b9bcedc4c36ad0adb8df6bf94dafed9eefdbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17449 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QP1wUsUcz3vcXZYKNsEeIMIDXgExDPrjoLGJnS_KF57veIvXMZHACZzLVPMcgUmG3FHn6FzF6YqoQRohO_EjqGUBgmlkgnY0gmlwhKwSUfWKbXVsdGlhZGRyc4wACgSsElH1BtZd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMdqcxLPtIQ54i8BEAKHpt2fXQGprl0-wEx6yFSjbYni4N0Y3CC1lyDdWRwgtZehXdha3UyCQ --lightpushnode=/ip4/172.18.81.245/tcp/54876/p2p/16Uiu2HAmEenLunqGNyxE4dQdUnUXF7YR2AEjHKkFufvNA86utduU --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.21.5 waku 8335cfb5926c5fc086bc7226f9052b25e449b43a953d6da64dd351bb05624f52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8335cfb5926c. Setting up logs at ./log/docker/lightpush_node1_2024-08-26_14-58-01__6958c827-1d5c-4250-9fc5-f12b02862a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 17445
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17445/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17445/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.5/tcp/17446/p2p/16Uiu2HAm98sTMx3UbyMHzUGhyABCZ65rgZY5WT21LJeqMn51n4Vx","/ip4/172.18.21.5/tcp/17447/ws/p2p/16Uiu2HAm98sTMx3UbyMHzUGhyABCZ65rgZY5WT21LJeqMn51n4Vx"],"enrUri":"enr:-LO4QOozHSSt9xy8jlug3wPjnXfaFB4L8zQQ6P-38lsc7FzcAhQzVPd4GCgconx3WkVgZvgW0wbEtXdJjIYpspnU6p0BgmlkgnY0gmlwhKwSFQWKbXVsdGlhZGRyc4wACgSsEhUFBkQn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLLtbfo_qb9Lv_9-HtboDUAULFX3dLTprbISbVPHyFWw4N0Y3CCRCaDdWRwgkQohXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17445/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.81.245/tcp/54876/p2p/16Uiu2HAmEenLunqGNyxE4dQdUnUXF7YR2AEjHKkFufvNA86utduU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17445/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.135.14/tcp/1652/p2p/16Uiu2HAm2ewQQjSREmssWwaBxKaKbqLwhq7g5kwSvyZV28LojH4F"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54875/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1651/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Timestamp as string number
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17445/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": "1724683440698037248"}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17445/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Invalid large number
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17445/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 9223372036854775808}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17445/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Float number
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17445/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1.7246834406980396e+18}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17445/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Array instead of timestamp
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17445/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": [1724683440698042368]}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17445/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Object instead of timestamp
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17445/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": {"time": 1724683440698043648}}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17445/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp ISO 8601 timestamp
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17445/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": "2023-12-26T10:58:51"}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17445/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:172 Running test with timestamp Missing
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17445/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": null}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17445/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1400a2e7cbf9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 111a26b36db4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8335cfb5926c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'error': ['DBG 2024-08-26 14:58:06.485+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:56932 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:58:06.488+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:56946 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:58:06.492+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:56962 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:58:06.496+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:56974 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:58:06.500+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:56976 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:58:06.504+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:56992 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 14:58:06.508+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:56996 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"']