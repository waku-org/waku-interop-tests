[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-08-26_14-56-34__fc82a67f-80dd-41c2-aeab-e5e51c92617f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-26_14-56-34__fc82a67f-80dd-41c2-aeab-e5e51c92617f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.252.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['51064', '51065', '51066', '51067', '51068']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 51064:51064 -p 51065:51065 -p 51066:51066 -p 51067:51067 -p 51068:51068 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51066 --rest-port=51064 --tcp-port=51065 --discv5-udp-port=51067 --rest-address=0.0.0.0 --nat=extip:172.18.252.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c76c618ddfed2bf22caf30616f51906ed013beccaced50c6e2b4bc21fe8efce2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51068 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.252.149 waku 2d92079a55f039323e00200a6b1389bca5b20c7fa5660eb7a06172a9301074ff
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2d92079a55f0. Setting up logs at ./log/docker/receiving_node1_2024-08-26_14-56-34__fc82a67f-80dd-41c2-aeab-e5e51c92617f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 51064
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51064/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51064/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.149/tcp/51065/p2p/16Uiu2HAmHY1FK5ngVE8AMU1cW7iMDK8fWLB2DWgG9VcLxXZg5xm7","/ip4/172.18.252.149/tcp/51066/ws/p2p/16Uiu2HAmHY1FK5ngVE8AMU1cW7iMDK8fWLB2DWgG9VcLxXZg5xm7"],"enrUri":"enr:-LO4QKn8gttIuCByx48dSpCquhYWEMzW2wBK-UgEJ2Z5X0hgPXqtIXQqmLyaMVNaCKwmQ-Yewu3FkrOG1QvaqcOIolwBgmlkgnY0gmlwhKwS_JWKbXVsdGlhZGRyc4wACgSsEvyVBsd63QOCcnOFAAMBAACJc2VjcDI1NmsxoQNIgGIVzcg2VcT-H5w_20pkfKbSS9ytD1Ezlz7GwchUyoN0Y3CCx3mDdWRwgsd7hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-26_14-56-34__fc82a67f-80dd-41c2-aeab-e5e51c92617f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.243.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['26192', '26193', '26194', '26195', '26196']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 26192:26192 -p 26193:26193 -p 26194:26194 -p 26195:26195 -p 26196:26196 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26194 --rest-port=26192 --tcp-port=26193 --discv5-udp-port=26195 --rest-address=0.0.0.0 --nat=extip:172.18.243.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9082ebde5fcc12bd4badcc43f03cab24eacbcd84dcc918dda1ada31e4817dc1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26196 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.243.222 waku 31f1277293b4910ba491b266e5252ae132331cfd972aa50fe471ffb25ccf1f3d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 31f1277293b4. Setting up logs at ./log/docker/receiving_node2_2024-08-26_14-56-34__fc82a67f-80dd-41c2-aeab-e5e51c92617f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 26192
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26192/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26192/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.243.222/tcp/26193/p2p/16Uiu2HAkv1xC6wAp7oDst5wWf4PEvjwyiyy4THUzXpKsHzEPPZom","/ip4/172.18.243.222/tcp/26194/ws/p2p/16Uiu2HAkv1xC6wAp7oDst5wWf4PEvjwyiyy4THUzXpKsHzEPPZom"],"enrUri":"enr:-LO4QGFOfLWoY35xjUbh6-I-8kzTn1IzCl4xr7xtd6kJbMAbbTXEdmMX6HIVtXieAfK0YTwUvvIy8PExueuwcm6zoycBgmlkgnY0gmlwhKwS896KbXVsdGlhZGRyc4wACgSsEvPeBmZS3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIIyBQoWaYiKVU852n-JfWqItDcXd83JOxamhzzqKE1SIN0Y3CCZlGDdWRwgmZThXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26192/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.149/tcp/51065/p2p/16Uiu2HAmHY1FK5ngVE8AMU1cW7iMDK8fWLB2DWgG9VcLxXZg5xm7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-26_14-56-34__fc82a67f-80dd-41c2-aeab-e5e51c92617f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.114.226
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['29015', '29016', '29017', '29018', '29019']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 29015:29015 -p 29016:29016 -p 29017:29017 -p 29018:29018 -p 29019:29019 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29017 --rest-port=29015 --tcp-port=29016 --discv5-udp-port=29018 --rest-address=0.0.0.0 --nat=extip:172.18.114.226 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9d14c4fe99dc3c2e76ee865809bc1e1cf9c9ad0e1b4e1d86d3ffec5a007ecba1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29019 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKn8gttIuCByx48dSpCquhYWEMzW2wBK-UgEJ2Z5X0hgPXqtIXQqmLyaMVNaCKwmQ-Yewu3FkrOG1QvaqcOIolwBgmlkgnY0gmlwhKwS_JWKbXVsdGlhZGRyc4wACgSsEvyVBsd63QOCcnOFAAMBAACJc2VjcDI1NmsxoQNIgGIVzcg2VcT-H5w_20pkfKbSS9ytD1Ezlz7GwchUyoN0Y3CCx3mDdWRwgsd7hXdha3UyCQ --lightpushnode=/ip4/172.18.252.149/tcp/51065/p2p/16Uiu2HAmHY1FK5ngVE8AMU1cW7iMDK8fWLB2DWgG9VcLxXZg5xm7 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.114.226 waku cd50da6904ceed40db474054722137343284d46245a049155008f87d3478b9fc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cd50da6904ce. Setting up logs at ./log/docker/lightpush_node1_2024-08-26_14-56-34__fc82a67f-80dd-41c2-aeab-e5e51c92617f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 29015
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29015/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29015/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.226/tcp/29016/p2p/16Uiu2HAm9QHsYLCYuUwvrunNTr9TJvSRQ2TRf1toW4FfCkMsDpJf","/ip4/172.18.114.226/tcp/29017/ws/p2p/16Uiu2HAm9QHsYLCYuUwvrunNTr9TJvSRQ2TRf1toW4FfCkMsDpJf"],"enrUri":"enr:-LO4QGJjbcr7lCN2eLS9Eg0TM406Iom935iMxroo-ny4o0F1HExALhNY43kkII1uMw8-701nz5j8hVRrxidzjWMYMOgBgmlkgnY0gmlwhKwScuKKbXVsdGlhZGRyc4wACgSsEnLiBnFZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLPqQnuC9tQiPtMmsh7AXHIpeHr8Z3db_1NbKG9Jr-rXIN0Y3CCcViDdWRwgnFahXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29015/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.149/tcp/51065/p2p/16Uiu2HAmHY1FK5ngVE8AMU1cW7iMDK8fWLB2DWgG9VcLxXZg5xm7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29015/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.243.222/tcp/26193/p2p/16Uiu2HAkv1xC6wAp7oDst5wWf4PEvjwyiyy4THUzXpKsHzEPPZom"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51064/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26192/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29015/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1724684199731008512}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29015/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2d92079a55f0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 31f1277293b4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cd50da6904ce
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'error': ['DBG 2024-08-26 14:56:39.734+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:51888 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"']
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-08-26_14-56-46__894db5c9-e502-4013-bb84-bf0c2f784520
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-26_14-56-46__894db5c9-e502-4013-bb84-bf0c2f784520__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.235.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63415', '63416', '63417', '63418', '63419']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63415:63415 -p 63416:63416 -p 63417:63417 -p 63418:63418 -p 63419:63419 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63417 --rest-port=63415 --tcp-port=63416 --discv5-udp-port=63418 --rest-address=0.0.0.0 --nat=extip:172.18.235.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=433edef12ee44b36a0cf1ebabf4db7e6de3e844bb68ceffb6a9f0b6ff88ff02c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63419 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.235.42 waku 7223ce9b801d1b2ffa6d8dc30fa5191a8a11badf9170a93ed96e9af269568338
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7223ce9b801d. Setting up logs at ./log/docker/receiving_node1_2024-08-26_14-56-46__894db5c9-e502-4013-bb84-bf0c2f784520__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63415
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63415/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63415/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.235.42/tcp/63416/p2p/16Uiu2HAkzTwpuztaMeHmMmzk94pBzk3spq675sZKZuzxPB1Jvd6e","/ip4/172.18.235.42/tcp/63417/ws/p2p/16Uiu2HAkzTwpuztaMeHmMmzk94pBzk3spq675sZKZuzxPB1Jvd6e"],"enrUri":"enr:-LO4QJHIiUKGXnDvvWdc70mqEwSB8oviDMBfS8jxHBGCpxP3Wlz-1IzH-23h5wrUpoq0qDPtap_cQbKh5syJ7FlOSwkBgmlkgnY0gmlwhKwS6yqKbXVsdGlhZGRyc4wACgSsEusqBve53QOCcnOFAAMBAACJc2VjcDI1NmsxoQJK34OwnHYrQt05Em7wyVjXr88-AdO-mR0Sji-v0Or5L4N0Y3CC97iDdWRwgve6hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-26_14-56-46__894db5c9-e502-4013-bb84-bf0c2f784520__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.183.1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['26773', '26774', '26775', '26776', '26777']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 26773:26773 -p 26774:26774 -p 26775:26775 -p 26776:26776 -p 26777:26777 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26775 --rest-port=26773 --tcp-port=26774 --discv5-udp-port=26776 --rest-address=0.0.0.0 --nat=extip:172.18.183.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2acd87fceca8a7bbcfda9cb1a6e9b1ef74ff4f7e2841764faf4dbab719f23c3b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26777 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.183.1 waku 495610f95a84905ac5992154cdbc3851296050900a0ccdf528e89ae674a4260a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 495610f95a84. Setting up logs at ./log/docker/receiving_node2_2024-08-26_14-56-46__894db5c9-e502-4013-bb84-bf0c2f784520__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 26773
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26773/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26773/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.183.1/tcp/26774/p2p/16Uiu2HAmHbKKmfJe3wP6nA5jN69h1JTsQgXHKupeJWw21Wq33vCD","/ip4/172.18.183.1/tcp/26775/ws/p2p/16Uiu2HAmHbKKmfJe3wP6nA5jN69h1JTsQgXHKupeJWw21Wq33vCD"],"enrUri":"enr:-LO4QC047HutWMjPfzUdF7lOb8lMB9LuGVxNHIBW9LcGvgVhJk2qlYNG7M7_EvGmpGcC-I56KUOPE0YxSpzeAoUZQYYBgmlkgnY0gmlwhKwStwGKbXVsdGlhZGRyc4wACgSsErcBBmiX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNJWZCtrtU9qunmjIdfh01rsfzR3YakfVa516huRhW1roN0Y3CCaJaDdWRwgmiYhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26773/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.235.42/tcp/63416/p2p/16Uiu2HAkzTwpuztaMeHmMmzk94pBzk3spq675sZKZuzxPB1Jvd6e"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-26_14-56-46__894db5c9-e502-4013-bb84-bf0c2f784520__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.98.231
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15770', '15771', '15772', '15773', '15774']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15770:15770 -p 15771:15771 -p 15772:15772 -p 15773:15773 -p 15774:15774 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15772 --rest-port=15770 --tcp-port=15771 --discv5-udp-port=15773 --rest-address=0.0.0.0 --nat=extip:172.18.98.231 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8f97ddb6d26bc71223e93dbc1cee511ca3c9f92ac55d609bd6aa24bedb409adb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15774 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJHIiUKGXnDvvWdc70mqEwSB8oviDMBfS8jxHBGCpxP3Wlz-1IzH-23h5wrUpoq0qDPtap_cQbKh5syJ7FlOSwkBgmlkgnY0gmlwhKwS6yqKbXVsdGlhZGRyc4wACgSsEusqBve53QOCcnOFAAMBAACJc2VjcDI1NmsxoQJK34OwnHYrQt05Em7wyVjXr88-AdO-mR0Sji-v0Or5L4N0Y3CC97iDdWRwgve6hXdha3UyCQ --lightpushnode=/ip4/172.18.235.42/tcp/63416/p2p/16Uiu2HAkzTwpuztaMeHmMmzk94pBzk3spq675sZKZuzxPB1Jvd6e --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.98.231 waku fd73ff71530c4de499b5c51b9c93325e356580f71ee54a08b62fe6a5b93f0a96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fd73ff71530c. Setting up logs at ./log/docker/lightpush_node1_2024-08-26_14-56-46__894db5c9-e502-4013-bb84-bf0c2f784520__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15770
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15770/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15770/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.98.231/tcp/15771/p2p/16Uiu2HAmEy45Q2Xq6MxHGWiXs7D8yZxkyzyRmGGW6PPdzfPGoMdG","/ip4/172.18.98.231/tcp/15772/ws/p2p/16Uiu2HAmEy45Q2Xq6MxHGWiXs7D8yZxkyzyRmGGW6PPdzfPGoMdG"],"enrUri":"enr:-LO4QJCi8r14aB0EtQLqsEVyq0MHlAt_0tcqqGHztPzotoPRe-6zL6GJB7OX9eNzZyua-wYaoWPtQnSMIeyMMG9vswkBgmlkgnY0gmlwhKwSYueKbXVsdGlhZGRyc4wACgSsEmLnBj2c3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMiWAqaSEIt3WyY2EkwA5DdbPa1CKQrE2FYX7LfQfBV54N0Y3CCPZuDdWRwgj2dhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15770/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.235.42/tcp/63416/p2p/16Uiu2HAkzTwpuztaMeHmMmzk94pBzk3spq675sZKZuzxPB1Jvd6e"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15770/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.183.1/tcp/26774/p2p/16Uiu2HAmHbKKmfJe3wP6nA5jN69h1JTsQgXHKupeJWw21Wq33vCD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63415/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26773/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15770/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1724684211776987392}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:15770/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7223ce9b801d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 495610f95a84
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fd73ff71530c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'error': ['DBG 2024-08-26 14:56:51.779+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:38108 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"']
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-08-26_14-56-59__a9bf5e58-0884-4ae2-a1fa-d839b52b23d7
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-26_14-56-59__a9bf5e58-0884-4ae2-a1fa-d839b52b23d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.115.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['11423', '11424', '11425', '11426', '11427']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 11423:11423 -p 11424:11424 -p 11425:11425 -p 11426:11426 -p 11427:11427 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11425 --rest-port=11423 --tcp-port=11424 --discv5-udp-port=11426 --rest-address=0.0.0.0 --nat=extip:172.18.115.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d46f44928edaaedefda1caf19ec30e64daebe52d99b56c4f4a7509e6df1b0113 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11427 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.115.142 waku e8d2329f013707d1cfa79932a41811789c6677767ca5f413bdd7da61d7464785
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e8d2329f0137. Setting up logs at ./log/docker/receiving_node1_2024-08-26_14-56-59__a9bf5e58-0884-4ae2-a1fa-d839b52b23d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11423
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11423/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11423/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.115.142/tcp/11424/p2p/16Uiu2HAmRvpdRJdiYNtouij5e8FciLZYRsAAQ5Edis5FQhKZjzM7","/ip4/172.18.115.142/tcp/11425/ws/p2p/16Uiu2HAmRvpdRJdiYNtouij5e8FciLZYRsAAQ5Edis5FQhKZjzM7"],"enrUri":"enr:-LO4QFH1sIjrJPmC8l10hAtPRdW1odbxYxPPqlJ-BjbJDdQdbYBpBERTP16SRjPPrPs6FVmSLhnejHE4LvmocudTuc4BgmlkgnY0gmlwhKwSc46KbXVsdGlhZGRyc4wACgSsEnOOBiyh3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPFNjr7vqygUy7WbpNH2sAgNcygxQ2aVdz68T9sYje04oN0Y3CCLKCDdWRwgiyihXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-26_14-56-59__a9bf5e58-0884-4ae2-a1fa-d839b52b23d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.140.182
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['45299', '45300', '45301', '45302', '45303']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 45299:45299 -p 45300:45300 -p 45301:45301 -p 45302:45302 -p 45303:45303 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45301 --rest-port=45299 --tcp-port=45300 --discv5-udp-port=45302 --rest-address=0.0.0.0 --nat=extip:172.18.140.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cc1eaac0ef9c4c7b9b41ecfcd5e7df1cf86a92107b3fac8e8a6dcc0f05f32fc6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45303 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.140.182 waku b6708deefcfc4930ced89954e91e63dbfb84dd6bd3f9466c5c8a43b9a6d1e02d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b6708deefcfc. Setting up logs at ./log/docker/receiving_node2_2024-08-26_14-56-59__a9bf5e58-0884-4ae2-a1fa-d839b52b23d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 45299
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45299/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45299/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.140.182/tcp/45300/p2p/16Uiu2HAkuu6BYh19qsdg96gshccf5Fdk8N5bX3XeLhYSgFKyGbtM","/ip4/172.18.140.182/tcp/45301/ws/p2p/16Uiu2HAkuu6BYh19qsdg96gshccf5Fdk8N5bX3XeLhYSgFKyGbtM"],"enrUri":"enr:-LO4QBtYNvKLCdlcJ2tm7oNU3xc7-CpL27qysmwUAQZym52-cQ_eMXJQz9CDX0dmb32bbVyULFMgqc6rWa9hzF1ousgBgmlkgnY0gmlwhKwSjLaKbXVsdGlhZGRyc4wACgSsEoy2BrD13QOCcnOFAAMBAACJc2VjcDI1NmsxoQIHBgxBFZtmBCDb2hWGB-dputuXlnLVd615CIr7V7_LgoN0Y3CCsPSDdWRwgrD2hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45299/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.142/tcp/11424/p2p/16Uiu2HAmRvpdRJdiYNtouij5e8FciLZYRsAAQ5Edis5FQhKZjzM7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-26_14-56-59__a9bf5e58-0884-4ae2-a1fa-d839b52b23d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.52.228
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['29843', '29844', '29845', '29846', '29847']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 29843:29843 -p 29844:29844 -p 29845:29845 -p 29846:29846 -p 29847:29847 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29845 --rest-port=29843 --tcp-port=29844 --discv5-udp-port=29846 --rest-address=0.0.0.0 --nat=extip:172.18.52.228 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=27aeaef152e52a08b92f53d65b2be1dea4eaada569d86dfbab4a7bab4885105d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29847 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QFH1sIjrJPmC8l10hAtPRdW1odbxYxPPqlJ-BjbJDdQdbYBpBERTP16SRjPPrPs6FVmSLhnejHE4LvmocudTuc4BgmlkgnY0gmlwhKwSc46KbXVsdGlhZGRyc4wACgSsEnOOBiyh3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPFNjr7vqygUy7WbpNH2sAgNcygxQ2aVdz68T9sYje04oN0Y3CCLKCDdWRwgiyihXdha3UyCQ --lightpushnode=/ip4/172.18.115.142/tcp/11424/p2p/16Uiu2HAmRvpdRJdiYNtouij5e8FciLZYRsAAQ5Edis5FQhKZjzM7 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.52.228 waku 9068d6012b458317649ca615e52379334ad8a5918627c905aae47bfdb7d9fb32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9068d6012b45. Setting up logs at ./log/docker/lightpush_node1_2024-08-26_14-56-59__a9bf5e58-0884-4ae2-a1fa-d839b52b23d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 29843
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29843/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29843/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.52.228/tcp/29844/p2p/16Uiu2HAmDKUcxpAetEFMStN6Sj8VqPSkCJUGCpKetekX6sMec4B5","/ip4/172.18.52.228/tcp/29845/ws/p2p/16Uiu2HAmDKUcxpAetEFMStN6Sj8VqPSkCJUGCpKetekX6sMec4B5"],"enrUri":"enr:-LO4QOWVNKMYL40EXF9jE9udL2MYToVjgRBtmcX4SgNlgbt8UfJ848fzvipRV7PkAFrkVNm90SA-pAU0KlzCjArw_FsBgmlkgnY0gmlwhKwSNOSKbXVsdGlhZGRyc4wACgSsEjTkBnSV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMJ3Ak25ABdnSzBurIWG7kFB3dvesJRiuzVyrIu2GA1_IN0Y3CCdJSDdWRwgnSWhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29843/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.142/tcp/11424/p2p/16Uiu2HAmRvpdRJdiYNtouij5e8FciLZYRsAAQ5Edis5FQhKZjzM7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29843/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.140.182/tcp/45300/p2p/16Uiu2HAkuu6BYh19qsdg96gshccf5Fdk8N5bX3XeLhYSgFKyGbtM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11423/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45299/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29843/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1724684225323364864}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29843/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e8d2329f0137
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b6708deefcfc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9068d6012b45
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'error': ['DBG 2024-08-26 14:57:05.325+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=POST peer=172.17.0.1:60306 uri=/lightpush/v1/message error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"']