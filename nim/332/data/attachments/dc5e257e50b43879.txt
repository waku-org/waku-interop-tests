[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_passing_cursor_of_the_last_message_from_the_store with id: 2024-08-26_15-13-42__47a8ed01-af21-4433-bbf9-f8b6581031f3
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-08-26_15-13-42__47a8ed01-af21-4433-bbf9-f8b6581031f3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.64.173
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['19906', '19907', '19908', '19909', '19910']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 19906:19906 -p 19907:19907 -p 19908:19908 -p 19909:19909 -p 19910:19910 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19908 --rest-port=19906 --tcp-port=19907 --discv5-udp-port=19909 --rest-address=0.0.0.0 --nat=extip:172.18.64.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=24adfa4ec0daae6cb24941bdbef0e29dee014b655ad1e55ffb4afa71be8dac83 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19910 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.64.173 waku 7b7c7a3b2a54ddd16f3db06ed9808bb2677c03c945271189691752d618143037
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7b7c7a3b2a54. Setting up logs at ./log/docker/publishing_node1_2024-08-26_15-13-42__47a8ed01-af21-4433-bbf9-f8b6581031f3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 19906
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19906/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19906/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.64.173/tcp/19907/p2p/16Uiu2HAmQEWkRAtABw9uu6L21KJJ4ngzay7LM6FXci8ArfdP8T59","/ip4/172.18.64.173/tcp/19908/ws/p2p/16Uiu2HAmQEWkRAtABw9uu6L21KJJ4ngzay7LM6FXci8ArfdP8T59"],"enrUri":"enr:-LO4QAv8IEv9yMCes_YnTcbxrVBsGmLYEbc39OY7m_aEIHerQB_67spLaQ1b4-C3lHNIawFP61YDMjA_TsBf78FjsAIBgmlkgnY0gmlwhKwSQK2KbXVsdGlhZGRyc4wACgSsEkCtBk3E3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOsBxhJU-NUwB5u8zOBkTW6VLLAO7C1mM8nF79lUtyCkIN0Y3CCTcODdWRwgk3FhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-08-26_15-13-42__47a8ed01-af21-4433-bbf9-f8b6581031f3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.253.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53510', '53511', '53512', '53513', '53514']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53510:53510 -p 53511:53511 -p 53512:53512 -p 53513:53513 -p 53514:53514 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53512 --rest-port=53510 --tcp-port=53511 --discv5-udp-port=53513 --rest-address=0.0.0.0 --nat=extip:172.18.253.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eebee6e82fe95bc90497add3812cb2bab515cd7ce98d9ff58a7fae63cff7583e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53514 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QAv8IEv9yMCes_YnTcbxrVBsGmLYEbc39OY7m_aEIHerQB_67spLaQ1b4-C3lHNIawFP61YDMjA_TsBf78FjsAIBgmlkgnY0gmlwhKwSQK2KbXVsdGlhZGRyc4wACgSsEkCtBk3E3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOsBxhJU-NUwB5u8zOBkTW6VLLAO7C1mM8nF79lUtyCkIN0Y3CCTcODdWRwgk3FhXdha3UyAw --storenode=/ip4/172.18.64.173/tcp/19907/p2p/16Uiu2HAmQEWkRAtABw9uu6L21KJJ4ngzay7LM6FXci8ArfdP8T59 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.253.17 waku cc616d58dda9171cae6f6d72d8c15419c27e3c27c15a3f404d2e639924a59731
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cc616d58dda9. Setting up logs at ./log/docker/store_node1_2024-08-26_15-13-42__47a8ed01-af21-4433-bbf9-f8b6581031f3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53510
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53510/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53510/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.17/tcp/53511/p2p/16Uiu2HAmHjbiWJAK85AtdFadu9Mc1tZfPLPgyxvSUCG3Co7FV3o7","/ip4/172.18.253.17/tcp/53512/ws/p2p/16Uiu2HAmHjbiWJAK85AtdFadu9Mc1tZfPLPgyxvSUCG3Co7FV3o7"],"enrUri":"enr:-LO4QIccOoB_t1cq-mUbgLiHq4lreEDRXHUt4hvb5_OLJO_vMhjRQ--8CO1N_iD-nZcCmIC9XMksJkVdNBmS4J6LDEMBgmlkgnY0gmlwhKwS_RGKbXVsdGlhZGRyc4wACgSsEv0RBtEI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNLeL8AUbKfpYAweAK93uLf3uo9wuSOVbKIZXv68QGIuoN0Y3CC0QeDdWRwgtEJhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53510/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.64.173/tcp/19907/p2p/16Uiu2HAmQEWkRAtABw9uu6L21KJJ4ngzay7LM6FXci8ArfdP8T59"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19906/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53510/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19906/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=10&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"d1mbGqqoVED45vUpMtJ7VazpXMxMwUKw7Y3RYsl54L4="},{"messageHash":"TgU8nsxuneDEvevzaT3NcaG9+SRx0+Ngf+ycv0c83b0="},{"messageHash":"c+zlZ5uVKeFePrsFCr0bjisf6Wss33jXY4jM5PNbU6o="},{"messageHash":"Sn20eprdnq5IIqOqvCTseqchdGTrS2np20AF3j5OJAE="},{"messageHash":"KiOmcf/W2rmh3czx6Wx5EjdalSWRLVm7vigoIySwCXQ="},{"messageHash":"xPAb7CgJbhGtROmYCYuQ669ekh5g/71+J8YT6R2Ff/Y="},{"messageHash":"zmuhsnDaQZVxa3hHBo7odMNQMySREfIwahyBdWUtbpk="},{"messageHash":"COf2p5kZ45Xj1MXovFL8juWoVHuZcCf0A7p/6NUCOcQ="},{"messageHash":"yCFclcPwdZwsNxPB4bs730Trucs1jnJYlP9rF3eQGvQ="},{"messageHash":"9uo0WUkfUwheV6FH8JOdgxRZsvI8CIfqY6LrGAiZE+8="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53510/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=10&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"d1mbGqqoVED45vUpMtJ7VazpXMxMwUKw7Y3RYsl54L4="},{"messageHash":"TgU8nsxuneDEvevzaT3NcaG9+SRx0+Ngf+ycv0c83b0="},{"messageHash":"c+zlZ5uVKeFePrsFCr0bjisf6Wss33jXY4jM5PNbU6o="},{"messageHash":"Sn20eprdnq5IIqOqvCTseqchdGTrS2np20AF3j5OJAE="},{"messageHash":"KiOmcf/W2rmh3czx6Wx5EjdalSWRLVm7vigoIySwCXQ="},{"messageHash":"xPAb7CgJbhGtROmYCYuQ669ekh5g/71+J8YT6R2Ff/Y="},{"messageHash":"zmuhsnDaQZVxa3hHBo7odMNQMySREfIwahyBdWUtbpk="},{"messageHash":"COf2p5kZ45Xj1MXovFL8juWoVHuZcCf0A7p/6NUCOcQ="},{"messageHash":"yCFclcPwdZwsNxPB4bs730Trucs1jnJYlP9rF3eQGvQ="},{"messageHash":"9uo0WUkfUwheV6FH8JOdgxRZsvI8CIfqY6LrGAiZE+8="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19906/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=9uo0WUkfUwheV6FH8JOdgxRZsvI8CIfqY6LrGAiZE%2B8%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53510/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=9uo0WUkfUwheV6FH8JOdgxRZsvI8CIfqY6LrGAiZE%2B8%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7b7c7a3b2a54
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cc616d58dda9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.