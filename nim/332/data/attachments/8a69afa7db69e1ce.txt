[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_unsubscribe_with_invalid_pubsub_topic_format with id: 2024-08-26_15-05-51__5fa3acd9-e4c9-45c6-98cf-69c9d3d1949f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-26_15-05-51__5fa3acd9-e4c9-45c6-98cf-69c9d3d1949f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.204.47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47460', '47461', '47462', '47463', '47464']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47460:47460 -p 47461:47461 -p 47462:47462 -p 47463:47463 -p 47464:47464 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47462 --rest-port=47460 --tcp-port=47461 --discv5-udp-port=47463 --rest-address=0.0.0.0 --nat=extip:172.18.204.47 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=22ded4bcc0c4aeb4dce2610d877f9054c1dd76daf2cda3641f9d5cb2aefcccad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47464 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.204.47 waku 4e7ebf418ff337f99e38347c689794728185f8677288209799b5b0098c021b61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4e7ebf418ff3. Setting up logs at ./log/docker/node1_2024-08-26_15-05-51__5fa3acd9-e4c9-45c6-98cf-69c9d3d1949f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47460
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47460/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47460/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.204.47/tcp/47461/p2p/16Uiu2HAmFnug8MfAMf6D6XLRPWmUXjUDy4Yuykf5Ta6ZViCjGoTo","/ip4/172.18.204.47/tcp/47462/ws/p2p/16Uiu2HAmFnug8MfAMf6D6XLRPWmUXjUDy4Yuykf5Ta6ZViCjGoTo"],"enrUri":"enr:-LO4QJX8oBZ9HBH3LJenRBUeg6O_GJGqK4BZnuZgHxN8VZYWWI2b9r7x3U1r8Qfh74boZpYNjQ5pEbtUf2lyFyFMImUBgmlkgnY0gmlwhKwSzC-KbXVsdGlhZGRyc4wACgSsEswvBrlm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMummvE8g6xK5cC6kFlZqNNt2y_oe-O-x3YZ1q8eY75ooN0Y3CCuWWDdWRwgrlnhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-26_15-05-51__5fa3acd9-e4c9-45c6-98cf-69c9d3d1949f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.59.46
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['52005', '52006', '52007', '52008', '52009']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 52005:52005 -p 52006:52006 -p 52007:52007 -p 52008:52008 -p 52009:52009 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52007 --rest-port=52005 --tcp-port=52006 --discv5-udp-port=52008 --rest-address=0.0.0.0 --nat=extip:172.18.59.46 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2b99cfaafbf8ba57c6f674cac290ad7fcbea91b5ecc0a21ea8886bedeac8fce5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52009 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QJX8oBZ9HBH3LJenRBUeg6O_GJGqK4BZnuZgHxN8VZYWWI2b9r7x3U1r8Qfh74boZpYNjQ5pEbtUf2lyFyFMImUBgmlkgnY0gmlwhKwSzC-KbXVsdGlhZGRyc4wACgSsEswvBrlm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMummvE8g6xK5cC6kFlZqNNt2y_oe-O-x3YZ1q8eY75ooN0Y3CCuWWDdWRwgrlnhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.59.46 waku de75bc4903d8a3de6508b616382ae3e19cfa33471088530a4f78e98df0bfaa66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID de75bc4903d8. Setting up logs at ./log/docker/node2_2024-08-26_15-05-51__5fa3acd9-e4c9-45c6-98cf-69c9d3d1949f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 52005
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52005/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52005/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.59.46/tcp/52006/p2p/16Uiu2HAm8aG5UFK662GBD9DsqLU3xAqV9oe46Ker2c49YkuCSpSp","/ip4/172.18.59.46/tcp/52007/ws/p2p/16Uiu2HAm8aG5UFK662GBD9DsqLU3xAqV9oe46Ker2c49YkuCSpSp"],"enrUri":"enr:-LO4QGn0Feerr1i9Mcxg9k4UQZDRn_PSY0C3TwzwKtp5jhIeRcYsRmj-cugUY3r4OUW0d5O0oSthJa3TZvVu14rdmXYBgmlkgnY0gmlwhKwSOy6KbXVsdGlhZGRyc4wACgSsEjsuBssn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLDWyGQh-e8IacsJ58McSU0BZYvp1ac0vIPIy1U9KV9zYN0Y3CCyyaDdWRwgssohXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52005/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.204.47/tcp/47461/p2p/16Uiu2HAmFnug8MfAMf6D6XLRPWmUXjUDy4Yuykf5Ta6ZViCjGoTo"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /test/2/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:47460/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:47460/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/3/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:47460/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:47460/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/test/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:47460/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:47460/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/3/b
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:47460/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:47460/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:47460/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:47460/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4e7ebf418ff3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id de75bc4903d8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'error': ['DBG 2024-08-26 15:05:55.351+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=DELETE peer=172.17.0.1:60836 uri=/relay/v1/subscriptions error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 15:05:55.356+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=DELETE peer=172.17.0.1:60846 uri=/relay/v1/subscriptions error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 15:05:55.360+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=DELETE peer=172.17.0.1:60860 uri=/relay/v1/subscriptions error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 15:05:55.363+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=DELETE peer=172.17.0.1:60870 uri=/relay/v1/subscriptions error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"', 'DBG 2024-08-26 15:05:55.366+00:00 Received error response from handler       tid=1 file=serverprivate.nim:314 status=400 meth=DELETE peer=172.17.0.1:60884 uri=/relay/v1/subscriptions error_status="400 Bad Request" error_content_type=text/plain error_message="Invalid content body, could not decode. Unable to deserialize data"']