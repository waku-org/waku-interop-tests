{"uid":"1c930fbe3535504d","name":"test_light_push_with_missing_pubsub_topics","fullName":"tests.light_push.test_publish.TestLightPushPublish#test_light_push_with_missing_pubsub_topics","historyId":"1d468b59ab821dc43c1069444cc64cbf","time":{"start":1724684246830,"stop":1724684246841,"duration":11},"status":"failed","statusMessage":"AssertionError","statusTrace":"/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/allure_commons/_allure.py:221: in __call__\n    return self._fixture_function(*args, **kwargs)\ntests/conftest.py:100: in check_waku_log_errors\n    node.check_waku_log_errors()\nsrc/node/waku_node.py:558: in check_waku_log_errors\n    assert not self._docker_manager.search_log_for_keywords(self._log_path, keywords, False)\nE   AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1724683441371,"stop":1724683441371,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1724684241256,"stop":1724684241256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1724684241256,"stop":1724684241256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1724684241256,"stop":1724684241256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1724684241256,"stop":1724684241256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1724684241257,"stop":1724684241257,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1724684241257,"stop":1724684241257,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_publish_setup","time":{"start":1724684241257,"stop":1724684246829,"duration":5572},"status":"passed","steps":[{"name":"setup_first_receiving_node","time":{"start":1724684241257,"stop":1724684242969,"duration":1712},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1724684241258,"stop":1724684242969,"duration":1711},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1724684242969,"stop":1724684242969,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f2d53e32840>, <src.node.waku_node.WakuNode object at 0x7f2d536fb380>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_second_receiving_node","time":{"start":1724684242969,"stop":1724684244780,"duration":1811},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1724684242969,"stop":1724684244779,"duration":1810},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1724684244738,"stop":1724684244779,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f2d53e32840>, <src.node.waku_node.WakuNode object at 0x7f2d537b9490>, ['/ip4/172.18.48.241/tcp/23786/p2p/16Uiu2HAmPqRngdc9P4kXLneuv3EETzZ8FDRNmoA1nWA1Ubdi6kPn'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"2"},{"name":"lightpush","value":"'false'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'false'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_lightpush_node","time":{"start":1724684244781,"stop":1724684246819,"duration":2038},"status":"passed","steps":[{"name":"setup_lightpush_node","time":{"start":1724684244781,"stop":1724684246814,"duration":2033},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1724684246728,"stop":1724684246814,"duration":86},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f2d53e32840>, <src.node.waku_node.WakuNode object at 0x7f2d536da510>, ['/ip4/172.18.48.241/tcp/23786/p2p/16Uiu2HAmPqRngdc9P4kXLneuv3EETzZ8FDRNmoA1nWA1Ubdi6kPn', '/ip4/172.18.241.147/tcp/24035/p2p/16Uiu2HAm7YSw7SAFag1TrQGbGKry6pYNhQfRXsdDhK3h3B6ajRTA'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1724684246819,"stop":1724684246829,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1724684241257,"stop":1724684241257,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError","statusTrace":"/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/allure_commons/_allure.py:221: in __call__\n    return self._fixture_function(*args, **kwargs)\ntests/conftest.py:100: in check_waku_log_errors\n    node.check_waku_log_errors()\nsrc/node/waku_node.py:558: in check_waku_log_errors\n    assert not self._docker_manager.search_log_for_keywords(self._log_path, keywords, False)\nE   AssertionError","steps":[{"name":"create_message","time":{"start":1724684246830,"stop":1724684246830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"af02bdacf0aa46a8","name":"log","source":"af02bdacf0aa46a8.txt","type":"text/plain","size":46311}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1724684246843,"stop":1724684246848,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1724684246848,"stop":1724684254246,"duration":7398},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1724684254246,"stop":1724684254255,"duration":9},"status":"failed","statusMessage":"AssertionError\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.5/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 926, in _teardown_yield_fixture\n    next(it)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/tests/conftest.py\", line 100, in check_waku_log_errors\n    node.check_waku_log_errors()\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 558, in check_waku_log_errors\n    assert not self._docker_manager.search_log_for_keywords(self._log_path, keywords, False)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1724684254255,"stop":1724684254255,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1724685841114,"stop":1724685841114,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.xfail(False, reason='https://github.com/waku-org/go-waku/issues/1078')"},{"name":"parentSuite","value":"tests.light_push"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestLightPushPublish"},{"name":"host","value":"fv-az849-309"},{"name":"thread","value":"2247-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.light_push.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"9f6679ffa01e0c18","status":"failed","statusDetails":"AssertionError","time":{"start":1724684233640,"stop":1724684233650,"duration":10}},{"uid":"a1693c99d052c277","status":"failed","statusDetails":"AssertionError","time":{"start":1724684220403,"stop":1724684220412,"duration":9}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":24,"unknown":0,"total":25},"items":[{"uid":"68672dde83db29b8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/331//#testresult/68672dde83db29b8","status":"passed","time":{"start":1724646060304,"stop":1724646060312,"duration":8}},{"uid":"3191bff3aeed3be6","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/330//#testresult/3191bff3aeed3be6","status":"passed","time":{"start":1724559603998,"stop":1724559604005,"duration":7}},{"uid":"9874dc7131e80032","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/329//#testresult/9874dc7131e80032","status":"passed","time":{"start":1724473222238,"stop":1724473222245,"duration":7}},{"uid":"478da222a0e8a8f3","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/328//#testresult/478da222a0e8a8f3","status":"passed","time":{"start":1724386853544,"stop":1724386853553,"duration":9}},{"uid":"6200a5f5f80128ae","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/327//#testresult/6200a5f5f80128ae","status":"passed","time":{"start":1724300435259,"stop":1724300435274,"duration":15}},{"uid":"d6afc512eee4581c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/326//#testresult/d6afc512eee4581c","status":"passed","time":{"start":1724214079902,"stop":1724214079910,"duration":8}},{"uid":"dfdc1c19589ea2cd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/325//#testresult/dfdc1c19589ea2cd","status":"passed","time":{"start":1724144889875,"stop":1724144889886,"duration":11}},{"uid":"f801f5e28e3ef90c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/324//#testresult/f801f5e28e3ef90c","status":"passed","time":{"start":1724127544982,"stop":1724127544989,"duration":7}},{"uid":"ef8254d27782a3f7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/323//#testresult/ef8254d27782a3f7","status":"passed","time":{"start":1724041044321,"stop":1724041044329,"duration":8}},{"uid":"177905e981f508ac","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/322//#testresult/177905e981f508ac","status":"passed","time":{"start":1723954673457,"stop":1723954673470,"duration":13}},{"uid":"bfa2504ff7c3a235","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/321//#testresult/bfa2504ff7c3a235","status":"passed","time":{"start":1723868316069,"stop":1723868316076,"duration":7}},{"uid":"50cc64e0b09b3ad","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/320//#testresult/50cc64e0b09b3ad","status":"passed","time":{"start":1723795711029,"stop":1723795711037,"duration":8}},{"uid":"203eb2180b0a62a7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/319//#testresult/203eb2180b0a62a7","status":"passed","time":{"start":1723793401933,"stop":1723793401944,"duration":11}},{"uid":"763a0d858cbb8041","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/318//#testresult/763a0d858cbb8041","status":"passed","time":{"start":1723781835007,"stop":1723781835024,"duration":17}},{"uid":"2c729f156df22962","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/317//#testresult/2c729f156df22962","status":"passed","time":{"start":1723695436392,"stop":1723695436403,"duration":11}},{"uid":"f6d8a36966d058c3","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/316//#testresult/f6d8a36966d058c3","status":"passed","time":{"start":1723609064413,"stop":1723609064421,"duration":8}},{"uid":"f4dd605b8e6de363","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/315//#testresult/f4dd605b8e6de363","status":"passed","time":{"start":1723522661900,"stop":1723522661909,"duration":9}},{"uid":"db58b230bf189822","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/314//#testresult/db58b230bf189822","status":"passed","time":{"start":1723436255631,"stop":1723436255639,"duration":8}},{"uid":"badf9867d9312a4","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/313//#testresult/badf9867d9312a4","status":"passed","time":{"start":1723349857753,"stop":1723349857761,"duration":8}},{"uid":"fd5ba29159fedfcc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/312//#testresult/fd5ba29159fedfcc","status":"passed","time":{"start":1723263496226,"stop":1723263496236,"duration":10}}]},"tags":["@pytest.mark.xfail(False, reason='https://github.com/waku-org/go-waku/issues/1078')"]},"source":"1c930fbe3535504d.json","parameterValues":[]}