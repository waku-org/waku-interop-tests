[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_valid_payloads_with_optional_nodes_at_spam_rate with id: 2024-08-26_04-32-14__a880ff72-5beb-48e3-adf6-71de9193c642
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-26_04-32-14__a880ff72-5beb-48e3-adf6-71de9193c642__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.90.212
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['19830', '19831', '19832', '19833', '19834']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_yyjq_1:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_yyjq_1:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 19830:19830 -p 19831:19831 -p 19832:19832 -p 19833:19833 -p 19834:19834 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19832 --rest-port=19830 --tcp-port=19831 --discv5-udp-port=19833 --rest-address=0.0.0.0 --nat=extip:172.18.90.212 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=efc4bafa921fb5a34b79d0646e47dbc3edd815f75fdd108fd69a3d5aba0f2ecd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19834 --metrics-logging=true --relay=true --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.90.212 waku e4e20e1d41580489393bbd78016f8f0e9f147d17bc296a4f4c00fda14c199b53
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e4e20e1d4158. Setting up logs at ./log/docker/node1_2024-08-26_04-32-14__a880ff72-5beb-48e3-adf6-71de9193c642__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 19830
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19830/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19830/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19830/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.212/tcp/19831/p2p/16Uiu2HAmVYhB53dQVq6JTEGG6JwwLxzsvPwptPJi4mNbkbuhLoZe","/ip4/172.18.90.212/tcp/19832/ws/p2p/16Uiu2HAmVYhB53dQVq6JTEGG6JwwLxzsvPwptPJi4mNbkbuhLoZe"],"enrUri":"enr:-LO4QBqhpug3eDsby5xOnj6HCyEwdk_qorNhxyBPKLo3czoQKop1HnNPxXKT5EEnOZ79ZVZ8oqH-pGjUQnyTYtzCJasBgmlkgnY0gmlwhKwSWtSKbXVsdGlhZGRyc4wACgSsElrUBk143QOCcnOFAAMBAACJc2VjcDI1NmsxoQP6-cWOpcdwtryHaEEkeBX4FTP5c6YK5gS8bblZXSzX1YN0Y3CCTXeDdWRwgk15hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-26_04-32-14__a880ff72-5beb-48e3-adf6-71de9193c642__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.172.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['4897', '4898', '4899', '4900', '4901']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_xpqe_2:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_xpqe_2:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 4897:4897 -p 4898:4898 -p 4899:4899 -p 4900:4900 -p 4901:4901 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4899 --rest-port=4897 --tcp-port=4898 --discv5-udp-port=4900 --rest-address=0.0.0.0 --nat=extip:172.18.172.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ae5b39ba22adf5ff27bcef1bb9f27ae88d1438f4e6d1a2658dfe861cc972a58 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4901 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBqhpug3eDsby5xOnj6HCyEwdk_qorNhxyBPKLo3czoQKop1HnNPxXKT5EEnOZ79ZVZ8oqH-pGjUQnyTYtzCJasBgmlkgnY0gmlwhKwSWtSKbXVsdGlhZGRyc4wACgSsElrUBk143QOCcnOFAAMBAACJc2VjcDI1NmsxoQP6-cWOpcdwtryHaEEkeBX4FTP5c6YK5gS8bblZXSzX1YN0Y3CCTXeDdWRwgk15hXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.172.56 waku 8a7453f32e5ce10d699d13f542bc62d10d54dcdb283e54464b6e27cc8ee12313
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8a7453f32e5c. Setting up logs at ./log/docker/node2_2024-08-26_04-32-14__a880ff72-5beb-48e3-adf6-71de9193c642__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 4897
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4897/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4897/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.56/tcp/4898/p2p/16Uiu2HAmNFKsDw5PdCUH1rGMfbyj9Erq88p58HhWJ1phiTKNJHHJ","/ip4/172.18.172.56/tcp/4899/ws/p2p/16Uiu2HAmNFKsDw5PdCUH1rGMfbyj9Erq88p58HhWJ1phiTKNJHHJ"],"enrUri":"enr:-LO4QMjKEQxQ5EG_dJdN_p-MQxkdDpUsTEQnGuFGNtI507XkGGp7qW4hQ44qwPElTT7H9RQYyD2j3AHTzRiMbMQG4_MBgmlkgnY0gmlwhKwSrDiKbXVsdGlhZGRyc4wACgSsEqw4BhMj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOOhP8se-UZudbhWzGF6-9jNpwPLIlUCMBvuHMUJ70hKYN0Y3CCEyKDdWRwghMkhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4897/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.90.212/tcp/19831/p2p/16Uiu2HAmVYhB53dQVq6JTEGG6JwwLxzsvPwptPJi4mNbkbuhLoZe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node3_2024-08-26_04-32-14__a880ff72-5beb-48e3-adf6-71de9193c642__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.102.86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['22917', '22918', '22919', '22920', '22921']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_buyr_3:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_buyr_3:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 22917:22917 -p 22918:22918 -p 22919:22919 -p 22920:22920 -p 22921:22921 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22919 --rest-port=22917 --tcp-port=22918 --discv5-udp-port=22920 --rest-address=0.0.0.0 --nat=extip:172.18.102.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f89bcd3b6c6c731ac4a1dda6635cbf9bdafd57aafb619bd898dcf6dd503dbe20 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22921 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBqhpug3eDsby5xOnj6HCyEwdk_qorNhxyBPKLo3czoQKop1HnNPxXKT5EEnOZ79ZVZ8oqH-pGjUQnyTYtzCJasBgmlkgnY0gmlwhKwSWtSKbXVsdGlhZGRyc4wACgSsElrUBk143QOCcnOFAAMBAACJc2VjcDI1NmsxoQP6-cWOpcdwtryHaEEkeBX4FTP5c6YK5gS8bblZXSzX1YN0Y3CCTXeDdWRwgk15hXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.102.86 waku d45e5a4282defbdc82f4d40d9c6edfdb43f8aa686a74f45978e26509a6da85ac
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d45e5a4282de. Setting up logs at ./log/docker/node3_2024-08-26_04-32-14__a880ff72-5beb-48e3-adf6-71de9193c642__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 22917
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22917/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22917/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.86/tcp/22918/p2p/16Uiu2HAkwut4mPTGFHuis7C6bGtJHAaivfRZQp29nY2ysuTAi6jk","/ip4/172.18.102.86/tcp/22919/ws/p2p/16Uiu2HAkwut4mPTGFHuis7C6bGtJHAaivfRZQp29nY2ysuTAi6jk"],"enrUri":"enr:-LO4QFyuNtuHhYMGBMG7ggLi2KU6f6tw8GO8dbW1ljI_801hOwU1st9B9Mp9Nij-j3MOomPr6EBAw-NFrG6jR3CVaGwBgmlkgnY0gmlwhKwSZlaKbXVsdGlhZGRyc4wACgSsEmZWBlmH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIk8U1IrdYpkWcecd-jSd5izTXNcvk3hPb3m4lhA5zrm4N0Y3CCWYaDdWRwglmIhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22917/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.90.212/tcp/19831/p2p/16Uiu2HAmVYhB53dQVq6JTEGG6JwwLxzsvPwptPJi4mNbkbuhLoZe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node4_2024-08-26_04-32-14__a880ff72-5beb-48e3-adf6-71de9193c642__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.254.27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['8245', '8246', '8247', '8248', '8249']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_ildp_4:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_ildp_4:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 8245:8245 -p 8246:8246 -p 8247:8247 -p 8248:8248 -p 8249:8249 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8247 --rest-port=8245 --tcp-port=8246 --discv5-udp-port=8248 --rest-address=0.0.0.0 --nat=extip:172.18.254.27 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a785a7ddcddc913ebc3f6dcb8e562e719a74fb3d7536ed7f3e15f1786f37bda1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8249 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBqhpug3eDsby5xOnj6HCyEwdk_qorNhxyBPKLo3czoQKop1HnNPxXKT5EEnOZ79ZVZ8oqH-pGjUQnyTYtzCJasBgmlkgnY0gmlwhKwSWtSKbXVsdGlhZGRyc4wACgSsElrUBk143QOCcnOFAAMBAACJc2VjcDI1NmsxoQP6-cWOpcdwtryHaEEkeBX4FTP5c6YK5gS8bblZXSzX1YN0Y3CCTXeDdWRwgk15hXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.254.27 waku 034f929781bae00999610678400faed22947f0f36c3418521a36786df3633982
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 034f929781ba. Setting up logs at ./log/docker/node4_2024-08-26_04-32-14__a880ff72-5beb-48e3-adf6-71de9193c642__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 8245
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8245/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8245/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8245/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.254.27/tcp/8246/p2p/16Uiu2HAm5AAiZstcKfKpnbdUMeZ4HdHSCuudSRAwAKdnWuW5ChQz","/ip4/172.18.254.27/tcp/8247/ws/p2p/16Uiu2HAm5AAiZstcKfKpnbdUMeZ4HdHSCuudSRAwAKdnWuW5ChQz"],"enrUri":"enr:-LO4QMMpxhFU4unoAa73kveuGGKzTMg-DtrL7oxiFVGfGRhYEWC4NHX02XudrkpxV-tbN_s-U2DDufxKO7OHSQPrMpkBgmlkgnY0gmlwhKwS_huKbXVsdGlhZGRyc4wACgSsEv4bBiA33QOCcnOFAAMBAACJc2VjcDI1NmsxoQKQnBHkvqsjsc4e66w6Vi4So7AH-5Myn0cKemCIz6OUp4N0Y3CCIDaDdWRwgiA4hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8245/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.90.212/tcp/19831/p2p/16Uiu2HAmVYhB53dQVq6JTEGG6JwwLxzsvPwptPJi4mNbkbuhLoZe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node5_2024-08-26_04-32-14__a880ff72-5beb-48e3-adf6-71de9193c642__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.37.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['63126', '63127', '63128', '63129', '63130']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_ijxi_5:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_ijxi_5:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 63126:63126 -p 63127:63127 -p 63128:63128 -p 63129:63129 -p 63130:63130 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63128 --rest-port=63126 --tcp-port=63127 --discv5-udp-port=63129 --rest-address=0.0.0.0 --nat=extip:172.18.37.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3145426fcfa81cef875846ffdf322e6ee8b1f5eaa0b6b5a98ce4dbf0cbe13e6f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63130 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBqhpug3eDsby5xOnj6HCyEwdk_qorNhxyBPKLo3czoQKop1HnNPxXKT5EEnOZ79ZVZ8oqH-pGjUQnyTYtzCJasBgmlkgnY0gmlwhKwSWtSKbXVsdGlhZGRyc4wACgSsElrUBk143QOCcnOFAAMBAACJc2VjcDI1NmsxoQP6-cWOpcdwtryHaEEkeBX4FTP5c6YK5gS8bblZXSzX1YN0Y3CCTXeDdWRwgk15hXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.37.221 waku fd0c5df02de226bf3416861a8797c5adfbf5fcb8aa0454ba302138db6a4730d4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID fd0c5df02de2. Setting up logs at ./log/docker/node5_2024-08-26_04-32-14__a880ff72-5beb-48e3-adf6-71de9193c642__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 63126
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63126/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63126/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63126/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.221/tcp/63127/p2p/16Uiu2HAkzhULr9jt7AKya3x7qj1JeEzDMtoHqhqsQfQeBrC7ipFQ","/ip4/172.18.37.221/tcp/63128/ws/p2p/16Uiu2HAkzhULr9jt7AKya3x7qj1JeEzDMtoHqhqsQfQeBrC7ipFQ"],"enrUri":"enr:-LO4QIlNgImTXBhcEOWmMHCGanZE6G70L3LtTeipS-Qd8xfdNDvgmo7-7nuRazjgg4ViqFbKAUI1wgG0yQ9SG0FFjLYBgmlkgnY0gmlwhKwSJd2KbXVsdGlhZGRyc4wACgSsEiXdBvaY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJOVpHQ3Of39T8nHqzcafojf00H9wy9DrCNea6otuwfx4N0Y3CC9peDdWRwgvaZhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63126/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.90.212/tcp/19831/p2p/16Uiu2HAmVYhB53dQVq6JTEGG6JwwLxzsvPwptPJi4mNbkbuhLoZe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19830/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4897/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22917/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8245/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63126/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload A simple string
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload An integer
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #2
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:19830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 1 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload A dictionary
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #3
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:19830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 2 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload Chinese characters
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #4
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:19830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 3 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload Emojis
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #5
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:19830/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 4 & nonceLimit: 1'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id e4e20e1d4158
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 8a7453f32e5c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id d45e5a4282de
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 034f929781ba
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id fd0c5df02de2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.