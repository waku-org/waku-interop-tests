[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_unsubscribed_peer with id: 2024-08-26_04-16-37__4c7b999c-5f84-4bdc-a676-9454fef90c81
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-26_04-16-37__4c7b999c-5f84-4bdc-a676-9454fef90c81__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.161.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['33344', '33345', '33346', '33347', '33348']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 33344:33344 -p 33345:33345 -p 33346:33346 -p 33347:33347 -p 33348:33348 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33346 --rest-port=33344 --tcp-port=33345 --discv5-udp-port=33347 --rest-address=0.0.0.0 --nat=extip:172.18.161.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f5d79b8aabed368c62fdcd4889e4536c2a0afbfa6fea2af6eeeebfbf6ee418f9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33348 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.161.93 waku 011bcacf935039717ab964aef619347f008ca2da3912c9c174a699bd77150324
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 011bcacf9350. Setting up logs at ./log/docker/node1_2024-08-26_04-16-37__4c7b999c-5f84-4bdc-a676-9454fef90c81__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 33344
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33344/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33344/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.93/tcp/33345/p2p/16Uiu2HAm2oNUz7uL8cqHQzhRiQ3ZkSNkdMjaLB3MNf7qdwr8oxc5","/ip4/172.18.161.93/tcp/33346/ws/p2p/16Uiu2HAm2oNUz7uL8cqHQzhRiQ3ZkSNkdMjaLB3MNf7qdwr8oxc5"],"enrUri":"enr:-LO4QOFtGQHBv_KEornSBmZS-VILonK5A4Hoa5zgXtzy4xlidqoCIeImDt2XAtn9PUDnqYsj_yCRt0PV52lfYTV4FggBgmlkgnY0gmlwhKwSoV2KbXVsdGlhZGRyc4wACgSsEqFdBoJC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJtkM1-zvfW91q5UWe02kgqeuTs8B2fvkijlKOpNaMEboN0Y3CCgkGDdWRwgoJDhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-26_04-16-37__4c7b999c-5f84-4bdc-a676-9454fef90c81__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.247.35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['64229', '64230', '64231', '64232', '64233']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 64229:64229 -p 64230:64230 -p 64231:64231 -p 64232:64232 -p 64233:64233 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64231 --rest-port=64229 --tcp-port=64230 --discv5-udp-port=64232 --rest-address=0.0.0.0 --nat=extip:172.18.247.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8cda9e3eb7347ca50f383f7bbea1184bdbdd9c10fef1ccf47fc3d54ede951a78 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64233 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOFtGQHBv_KEornSBmZS-VILonK5A4Hoa5zgXtzy4xlidqoCIeImDt2XAtn9PUDnqYsj_yCRt0PV52lfYTV4FggBgmlkgnY0gmlwhKwSoV2KbXVsdGlhZGRyc4wACgSsEqFdBoJC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJtkM1-zvfW91q5UWe02kgqeuTs8B2fvkijlKOpNaMEboN0Y3CCgkGDdWRwgoJDhXdha3UyBQ --filternode=/ip4/172.18.161.93/tcp/33345/p2p/16Uiu2HAm2oNUz7uL8cqHQzhRiQ3ZkSNkdMjaLB3MNf7qdwr8oxc5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.247.35 waku 597b8526bd898ef2b86d8227265ea06ff02f164621df4c3e08a887cfeebd8842
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 597b8526bd89. Setting up logs at ./log/docker/node2_2024-08-26_04-16-37__4c7b999c-5f84-4bdc-a676-9454fef90c81__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 64229
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64229/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64229/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.247.35/tcp/64230/p2p/16Uiu2HAmHz6QFKSUWnn621sLCXN5SYEkvxNc8C7YtbA57nA97Qvo","/ip4/172.18.247.35/tcp/64231/ws/p2p/16Uiu2HAmHz6QFKSUWnn621sLCXN5SYEkvxNc8C7YtbA57nA97Qvo"],"enrUri":"enr:-LO4QL1pn53iLGeJxHi7V9TGHaO96op7NKI-EAF1iePYPCmqTummro_yM8rBIWxM4sJJCYDhGQqmazWLUW5d79CJY_8BgmlkgnY0gmlwhKwS9yOKbXVsdGlhZGRyc4wACgSsEvcjBvrn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNPL0_X4VVSU1vLGBhU92u03x92D1HEQgl9P9AhO52YvIN0Y3CC-uaDdWRwgvrohXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64229/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.93/tcp/33345/p2p/16Uiu2HAm2oNUz7uL8cqHQzhRiQ3ZkSNkdMjaLB3MNf7qdwr8oxc5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33344/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64229/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5ccaed2c-f7b6-4dcd-ac15-ddcdd7e0a177", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5ccaed2c-f7b6-4dcd-ac15-ddcdd7e0a177","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64229/filter/v2/subscriptions/5819a335-5715-433d-8285-2442078b94d0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5819a335-5715-433d-8285-2442078b94d0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:64229/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "12345", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"12345","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64229/filter/v2/subscriptions/04ba507d-5edd-42fc-91d9-10151aa465d1" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:64229/filter/v2/subscriptions/04ba507d-5edd-42fc-91d9-10151aa465d1. Response content: b'{"requestId":"04ba507d-5edd-42fc-91d9-10151aa465d1","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 011bcacf9350
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 597b8526bd89
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.