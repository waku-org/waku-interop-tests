[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.86.239
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['48666', '48667', '48668', '48669', '48670']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 48666:48666 -p 48667:48667 -p 48668:48668 -p 48669:48669 -p 48670:48670 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48668 --rest-port=48666 --tcp-port=48667 --discv5-udp-port=48669 --rest-address=0.0.0.0 --nat=extip:172.18.86.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=addb805e96e9dda88461b60fdbbe11d0869defb2d9eccadccc80b8c89267bb07 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48670 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.86.239 waku 7e28efc2a33fd54696469c5875f7edb9c0254525b079f7303b46c65195e1b247
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 7e28efc2a33f. Setting up logs at ./log/docker/receiving_node1_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 48666
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48666/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48666/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.86.239/tcp/48667/p2p/16Uiu2HAmBMbL2ezj6VSUFjma6yYyoQnjam7JeEMyEUwiaZu5sRwT","/ip4/172.18.86.239/tcp/48668/ws/p2p/16Uiu2HAmBMbL2ezj6VSUFjma6yYyoQnjam7JeEMyEUwiaZu5sRwT"],"enrUri":"enr:-LO4QLSQ-yCLCObOfIJchYFSLMJXyFjtG7glvZTMBk1TBDyYaoIL-prZOFq4wmRPC4JZsbiPCIk-YahD6IP1QSu6T-wBgmlkgnY0gmlwhKwSVu-KbXVsdGlhZGRyc4wACgSsElbvBr4c3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLsr2iXkJLzPbpt1EaiKLauMmEixBl7cRtBlvx_E4oXxoN0Y3CCvhuDdWRwgr4dhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.149.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['33600', '33601', '33602', '33603', '33604']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 33600:33600 -p 33601:33601 -p 33602:33602 -p 33603:33603 -p 33604:33604 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33602 --rest-port=33600 --tcp-port=33601 --discv5-udp-port=33603 --rest-address=0.0.0.0 --nat=extip:172.18.149.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b4811bbc7ffdd83fe8b6900dac71e7c2c93feaaaec69de59c9dbfdabeddd5f7c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33604 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.149.213 waku a75fa24d90a33b4abd74095aea22da3052b6bb1bb9c401777970e52b9bb7c712
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a75fa24d90a3. Setting up logs at ./log/docker/receiving_node2_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 33600
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33600/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33600/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.213/tcp/33601/p2p/16Uiu2HAkvBGL39XBTPgzHXRFDBeKAzfQLFmP1cZxmh4cF1dzq1Jz","/ip4/172.18.149.213/tcp/33602/ws/p2p/16Uiu2HAkvBGL39XBTPgzHXRFDBeKAzfQLFmP1cZxmh4cF1dzq1Jz"],"enrUri":"enr:-LO4QA1FyXNA6dZqaw_byAaF9t8YaUG89lNYDci0chDMQkyCEqXH5s8qLwRp0O09GS0FiAZD4_yqUp0TEf_HAuBYiBgBgmlkgnY0gmlwhKwSldWKbXVsdGlhZGRyc4wACgSsEpXVBoNC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQILKtA5PnxnF4nTWaVnZvxsGpwjnVRb4jv0-ZYBAp1yo4N0Y3CCg0GDdWRwgoNDhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33600/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.86.239/tcp/48667/p2p/16Uiu2HAmBMbL2ezj6VSUFjma6yYyoQnjam7JeEMyEUwiaZu5sRwT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.32.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['57245', '57246', '57247', '57248', '57249']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 57245:57245 -p 57246:57246 -p 57247:57247 -p 57248:57248 -p 57249:57249 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57247 --rest-port=57245 --tcp-port=57246 --discv5-udp-port=57248 --rest-address=0.0.0.0 --nat=extip:172.18.32.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=18beb411ca806fe0b04bb8e4ecafc6efdba086128f14bdea76d4f45ea2b5d7dc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57249 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLSQ-yCLCObOfIJchYFSLMJXyFjtG7glvZTMBk1TBDyYaoIL-prZOFq4wmRPC4JZsbiPCIk-YahD6IP1QSu6T-wBgmlkgnY0gmlwhKwSVu-KbXVsdGlhZGRyc4wACgSsElbvBr4c3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLsr2iXkJLzPbpt1EaiKLauMmEixBl7cRtBlvx_E4oXxoN0Y3CCvhuDdWRwgr4dhXdha3UyCQ --lightpushnode=/ip4/172.18.86.239/tcp/48667/p2p/16Uiu2HAmBMbL2ezj6VSUFjma6yYyoQnjam7JeEMyEUwiaZu5sRwT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.32.170 waku f2e569be15e0edb1492fbe19709eb7cc6ec646bf5acbee01d3a860dadb86c09b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID f2e569be15e0. Setting up logs at ./log/docker/lightpush_node1_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 57245
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57245/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57245/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.32.170/tcp/57246/p2p/16Uiu2HAkuT5Xbh1qosnYKe3DibHtyrvm9xsBdphRyhNZAv76AsCJ","/ip4/172.18.32.170/tcp/57247/ws/p2p/16Uiu2HAkuT5Xbh1qosnYKe3DibHtyrvm9xsBdphRyhNZAv76AsCJ"],"enrUri":"enr:-LO4QClDYfXvv2150MH6oa_p57UigxzPM5VCFOQ-HnM0ZwjfKBSloaqIIs2qNRemax9mrzup9G0ZsPA2kJsP1gZDkzIBgmlkgnY0gmlwhKwSIKqKbXVsdGlhZGRyc4wACgSsEiCqBt-f3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIAXDUAOxyEkWp4UjwfSrp7cRz2-Ue0hO1P3jhGa8itz4N0Y3CC356DdWRwgt-ghXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57245/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.86.239/tcp/48667/p2p/16Uiu2HAmBMbL2ezj6VSUFjma6yYyoQnjam7JeEMyEUwiaZu5sRwT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57245/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.213/tcp/33601/p2p/16Uiu2HAkvBGL39XBTPgzHXRFDBeKAzfQLFmP1cZxmh4cF1dzq1Jz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.173.23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['45464', '45465', '45466', '45467', '45468']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 45464:45464 -p 45465:45465 -p 45466:45466 -p 45467:45467 -p 45468:45468 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45466 --rest-port=45464 --tcp-port=45465 --discv5-udp-port=45467 --rest-address=0.0.0.0 --nat=extip:172.18.173.23 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9a6616e42ce99f4b8c3ceafe25cacee75b64b20dd0d42acdacba1df0aa2baab3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45468 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLSQ-yCLCObOfIJchYFSLMJXyFjtG7glvZTMBk1TBDyYaoIL-prZOFq4wmRPC4JZsbiPCIk-YahD6IP1QSu6T-wBgmlkgnY0gmlwhKwSVu-KbXVsdGlhZGRyc4wACgSsElbvBr4c3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLsr2iXkJLzPbpt1EaiKLauMmEixBl7cRtBlvx_E4oXxoN0Y3CCvhuDdWRwgr4dhXdha3UyCQ --lightpushnode=/ip4/172.18.86.239/tcp/48667/p2p/16Uiu2HAmBMbL2ezj6VSUFjma6yYyoQnjam7JeEMyEUwiaZu5sRwT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.173.23 waku 619ba06de6074da0a193923d47c640fa95c8c4a275175155d97aa2faea8d5f1b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 619ba06de607. Setting up logs at ./log/docker/lightpush_node2_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 45464
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45464/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45464/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.173.23/tcp/45465/p2p/16Uiu2HAmQae5qN6L54qiRdvTH6WTGj7utNefpCEsj4ubzm4TfvRB","/ip4/172.18.173.23/tcp/45466/ws/p2p/16Uiu2HAmQae5qN6L54qiRdvTH6WTGj7utNefpCEsj4ubzm4TfvRB"],"enrUri":"enr:-LO4QARY7SHTvJ8WoTiwFmugY94gsMNdnB631aF2r7ZHE_FQf3xhOH3UgL0sNAH5uf_MTQkQhoS2gvXOl1OlSW7z8g8BgmlkgnY0gmlwhKwSrReKbXVsdGlhZGRyc4wACgSsEq0XBrGa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOxLwEnlwV0Kk2ovK2D4OnpHM20kM9bPzvKD6HbvznD3oN0Y3CCsZmDdWRwgrGbhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45464/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.86.239/tcp/48667/p2p/16Uiu2HAmBMbL2ezj6VSUFjma6yYyoQnjam7JeEMyEUwiaZu5sRwT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45464/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.213/tcp/33601/p2p/16Uiu2HAkvBGL39XBTPgzHXRFDBeKAzfQLFmP1cZxmh4cF1dzq1Jz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.203.109
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['45133', '45134', '45135', '45136', '45137']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 45133:45133 -p 45134:45134 -p 45135:45135 -p 45136:45136 -p 45137:45137 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45135 --rest-port=45133 --tcp-port=45134 --discv5-udp-port=45136 --rest-address=0.0.0.0 --nat=extip:172.18.203.109 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3bd68d74dc08d806e0eafd44fcc694d18e4d7dea79838c9b498690ac88ba8f86 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45137 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLSQ-yCLCObOfIJchYFSLMJXyFjtG7glvZTMBk1TBDyYaoIL-prZOFq4wmRPC4JZsbiPCIk-YahD6IP1QSu6T-wBgmlkgnY0gmlwhKwSVu-KbXVsdGlhZGRyc4wACgSsElbvBr4c3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLsr2iXkJLzPbpt1EaiKLauMmEixBl7cRtBlvx_E4oXxoN0Y3CCvhuDdWRwgr4dhXdha3UyCQ --lightpushnode=/ip4/172.18.86.239/tcp/48667/p2p/16Uiu2HAmBMbL2ezj6VSUFjma6yYyoQnjam7JeEMyEUwiaZu5sRwT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.203.109 waku e5b2a8f3ae387688c5204dac7b888f4f825924da9c3c234860c1d4acc54caf1f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e5b2a8f3ae38. Setting up logs at ./log/docker/lightpush_node3_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 45133
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45133/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45133/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.203.109/tcp/45134/p2p/16Uiu2HAkxYV1BB4mAMMAzD5Hiwxp27mZ9eh25c6jEQpKT7v1NWtK","/ip4/172.18.203.109/tcp/45135/ws/p2p/16Uiu2HAkxYV1BB4mAMMAzD5Hiwxp27mZ9eh25c6jEQpKT7v1NWtK"],"enrUri":"enr:-LO4QAjyVoQqq4QON-ax7-2fAAv0rSvOGB49mi1347BvZV8gf_mMmeO2eDGk_zieTiJ_eEFl_uMxJ9njn6U9-WFExBwBgmlkgnY0gmlwhKwSy22KbXVsdGlhZGRyc4wACgSsEsttBrBP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIuUbc1ZySaXeCCf5UqhLcmVxjB9b7bFQDIylW0PSlanIN0Y3CCsE6DdWRwgrBQhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45133/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.86.239/tcp/48667/p2p/16Uiu2HAmBMbL2ezj6VSUFjma6yYyoQnjam7JeEMyEUwiaZu5sRwT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45133/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.213/tcp/33601/p2p/16Uiu2HAkvBGL39XBTPgzHXRFDBeKAzfQLFmP1cZxmh4cF1dzq1Jz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.81.146
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['38571', '38572', '38573', '38574', '38575']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 38571:38571 -p 38572:38572 -p 38573:38573 -p 38574:38574 -p 38575:38575 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38573 --rest-port=38571 --tcp-port=38572 --discv5-udp-port=38574 --rest-address=0.0.0.0 --nat=extip:172.18.81.146 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acad6077482b3baf6debfd5eb9520b133eccab07a64ee24b6178dd9432dfebcf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38575 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLSQ-yCLCObOfIJchYFSLMJXyFjtG7glvZTMBk1TBDyYaoIL-prZOFq4wmRPC4JZsbiPCIk-YahD6IP1QSu6T-wBgmlkgnY0gmlwhKwSVu-KbXVsdGlhZGRyc4wACgSsElbvBr4c3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLsr2iXkJLzPbpt1EaiKLauMmEixBl7cRtBlvx_E4oXxoN0Y3CCvhuDdWRwgr4dhXdha3UyCQ --lightpushnode=/ip4/172.18.86.239/tcp/48667/p2p/16Uiu2HAmBMbL2ezj6VSUFjma6yYyoQnjam7JeEMyEUwiaZu5sRwT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.81.146 waku 53938a607320bbc3b5eac3d037a39084de3af2d78edcef5cb55b3d9f6aa6ee66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 53938a607320. Setting up logs at ./log/docker/lightpush_node4_2024-08-26_04-19-53__9679265c-203e-478c-bb12-cbbcd66948f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 38571
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38571/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38571/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.146/tcp/38572/p2p/16Uiu2HAm12TVuwM4xSnVhSKCyHo61Snx839xfvc9bVk6cTNr7PCY","/ip4/172.18.81.146/tcp/38573/ws/p2p/16Uiu2HAm12TVuwM4xSnVhSKCyHo61Snx839xfvc9bVk6cTNr7PCY"],"enrUri":"enr:-LO4QO2bO5GsIHPTyY_t1oPf2x8TBZ8e2K0-bSI_0EhUcuk2NuJlVXRS88Gu-6nrOFGNIZuL4c_NsTa1VsEusCKcROsBgmlkgnY0gmlwhKwSUZKKbXVsdGlhZGRyc4wACgSsElGSBpat3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJTM6anMn_a6iW_valAaPKJpoCN3TmXtDAKxxEaYfQ71YN0Y3CClqyDdWRwgpauhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38571/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.86.239/tcp/48667/p2p/16Uiu2HAmBMbL2ezj6VSUFjma6yYyoQnjam7JeEMyEUwiaZu5sRwT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38571/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.213/tcp/33601/p2p/16Uiu2HAkvBGL39XBTPgzHXRFDBeKAzfQLFmP1cZxmh4cF1dzq1Jz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48666/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33600/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57245/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724646005694404864}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48666/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724646005694404864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33600/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724646005694404864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45464/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724646005809661440}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48666/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724646005809661440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33600/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724646005809661440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45133/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724646005926749184}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48666/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724646005926749184,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33600/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724646005926749184,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38571/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724646006044975104}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48666/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724646006044975104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33600/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724646006044975104,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 7e28efc2a33f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id a75fa24d90a3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id f2e569be15e0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 619ba06de607
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id e5b2a8f3ae38
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 53938a607320
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.