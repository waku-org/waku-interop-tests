[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_sort_ascending[false] with id: 2024-08-26_04-37-11__0fa291f2-d180-4d6f-bec5-53afe95b0dbe
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-08-26_04-37-11__0fa291f2-d180-4d6f-bec5-53afe95b0dbe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.168.185
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['60595', '60596', '60597', '60598', '60599']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 60595:60595 -p 60596:60596 -p 60597:60597 -p 60598:60598 -p 60599:60599 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60597 --rest-port=60595 --tcp-port=60596 --discv5-udp-port=60598 --rest-address=0.0.0.0 --nat=extip:172.18.168.185 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8d6fcc7e2fce8c1e6acde48cb2f6eab08dfb1ec176123cfbe1aeabcc7736fefd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60599 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.168.185 waku 9e1e669952778bb9a86a2829226ad6e98f7c3b0801e869b80ec8f72aea9aa1af
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9e1e66995277. Setting up logs at ./log/docker/publishing_node1_2024-08-26_04-37-11__0fa291f2-d180-4d6f-bec5-53afe95b0dbe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 60595
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60595/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60595/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.168.185/tcp/60596/p2p/16Uiu2HAmNuR3CzPwmFs7nMpNoXBixLB5X9vfJjw9gGSPZjKJi1Bk","/ip4/172.18.168.185/tcp/60597/ws/p2p/16Uiu2HAmNuR3CzPwmFs7nMpNoXBixLB5X9vfJjw9gGSPZjKJi1Bk"],"enrUri":"enr:-LO4QLwkYKAFD56CvlRbXLchegjTnDRwo6YOKs0ZyQirhS_3fg6fU7KLRWJ-cSgdorpHQZTdNgDq50h8OQu4kgbQEVMBgmlkgnY0gmlwhKwSqLmKbXVsdGlhZGRyc4wACgSsEqi5Buy13QOCcnOFAAMBAACJc2VjcDI1NmsxoQOYRuppLf-y00ifSlA56bx_BZ7FX-K5vjAVnOCr0Fugp4N0Y3CC7LSDdWRwguy2hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/store_node1_2024-08-26_04-37-11__0fa291f2-d180-4d6f-bec5-53afe95b0dbe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.81.227
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['17489', '17490', '17491', '17492', '17493']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 17489:17489 -p 17490:17490 -p 17491:17491 -p 17492:17492 -p 17493:17493 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17491 --rest-port=17489 --tcp-port=17490 --discv5-udp-port=17492 --rest-address=0.0.0.0 --nat=extip:172.18.81.227 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=143a1d4fafabbbc1aff0fcbfdfbf2adcb5f925aa4746b3a5a5a0d8d31be8a0a3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17493 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLwkYKAFD56CvlRbXLchegjTnDRwo6YOKs0ZyQirhS_3fg6fU7KLRWJ-cSgdorpHQZTdNgDq50h8OQu4kgbQEVMBgmlkgnY0gmlwhKwSqLmKbXVsdGlhZGRyc4wACgSsEqi5Buy13QOCcnOFAAMBAACJc2VjcDI1NmsxoQOYRuppLf-y00ifSlA56bx_BZ7FX-K5vjAVnOCr0Fugp4N0Y3CC7LSDdWRwguy2hXdha3UyAw --storenode=/ip4/172.18.168.185/tcp/60596/p2p/16Uiu2HAmNuR3CzPwmFs7nMpNoXBixLB5X9vfJjw9gGSPZjKJi1Bk --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.81.227 waku e7d4ca9876bff9ea791f06af8dd3d228fce05193344e0c863e18815f6dbce7b9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e7d4ca9876bf. Setting up logs at ./log/docker/store_node1_2024-08-26_04-37-11__0fa291f2-d180-4d6f-bec5-53afe95b0dbe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 17489
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17489/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17489/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.227/tcp/17490/p2p/16Uiu2HAkwQhiR6Gqb62msTC8FA7V5cNDmrQP3azVRiaYHJfxcb5M","/ip4/172.18.81.227/tcp/17491/ws/p2p/16Uiu2HAkwQhiR6Gqb62msTC8FA7V5cNDmrQP3azVRiaYHJfxcb5M"],"enrUri":"enr:-LO4QJmW0AxkQNY3GmFuKdq8boC_kBScLnmUjp1VZzuYXLJhDWaUknUBWZtGhcexrjTeyk-fB-W2uwedqn5_y_0Tsz8BgmlkgnY0gmlwhKwSUeOKbXVsdGlhZGRyc4wACgSsElHjBkRT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIdd8EyI0HSrncoTedpfS6Bta9RwMOdRRaAp-fzN2gmrIN0Y3CCRFKDdWRwgkRUhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17489/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.168.185/tcp/60596/p2p/16Uiu2HAmNuR3CzPwmFs7nMpNoXBixLB5X9vfJjw9gGSPZjKJi1Bk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60595/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17489/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60595/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"BPNvY+q2fl4G1nzw3kxMQKDjfmPzYRIOgYkOJe8hk4s="},{"messageHash":"y16xeRO6p50UyUdx6QeifIpe0tQJoj8bzROpmkDFDn8="},{"messageHash":"DBWeD4/kNT1Wt1aXc2E7CuayTZywyC+evQVEmAhFoew="},{"messageHash":"53Q2y6bq3VG18DNWXZyuBOoGFYMhMLj/YNBpCZ+XG8Q="},{"messageHash":"RzvqDKHL71/gWJPO+Xgkq7F9NUKeVsEzUk0o+q0xUGc="}],"paginationCursor":"BPNvY+q2fl4G1nzw3kxMQKDjfmPzYRIOgYkOJe8hk4s="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17489/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"BPNvY+q2fl4G1nzw3kxMQKDjfmPzYRIOgYkOJe8hk4s="},{"messageHash":"y16xeRO6p50UyUdx6QeifIpe0tQJoj8bzROpmkDFDn8="},{"messageHash":"DBWeD4/kNT1Wt1aXc2E7CuayTZywyC+evQVEmAhFoew="},{"messageHash":"53Q2y6bq3VG18DNWXZyuBOoGFYMhMLj/YNBpCZ+XG8Q="},{"messageHash":"RzvqDKHL71/gWJPO+Xgkq7F9NUKeVsEzUk0o+q0xUGc="}],"paginationCursor":"BPNvY+q2fl4G1nzw3kxMQKDjfmPzYRIOgYkOJe8hk4s="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 9e1e66995277
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id e7d4ca9876bf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.