[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-15_10-36-37__0bb10a3d-4e06-45ba-9914-c3c2826adf56
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-15_10-36-37__0bb10a3d-4e06-45ba-9914-c3c2826adf56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.56.111
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9991', '9992', '9993', '9994', '9995']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9991:9991 -p 9992:9992 -p 9993:9993 -p 9994:9994 -p 9995:9995 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9993 --rest-port=9991 --tcp-port=9992 --discv5-udp-port=9994 --rest-address=0.0.0.0 --nat=extip:172.18.56.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d2ef98ffb4c04f9a1af8eb3eb8dbe65664205e53a0edf3d89ff9ebcfd9ef0362 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9995 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.56.111 waku 080c91de793a42ee5633f9a6cdeb52f6684019472d6652f70f9a8feb7e51cb46
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 080c91de793a. Setting up logs at ./log/docker/node1_2024-12-15_10-36-37__0bb10a3d-4e06-45ba-9914-c3c2826adf56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 9991
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 66db16d7c7c2. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9991/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9991/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.111/tcp/9992/p2p/16Uiu2HAmQyrUM7jhppqEoFijHgxC48dBd9AkbF5qUup1JWW9ESqK","/ip4/172.18.56.111/tcp/9993/ws/p2p/16Uiu2HAmQyrUM7jhppqEoFijHgxC48dBd9AkbF5qUup1JWW9ESqK"],"enrUri":"enr:-L24QF-rxaJ-tAWnzaF4UpdJTDsBEyOUGcD447i75HXi2a_fMi3i7ZHuIpP16j5Nq3ObgoDWeVmKjYW6Q-suJZTT7kACgmlkgnY0gmlwhKwSOG-KbXVsdGlhZGRyc5YACASsEjhvBicIAAoErBI4bwYnCd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtyFe1dQ7xavohRUmD7vXH8MVONMPtLqYW2qgOfZAGN6DdGNwgicIg3VkcIInCoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-15_10-36-37__0bb10a3d-4e06-45ba-9914-c3c2826adf56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.156.245
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44469', '44470', '44471', '44472', '44473']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44469:44469 -p 44470:44470 -p 44471:44471 -p 44472:44472 -p 44473:44473 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44471 --rest-port=44469 --tcp-port=44470 --discv5-udp-port=44472 --rest-address=0.0.0.0 --nat=extip:172.18.156.245 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=00ed42b4d40d0f07ebffb1607928b4fcd741bbb9df037ee2fdfda5195bd07a5a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44473 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QF-rxaJ-tAWnzaF4UpdJTDsBEyOUGcD447i75HXi2a_fMi3i7ZHuIpP16j5Nq3ObgoDWeVmKjYW6Q-suJZTT7kACgmlkgnY0gmlwhKwSOG-KbXVsdGlhZGRyc5YACASsEjhvBicIAAoErBI4bwYnCd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtyFe1dQ7xavohRUmD7vXH8MVONMPtLqYW2qgOfZAGN6DdGNwgicIg3VkcIInCoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.156.245 waku 09f41e024f286166c178252a9f75dfab2d8108c7bf55e1bbc3ccd42e225c4111
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 09f41e024f28. Setting up logs at ./log/docker/node2_2024-12-15_10-36-37__0bb10a3d-4e06-45ba-9914-c3c2826adf56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 44469
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44469/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44469/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.156.245/tcp/44470/p2p/16Uiu2HAkxhbhkzQvf5swy3KTXDRVCXp6o3yZBtPuuSUXEJzSv5Wj","/ip4/172.18.156.245/tcp/44471/ws/p2p/16Uiu2HAkxhbhkzQvf5swy3KTXDRVCXp6o3yZBtPuuSUXEJzSv5Wj"],"enrUri":"enr:-L24QJiE73GXyhtdpoq7bLRq5RdFVmKZ3pxmKCWYYkkW114HFW6dL0ZSzTp6AviboDvXCmsLTUTaFQHlVj-EACOg8cMCgmlkgnY0gmlwhKwSnPWKbXVsdGlhZGRyc5YACASsEpz1Bq22AAoErBKc9Qatt90DgnJzhQADAQAAiXNlY3AyNTZrMaECMKeEsN6UyyTsb63-aSCjMQXn0gzm-R5LdyQe8Gr8r4SDdGNwgq22g3VkcIKtuIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44469/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.111/tcp/9992/p2p/16Uiu2HAmQyrUM7jhppqEoFijHgxC48dBd9AkbF5qUup1JWW9ESqK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-15_10-36-37__0bb10a3d-4e06-45ba-9914-c3c2826adf56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.231.156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53370', '53371', '53372', '53373', '53374']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53370:53370 -p 53371:53371 -p 53372:53372 -p 53373:53373 -p 53374:53374 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53372 --rest-port=53370 --tcp-port=53371 --discv5-udp-port=53373 --rest-address=0.0.0.0 --nat=extip:172.18.231.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eaaa23acfcc22d723c76b6d7bd2dbca96e343e0ddc9a324ae8d7bdf51e95ece9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53374 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QF-rxaJ-tAWnzaF4UpdJTDsBEyOUGcD447i75HXi2a_fMi3i7ZHuIpP16j5Nq3ObgoDWeVmKjYW6Q-suJZTT7kACgmlkgnY0gmlwhKwSOG-KbXVsdGlhZGRyc5YACASsEjhvBicIAAoErBI4bwYnCd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtyFe1dQ7xavohRUmD7vXH8MVONMPtLqYW2qgOfZAGN6DdGNwgicIg3VkcIInCoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.231.156 waku 0e36f556565ee300f80760997ca3c207f3f1d5fbac9bf329de5616a8089f2b52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0e36f556565e. Setting up logs at ./log/docker/node3_2024-12-15_10-36-37__0bb10a3d-4e06-45ba-9914-c3c2826adf56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 53370
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53370/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53370/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.231.156/tcp/53371/p2p/16Uiu2HAmPhMFSuWvtjjUBMhuipUdWk8LY6zsofWSwWy9nFtjU8hB","/ip4/172.18.231.156/tcp/53372/ws/p2p/16Uiu2HAmPhMFSuWvtjjUBMhuipUdWk8LY6zsofWSwWy9nFtjU8hB"],"enrUri":"enr:-L24QBhJ1fl4QmtEZxxOX0xu5wI2Z2zkHvins8Sdm9K21ijHP15H_G2b8FlN1ZW6o7Jhsh0aF2YMsRno499b0624kMcCgmlkgnY0gmlwhKwS55yKbXVsdGlhZGRyc5YACASsEuecBtB7AAoErBLnnAbQfN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpAtZQ4TjE9K5mK4qayq7keyENlIxGs2bQDhVOYFg1s6DdGNwgtB7g3VkcILQfYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53370/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.111/tcp/9992/p2p/16Uiu2HAmQyrUM7jhppqEoFijHgxC48dBd9AkbF5qUup1JWW9ESqK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-15_10-36-37__0bb10a3d-4e06-45ba-9914-c3c2826adf56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.114.70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58183', '58184', '58185', '58186', '58187']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58183:58183 -p 58184:58184 -p 58185:58185 -p 58186:58186 -p 58187:58187 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58185 --rest-port=58183 --tcp-port=58184 --discv5-udp-port=58186 --rest-address=0.0.0.0 --nat=extip:172.18.114.70 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b2caceabbc57e4d0eee5e3176a2127af49cc2aa6d4c1581dda60ba2abcdecf80 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58187 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QF-rxaJ-tAWnzaF4UpdJTDsBEyOUGcD447i75HXi2a_fMi3i7ZHuIpP16j5Nq3ObgoDWeVmKjYW6Q-suJZTT7kACgmlkgnY0gmlwhKwSOG-KbXVsdGlhZGRyc5YACASsEjhvBicIAAoErBI4bwYnCd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtyFe1dQ7xavohRUmD7vXH8MVONMPtLqYW2qgOfZAGN6DdGNwgicIg3VkcIInCoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.114.70 waku 9ac80faf3a312cd0ac2ae80ea4fee4de150c6c687a04508bd6536e4dd016cc9c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9ac80faf3a31. Setting up logs at ./log/docker/node4_2024-12-15_10-36-37__0bb10a3d-4e06-45ba-9914-c3c2826adf56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 58183
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58183/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58183/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.70/tcp/58184/p2p/16Uiu2HAmPAKymrGVc6pmdoAm6hu5xpCanxtSS3DePe22XWVCSBn4","/ip4/172.18.114.70/tcp/58185/ws/p2p/16Uiu2HAmPAKymrGVc6pmdoAm6hu5xpCanxtSS3DePe22XWVCSBn4"],"enrUri":"enr:-L24QAvP2PB1gkHDCpYUFyb1SvxKQd9WgdDaYQ4F7ZnTRT2DFAGn14OfJFYqIZgrB-ClknPWxHCrf17gvuU1zCb3HmkCgmlkgnY0gmlwhKwSckaKbXVsdGlhZGRyc5YACASsEnJGBuNIAAoErBJyRgbjSd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnBjoSCPjPwwzhEEdkYl2OiIFWw4QXWM9ahFKPsS0p_WDdGNwguNIg3VkcILjSoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58183/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.111/tcp/9992/p2p/16Uiu2HAmQyrUM7jhppqEoFijHgxC48dBd9AkbF5qUup1JWW9ESqK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-15_10-36-37__0bb10a3d-4e06-45ba-9914-c3c2826adf56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.0.144
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19295', '19296', '19297', '19298', '19299']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19295:19295 -p 19296:19296 -p 19297:19297 -p 19298:19298 -p 19299:19299 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19297 --rest-port=19295 --tcp-port=19296 --discv5-udp-port=19298 --rest-address=0.0.0.0 --nat=extip:172.18.0.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1574714a7dc6202ee3efeff7ecf3c7cea5d40f443ca9d0ff1fe05d336c1ca3db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19299 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QF-rxaJ-tAWnzaF4UpdJTDsBEyOUGcD447i75HXi2a_fMi3i7ZHuIpP16j5Nq3ObgoDWeVmKjYW6Q-suJZTT7kACgmlkgnY0gmlwhKwSOG-KbXVsdGlhZGRyc5YACASsEjhvBicIAAoErBI4bwYnCd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtyFe1dQ7xavohRUmD7vXH8MVONMPtLqYW2qgOfZAGN6DdGNwgicIg3VkcIInCoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.0.144 waku 843ef83886eaef3a40395c4772890303e0043251bd15003d85e4af745b6bf434
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 843ef83886ea. Setting up logs at ./log/docker/node5_2024-12-15_10-36-37__0bb10a3d-4e06-45ba-9914-c3c2826adf56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 19295
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19295/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19295/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.144/tcp/19296/p2p/16Uiu2HAmAAeM2dBDfsXotsGLchb5ntLKv8EVbGHNAFXjKM2bTdnV","/ip4/172.18.0.144/tcp/19297/ws/p2p/16Uiu2HAmAAeM2dBDfsXotsGLchb5ntLKv8EVbGHNAFXjKM2bTdnV"],"enrUri":"enr:-L24QNB9WloMeSgLPcDrlb7vKlTmflI1vrQcVL6Xo3FbdE9dVUvYfRIO6pPw5Z4dA5wa-549kRz5Gh2DllXnNjq65RgCgmlkgnY0gmlwhKwSAJCKbXVsdGlhZGRyc5YACASsEgCQBktgAAoErBIAkAZLYd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC2wW-jIVZNL-Vfbg__fTHRmj1vR-y3tIhVhauAe7rnS6DdGNwgktgg3VkcIJLYoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19295/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.111/tcp/9992/p2p/16Uiu2HAmQyrUM7jhppqEoFijHgxC48dBd9AkbF5qUup1JWW9ESqK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9991/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44469/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53370/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58183/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19295/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9991/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9991/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734259004291309824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734259004291309824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53370/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734259004291309824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58183/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734259004291309824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734259004291309824,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9991/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9991/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734259004418873600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734259004418873600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53370/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734259004418873600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58183/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734259004418873600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734259004418873600,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 080c91de793a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 09f41e024f28
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 080c91de793a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0e36f556565e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 09f41e024f28. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9ac80faf3a31
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0e36f556565e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 843ef83886ea
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.