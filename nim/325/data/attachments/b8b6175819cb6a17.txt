[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-08-20_09-10-05__99bfefb3-e5b6-4d76-a7e2-137c6a7907ad
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-20_09-10-05__99bfefb3-e5b6-4d76-a7e2-137c6a7907ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.145.254
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['6344', '6345', '6346', '6347', '6348']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 6344:6344 -p 6345:6345 -p 6346:6346 -p 6347:6347 -p 6348:6348 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6346 --rest-port=6344 --tcp-port=6345 --discv5-udp-port=6347 --rest-address=0.0.0.0 --nat=extip:172.18.145.254 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=96f1ef66dd83c7932cd9944f73de1eb6f35ed4a7d3e273ddfb3ec5f7f5a0ddf3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6348 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.145.254 waku e08bb7f1c745d00c0252ea5f17ab4c48d917a54376bd4dfbe7d3a5e2ca5fdd0d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e08bb7f1c745. Setting up logs at ./log/docker/node1_2024-08-20_09-10-05__99bfefb3-e5b6-4d76-a7e2-137c6a7907ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 6344
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6344/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6344/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.145.254/tcp/6345/p2p/16Uiu2HAmPhDRLAc7Mm1mF1aMQtAbuT5GP1uqHwAtPNtSXRUPtf9H","/ip4/172.18.145.254/tcp/6346/ws/p2p/16Uiu2HAmPhDRLAc7Mm1mF1aMQtAbuT5GP1uqHwAtPNtSXRUPtf9H"],"enrUri":"enr:-LO4QI5KE0nBr6CpVX-4nW6hIflfHF5XgOr-C2GLwXAI1zcUAzJ9VQyU1DzTt2RQUT2Pm4eidtI0GbVQQPOKz6_AK2UBgmlkgnY0gmlwhKwSkf6KbXVsdGlhZGRyc4wACgSsEpH-BhjK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOkAn7o5OV3GmalxQXaoindxWaOkzFGoxgDMT5wE_secIN0Y3CCGMmDdWRwghjLhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-20_09-10-05__99bfefb3-e5b6-4d76-a7e2-137c6a7907ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.107.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['27848', '27849', '27850', '27851', '27852']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 27848:27848 -p 27849:27849 -p 27850:27850 -p 27851:27851 -p 27852:27852 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27850 --rest-port=27848 --tcp-port=27849 --discv5-udp-port=27851 --rest-address=0.0.0.0 --nat=extip:172.18.107.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a9ae7b5bde3e809a298e4ee1a7d2ccdc2dff468dbec0ce88a7e632de4a06ad63 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27852 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QI5KE0nBr6CpVX-4nW6hIflfHF5XgOr-C2GLwXAI1zcUAzJ9VQyU1DzTt2RQUT2Pm4eidtI0GbVQQPOKz6_AK2UBgmlkgnY0gmlwhKwSkf6KbXVsdGlhZGRyc4wACgSsEpH-BhjK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOkAn7o5OV3GmalxQXaoindxWaOkzFGoxgDMT5wE_secIN0Y3CCGMmDdWRwghjLhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.107.94 waku 06f26cdd10ae8ba8434f1595300a6f1f52a3b020d9e3da6ab0045506be0621c8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 06f26cdd10ae. Setting up logs at ./log/docker/node2_2024-08-20_09-10-05__99bfefb3-e5b6-4d76-a7e2-137c6a7907ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 27848
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27848/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27848/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.94/tcp/27849/p2p/16Uiu2HAkwDVPopYn9axEh2Y9kWv38mhsxGUL4SUvg1G5se3nmDJZ","/ip4/172.18.107.94/tcp/27850/ws/p2p/16Uiu2HAkwDVPopYn9axEh2Y9kWv38mhsxGUL4SUvg1G5se3nmDJZ"],"enrUri":"enr:-LO4QArCQSdqJapF0LuMrtmyp-4zNdTtBiRItyRxp0JZmJ47Id_8Etjpb3YGAz9FFNa_qSiPcUTNvK6M_ZHPvYyLEo4BgmlkgnY0gmlwhKwSa16KbXVsdGlhZGRyc4wACgSsEmteBmzK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIamG8_pUtnQsf7kkzdrHK3zjowpCL-aj7FRr_YnDT92oN0Y3CCbMmDdWRwgmzLhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27848/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.254/tcp/6345/p2p/16Uiu2HAmPhDRLAc7Mm1mF1aMQtAbuT5GP1uqHwAtPNtSXRUPtf9H"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node3_2024-08-20_09-10-05__99bfefb3-e5b6-4d76-a7e2-137c6a7907ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.242.57
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['32749', '32750', '32751', '32752', '32753']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 32749:32749 -p 32750:32750 -p 32751:32751 -p 32752:32752 -p 32753:32753 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32751 --rest-port=32749 --tcp-port=32750 --discv5-udp-port=32752 --rest-address=0.0.0.0 --nat=extip:172.18.242.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbeb3eeba26f5e03c538ab5e0d8092daf3c28d9f041e5ab08b855641a7f6af7e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32753 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QI5KE0nBr6CpVX-4nW6hIflfHF5XgOr-C2GLwXAI1zcUAzJ9VQyU1DzTt2RQUT2Pm4eidtI0GbVQQPOKz6_AK2UBgmlkgnY0gmlwhKwSkf6KbXVsdGlhZGRyc4wACgSsEpH-BhjK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOkAn7o5OV3GmalxQXaoindxWaOkzFGoxgDMT5wE_secIN0Y3CCGMmDdWRwghjLhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.242.57 waku 3c1cabb451e2bdf07914d813cf57bd39c695daa350cf059ea9683afa6d81edfd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 3c1cabb451e2. Setting up logs at ./log/docker/node3_2024-08-20_09-10-05__99bfefb3-e5b6-4d76-a7e2-137c6a7907ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 32749
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32749/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32749/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.57/tcp/32750/p2p/16Uiu2HAmPD1dwE5LHzBAPJwhDPa5spWniwx14D1iR6epy7Uo3pSo","/ip4/172.18.242.57/tcp/32751/ws/p2p/16Uiu2HAmPD1dwE5LHzBAPJwhDPa5spWniwx14D1iR6epy7Uo3pSo"],"enrUri":"enr:-LO4QJcJ4GAVigeObxwIRb9S88prU3-ixjFNvSiopAictNNeULoKfCHh_7PVEwqQ42DV5sEliYi53bi72UebmB-VQN4BgmlkgnY0gmlwhKwS8jmKbXVsdGlhZGRyc4wACgSsEvI5Bn_v3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOcyOkNy9ewRLs6Hga2ASVqfNz4Z2P2mKQtH06A-VWLBIN0Y3CCf-6DdWRwgn_whXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32749/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.254/tcp/6345/p2p/16Uiu2HAmPhDRLAc7Mm1mF1aMQtAbuT5GP1uqHwAtPNtSXRUPtf9H"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node4_2024-08-20_09-10-05__99bfefb3-e5b6-4d76-a7e2-137c6a7907ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.225.115
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['15740', '15741', '15742', '15743', '15744']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 15740:15740 -p 15741:15741 -p 15742:15742 -p 15743:15743 -p 15744:15744 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15742 --rest-port=15740 --tcp-port=15741 --discv5-udp-port=15743 --rest-address=0.0.0.0 --nat=extip:172.18.225.115 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da70f0398badbbf20eea97f8bae49dcdbf0ddc3cacedee7ca1ce6f8cf2e2fb06 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15744 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QI5KE0nBr6CpVX-4nW6hIflfHF5XgOr-C2GLwXAI1zcUAzJ9VQyU1DzTt2RQUT2Pm4eidtI0GbVQQPOKz6_AK2UBgmlkgnY0gmlwhKwSkf6KbXVsdGlhZGRyc4wACgSsEpH-BhjK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOkAn7o5OV3GmalxQXaoindxWaOkzFGoxgDMT5wE_secIN0Y3CCGMmDdWRwghjLhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.225.115 waku efb0a07b7af72a78e80c832c39cccc61517844318700981aefa89643841cc7a2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID efb0a07b7af7. Setting up logs at ./log/docker/node4_2024-08-20_09-10-05__99bfefb3-e5b6-4d76-a7e2-137c6a7907ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 15740
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15740/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15740/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.115/tcp/15741/p2p/16Uiu2HAmSQjc1AkhduQKEHexp4gtRs2tYBJEKkHzvmTHvCRmbfit","/ip4/172.18.225.115/tcp/15742/ws/p2p/16Uiu2HAmSQjc1AkhduQKEHexp4gtRs2tYBJEKkHzvmTHvCRmbfit"],"enrUri":"enr:-LO4QN0Uqmk4Zj_NpHmMSlaKf2CD4wZXTZkBwmB7Fvvq0SOoaTW4HIVAPnf0Rp1g_CSftGNT9t88-KE8vW7ePI3jB6wBgmlkgnY0gmlwhKwS4XOKbXVsdGlhZGRyc4wACgSsEuFzBj1-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPMXM_aztakple2n00V7bclGLNvsbcpERJuwHIobwwpJYN0Y3CCPX2DdWRwgj1_hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15740/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.254/tcp/6345/p2p/16Uiu2HAmPhDRLAc7Mm1mF1aMQtAbuT5GP1uqHwAtPNtSXRUPtf9H"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node5_2024-08-20_09-10-05__99bfefb3-e5b6-4d76-a7e2-137c6a7907ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.110.138
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['41110', '41111', '41112', '41113', '41114']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 41110:41110 -p 41111:41111 -p 41112:41112 -p 41113:41113 -p 41114:41114 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41112 --rest-port=41110 --tcp-port=41111 --discv5-udp-port=41113 --rest-address=0.0.0.0 --nat=extip:172.18.110.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8ca6092c7c752614fe226f7d2161ec314da7ef3d7a8df39c1c5c046beddb212d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41114 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QI5KE0nBr6CpVX-4nW6hIflfHF5XgOr-C2GLwXAI1zcUAzJ9VQyU1DzTt2RQUT2Pm4eidtI0GbVQQPOKz6_AK2UBgmlkgnY0gmlwhKwSkf6KbXVsdGlhZGRyc4wACgSsEpH-BhjK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOkAn7o5OV3GmalxQXaoindxWaOkzFGoxgDMT5wE_secIN0Y3CCGMmDdWRwghjLhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.110.138 waku e01c032397173e2de65f83c6e34a761f59a72fb8132c35019d54611c9845a04e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e01c03239717. Setting up logs at ./log/docker/node5_2024-08-20_09-10-05__99bfefb3-e5b6-4d76-a7e2-137c6a7907ad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 41110
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41110/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41110/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.110.138/tcp/41111/p2p/16Uiu2HAm4d8nnPQWakxKJmvFAhAyGXyhEdYmtFSFseZZDb43CfG9","/ip4/172.18.110.138/tcp/41112/ws/p2p/16Uiu2HAm4d8nnPQWakxKJmvFAhAyGXyhEdYmtFSFseZZDb43CfG9"],"enrUri":"enr:-LO4QNKMTZu_xVod9jJB98i3IT0tGgCqctJmL0KnzDRBYiJzDaZry1KEKxaE0B0YvaH9K0PL8zw4pG3p5qMRlqgVjksBgmlkgnY0gmlwhKwSboqKbXVsdGlhZGRyc4wACgSsEm6KBqCY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKIqOK2KjB5C-74IEOa9OJG8dcjUawdzoY4sML-OBcn_oN0Y3CCoJeDdWRwgqCZhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41110/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.254/tcp/6345/p2p/16Uiu2HAmPhDRLAc7Mm1mF1aMQtAbuT5GP1uqHwAtPNtSXRUPtf9H"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6344/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27848/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32749/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15740/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41110/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6344/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6344/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724145012949502720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27848/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724145012949502720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32749/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724145012949502720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15740/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724145012949502720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724145012949502720,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6344/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6344/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724145013084335360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27848/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724145013084335360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32749/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724145013084335360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15740/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724145013084335360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41110/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724145013084335360,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id e08bb7f1c745
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 06f26cdd10ae
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 3c1cabb451e2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id efb0a07b7af7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id e01c03239717
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.