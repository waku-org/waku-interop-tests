[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_matches_multiple_messages with id: 2024-08-20_09-23-38__8719b690-909e-4708-9149-77aaa1f571b7
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-08-20_09-23-38__8719b690-909e-4708-9149-77aaa1f571b7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.134.130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['26024', '26025', '26026', '26027', '26028']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 26024:26024 -p 26025:26025 -p 26026:26026 -p 26027:26027 -p 26028:26028 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26026 --rest-port=26024 --tcp-port=26025 --discv5-udp-port=26027 --rest-address=0.0.0.0 --nat=extip:172.18.134.130 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=93ab97f9e352fa3cd52e28c2baab795b736af9e6eb5a3d6887972de6ee0faff2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26028 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.134.130 waku c35f3cbf95014a537ed938a4a67c9bb54864dd042b45c1aac41c2569b39ecea1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c35f3cbf9501. Setting up logs at ./log/docker/publishing_node1_2024-08-20_09-23-38__8719b690-909e-4708-9149-77aaa1f571b7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 26024
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26024/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26024/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.134.130/tcp/26025/p2p/16Uiu2HAm9h5VBx864YKg8b1nRMmxZKw3Af8N6o61dZjAfddJ6Wup","/ip4/172.18.134.130/tcp/26026/ws/p2p/16Uiu2HAm9h5VBx864YKg8b1nRMmxZKw3Af8N6o61dZjAfddJ6Wup"],"enrUri":"enr:-LO4QHiAnDKKvyi2gcKM9eFrVpDOtamjESMsJN_3D6rUYURDSgO8Rj1o6IcV_DEJ7Iu_wlr2di6KUTEOVUd7tXtcbQYBgmlkgnY0gmlwhKwShoKKbXVsdGlhZGRyc4wACgSsEoaCBmWq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLT9eiKZBRGSJuy5v__QyRYfGH0VSyn8ig2JRlRN6cRY4N0Y3CCZamDdWRwgmWrhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/store_node1_2024-08-20_09-23-38__8719b690-909e-4708-9149-77aaa1f571b7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.39.155
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['20462', '20463', '20464', '20465', '20466']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 20462:20462 -p 20463:20463 -p 20464:20464 -p 20465:20465 -p 20466:20466 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20464 --rest-port=20462 --tcp-port=20463 --discv5-udp-port=20465 --rest-address=0.0.0.0 --nat=extip:172.18.39.155 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfabec2be5d867dc3573aa22a405dff43137a5a3e0c0bacbf35adb7ef77bb0f2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20466 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHiAnDKKvyi2gcKM9eFrVpDOtamjESMsJN_3D6rUYURDSgO8Rj1o6IcV_DEJ7Iu_wlr2di6KUTEOVUd7tXtcbQYBgmlkgnY0gmlwhKwShoKKbXVsdGlhZGRyc4wACgSsEoaCBmWq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLT9eiKZBRGSJuy5v__QyRYfGH0VSyn8ig2JRlRN6cRY4N0Y3CCZamDdWRwgmWrhXdha3UyAw --storenode=/ip4/172.18.134.130/tcp/26025/p2p/16Uiu2HAm9h5VBx864YKg8b1nRMmxZKw3Af8N6o61dZjAfddJ6Wup --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.39.155 waku 35185e56ea919435847accaf139a2a61473cc5e20c56b248b6d9817ce00e3717
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 35185e56ea91. Setting up logs at ./log/docker/store_node1_2024-08-20_09-23-38__8719b690-909e-4708-9149-77aaa1f571b7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 20462
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20462/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20462/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.39.155/tcp/20463/p2p/16Uiu2HAmVXVsr9VEFwvVVYVLWRC2wrH3byasRXaJE8pm7z3nJVFf","/ip4/172.18.39.155/tcp/20464/ws/p2p/16Uiu2HAmVXVsr9VEFwvVVYVLWRC2wrH3byasRXaJE8pm7z3nJVFf"],"enrUri":"enr:-LO4QMiZU-7yP-8ONmX5Huc3bkYpHw2bcjg2MR5j-6rN0madH0E2HmQntN49wKhlG2gB2aYyaxDaysu0TDf4Ki70SakBgmlkgnY0gmlwhKwSJ5uKbXVsdGlhZGRyc4wACgSsEiebBk_w3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP6q2rbaQyB9vyfSebhRaDjprYuqSeVDWp4o0a_NvEwOoN0Y3CCT--DdWRwgk_xhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20462/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.134.130/tcp/26025/p2p/16Uiu2HAm9h5VBx864YKg8b1nRMmxZKw3Af8N6o61dZjAfddJ6Wup"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26024/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20462/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26024/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26024/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26024/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26024/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26024/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26024/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26024/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1724145815167076960&endTime=1724145820167291040&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"fjVx/JhJyjRafeT0OptIYZgHPbXUqqVS+ZLHiKgDXso="},{"messageHash":"+8V6AaHCRPK+j3clMfOLkqT3xohETOKxLKYcBB19reE="},{"messageHash":"Ru9hRuq7RMS/frR0kzJfnflI4pcgC7dqVPbVgsF5D6c="},{"messageHash":"L9Mg2b9kMijdHlKXCBIVeaoAH39h7bfn18lXzmTupfw="},{"messageHash":"bvwS9Yvd76eElzKhQtGsUHm7y6thnJ98pNLAJNauRp8="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20462/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1724145815167076960&endTime=1724145820167291040&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"fjVx/JhJyjRafeT0OptIYZgHPbXUqqVS+ZLHiKgDXso="},{"messageHash":"+8V6AaHCRPK+j3clMfOLkqT3xohETOKxLKYcBB19reE="},{"messageHash":"Ru9hRuq7RMS/frR0kzJfnflI4pcgC7dqVPbVgsF5D6c="},{"messageHash":"L9Mg2b9kMijdHlKXCBIVeaoAH39h7bfn18lXzmTupfw="},{"messageHash":"bvwS9Yvd76eElzKhQtGsUHm7y6thnJ98pNLAJNauRp8="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id c35f3cbf9501
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 35185e56ea91
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.