[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.149.74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['36136', '36137', '36138', '36139', '36140']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 36136:36136 -p 36137:36137 -p 36138:36138 -p 36139:36139 -p 36140:36140 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36138 --rest-port=36136 --tcp-port=36137 --discv5-udp-port=36139 --rest-address=0.0.0.0 --nat=extip:172.18.149.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad85b2ffcb2bcfcaccde5aeaadb9e68cba8cfdbb7ba04af2efd30976b35fcacf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36140 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.149.74 waku d0b1c581010d41558fb84b7d36311ac9b08273bff75cf6dca499397a51bc96eb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d0b1c581010d. Setting up logs at ./log/docker/receiving_node1_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 36136
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36136/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36136/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.74/tcp/36137/p2p/16Uiu2HAmRiKfwUKuaFYmjy58p64tyrmhUE917E6djngmdVqLXgAc","/ip4/172.18.149.74/tcp/36138/ws/p2p/16Uiu2HAmRiKfwUKuaFYmjy58p64tyrmhUE917E6djngmdVqLXgAc"],"enrUri":"enr:-LO4QKdEFIuA65LdZHJBbAu9gnpAeX5MY204aWGRypzIMq0MEkccQFpEe0LfK4Fhk90iWhiKoqB3dE3zRJ7A9lXOc70BgmlkgnY0gmlwhKwSlUqKbXVsdGlhZGRyc4wACgSsEpVKBo0q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPCAoT4s9P6fNJnruHpy56WDVmGL4808gsk6Mex7UOoiYN0Y3CCjSmDdWRwgo0rhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.249.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['7036', '7037', '7038', '7039', '7040']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 7036:7036 -p 7037:7037 -p 7038:7038 -p 7039:7039 -p 7040:7040 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7038 --rest-port=7036 --tcp-port=7037 --discv5-udp-port=7039 --rest-address=0.0.0.0 --nat=extip:172.18.249.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a87c73aeb9ab079cbaceac11f7f3a0525bdd2dc1ba0b2e08ededabbf57fcbbce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7040 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.249.6 waku 9203d47535d09743d9d82ebb3dce8bb2c7663104e504b698e5ca0cb2022fecdd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9203d47535d0. Setting up logs at ./log/docker/receiving_node2_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 7036
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7036/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7036/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.6/tcp/7037/p2p/16Uiu2HAmDSuPJnxSC6UPf6Rb3ENEShg53NC6aukLFmqq2nxnLVMK","/ip4/172.18.249.6/tcp/7038/ws/p2p/16Uiu2HAmDSuPJnxSC6UPf6Rb3ENEShg53NC6aukLFmqq2nxnLVMK"],"enrUri":"enr:-LO4QDB5p5h8Jq6T2PKQDo9FNfls4Wsv4TI4NzUVopvGLv1ran7mxTlTe76AQkyTWglz5TvmDbhQcYzM4H1lULoJyAcBgmlkgnY0gmlwhKwS-QaKbXVsdGlhZGRyc4wACgSsEvkGBht-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMLwxpgdb5w3kNqFHLVXKbumA6rFLp8JQEhGJpJhvJacoN0Y3CCG32DdWRwght_hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7036/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.74/tcp/36137/p2p/16Uiu2HAmRiKfwUKuaFYmjy58p64tyrmhUE917E6djngmdVqLXgAc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.74.7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['19901', '19902', '19903', '19904', '19905']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 19901:19901 -p 19902:19902 -p 19903:19903 -p 19904:19904 -p 19905:19905 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19903 --rest-port=19901 --tcp-port=19902 --discv5-udp-port=19904 --rest-address=0.0.0.0 --nat=extip:172.18.74.7 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a7c2ae3daddbc1824d1e7fe1b2ee8228b80c51e38953ee09eeaff19b4d4a4bbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19905 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKdEFIuA65LdZHJBbAu9gnpAeX5MY204aWGRypzIMq0MEkccQFpEe0LfK4Fhk90iWhiKoqB3dE3zRJ7A9lXOc70BgmlkgnY0gmlwhKwSlUqKbXVsdGlhZGRyc4wACgSsEpVKBo0q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPCAoT4s9P6fNJnruHpy56WDVmGL4808gsk6Mex7UOoiYN0Y3CCjSmDdWRwgo0rhXdha3UyCQ --lightpushnode=/ip4/172.18.149.74/tcp/36137/p2p/16Uiu2HAmRiKfwUKuaFYmjy58p64tyrmhUE917E6djngmdVqLXgAc --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.74.7 waku fc864853e5df3ffad6e01fa9ff28dac6eba975bb8aa7055c3409f4752cb8d756
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID fc864853e5df. Setting up logs at ./log/docker/lightpush_node1_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 19901
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19901/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19901/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.7/tcp/19902/p2p/16Uiu2HAkx9YEsErqPtLbicYkJynAgTW3LxJ57cwzPJVA47u151YP","/ip4/172.18.74.7/tcp/19903/ws/p2p/16Uiu2HAkx9YEsErqPtLbicYkJynAgTW3LxJ57cwzPJVA47u151YP"],"enrUri":"enr:-LO4QBWXkbVCfkXCXlsM6YKTBbLBh-RSVY5zoiIN4jXbovwsOi548SkvYo1ygzLDdcaf2NmQ7fYROwIWtOhZQfJK_Q8BgmlkgnY0gmlwhKwSSgeKbXVsdGlhZGRyc4wACgSsEkoHBk2_3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIocQQckwQYS9AmbFwQ8OL9YsS-xSbzB2SptHoKJ3AePIN0Y3CCTb6DdWRwgk3AhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19901/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.74/tcp/36137/p2p/16Uiu2HAmRiKfwUKuaFYmjy58p64tyrmhUE917E6djngmdVqLXgAc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19901/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.249.6/tcp/7037/p2p/16Uiu2HAmDSuPJnxSC6UPf6Rb3ENEShg53NC6aukLFmqq2nxnLVMK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.21.196
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['28174', '28175', '28176', '28177', '28178']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 28174:28174 -p 28175:28175 -p 28176:28176 -p 28177:28177 -p 28178:28178 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28176 --rest-port=28174 --tcp-port=28175 --discv5-udp-port=28177 --rest-address=0.0.0.0 --nat=extip:172.18.21.196 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c4e6ae9a3ed1e06aede4ef702ef2f5ede47bebc5ad19a1cc7fe158dd74eebfde --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28178 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKdEFIuA65LdZHJBbAu9gnpAeX5MY204aWGRypzIMq0MEkccQFpEe0LfK4Fhk90iWhiKoqB3dE3zRJ7A9lXOc70BgmlkgnY0gmlwhKwSlUqKbXVsdGlhZGRyc4wACgSsEpVKBo0q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPCAoT4s9P6fNJnruHpy56WDVmGL4808gsk6Mex7UOoiYN0Y3CCjSmDdWRwgo0rhXdha3UyCQ --lightpushnode=/ip4/172.18.149.74/tcp/36137/p2p/16Uiu2HAmRiKfwUKuaFYmjy58p64tyrmhUE917E6djngmdVqLXgAc --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.21.196 waku bb671859ac5dc9aa683c1a65edc706604b1e712f89fba801f3f420d810b246d9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID bb671859ac5d. Setting up logs at ./log/docker/lightpush_node2_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 28174
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28174/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28174/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.196/tcp/28175/p2p/16Uiu2HAkzApUfwFcXnVKjVCnsyiUVZUGLtZKwMR7pptEHMqhmcHE","/ip4/172.18.21.196/tcp/28176/ws/p2p/16Uiu2HAkzApUfwFcXnVKjVCnsyiUVZUGLtZKwMR7pptEHMqhmcHE"],"enrUri":"enr:-LO4QGGQmXMR3iJO0fDWxrEodag3OSHeMUlFfu6kvrG-fWmsRgU_Lf0SwRNbhM89ODQlx9Nbd4064k_huhH-eqiO9DwBgmlkgnY0gmlwhKwSFcSKbXVsdGlhZGRyc4wACgSsEhXEBm4Q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJGfFTDmOZyfi-jRbqw4W65W4-xIstFfI0npajNRNja-YN0Y3CCbg-DdWRwgm4RhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28174/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.74/tcp/36137/p2p/16Uiu2HAmRiKfwUKuaFYmjy58p64tyrmhUE917E6djngmdVqLXgAc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28174/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.249.6/tcp/7037/p2p/16Uiu2HAmDSuPJnxSC6UPf6Rb3ENEShg53NC6aukLFmqq2nxnLVMK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.64.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['18198', '18199', '18200', '18201', '18202']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 18198:18198 -p 18199:18199 -p 18200:18200 -p 18201:18201 -p 18202:18202 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18200 --rest-port=18198 --tcp-port=18199 --discv5-udp-port=18201 --rest-address=0.0.0.0 --nat=extip:172.18.64.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d5bc8d5e8cf0d5bdfe4bd60f8abdf42f0c57fb0fd4bfc2d5b9bfeea8da28c5a0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18202 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKdEFIuA65LdZHJBbAu9gnpAeX5MY204aWGRypzIMq0MEkccQFpEe0LfK4Fhk90iWhiKoqB3dE3zRJ7A9lXOc70BgmlkgnY0gmlwhKwSlUqKbXVsdGlhZGRyc4wACgSsEpVKBo0q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPCAoT4s9P6fNJnruHpy56WDVmGL4808gsk6Mex7UOoiYN0Y3CCjSmDdWRwgo0rhXdha3UyCQ --lightpushnode=/ip4/172.18.149.74/tcp/36137/p2p/16Uiu2HAmRiKfwUKuaFYmjy58p64tyrmhUE917E6djngmdVqLXgAc --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.64.94 waku face12cde070b233ddef882b37c3c7b8b7197142f62916332c55ab2b8f09914b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID face12cde070. Setting up logs at ./log/docker/lightpush_node3_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 18198
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18198/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18198/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.64.94/tcp/18199/p2p/16Uiu2HAkxSPmUJC7XEj3HwtgANMpQPLJrAgXjFtopJD1ws6ykqaQ","/ip4/172.18.64.94/tcp/18200/ws/p2p/16Uiu2HAkxSPmUJC7XEj3HwtgANMpQPLJrAgXjFtopJD1ws6ykqaQ"],"enrUri":"enr:-LO4QAry_RHM1z8JyQlPh7Q9t8E09V5Lc1UxFl79XhdlPUoZTMKXgKvHohLjPpoZ2i4WIjMkL1DZuBR0ZUdROVfhNlUBgmlkgnY0gmlwhKwSQF6KbXVsdGlhZGRyc4wACgSsEkBeBkcY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIswk9jkNdAavxuQ3ep1lcK3CXEHxQAn-UQNKdutlwOKYN0Y3CCRxeDdWRwgkcZhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18198/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.74/tcp/36137/p2p/16Uiu2HAmRiKfwUKuaFYmjy58p64tyrmhUE917E6djngmdVqLXgAc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18198/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.249.6/tcp/7037/p2p/16Uiu2HAmDSuPJnxSC6UPf6Rb3ENEShg53NC6aukLFmqq2nxnLVMK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.246.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['7927', '7928', '7929', '7930', '7931']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 7927:7927 -p 7928:7928 -p 7929:7929 -p 7930:7930 -p 7931:7931 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7929 --rest-port=7927 --tcp-port=7928 --discv5-udp-port=7930 --rest-address=0.0.0.0 --nat=extip:172.18.246.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1eec9e52054a4493c3663c65ff066f7b2bceb77b6dc41d6da8ebdbd3a527a5ce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7931 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKdEFIuA65LdZHJBbAu9gnpAeX5MY204aWGRypzIMq0MEkccQFpEe0LfK4Fhk90iWhiKoqB3dE3zRJ7A9lXOc70BgmlkgnY0gmlwhKwSlUqKbXVsdGlhZGRyc4wACgSsEpVKBo0q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPCAoT4s9P6fNJnruHpy56WDVmGL4808gsk6Mex7UOoiYN0Y3CCjSmDdWRwgo0rhXdha3UyCQ --lightpushnode=/ip4/172.18.149.74/tcp/36137/p2p/16Uiu2HAmRiKfwUKuaFYmjy58p64tyrmhUE917E6djngmdVqLXgAc --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.246.49 waku e19f620f7f960a1d9223c33147c9dc9113f04d20e8f04cff0a2f58ffb8af1653
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e19f620f7f96. Setting up logs at ./log/docker/lightpush_node4_2024-08-20_09-07-01__3ce63b97-611a-4ba3-843a-4134bff692cf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 7927
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7927/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7927/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.49/tcp/7928/p2p/16Uiu2HAmNWdYrwEDWeVjErPGnrsLF5jrBVu49fnFZNeLe9bzAD9W","/ip4/172.18.246.49/tcp/7929/ws/p2p/16Uiu2HAmNWdYrwEDWeVjErPGnrsLF5jrBVu49fnFZNeLe9bzAD9W"],"enrUri":"enr:-LO4QBALEYs-fQzLigepSu0e6kng_6olJIB1GBJNt2vSEdSuA0yoYRPx0__GKnwcJkWMzuwv7VIj9gFxXhDFIdd4DsABgmlkgnY0gmlwhKwS9jGKbXVsdGlhZGRyc4wACgSsEvYxBh753QOCcnOFAAMBAACJc2VjcDI1NmsxoQOScLQfpcqgeqCtltaBN4gq6HlNMazPdy2XFiPrfApyVYN0Y3CCHviDdWRwgh76hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7927/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.74/tcp/36137/p2p/16Uiu2HAmRiKfwUKuaFYmjy58p64tyrmhUE917E6djngmdVqLXgAc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7927/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.249.6/tcp/7037/p2p/16Uiu2HAmDSuPJnxSC6UPf6Rb3ENEShg53NC6aukLFmqq2nxnLVMK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36136/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7036/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19901/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724144832479680768}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724144832479680768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7036/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724144832479680768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28174/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724144832602420992}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724144832602420992,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7036/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724144832602420992,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18198/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724144832725610240}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724144832725610240,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7036/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724144832725610240,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7927/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724144832846400512}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724144832846400512,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7036/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724144832846400512,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id d0b1c581010d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 9203d47535d0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id fc864853e5df
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id bb671859ac5d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id face12cde070
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id e19f620f7f96
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.