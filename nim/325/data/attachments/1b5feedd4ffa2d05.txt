[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_pubsub_topic with id: 2024-08-20_09-05-51__23827514-61fd-480b-9b4c-72cf38f57a1d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-20_09-05-51__23827514-61fd-480b-9b4c-72cf38f57a1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.153.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['27367', '27368', '27369', '27370', '27371']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 27367:27367 -p 27368:27368 -p 27369:27369 -p 27370:27370 -p 27371:27371 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27369 --rest-port=27367 --tcp-port=27368 --discv5-udp-port=27370 --rest-address=0.0.0.0 --nat=extip:172.18.153.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3ca57ab8addbeaac53b01d8c80d55103cac7daff664ecf0023aac1a2bb1aa6cb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27371 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.153.102 waku f92f3bd921b2e529039f04251fe731874cc45a790f744accc77592e3c32d0f56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID f92f3bd921b2. Setting up logs at ./log/docker/node1_2024-08-20_09-05-51__23827514-61fd-480b-9b4c-72cf38f57a1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 27367
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27367/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27367/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.102/tcp/27368/p2p/16Uiu2HAmTdE2oGXi9pUiRGLen8d4jHTD9MoNo5QdvZgeWRrEQe4Q","/ip4/172.18.153.102/tcp/27369/ws/p2p/16Uiu2HAmTdE2oGXi9pUiRGLen8d4jHTD9MoNo5QdvZgeWRrEQe4Q"],"enrUri":"enr:-LO4QKC-XKObmUvKHAtLaVf_coOZnh8-8x2H_Jpcbg3o6GwlbawVuuUSVGInmH-dOB-2ZPmOqeVoRNueNIfq1waiNWQBgmlkgnY0gmlwhKwSmWaKbXVsdGlhZGRyc4wACgSsEplmBmrp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPea5yUgK-BVr-xBXBZ4q9d8CHBxqOFtbA4pHIV0nuXgYN0Y3CCauiDdWRwgmrqhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-20_09-05-51__23827514-61fd-480b-9b4c-72cf38f57a1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.194.9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['30565', '30566', '30567', '30568', '30569']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 30565:30565 -p 30566:30566 -p 30567:30567 -p 30568:30568 -p 30569:30569 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30567 --rest-port=30565 --tcp-port=30566 --discv5-udp-port=30568 --rest-address=0.0.0.0 --nat=extip:172.18.194.9 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d915f0eecebf5cedb2da9f75bed5c5a99f0e5fe412d0deba08fb7fcccf24788b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30569 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QKC-XKObmUvKHAtLaVf_coOZnh8-8x2H_Jpcbg3o6GwlbawVuuUSVGInmH-dOB-2ZPmOqeVoRNueNIfq1waiNWQBgmlkgnY0gmlwhKwSmWaKbXVsdGlhZGRyc4wACgSsEplmBmrp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPea5yUgK-BVr-xBXBZ4q9d8CHBxqOFtbA4pHIV0nuXgYN0Y3CCauiDdWRwgmrqhXdha3UyBQ --filternode=/ip4/172.18.153.102/tcp/27368/p2p/16Uiu2HAmTdE2oGXi9pUiRGLen8d4jHTD9MoNo5QdvZgeWRrEQe4Q
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.194.9 waku 9dcadbb508156cb71da5534cffa019aa6a254632966475d3276adb5df3cee14d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9dcadbb50815. Setting up logs at ./log/docker/node2_2024-08-20_09-05-51__23827514-61fd-480b-9b4c-72cf38f57a1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 30565
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30565/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30565/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.194.9/tcp/30566/p2p/16Uiu2HAm6gf6Pkge5MYN29gLim9jf3zojoJXSRkEDMSiTnGYRe4z","/ip4/172.18.194.9/tcp/30567/ws/p2p/16Uiu2HAm6gf6Pkge5MYN29gLim9jf3zojoJXSRkEDMSiTnGYRe4z"],"enrUri":"enr:-LO4QIMZ46e1opD19EGwE5Q7pMeuifgik_dr5oubuoNNxUeHCEbL0lJkYJSQye0DABxiwLjhqtkjSMt_t5QciD43oIIBgmlkgnY0gmlwhKwSwgmKbXVsdGlhZGRyc4wACgSsEsIJBndn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKnR0Qq-iausqsiZAMivA294N49e_G-gpap3O68mDkRa4N0Y3CCd2aDdWRwgndohXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30565/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.102/tcp/27368/p2p/16Uiu2HAmTdE2oGXi9pUiRGLen8d4jHTD9MoNo5QdvZgeWRrEQe4Q"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27367/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30565/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a248e49d-39d7-4f61-b53a-3313bb635144", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a248e49d-39d7-4f61-b53a-3313bb635144","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:30565/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:30565/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id f92f3bd921b2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 9dcadbb50815
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.