[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_without_pubsub_topic_and_content_topic with id: 2024-08-20_09-24-29__a7b22384-d269-4f8b-a749-04266fa6b2f6
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-08-20_09-24-29__a7b22384-d269-4f8b-a749-04266fa6b2f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.79.103
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['60645', '60646', '60647', '60648', '60649']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 60645:60645 -p 60646:60646 -p 60647:60647 -p 60648:60648 -p 60649:60649 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60647 --rest-port=60645 --tcp-port=60646 --discv5-udp-port=60648 --rest-address=0.0.0.0 --nat=extip:172.18.79.103 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=90abadedbcbdacb9aada14cde3cfafb3ad6be67c4ba3672daadeceaeeacf26f9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60649 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.79.103 waku f8f0b70010dca4c015afec96258bf0eef79356ab9d041e910e89936071b2dc19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID f8f0b70010dc. Setting up logs at ./log/docker/publishing_node1_2024-08-20_09-24-29__a7b22384-d269-4f8b-a749-04266fa6b2f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 60645
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60645/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60645/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.79.103/tcp/60646/p2p/16Uiu2HAm9LVtJ8BXzYZnCtTYB3aTkzcuZ9yJQxDEUYVxpCKXt1ND","/ip4/172.18.79.103/tcp/60647/ws/p2p/16Uiu2HAm9LVtJ8BXzYZnCtTYB3aTkzcuZ9yJQxDEUYVxpCKXt1ND"],"enrUri":"enr:-LO4QD1pXbvG4YSnvE6W1lEkXrwPlXv29VRFALi2Ltha9iCGdRGQ_ohli4buZZZ6zUlpx0E24xau7N4ncWlql1k_52gBgmlkgnY0gmlwhKwST2eKbXVsdGlhZGRyc4wACgSsEk9nBuzn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLOsEx4l5CKQCbLWxwccw9I-lOwoytT4fEO4H84zzJtJoN0Y3CC7OaDdWRwguzohXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/store_node1_2024-08-20_09-24-29__a7b22384-d269-4f8b-a749-04266fa6b2f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.74.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['57356', '57357', '57358', '57359', '57360']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 57356:57356 -p 57357:57357 -p 57358:57358 -p 57359:57359 -p 57360:57360 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57358 --rest-port=57356 --tcp-port=57357 --discv5-udp-port=57359 --rest-address=0.0.0.0 --nat=extip:172.18.74.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=73c049d6cc43f9b770c44d14b0e6dd5a77cfffda6bb2cef8bd4ace97310fcced --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57360 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QD1pXbvG4YSnvE6W1lEkXrwPlXv29VRFALi2Ltha9iCGdRGQ_ohli4buZZZ6zUlpx0E24xau7N4ncWlql1k_52gBgmlkgnY0gmlwhKwST2eKbXVsdGlhZGRyc4wACgSsEk9nBuzn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLOsEx4l5CKQCbLWxwccw9I-lOwoytT4fEO4H84zzJtJoN0Y3CC7OaDdWRwguzohXdha3UyAw --storenode=/ip4/172.18.79.103/tcp/60646/p2p/16Uiu2HAm9LVtJ8BXzYZnCtTYB3aTkzcuZ9yJQxDEUYVxpCKXt1ND --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.74.179 waku a7650ad7f1fa7b996a54d54a2cfa2fdaa604b9b58dc53b715ac8c45d205b9e29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a7650ad7f1fa. Setting up logs at ./log/docker/store_node1_2024-08-20_09-24-29__a7b22384-d269-4f8b-a749-04266fa6b2f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 57356
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57356/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57356/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.179/tcp/57357/p2p/16Uiu2HAkvGt7bDuScMzUfKiYwtf52e8JSJpEpAH3t1LHn8836eRF","/ip4/172.18.74.179/tcp/57358/ws/p2p/16Uiu2HAkvGt7bDuScMzUfKiYwtf52e8JSJpEpAH3t1LHn8836eRF"],"enrUri":"enr:-LO4QCUw1l7DPIJ263CgpmZ4Q9-OfIDj4cw9tUkbSspXL0avOb5sUDUNmDGBcXtHFK0o-lEq8jJvRVOVVxt_XTXmJrgBgmlkgnY0gmlwhKwSSrOKbXVsdGlhZGRyc4wACgSsEkqzBuAO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIMmy4ayd6Zb8k5TjgsbtoHhZMIsWNaQ-OF-Ja8UiaaOoN0Y3CC4A2DdWRwguAPhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57356/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.79.103/tcp/60646/p2p/16Uiu2HAm9LVtJ8BXzYZnCtTYB3aTkzcuZ9yJQxDEUYVxpCKXt1ND"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60645/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57356/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60645/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60645/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60645/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60645/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60645/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60645/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60645/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60645/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60645/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"xTXCj1/FzPtryUCaYT1afHDMcjPh28uHpiRMPouwTiw="},{"messageHash":"m67PpPsAeGYGSONHja4Ldhnaq+YyYbw2ABGfheRWU60="},{"messageHash":"sNTGUyYKowlZ1D53368ps9JKHmFrK23ljpzEz0ty7sA="},{"messageHash":"t8ptGmsZv1/qvzRfVc0XH+LXrMH73wLSE1iFtndxGUs="},{"messageHash":"XodncRmZTk25T0m/xN2qMBWoYbANMByfqjyQ4NW7OW0="},{"messageHash":"4yJ0NZLC7E/LPgYL/ZHh933ImDWCl208Z134DawZkLc="},{"messageHash":"4mh2aDqtswBpiGiCpM9qkfi0uBCurbTkHQDQXthFgfY="},{"messageHash":"eYuBE8ENnQ6jZWos7rS8Qr5+148p08+UNTW6m92wAUo="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57356/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"xTXCj1/FzPtryUCaYT1afHDMcjPh28uHpiRMPouwTiw="},{"messageHash":"m67PpPsAeGYGSONHja4Ldhnaq+YyYbw2ABGfheRWU60="},{"messageHash":"sNTGUyYKowlZ1D53368ps9JKHmFrK23ljpzEz0ty7sA="},{"messageHash":"t8ptGmsZv1/qvzRfVc0XH+LXrMH73wLSE1iFtndxGUs="},{"messageHash":"XodncRmZTk25T0m/xN2qMBWoYbANMByfqjyQ4NW7OW0="},{"messageHash":"4yJ0NZLC7E/LPgYL/ZHh933ImDWCl208Z134DawZkLc="},{"messageHash":"4mh2aDqtswBpiGiCpM9qkfi0uBCurbTkHQDQXthFgfY="},{"messageHash":"eYuBE8ENnQ6jZWos7rS8Qr5+148p08+UNTW6m92wAUo="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id f8f0b70010dc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id a7650ad7f1fa
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.