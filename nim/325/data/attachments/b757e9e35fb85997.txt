[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_content_topic with id: 2024-08-20_09-05-45__2165ff58-c7c0-4487-a7bb-541b4ddc37f5
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-20_09-05-45__2165ff58-c7c0-4487-a7bb-541b4ddc37f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.3.242
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['12206', '12207', '12208', '12209', '12210']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 12206:12206 -p 12207:12207 -p 12208:12208 -p 12209:12209 -p 12210:12210 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12208 --rest-port=12206 --tcp-port=12207 --discv5-udp-port=12209 --rest-address=0.0.0.0 --nat=extip:172.18.3.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ac015c3cecd38b8c7b7481a319fdafdade3a861cbd4fbc0fce9a112e2cc2f8e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12210 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.3.242 waku 98d892c8e9d29d1c943e059619bb85164096318a6fdfbe38e23d16ba86f922a7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 98d892c8e9d2. Setting up logs at ./log/docker/node1_2024-08-20_09-05-45__2165ff58-c7c0-4487-a7bb-541b4ddc37f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 12206
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12206/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12206/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.242/tcp/12207/p2p/16Uiu2HAmLov8QJ9c2fguJFTpYufG339V7aRAiKUPfMNYQoZriV7B","/ip4/172.18.3.242/tcp/12208/ws/p2p/16Uiu2HAmLov8QJ9c2fguJFTpYufG339V7aRAiKUPfMNYQoZriV7B"],"enrUri":"enr:-LO4QO6rGyWSVpII5eUePDtjDOLkYshnSmlkRxkgjtkvXZo0OZQqSLprJpf9KxfQ9Ytv6OZFy4GVGFd4y7YB0Fu3o8IBgmlkgnY0gmlwhKwSA_KKbXVsdGlhZGRyc4wACgSsEgPyBi-w3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN5JvLaCKnC1cbhG6AR-64f9YUZyJ9VFK0V7Ahmu7EHzoN0Y3CCL6-DdWRwgi-xhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-20_09-05-45__2165ff58-c7c0-4487-a7bb-541b4ddc37f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.44.131
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['16273', '16274', '16275', '16276', '16277']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 16273:16273 -p 16274:16274 -p 16275:16275 -p 16276:16276 -p 16277:16277 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16275 --rest-port=16273 --tcp-port=16274 --discv5-udp-port=16276 --rest-address=0.0.0.0 --nat=extip:172.18.44.131 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=34adfca5dc73e55fb3ff5a0f1ae4d55e4b0be2490fa8cb6ba86e14e995dfbddd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16277 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QO6rGyWSVpII5eUePDtjDOLkYshnSmlkRxkgjtkvXZo0OZQqSLprJpf9KxfQ9Ytv6OZFy4GVGFd4y7YB0Fu3o8IBgmlkgnY0gmlwhKwSA_KKbXVsdGlhZGRyc4wACgSsEgPyBi-w3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN5JvLaCKnC1cbhG6AR-64f9YUZyJ9VFK0V7Ahmu7EHzoN0Y3CCL6-DdWRwgi-xhXdha3UyBQ --filternode=/ip4/172.18.3.242/tcp/12207/p2p/16Uiu2HAmLov8QJ9c2fguJFTpYufG339V7aRAiKUPfMNYQoZriV7B
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.44.131 waku a32cee59eb820de3e2f0d5ee63409713d8e2e0521e0b117bb86946204cfd2171
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a32cee59eb82. Setting up logs at ./log/docker/node2_2024-08-20_09-05-45__2165ff58-c7c0-4487-a7bb-541b4ddc37f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 16273
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16273/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16273/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.44.131/tcp/16274/p2p/16Uiu2HAmT6v11ddHaWpQgpuKJa2azCashGG2oMzvtpkL8vh1koXT","/ip4/172.18.44.131/tcp/16275/ws/p2p/16Uiu2HAmT6v11ddHaWpQgpuKJa2azCashGG2oMzvtpkL8vh1koXT"],"enrUri":"enr:-LO4QNwrjZdxuL2VV12kzLU_bnegPFAdvvNKc_dA33SPB9mmPmM45WDNusVjmbjxW5W6W4m_vzsSmNRW4BqDMN8lXzQBgmlkgnY0gmlwhKwSLIOKbXVsdGlhZGRyc4wACgSsEiyDBj-T3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPWp8zEQ1RE14Gq0UzYVkl2-GVi36OPFjRTZp5qa-nS1oN0Y3CCP5KDdWRwgj-UhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16273/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.242/tcp/12207/p2p/16Uiu2HAmLov8QJ9c2fguJFTpYufG339V7aRAiKUPfMNYQoZriV7B"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12206/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16273/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "99b7682f-e0c6-4518-aad0-857be6c15f8a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"99b7682f-e0c6-4518-aad0-857be6c15f8a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:16273/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:16273/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 98d892c8e9d2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id a32cee59eb82
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.