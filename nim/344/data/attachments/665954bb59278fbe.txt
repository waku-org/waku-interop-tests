[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-09-04_04-21-00__57153ea1-d89b-4bdb-bf18-71b8048a047d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-04_04-21-00__57153ea1-d89b-4bdb-bf18-71b8048a047d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.187.160
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62961', '62962', '62963', '62964', '62965']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62961:62961 -p 62962:62962 -p 62963:62963 -p 62964:62964 -p 62965:62965 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62963 --rest-port=62961 --tcp-port=62962 --discv5-udp-port=62964 --rest-address=0.0.0.0 --nat=extip:172.18.187.160 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0b70ff189d267e9ed75e424f34808ba0cbfcaa6feab62f0f2cd4411de4bff443 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62965 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.187.160 waku 7db80ffc82516a5265ba344c654347ee4ce22388a319fa906fffb0c7108d4bf8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7db80ffc8251. Setting up logs at ./log/docker/receiving_node1_2024-09-04_04-21-00__57153ea1-d89b-4bdb-bf18-71b8048a047d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62961
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62961/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62961/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.160/tcp/62962/p2p/16Uiu2HAmAKpYw2ndoWdaKuorrzScBFSKS6Pzdyjjw5B6w9B3z74N","/ip4/172.18.187.160/tcp/62963/ws/p2p/16Uiu2HAmAKpYw2ndoWdaKuorrzScBFSKS6Pzdyjjw5B6w9B3z74N"],"enrUri":"enr:-LO4QG37-BcCFfvEMZ8z8vMyGrigpC0R6MNUyhO2Tud1QmAYT2AJnWpHO5KNykCgtvHWpl9yWlJDJgAR7CBnZ56is-ABgmlkgnY0gmlwhKwSu6CKbXVsdGlhZGRyc4wACgSsErugBvXz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLdX4K9xallqegEi_q2iONxOktDMry1C3I2JiJunHVm44N0Y3CC9fKDdWRwgvX0hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-04_04-21-00__57153ea1-d89b-4bdb-bf18-71b8048a047d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.14.121
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['52116', '52117', '52118', '52119', '52120']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 52116:52116 -p 52117:52117 -p 52118:52118 -p 52119:52119 -p 52120:52120 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52118 --rest-port=52116 --tcp-port=52117 --discv5-udp-port=52119 --rest-address=0.0.0.0 --nat=extip:172.18.14.121 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea51385e3d8a9db98e26f455f0ce6abb1fee2385f95a0bd761960fbf8f5a8502 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52120 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.14.121 waku d4deebe2b64e95cc2017438b190b137275217da3bdd76d520b99193a250aa330
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d4deebe2b64e. Setting up logs at ./log/docker/receiving_node2_2024-09-04_04-21-00__57153ea1-d89b-4bdb-bf18-71b8048a047d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 52116
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52116/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52116/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.121/tcp/52117/p2p/16Uiu2HAmEcohCWniAcLAQ8hjGyEQsHmEjC1g79PG3Fqs7KTkbqXb","/ip4/172.18.14.121/tcp/52118/ws/p2p/16Uiu2HAmEcohCWniAcLAQ8hjGyEQsHmEjC1g79PG3Fqs7KTkbqXb"],"enrUri":"enr:-LO4QOcS7yBiu1Hwct0wgk7KIYnOoVQ3VXh-aAQZ2if84hmKV-y1sNMrUisNIYBYz42i-NNsFEIszKAm0ZmAI3r-ZNIBgmlkgnY0gmlwhKwSDnmKbXVsdGlhZGRyc4wACgSsEg55BsuW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMdKCmh88QfLSbk5-Txk642oTBwBtM74Zym4aynT3Q0boN0Y3CCy5WDdWRwgsuXhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52116/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.187.160/tcp/62962/p2p/16Uiu2HAmAKpYw2ndoWdaKuorrzScBFSKS6Pzdyjjw5B6w9B3z74N"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-04_04-21-00__57153ea1-d89b-4bdb-bf18-71b8048a047d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.177.96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38650', '38651', '38652', '38653', '38654']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38650:38650 -p 38651:38651 -p 38652:38652 -p 38653:38653 -p 38654:38654 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38652 --rest-port=38650 --tcp-port=38651 --discv5-udp-port=38653 --rest-address=0.0.0.0 --nat=extip:172.18.177.96 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=27acbcbbac20da7a3d23bee7b0b063238ad2a7b8d8dc0eca4abf8fede1b71c6e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38654 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QG37-BcCFfvEMZ8z8vMyGrigpC0R6MNUyhO2Tud1QmAYT2AJnWpHO5KNykCgtvHWpl9yWlJDJgAR7CBnZ56is-ABgmlkgnY0gmlwhKwSu6CKbXVsdGlhZGRyc4wACgSsErugBvXz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLdX4K9xallqegEi_q2iONxOktDMry1C3I2JiJunHVm44N0Y3CC9fKDdWRwgvX0hXdha3UyCQ --lightpushnode=/ip4/172.18.187.160/tcp/62962/p2p/16Uiu2HAmAKpYw2ndoWdaKuorrzScBFSKS6Pzdyjjw5B6w9B3z74N --lightpush=true --relay=false
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.141.140
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['23958', '23959', '23960', '23961', '23962']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 23958:23958 -p 23959:23959 -p 23960:23960 -p 23961:23961 -p 23962:23962 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23960 --rest-port=23958 --tcp-port=23959 --discv5-udp-port=23961 --rest-address=0.0.0.0 --nat=extip:172.18.141.140 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcec9344afedebbe9f13b1ca2c1ca62db4c1b1f67235ad942293b3c93fc36b3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23962 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QG37-BcCFfvEMZ8z8vMyGrigpC0R6MNUyhO2Tud1QmAYT2AJnWpHO5KNykCgtvHWpl9yWlJDJgAR7CBnZ56is-ABgmlkgnY0gmlwhKwSu6CKbXVsdGlhZGRyc4wACgSsErugBvXz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLdX4K9xallqegEi_q2iONxOktDMry1C3I2JiJunHVm44N0Y3CC9fKDdWRwgvX0hXdha3UyCQ --lightpushnode=/ip4/172.18.187.160/tcp/62962/p2p/16Uiu2HAmAKpYw2ndoWdaKuorrzScBFSKS6Pzdyjjw5B6w9B3z74N --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.141.140 waku 1b7b3f8bd46ce604cfc15bd48b6f9f1a748016adf899c3cd4f009e25c2947af7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1b7b3f8bd46c. Setting up logs at ./log/docker/lightpush_node1_2024-09-04_04-21-00__57153ea1-d89b-4bdb-bf18-71b8048a047d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23958
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23958/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23958/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.140/tcp/23959/p2p/16Uiu2HAmABB2WsmXjotMJiLijNiTxiubBrrtCrjnRh8CyTcY5VUD","/ip4/172.18.141.140/tcp/23960/ws/p2p/16Uiu2HAmABB2WsmXjotMJiLijNiTxiubBrrtCrjnRh8CyTcY5VUD"],"enrUri":"enr:-LO4QDpmACLRpThWiPoGsuA-mBwm1VECGoCrUScX1J_9RtUBQL17RsJchPZnd6HeKMstqH-qx3XOYR0v7BSqh99icvEBgmlkgnY0gmlwhKwSjYyKbXVsdGlhZGRyc4wACgSsEo2MBl2Y3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLbKG9rpza2KCSj9XkxmQiq1qhcCAZMj6nbUCWn7XpICoN0Y3CCXZeDdWRwgl2ZhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23958/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.187.160/tcp/62962/p2p/16Uiu2HAmAKpYw2ndoWdaKuorrzScBFSKS6Pzdyjjw5B6w9B3z74N"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23958/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.14.121/tcp/52117/p2p/16Uiu2HAmEcohCWniAcLAQ8hjGyEQsHmEjC1g79PG3Fqs7KTkbqXb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62961/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52116/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23958/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1725423665551592704}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:23958/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7db80ffc8251
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d4deebe2b64e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1b7b3f8bd46c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.