{"uid":"99304e5b2ce9d8aa","name":"test_store_filter_interaction_with_six_nodes","fullName":"tests.e2e.test_e2e.TestE2E#test_store_filter_interaction_with_six_nodes","historyId":"ca453453785d17103c4cf3d53a360c26","time":{"start":1737173084715,"stop":1737173148832,"duration":64117},"status":"failed","statusMessage":"AssertionError: Peer wakuorg/nwaku:latest couldn't find any messages. Actual response: {'requestId': '721dbba797bfd05637c2', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}","statusTrace":"tests/e2e/test_e2e.py:345: in test_store_filter_interaction_with_six_nodes\n    self.check_published_message_is_stored(page_size=50, ascending=\"true\", store_node=self.node5, messages_to_check=[message])\nsrc/steps/store.py:235: in check_published_message_is_stored\n    assert self.store_response.messages, f\"Peer {node.image} couldn't find any messages. Actual response: {self.store_response.resp_json}\"\nE   AssertionError: Peer wakuorg/nwaku:latest couldn't find any messages. Actual response: {'requestId': '721dbba797bfd05637c2', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1737172941726,"stop":1737172941726,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1737173084696,"stop":1737173084696,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1737173084696,"stop":1737173084696,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1737173084697,"stop":1737173084697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1737173084697,"stop":1737173084697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1737173084697,"stop":1737173084698,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1737173084697,"stop":1737173084697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1737173084697,"stop":1737173084697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1737173084697,"stop":1737173084697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nodes","time":{"start":1737173084698,"stop":1737173084714,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1737173084714,"stop":1737173084714,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1737173084714,"stop":1737173084714,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Peer wakuorg/nwaku:latest couldn't find any messages. Actual response: {'requestId': '721dbba797bfd05637c2', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}","statusTrace":"tests/e2e/test_e2e.py:345: in test_store_filter_interaction_with_six_nodes\n    self.check_published_message_is_stored(page_size=50, ascending=\"true\", store_node=self.node5, messages_to_check=[message])\nsrc/steps/store.py:235: in check_published_message_is_stored\n    assert self.store_response.messages, f\"Peer {node.image} couldn't find any messages. Actual response: {self.store_response.resp_json}\"\nE   AssertionError: Peer wakuorg/nwaku:latest couldn't find any messages. Actual response: {'requestId': '721dbba797bfd05637c2', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}","steps":[{"name":"wait_for_autoconnection","time":{"start":1737173091285,"stop":1737173141310,"duration":50025},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.e2e.test_e2e.TestE2E object at 0x7f16badd67e0>, [<src.node.waku_node.WakuNode object at 0x7f16b98b7770>, <src.node.waku_node.WakuNode object at 0x7f16b98b7560>, <src.node.waku_node.WakuNode object at 0x7f16b98b4e90>, <src.node.waku_node.WakuNode object at 0x7f16b98a2db0>, <src.node.waku_node.WakuNode object at 0x7f16b9843cb0>])"},{"name":"hard_wait","value":"50"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1737173141310,"stop":1737173141310,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"publish_message","time":{"start":1737173141311,"stop":1737173141518,"duration":207},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1737173141310356224}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"<src.node.waku_node.WakuNode object at 0x7f16b98b7770>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"get_filter_messages","time":{"start":1737173145519,"stop":1737173145521,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f16b9843cb0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_is_stored","time":{"start":1737173148799,"stop":1737173148830,"duration":31},"status":"failed","statusMessage":"AssertionError: Peer wakuorg/nwaku:latest couldn't find any messages. Actual response: {'requestId': '721dbba797bfd05637c2', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/store.py\", line 235, in check_published_message_is_stored\n    assert self.store_response.messages, f\"Peer {node.image} couldn't find any messages. Actual response: {self.store_response.resp_json}\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"get_messages_from_store","time":{"start":1737173148799,"stop":1737173148830,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f16b9897c80>"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"page_size","value":"50"},{"name":"ascending","value":"'true'"},{"name":"store_v","value":"'v3'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store_node","value":"<src.node.waku_node.WakuNode object at 0x7f16b9897c80>"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"page_size","value":"50"},{"name":"ascending","value":"'true'"},{"name":"store_v","value":"'v3'"},{"name":"messages_to_check","value":"[{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1737173141310356224}]"}],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"2da20cd41c66ab59","name":"log","source":"2da20cd41c66ab59.txt","type":"text/plain","size":114570}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1737173148859,"stop":1737173148860,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1737173148860,"stop":1737173156618,"duration":7758},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1737173156619,"stop":1737173156788,"duration":169},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1737173156788,"stop":1737173156795,"duration":7},"status":"passed","steps":[],"attachments":[{"uid":"cccf2b0bd4dbbbc6","name":"node3_2025-01-18_04-04-44__5c43f7c4-b984-495c-aa57-1f1f1f64ff17__wakuorg_nwaku:latest.log","source":"cccf2b0bd4dbbbc6.txt","type":"text/plain","size":1546754},{"uid":"c1bfeec312fa2870","name":"node2_2025-01-18_04-04-44__5c43f7c4-b984-495c-aa57-1f1f1f64ff17__wakuorg_nwaku:latest.log","source":"c1bfeec312fa2870.txt","type":"text/plain","size":798828},{"uid":"42207abe87376e3a","name":"node5_2025-01-18_04-04-44__5c43f7c4-b984-495c-aa57-1f1f1f64ff17__wakuorg_nwaku:latest.log","source":"42207abe87376e3a.txt","type":"text/plain","size":95123},{"uid":"d65b5196e5240662","name":"node6_2025-01-18_04-04-44__5c43f7c4-b984-495c-aa57-1f1f1f64ff17__wakuorg_nwaku:latest.log","source":"d65b5196e5240662.txt","type":"text/plain","size":200093},{"uid":"f37277794747fdc1","name":"node4_2025-01-18_04-04-44__5c43f7c4-b984-495c-aa57-1f1f1f64ff17__wakuorg_nwaku:latest.log","source":"f37277794747fdc1.txt","type":"text/plain","size":2075812},{"uid":"62836929b4861bc","name":"node1_2025-01-18_04-04-44__5c43f7c4-b984-495c-aa57-1f1f1f64ff17__wakuorg_nwaku:latest.log","source":"62836929b4861bc.txt","type":"text/plain","size":820233}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1737173460968,"stop":1737173460968,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"smoke"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Test works only with nwaku')"},{"name":"parentSuite","value":"tests.e2e"},{"name":"suite","value":"test_e2e"},{"name":"subSuite","value":"TestE2E"},{"name":"host","value":"fv-az787-330"},{"name":"thread","value":"1921-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.e2e.test_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"b7acd55feae446a","status":"failed","statusDetails":"AssertionError: Peer wakuorg/nwaku:latest couldn't find any messages. Actual response: {'requestId': '1de87e8674f36daf1098', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}","time":{"start":1737173014884,"stop":1737173079028,"duration":64144}},{"uid":"be0e9a2253edaeac","status":"failed","statusDetails":"AssertionError: Peer wakuorg/nwaku:latest couldn't find any messages. Actual response: {'requestId': '64e514fb384babc26906', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}","time":{"start":1737172941747,"stop":1737173007931,"duration":66184}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":35,"unknown":0,"total":37},"items":[{"uid":"d80d48edbafe25d6","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/619//#testresult/d80d48edbafe25d6","status":"failed","statusDetails":"AssertionError: Peer wakuorg/nwaku:latest couldn't find any messages. Actual response: {'requestId': '9ad8beb3400ec4d0eef1', 'statusCode': 200, 'statusDesc': 'OK', 'messages': []}","time":{"start":1737086689652,"stop":1737086753829,"duration":64177}},{"uid":"248532c8d46dd954","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/618//#testresult/248532c8d46dd954","status":"passed","time":{"start":1737000184887,"stop":1737000252206,"duration":67319}},{"uid":"72ff1f649ec1a598","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/617//#testresult/72ff1f649ec1a598","status":"passed","time":{"start":1736913740775,"stop":1736913807661,"duration":66886}},{"uid":"3f9df8f74c546d76","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/616//#testresult/3f9df8f74c546d76","status":"passed","time":{"start":1736827389262,"stop":1736827456574,"duration":67312}},{"uid":"fcfbb342f3e58f2c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/615//#testresult/fcfbb342f3e58f2c","status":"passed","time":{"start":1736741008251,"stop":1736741075329,"duration":67078}},{"uid":"59fa843727b817a6","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/614//#testresult/59fa843727b817a6","status":"passed","time":{"start":1736654540467,"stop":1736654606811,"duration":66344}},{"uid":"48d961701da32669","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/613//#testresult/48d961701da32669","status":"passed","time":{"start":1736568142357,"stop":1736568208664,"duration":66307}},{"uid":"29197c365ab547df","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/612//#testresult/29197c365ab547df","status":"passed","time":{"start":1736481810557,"stop":1736481877535,"duration":66978}},{"uid":"f60633b017e908e2","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/611//#testresult/f60633b017e908e2","status":"passed","time":{"start":1736395386489,"stop":1736395453556,"duration":67067}},{"uid":"cfce713ccf9ba2f5","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/610//#testresult/cfce713ccf9ba2f5","status":"passed","time":{"start":1736308945917,"stop":1736309013807,"duration":67890}},{"uid":"e18ee38efdc25197","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/609//#testresult/e18ee38efdc25197","status":"passed","time":{"start":1736222543949,"stop":1736222609899,"duration":65950}},{"uid":"6ce488671bd069db","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/608//#testresult/6ce488671bd069db","status":"passed","time":{"start":1736170279096,"stop":1736170345368,"duration":66272}},{"uid":"550d83bad8bb0e93","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/607//#testresult/550d83bad8bb0e93","status":"passed","time":{"start":1736136500813,"stop":1736136565500,"duration":64687}},{"uid":"3a19e20543e9b7b3","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/606//#testresult/3a19e20543e9b7b3","status":"passed","time":{"start":1736104571518,"stop":1736104637596,"duration":66078}},{"uid":"2ef9070986cb79de","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/605//#testresult/2ef9070986cb79de","status":"passed","time":{"start":1736102348046,"stop":1736102415019,"duration":66973}},{"uid":"e116d4a81da386f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/603//#testresult/e116d4a81da386f","status":"passed","time":{"start":1736049951602,"stop":1736050016309,"duration":64707}},{"uid":"ee3f1027bdb110a9","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/602//#testresult/ee3f1027bdb110a9","status":"passed","time":{"start":1735963679490,"stop":1735963744680,"duration":65190}},{"uid":"8328ffd06c8ec6c6","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/601//#testresult/8328ffd06c8ec6c6","status":"passed","time":{"start":1735877345510,"stop":1735877410249,"duration":64739}},{"uid":"cd554fa8770ce16d","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/600//#testresult/cd554fa8770ce16d","status":"passed","time":{"start":1735790739198,"stop":1735790804445,"duration":65247}},{"uid":"56878344cff87690","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/599//#testresult/56878344cff87690","status":"passed","time":{"start":1735704355839,"stop":1735704421591,"duration":65752}}]},"tags":["@pytest.mark.skipif(False, reason='Test works only with nwaku')","smoke"]},"source":"99304e5b2ce9d8aa.json","parameterValues":[]}