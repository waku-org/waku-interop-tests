[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_with_no_request_id with id: 2025-01-18_04-05-08__147fe2bf-1dcc-4484-a8b4-792d018f5c16
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-18_04-05-08__147fe2bf-1dcc-4484-a8b4-792d018f5c16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.251.53
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2069', '2070', '2071', '2072', '2073']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2069:2069 -p 2070:2070 -p 2071:2071 -p 2072:2072 -p 2073:2073 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2071 --rest-port=2069 --tcp-port=2070 --discv5-udp-port=2072 --rest-address=0.0.0.0 --nat=extip:172.18.251.53 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=92afd203fe3c24d3ab7b3d4fcddc6c50bfafecb33d1cc6eaae9ca09b4113062a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2073 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.251.53 waku 70a3d5c9e0bfb3f54571f0891df20a9583a4e05ab339af6967b0192249b36e89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 70a3d5c9e0bf. Setting up logs at ./log/docker/node1_2025-01-18_04-05-08__147fe2bf-1dcc-4484-a8b4-792d018f5c16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2069
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 14876e54758f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2069/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2069/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.251.53/tcp/2070/p2p/16Uiu2HAmCRhmM2L6FyJep46XuwrZC72M9hXYVkeRcsxeYJcaFo3o","/ip4/172.18.251.53/tcp/2071/ws/p2p/16Uiu2HAmCRhmM2L6FyJep46XuwrZC72M9hXYVkeRcsxeYJcaFo3o"],"enrUri":"enr:-L24QCun9LqPZn7yEPgEHBDQToQXqdErRTbsAR5iYD9rl09qXGqOyu1_CgiBTRAE1kfiYk2-BPAwsEH9UJMUsAGpoBYCgmlkgnY0gmlwhKwS-zWKbXVsdGlhZGRyc5YACASsEvs1BggWAAoErBL7NQYIF90DgnJzhQADAQAAiXNlY3AyNTZrMaEC_JiyTV1WWGeVZaMk3QM4NRS_H_HkDziBl3ObyZyfOfqDdGNwgggWg3VkcIIIGIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-18_04-05-08__147fe2bf-1dcc-4484-a8b4-792d018f5c16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.81.212
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54685', '54686', '54687', '54688', '54689']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54685:54685 -p 54686:54686 -p 54687:54687 -p 54688:54688 -p 54689:54689 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54687 --rest-port=54685 --tcp-port=54686 --discv5-udp-port=54688 --rest-address=0.0.0.0 --nat=extip:172.18.81.212 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfb86bdd657cadda8a2a2a521ae37e5d7d47f14a8efaae6fbb31aa537a1af5f9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54689 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCun9LqPZn7yEPgEHBDQToQXqdErRTbsAR5iYD9rl09qXGqOyu1_CgiBTRAE1kfiYk2-BPAwsEH9UJMUsAGpoBYCgmlkgnY0gmlwhKwS-zWKbXVsdGlhZGRyc5YACASsEvs1BggWAAoErBL7NQYIF90DgnJzhQADAQAAiXNlY3AyNTZrMaEC_JiyTV1WWGeVZaMk3QM4NRS_H_HkDziBl3ObyZyfOfqDdGNwgggWg3VkcIIIGIV3YWt1MgU --filternode=/ip4/172.18.251.53/tcp/2070/p2p/16Uiu2HAmCRhmM2L6FyJep46XuwrZC72M9hXYVkeRcsxeYJcaFo3o
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.81.212 waku 7c8272f2b7c10007bfa116a4114ba5fb27c648c0844f58b0431a658f0f907ad2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7c8272f2b7c1. Setting up logs at ./log/docker/node2_2025-01-18_04-05-08__147fe2bf-1dcc-4484-a8b4-792d018f5c16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 54685
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54685/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54685/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.212/tcp/54686/p2p/16Uiu2HAmBCWqai9dSAGVfoZod6Y3yv8AH1dfKygnGNrxh1WsFPE5","/ip4/172.18.81.212/tcp/54687/ws/p2p/16Uiu2HAmBCWqai9dSAGVfoZod6Y3yv8AH1dfKygnGNrxh1WsFPE5"],"enrUri":"enr:-L24QA0F5y4kFgyv9z73qoaILa-YmgBtLD1FRrzInIF8zlQwVBjV7oHZi4B_PTNnuw47wmzKwJhkVZU9Z_25W8kPmRwCgmlkgnY0gmlwhKwSUdSKbXVsdGlhZGRyc5YACASsElHUBtWeAAoErBJR1AbVn90DgnJzhQADAQAAiXNlY3AyNTZrMaEC6lwamHYT2pL3i-T3-1iBZf64lUlQitnbkSZ0dJQmQ36DdGNwgtWeg3VkcILVoIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54685/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.251.53/tcp/2070/p2p/16Uiu2HAmCRhmM2L6FyJep46XuwrZC72M9hXYVkeRcsxeYJcaFo3o"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2069/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54685/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fec01e3f-595d-436a-b4a7-e325724b3a87", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fec01e3f-595d-436a-b4a7-e325724b3a87","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54685/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:54685/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 70a3d5c9e0bf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7c8272f2b7c1
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 70a3d5c9e0bf. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.