[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_cursor_equal_to_first_message with id: 2024-12-16_04-19-39__640730de-5cf3-4a7c-9a0c-018fa198bdd3
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-12-16_04-19-39__640730de-5cf3-4a7c-9a0c-018fa198bdd3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.190.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53621', '53622', '53623', '53624', '53625']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53621:53621 -p 53622:53622 -p 53623:53623 -p 53624:53624 -p 53625:53625 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53623 --rest-port=53621 --tcp-port=53622 --discv5-udp-port=53624 --rest-address=0.0.0.0 --nat=extip:172.18.190.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=46abddbac59a82fcca2b7b7cc6db267b64f25ffde8efaa2bfe9ca162a936a717 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53625 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.190.82 waku 98f9fcc13df3bef1ec3ce6c41415d858688d137d4eeae31afd78c2156e230b20
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 98f9fcc13df3. Setting up logs at ./log/docker/publishing_node1_2024-12-16_04-19-39__640730de-5cf3-4a7c-9a0c-018fa198bdd3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 53621
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fa2e7777f575. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53621/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53621/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.82/tcp/53622/p2p/16Uiu2HAmDxzcVqQBjhMFANEEG29mAHoxCRbhmgv3cr1wTezQcc5u","/ip4/172.18.190.82/tcp/53623/ws/p2p/16Uiu2HAmDxzcVqQBjhMFANEEG29mAHoxCRbhmgv3cr1wTezQcc5u"],"enrUri":"enr:-L24QEAsXKjN_WbNr4mAgsdX1QIuJB_anssySIZReJfUalTpa0N6M6ourYvlvsmdPpNGCx-5zZwf-_WPMc-8BGlwq9ACgmlkgnY0gmlwhKwSvlKKbXVsdGlhZGRyc5YACASsEr5SBtF2AAoErBK-UgbRd90DgnJzhQADAQAAiXNlY3AyNTZrMaEDE3hwHsfPRZMC6912aR1fiZZmuPVkkYRVBq4CQXGyJ9CDdGNwgtF2g3VkcILReIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-12-16_04-19-39__640730de-5cf3-4a7c-9a0c-018fa198bdd3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.184.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6288', '6289', '6290', '6291', '6292']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6288:6288 -p 6289:6289 -p 6290:6290 -p 6291:6291 -p 6292:6292 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6290 --rest-port=6288 --tcp-port=6289 --discv5-udp-port=6291 --rest-address=0.0.0.0 --nat=extip:172.18.184.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8cf8dfd57bceb6dd025ab87e6df92e25daa8dcdabedaa9b7ad4c6abbac9a4d5a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6292 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QEAsXKjN_WbNr4mAgsdX1QIuJB_anssySIZReJfUalTpa0N6M6ourYvlvsmdPpNGCx-5zZwf-_WPMc-8BGlwq9ACgmlkgnY0gmlwhKwSvlKKbXVsdGlhZGRyc5YACASsEr5SBtF2AAoErBK-UgbRd90DgnJzhQADAQAAiXNlY3AyNTZrMaEDE3hwHsfPRZMC6912aR1fiZZmuPVkkYRVBq4CQXGyJ9CDdGNwgtF2g3VkcILReIV3YWt1MgM --storenode=/ip4/172.18.190.82/tcp/53622/p2p/16Uiu2HAmDxzcVqQBjhMFANEEG29mAHoxCRbhmgv3cr1wTezQcc5u --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.184.225 waku 6387a90a59217749159f1d8a8b88cf12e9c0cfba08e7c9aaf1ed8a9f2c7b281e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6387a90a5921. Setting up logs at ./log/docker/store_node1_2024-12-16_04-19-39__640730de-5cf3-4a7c-9a0c-018fa198bdd3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 6288
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6288/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6288/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.184.225/tcp/6289/p2p/16Uiu2HAmHYMvDT4cXR7CgZto6c8G9TYBpU2pGUo3DhaprhuUTGj7","/ip4/172.18.184.225/tcp/6290/ws/p2p/16Uiu2HAmHYMvDT4cXR7CgZto6c8G9TYBpU2pGUo3DhaprhuUTGj7"],"enrUri":"enr:-L24QILn3WZ5f7dv3oLtLu77AyDL2hP5k5auPWxmSMMjHW7SMuYqkU959wgyPmKTCVDtfJDeIH8gYlFPNQvTS9ZvB1ACgmlkgnY0gmlwhKwSuOGKbXVsdGlhZGRyc5YACASsErjhBhiRAAoErBK44QYYkt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDSJfBcJyo04U4wHXrikKxSuBGwtrPTRLT2kFP6QSo4WaDdGNwghiRg3VkcIIYk4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6288/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.190.82/tcp/53622/p2p/16Uiu2HAmDxzcVqQBjhMFANEEG29mAHoxCRbhmgv3cr1wTezQcc5u"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53621/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6288/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53621/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=PebyB%2BUP6k7HBTzhbRk8r8gMVd55W0XKyYbpjjwKta4%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"zZxJH3JS2kSaZsyr60brZerCdGb7yakRkMgB906ZBUg="},{"messageHash":"C4wK6kvrXNHzPB7H51AIBdRK+oy/aWZVwCtZ9tPnZzg="},{"messageHash":"/tbzpvXCZ0QBTaURjTydcrLGUIJdWG79vPS+FKbB/8c="},{"messageHash":"BKUMCJxi31wWp7gMK9wLgKTBENS7Z4iM6NvKzFtuYMQ="},{"messageHash":"knwqXier64Z+w9LSNGnfWXpWzVPpuKzswIfdZqcfg1M="},{"messageHash":"iNr6gzuG/fNndBtptydwVS8/NqW3kCfqzu6gUTUfDEM="},{"messageHash":"rcSEY95eZA7KaBVjANQtdn9IKbjeo+Ic2xDWNyLo094="},{"messageHash":"kta8S6jEyjnj5uHTwg7n5V+x9JXodRq5BsEdp7wQio8="},{"messageHash":"IgzL7mtx77zzbLHnYU2BwqSN745SjOHh/eMW0pWPHe0="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6288/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=PebyB%2BUP6k7HBTzhbRk8r8gMVd55W0XKyYbpjjwKta4%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"zZxJH3JS2kSaZsyr60brZerCdGb7yakRkMgB906ZBUg="},{"messageHash":"C4wK6kvrXNHzPB7H51AIBdRK+oy/aWZVwCtZ9tPnZzg="},{"messageHash":"/tbzpvXCZ0QBTaURjTydcrLGUIJdWG79vPS+FKbB/8c="},{"messageHash":"BKUMCJxi31wWp7gMK9wLgKTBENS7Z4iM6NvKzFtuYMQ="},{"messageHash":"knwqXier64Z+w9LSNGnfWXpWzVPpuKzswIfdZqcfg1M="},{"messageHash":"iNr6gzuG/fNndBtptydwVS8/NqW3kCfqzu6gUTUfDEM="},{"messageHash":"rcSEY95eZA7KaBVjANQtdn9IKbjeo+Ic2xDWNyLo094="},{"messageHash":"kta8S6jEyjnj5uHTwg7n5V+x9JXodRq5BsEdp7wQio8="},{"messageHash":"IgzL7mtx77zzbLHnYU2BwqSN745SjOHh/eMW0pWPHe0="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 98f9fcc13df3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6387a90a5921
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 98f9fcc13df3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.