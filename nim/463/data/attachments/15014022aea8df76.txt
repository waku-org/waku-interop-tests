[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-25_07-37-14__df4d8809-4468-401b-8c41-f18a92b4bd5b
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-25_07-37-14__df4d8809-4468-401b-8c41-f18a92b4bd5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.216.111
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59048', '59049', '59050', '59051', '59052']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59048:59048 -p 59049:59049 -p 59050:59050 -p 59051:59051 -p 59052:59052 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59050 --rest-port=59048 --tcp-port=59049 --discv5-udp-port=59051 --rest-address=0.0.0.0 --nat=extip:172.18.216.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=45f1afeac6b445c9a2a4b4fffedf91cd1ab50ebd40aef5caecf6dca9af9e1e26 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59052 --metrics-logging=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2b6b8fd21c04. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.216.111 waku 4d1392444388eed0083f646fada46d5aaff0881354efa61c777045e24984b630
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4d1392444388. Setting up logs at ./log/docker/node1_2024-11-25_07-37-14__df4d8809-4468-401b-8c41-f18a92b4bd5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 59048
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59048/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59048/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.111/tcp/59049/p2p/16Uiu2HAm1vfSFFNWxLxvyotW9Tr8wDG2KAeND4SLwb6iWgjPXG92","/ip4/172.18.216.111/tcp/59050/ws/p2p/16Uiu2HAm1vfSFFNWxLxvyotW9Tr8wDG2KAeND4SLwb6iWgjPXG92"],"enrUri":"enr:-L24QJWLXseexSB0DDdmbqrbU4ZhHPzLN9gllOS3mGid2XgqTqNB8SFK8k2jIFSDca5EfgQd5YTap64z29D0jpuiFeACgmlkgnY0gmlwhKwS2G-KbXVsdGlhZGRyc5YACASsEthvBuapAAoErBLYbwbmqt0DgnJzhQADAQAAiXNlY3AyNTZrMaECYJNZmpX3rnPt4B2RoM5anwbKfrY9hwGGyblQsjS92n2DdGNwguapg3VkcILmq4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-25_07-37-14__df4d8809-4468-401b-8c41-f18a92b4bd5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.12.135
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17175', '17176', '17177', '17178', '17179']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17175:17175 -p 17176:17176 -p 17177:17177 -p 17178:17178 -p 17179:17179 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17177 --rest-port=17175 --tcp-port=17176 --discv5-udp-port=17178 --rest-address=0.0.0.0 --nat=extip:172.18.12.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=daaebadb1acfefbeafe21b0ec12a890c0437e8d933b85d39a8e9ce7030042512 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17179 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJWLXseexSB0DDdmbqrbU4ZhHPzLN9gllOS3mGid2XgqTqNB8SFK8k2jIFSDca5EfgQd5YTap64z29D0jpuiFeACgmlkgnY0gmlwhKwS2G-KbXVsdGlhZGRyc5YACASsEthvBuapAAoErBLYbwbmqt0DgnJzhQADAQAAiXNlY3AyNTZrMaECYJNZmpX3rnPt4B2RoM5anwbKfrY9hwGGyblQsjS92n2DdGNwguapg3VkcILmq4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.12.135 waku ca55977cc37295491c6f12e92817ef05a7dd53035151892752ac0b845feeca34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ca55977cc372. Setting up logs at ./log/docker/node2_2024-11-25_07-37-14__df4d8809-4468-401b-8c41-f18a92b4bd5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 17175
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17175/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17175/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.12.135/tcp/17176/p2p/16Uiu2HAmPAQRaFUxqVuCJHY96oNUqtDK4AzPP9gjNe8yJ5jbRyRU","/ip4/172.18.12.135/tcp/17177/ws/p2p/16Uiu2HAmPAQRaFUxqVuCJHY96oNUqtDK4AzPP9gjNe8yJ5jbRyRU"],"enrUri":"enr:-L24QI7pOV1NpLxuwmQMmsGF_HvPmna7EKo4C0BCJ7NxU64tbr_dGJK7GSosLSL2rriE_3rBqsr9eU_imcPb90bp5p4CgmlkgnY0gmlwhKwSDIeKbXVsdGlhZGRyc5YACASsEgyHBkMYAAoErBIMhwZDGd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnB3u4dUpS-OTECXsp3XYvsFGbWCAGHFI52b603XUlwuDdGNwgkMYg3VkcIJDGoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17175/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.111/tcp/59049/p2p/16Uiu2HAm1vfSFFNWxLxvyotW9Tr8wDG2KAeND4SLwb6iWgjPXG92"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-25_07-37-14__df4d8809-4468-401b-8c41-f18a92b4bd5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.197.99
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33201', '33202', '33203', '33204', '33205']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33201:33201 -p 33202:33202 -p 33203:33203 -p 33204:33204 -p 33205:33205 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33203 --rest-port=33201 --tcp-port=33202 --discv5-udp-port=33204 --rest-address=0.0.0.0 --nat=extip:172.18.197.99 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dc233b63cf2ddbfea3ffebd2af0b3adc27fab1ffada1e4add53f230facfbfebd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33205 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJWLXseexSB0DDdmbqrbU4ZhHPzLN9gllOS3mGid2XgqTqNB8SFK8k2jIFSDca5EfgQd5YTap64z29D0jpuiFeACgmlkgnY0gmlwhKwS2G-KbXVsdGlhZGRyc5YACASsEthvBuapAAoErBLYbwbmqt0DgnJzhQADAQAAiXNlY3AyNTZrMaECYJNZmpX3rnPt4B2RoM5anwbKfrY9hwGGyblQsjS92n2DdGNwguapg3VkcILmq4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.197.99 waku 8bb1ab61aaf22fa2fa2aa29593267ca510dd8c0dd9339c57bf4b720a47c878a5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8bb1ab61aaf2. Setting up logs at ./log/docker/node3_2024-11-25_07-37-14__df4d8809-4468-401b-8c41-f18a92b4bd5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 33201
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33201/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33201/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.197.99/tcp/33202/p2p/16Uiu2HAmB9AwQ2KKS9WbEdjsfok5TPPGNZy2LAG2LNQyVJ33CNtA","/ip4/172.18.197.99/tcp/33203/ws/p2p/16Uiu2HAmB9AwQ2KKS9WbEdjsfok5TPPGNZy2LAG2LNQyVJ33CNtA"],"enrUri":"enr:-L24QNAwujxwEYZDsIGmYRYPgoz8g4ldqUlBJmxjfo76jgGXfeppRV5dSieSAuAcE6zMFPR7v8Sm_tbPiBslISfTKkECgmlkgnY0gmlwhKwSxWOKbXVsdGlhZGRyc5YACASsEsVjBoGyAAoErBLFYwaBs90DgnJzhQADAQAAiXNlY3AyNTZrMaEC6YDcWzelaeUpYEz0t1lgEjcUAvkofolPuJgJweSXnuODdGNwgoGyg3VkcIKBtIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33201/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.111/tcp/59049/p2p/16Uiu2HAm1vfSFFNWxLxvyotW9Tr8wDG2KAeND4SLwb6iWgjPXG92"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-25_07-37-14__df4d8809-4468-401b-8c41-f18a92b4bd5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.72.145
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17596', '17597', '17598', '17599', '17600']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17596:17596 -p 17597:17597 -p 17598:17598 -p 17599:17599 -p 17600:17600 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17598 --rest-port=17596 --tcp-port=17597 --discv5-udp-port=17599 --rest-address=0.0.0.0 --nat=extip:172.18.72.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1e54ceabd9e4f8eeabef54db00e6a3b16361ff1a1c3e3e90eac7d24daff8efed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17600 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJWLXseexSB0DDdmbqrbU4ZhHPzLN9gllOS3mGid2XgqTqNB8SFK8k2jIFSDca5EfgQd5YTap64z29D0jpuiFeACgmlkgnY0gmlwhKwS2G-KbXVsdGlhZGRyc5YACASsEthvBuapAAoErBLYbwbmqt0DgnJzhQADAQAAiXNlY3AyNTZrMaECYJNZmpX3rnPt4B2RoM5anwbKfrY9hwGGyblQsjS92n2DdGNwguapg3VkcILmq4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.72.145 waku aa4a15da0f81519096128d9e5bcd1ee1713f40afcbaca1b16ac8be76dc2042f9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID aa4a15da0f81. Setting up logs at ./log/docker/node4_2024-11-25_07-37-14__df4d8809-4468-401b-8c41-f18a92b4bd5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 17596
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17596/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17596/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.72.145/tcp/17597/p2p/16Uiu2HAm29fw6yEG4bephGP53nYbY6hmSKi5CWWwtBpAjWaNQocy","/ip4/172.18.72.145/tcp/17598/ws/p2p/16Uiu2HAm29fw6yEG4bephGP53nYbY6hmSKi5CWWwtBpAjWaNQocy"],"enrUri":"enr:-L24QLOhrLl9pxRxq-4FDgsAhHSCpw9CQ5mp2VSQZer_ox_3btAaSjwjSluee2usoOsD5wbIA-NUIGxDgF9-bfk228gCgmlkgnY0gmlwhKwSSJGKbXVsdGlhZGRyc5YACASsEkiRBkS9AAoErBJIkQZEvt0DgnJzhQADAQAAiXNlY3AyNTZrMaECY-h2jd-xqwd8dpAc_XULrYgp60-v-omNvsGVtuZL92aDdGNwgkS9g3VkcIJEv4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17596/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.111/tcp/59049/p2p/16Uiu2HAm1vfSFFNWxLxvyotW9Tr8wDG2KAeND4SLwb6iWgjPXG92"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-25_07-37-14__df4d8809-4468-401b-8c41-f18a92b4bd5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.195.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59279', '59280', '59281', '59282', '59283']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59279:59279 -p 59280:59280 -p 59281:59281 -p 59282:59282 -p 59283:59283 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59281 --rest-port=59279 --tcp-port=59280 --discv5-udp-port=59282 --rest-address=0.0.0.0 --nat=extip:172.18.195.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebc624e1bebd4bebc9bb6c8f5bed85ed54d4bdc50b81575a4746909ffcf7d299 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59283 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJWLXseexSB0DDdmbqrbU4ZhHPzLN9gllOS3mGid2XgqTqNB8SFK8k2jIFSDca5EfgQd5YTap64z29D0jpuiFeACgmlkgnY0gmlwhKwS2G-KbXVsdGlhZGRyc5YACASsEthvBuapAAoErBLYbwbmqt0DgnJzhQADAQAAiXNlY3AyNTZrMaECYJNZmpX3rnPt4B2RoM5anwbKfrY9hwGGyblQsjS92n2DdGNwguapg3VkcILmq4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.195.56 waku 8c009e3eff57b0f790cd142cf13ddb2e493385eb77eab84bc6b05be8ce20720c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8c009e3eff57. Setting up logs at ./log/docker/node5_2024-11-25_07-37-14__df4d8809-4468-401b-8c41-f18a92b4bd5b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 59279
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59279/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59279/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.195.56/tcp/59280/p2p/16Uiu2HAm3zDfsBhJQiMxA2sX5PV9RQBPvVcAGWA6JvMqShZGcG4B","/ip4/172.18.195.56/tcp/59281/ws/p2p/16Uiu2HAm3zDfsBhJQiMxA2sX5PV9RQBPvVcAGWA6JvMqShZGcG4B"],"enrUri":"enr:-L24QOGcHVz4iiS66RAH5Z7JipVNFulimCAz5wb6hdJxcymiKQ52dgV-GaYqn--nxSUkGx20kif48bUGerf_78rw4fMCgmlkgnY0gmlwhKwSwziKbXVsdGlhZGRyc5YACASsEsM4BueQAAoErBLDOAbnkd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfzPqERAq0zBVAuL3o0WYWWEF7hEZOf8103FGCVuadbyDdGNwgueQg3VkcILnkoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59279/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.111/tcp/59049/p2p/16Uiu2HAm1vfSFFNWxLxvyotW9Tr8wDG2KAeND4SLwb6iWgjPXG92"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59048/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17175/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33201/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17596/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59279/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59048/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59048/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732520252703367424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17175/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732520252703367424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33201/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732520252703367424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17596/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732520252703367424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59279/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732520252703367424,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59279/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59048/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732520252841155840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17175/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732520252841155840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33201/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732520252841155840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17596/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732520252841155840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59279/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732520252841155840,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 4d1392444388
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id ca55977cc372
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4d1392444388. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8bb1ab61aaf2
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ca55977cc372. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id aa4a15da0f81
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8bb1ab61aaf2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8c009e3eff57
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container aa4a15da0f81. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.