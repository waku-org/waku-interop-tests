[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_different_cursor_and_indexes[2-4] with id: 2024-11-25_07-41-19__5deddd28-44cf-459f-80dc-7468079d6229
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-25_07-41-19__5deddd28-44cf-459f-80dc-7468079d6229__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.119.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46929', '46930', '46931', '46932', '46933']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46929:46929 -p 46930:46930 -p 46931:46931 -p 46932:46932 -p 46933:46933 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46931 --rest-port=46929 --tcp-port=46930 --discv5-udp-port=46932 --rest-address=0.0.0.0 --nat=extip:172.18.119.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=db24ce0c9588c0de3cebc778f1fd0dafd3cff190d74282acfe3bbdf1e4c9a09c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46933 --metrics-logging=true --store=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 74dd986d8edb. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.119.213 waku b267ee04f6399f7c515b1ee6c6f4771df7417cf55f199719d978e5ac93bc0a59
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b267ee04f639. Setting up logs at ./log/docker/publishing_node1_2024-11-25_07-41-19__5deddd28-44cf-459f-80dc-7468079d6229__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 46929
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46929/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46929/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.213/tcp/46930/p2p/16Uiu2HAm2NmB5E5AayG3Dh6292mxKfSrfqBoaoSdzoVttpFKKqPM","/ip4/172.18.119.213/tcp/46931/ws/p2p/16Uiu2HAm2NmB5E5AayG3Dh6292mxKfSrfqBoaoSdzoVttpFKKqPM"],"enrUri":"enr:-L24QNi2zKUrgVTnRuTsB6rVsthmvqTDuv8VA2S-oEb17SGRII669bFZiIZIbmJuKuD05VhlWWVMljM7Fr4sQw_pri0CgmlkgnY0gmlwhKwSd9WKbXVsdGlhZGRyc5YACASsEnfVBrdSAAoErBJ31Qa3U90DgnJzhQADAQAAiXNlY3AyNTZrMaECZ0LwgcxER6aNaPYJ78Mm0UxHCODXygGUpa5E7jcZ1MCDdGNwgrdSg3VkcIK3VIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-25_07-41-19__5deddd28-44cf-459f-80dc-7468079d6229__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.65.137
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28744', '28745', '28746', '28747', '28748']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28744:28744 -p 28745:28745 -p 28746:28746 -p 28747:28747 -p 28748:28748 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28746 --rest-port=28744 --tcp-port=28745 --discv5-udp-port=28747 --rest-address=0.0.0.0 --nat=extip:172.18.65.137 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fea31c6c10baa5ea67797cc35cddde416bc4b26cd94ab5ea93ea8d9afe5be152 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28748 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QNi2zKUrgVTnRuTsB6rVsthmvqTDuv8VA2S-oEb17SGRII669bFZiIZIbmJuKuD05VhlWWVMljM7Fr4sQw_pri0CgmlkgnY0gmlwhKwSd9WKbXVsdGlhZGRyc5YACASsEnfVBrdSAAoErBJ31Qa3U90DgnJzhQADAQAAiXNlY3AyNTZrMaECZ0LwgcxER6aNaPYJ78Mm0UxHCODXygGUpa5E7jcZ1MCDdGNwgrdSg3VkcIK3VIV3YWt1MgM --storenode=/ip4/172.18.119.213/tcp/46930/p2p/16Uiu2HAm2NmB5E5AayG3Dh6292mxKfSrfqBoaoSdzoVttpFKKqPM --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.65.137 waku 37adb1b23337addb8b32ad149180ddf7c27aa800d5dbed70052c39b5ca6a4916
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 37adb1b23337. Setting up logs at ./log/docker/store_node1_2024-11-25_07-41-19__5deddd28-44cf-459f-80dc-7468079d6229__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 28744
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28744/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28744/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.137/tcp/28745/p2p/16Uiu2HAmLSfAobdnoEwYPcos3Xwdimq6K7NAUEbPreDjB5Sm1NVh","/ip4/172.18.65.137/tcp/28746/ws/p2p/16Uiu2HAmLSfAobdnoEwYPcos3Xwdimq6K7NAUEbPreDjB5Sm1NVh"],"enrUri":"enr:-L24QBVkcug7mg6k_DIiPRnENXLJQKo8b7Xt590S54WqhUToV0sg34MzCfVO9Cj_5tGP-Mj6YNq4ykAMxOEa6iD-Tu8CgmlkgnY0gmlwhKwSQYmKbXVsdGlhZGRyc5YACASsEkGJBnBJAAoErBJBiQZwSt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc7TWgbRN_dP63TjHbqchjdmuVgp9ZdIbh9eshipyNdSDdGNwgnBJg3VkcIJwS4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28744/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.119.213/tcp/46930/p2p/16Uiu2HAm2NmB5E5AayG3Dh6292mxKfSrfqBoaoSdzoVttpFKKqPM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46929/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28744/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46929/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46929/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46929/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46929/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46929/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"v1Y6yGntTrvEPkYD18w7Jl1N5CYJzX9jhZlGHDP5rxs="},{"messageHash":"KEbfeCxXoes8+RsRfwL6On/ka6YS6eF+LF6M2oQhLEc="}],"paginationCursor":"KEbfeCxXoes8+RsRfwL6On/ka6YS6eF+LF6M2oQhLEc="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28744/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"v1Y6yGntTrvEPkYD18w7Jl1N5CYJzX9jhZlGHDP5rxs="},{"messageHash":"KEbfeCxXoes8+RsRfwL6On/ka6YS6eF+LF6M2oQhLEc="}],"paginationCursor":"KEbfeCxXoes8+RsRfwL6On/ka6YS6eF+LF6M2oQhLEc="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46929/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=KEbfeCxXoes8%2BRsRfwL6On%2Fka6YS6eF%2BLF6M2oQhLEc%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"iAhAmOt5CYCwDrzfiPkRg2tsvq6FRDck89aGnKUjM40="},{"messageHash":"Lgx4SRez7enjJrtut23boE8D0dCob8QScF0sNHCs2s4="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28744/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=KEbfeCxXoes8%2BRsRfwL6On%2Fka6YS6eF%2BLF6M2oQhLEc%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"iAhAmOt5CYCwDrzfiPkRg2tsvq6FRDck89aGnKUjM40="},{"messageHash":"Lgx4SRez7enjJrtut23boE8D0dCob8QScF0sNHCs2s4="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id b267ee04f639
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 37adb1b23337
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b267ee04f639. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.