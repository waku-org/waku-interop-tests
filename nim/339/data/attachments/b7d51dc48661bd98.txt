[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_pubsub_topic with id: 2024-08-30_04-23-26__02798737-ed1e-45f8-ac84-9ce459374942
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-30_04-23-26__02798737-ed1e-45f8-ac84-9ce459374942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.154.108
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['57410', '57411', '57412', '57413', '57414']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 57410:57410 -p 57411:57411 -p 57412:57412 -p 57413:57413 -p 57414:57414 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57412 --rest-port=57410 --tcp-port=57411 --discv5-udp-port=57413 --rest-address=0.0.0.0 --nat=extip:172.18.154.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ae6ee669a8028cadb8df5eabfabe3646a0deafe8ba6216ddacfc12f60c5ae4b6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57414 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.154.108 waku 98ce91d07f79b666885e21a0791ff31e4a849a6fa3448b20478775cdd70614f0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 98ce91d07f79. Setting up logs at ./log/docker/node1_2024-08-30_04-23-26__02798737-ed1e-45f8-ac84-9ce459374942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 57410
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57410/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57410/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.108/tcp/57411/p2p/16Uiu2HAm9BHGqC3i6nkqo3XUxpTwGiZWivpXv98bR26oW4fiwx2X","/ip4/172.18.154.108/tcp/57412/ws/p2p/16Uiu2HAm9BHGqC3i6nkqo3XUxpTwGiZWivpXv98bR26oW4fiwx2X"],"enrUri":"enr:-LO4QNI2IbbnP6Cbch9_p0igykB7W9a4Yh-eKIOxvzXTfOEzbIhJrYtTVWmrrQHbFAhY7pP06HH83bE8urqcSXdeEkgBgmlkgnY0gmlwhKwSmmyKbXVsdGlhZGRyc4wACgSsEppsBuBE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLMU8_GFGnY_n41of9YPTNWm5t2M9LR0b-m1uT-ET-8FIN0Y3CC4EODdWRwguBFhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-30_04-23-26__02798737-ed1e-45f8-ac84-9ce459374942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.58.72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15979', '15980', '15981', '15982', '15983']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15979:15979 -p 15980:15980 -p 15981:15981 -p 15982:15982 -p 15983:15983 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15981 --rest-port=15979 --tcp-port=15980 --discv5-udp-port=15982 --rest-address=0.0.0.0 --nat=extip:172.18.58.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=511fde9c074ef729cd01e3d37fd9acbf7604d1a9a967335efde3adfdedd72d0c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15983 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QNI2IbbnP6Cbch9_p0igykB7W9a4Yh-eKIOxvzXTfOEzbIhJrYtTVWmrrQHbFAhY7pP06HH83bE8urqcSXdeEkgBgmlkgnY0gmlwhKwSmmyKbXVsdGlhZGRyc4wACgSsEppsBuBE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLMU8_GFGnY_n41of9YPTNWm5t2M9LR0b-m1uT-ET-8FIN0Y3CC4EODdWRwguBFhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.58.72 waku 5ce03ad26198c5fc4578129d795c94dbe279c089154d4e5d13e9d42a602ff141
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5ce03ad26198. Setting up logs at ./log/docker/node2_2024-08-30_04-23-26__02798737-ed1e-45f8-ac84-9ce459374942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15979
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15979/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15979/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.58.72/tcp/15980/p2p/16Uiu2HAkuaUWfT53gJGUXrRcFdQ8zkeCVvj2BYoPEbP4N2QdiuhP","/ip4/172.18.58.72/tcp/15981/ws/p2p/16Uiu2HAkuaUWfT53gJGUXrRcFdQ8zkeCVvj2BYoPEbP4N2QdiuhP"],"enrUri":"enr:-LO4QCynQVhA6Wq6XU8Tdo97wuiYHQEVHTMel9zcAkgmxMCTY5rQ4runcVLJf5maU3ylxb194jnWtj3u_XqXWtu_lW0BgmlkgnY0gmlwhKwSOkiKbXVsdGlhZGRyc4wACgSsEjpIBj5t3QOCcnOFAAMBAACJc2VjcDI1NmsxoQICQUK59QjKK3HlOSdqCzOI2xY71-yIggGxAbhirvwePoN0Y3CCPmyDdWRwgj5uhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15979/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.108/tcp/57411/p2p/16Uiu2HAm9BHGqC3i6nkqo3XUxpTwGiZWivpXv98bR26oW4fiwx2X"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-08-30_04-23-26__02798737-ed1e-45f8-ac84-9ce459374942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.123.5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['8082', '8083', '8084', '8085', '8086']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 8082:8082 -p 8083:8083 -p 8084:8084 -p 8085:8085 -p 8086:8086 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8084 --rest-port=8082 --tcp-port=8083 --discv5-udp-port=8085 --rest-address=0.0.0.0 --nat=extip:172.18.123.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c32406443eeb0dfec66effb74c2efcbab134f5babf6d00fa08b979f5ea1a10dc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8086 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QNI2IbbnP6Cbch9_p0igykB7W9a4Yh-eKIOxvzXTfOEzbIhJrYtTVWmrrQHbFAhY7pP06HH83bE8urqcSXdeEkgBgmlkgnY0gmlwhKwSmmyKbXVsdGlhZGRyc4wACgSsEppsBuBE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLMU8_GFGnY_n41of9YPTNWm5t2M9LR0b-m1uT-ET-8FIN0Y3CC4EODdWRwguBFhXdha3UyAQ
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.216.200
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['25914', '25915', '25916', '25917', '25918']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 25914:25914 -p 25915:25915 -p 25916:25916 -p 25917:25917 -p 25918:25918 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25916 --rest-port=25914 --tcp-port=25915 --discv5-udp-port=25917 --rest-address=0.0.0.0 --nat=extip:172.18.216.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c39cccf8c6ffdbbde61fa3cf99820dbe99c736900fbc176d63bc92a711c7da2b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25918 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QNI2IbbnP6Cbch9_p0igykB7W9a4Yh-eKIOxvzXTfOEzbIhJrYtTVWmrrQHbFAhY7pP06HH83bE8urqcSXdeEkgBgmlkgnY0gmlwhKwSmmyKbXVsdGlhZGRyc4wACgSsEppsBuBE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLMU8_GFGnY_n41of9YPTNWm5t2M9LR0b-m1uT-ET-8FIN0Y3CC4EODdWRwguBFhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.216.200 waku a0498f609857d6cea33214477ab124af54aec91f9680d20572ff14a53a746504
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a0498f609857. Setting up logs at ./log/docker/node3_2024-08-30_04-23-26__02798737-ed1e-45f8-ac84-9ce459374942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 25914
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25914/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25914/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.200/tcp/25915/p2p/16Uiu2HAmEoszVjVB44AYn3oBfsVL8e2crs1rB5BMufjoK9wodqXH","/ip4/172.18.216.200/tcp/25916/ws/p2p/16Uiu2HAmEoszVjVB44AYn3oBfsVL8e2crs1rB5BMufjoK9wodqXH"],"enrUri":"enr:-LO4QF7B825jkpTkHlhLKne1qu3xbtCDOhEmcktOZHcz7tA_Ltni3gkSSEmUCUoLqOLh-3T8Bm0sp6gKge8p976iNLABgmlkgnY0gmlwhKwS2MiKbXVsdGlhZGRyc4wACgSsEtjIBmU83QOCcnOFAAMBAACJc2VjcDI1NmsxoQMf_mla2A2PUDRLLdFSW8kRhXNSbR6i1FL9yOW5vpMs3IN0Y3CCZTuDdWRwgmU9hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25914/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.108/tcp/57411/p2p/16Uiu2HAm9BHGqC3i6nkqo3XUxpTwGiZWivpXv98bR26oW4fiwx2X"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-08-30_04-23-26__02798737-ed1e-45f8-ac84-9ce459374942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.52.239
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36425', '36426', '36427', '36428', '36429']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36425:36425 -p 36426:36426 -p 36427:36427 -p 36428:36428 -p 36429:36429 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36427 --rest-port=36425 --tcp-port=36426 --discv5-udp-port=36428 --rest-address=0.0.0.0 --nat=extip:172.18.52.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7b8cdea7b8b3e5cf86fba74ebffe26d0a5eaa09faa082cdcfdee33b1ea1b966f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36429 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QNI2IbbnP6Cbch9_p0igykB7W9a4Yh-eKIOxvzXTfOEzbIhJrYtTVWmrrQHbFAhY7pP06HH83bE8urqcSXdeEkgBgmlkgnY0gmlwhKwSmmyKbXVsdGlhZGRyc4wACgSsEppsBuBE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLMU8_GFGnY_n41of9YPTNWm5t2M9LR0b-m1uT-ET-8FIN0Y3CC4EODdWRwguBFhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.52.239 waku bf1f1d066c5cde7b9dc61afa0852c84c3b8e4ea6b828803fb6a7dd86614b9457
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bf1f1d066c5c. Setting up logs at ./log/docker/node4_2024-08-30_04-23-26__02798737-ed1e-45f8-ac84-9ce459374942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36425
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36425/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36425/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.52.239/tcp/36426/p2p/16Uiu2HAmVKy7Y13B3oGzpAaQEZiyajPvFxMfmfeg1PxHziKnRcqa","/ip4/172.18.52.239/tcp/36427/ws/p2p/16Uiu2HAmVKy7Y13B3oGzpAaQEZiyajPvFxMfmfeg1PxHziKnRcqa"],"enrUri":"enr:-LO4QOvWZP63rr6CWNWW1-EbHRVoN7s_-A5WaZx-w_mz7pe4TRhoaAMjEgMXUtMxeubd7bTHQs-yXHix1c2EdwTiNZ0BgmlkgnY0gmlwhKwSNO-KbXVsdGlhZGRyc4wACgSsEjTvBo5L3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP3tz5X3YD5yEqx54hWwIwNVlrvcgYW1ufQF8bte2EAfYN0Y3CCjkqDdWRwgo5MhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36425/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.108/tcp/57411/p2p/16Uiu2HAm9BHGqC3i6nkqo3XUxpTwGiZWivpXv98bR26oW4fiwx2X"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-08-30_04-23-26__02798737-ed1e-45f8-ac84-9ce459374942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.235.185
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['21147', '21148', '21149', '21150', '21151']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 21147:21147 -p 21148:21148 -p 21149:21149 -p 21150:21150 -p 21151:21151 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21149 --rest-port=21147 --tcp-port=21148 --discv5-udp-port=21150 --rest-address=0.0.0.0 --nat=extip:172.18.235.185 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8663eedbc5f0ae3b983f1aca280749b69eb89de3a95ef5aca4acec079bd8338c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21151 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QNI2IbbnP6Cbch9_p0igykB7W9a4Yh-eKIOxvzXTfOEzbIhJrYtTVWmrrQHbFAhY7pP06HH83bE8urqcSXdeEkgBgmlkgnY0gmlwhKwSmmyKbXVsdGlhZGRyc4wACgSsEppsBuBE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLMU8_GFGnY_n41of9YPTNWm5t2M9LR0b-m1uT-ET-8FIN0Y3CC4EODdWRwguBFhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.235.185 waku 94b5a1aae8014952f5719765fe173117b2ad47a5cd7cf8a775e47af61934305b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 94b5a1aae801. Setting up logs at ./log/docker/node5_2024-08-30_04-23-26__02798737-ed1e-45f8-ac84-9ce459374942__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 21147
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21147/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21147/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.235.185/tcp/21148/p2p/16Uiu2HAkw339f2p46wxioKq61bpVAAJJGbV2KjtqQVHYyLgwo6sV","/ip4/172.18.235.185/tcp/21149/ws/p2p/16Uiu2HAkw339f2p46wxioKq61bpVAAJJGbV2KjtqQVHYyLgwo6sV"],"enrUri":"enr:-LO4QPG2Jazl1Uile7tzYFszd-7GUcfDI7jlkc_IIO9hjEHxca5Gb_jpozWysW8DxZ-AeY9_wTBj3lUV4pYefhYwW0sBgmlkgnY0gmlwhKwS67mKbXVsdGlhZGRyc4wACgSsEuu5BlKd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIX6vPJzNKFPVncep7105hOTcCtj50YH-y2kb13FKsW1IN0Y3CCUpyDdWRwglKehXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21147/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.108/tcp/57411/p2p/16Uiu2HAm9BHGqC3i6nkqo3XUxpTwGiZWivpXv98bR26oW4fiwx2X"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57410/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15979/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724991816028148480,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15979/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724991816028148480,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25914/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:25914/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 98ce91d07f79
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5ce03ad26198
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a0498f609857
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bf1f1d066c5c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 94b5a1aae801
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.