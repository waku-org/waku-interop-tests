[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_ping_on_subscribed_peer with id: 2024-04-04_07-44-31__ca7aa82d-3e4c-4d38-8543-5fc4662c2d0a
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-04-04_07-44-31__ca7aa82d-3e4c-4d38-8543-5fc4662c2d0a__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.122.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['38249', '38250', '38251', '38252', '38253']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:297 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 38249:38249 -p 38250:38250 -p 38251:38251 -p 38252:38252 -p 38253:38253 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38251 --rest-port=38249 --tcp-port=38250 --discv5-udp-port=38252 --rest-address=0.0.0.0 --nat=extip:172.18.122.29 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38253 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.122.29 waku 857f5e68c1c47d67e99431fb41aa9bb81cbd8800185dbc97b7608af0b5804b9f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 857f5e68c1c4. Setting up logs at ./log/docker/node1_2024-04-04_07-44-31__ca7aa82d-3e4c-4d38-8543-5fc4662c2d0a__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 38249
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38249/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.122.29/tcp/38250/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.122.29/tcp/38251/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LG4QKC1jbKI2yr3zE1w-veQ3kfAz9UcYPvWv513tjmo52ubATMs8BysJdoh3zui8ca6pKQ6WMzbEzIGv3cZMcwKIrQBgmlkgnY0gmlwhKwSeh2KbXVsdGlhZGRyc4wACgSsEnodBpVr3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwgpVqg3VkcIKVbIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-04-04_07-44-31__ca7aa82d-3e4c-4d38-8543-5fc4662c2d0a__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.76.13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['22794', '22795', '22796', '22797', '22798']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:297 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 22794:22794 -p 22795:22795 -p 22796:22796 -p 22797:22797 -p 22798:22798 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22796 --rest-port=22794 --tcp-port=22795 --discv5-udp-port=22797 --rest-address=0.0.0.0 --nat=extip:172.18.76.13 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22798 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LG4QKC1jbKI2yr3zE1w-veQ3kfAz9UcYPvWv513tjmo52ubATMs8BysJdoh3zui8ca6pKQ6WMzbEzIGv3cZMcwKIrQBgmlkgnY0gmlwhKwSeh2KbXVsdGlhZGRyc4wACgSsEnodBpVr3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwgpVqg3VkcIKVbIV3YWt1MgU --filternode=/ip4/172.18.122.29/tcp/38250/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.76.13 waku dabdce64440b9aab2c5ed529f6f4a3157d4d3fd677fbd91db6ed3d5ba59caed3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID dabdce64440b. Setting up logs at ./log/docker/node2_2024-04-04_07-44-31__ca7aa82d-3e4c-4d38-8543-5fc4662c2d0a__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 22794
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22794/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.13/tcp/22795/p2p/16Uiu2HAkzDK9VBESoLL8JkRU8fSCCkxyThPpgRfc5vQynwqXSKES","/ip4/172.18.76.13/tcp/22796/ws/p2p/16Uiu2HAkzDK9VBESoLL8JkRU8fSCCkxyThPpgRfc5vQynwqXSKES"],"enrUri":"enr:-LG4QKtn4aGLskBRR6zZxypwe_vnixOKmgUxHgJPR7tGg4HxA9RQdj6PsNnH2e-y-NbkRmBO2RQs42JOrC1IRrOhiWABgmlkgnY0gmlwhKwSTA2KbXVsdGlhZGRyc4wACgSsEkwNBlkM3QOCcnODAAAAiXNlY3AyNTZrMaECRx_ou6JS1tkLfJgMmH_k7nmyxqOZFeqg4iqY51AC71uDdGNwglkLg3VkcIJZDYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22794/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.122.29/tcp/38250/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38249/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22794/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dfd2cef0-d25c-4544-a7d0-aa3b4efce742", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dfd2cef0-d25c-4544-a7d0-aa3b4efce742","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22794/filter/v2/subscriptions/f38caf34-5e8d-4aa4-a576-3fc2704f8245" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f38caf34-5e8d-4aa4-a576-3fc2704f8245","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 857f5e68c1c4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id dabdce64440b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.