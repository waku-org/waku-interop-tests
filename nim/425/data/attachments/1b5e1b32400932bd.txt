[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-06_21-10-37__1c61d702-cd06-4913-bf9f-6b999f3acd3f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_21-10-37__1c61d702-cd06-4913-bf9f-6b999f3acd3f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.103.219
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11580', '11581', '11582', '11583', '11584']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11580:11580 -p 11581:11581 -p 11582:11582 -p 11583:11583 -p 11584:11584 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11582 --rest-port=11580 --tcp-port=11581 --discv5-udp-port=11583 --rest-address=0.0.0.0 --nat=extip:172.18.103.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=73ac2f5ec3aada83afead02a181f51a1d5cfc48beaf73df66fd2eed8cedc61f2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11584 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.103.219 waku 20074c872d6cbf834fc427f76d93e31d818c51d9c45e6ff7a4e4ad2aee9e8520
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 20074c872d6c. Setting up logs at ./log/docker/node1_2024-11-06_21-10-37__1c61d702-cd06-4913-bf9f-6b999f3acd3f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11580
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a79e95c053d0. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11580/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11580/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.219/tcp/11581/p2p/16Uiu2HAmESf5eSbHvYEnFAiLC2ZeYzHvUtrKgSjGxNRdF5toWuPb","/ip4/172.18.103.219/tcp/11582/ws/p2p/16Uiu2HAmESf5eSbHvYEnFAiLC2ZeYzHvUtrKgSjGxNRdF5toWuPb"],"enrUri":"enr:-L24QPA3TesMwBigpBrg9tCX4-hhPURWzC7lac5M7wU6Wm9pH47b3Ly65T0A9rRh_KN8WnhYoayUI0-IX3t-h2hp9LgCgmlkgnY0gmlwhKwSZ9uKbXVsdGlhZGRyc5YACASsEmfbBi09AAoErBJn2wYtPt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGo6dpYA4xiFmStkNXZIjcOBSpENCRfxNFep0mFE5yraDdGNwgi09g3VkcIItP4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_21-10-37__1c61d702-cd06-4913-bf9f-6b999f3acd3f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.95.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24686', '24687', '24688', '24689', '24690']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24686:24686 -p 24687:24687 -p 24688:24688 -p 24689:24689 -p 24690:24690 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24688 --rest-port=24686 --tcp-port=24687 --discv5-udp-port=24689 --rest-address=0.0.0.0 --nat=extip:172.18.95.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9c8fcf0b248d70b1d2ef6461a85197fdfac01bd5864526a8c3dea8c96f702167 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24690 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPA3TesMwBigpBrg9tCX4-hhPURWzC7lac5M7wU6Wm9pH47b3Ly65T0A9rRh_KN8WnhYoayUI0-IX3t-h2hp9LgCgmlkgnY0gmlwhKwSZ9uKbXVsdGlhZGRyc5YACASsEmfbBi09AAoErBJn2wYtPt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGo6dpYA4xiFmStkNXZIjcOBSpENCRfxNFep0mFE5yraDdGNwgi09g3VkcIItP4V3YWt1MgU --filternode=/ip4/172.18.103.219/tcp/11581/p2p/16Uiu2HAmESf5eSbHvYEnFAiLC2ZeYzHvUtrKgSjGxNRdF5toWuPb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.95.246 waku b338027ae35be98cca6be3814c3d6093260ee72920487b715450f319adac1509
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b338027ae35b. Setting up logs at ./log/docker/node2_2024-11-06_21-10-37__1c61d702-cd06-4913-bf9f-6b999f3acd3f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 24686
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24686/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24686/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.246/tcp/24687/p2p/16Uiu2HAm94gsNFgQmh8Stitt7RWMg65jQsH8beswoQshovbuWtgo","/ip4/172.18.95.246/tcp/24688/ws/p2p/16Uiu2HAm94gsNFgQmh8Stitt7RWMg65jQsH8beswoQshovbuWtgo"],"enrUri":"enr:-L24QAl8JNlfXnWwq9jbRW6hyGczODGYlb8I3lPN06FActwlK7wYNwLfvZKdn2Hb5TGZbbEpQrO2R3lQiOCFXyCk_QgCgmlkgnY0gmlwhKwSX_aKbXVsdGlhZGRyc5YACASsEl_2BmBvAAoErBJf9gZgcN0DgnJzhQADAQAAiXNlY3AyNTZrMaECyqNs5y7q1K6q81TdqVaHx-sin69R8IdVSxo0KoqBmniDdGNwgmBvg3VkcIJgcYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24686/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.103.219/tcp/11581/p2p/16Uiu2HAmESf5eSbHvYEnFAiLC2ZeYzHvUtrKgSjGxNRdF5toWuPb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_21-10-37__1c61d702-cd06-4913-bf9f-6b999f3acd3f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.199.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48374', '48375', '48376', '48377', '48378']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48374:48374 -p 48375:48375 -p 48376:48376 -p 48377:48377 -p 48378:48378 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48376 --rest-port=48374 --tcp-port=48375 --discv5-udp-port=48377 --rest-address=0.0.0.0 --nat=extip:172.18.199.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f440dbfa67d083db9814b405e0cd4caaca647ac0f3bdaaf36ceaa3bd8dafd51e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48378 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPA3TesMwBigpBrg9tCX4-hhPURWzC7lac5M7wU6Wm9pH47b3Ly65T0A9rRh_KN8WnhYoayUI0-IX3t-h2hp9LgCgmlkgnY0gmlwhKwSZ9uKbXVsdGlhZGRyc5YACASsEmfbBi09AAoErBJn2wYtPt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGo6dpYA4xiFmStkNXZIjcOBSpENCRfxNFep0mFE5yraDdGNwgi09g3VkcIItP4V3YWt1MgU --filternode=/ip4/172.18.103.219/tcp/11581/p2p/16Uiu2HAmESf5eSbHvYEnFAiLC2ZeYzHvUtrKgSjGxNRdF5toWuPb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.199.42 waku 960e267d768740a45fa59bc9eeedaeba47caa17ccb0b2266ed0689ca64cc335d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 960e267d7687. Setting up logs at ./log/docker/node3_2024-11-06_21-10-37__1c61d702-cd06-4913-bf9f-6b999f3acd3f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48374
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48374/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48374/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.42/tcp/48375/p2p/16Uiu2HAmHpqVQmohUv2fFUySFKnDCE1SRz97VEjXGGgTMPrfhi3F","/ip4/172.18.199.42/tcp/48376/ws/p2p/16Uiu2HAmHpqVQmohUv2fFUySFKnDCE1SRz97VEjXGGgTMPrfhi3F"],"enrUri":"enr:-L24QN9YRVAxZqyUumQxbAzMD56h9zuXLMCfDSUkNrgM71q4e81Wwe1KotFx11jeAZfwTlrdaxO6W1f7mEcxk0bbC90CgmlkgnY0gmlwhKwSxyqKbXVsdGlhZGRyc5YACASsEscqBrz3AAoErBLHKga8-N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDTNA5hjoGs-pnOhq3mMfeNao2S7xX-xMzs646v7v_BQaDdGNwgrz3g3VkcIK8-YV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48374/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.103.219/tcp/11581/p2p/16Uiu2HAmESf5eSbHvYEnFAiLC2ZeYzHvUtrKgSjGxNRdF5toWuPb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-06_21-10-37__1c61d702-cd06-4913-bf9f-6b999f3acd3f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.10.172
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19186', '19187', '19188', '19189', '19190']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19186:19186 -p 19187:19187 -p 19188:19188 -p 19189:19189 -p 19190:19190 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19188 --rest-port=19186 --tcp-port=19187 --discv5-udp-port=19189 --rest-address=0.0.0.0 --nat=extip:172.18.10.172 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e2dd0eee33b7a5435ffcdb7debd4b28d49810c9babe6f9aa636be9f467ef43ae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19190 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPA3TesMwBigpBrg9tCX4-hhPURWzC7lac5M7wU6Wm9pH47b3Ly65T0A9rRh_KN8WnhYoayUI0-IX3t-h2hp9LgCgmlkgnY0gmlwhKwSZ9uKbXVsdGlhZGRyc5YACASsEmfbBi09AAoErBJn2wYtPt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGo6dpYA4xiFmStkNXZIjcOBSpENCRfxNFep0mFE5yraDdGNwgi09g3VkcIItP4V3YWt1MgU --filternode=/ip4/172.18.103.219/tcp/11581/p2p/16Uiu2HAmESf5eSbHvYEnFAiLC2ZeYzHvUtrKgSjGxNRdF5toWuPb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.10.172 waku 1a566d383feb2e8719e99b888eae048fe634eae4351ec128c42c979c0a901540
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1a566d383feb. Setting up logs at ./log/docker/node4_2024-11-06_21-10-37__1c61d702-cd06-4913-bf9f-6b999f3acd3f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 19186
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19186/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19186/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.10.172/tcp/19187/p2p/16Uiu2HAmBTeSgjJFPaRKtkD1nGcbvZ6fmMjn9R6Mh1cW5LYFdsux","/ip4/172.18.10.172/tcp/19188/ws/p2p/16Uiu2HAmBTeSgjJFPaRKtkD1nGcbvZ6fmMjn9R6Mh1cW5LYFdsux"],"enrUri":"enr:-L24QBBK5_CbWkxuLQWOtT4MqOrSgZjM8Qfgt4p-fcWHnpUxBg-xcgGn7K00O0xYNAPsCr6CSazqGcO5NAaZ5qptZewCgmlkgnY0gmlwhKwSCqyKbXVsdGlhZGRyc5YACASsEgqsBkrzAAoErBIKrAZK9N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7jxqUMGZ8br6lX5VAZU-kChRkKiJHMecGCT8Olbhy6eDdGNwgkrzg3VkcIJK9YV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19186/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.103.219/tcp/11581/p2p/16Uiu2HAmESf5eSbHvYEnFAiLC2ZeYzHvUtrKgSjGxNRdF5toWuPb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-06_21-10-37__1c61d702-cd06-4913-bf9f-6b999f3acd3f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.170.39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62317', '62318', '62319', '62320', '62321']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62317:62317 -p 62318:62318 -p 62319:62319 -p 62320:62320 -p 62321:62321 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62319 --rest-port=62317 --tcp-port=62318 --discv5-udp-port=62320 --rest-address=0.0.0.0 --nat=extip:172.18.170.39 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd8d460ee0dffbffc68ed98556c767afb910cdb64bba9b5d4f6d979d14baf3dc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62321 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPA3TesMwBigpBrg9tCX4-hhPURWzC7lac5M7wU6Wm9pH47b3Ly65T0A9rRh_KN8WnhYoayUI0-IX3t-h2hp9LgCgmlkgnY0gmlwhKwSZ9uKbXVsdGlhZGRyc5YACASsEmfbBi09AAoErBJn2wYtPt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGo6dpYA4xiFmStkNXZIjcOBSpENCRfxNFep0mFE5yraDdGNwgi09g3VkcIItP4V3YWt1MgU --filternode=/ip4/172.18.103.219/tcp/11581/p2p/16Uiu2HAmESf5eSbHvYEnFAiLC2ZeYzHvUtrKgSjGxNRdF5toWuPb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.170.39 waku fbd552f1f3ec542be64d2d4544da6da6e13a1f15fba9077997f4e40c15e3c7cd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fbd552f1f3ec. Setting up logs at ./log/docker/node5_2024-11-06_21-10-37__1c61d702-cd06-4913-bf9f-6b999f3acd3f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62317
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62317/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62317/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.170.39/tcp/62318/p2p/16Uiu2HAmNM9qbZUGgWYQHUTu6i9azrjuagucH73PvdsuFvW3H3Jp","/ip4/172.18.170.39/tcp/62319/ws/p2p/16Uiu2HAmNM9qbZUGgWYQHUTu6i9azrjuagucH73PvdsuFvW3H3Jp"],"enrUri":"enr:-L24QNjHCFESwt8ayU2z9fgF_cg1hImfPC3sQX5TLs1Zcf_3cwkKbqFoqYHCB9pF_fjzGlcq0jNKyRjRw_hCj9MzyeECgmlkgnY0gmlwhKwSqieKbXVsdGlhZGRyc5YACASsEqonBvNuAAoErBKqJwbzb90DgnJzhQADAQAAiXNlY3AyNTZrMaEDkAMkkyoXvTKfKPksRIIne9VsO9_LFQ_D7hmvryTbbFGDdGNwgvNug3VkcILzcIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62317/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.103.219/tcp/11581/p2p/16Uiu2HAmESf5eSbHvYEnFAiLC2ZeYzHvUtrKgSjGxNRdF5toWuPb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11580/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24686/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "25de5ddb-e058-4224-9835-263d78ece7bc", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"25de5ddb-e058-4224-9835-263d78ece7bc","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48374/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "22161f2b-91c3-454e-8d66-b27a675697e4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"22161f2b-91c3-454e-8d66-b27a675697e4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19186/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c3519da5-c760-49c9-b7e4-680d04433ddb", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c3519da5-c760-49c9-b7e4-680d04433ddb","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62317/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ec36823c-270a-4256-9f9a-7fc0ebfbe329", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ec36823c-270a-4256-9f9a-7fc0ebfbe329","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11580/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24686/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730927445296577024,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11580/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48374/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:48374/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 20074c872d6c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b338027ae35b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 20074c872d6c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 960e267d7687
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b338027ae35b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1a566d383feb
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 960e267d7687. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fbd552f1f3ec
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1a566d383feb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.