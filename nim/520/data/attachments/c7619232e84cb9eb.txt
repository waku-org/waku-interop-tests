[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-15_04-14-28__04a45603-6856-465d-b57c-abcfc0de6d55
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-15_04-14-28__04a45603-6856-465d-b57c-abcfc0de6d55__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.80.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37435', '37436', '37437', '37438', '37439']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37435:37435 -p 37436:37436 -p 37437:37437 -p 37438:37438 -p 37439:37439 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37437 --rest-port=37435 --tcp-port=37436 --discv5-udp-port=37438 --rest-address=0.0.0.0 --nat=extip:172.18.80.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=462a8ceeaf8d7bceda42b0af7deec44aac525baa134e7a2ae04b5beebdfcdccc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37439 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.80.249 waku 6f7d982a9772091cc7cd54d75efee9652d03fb8aa947be88b2edd64167168166
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6f7d982a9772. Setting up logs at ./log/docker/node1_2024-12-15_04-14-28__04a45603-6856-465d-b57c-abcfc0de6d55__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 37435
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5c73c3edca97. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37435/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37435/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.249/tcp/37436/p2p/16Uiu2HAm5Kxa9SmjhwVhL9w5MFQL9ck4FnRwCTDDF1RTzK7qwWFa","/ip4/172.18.80.249/tcp/37437/ws/p2p/16Uiu2HAm5Kxa9SmjhwVhL9w5MFQL9ck4FnRwCTDDF1RTzK7qwWFa"],"enrUri":"enr:-L24QFhfxTIh14WUl0VZ2Si2HUZ_Rfai__DwY9aKukAL0f37Vk_Ds3W9ePv7frCykOpcv5yxTytdfkcjOHqZaJV4QsUCgmlkgnY0gmlwhKwSUPmKbXVsdGlhZGRyc5YACASsElD5BpI8AAoErBJQ-QaSPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECkx4lNyMjitw4ZSBcDk1cuWDhzUqyqQKF9pET2jay2pGDdGNwgpI8g3VkcIKSPoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-15_04-14-28__04a45603-6856-465d-b57c-abcfc0de6d55__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.126.10
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57928', '57929', '57930', '57931', '57932']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57928:57928 -p 57929:57929 -p 57930:57930 -p 57931:57931 -p 57932:57932 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57930 --rest-port=57928 --tcp-port=57929 --discv5-udp-port=57931 --rest-address=0.0.0.0 --nat=extip:172.18.126.10 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d45baafb25dbe9deff2766c847302d197ad05b1edae6d1b5d9bbb9a4f39a4736 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57932 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFhfxTIh14WUl0VZ2Si2HUZ_Rfai__DwY9aKukAL0f37Vk_Ds3W9ePv7frCykOpcv5yxTytdfkcjOHqZaJV4QsUCgmlkgnY0gmlwhKwSUPmKbXVsdGlhZGRyc5YACASsElD5BpI8AAoErBJQ-QaSPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECkx4lNyMjitw4ZSBcDk1cuWDhzUqyqQKF9pET2jay2pGDdGNwgpI8g3VkcIKSPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.126.10 waku 8cf4f3fe587a3febee9f85635b8f12b0684bb84e85c740f3ff98c230f9016bcb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8cf4f3fe587a. Setting up logs at ./log/docker/node2_2024-12-15_04-14-28__04a45603-6856-465d-b57c-abcfc0de6d55__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 57928
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57928/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57928/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.10/tcp/57929/p2p/16Uiu2HAmEfjZN4ApD3MbBmEoYz2aEVzCt56drVianwoxFMx6VMpc","/ip4/172.18.126.10/tcp/57930/ws/p2p/16Uiu2HAmEfjZN4ApD3MbBmEoYz2aEVzCt56drVianwoxFMx6VMpc"],"enrUri":"enr:-L24QPBpq_HuJoeOPV5UdrK1eUjyEi_UWGIVvyXC8tZvC0AdBjUnVjVRXB7GKj9lCfDSmYIBfgXTod0SK6sdHBC78MECgmlkgnY0gmlwhKwSfgqKbXVsdGlhZGRyc5YACASsEn4KBuJJAAoErBJ-CgbiSt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDHeg6v7rBnMYosp2gcGg7DyVeLml0OgNC0fMtLdjk96mDdGNwguJJg3VkcILiS4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57928/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.80.249/tcp/37436/p2p/16Uiu2HAm5Kxa9SmjhwVhL9w5MFQL9ck4FnRwCTDDF1RTzK7qwWFa"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-15_04-14-28__04a45603-6856-465d-b57c-abcfc0de6d55__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.210.107
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28961', '28962', '28963', '28964', '28965']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28961:28961 -p 28962:28962 -p 28963:28963 -p 28964:28964 -p 28965:28965 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28963 --rest-port=28961 --tcp-port=28962 --discv5-udp-port=28964 --rest-address=0.0.0.0 --nat=extip:172.18.210.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad6c5bcb74f73ebdbbef097f3eead4db13e0f49c9dd630a2a0daa542df6c6375 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28965 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFhfxTIh14WUl0VZ2Si2HUZ_Rfai__DwY9aKukAL0f37Vk_Ds3W9ePv7frCykOpcv5yxTytdfkcjOHqZaJV4QsUCgmlkgnY0gmlwhKwSUPmKbXVsdGlhZGRyc5YACASsElD5BpI8AAoErBJQ-QaSPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECkx4lNyMjitw4ZSBcDk1cuWDhzUqyqQKF9pET2jay2pGDdGNwgpI8g3VkcIKSPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.210.107 waku eb63f25262239cbda1f98f5d4dcfb08dbb990c049748938f3357b839a345b4d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID eb63f2526223. Setting up logs at ./log/docker/node3_2024-12-15_04-14-28__04a45603-6856-465d-b57c-abcfc0de6d55__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 28961
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28961/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28961/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.210.107/tcp/28962/p2p/16Uiu2HAmG4EAPULn46QTEzyRnTaUJBiP6JzQuGKyUcBej7vuZbQN","/ip4/172.18.210.107/tcp/28963/ws/p2p/16Uiu2HAmG4EAPULn46QTEzyRnTaUJBiP6JzQuGKyUcBej7vuZbQN"],"enrUri":"enr:-L24QLhcHHdAOvR60HjVR4i5Oj5PL_qCPCEuFlVkKBsqGxjOS2_sJmWtP8vk965W-UGMgQ37iOUPd-duw79u4XyO7roCgmlkgnY0gmlwhKwS0muKbXVsdGlhZGRyc5YACASsEtJrBnEiAAoErBLSawZxI90DgnJzhQADAQAAiXNlY3AyNTZrMaEDMocJZfrGGWeiYFZ3oskzGUR-Bbu0vJFHp4aTvnk3VfODdGNwgnEig3VkcIJxJIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28961/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.80.249/tcp/37436/p2p/16Uiu2HAm5Kxa9SmjhwVhL9w5MFQL9ck4FnRwCTDDF1RTzK7qwWFa"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-15_04-14-28__04a45603-6856-465d-b57c-abcfc0de6d55__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.56.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62520', '62521', '62522', '62523', '62524']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62520:62520 -p 62521:62521 -p 62522:62522 -p 62523:62523 -p 62524:62524 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62522 --rest-port=62520 --tcp-port=62521 --discv5-udp-port=62523 --rest-address=0.0.0.0 --nat=extip:172.18.56.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=750ce2dc88ceb92a0f4ef0dad0a9fee770fb3cccf5118efea266e40f1a3ffdcd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62524 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFhfxTIh14WUl0VZ2Si2HUZ_Rfai__DwY9aKukAL0f37Vk_Ds3W9ePv7frCykOpcv5yxTytdfkcjOHqZaJV4QsUCgmlkgnY0gmlwhKwSUPmKbXVsdGlhZGRyc5YACASsElD5BpI8AAoErBJQ-QaSPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECkx4lNyMjitw4ZSBcDk1cuWDhzUqyqQKF9pET2jay2pGDdGNwgpI8g3VkcIKSPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.56.82 waku fb259d7c8ca190f20d6d72c891c37b07cacf4684942392ad24675cbb50c473ae
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fb259d7c8ca1. Setting up logs at ./log/docker/node4_2024-12-15_04-14-28__04a45603-6856-465d-b57c-abcfc0de6d55__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 62520
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62520/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62520/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.82/tcp/62521/p2p/16Uiu2HAmGG6GSr5Zq39vHbucH4iTD9iG3eLoVJZXHtpfEYiVgMUD","/ip4/172.18.56.82/tcp/62522/ws/p2p/16Uiu2HAmGG6GSr5Zq39vHbucH4iTD9iG3eLoVJZXHtpfEYiVgMUD"],"enrUri":"enr:-L24QEGsiqsx_pc5ZY-Tve6-KB3FUozvoHQofFWQaJSO-VHnOL-Wns1TnoXeyxysWMOy6EBtqACkjLVnIoBQpwyKOwgCgmlkgnY0gmlwhKwSOFKKbXVsdGlhZGRyc5YACASsEjhSBvQ5AAoErBI4Ugb0Ot0DgnJzhQADAQAAiXNlY3AyNTZrMaEDNZEUMohWm3MGGhcbHK2THDMrOr23f7BgE1NGPv2Vj7KDdGNwgvQ5g3VkcIL0O4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62520/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.80.249/tcp/37436/p2p/16Uiu2HAm5Kxa9SmjhwVhL9w5MFQL9ck4FnRwCTDDF1RTzK7qwWFa"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-15_04-14-28__04a45603-6856-465d-b57c-abcfc0de6d55__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.32.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60350', '60351', '60352', '60353', '60354']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60350:60350 -p 60351:60351 -p 60352:60352 -p 60353:60353 -p 60354:60354 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60352 --rest-port=60350 --tcp-port=60351 --discv5-udp-port=60353 --rest-address=0.0.0.0 --nat=extip:172.18.32.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6ea30cdb927cdddf9dbf8490abf1faf85c86b0f1515c5fbcb7dc4aab216820cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60354 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFhfxTIh14WUl0VZ2Si2HUZ_Rfai__DwY9aKukAL0f37Vk_Ds3W9ePv7frCykOpcv5yxTytdfkcjOHqZaJV4QsUCgmlkgnY0gmlwhKwSUPmKbXVsdGlhZGRyc5YACASsElD5BpI8AAoErBJQ-QaSPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECkx4lNyMjitw4ZSBcDk1cuWDhzUqyqQKF9pET2jay2pGDdGNwgpI8g3VkcIKSPoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.32.170 waku 7a09b08dc69eff4bbdb3a5021d87084ded593e40060268df3def5e5263502df8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7a09b08dc69e. Setting up logs at ./log/docker/node5_2024-12-15_04-14-28__04a45603-6856-465d-b57c-abcfc0de6d55__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60350
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60350/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60350/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.32.170/tcp/60351/p2p/16Uiu2HAkuqGeNY9y4P7LCh19knB5c15wpvLPCcscyJugan3pJEdg","/ip4/172.18.32.170/tcp/60352/ws/p2p/16Uiu2HAkuqGeNY9y4P7LCh19knB5c15wpvLPCcscyJugan3pJEdg"],"enrUri":"enr:-L24QMVWrmn7UnsMDjZJy8C08-7qNuVAQonHVoRsUR-rReFCLgz5_0i5UidOszEFjzXLJsZZEEIwv46DpiMFEuI4vTMCgmlkgnY0gmlwhKwSIKqKbXVsdGlhZGRyc5YACASsEiCqBuu_AAoErBIgqgbrwN0DgnJzhQADAQAAiXNlY3AyNTZrMaECBguN-2guZ9ZLnHhp1fW0lVr-f7fjnqAffC0zawLg17uDdGNwguu_g3VkcILrwYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60350/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.80.249/tcp/37436/p2p/16Uiu2HAm5Kxa9SmjhwVhL9w5MFQL9ck4FnRwCTDDF1RTzK7qwWFa"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37435/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57928/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28961/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62520/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60350/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37435/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37435/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236075906511104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57928/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236075906511104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28961/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236075906511104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236075906511104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60350/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236075906511104,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60350/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37435/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236076031204608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57928/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236076031204608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28961/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236076031204608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236076031204608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60350/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236076031204608,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6f7d982a9772
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8cf4f3fe587a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6f7d982a9772. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id eb63f2526223
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8cf4f3fe587a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fb259d7c8ca1
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container eb63f2526223. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7a09b08dc69e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fb259d7c8ca1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.