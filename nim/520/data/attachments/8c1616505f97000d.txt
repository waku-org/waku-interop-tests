[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-15_04-14-14__b67357bb-225c-4d3e-9524-008ea5690293
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-15_04-14-14__b67357bb-225c-4d3e-9524-008ea5690293__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.89.228
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26240', '26241', '26242', '26243', '26244']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26240:26240 -p 26241:26241 -p 26242:26242 -p 26243:26243 -p 26244:26244 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26242 --rest-port=26240 --tcp-port=26241 --discv5-udp-port=26243 --rest-address=0.0.0.0 --nat=extip:172.18.89.228 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b98bb32ec269bbd4edf756ffd1c12d2c9bfee4c8c80bff9f1e5dd4b75d7c1e7a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26244 --metrics-logging=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container eeb6ccf9090a. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.89.228 waku e729d6930a5c5c30fba9258e3ce3f9031d23f1bfb620cd7da40b9feaacef9646
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e729d6930a5c. Setting up logs at ./log/docker/node1_2024-12-15_04-14-14__b67357bb-225c-4d3e-9524-008ea5690293__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 26240
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26240/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26240/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.89.228/tcp/26241/p2p/16Uiu2HAm3a81wgYwcmqSqnwwiskmc2b5bvE1xv3S1xKn9jMpTdMw","/ip4/172.18.89.228/tcp/26242/ws/p2p/16Uiu2HAm3a81wgYwcmqSqnwwiskmc2b5bvE1xv3S1xKn9jMpTdMw"],"enrUri":"enr:-L24QDH16UTm2uOi6M8FXhxavr_WYfLhIkzSbdAp58MpEqv8dBOfNUr5kLStgypmnVA7qwvBy9iqN0G8KOb5uUGFe88CgmlkgnY0gmlwhKwSWeSKbXVsdGlhZGRyc5YACASsElnkBmaBAAoErBJZ5AZmgt0DgnJzhQADAQAAiXNlY3AyNTZrMaECeQeVBArH96BxAc33QqCMl2ZQpfyNznMBzKV6-H9cg86DdGNwgmaBg3VkcIJmg4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-15_04-14-14__b67357bb-225c-4d3e-9524-008ea5690293__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.41.255
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5594', '5595', '5596', '5597', '5598']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5594:5594 -p 5595:5595 -p 5596:5596 -p 5597:5597 -p 5598:5598 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5596 --rest-port=5594 --tcp-port=5595 --discv5-udp-port=5597 --rest-address=0.0.0.0 --nat=extip:172.18.41.255 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8c022af2d61d7ec1da29eacebb031b54e3b1a45e3dc5eba8e2aacbb8a2455ed4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5598 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDH16UTm2uOi6M8FXhxavr_WYfLhIkzSbdAp58MpEqv8dBOfNUr5kLStgypmnVA7qwvBy9iqN0G8KOb5uUGFe88CgmlkgnY0gmlwhKwSWeSKbXVsdGlhZGRyc5YACASsElnkBmaBAAoErBJZ5AZmgt0DgnJzhQADAQAAiXNlY3AyNTZrMaECeQeVBArH96BxAc33QqCMl2ZQpfyNznMBzKV6-H9cg86DdGNwgmaBg3VkcIJmg4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.41.255 waku 4da401b444aeb55e29d020c0a83558c24289722eb08ac745326b76d3f3e6e630
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4da401b444ae. Setting up logs at ./log/docker/node2_2024-12-15_04-14-14__b67357bb-225c-4d3e-9524-008ea5690293__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 5594
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5594/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5594/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.41.255/tcp/5595/p2p/16Uiu2HAmQhLFeJ2XZKutus3ApjawsnTybnfvTx5j9VmopkpsTEiH","/ip4/172.18.41.255/tcp/5596/ws/p2p/16Uiu2HAmQhLFeJ2XZKutus3ApjawsnTybnfvTx5j9VmopkpsTEiH"],"enrUri":"enr:-L24QL3GYVxTNI16ydR_stzHae-3YPXiswowIPh1EF5DFdyVU4bCOLRmMHqJ7JZRw8vroISIqhTVM1FiJxO10cOIiyMCgmlkgnY0gmlwhKwSKf-KbXVsdGlhZGRyc5YACASsEin_BhXbAAoErBIp_wYV3N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsuXoov0t4gOJvPgQDGuQoJRSz07iN0bKU8rRosXscf6DdGNwghXbg3VkcIIV3YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5594/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.228/tcp/26241/p2p/16Uiu2HAm3a81wgYwcmqSqnwwiskmc2b5bvE1xv3S1xKn9jMpTdMw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-15_04-14-14__b67357bb-225c-4d3e-9524-008ea5690293__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.143.108
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7733', '7734', '7735', '7736', '7737']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7733:7733 -p 7734:7734 -p 7735:7735 -p 7736:7736 -p 7737:7737 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7735 --rest-port=7733 --tcp-port=7734 --discv5-udp-port=7736 --rest-address=0.0.0.0 --nat=extip:172.18.143.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5fcc1a8c03ef017c5878e36cfc68fcfc033eef3ee9c43adb62daa9ad8cf101d8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7737 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDH16UTm2uOi6M8FXhxavr_WYfLhIkzSbdAp58MpEqv8dBOfNUr5kLStgypmnVA7qwvBy9iqN0G8KOb5uUGFe88CgmlkgnY0gmlwhKwSWeSKbXVsdGlhZGRyc5YACASsElnkBmaBAAoErBJZ5AZmgt0DgnJzhQADAQAAiXNlY3AyNTZrMaECeQeVBArH96BxAc33QqCMl2ZQpfyNznMBzKV6-H9cg86DdGNwgmaBg3VkcIJmg4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.143.108 waku a4f070e61cd2561cb3d1e9c1ccf83e612940792954b5ccd6fde096c4887c9e71
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a4f070e61cd2. Setting up logs at ./log/docker/node3_2024-12-15_04-14-14__b67357bb-225c-4d3e-9524-008ea5690293__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7733
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7733/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7733/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.143.108/tcp/7734/p2p/16Uiu2HAmNAaFqauxvw9Hhekx26NR8CeKVoi1eJAE2dwmSuqSTqRr","/ip4/172.18.143.108/tcp/7735/ws/p2p/16Uiu2HAmNAaFqauxvw9Hhekx26NR8CeKVoi1eJAE2dwmSuqSTqRr"],"enrUri":"enr:-L24QDC0KPYPy3zJR1aWi6rvJwAaevdjxxY5lDX8vc8aaljSEBeptadDLREa7KyEG2VYJwTkbPa57hrhYXh_1d_lAOoCgmlkgnY0gmlwhKwSj2yKbXVsdGlhZGRyc5YACASsEo9sBh42AAoErBKPbAYeN90DgnJzhQADAQAAiXNlY3AyNTZrMaEDjU1dCvf5y-s990oQnViykewobJYXruf8b3pZN2aCFIGDdGNwgh42g3VkcIIeOIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7733/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.228/tcp/26241/p2p/16Uiu2HAm3a81wgYwcmqSqnwwiskmc2b5bvE1xv3S1xKn9jMpTdMw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-15_04-14-14__b67357bb-225c-4d3e-9524-008ea5690293__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.183.72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56389', '56390', '56391', '56392', '56393']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56389:56389 -p 56390:56390 -p 56391:56391 -p 56392:56392 -p 56393:56393 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56391 --rest-port=56389 --tcp-port=56390 --discv5-udp-port=56392 --rest-address=0.0.0.0 --nat=extip:172.18.183.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be650acad6d87792fd1f590e36f7d3e32eb11f8cbbeb7af14e3d10bc8df4dfa6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56393 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDH16UTm2uOi6M8FXhxavr_WYfLhIkzSbdAp58MpEqv8dBOfNUr5kLStgypmnVA7qwvBy9iqN0G8KOb5uUGFe88CgmlkgnY0gmlwhKwSWeSKbXVsdGlhZGRyc5YACASsElnkBmaBAAoErBJZ5AZmgt0DgnJzhQADAQAAiXNlY3AyNTZrMaECeQeVBArH96BxAc33QqCMl2ZQpfyNznMBzKV6-H9cg86DdGNwgmaBg3VkcIJmg4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.183.72 waku e70e0d935962381ba8736ad5f5c806ac5c0acae46eda9f80cf27336e11bcb7a9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e70e0d935962. Setting up logs at ./log/docker/node4_2024-12-15_04-14-14__b67357bb-225c-4d3e-9524-008ea5690293__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 56389
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56389/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56389/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.183.72/tcp/56390/p2p/16Uiu2HAmEaMdHRiRXLxGFYqzYLNFiRKt2NXZ852ZqnduR8AD3c6u","/ip4/172.18.183.72/tcp/56391/ws/p2p/16Uiu2HAmEaMdHRiRXLxGFYqzYLNFiRKt2NXZ852ZqnduR8AD3c6u"],"enrUri":"enr:-L24QPP0W1CSZsrYTVZFCQS1ihdnKTjnczxkrFmO7QtCVNvZISTO5bwmL-N1o9mxpNBdE35sdPfldkIbOGwdO7C6IcgCgmlkgnY0gmlwhKwSt0iKbXVsdGlhZGRyc5YACASsErdIBtxGAAoErBK3SAbcR90DgnJzhQADAQAAiXNlY3AyNTZrMaEDHIeGwU_KS61pYU9Ar_CCCD2F6iQWbefTc4eb7Z3rGLKDdGNwgtxGg3VkcILcSIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56389/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.228/tcp/26241/p2p/16Uiu2HAm3a81wgYwcmqSqnwwiskmc2b5bvE1xv3S1xKn9jMpTdMw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-15_04-14-14__b67357bb-225c-4d3e-9524-008ea5690293__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.173.76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20807', '20808', '20809', '20810', '20811']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20807:20807 -p 20808:20808 -p 20809:20809 -p 20810:20810 -p 20811:20811 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20809 --rest-port=20807 --tcp-port=20808 --discv5-udp-port=20810 --rest-address=0.0.0.0 --nat=extip:172.18.173.76 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3cd3d0e6da44eeaefacdfd15cdf32d982f4d32cc7f6cfe3b8bd2af82faae25df --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20811 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDH16UTm2uOi6M8FXhxavr_WYfLhIkzSbdAp58MpEqv8dBOfNUr5kLStgypmnVA7qwvBy9iqN0G8KOb5uUGFe88CgmlkgnY0gmlwhKwSWeSKbXVsdGlhZGRyc5YACASsElnkBmaBAAoErBJZ5AZmgt0DgnJzhQADAQAAiXNlY3AyNTZrMaECeQeVBArH96BxAc33QqCMl2ZQpfyNznMBzKV6-H9cg86DdGNwgmaBg3VkcIJmg4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.173.76 waku 5c73c3edca978d1a2557c15eaa8d8582b22992db6b4bdf31eeec16f44ad5ed66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5c73c3edca97. Setting up logs at ./log/docker/node5_2024-12-15_04-14-14__b67357bb-225c-4d3e-9524-008ea5690293__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 20807
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20807/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20807/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.173.76/tcp/20808/p2p/16Uiu2HAmJThUGDeHataPT2yH2TXK6dnkMqX1ibmMrbvWN6Xquths","/ip4/172.18.173.76/tcp/20809/ws/p2p/16Uiu2HAmJThUGDeHataPT2yH2TXK6dnkMqX1ibmMrbvWN6Xquths"],"enrUri":"enr:-L24QPBuViOYHG9wG8qIcwoa2rmt2ITlYnBOb4R576cxykJ7BdGeYmfR-5qCV4PcnJMnPMsOyL1gNzIZAwe1WvmC9BECgmlkgnY0gmlwhKwSrUyKbXVsdGlhZGRyc5YACASsEq1MBlFIAAoErBKtTAZRSd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVkGlikVnLZlG-tvx17Qi9TVWAIsEObgmdhYDQdm2ng6DdGNwglFIg3VkcIJRSoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20807/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.228/tcp/26241/p2p/16Uiu2HAm3a81wgYwcmqSqnwwiskmc2b5bvE1xv3S1xKn9jMpTdMw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26240/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5594/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7733/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56389/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20807/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236061645138944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5594/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236061645138944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7733/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236061645138944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56389/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236061645138944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236061645138944,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236061770050816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5594/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236061770050816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7733/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236061770050816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56389/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236061770050816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20807/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734236061770050816,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e729d6930a5c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4da401b444ae
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e729d6930a5c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a4f070e61cd2
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4da401b444ae. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e70e0d935962
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5c73c3edca97
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a4f070e61cd2. Exiting log stream.
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e70e0d935962. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.