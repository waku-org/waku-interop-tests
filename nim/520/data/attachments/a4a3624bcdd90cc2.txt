[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_small_timestamp with id: 2024-12-15_04-26-36__1bf04edf-658b-423e-bcac-1d26da7749da
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-12-15_04-26-36__1bf04edf-658b-423e-bcac-1d26da7749da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.120.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51225', '51226', '51227', '51228', '51229']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51225:51225 -p 51226:51226 -p 51227:51227 -p 51228:51228 -p 51229:51229 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51227 --rest-port=51225 --tcp-port=51226 --discv5-udp-port=51228 --rest-address=0.0.0.0 --nat=extip:172.18.120.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2ccefc6f968e7b5b6949f81cd30b7cce5c23db1ca220da9abeb9f165ebeba10f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51229 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.120.89 waku e633187c11859fb18af27ea4f3fbf7c4de65cbe2a70274380307b2b9162bda4f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e633187c1185. Setting up logs at ./log/docker/publishing_node1_2024-12-15_04-26-36__1bf04edf-658b-423e-bcac-1d26da7749da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51225
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 24b97b41fc13. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51225/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51225/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.120.89/tcp/51226/p2p/16Uiu2HAmTfwCZLoEWf5WTvB2KQcUefb6mv65vhrGML8Th9iJ4ZGw","/ip4/172.18.120.89/tcp/51227/ws/p2p/16Uiu2HAmTfwCZLoEWf5WTvB2KQcUefb6mv65vhrGML8Th9iJ4ZGw"],"enrUri":"enr:-L24QC_FTIV3eTFgYkyvyUwrCJe8_8sKKomTi_MwPdx5tivrBrlT3Ppkva05YJkXmxOnICCO28pPZ0liGEecnU3ik4sCgmlkgnY0gmlwhKwSeFmKbXVsdGlhZGRyc5YACASsEnhZBsgaAAoErBJ4WQbIG90DgnJzhQADAQAAiXNlY3AyNTZrMaED3x1ShykFNoLq2ws0-XwYi8atvv8SyKGvtolQvZgLjUSDdGNwgsgag3VkcILIHIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-12-15_04-26-36__1bf04edf-658b-423e-bcac-1d26da7749da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.180.127
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52198', '52199', '52200', '52201', '52202']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52198:52198 -p 52199:52199 -p 52200:52200 -p 52201:52201 -p 52202:52202 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52200 --rest-port=52198 --tcp-port=52199 --discv5-udp-port=52201 --rest-address=0.0.0.0 --nat=extip:172.18.180.127 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bc35e1e93ada8eb1fdd58397829e2584e1d597ab6f31ffb9b39e063fcd78f075 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52202 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QC_FTIV3eTFgYkyvyUwrCJe8_8sKKomTi_MwPdx5tivrBrlT3Ppkva05YJkXmxOnICCO28pPZ0liGEecnU3ik4sCgmlkgnY0gmlwhKwSeFmKbXVsdGlhZGRyc5YACASsEnhZBsgaAAoErBJ4WQbIG90DgnJzhQADAQAAiXNlY3AyNTZrMaED3x1ShykFNoLq2ws0-XwYi8atvv8SyKGvtolQvZgLjUSDdGNwgsgag3VkcILIHIV3YWt1MgM --storenode=/ip4/172.18.120.89/tcp/51226/p2p/16Uiu2HAmTfwCZLoEWf5WTvB2KQcUefb6mv65vhrGML8Th9iJ4ZGw --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.180.127 waku 40e6975fa2d7457ff7dc2b8238286cb2ff593327819389ab85e166e4e5f4709c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 40e6975fa2d7. Setting up logs at ./log/docker/store_node1_2024-12-15_04-26-36__1bf04edf-658b-423e-bcac-1d26da7749da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 52198
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52198/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52198/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.180.127/tcp/52199/p2p/16Uiu2HAmKMiykkWNp5UQdxxpETYGfDe2tLuPpmmkES13YFFdL4xg","/ip4/172.18.180.127/tcp/52200/ws/p2p/16Uiu2HAmKMiykkWNp5UQdxxpETYGfDe2tLuPpmmkES13YFFdL4xg"],"enrUri":"enr:-L24QDnxeriXw7unP6YpB25V0-274rGFPu5REg4qtPbGZmKsSkL2QK5mhd6LMuW0ur3wRlW-Xyhpeu3ykIqmpK5x77kCgmlkgnY0gmlwhKwStH-KbXVsdGlhZGRyc5YACASsErR_BsvnAAoErBK0fwbL6N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDY5WN6nHg5dnrse0e-socja_vm7fUKl-0re9vYQVvxQGDdGNwgsvng3VkcILL6YV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52198/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.120.89/tcp/51226/p2p/16Uiu2HAmTfwCZLoEWf5WTvB2KQcUefb6mv65vhrGML8Th9iJ4ZGw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51225/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52198/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51225/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51225/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51225/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51225/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51225/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51225/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:218 inquering stored messages with start time 1734236805604886016 after end time 1734236818604903937
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51225/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1734236805604886016&endTime=1734236818604903937&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"Q2D1TrDBVLVKHBiKt9pmFuA0/GI+1OsK1M+RidVcuzA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236805604886016,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"MiRzy2AwD784VcEamXbU2SP4xInRPXRwikX/wOXw4b0=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236807604893952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"SItrLdHBFM+AVc9f89g9kNa6SnlSEXDJDLh0WcdPiAM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236808504897024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"sFMrtVTIwJRblbMoDmVf5Pi6Q/j6/XKCpUyzK9TDhKw=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236808704900096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"DiudEvB+treP2oFcOyBeeFpQbeaVFtAa61DTRMmfoUE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236810604902144,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"vugeoc/Shgi1PgOKayQoOTZjJ4g8h/mPjzbpFKEzUSA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236818604903936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:221 number of messages stored for start time 1734236805604886016 and end time = 1734236818604903937 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52198/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1734236805604886016&endTime=1734236818604903937&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"Q2D1TrDBVLVKHBiKt9pmFuA0/GI+1OsK1M+RidVcuzA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236805604886016,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"MiRzy2AwD784VcEamXbU2SP4xInRPXRwikX/wOXw4b0=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236807604893952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"SItrLdHBFM+AVc9f89g9kNa6SnlSEXDJDLh0WcdPiAM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236808504897024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"sFMrtVTIwJRblbMoDmVf5Pi6Q/j6/XKCpUyzK9TDhKw=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236808704900096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"DiudEvB+treP2oFcOyBeeFpQbeaVFtAa61DTRMmfoUE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236810604902144,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"vugeoc/Shgi1PgOKayQoOTZjJ4g8h/mPjzbpFKEzUSA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1734236818604903936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:221 number of messages stored for start time 1734236805604886016 and end time = 1734236818604903937 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e633187c1185
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 40e6975fa2d7
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e633187c1185. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.