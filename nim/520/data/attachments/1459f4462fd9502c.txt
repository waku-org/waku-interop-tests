[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_pubsub_topics with id: 2024-12-15_04-12-30__50e63d1e-856d-4a6b-bf88-a1d3e00fabf7
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-12-15_04-12-30__50e63d1e-856d-4a6b-bf88-a1d3e00fabf7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.225.64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53725', '53726', '53727', '53728', '53729']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53725:53725 -p 53726:53726 -p 53727:53727 -p 53728:53728 -p 53729:53729 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53727 --rest-port=53725 --tcp-port=53726 --discv5-udp-port=53728 --rest-address=0.0.0.0 --nat=extip:172.18.225.64 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c2abbf77f40ab3bc0fb3bdcc5084f2e441b7940dd4e8fabd64c95e793116c0f8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53729 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.225.64 waku faa33b4348933eadf790d53ee6df8bd336ef91d85e41a125a9ef8d19383daa93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID faa33b434893. Setting up logs at ./log/docker/receiving_node1_2024-12-15_04-12-30__50e63d1e-856d-4a6b-bf88-a1d3e00fabf7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 53725
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8af17e2924c8. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53725/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53725/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.64/tcp/53726/p2p/16Uiu2HAmMhKFkakCoyHqFiGwRasgWpzieHxZ9rirfAjk7uTn8TvN","/ip4/172.18.225.64/tcp/53727/ws/p2p/16Uiu2HAmMhKFkakCoyHqFiGwRasgWpzieHxZ9rirfAjk7uTn8TvN"],"enrUri":"enr:-L24QGsFeA7lY3vAjFneDeF_UNoila9BosdFtCfZJ-CnXkPnOsXB2u9bX3mGbmmtu-RT7lGHVWAPrPhWOwsfv5-E1gwCgmlkgnY0gmlwhKwS4UCKbXVsdGlhZGRyc5YACASsEuFABtHeAAoErBLhQAbR390DgnJzhQADAQAAiXNlY3AyNTZrMaEDhlG4KH-DetClIdxd0e7cxfStPDqbhTfFofkjRyeijeeDdGNwgtHeg3VkcILR4IV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-12-15_04-12-30__50e63d1e-856d-4a6b-bf88-a1d3e00fabf7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.115.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56959', '56960', '56961', '56962', '56963']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56959:56959 -p 56960:56960 -p 56961:56961 -p 56962:56962 -p 56963:56963 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56961 --rest-port=56959 --tcp-port=56960 --discv5-udp-port=56962 --rest-address=0.0.0.0 --nat=extip:172.18.115.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=afbeb6f8604bcd20a309e5cf3a4e95aeca424ffbccdf17cbee3113deb8feaa4c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56963 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.115.176 waku 4b80c593dea90320e0af0c12b7474e5252b3822263739264bfd3adfbaa37f11c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4b80c593dea9. Setting up logs at ./log/docker/receiving_node2_2024-12-15_04-12-30__50e63d1e-856d-4a6b-bf88-a1d3e00fabf7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 56959
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56959/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56959/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.115.176/tcp/56960/p2p/16Uiu2HAm6eEK8nrVinWD5rCHd3afMzwNy176XTox9a7FDcLseQ1h","/ip4/172.18.115.176/tcp/56961/ws/p2p/16Uiu2HAm6eEK8nrVinWD5rCHd3afMzwNy176XTox9a7FDcLseQ1h"],"enrUri":"enr:-L24QAsucPZhNSZUXbssyX_IlOUjJ-E8qw_awgSM0i4_5jvnc7MH2xwrrtjjB_Uh-3Ky4RJRc8ikvSvTjY0qVHCeCTQCgmlkgnY0gmlwhKwSc7CKbXVsdGlhZGRyc5YACASsEnOwBt6AAAoErBJzsAbegd0DgnJzhQADAQAAiXNlY3AyNTZrMaECpqgV4c_rXRXPef-njJhhBpJMVq4bNHxBtkKCEmsUFOyDdGNwgt6Ag3VkcILegoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56959/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.225.64/tcp/53726/p2p/16Uiu2HAmMhKFkakCoyHqFiGwRasgWpzieHxZ9rirfAjk7uTn8TvN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-12-15_04-12-30__50e63d1e-856d-4a6b-bf88-a1d3e00fabf7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.39.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56254', '56255', '56256', '56257', '56258']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56254:56254 -p 56255:56255 -p 56256:56256 -p 56257:56257 -p 56258:56258 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56256 --rest-port=56254 --tcp-port=56255 --discv5-udp-port=56257 --rest-address=0.0.0.0 --nat=extip:172.18.39.29 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=800a78c41e24c9ca8bc8ec8e9bde9dfce47cb7fc5f0bc4e3ec3eaa472aebdb2c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56258 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QGsFeA7lY3vAjFneDeF_UNoila9BosdFtCfZJ-CnXkPnOsXB2u9bX3mGbmmtu-RT7lGHVWAPrPhWOwsfv5-E1gwCgmlkgnY0gmlwhKwS4UCKbXVsdGlhZGRyc5YACASsEuFABtHeAAoErBLhQAbR390DgnJzhQADAQAAiXNlY3AyNTZrMaEDhlG4KH-DetClIdxd0e7cxfStPDqbhTfFofkjRyeijeeDdGNwgtHeg3VkcILR4IV3YWt1Mgk --lightpushnode=/ip4/172.18.225.64/tcp/53726/p2p/16Uiu2HAmMhKFkakCoyHqFiGwRasgWpzieHxZ9rirfAjk7uTn8TvN --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.39.29 waku d8c509ffaf0d2e3932f1b1ec7486a8726752130d4619761463dc019aa3031e40
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d8c509ffaf0d. Setting up logs at ./log/docker/lightpush_node1_2024-12-15_04-12-30__50e63d1e-856d-4a6b-bf88-a1d3e00fabf7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 56254
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56254/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56254/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.39.29/tcp/56255/p2p/16Uiu2HAmHzi33gJjjSZKmgABKS9oc7xL8n4iVDgm9NpkKVGwAqWS","/ip4/172.18.39.29/tcp/56256/ws/p2p/16Uiu2HAmHzi33gJjjSZKmgABKS9oc7xL8n4iVDgm9NpkKVGwAqWS"],"enrUri":"enr:-L24QGC_ig92_T5FI_0YHATxqHaCskmEXjAzlJm0XFIKGrYTUdYv-XhnSzxd1_OWG4Fl-OxjVfoOHKm-k8mCBurqg8kCgmlkgnY0gmlwhKwSJx2KbXVsdGlhZGRyc5YACASsEicdBtu_AAoErBInHQbbwN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDT1eamgDjJfigkQBotjEuB7Rk2oTVbfwqUFEV-lhpX5ODdGNwgtu_g3VkcILbwYV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56254/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.225.64/tcp/53726/p2p/16Uiu2HAmMhKFkakCoyHqFiGwRasgWpzieHxZ9rirfAjk7uTn8TvN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56254/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.176/tcp/56960/p2p/16Uiu2HAm6eEK8nrVinWD5rCHd3afMzwNy176XTox9a7FDcLseQ1h"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53725/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56959/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56254/lightpush/v1/message" -H "Content-Type: application/json" -d '{"message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1734235955196316160}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 503 Server Error: Service Unavailable for url: http://127.0.0.1:56254/lightpush/v1/message. Response content: b'Failed to request a message push: not_published_to_any_peer'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id faa33b434893
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4b80c593dea9
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container faa33b434893. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d8c509ffaf0d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4b80c593dea9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.