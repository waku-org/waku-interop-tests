[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-18_04-17-01__012971ba-a620-45d4-bd77-ef7c8eeb0bc1
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-18_04-17-01__012971ba-a620-45d4-bd77-ef7c8eeb0bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.93.62
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48165', '48166', '48167', '48168', '48169']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48165:48165 -p 48166:48166 -p 48167:48167 -p 48168:48168 -p 48169:48169 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48167 --rest-port=48165 --tcp-port=48166 --discv5-udp-port=48168 --rest-address=0.0.0.0 --nat=extip:172.18.93.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9c636bc95a10d9e4d4bdfdc85de62df12dc1fbf270ecbf99baccdefec3aaf48 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48169 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.93.62 waku 8ff9a7d737f68fa2594d8da03340ac405f94d6f3d45bd313485182455ab888be
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8ff9a7d737f6. Setting up logs at ./log/docker/node1_2024-11-18_04-17-01__012971ba-a620-45d4-bd77-ef7c8eeb0bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 48165
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c80aa204ff48. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48165/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48165/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.93.62/tcp/48166/p2p/16Uiu2HAm8GYyUD9r4dBe2RT7t5PA8tcnLSQPGh2pNq6YboER7cub","/ip4/172.18.93.62/tcp/48167/ws/p2p/16Uiu2HAm8GYyUD9r4dBe2RT7t5PA8tcnLSQPGh2pNq6YboER7cub"],"enrUri":"enr:-L24QKWEMdsyFH6POeFwdeHL5MiPSKkq5uYsZWu5C1_RC3cqM4bxcU4afhzqVuuvnVi3D_2cZJFkM4kjmrtv5frMPlcCgmlkgnY0gmlwhKwSXT6KbXVsdGlhZGRyc5YACASsEl0-BrwmAAoErBJdPga8J90DgnJzhQADAQAAiXNlY3AyNTZrMaECvtHIEjLucuRTtt5nAcBKcR4IWMkpbctFiJ39bNyZJOaDdGNwgrwmg3VkcIK8KIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-18_04-17-01__012971ba-a620-45d4-bd77-ef7c8eeb0bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.190.227
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54084', '54085', '54086', '54087', '54088']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54084:54084 -p 54085:54085 -p 54086:54086 -p 54087:54087 -p 54088:54088 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54086 --rest-port=54084 --tcp-port=54085 --discv5-udp-port=54087 --rest-address=0.0.0.0 --nat=extip:172.18.190.227 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2dbecdce2eddd8da6ef0bc842ff7b9fbcdc8484d2dab47cd33bcc02b1acb0ade --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54088 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKWEMdsyFH6POeFwdeHL5MiPSKkq5uYsZWu5C1_RC3cqM4bxcU4afhzqVuuvnVi3D_2cZJFkM4kjmrtv5frMPlcCgmlkgnY0gmlwhKwSXT6KbXVsdGlhZGRyc5YACASsEl0-BrwmAAoErBJdPga8J90DgnJzhQADAQAAiXNlY3AyNTZrMaECvtHIEjLucuRTtt5nAcBKcR4IWMkpbctFiJ39bNyZJOaDdGNwgrwmg3VkcIK8KIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.190.227 waku 2ba1d9cbdb77053ea1e9e673fbe18bc0347bacac3c19a4a36bdc3f29673e73f8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2ba1d9cbdb77. Setting up logs at ./log/docker/node2_2024-11-18_04-17-01__012971ba-a620-45d4-bd77-ef7c8eeb0bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 54084
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54084/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54084/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.227/tcp/54085/p2p/16Uiu2HAmSyBr6rkfdpouHKJJVah165oHh2W7SLNdrUGo8UbpKuWz","/ip4/172.18.190.227/tcp/54086/ws/p2p/16Uiu2HAmSyBr6rkfdpouHKJJVah165oHh2W7SLNdrUGo8UbpKuWz"],"enrUri":"enr:-L24QDh-kd3Isv7KykqF80_pLCYUo2WbqlDYO6dIxg8jTR1yauELdF3PSarp-e5NG_pd_oCilp_EthGf8pmtDoD2HWMCgmlkgnY0gmlwhKwSvuOKbXVsdGlhZGRyc5YACASsEr7jBtNFAAoErBK-4wbTRt0DgnJzhQADAQAAiXNlY3AyNTZrMaED1K0SKkTVwnm7u8HOtAqKv2uoMmk2S6RGmYzd2Ro6iFuDdGNwgtNFg3VkcILTR4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54084/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.93.62/tcp/48166/p2p/16Uiu2HAm8GYyUD9r4dBe2RT7t5PA8tcnLSQPGh2pNq6YboER7cub"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-18_04-17-01__012971ba-a620-45d4-bd77-ef7c8eeb0bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.220.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24576', '24577', '24578', '24579', '24580']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24576:24576 -p 24577:24577 -p 24578:24578 -p 24579:24579 -p 24580:24580 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24578 --rest-port=24576 --tcp-port=24577 --discv5-udp-port=24579 --rest-address=0.0.0.0 --nat=extip:172.18.220.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1aeadc0d173d964ed8e4d2af80bcd8c52f2b2ae55cf115c0cab924d0b88af6e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24580 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKWEMdsyFH6POeFwdeHL5MiPSKkq5uYsZWu5C1_RC3cqM4bxcU4afhzqVuuvnVi3D_2cZJFkM4kjmrtv5frMPlcCgmlkgnY0gmlwhKwSXT6KbXVsdGlhZGRyc5YACASsEl0-BrwmAAoErBJdPga8J90DgnJzhQADAQAAiXNlY3AyNTZrMaECvtHIEjLucuRTtt5nAcBKcR4IWMkpbctFiJ39bNyZJOaDdGNwgrwmg3VkcIK8KIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.220.69 waku 1e2e3017cb954289307689d2656a026453e105d093572316a334c0527e0b57d3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1e2e3017cb95. Setting up logs at ./log/docker/node3_2024-11-18_04-17-01__012971ba-a620-45d4-bd77-ef7c8eeb0bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 24576
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24576/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24576/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.220.69/tcp/24577/p2p/16Uiu2HAmFF1esBRmonArHrbLt9ef93PFUcKm9wa2Q8JiurHoYSod","/ip4/172.18.220.69/tcp/24578/ws/p2p/16Uiu2HAmFF1esBRmonArHrbLt9ef93PFUcKm9wa2Q8JiurHoYSod"],"enrUri":"enr:-L24QPmXOg7j6Lc_EUmItEkqLATBhPJhDhFUkBPM_-91OniCAxYNBxknOfjQOAiYMZcClkBoaKoZ_2GIbrdgxJiDZB4CgmlkgnY0gmlwhKwS3EWKbXVsdGlhZGRyc5YACASsEtxFBmABAAoErBLcRQZgAt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJm6YPtwlnm9YRb6zb0nxCQKSeSxv52c30PYIRvaMLAyDdGNwgmABg3VkcIJgA4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24576/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.93.62/tcp/48166/p2p/16Uiu2HAm8GYyUD9r4dBe2RT7t5PA8tcnLSQPGh2pNq6YboER7cub"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-18_04-17-01__012971ba-a620-45d4-bd77-ef7c8eeb0bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.224.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58452', '58453', '58454', '58455', '58456']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58452:58452 -p 58453:58453 -p 58454:58454 -p 58455:58455 -p 58456:58456 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58454 --rest-port=58452 --tcp-port=58453 --discv5-udp-port=58455 --rest-address=0.0.0.0 --nat=extip:172.18.224.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=72f3a8048e5f8ecc1d9ac5f63bc6ed2a82aaf8eeecd626ee36f72eec8b9badd8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58456 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKWEMdsyFH6POeFwdeHL5MiPSKkq5uYsZWu5C1_RC3cqM4bxcU4afhzqVuuvnVi3D_2cZJFkM4kjmrtv5frMPlcCgmlkgnY0gmlwhKwSXT6KbXVsdGlhZGRyc5YACASsEl0-BrwmAAoErBJdPga8J90DgnJzhQADAQAAiXNlY3AyNTZrMaECvtHIEjLucuRTtt5nAcBKcR4IWMkpbctFiJ39bNyZJOaDdGNwgrwmg3VkcIK8KIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.224.56 waku 89d19037bc765d29cd437800d578616adca9af4299b9c154a4de67f3baff8f83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 89d19037bc76. Setting up logs at ./log/docker/node4_2024-11-18_04-17-01__012971ba-a620-45d4-bd77-ef7c8eeb0bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 58452
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58452/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58452/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.224.56/tcp/58453/p2p/16Uiu2HAm8AusZFiY6pCrHo5yo2tErd5E7wBskyAyAFY8B4m7tHFT","/ip4/172.18.224.56/tcp/58454/ws/p2p/16Uiu2HAm8AusZFiY6pCrHo5yo2tErd5E7wBskyAyAFY8B4m7tHFT"],"enrUri":"enr:-L24QLQgISrh3FiNJfWlKJ7I5Kpy2_SIkn0oSvr-AJbYhAzTR2OqoG6WOfxye8NAc7HqEdNkieP8go3dj4m82Gzoue8CgmlkgnY0gmlwhKwS4DiKbXVsdGlhZGRyc5YACASsEuA4BuRVAAoErBLgOAbkVt0DgnJzhQADAQAAiXNlY3AyNTZrMaECvV_tGc71X4Cm1-mnCATp5kfq5FRo2SXk-MLQNqmdOh6DdGNwguRVg3VkcILkV4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58452/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.93.62/tcp/48166/p2p/16Uiu2HAm8GYyUD9r4dBe2RT7t5PA8tcnLSQPGh2pNq6YboER7cub"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-18_04-17-01__012971ba-a620-45d4-bd77-ef7c8eeb0bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.81.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49659', '49660', '49661', '49662', '49663']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49659:49659 -p 49660:49660 -p 49661:49661 -p 49662:49662 -p 49663:49663 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49661 --rest-port=49659 --tcp-port=49660 --discv5-udp-port=49662 --rest-address=0.0.0.0 --nat=extip:172.18.81.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9bb71bb455e6b1ca514f3b0aedcf8a60b1aa07f94c7e8f4eb3eb0d98cf89c00 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49663 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKWEMdsyFH6POeFwdeHL5MiPSKkq5uYsZWu5C1_RC3cqM4bxcU4afhzqVuuvnVi3D_2cZJFkM4kjmrtv5frMPlcCgmlkgnY0gmlwhKwSXT6KbXVsdGlhZGRyc5YACASsEl0-BrwmAAoErBJdPga8J90DgnJzhQADAQAAiXNlY3AyNTZrMaECvtHIEjLucuRTtt5nAcBKcR4IWMkpbctFiJ39bNyZJOaDdGNwgrwmg3VkcIK8KIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.81.41 waku 93fea859bd1bebdfd418fc3bdc4c2d5490908bc3dd227c260498ba5ee2459343
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 93fea859bd1b. Setting up logs at ./log/docker/node5_2024-11-18_04-17-01__012971ba-a620-45d4-bd77-ef7c8eeb0bc1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 49659
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49659/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49659/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.41/tcp/49660/p2p/16Uiu2HAmRYzeNZMKqQKa2sBrShYsnMuJRHGqrhsi1gdooGSCPnST","/ip4/172.18.81.41/tcp/49661/ws/p2p/16Uiu2HAmRYzeNZMKqQKa2sBrShYsnMuJRHGqrhsi1gdooGSCPnST"],"enrUri":"enr:-L24QLk0mWo0X2w3pk9qsnXuXRKFOAidOFEeNeSIct-Xwggnc3bp6M-d9kS9b1jH-AdrkvR3tkk-Pyee7WaXFyVU5Z8CgmlkgnY0gmlwhKwSUSmKbXVsdGlhZGRyc5YACASsElEpBsH8AAoErBJRKQbB_d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDv57HOOd_XU8-Z8sq2aIc35ESDyIbj0K-GNIyk4t_w5iDdGNwgsH8g3VkcILB_oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49659/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.93.62/tcp/48166/p2p/16Uiu2HAm8GYyUD9r4dBe2RT7t5PA8tcnLSQPGh2pNq6YboER7cub"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48165/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54084/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24576/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58452/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49659/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48165/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48165/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903430115891200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54084/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903430115891200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24576/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903430115891200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903430115891200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903430115891200,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48165/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48165/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903430253474560,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54084/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903430253474560,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24576/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903430253474560,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903430253474560,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903430253474560,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8ff9a7d737f6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 2ba1d9cbdb77
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8ff9a7d737f6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 1e2e3017cb95
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2ba1d9cbdb77. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 89d19037bc76
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1e2e3017cb95. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 93fea859bd1b
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 89d19037bc76. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.