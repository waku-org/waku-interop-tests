[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-18_04-17-22__94466506-fd62-42bd-8664-de6a57ebae99
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-18_04-17-22__94466506-fd62-42bd-8664-de6a57ebae99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.58.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56220', '56221', '56222', '56223', '56224']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56220:56220 -p 56221:56221 -p 56222:56222 -p 56223:56223 -p 56224:56224 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56222 --rest-port=56220 --tcp-port=56221 --discv5-udp-port=56223 --rest-address=0.0.0.0 --nat=extip:172.18.58.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e7fa9edb415dff71b6d4abbf0f933a0da1edae895eab25dc500b2c31f7d33ea9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56224 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.58.159 waku 602b01d15546cf253447650b21fbdb0b41a756f898a61677bf511897900a5fd7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 602b01d15546. Setting up logs at ./log/docker/node1_2024-11-18_04-17-22__94466506-fd62-42bd-8664-de6a57ebae99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 56220
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 93fea859bd1b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56220/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56220/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.58.159/tcp/56221/p2p/16Uiu2HAm1K7o8CMJuyx9CpampFf7mJk92hhhrbfurUfEpv6DE973","/ip4/172.18.58.159/tcp/56222/ws/p2p/16Uiu2HAm1K7o8CMJuyx9CpampFf7mJk92hhhrbfurUfEpv6DE973"],"enrUri":"enr:-L24QFRlgc5ChpCGxGtg24iufVjuTa1HQ5F4Cn0Tef8v_HrYXhIwt9YxJXbtKK9TWbLtZskc16EHnHSQUBKApSTLZy8CgmlkgnY0gmlwhKwSOp-KbXVsdGlhZGRyc5YACASsEjqfBtudAAoErBI6nwbbnt0DgnJzhQADAQAAiXNlY3AyNTZrMaECV3g_B0CVGx5MNanhDRRKsTHRqEb9tluuX0nTRVaZvSaDdGNwgtudg3VkcILbn4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-18_04-17-22__94466506-fd62-42bd-8664-de6a57ebae99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.134.100
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36073', '36074', '36075', '36076', '36077']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36073:36073 -p 36074:36074 -p 36075:36075 -p 36076:36076 -p 36077:36077 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36075 --rest-port=36073 --tcp-port=36074 --discv5-udp-port=36076 --rest-address=0.0.0.0 --nat=extip:172.18.134.100 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4d868c49b8b8ea4e1eff1ece13d12023cdbda92f7fb0fc69fda565181e46b570 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36077 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFRlgc5ChpCGxGtg24iufVjuTa1HQ5F4Cn0Tef8v_HrYXhIwt9YxJXbtKK9TWbLtZskc16EHnHSQUBKApSTLZy8CgmlkgnY0gmlwhKwSOp-KbXVsdGlhZGRyc5YACASsEjqfBtudAAoErBI6nwbbnt0DgnJzhQADAQAAiXNlY3AyNTZrMaECV3g_B0CVGx5MNanhDRRKsTHRqEb9tluuX0nTRVaZvSaDdGNwgtudg3VkcILbn4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.134.100 waku 0ac6c7e1f6ba2b55c19b9ed6812dac293ae753594a52339b5d550c89745a8017
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0ac6c7e1f6ba. Setting up logs at ./log/docker/node2_2024-11-18_04-17-22__94466506-fd62-42bd-8664-de6a57ebae99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 36073
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36073/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36073/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.134.100/tcp/36074/p2p/16Uiu2HAm3j4Z1kyPPZDq9k6a9VhfXn1QS5QqdGE8Z2cD7DFsSP8J","/ip4/172.18.134.100/tcp/36075/ws/p2p/16Uiu2HAm3j4Z1kyPPZDq9k6a9VhfXn1QS5QqdGE8Z2cD7DFsSP8J"],"enrUri":"enr:-L24QPCQcvhJSyP9ZM9R4wIt4L4w93uUItDAkrbpDrMeq_5yO7qc8NMGs4WjgpVpUg4zughPLKfoygB9XdOou_ozNdwCgmlkgnY0gmlwhKwShmSKbXVsdGlhZGRyc5YACASsEoZkBozqAAoErBKGZAaM690DgnJzhQADAQAAiXNlY3AyNTZrMaECe1Hka-3LszOC5PL78QyO0swIdBhafKG4DeR9uid9RIeDdGNwgozqg3VkcIKM7IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36073/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.58.159/tcp/56221/p2p/16Uiu2HAm1K7o8CMJuyx9CpampFf7mJk92hhhrbfurUfEpv6DE973"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-18_04-17-22__94466506-fd62-42bd-8664-de6a57ebae99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.165.47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9831', '9832', '9833', '9834', '9835']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9831:9831 -p 9832:9832 -p 9833:9833 -p 9834:9834 -p 9835:9835 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9833 --rest-port=9831 --tcp-port=9832 --discv5-udp-port=9834 --rest-address=0.0.0.0 --nat=extip:172.18.165.47 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b8f796fbd3f04c2dfab9d06cdaccc72caa7b6b02d07b492dcf51d6aeeecb91ff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9835 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFRlgc5ChpCGxGtg24iufVjuTa1HQ5F4Cn0Tef8v_HrYXhIwt9YxJXbtKK9TWbLtZskc16EHnHSQUBKApSTLZy8CgmlkgnY0gmlwhKwSOp-KbXVsdGlhZGRyc5YACASsEjqfBtudAAoErBI6nwbbnt0DgnJzhQADAQAAiXNlY3AyNTZrMaECV3g_B0CVGx5MNanhDRRKsTHRqEb9tluuX0nTRVaZvSaDdGNwgtudg3VkcILbn4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.165.47 waku 3d7b11b3e02214200c8a224b6593538380215748152a74544a48f1684070f373
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3d7b11b3e022. Setting up logs at ./log/docker/node3_2024-11-18_04-17-22__94466506-fd62-42bd-8664-de6a57ebae99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 9831
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9831/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9831/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.165.47/tcp/9832/p2p/16Uiu2HAm5JA5mA7UFiy6eEAjhjGo4HkqTnL2SB7K8rnsFrk8xXJb","/ip4/172.18.165.47/tcp/9833/ws/p2p/16Uiu2HAm5JA5mA7UFiy6eEAjhjGo4HkqTnL2SB7K8rnsFrk8xXJb"],"enrUri":"enr:-L24QPvIDVfiRKtXg3TqzrcpF4Lsh528wotAv4a6oDiwTVQYEFk7bN_b6tX7og6H6h3G70tmk12PsEBrGRsty4Mq6n0CgmlkgnY0gmlwhKwSpS-KbXVsdGlhZGRyc5YACASsEqUvBiZoAAoErBKlLwYmad0DgnJzhQADAQAAiXNlY3AyNTZrMaECkqf_tJu0pA13qX_A_yPm6gLMDUYA7TA4fGxRXup471yDdGNwgiZog3VkcIImaoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9831/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.58.159/tcp/56221/p2p/16Uiu2HAm1K7o8CMJuyx9CpampFf7mJk92hhhrbfurUfEpv6DE973"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-18_04-17-22__94466506-fd62-42bd-8664-de6a57ebae99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.182.254
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40570', '40571', '40572', '40573', '40574']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40570:40570 -p 40571:40571 -p 40572:40572 -p 40573:40573 -p 40574:40574 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40572 --rest-port=40570 --tcp-port=40571 --discv5-udp-port=40573 --rest-address=0.0.0.0 --nat=extip:172.18.182.254 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8ddb94db9b39fabf57d3763231f3528f70aa1c06ed72129ebfdfb411c8cc7165 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40574 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFRlgc5ChpCGxGtg24iufVjuTa1HQ5F4Cn0Tef8v_HrYXhIwt9YxJXbtKK9TWbLtZskc16EHnHSQUBKApSTLZy8CgmlkgnY0gmlwhKwSOp-KbXVsdGlhZGRyc5YACASsEjqfBtudAAoErBI6nwbbnt0DgnJzhQADAQAAiXNlY3AyNTZrMaECV3g_B0CVGx5MNanhDRRKsTHRqEb9tluuX0nTRVaZvSaDdGNwgtudg3VkcILbn4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.182.254 waku 4869f3c3375d8798945338889105e1e3ea2dbe1e8a5028affbd5f3a641f93a21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4869f3c3375d. Setting up logs at ./log/docker/node4_2024-11-18_04-17-22__94466506-fd62-42bd-8664-de6a57ebae99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 40570
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40570/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40570/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.254/tcp/40571/p2p/16Uiu2HAm7qA7J3dPo8AUQbdQ3FLrnKN7x4n2LP5CHd37RyruzBnm","/ip4/172.18.182.254/tcp/40572/ws/p2p/16Uiu2HAm7qA7J3dPo8AUQbdQ3FLrnKN7x4n2LP5CHd37RyruzBnm"],"enrUri":"enr:-L24QOet69wveaB-tVSfWVyOje2zRahZfjsbI5gXRnsbSAyCL2cAkGPJVBsZnMUXCj2N15XcbheEPII9GHY-gfChPTwCgmlkgnY0gmlwhKwStv6KbXVsdGlhZGRyc5YACASsErb-Bp57AAoErBK2_gaefN0DgnJzhQADAQAAiXNlY3AyNTZrMaECuFBoXHKbqAwJ-THK-Dho9lF8aNORZNM-nxk-cb0Zf46DdGNwgp57g3VkcIKefYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40570/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.58.159/tcp/56221/p2p/16Uiu2HAm1K7o8CMJuyx9CpampFf7mJk92hhhrbfurUfEpv6DE973"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-18_04-17-22__94466506-fd62-42bd-8664-de6a57ebae99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.186.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56651', '56652', '56653', '56654', '56655']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56651:56651 -p 56652:56652 -p 56653:56653 -p 56654:56654 -p 56655:56655 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56653 --rest-port=56651 --tcp-port=56652 --discv5-udp-port=56654 --rest-address=0.0.0.0 --nat=extip:172.18.186.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=90dc6f110aca52eb6aa44f1cd59ae1346baff3aa4ed27fc6b29898f3dbc3a1fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56655 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFRlgc5ChpCGxGtg24iufVjuTa1HQ5F4Cn0Tef8v_HrYXhIwt9YxJXbtKK9TWbLtZskc16EHnHSQUBKApSTLZy8CgmlkgnY0gmlwhKwSOp-KbXVsdGlhZGRyc5YACASsEjqfBtudAAoErBI6nwbbnt0DgnJzhQADAQAAiXNlY3AyNTZrMaECV3g_B0CVGx5MNanhDRRKsTHRqEb9tluuX0nTRVaZvSaDdGNwgtudg3VkcILbn4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.186.136 waku 625d4477b4baaeeff887077c56096828a7433219d26d32a024b894e5e1cf767a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 625d4477b4ba. Setting up logs at ./log/docker/node5_2024-11-18_04-17-22__94466506-fd62-42bd-8664-de6a57ebae99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 56651
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56651/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56651/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.186.136/tcp/56652/p2p/16Uiu2HAmCm4jfK1RKks2zkpC9ajonre18DRi9fBmu5wZL8raCn8a","/ip4/172.18.186.136/tcp/56653/ws/p2p/16Uiu2HAmCm4jfK1RKks2zkpC9ajonre18DRi9fBmu5wZL8raCn8a"],"enrUri":"enr:-L24QLTp4acbOoc9fLimB6ALE_g5RZrVFXljs-whwDX_a0GVREKE81gGwNIv2LljRwwSumrggmzYCgLJUJ1QLQTyZJ8CgmlkgnY0gmlwhKwSuoiKbXVsdGlhZGRyc5YACASsErqIBt1MAAoErBK6iAbdTd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDAY5xnMEF_IbIctG4z4Xdqm0lAKODQbn5z-EqZHRIYrODdGNwgt1Mg3VkcILdToV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56651/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.58.159/tcp/56221/p2p/16Uiu2HAm1K7o8CMJuyx9CpampFf7mJk92hhhrbfurUfEpv6DE973"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56220/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36073/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9831/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40570/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56651/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56220/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56220/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903450266331904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36073/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903450266331904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9831/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903450266331904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40570/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903450266331904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56651/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903450266331904,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56651/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56220/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903450404848896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36073/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903450404848896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9831/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903450404848896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40570/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903450404848896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56651/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731903450404848896,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 602b01d15546
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 0ac6c7e1f6ba
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 602b01d15546. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 3d7b11b3e022
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0ac6c7e1f6ba. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 4869f3c3375d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3d7b11b3e022. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 625d4477b4ba
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4869f3c3375d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.