[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-11-27_04-18-48__cd471b36-1f28-43e2-9c68-659822c82a12
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-27_04-18-48__cd471b36-1f28-43e2-9c68-659822c82a12__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.96.119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52798', '52799', '52800', '52801', '52802']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52798:52798 -p 52799:52799 -p 52800:52800 -p 52801:52801 -p 52802:52802 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52800 --rest-port=52798 --tcp-port=52799 --discv5-udp-port=52801 --rest-address=0.0.0.0 --nat=extip:172.18.96.119 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fcbb6d7f32def0abdeeb05f867088a4086f894294e3fddeeb0fbbbb7ef11de53 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52802 --metrics-logging=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 46ef63db2220. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.98.219
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16912', '16913', '16914', '16915', '16916']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16912:16912 -p 16913:16913 -p 16914:16914 -p 16915:16915 -p 16916:16916 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16914 --rest-port=16912 --tcp-port=16913 --discv5-udp-port=16915 --rest-address=0.0.0.0 --nat=extip:172.18.98.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=416ffdcafac7da66c335eb8aeeef3c6d00f4a6fbbc0b5c6b9cffa9efffb98ec6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16916 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.98.219 waku 7e3103ad3cef8831d3a289988724ccf91f673c9e4dad11822163a5aebc288cdc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7e3103ad3cef. Setting up logs at ./log/docker/node1_2024-11-27_04-18-48__cd471b36-1f28-43e2-9c68-659822c82a12__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 16912
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16912/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16912/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.98.219/tcp/16913/p2p/16Uiu2HAm6Mgsxcn7q7Zk42oURJQwyNdWPrAvB8rDuq8tWLMryYLU","/ip4/172.18.98.219/tcp/16914/ws/p2p/16Uiu2HAm6Mgsxcn7q7Zk42oURJQwyNdWPrAvB8rDuq8tWLMryYLU"],"enrUri":"enr:-L24QEvAzVCoHd32gsUAWdqtLmpm_vNG9ewId-0g5vIvHTH4cXMyvaxI1E0G4xhyVY7mbTmgx_wQolX6LU9WYRJY-ScCgmlkgnY0gmlwhKwSYtuKbXVsdGlhZGRyc5YACASsEmLbBkIRAAoErBJi2wZCEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEComs_-0nDL6ac6gCNO2m1sUrPi3rlBqXs1fh70IGKNVWDdGNwgkIRg3VkcIJCE4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-27_04-18-48__cd471b36-1f28-43e2-9c68-659822c82a12__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.178.232
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21443', '21444', '21445', '21446', '21447']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21443:21443 -p 21444:21444 -p 21445:21445 -p 21446:21446 -p 21447:21447 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21445 --rest-port=21443 --tcp-port=21444 --discv5-udp-port=21446 --rest-address=0.0.0.0 --nat=extip:172.18.178.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbdb2e5fe675a8cad5caadfcc5eb9ad9accd7b982a5b84bddbec648cdab9b38e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21447 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEvAzVCoHd32gsUAWdqtLmpm_vNG9ewId-0g5vIvHTH4cXMyvaxI1E0G4xhyVY7mbTmgx_wQolX6LU9WYRJY-ScCgmlkgnY0gmlwhKwSYtuKbXVsdGlhZGRyc5YACASsEmLbBkIRAAoErBJi2wZCEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEComs_-0nDL6ac6gCNO2m1sUrPi3rlBqXs1fh70IGKNVWDdGNwgkIRg3VkcIJCE4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.178.232 waku 2e0b5a59fa79fc70fc1e272eaadda3d6db69bc1ed206755784c61dfb17947238
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2e0b5a59fa79. Setting up logs at ./log/docker/node2_2024-11-27_04-18-48__cd471b36-1f28-43e2-9c68-659822c82a12__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 21443
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21443/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21443/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.178.232/tcp/21444/p2p/16Uiu2HAm4wuHoSXQHHfMFKQsgx39Z7iFbieKtj3pCSwAgf9p4BvS","/ip4/172.18.178.232/tcp/21445/ws/p2p/16Uiu2HAm4wuHoSXQHHfMFKQsgx39Z7iFbieKtj3pCSwAgf9p4BvS"],"enrUri":"enr:-L24QGw96VCqx7TI5EZd2ieHX32PF-nhpq7MiPh1xk6AJ0jTXya3nYt9adNPIqz3ItcrCp-93u43dwXFP-IIwCkG47UCgmlkgnY0gmlwhKwSsuiKbXVsdGlhZGRyc5YACASsErLoBlPEAAoErBKy6AZTxd0DgnJzhQADAQAAiXNlY3AyNTZrMaECjXeoJVwrFQuIRVW7eLv7P5_N3-QKLf34SDQlkqs-6OuDdGNwglPEg3VkcIJTxoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21443/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.98.219/tcp/16913/p2p/16Uiu2HAm6Mgsxcn7q7Zk42oURJQwyNdWPrAvB8rDuq8tWLMryYLU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-27_04-18-48__cd471b36-1f28-43e2-9c68-659822c82a12__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.146.110
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48242', '48243', '48244', '48245', '48246']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48242:48242 -p 48243:48243 -p 48244:48244 -p 48245:48245 -p 48246:48246 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48244 --rest-port=48242 --tcp-port=48243 --discv5-udp-port=48245 --rest-address=0.0.0.0 --nat=extip:172.18.146.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=342badff7f8bbca9da8c4fef3aca4ade63ee3cfbbac8eb748d4bb69fffc5c680 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48246 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEvAzVCoHd32gsUAWdqtLmpm_vNG9ewId-0g5vIvHTH4cXMyvaxI1E0G4xhyVY7mbTmgx_wQolX6LU9WYRJY-ScCgmlkgnY0gmlwhKwSYtuKbXVsdGlhZGRyc5YACASsEmLbBkIRAAoErBJi2wZCEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEComs_-0nDL6ac6gCNO2m1sUrPi3rlBqXs1fh70IGKNVWDdGNwgkIRg3VkcIJCE4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.146.110 waku 65e7914720c2de13565d48ff4d90bc22f9c44251df58bf07b5b8097f4c900115
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 65e7914720c2. Setting up logs at ./log/docker/node3_2024-11-27_04-18-48__cd471b36-1f28-43e2-9c68-659822c82a12__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 48242
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48242/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48242/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.110/tcp/48243/p2p/16Uiu2HAmM3tuMdoUQ9mJWkzmtPdLRmHYg94dZYEqAUKhYNr9EHyQ","/ip4/172.18.146.110/tcp/48244/ws/p2p/16Uiu2HAmM3tuMdoUQ9mJWkzmtPdLRmHYg94dZYEqAUKhYNr9EHyQ"],"enrUri":"enr:-L24QIpW-fsa8U1OAMoKmoqQObBk7_fPOjPcQXixnt5cxF27Sdd4l_p27eN0N9Oah2oL_vcAO_FIvYT_v58xnIKtb3ACgmlkgnY0gmlwhKwSkm6KbXVsdGlhZGRyc5YACASsEpJuBrxzAAoErBKSbga8dN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDfLux50AH9Ij1zVvqGffMJ54ZBeeu7qHumoEp_23YV--DdGNwgrxzg3VkcIK8dYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48242/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.98.219/tcp/16913/p2p/16Uiu2HAm6Mgsxcn7q7Zk42oURJQwyNdWPrAvB8rDuq8tWLMryYLU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-27_04-18-48__cd471b36-1f28-43e2-9c68-659822c82a12__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.130.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32402', '32403', '32404', '32405', '32406']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32402:32402 -p 32403:32403 -p 32404:32404 -p 32405:32405 -p 32406:32406 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32404 --rest-port=32402 --tcp-port=32403 --discv5-udp-port=32405 --rest-address=0.0.0.0 --nat=extip:172.18.130.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6a8fb1398125a35fefec5edb3c8b1d9e7945ef5c397ebf539cb221d5b70d4c2e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32406 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEvAzVCoHd32gsUAWdqtLmpm_vNG9ewId-0g5vIvHTH4cXMyvaxI1E0G4xhyVY7mbTmgx_wQolX6LU9WYRJY-ScCgmlkgnY0gmlwhKwSYtuKbXVsdGlhZGRyc5YACASsEmLbBkIRAAoErBJi2wZCEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEComs_-0nDL6ac6gCNO2m1sUrPi3rlBqXs1fh70IGKNVWDdGNwgkIRg3VkcIJCE4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.130.167 waku b07ea76a6247fd2f13d4ebfba1ae1d5816cd938e715dab5599ff9f4b89496352
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b07ea76a6247. Setting up logs at ./log/docker/node4_2024-11-27_04-18-48__cd471b36-1f28-43e2-9c68-659822c82a12__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 32402
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32402/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32402/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.130.167/tcp/32403/p2p/16Uiu2HAmEhLnM8qmmzr8tSwqpB7AuSHe7obDon1bdjstRCpWniXo","/ip4/172.18.130.167/tcp/32404/ws/p2p/16Uiu2HAmEhLnM8qmmzr8tSwqpB7AuSHe7obDon1bdjstRCpWniXo"],"enrUri":"enr:-L24QFp1_KrqL6vn-RRznJ2iOaXP5mQuvAXsKWy8QJRgKSfdHbM1RePDCfnlya48NQfMr2rPMxFQDZWYXFW1vgA9z18CgmlkgnY0gmlwhKwSgqeKbXVsdGlhZGRyc5YACASsEoKnBn6TAAoErBKCpwZ-lN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDHlGjVxohs6JGCF44CQjkNQY9Q7OJX0eCD0b8OedC_baDdGNwgn6Tg3VkcIJ-lYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32402/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.98.219/tcp/16913/p2p/16Uiu2HAm6Mgsxcn7q7Zk42oURJQwyNdWPrAvB8rDuq8tWLMryYLU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-27_04-18-48__cd471b36-1f28-43e2-9c68-659822c82a12__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.63.78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7053', '7054', '7055', '7056', '7057']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7053:7053 -p 7054:7054 -p 7055:7055 -p 7056:7056 -p 7057:7057 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7055 --rest-port=7053 --tcp-port=7054 --discv5-udp-port=7056 --rest-address=0.0.0.0 --nat=extip:172.18.63.78 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ec01edd2ba29a8bcca37c4cceb0dbcf5e9549bfc22d236cceec4c43af2d2d2dc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7057 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEvAzVCoHd32gsUAWdqtLmpm_vNG9ewId-0g5vIvHTH4cXMyvaxI1E0G4xhyVY7mbTmgx_wQolX6LU9WYRJY-ScCgmlkgnY0gmlwhKwSYtuKbXVsdGlhZGRyc5YACASsEmLbBkIRAAoErBJi2wZCEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEComs_-0nDL6ac6gCNO2m1sUrPi3rlBqXs1fh70IGKNVWDdGNwgkIRg3VkcIJCE4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.63.78 waku 6e22eb2ad0e5a1116279e1d7fc94718813bfc60cf943a539b7e44ace662b8f6e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6e22eb2ad0e5. Setting up logs at ./log/docker/node5_2024-11-27_04-18-48__cd471b36-1f28-43e2-9c68-659822c82a12__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 7053
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7053/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7053/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.78/tcp/7054/p2p/16Uiu2HAmRpFELfcVbztPot4HvmH7u2FMDkEYkHDKRDATYVJKeGo6","/ip4/172.18.63.78/tcp/7055/ws/p2p/16Uiu2HAmRpFELfcVbztPot4HvmH7u2FMDkEYkHDKRDATYVJKeGo6"],"enrUri":"enr:-L24QAmX7w7LHy_fK4DvBOnUCz8OGZf6YP0zYxNpIxjvCMZqT6PRQk9dC0-O1ro18D6BK2mpxtGzClC6JSW8wg8A__QCgmlkgnY0gmlwhKwSP06KbXVsdGlhZGRyc5YACASsEj9OBhuOAAoErBI_TgYbj90DgnJzhQADAQAAiXNlY3AyNTZrMaEDw4b7fddQ9XLPeuc5_89Cp9n_ApehfuLIzp3OefwJupWDdGNwghuOg3VkcIIbkIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7053/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.98.219/tcp/16913/p2p/16Uiu2HAm6Mgsxcn7q7Zk42oURJQwyNdWPrAvB8rDuq8tWLMryYLU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16912/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21443/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48242/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32402/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7053/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681139081350656,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21443/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681139081350656,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48242/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681139081350656,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32402/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681139081350656,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7053/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681139081350656,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681139212516608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21443/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681139212516608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48242/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681139212516608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32402/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681139212516608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7053/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681139212516608,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 2e0b5a59fa79
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48242/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681141015998976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32402/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681141015998976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7053/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732681141015998976,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 7e3103ad3cef
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2e0b5a59fa79. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 65e7914720c2
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7e3103ad3cef. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id b07ea76a6247
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 65e7914720c2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 6e22eb2ad0e5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b07ea76a6247. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.