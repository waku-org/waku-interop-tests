[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_all_nodes_subscribed_to_the_topic with id: 2024-08-15_04-12-23__dbc0546d-da95-452f-b658-5c3935b9dbbc
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-15_04-12-23__dbc0546d-da95-452f-b658-5c3935b9dbbc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.0.76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['38223', '38224', '38225', '38226', '38227']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 38223:38223 -p 38224:38224 -p 38225:38225 -p 38226:38226 -p 38227:38227 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38225 --rest-port=38223 --tcp-port=38224 --discv5-udp-port=38226 --rest-address=0.0.0.0 --nat=extip:172.18.0.76 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38227 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.0.76 waku 1f69b35f66fcd8147e64e4271fd65f987c35dc9b13009a986b382685c27e5c45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1f69b35f66fc. Setting up logs at ./log/docker/node1_2024-08-15_04-12-23__dbc0546d-da95-452f-b658-5c3935b9dbbc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 38223
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38223/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38223/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.76/tcp/38224/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.0.76/tcp/38225/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QDCzLGUbkq0fb60HuEspb8EFlHq2gejQiiunGxLw663BNeSfS3KYGBtGsy7jIn3MKJR-mVuHkdQIWUqABSplRFUBgmlkgnY0gmlwhKwSAEyKbXVsdGlhZGRyc4wACgSsEgBMBpVR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClVCDdWRwgpVShXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-15_04-12-23__dbc0546d-da95-452f-b658-5c3935b9dbbc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.145.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['56670', '56671', '56672', '56673', '56674']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 56670:56670 -p 56671:56671 -p 56672:56672 -p 56673:56673 -p 56674:56674 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56672 --rest-port=56670 --tcp-port=56671 --discv5-udp-port=56673 --rest-address=0.0.0.0 --nat=extip:172.18.145.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56674 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDCzLGUbkq0fb60HuEspb8EFlHq2gejQiiunGxLw663BNeSfS3KYGBtGsy7jIn3MKJR-mVuHkdQIWUqABSplRFUBgmlkgnY0gmlwhKwSAEyKbXVsdGlhZGRyc4wACgSsEgBMBpVR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClVCDdWRwgpVShXdha3UyBQ --filternode=/ip4/172.18.0.76/tcp/38224/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.145.139 waku 8600e8cb5e022a08e0acbcd4af2621033348208c06fbd2c8d3b13ffd4d29e4fa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8600e8cb5e02. Setting up logs at ./log/docker/node2_2024-08-15_04-12-23__dbc0546d-da95-452f-b658-5c3935b9dbbc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 56670
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56670/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56670/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.145.139/tcp/56671/p2p/16Uiu2HAm6KQHwSYAFNBoF2mjceZzkqqwqQT9Zkyw9icVPRcv2MQe","/ip4/172.18.145.139/tcp/56672/ws/p2p/16Uiu2HAm6KQHwSYAFNBoF2mjceZzkqqwqQT9Zkyw9icVPRcv2MQe"],"enrUri":"enr:-LO4QHjjgWE8MjMQr-k7LFQoQ5mszyl1EmJi-mrCvLcowD2-OY_4Z1qOg8j6ZXD3nTvXYaCcscmyCxZgXiJLfllybJ8BgmlkgnY0gmlwhKwSkYuKbXVsdGlhZGRyc4wACgSsEpGLBt1g3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKh1VV162xw8sAUZT2vepkudxOmmRT3pkByAwXYL4hag4N0Y3CC3V-DdWRwgt1hhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56670/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.0.76/tcp/38224/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node3_2024-08-15_04-12-23__dbc0546d-da95-452f-b658-5c3935b9dbbc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.17.113
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['6696', '6697', '6698', '6699', '6700']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 6696:6696 -p 6697:6697 -p 6698:6698 -p 6699:6699 -p 6700:6700 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6698 --rest-port=6696 --tcp-port=6697 --discv5-udp-port=6699 --rest-address=0.0.0.0 --nat=extip:172.18.17.113 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6700 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDCzLGUbkq0fb60HuEspb8EFlHq2gejQiiunGxLw663BNeSfS3KYGBtGsy7jIn3MKJR-mVuHkdQIWUqABSplRFUBgmlkgnY0gmlwhKwSAEyKbXVsdGlhZGRyc4wACgSsEgBMBpVR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClVCDdWRwgpVShXdha3UyBQ --filternode=/ip4/172.18.0.76/tcp/38224/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.17.113 waku bf9fb75f987a1c7fee8074c41313ce9b0d223e4b946c23e7338c9f67fcfbfd38
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID bf9fb75f987a. Setting up logs at ./log/docker/node3_2024-08-15_04-12-23__dbc0546d-da95-452f-b658-5c3935b9dbbc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 6696
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6696/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6696/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.17.113/tcp/6697/p2p/16Uiu2HAkuhBuSghj55XTPXhjygkeHCCRNcEcn8xbeHDK7fCh77ou","/ip4/172.18.17.113/tcp/6698/ws/p2p/16Uiu2HAkuhBuSghj55XTPXhjygkeHCCRNcEcn8xbeHDK7fCh77ou"],"enrUri":"enr:-LO4QBeQhhe6S_CUwqLbaLKn8XcD05yX56nLyCR6_Ecq9a0-MCznV5AoP7hI6wNl8NqNirOfL9V0o9_FkQaHpL149Y4BgmlkgnY0gmlwhKwSEXGKbXVsdGlhZGRyc4wACgSsEhFxBhoq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQID-Yxm1eyP7nwu4N5tw-_KgEnoT_KePqNrJ7ZvPmUNSIN0Y3CCGimDdWRwghorhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6696/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.0.76/tcp/38224/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node4_2024-08-15_04-12-23__dbc0546d-da95-452f-b658-5c3935b9dbbc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.224.168
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['13291', '13292', '13293', '13294', '13295']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 13291:13291 -p 13292:13292 -p 13293:13293 -p 13294:13294 -p 13295:13295 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13293 --rest-port=13291 --tcp-port=13292 --discv5-udp-port=13294 --rest-address=0.0.0.0 --nat=extip:172.18.224.168 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13295 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDCzLGUbkq0fb60HuEspb8EFlHq2gejQiiunGxLw663BNeSfS3KYGBtGsy7jIn3MKJR-mVuHkdQIWUqABSplRFUBgmlkgnY0gmlwhKwSAEyKbXVsdGlhZGRyc4wACgSsEgBMBpVR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClVCDdWRwgpVShXdha3UyBQ --filternode=/ip4/172.18.0.76/tcp/38224/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.224.168 waku ae6891ca821801e925b64013e2f25565c5667f7a952d604afd92aa095b04ed46
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID ae6891ca8218. Setting up logs at ./log/docker/node4_2024-08-15_04-12-23__dbc0546d-da95-452f-b658-5c3935b9dbbc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 13291
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13291/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13291/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.224.168/tcp/13292/p2p/16Uiu2HAmAZLNRoxbh9NCmGi3ESLoJ4Cn8vkp7vzAVwJGPd1TNEHu","/ip4/172.18.224.168/tcp/13293/ws/p2p/16Uiu2HAmAZLNRoxbh9NCmGi3ESLoJ4Cn8vkp7vzAVwJGPd1TNEHu"],"enrUri":"enr:-LO4QG21OxZYhoIbtAFzCKsYgIhlHEKcwzekUr7xBj7szWwue7Y8vMKz3oB-PIqhZr5dGOkw4DQz8XiFb3033I77zd0BgmlkgnY0gmlwhKwS4KiKbXVsdGlhZGRyc4wACgSsEuCoBjPt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLg1ccOaOuwi73o550dB5l3E_xyELJ5pYkWQrDwJ1zAkIN0Y3CCM-yDdWRwgjPuhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13291/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.0.76/tcp/38224/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node5_2024-08-15_04-12-23__dbc0546d-da95-452f-b658-5c3935b9dbbc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.66.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['43614', '43615', '43616', '43617', '43618']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 43614:43614 -p 43615:43615 -p 43616:43616 -p 43617:43617 -p 43618:43618 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43616 --rest-port=43614 --tcp-port=43615 --discv5-udp-port=43617 --rest-address=0.0.0.0 --nat=extip:172.18.66.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43618 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDCzLGUbkq0fb60HuEspb8EFlHq2gejQiiunGxLw663BNeSfS3KYGBtGsy7jIn3MKJR-mVuHkdQIWUqABSplRFUBgmlkgnY0gmlwhKwSAEyKbXVsdGlhZGRyc4wACgSsEgBMBpVR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClVCDdWRwgpVShXdha3UyBQ --filternode=/ip4/172.18.0.76/tcp/38224/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.66.246 waku 6ddbb401c7d0b9163c8d739658dced5a49479b6c35d11b78fc8390a1fbc7423d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6ddbb401c7d0. Setting up logs at ./log/docker/node5_2024-08-15_04-12-23__dbc0546d-da95-452f-b658-5c3935b9dbbc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 43614
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43614/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43614/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.66.246/tcp/43615/p2p/16Uiu2HAmPz6idt7rChBYXbk3wZNz6k6Xvw12ifpjPe3TgmXVDmGc","/ip4/172.18.66.246/tcp/43616/ws/p2p/16Uiu2HAmPz6idt7rChBYXbk3wZNz6k6Xvw12ifpjPe3TgmXVDmGc"],"enrUri":"enr:-LO4QLr_OzCqAd3PFiCVnCG-h2NGFVVxVhQXLJo6DIrU-6JPBwyth5FOCKsBaA6KoN3Ab0hFAg0o7bIarkyTnvPZc-8BgmlkgnY0gmlwhKwSQvaKbXVsdGlhZGRyc4wACgSsEkL2Bqpg3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOoVcq8cer6DXpF-SAX2WYw8kAFNLHVukSQCj0RnUk0mYN0Y3CCql-DdWRwgqphhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43614/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.0.76/tcp/38224/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38223/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56670/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "675693ed-7bd3-4657-b06e-66f8820f78d4", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"675693ed-7bd3-4657-b06e-66f8820f78d4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6696/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "015f690e-0135-4fc7-b202-33b197379705", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"015f690e-0135-4fc7-b202-33b197379705","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13291/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9f1aa8d5-dce1-46ba-827e-067c30e40e98", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9f1aa8d5-dce1-46ba-827e-067c30e40e98","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43614/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0e3e1dd2-b9aa-492c-a324-f5c904206e56", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0e3e1dd2-b9aa-492c-a324-f5c904206e56","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38223/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56670/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1723695151390718464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6696/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1723695151390718464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13291/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1723695151390718464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43614/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1723695151390718464,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 1f69b35f66fc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 8600e8cb5e02
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id bf9fb75f987a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id ae6891ca8218
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 6ddbb401c7d0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.