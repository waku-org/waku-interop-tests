[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.43.238
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36688', '36689', '36690', '36691', '36692']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36688:36688 -p 36689:36689 -p 36690:36690 -p 36691:36691 -p 36692:36692 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36690 --rest-port=36688 --tcp-port=36689 --discv5-udp-port=36691 --rest-address=0.0.0.0 --nat=extip:172.18.43.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f93dd4f077de6aa28f821ac273bcf5014fae5f847dcc066b962136b7dcaaac8a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36692 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.43.238 waku 14125121ca200a01cc66306d34ca5cffa80c4ca60e2aaa9c189b2a98ab9d935e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 14125121ca20. Setting up logs at ./log/docker/receiving_node1_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36688
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36688/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36688/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.43.238/tcp/36689/p2p/16Uiu2HAmAfT1o4sUKJZud3krpw18dBtBF4dBxK8Z33ChnRdX1YpZ","/ip4/172.18.43.238/tcp/36690/ws/p2p/16Uiu2HAmAfT1o4sUKJZud3krpw18dBtBF4dBxK8Z33ChnRdX1YpZ"],"enrUri":"enr:-LO4QKyY0hCcCHMGcfIxl1cWckZH6gHYD6QEYKDx6StJ56oOAjDihsLa4Ed8Z_iESvCC2l_ZNT0DiZ1a8GxXMXl7ndcBgmlkgnY0gmlwhKwSK-6KbXVsdGlhZGRyc4wACgSsEivuBo9S3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLiZsZsqTdyriRyRvEGC2Gf9RZYMibrPKguSzUzZtBhAoN0Y3CCj1GDdWRwgo9ThXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.212.38
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62400', '62401', '62402', '62403', '62404']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62400:62400 -p 62401:62401 -p 62402:62402 -p 62403:62403 -p 62404:62404 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62402 --rest-port=62400 --tcp-port=62401 --discv5-udp-port=62403 --rest-address=0.0.0.0 --nat=extip:172.18.212.38 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d0f63db40a94fc003b1cc1aaf4abecdcd27c431defecfe8312ecccb7a87cbda3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62404 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.212.38 waku 2dd5690b05e711a937fadbe3a302626cf769434513ea0537651a8c032f7828b8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2dd5690b05e7. Setting up logs at ./log/docker/receiving_node2_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62400
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62400/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62400/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.38/tcp/62401/p2p/16Uiu2HAm6ddoUoPRaGqmh6wcmsJ3EDQosPXVEyWwsYQDb7DGRhca","/ip4/172.18.212.38/tcp/62402/ws/p2p/16Uiu2HAm6ddoUoPRaGqmh6wcmsJ3EDQosPXVEyWwsYQDb7DGRhca"],"enrUri":"enr:-LO4QE00BHmPVJLREETyP3hcMTEpJqA9aCyqlRhGWUyc9WTFIBF0l9BylLIHxDXIJ49esYN28cF-sQnDyW-ibDk0irUBgmlkgnY0gmlwhKwS1CaKbXVsdGlhZGRyc4wACgSsEtQmBvPC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKmgRA9JonRt1xsN7vQMURWb7oZO9e5WqXUu3V32QXpX4N0Y3CC88GDdWRwgvPDhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62400/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.43.238/tcp/36689/p2p/16Uiu2HAmAfT1o4sUKJZud3krpw18dBtBF4dBxK8Z33ChnRdX1YpZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.151.192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['17175', '17176', '17177', '17178', '17179']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 17175:17175 -p 17176:17176 -p 17177:17177 -p 17178:17178 -p 17179:17179 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17177 --rest-port=17175 --tcp-port=17176 --discv5-udp-port=17178 --rest-address=0.0.0.0 --nat=extip:172.18.151.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b7d8bbafc779339ed3cbe2a6f5a14e2cbdedf066a91dfacbe2eb1bbdfa41e47b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17179 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKyY0hCcCHMGcfIxl1cWckZH6gHYD6QEYKDx6StJ56oOAjDihsLa4Ed8Z_iESvCC2l_ZNT0DiZ1a8GxXMXl7ndcBgmlkgnY0gmlwhKwSK-6KbXVsdGlhZGRyc4wACgSsEivuBo9S3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLiZsZsqTdyriRyRvEGC2Gf9RZYMibrPKguSzUzZtBhAoN0Y3CCj1GDdWRwgo9ThXdha3UyCQ --lightpushnode=/ip4/172.18.43.238/tcp/36689/p2p/16Uiu2HAmAfT1o4sUKJZud3krpw18dBtBF4dBxK8Z33ChnRdX1YpZ --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.151.192 waku d4e5f87c00bf852d13c12036b7f71be579546727fdd6d36998f28063ee8bef49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d4e5f87c00bf. Setting up logs at ./log/docker/lightpush_node1_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 17175
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17175/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17175/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.151.192/tcp/17176/p2p/16Uiu2HAmBn5CBW3Ty1z6mUEP6hFi8ERtriaegkJB1xLSTRLMEptK","/ip4/172.18.151.192/tcp/17177/ws/p2p/16Uiu2HAmBn5CBW3Ty1z6mUEP6hFi8ERtriaegkJB1xLSTRLMEptK"],"enrUri":"enr:-LO4QBYEzgnvQbg51PEf9iwGWMVRvK4kFIDlxIwECENyZHinf70CWB2TMMgyFgKFTq3epYsTIJxFFqrnfvp8ttqZ1gUBgmlkgnY0gmlwhKwSl8CKbXVsdGlhZGRyc4wACgSsEpfABkMZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLy9NrNUvZxQmaLDXWmtW4K-WCILtU5i5dWBEUmVN8TZIN0Y3CCQxiDdWRwgkMahXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17175/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.43.238/tcp/36689/p2p/16Uiu2HAmAfT1o4sUKJZud3krpw18dBtBF4dBxK8Z33ChnRdX1YpZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17175/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.38/tcp/62401/p2p/16Uiu2HAm6ddoUoPRaGqmh6wcmsJ3EDQosPXVEyWwsYQDb7DGRhca"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.11.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['13720', '13721', '13722', '13723', '13724']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 13720:13720 -p 13721:13721 -p 13722:13722 -p 13723:13723 -p 13724:13724 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13722 --rest-port=13720 --tcp-port=13721 --discv5-udp-port=13723 --rest-address=0.0.0.0 --nat=extip:172.18.11.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbabb436c38e546c325bad405bbfe0946adede672b36a7a0e8c66bbdfe682cde --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13724 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKyY0hCcCHMGcfIxl1cWckZH6gHYD6QEYKDx6StJ56oOAjDihsLa4Ed8Z_iESvCC2l_ZNT0DiZ1a8GxXMXl7ndcBgmlkgnY0gmlwhKwSK-6KbXVsdGlhZGRyc4wACgSsEivuBo9S3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLiZsZsqTdyriRyRvEGC2Gf9RZYMibrPKguSzUzZtBhAoN0Y3CCj1GDdWRwgo9ThXdha3UyCQ --lightpushnode=/ip4/172.18.43.238/tcp/36689/p2p/16Uiu2HAmAfT1o4sUKJZud3krpw18dBtBF4dBxK8Z33ChnRdX1YpZ --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.11.201 waku e83701d3cc1f143b01f7b387c2c2b7cbeb3c3237c6abfbdd2e16565234bf600e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e83701d3cc1f. Setting up logs at ./log/docker/lightpush_node2_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 13720
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13720/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13720/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.201/tcp/13721/p2p/16Uiu2HAmG8z85nQbUFzawGQ3rXuG13C8AmM7cGfXWbqBr7d3DnhG","/ip4/172.18.11.201/tcp/13722/ws/p2p/16Uiu2HAmG8z85nQbUFzawGQ3rXuG13C8AmM7cGfXWbqBr7d3DnhG"],"enrUri":"enr:-LO4QCssSZXbx7OhTNPcCZ7j-NKU5V1MTaGUaJr1c7Cy7wgySC4Ecmp7bHoWynCu8th_S83iXiDV6aS02gomYBTBSNIBgmlkgnY0gmlwhKwSC8mKbXVsdGlhZGRyc4wACgSsEgvJBjWa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMzvxDjitWXbNBxkXOfVVS5baxdw-oEMM73ESRp7enY84N0Y3CCNZmDdWRwgjWbhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13720/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.43.238/tcp/36689/p2p/16Uiu2HAmAfT1o4sUKJZud3krpw18dBtBF4dBxK8Z33ChnRdX1YpZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13720/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.38/tcp/62401/p2p/16Uiu2HAm6ddoUoPRaGqmh6wcmsJ3EDQosPXVEyWwsYQDb7DGRhca"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.240.28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40659', '40660', '40661', '40662', '40663']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40659:40659 -p 40660:40660 -p 40661:40661 -p 40662:40662 -p 40663:40663 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40661 --rest-port=40659 --tcp-port=40660 --discv5-udp-port=40662 --rest-address=0.0.0.0 --nat=extip:172.18.240.28 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=32fd68127fc5ac3c31aad80dbf9d14f6357e1eb0de8fdefb1050cdf2fb7ca1bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40663 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKyY0hCcCHMGcfIxl1cWckZH6gHYD6QEYKDx6StJ56oOAjDihsLa4Ed8Z_iESvCC2l_ZNT0DiZ1a8GxXMXl7ndcBgmlkgnY0gmlwhKwSK-6KbXVsdGlhZGRyc4wACgSsEivuBo9S3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLiZsZsqTdyriRyRvEGC2Gf9RZYMibrPKguSzUzZtBhAoN0Y3CCj1GDdWRwgo9ThXdha3UyCQ --lightpushnode=/ip4/172.18.43.238/tcp/36689/p2p/16Uiu2HAmAfT1o4sUKJZud3krpw18dBtBF4dBxK8Z33ChnRdX1YpZ --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.240.28 waku 6741d52f4b131c0a0bca19d47efc859f1318949cabe344da1cbfacb5f349acd1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6741d52f4b13. Setting up logs at ./log/docker/lightpush_node3_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40659
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40659/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40659/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.28/tcp/40660/p2p/16Uiu2HAm3ZQy2w1dBGEKMbLPdVyHJz2ovHA1hmnjX4GnHYkjbA4K","/ip4/172.18.240.28/tcp/40661/ws/p2p/16Uiu2HAm3ZQy2w1dBGEKMbLPdVyHJz2ovHA1hmnjX4GnHYkjbA4K"],"enrUri":"enr:-LO4QCw-bGgzkbBpxZPchgSgHhYuNYC2aMPJZtB3yQ0ZcK69JzzlRTFrz-t8rqLRVW6szslLI-y-8PL1YbAGB7ZWu8sBgmlkgnY0gmlwhKwS8ByKbXVsdGlhZGRyc4wACgSsEvAcBp7V3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ42SqhX3s0DsReb9mAysRr7tlf6xYUM76-hjiJMzMvlIN0Y3CCntSDdWRwgp7WhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40659/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.43.238/tcp/36689/p2p/16Uiu2HAmAfT1o4sUKJZud3krpw18dBtBF4dBxK8Z33ChnRdX1YpZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40659/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.38/tcp/62401/p2p/16Uiu2HAm6ddoUoPRaGqmh6wcmsJ3EDQosPXVEyWwsYQDb7DGRhca"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.222.131
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['11451', '11452', '11453', '11454', '11455']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 11451:11451 -p 11452:11452 -p 11453:11453 -p 11454:11454 -p 11455:11455 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11453 --rest-port=11451 --tcp-port=11452 --discv5-udp-port=11454 --rest-address=0.0.0.0 --nat=extip:172.18.222.131 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5bf6cdd020aeaeb003894e6fdbebdf1b49d0cfe9aad1d9bfcc2bf9fa3b63b7a7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11455 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKyY0hCcCHMGcfIxl1cWckZH6gHYD6QEYKDx6StJ56oOAjDihsLa4Ed8Z_iESvCC2l_ZNT0DiZ1a8GxXMXl7ndcBgmlkgnY0gmlwhKwSK-6KbXVsdGlhZGRyc4wACgSsEivuBo9S3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLiZsZsqTdyriRyRvEGC2Gf9RZYMibrPKguSzUzZtBhAoN0Y3CCj1GDdWRwgo9ThXdha3UyCQ --lightpushnode=/ip4/172.18.43.238/tcp/36689/p2p/16Uiu2HAmAfT1o4sUKJZud3krpw18dBtBF4dBxK8Z33ChnRdX1YpZ --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.222.131 waku c039b2cdeab147013707b9cac6fde49bb1908313b61f101288b44675f845d389
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c039b2cdeab1. Setting up logs at ./log/docker/lightpush_node4_2024-10-06_04-17-47__cec5e9a3-4176-453f-a9da-2ed32e2ce787__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11451
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11451/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11451/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.222.131/tcp/11452/p2p/16Uiu2HAmVjqSKZEXNvoDTQuyJncgGjh8yTe6gyZL4mfuejd5VEoq","/ip4/172.18.222.131/tcp/11453/ws/p2p/16Uiu2HAmVjqSKZEXNvoDTQuyJncgGjh8yTe6gyZL4mfuejd5VEoq"],"enrUri":"enr:-LO4QAM5xZCkHxltIhJ5cbKsDW7M_kam4C8FVru_mu2PpRHPIZ9FLke7iPiE3C45buiKTBGVJwU-qKYlltLqeCkYKK4BgmlkgnY0gmlwhKwS3oOKbXVsdGlhZGRyc4wACgSsEt6DBiy93QOCcnOFAAMBAACJc2VjcDI1NmsxoQP91IDnzwbywJIus5UIBm0kjD8D5hm6nNdxwwCGxo5jkIN0Y3CCLLyDdWRwgiy-hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11451/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.43.238/tcp/36689/p2p/16Uiu2HAmAfT1o4sUKJZud3krpw18dBtBF4dBxK8Z33ChnRdX1YpZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11451/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.38/tcp/62401/p2p/16Uiu2HAm6ddoUoPRaGqmh6wcmsJ3EDQosPXVEyWwsYQDb7DGRhca"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36688/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62400/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17175/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728188276024766464}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36688/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728188276024766464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728188276024766464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13720/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728188276146035968}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36688/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728188276146035968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728188276146035968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40659/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728188276262552576}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36688/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728188276262552576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728188276262552576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11451/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728188276377590528}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36688/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728188276377590528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728188276377590528,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 14125121ca20
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2dd5690b05e7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d4e5f87c00bf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e83701d3cc1f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6741d52f4b13
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c039b2cdeab1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.