[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-09-27_04-15-37__582ad754-2241-44f8-9ab1-4045892da846
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-27_04-15-37__582ad754-2241-44f8-9ab1-4045892da846__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.67.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2413', '2414', '2415', '2416', '2417']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2413:2413 -p 2414:2414 -p 2415:2415 -p 2416:2416 -p 2417:2417 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2415 --rest-port=2413 --tcp-port=2414 --discv5-udp-port=2416 --rest-address=0.0.0.0 --nat=extip:172.18.67.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fc1c7f3c3ab7b3ed39e63e364a53ef06aaaac4abbdd9bae04f7efe399a2dad77 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2417 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.163.44
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['45962', '45963', '45964', '45965', '45966']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 45962:45962 -p 45963:45963 -p 45964:45964 -p 45965:45965 -p 45966:45966 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45964 --rest-port=45962 --tcp-port=45963 --discv5-udp-port=45965 --rest-address=0.0.0.0 --nat=extip:172.18.163.44 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a8e669fafa5bb1b6c46df234d5b3d15c0bfb2d5f81ed6e62cbb08586cf9716fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45966 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.163.44 waku 9904c4e3218b11ef0fa29d5dee5946f7b4f68ce4a1e8d8a5e9d45163fd8a5552
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9904c4e3218b. Setting up logs at ./log/docker/node1_2024-09-27_04-15-37__582ad754-2241-44f8-9ab1-4045892da846__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 45962
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45962/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45962/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.163.44/tcp/45963/p2p/16Uiu2HAmFC7cEz6YxpWvSdUUi9NQMNFZndq2t15hb5GyXsZXTX5t","/ip4/172.18.163.44/tcp/45964/ws/p2p/16Uiu2HAmFC7cEz6YxpWvSdUUi9NQMNFZndq2t15hb5GyXsZXTX5t"],"enrUri":"enr:-LO4QI2p8_Op3OktTv0nnOJZKa1vXNi4tmeDtYePSBelQygeYKRABbDxUL6HdKnm3zz3YacUPxAp3-1fZkVshIRlSe4BgmlkgnY0gmlwhKwSoyyKbXVsdGlhZGRyc4wACgSsEqMsBrOM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMlsJXZW0N_eMPQX5znnthFvDpRb-uERqJy1jhGkR8gw4N0Y3CCs4uDdWRwgrONhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-27_04-15-37__582ad754-2241-44f8-9ab1-4045892da846__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.51.21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['9552', '9553', '9554', '9555', '9556']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 9552:9552 -p 9553:9553 -p 9554:9554 -p 9555:9555 -p 9556:9556 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9554 --rest-port=9552 --tcp-port=9553 --discv5-udp-port=9555 --rest-address=0.0.0.0 --nat=extip:172.18.51.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=db78aadae5c1220f32d0e6d40ebe6a7ecbe1f4df4feb6ddeaabbc1cb1dccd0fe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9556 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QI2p8_Op3OktTv0nnOJZKa1vXNi4tmeDtYePSBelQygeYKRABbDxUL6HdKnm3zz3YacUPxAp3-1fZkVshIRlSe4BgmlkgnY0gmlwhKwSoyyKbXVsdGlhZGRyc4wACgSsEqMsBrOM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMlsJXZW0N_eMPQX5znnthFvDpRb-uERqJy1jhGkR8gw4N0Y3CCs4uDdWRwgrONhXdha3UyBQ --filternode=/ip4/172.18.163.44/tcp/45963/p2p/16Uiu2HAmFC7cEz6YxpWvSdUUi9NQMNFZndq2t15hb5GyXsZXTX5t
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.51.21 waku fc3c5c364f9ea027d645a5784c72371ab8440314fc41dc9d3da5825277946290
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fc3c5c364f9e. Setting up logs at ./log/docker/node2_2024-09-27_04-15-37__582ad754-2241-44f8-9ab1-4045892da846__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9552
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9552/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9552/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.21/tcp/9553/p2p/16Uiu2HAkyLuDVsHhfR56YRj3rw9j3KvvtwjEo87GgnEnG6tXP4n8","/ip4/172.18.51.21/tcp/9554/ws/p2p/16Uiu2HAkyLuDVsHhfR56YRj3rw9j3KvvtwjEo87GgnEnG6tXP4n8"],"enrUri":"enr:-LO4QGM0I2kzTxUxc0XR1JKI51XlHJ-YAsqwF3lqjRFisuxnM7RYZMiKc_BgnBpw-d0fk_NR-K8r4bQJiZInJRxVGWsBgmlkgnY0gmlwhKwSMxWKbXVsdGlhZGRyc4wACgSsEjMVBiVS3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI6Nc9bJMz9PkA36IGMNsaCOWnIjSzaULqnOYv_-fk_lYN0Y3CCJVGDdWRwgiVThXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9552/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.163.44/tcp/45963/p2p/16Uiu2HAmFC7cEz6YxpWvSdUUi9NQMNFZndq2t15hb5GyXsZXTX5t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-27_04-15-37__582ad754-2241-44f8-9ab1-4045892da846__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.231.64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16686', '16687', '16688', '16689', '16690']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16686:16686 -p 16687:16687 -p 16688:16688 -p 16689:16689 -p 16690:16690 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16688 --rest-port=16686 --tcp-port=16687 --discv5-udp-port=16689 --rest-address=0.0.0.0 --nat=extip:172.18.231.64 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1afbad4cc1da84c1e223b1eb84940e74a68e5ae6d17e61ac29156be7a6f12bb4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16690 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QI2p8_Op3OktTv0nnOJZKa1vXNi4tmeDtYePSBelQygeYKRABbDxUL6HdKnm3zz3YacUPxAp3-1fZkVshIRlSe4BgmlkgnY0gmlwhKwSoyyKbXVsdGlhZGRyc4wACgSsEqMsBrOM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMlsJXZW0N_eMPQX5znnthFvDpRb-uERqJy1jhGkR8gw4N0Y3CCs4uDdWRwgrONhXdha3UyBQ --filternode=/ip4/172.18.163.44/tcp/45963/p2p/16Uiu2HAmFC7cEz6YxpWvSdUUi9NQMNFZndq2t15hb5GyXsZXTX5t
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.231.64 waku 7a6031ea8e2990ac45da4b7873983b0a6bc6fdc7db44ca4cb9e6a8eddb6c4541
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7a6031ea8e29. Setting up logs at ./log/docker/node3_2024-09-27_04-15-37__582ad754-2241-44f8-9ab1-4045892da846__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16686
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16686/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16686/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.231.64/tcp/16687/p2p/16Uiu2HAkuhhvF1paApqoUCxupEyQMSFf5UuwSkMQvRyCiyViGqq4","/ip4/172.18.231.64/tcp/16688/ws/p2p/16Uiu2HAkuhhvF1paApqoUCxupEyQMSFf5UuwSkMQvRyCiyViGqq4"],"enrUri":"enr:-LO4QAfw5ehL0wiV2zPgcA1WdamZxcPKv8yjKdg5oUFtjA4HHRXhr59CLlyQzDd_j2tMZkZ7T-E-RcQj7wr4-60jTD8BgmlkgnY0gmlwhKwS50CKbXVsdGlhZGRyc4wACgSsEudABkEw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIEG3wxH0rpMmcAGit-kCTfF2sFddyFaQsLd6P8AfLei4N0Y3CCQS-DdWRwgkExhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16686/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.163.44/tcp/45963/p2p/16Uiu2HAmFC7cEz6YxpWvSdUUi9NQMNFZndq2t15hb5GyXsZXTX5t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-27_04-15-37__582ad754-2241-44f8-9ab1-4045892da846__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.207.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['35002', '35003', '35004', '35005', '35006']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 35002:35002 -p 35003:35003 -p 35004:35004 -p 35005:35005 -p 35006:35006 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35004 --rest-port=35002 --tcp-port=35003 --discv5-udp-port=35005 --rest-address=0.0.0.0 --nat=extip:172.18.207.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2d1dbbabb35bc4eb7555d17e924f6325a8aba07e84dfe48ccf58d2309bccddd6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35006 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QI2p8_Op3OktTv0nnOJZKa1vXNi4tmeDtYePSBelQygeYKRABbDxUL6HdKnm3zz3YacUPxAp3-1fZkVshIRlSe4BgmlkgnY0gmlwhKwSoyyKbXVsdGlhZGRyc4wACgSsEqMsBrOM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMlsJXZW0N_eMPQX5znnthFvDpRb-uERqJy1jhGkR8gw4N0Y3CCs4uDdWRwgrONhXdha3UyBQ --filternode=/ip4/172.18.163.44/tcp/45963/p2p/16Uiu2HAmFC7cEz6YxpWvSdUUi9NQMNFZndq2t15hb5GyXsZXTX5t
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.207.229 waku 1d0655940a71ea12d47f6b82b7128489b2fe937f49d994e23f0155fcfceb2ea1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1d0655940a71. Setting up logs at ./log/docker/node4_2024-09-27_04-15-37__582ad754-2241-44f8-9ab1-4045892da846__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35002
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35002/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35002/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.207.229/tcp/35003/p2p/16Uiu2HAm6jMifDpSYGcmiQEhoTWpE3Uuh2cTVJLMyTMY7YspEQCe","/ip4/172.18.207.229/tcp/35004/ws/p2p/16Uiu2HAm6jMifDpSYGcmiQEhoTWpE3Uuh2cTVJLMyTMY7YspEQCe"],"enrUri":"enr:-LO4QHyH8GT3wXUXrUUXFF7zvCmPEw-T8ZgaTWmCePNKfS1lVKowxGW6zGYQRgb_v4LSetxYH7gz0ZGc7ieGGf7luOABgmlkgnY0gmlwhKwSz-WKbXVsdGlhZGRyc4wACgSsEs_lBoi83QOCcnOFAAMBAACJc2VjcDI1NmsxoQKn-FzxYYGQkyH6fVMJnPkI6_PYM1Fj8qekNV7-u-mT14N0Y3CCiLuDdWRwgoi9hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35002/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.163.44/tcp/45963/p2p/16Uiu2HAmFC7cEz6YxpWvSdUUi9NQMNFZndq2t15hb5GyXsZXTX5t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-27_04-15-37__582ad754-2241-44f8-9ab1-4045892da846__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.233.197
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20854', '20855', '20856', '20857', '20858']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20854:20854 -p 20855:20855 -p 20856:20856 -p 20857:20857 -p 20858:20858 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20856 --rest-port=20854 --tcp-port=20855 --discv5-udp-port=20857 --rest-address=0.0.0.0 --nat=extip:172.18.233.197 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3cc4bbd7eadeb9741af5d5cc9f829abf3478832ceaa3ed94ae9c17dce6dd7ae1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20858 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QI2p8_Op3OktTv0nnOJZKa1vXNi4tmeDtYePSBelQygeYKRABbDxUL6HdKnm3zz3YacUPxAp3-1fZkVshIRlSe4BgmlkgnY0gmlwhKwSoyyKbXVsdGlhZGRyc4wACgSsEqMsBrOM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMlsJXZW0N_eMPQX5znnthFvDpRb-uERqJy1jhGkR8gw4N0Y3CCs4uDdWRwgrONhXdha3UyBQ --filternode=/ip4/172.18.163.44/tcp/45963/p2p/16Uiu2HAmFC7cEz6YxpWvSdUUi9NQMNFZndq2t15hb5GyXsZXTX5t
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.233.197 waku 5656fa4b89f56766d1a0fdf5a9c06281e89ceb97298eae555e07495594be04f5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5656fa4b89f5. Setting up logs at ./log/docker/node5_2024-09-27_04-15-37__582ad754-2241-44f8-9ab1-4045892da846__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20854
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20854/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20854/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.233.197/tcp/20855/p2p/16Uiu2HAm5jLuNZAZkXJCV197cTSuxbqKUurmZsnBgTA5shiMs7bJ","/ip4/172.18.233.197/tcp/20856/ws/p2p/16Uiu2HAm5jLuNZAZkXJCV197cTSuxbqKUurmZsnBgTA5shiMs7bJ"],"enrUri":"enr:-LO4QFde5DSf2AtbLuEAQj_mMIljc6m6qG-Y4Wg7qvrC28oaGkmsIL_Qo8YtaWg0o25SCk9Kqx7kygWr37J7ll1DwmkBgmlkgnY0gmlwhKwS6cWKbXVsdGlhZGRyc4wACgSsEunFBlF43QOCcnOFAAMBAACJc2VjcDI1NmsxoQKZG8EX2ItWbPmeWPtoCPsHMeStYpG46rqh6qWw_chjTYN0Y3CCUXeDdWRwglF5hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20854/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.163.44/tcp/45963/p2p/16Uiu2HAmFC7cEz6YxpWvSdUUi9NQMNFZndq2t15hb5GyXsZXTX5t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45962/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9552/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8c589fb6-8075-4061-90b4-bd78bc5a2fcd", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8c589fb6-8075-4061-90b4-bd78bc5a2fcd","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16686/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5f48a08f-61ca-4c51-8db4-f9c2aa15edef", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5f48a08f-61ca-4c51-8db4-f9c2aa15edef","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35002/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e5a54f68-73b1-4731-af81-ebc6704ca763", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e5a54f68-73b1-4731-af81-ebc6704ca763","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20854/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "312d07fe-573f-430a-8199-6bf48922f842", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"312d07fe-573f-430a-8199-6bf48922f842","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45962/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9552/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1727410545248161536,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45962/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16686/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:16686/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9904c4e3218b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fc3c5c364f9e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7a6031ea8e29
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1d0655940a71
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5656fa4b89f5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.