[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2024-09-27_04-17-53__cb1bfb35-d3b9-4dcf-b3ef-1b1522a106bd
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-27_04-17-53__cb1bfb35-d3b9-4dcf-b3ef-1b1522a106bd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.189.118
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53205', '53206', '53207', '53208', '53209']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53205:53205 -p 53206:53206 -p 53207:53207 -p 53208:53208 -p 53209:53209 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53207 --rest-port=53205 --tcp-port=53206 --discv5-udp-port=53208 --rest-address=0.0.0.0 --nat=extip:172.18.189.118 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a6e0dfb9d45b5d711d4bf84b0e26eaa91ae4e9a1cafbc09c4fdf40ade63ca89a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53209 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.189.118 waku b3de7132544481ecb75f931710466f4ab2d61a61b328a87e47bb6054bd583ad4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b3de71325444. Setting up logs at ./log/docker/node1_2024-09-27_04-17-53__cb1bfb35-d3b9-4dcf-b3ef-1b1522a106bd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53205
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53205/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53205/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.189.118/tcp/53206/p2p/16Uiu2HAkz23fMiTnKKmEa8iKYEgWWfLj1B1KnFYicy35YfaMiqv6","/ip4/172.18.189.118/tcp/53207/ws/p2p/16Uiu2HAkz23fMiTnKKmEa8iKYEgWWfLj1B1KnFYicy35YfaMiqv6"],"enrUri":"enr:-LO4QAHztG9hOl-Qk_nR1BeplMcgNJJa3mvwbybqYlDa0aGxQil-jfVTB1WiMW13bv2j-ZzeKvt_KNOLY6FjoGGDI6EBgmlkgnY0gmlwhKwSvXaKbXVsdGlhZGRyc4wACgSsEr12Bs_X3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJEPQLkLsSiuyNpKG1I7l_340XHEoZLLZzHPcqxNpYVD4N0Y3CCz9aDdWRwgs_YhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-27_04-17-53__cb1bfb35-d3b9-4dcf-b3ef-1b1522a106bd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.242.241
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['19528', '19529', '19530', '19531', '19532']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 19528:19528 -p 19529:19529 -p 19530:19530 -p 19531:19531 -p 19532:19532 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19530 --rest-port=19528 --tcp-port=19529 --discv5-udp-port=19531 --rest-address=0.0.0.0 --nat=extip:172.18.242.241 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebedfcaec588efb9ac4c90c70b5cbda0f3e1e4be4f3aea10a6bfdb844ba0bb3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19532 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QAHztG9hOl-Qk_nR1BeplMcgNJJa3mvwbybqYlDa0aGxQil-jfVTB1WiMW13bv2j-ZzeKvt_KNOLY6FjoGGDI6EBgmlkgnY0gmlwhKwSvXaKbXVsdGlhZGRyc4wACgSsEr12Bs_X3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJEPQLkLsSiuyNpKG1I7l_340XHEoZLLZzHPcqxNpYVD4N0Y3CCz9aDdWRwgs_YhXdha3UyBQ --filternode=/ip4/172.18.189.118/tcp/53206/p2p/16Uiu2HAkz23fMiTnKKmEa8iKYEgWWfLj1B1KnFYicy35YfaMiqv6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.242.241 waku dbc432dd692bc19965e5eb14d5e817c70aaa49dcf6cecea33eec9313f50e1a06
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID dbc432dd692b. Setting up logs at ./log/docker/node2_2024-09-27_04-17-53__cb1bfb35-d3b9-4dcf-b3ef-1b1522a106bd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 19528
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19528/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19528/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.241/tcp/19529/p2p/16Uiu2HAmE9GYREgbbz7Pic5YaSb1vLVqr4o1RqVqg9L33JCFgjfJ","/ip4/172.18.242.241/tcp/19530/ws/p2p/16Uiu2HAmE9GYREgbbz7Pic5YaSb1vLVqr4o1RqVqg9L33JCFgjfJ"],"enrUri":"enr:-LO4QCPNxFN1rUYVNSsg76D-yOIdAZ68nQR3SZ_WHVNpegTbPbVcePvnnLmQSxWYDHvbg41JQVjOp8yJIMtGp2g3FPABgmlkgnY0gmlwhKwS8vGKbXVsdGlhZGRyc4wACgSsEvLxBkxK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMWGkH-tr7inZmq2e1JdzAGumWShSZRbPmZgzgvYSP4rYN0Y3CCTEmDdWRwgkxLhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19528/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.189.118/tcp/53206/p2p/16Uiu2HAkz23fMiTnKKmEa8iKYEgWWfLj1B1KnFYicy35YfaMiqv6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53205/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19528/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "83f86a4d-1f2a-43c4-bc05-b97d50986509", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"83f86a4d-1f2a-43c4-bc05-b97d50986509","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:19528/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:19528/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b3de71325444
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dbc432dd692b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.