[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2024-09-27_04-16-55__8d9685f6-9154-4ff8-9b9d-8e984852cc09
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-27_04-16-55__8d9685f6-9154-4ff8-9b9d-8e984852cc09__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.105.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36067', '36068', '36069', '36070', '36071']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36067:36067 -p 36068:36068 -p 36069:36069 -p 36070:36070 -p 36071:36071 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36069 --rest-port=36067 --tcp-port=36068 --discv5-udp-port=36070 --rest-address=0.0.0.0 --nat=extip:172.18.105.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e54a8a56e5b7f98baf65c699ceedf7dbd9dbd9b1eeec4f425acf1eba006fdcd9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36071 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.31.133
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['64546', '64547', '64548', '64549', '64550']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 64546:64546 -p 64547:64547 -p 64548:64548 -p 64549:64549 -p 64550:64550 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64548 --rest-port=64546 --tcp-port=64547 --discv5-udp-port=64549 --rest-address=0.0.0.0 --nat=extip:172.18.31.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c7dcfef4f231db77f74bd7afccfe8ba94911957f6a5ced11464eaaeacc27ea3b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64550 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.31.133 waku e1e37fac2c7f3b2c1657554555dcbb6cdc2e7be9d8f3070235495213d2d29e83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e1e37fac2c7f. Setting up logs at ./log/docker/node1_2024-09-27_04-16-55__8d9685f6-9154-4ff8-9b9d-8e984852cc09__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 64546
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64546/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64546/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.31.133/tcp/64547/p2p/16Uiu2HAkugqsS5ybG52cDTjjnZCJ9Lvm3bPxGhxtijn751R2f5ya","/ip4/172.18.31.133/tcp/64548/ws/p2p/16Uiu2HAkugqsS5ybG52cDTjjnZCJ9Lvm3bPxGhxtijn751R2f5ya"],"enrUri":"enr:-LO4QOZPZlrgiyxTtYvRfz-_2_FORvzrE_Ut13kOkXBXxk44RxdTkNRZV0ZLJy2Nga6qtWzei5HXeXA9ahPKvjg8l0QBgmlkgnY0gmlwhKwSH4WKbXVsdGlhZGRyc4wACgSsEh-FBvwk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQID4uUqlXcBm_ira7XWM88NFS4YdE2YnVZWaF6zhTFZYYN0Y3CC_CODdWRwgvwlhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-27_04-16-55__8d9685f6-9154-4ff8-9b9d-8e984852cc09__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.89.138
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['9633', '9634', '9635', '9636', '9637']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 9633:9633 -p 9634:9634 -p 9635:9635 -p 9636:9636 -p 9637:9637 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9635 --rest-port=9633 --tcp-port=9634 --discv5-udp-port=9636 --rest-address=0.0.0.0 --nat=extip:172.18.89.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b1ffdaf4bb717cffb1952aa5cc0ba5fdd8aa13e1ba74ef848ccbf2a6044c9e6b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9637 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOZPZlrgiyxTtYvRfz-_2_FORvzrE_Ut13kOkXBXxk44RxdTkNRZV0ZLJy2Nga6qtWzei5HXeXA9ahPKvjg8l0QBgmlkgnY0gmlwhKwSH4WKbXVsdGlhZGRyc4wACgSsEh-FBvwk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQID4uUqlXcBm_ira7XWM88NFS4YdE2YnVZWaF6zhTFZYYN0Y3CC_CODdWRwgvwlhXdha3UyBQ --filternode=/ip4/172.18.31.133/tcp/64547/p2p/16Uiu2HAkugqsS5ybG52cDTjjnZCJ9Lvm3bPxGhxtijn751R2f5ya
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.89.138 waku d6c83ddd3b5931c6fb01565bcf84ac2fb2d2c6ee31e55d2a12f3e92049ffec0b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d6c83ddd3b59. Setting up logs at ./log/docker/node2_2024-09-27_04-16-55__8d9685f6-9154-4ff8-9b9d-8e984852cc09__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9633
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9633/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9633/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.89.138/tcp/9634/p2p/16Uiu2HAmV67t9L721PyGwjCYxfE7vMx1yvWQ7K1Wb8Fw4ARuCREY","/ip4/172.18.89.138/tcp/9635/ws/p2p/16Uiu2HAmV67t9L721PyGwjCYxfE7vMx1yvWQ7K1Wb8Fw4ARuCREY"],"enrUri":"enr:-LO4QJwIt3nzisqJgviAMD8rRsacJSBlLOTZrO_4hIZ_n5yAP1waEsq-6KkK0p1kgpvCQ7kzZiGWNyZ30PLTYKd-Zt4BgmlkgnY0gmlwhKwSWYqKbXVsdGlhZGRyc4wACgSsElmKBiWj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP0KwcI6pW7W_yTqHWBuEArxGXZPNTjj-UwFaIdq95CKYN0Y3CCJaKDdWRwgiWkhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9633/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.31.133/tcp/64547/p2p/16Uiu2HAkugqsS5ybG52cDTjjnZCJ9Lvm3bPxGhxtijn751R2f5ya"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64546/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9633/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0f044c5b-be5a-4fdd-abb4-340218944837", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0f044c5b-be5a-4fdd-abb4-340218944837","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X PUT "http://127.0.0.1:9633/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e1e37fac2c7f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d6c83ddd3b59
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.