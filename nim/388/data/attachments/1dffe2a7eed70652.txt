[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.20.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['4208', '4209', '4210', '4211', '4212']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 4208:4208 -p 4209:4209 -p 4210:4210 -p 4211:4211 -p 4212:4212 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4210 --rest-port=4208 --tcp-port=4209 --discv5-udp-port=4211 --rest-address=0.0.0.0 --nat=extip:172.18.20.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b221d458bada296eb3cdaeaad10a78a46b54289b6812de63dc599fcebdeba2bd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4212 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.20.221 waku a00a19bad9f46ce38367a22a31897a02a2c6ce543ba99b83c6cdcd6b825b7a10
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a00a19bad9f4. Setting up logs at ./log/docker/receiving_node1_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4208
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4208/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4208/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.221/tcp/4209/p2p/16Uiu2HAmBBNxh1Ab2ze8LSyLyUz6t9FAtQqJTXwoucDdfd89V1Tr","/ip4/172.18.20.221/tcp/4210/ws/p2p/16Uiu2HAmBBNxh1Ab2ze8LSyLyUz6t9FAtQqJTXwoucDdfd89V1Tr"],"enrUri":"enr:-LO4QInMJQEqW9Fu--92L1mfLMa3dnv5Wdk7uHGByuYbkHAOZdon-HdI9g9Bpj-B5ndpnp24q4PyZd-x9g0-eAnvNhcBgmlkgnY0gmlwhKwSFN2KbXVsdGlhZGRyc4wACgSsEhTdBhBy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLqEZ20LQQIh_fQlfqFfVpppMmUkv_tb6lNeNWbw9_6VYN0Y3CCEHGDdWRwghBzhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.57.204
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['5879', '5880', '5881', '5882', '5883']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 5879:5879 -p 5880:5880 -p 5881:5881 -p 5882:5882 -p 5883:5883 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5881 --rest-port=5879 --tcp-port=5880 --discv5-udp-port=5882 --rest-address=0.0.0.0 --nat=extip:172.18.57.204 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9db55acabf7f90cb4ed7d591d55c600011aa10fcef327d44cdfed9a4cda6ce1f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5883 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.57.204 waku 4e5dbf47c742b36c3688190c338784c59c4685b03d9d1fe8345bc3975da9acaf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4e5dbf47c742. Setting up logs at ./log/docker/receiving_node2_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5879
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5879/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5879/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.57.204/tcp/5880/p2p/16Uiu2HAmHkzv18qXpv9m8iti7cUmDbJCZ1vbBs2bKnkV6xWU9ZYM","/ip4/172.18.57.204/tcp/5881/ws/p2p/16Uiu2HAmHkzv18qXpv9m8iti7cUmDbJCZ1vbBs2bKnkV6xWU9ZYM"],"enrUri":"enr:-LO4QJxw-gPYsCxL_FUzxLdFoifba9wv5Z5oX8kZilNI3Kt9VFvWBjzEgtdRcNe-i1BXtVTSqcaQ9KbHOquQpNIYQfwBgmlkgnY0gmlwhKwSOcyKbXVsdGlhZGRyc4wACgSsEjnMBhb53QOCcnOFAAMBAACJc2VjcDI1NmsxoQNL1I6mezVFlhNIdHJjOYQpkTfDDX6IMhLqSNMfRxBa6oN0Y3CCFviDdWRwghb6hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5879/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.221/tcp/4209/p2p/16Uiu2HAmBBNxh1Ab2ze8LSyLyUz6t9FAtQqJTXwoucDdfd89V1Tr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.108.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['12854', '12855', '12856', '12857', '12858']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 12854:12854 -p 12855:12855 -p 12856:12856 -p 12857:12857 -p 12858:12858 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12856 --rest-port=12854 --tcp-port=12855 --discv5-udp-port=12857 --rest-address=0.0.0.0 --nat=extip:172.18.108.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cbedf7aec6f69cfb794bdbcdd896bbcf25c6e6edcbd2f392ffe79e6a96aafe6e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12858 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QInMJQEqW9Fu--92L1mfLMa3dnv5Wdk7uHGByuYbkHAOZdon-HdI9g9Bpj-B5ndpnp24q4PyZd-x9g0-eAnvNhcBgmlkgnY0gmlwhKwSFN2KbXVsdGlhZGRyc4wACgSsEhTdBhBy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLqEZ20LQQIh_fQlfqFfVpppMmUkv_tb6lNeNWbw9_6VYN0Y3CCEHGDdWRwghBzhXdha3UyCQ --lightpushnode=/ip4/172.18.20.221/tcp/4209/p2p/16Uiu2HAmBBNxh1Ab2ze8LSyLyUz6t9FAtQqJTXwoucDdfd89V1Tr --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.108.93 waku 4104b1835ce264f50892766e6f1d9417bc2d15f301d2ac8d44c551c7e81f3145
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4104b1835ce2. Setting up logs at ./log/docker/lightpush_node1_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 12854
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12854/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12854/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.108.93/tcp/12855/p2p/16Uiu2HAmLXAEwBZa9P6q4ecGXHt4CKy2hQKCELUvLv8vEEzB5ygY","/ip4/172.18.108.93/tcp/12856/ws/p2p/16Uiu2HAmLXAEwBZa9P6q4ecGXHt4CKy2hQKCELUvLv8vEEzB5ygY"],"enrUri":"enr:-LO4QDZ-JC5sV0LSCZhlZNwYwvxUM4EhJDuSVzsynqo14ITMCMsj4ARAKhmihcBpeZBne-5dBZ5hDGbNWUGQtoOE59sBgmlkgnY0gmlwhKwSbF2KbXVsdGlhZGRyc4wACgSsEmxdBjI43QOCcnOFAAMBAACJc2VjcDI1NmsxoQN03Ag20a6R-wb-ZyYiAdaofvA954CsxYAgYwoKZS0ldYN0Y3CCMjeDdWRwgjI5hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12854/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.221/tcp/4209/p2p/16Uiu2HAmBBNxh1Ab2ze8LSyLyUz6t9FAtQqJTXwoucDdfd89V1Tr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12854/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.57.204/tcp/5880/p2p/16Uiu2HAmHkzv18qXpv9m8iti7cUmDbJCZ1vbBs2bKnkV6xWU9ZYM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.199.150
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59042', '59043', '59044', '59045', '59046']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59042:59042 -p 59043:59043 -p 59044:59044 -p 59045:59045 -p 59046:59046 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59044 --rest-port=59042 --tcp-port=59043 --discv5-udp-port=59045 --rest-address=0.0.0.0 --nat=extip:172.18.199.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1dadd19cfab7da56242bd60abd0cbbc82a3e661efb4dc18deac07d2399aadaef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59046 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QInMJQEqW9Fu--92L1mfLMa3dnv5Wdk7uHGByuYbkHAOZdon-HdI9g9Bpj-B5ndpnp24q4PyZd-x9g0-eAnvNhcBgmlkgnY0gmlwhKwSFN2KbXVsdGlhZGRyc4wACgSsEhTdBhBy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLqEZ20LQQIh_fQlfqFfVpppMmUkv_tb6lNeNWbw9_6VYN0Y3CCEHGDdWRwghBzhXdha3UyCQ --lightpushnode=/ip4/172.18.20.221/tcp/4209/p2p/16Uiu2HAmBBNxh1Ab2ze8LSyLyUz6t9FAtQqJTXwoucDdfd89V1Tr --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.199.150 waku e9760e51bd2680f8efccc492c0894ceee032d8744cc12ac36da86a7903e6103a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e9760e51bd26. Setting up logs at ./log/docker/lightpush_node2_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59042
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59042/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59042/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.150/tcp/59043/p2p/16Uiu2HAmQU9NC9U41PBNafEgpqcS3w4ZDbY8DzNFfp3hbFTKqaQw","/ip4/172.18.199.150/tcp/59044/ws/p2p/16Uiu2HAmQU9NC9U41PBNafEgpqcS3w4ZDbY8DzNFfp3hbFTKqaQw"],"enrUri":"enr:-LO4QGItHKfsZ8uT_mCy5_StTE1bNDwP0DLMAbm8mXS0jVDNWhS11WjCmAJA4OFM2E3ddivj8m_dmZxnOlw1pUAsHXABgmlkgnY0gmlwhKwSx5aKbXVsdGlhZGRyc4wACgSsEseWBuak3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOvhQxT4YB23PGYZ_mm3s4fxqOpkSuiCyEAzhZNlj5gcIN0Y3CC5qODdWRwgualhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59042/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.221/tcp/4209/p2p/16Uiu2HAmBBNxh1Ab2ze8LSyLyUz6t9FAtQqJTXwoucDdfd89V1Tr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59042/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.57.204/tcp/5880/p2p/16Uiu2HAmHkzv18qXpv9m8iti7cUmDbJCZ1vbBs2bKnkV6xWU9ZYM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.35.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['43393', '43394', '43395', '43396', '43397']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 43393:43393 -p 43394:43394 -p 43395:43395 -p 43396:43396 -p 43397:43397 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43395 --rest-port=43393 --tcp-port=43394 --discv5-udp-port=43396 --rest-address=0.0.0.0 --nat=extip:172.18.35.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=49dddc4ee9e57a3b59fe2eb50bef3c8bd8afc7c91c6ffc953ccc2f1fa13ef5fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43397 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QInMJQEqW9Fu--92L1mfLMa3dnv5Wdk7uHGByuYbkHAOZdon-HdI9g9Bpj-B5ndpnp24q4PyZd-x9g0-eAnvNhcBgmlkgnY0gmlwhKwSFN2KbXVsdGlhZGRyc4wACgSsEhTdBhBy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLqEZ20LQQIh_fQlfqFfVpppMmUkv_tb6lNeNWbw9_6VYN0Y3CCEHGDdWRwghBzhXdha3UyCQ --lightpushnode=/ip4/172.18.20.221/tcp/4209/p2p/16Uiu2HAmBBNxh1Ab2ze8LSyLyUz6t9FAtQqJTXwoucDdfd89V1Tr --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.35.42 waku 9b01b36f50cb9a4ccf457a45083c6b8fa952cc5e80a8f1778b899e4362170dad
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9b01b36f50cb. Setting up logs at ./log/docker/lightpush_node3_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43393
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43393/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43393/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.42/tcp/43394/p2p/16Uiu2HAmECNv5Cm9ygRY3V3ytXBUbdRyMCBQupiBVWhtujMudH5z","/ip4/172.18.35.42/tcp/43395/ws/p2p/16Uiu2HAmECNv5Cm9ygRY3V3ytXBUbdRyMCBQupiBVWhtujMudH5z"],"enrUri":"enr:-LO4QMHdF3qEfy3YjVI9h-Bv1urak4yIS5gLEOXqaMfXsajvTWhg776sFdtw4JH4bg0tjxjlRS2I7ewDCMrX90wbyEYBgmlkgnY0gmlwhKwSIyqKbXVsdGlhZGRyc4wACgSsEiMqBqmD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMW5jTjdjpkndHCs59-yQVHSSXpIBF0H3kHA4VEPktYQYN0Y3CCqYKDdWRwgqmEhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43393/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.221/tcp/4209/p2p/16Uiu2HAmBBNxh1Ab2ze8LSyLyUz6t9FAtQqJTXwoucDdfd89V1Tr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43393/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.57.204/tcp/5880/p2p/16Uiu2HAmHkzv18qXpv9m8iti7cUmDbJCZ1vbBs2bKnkV6xWU9ZYM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.198.204
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['19580', '19581', '19582', '19583', '19584']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 19580:19580 -p 19581:19581 -p 19582:19582 -p 19583:19583 -p 19584:19584 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19582 --rest-port=19580 --tcp-port=19581 --discv5-udp-port=19583 --rest-address=0.0.0.0 --nat=extip:172.18.198.204 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d0427f2afaca2040baf7dc31f6455aefc6ac5fdcddeb3d7f36b2ade13dd8ffae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19584 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QInMJQEqW9Fu--92L1mfLMa3dnv5Wdk7uHGByuYbkHAOZdon-HdI9g9Bpj-B5ndpnp24q4PyZd-x9g0-eAnvNhcBgmlkgnY0gmlwhKwSFN2KbXVsdGlhZGRyc4wACgSsEhTdBhBy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLqEZ20LQQIh_fQlfqFfVpppMmUkv_tb6lNeNWbw9_6VYN0Y3CCEHGDdWRwghBzhXdha3UyCQ --lightpushnode=/ip4/172.18.20.221/tcp/4209/p2p/16Uiu2HAmBBNxh1Ab2ze8LSyLyUz6t9FAtQqJTXwoucDdfd89V1Tr --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.198.204 waku ccd5ed21bb9f1ad6063d0852f26a18415abde1490a63ef6aec76c3ae4ffae085
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ccd5ed21bb9f. Setting up logs at ./log/docker/lightpush_node4_2024-10-11_04-19-25__cd087bae-9457-45a9-b2d2-477b9ce753b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 19580
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19580/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19580/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.198.204/tcp/19581/p2p/16Uiu2HAmHR9yYdVTtYsv6hwYkz4kT2xsiVCc2GvQAUonuV9mY31J","/ip4/172.18.198.204/tcp/19582/ws/p2p/16Uiu2HAmHR9yYdVTtYsv6hwYkz4kT2xsiVCc2GvQAUonuV9mY31J"],"enrUri":"enr:-LO4QGDc7OZ4cO8Ih3zWUoF6sr16MHIx7_tY0zUggS5LlaR9IqlB9VGhcJlETwVux43PgYJrV7guT4IgZ69u_J7Hdq8BgmlkgnY0gmlwhKwSxsyKbXVsdGlhZGRyc4wACgSsEsbMBkx-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNGvy-7IawDq3LeIvBRIUnlZJ-1s7wjW1LbV9N0tJte8YN0Y3CCTH2DdWRwgkx_hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19580/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.221/tcp/4209/p2p/16Uiu2HAmBBNxh1Ab2ze8LSyLyUz6t9FAtQqJTXwoucDdfd89V1Tr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19580/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.57.204/tcp/5880/p2p/16Uiu2HAmHkzv18qXpv9m8iti7cUmDbJCZ1vbBs2bKnkV6xWU9ZYM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4208/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5879/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12854/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728620376206335744}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4208/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728620376206335744,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5879/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728620376206335744,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59042/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728620376327399680}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4208/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728620376327399680,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5879/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728620376327399680,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43393/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728620376444499200}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4208/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728620376444499200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5879/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728620376444499200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19580/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728620376558851840}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4208/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728620376558851840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5879/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728620376558851840,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a00a19bad9f4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4e5dbf47c742
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4104b1835ce2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e9760e51bd26
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9b01b36f50cb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ccd5ed21bb9f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.