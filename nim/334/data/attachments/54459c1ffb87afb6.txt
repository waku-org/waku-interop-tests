[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2024-08-27_04-21-14__3fa9801f-41b2-44c1-9b7a-80ae2110db9f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-27_04-21-14__3fa9801f-41b2-44c1-9b7a-80ae2110db9f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.101.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['2977', '2978', '2979', '2980', '2981']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 2977:2977 -p 2978:2978 -p 2979:2979 -p 2980:2980 -p 2981:2981 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2979 --rest-port=2977 --tcp-port=2978 --discv5-udp-port=2980 --rest-address=0.0.0.0 --nat=extip:172.18.101.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbbe6bacb8abf5cebe124d0fab4392fff5adf76d2f2bab8c3e7ff8bf7c9b0cbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2981 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.101.117 waku ace4254af2bc460b3a1ac17ef61bdc9542570368270827bc8136368bc4852e4a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID ace4254af2bc. Setting up logs at ./log/docker/node1_2024-08-27_04-21-14__3fa9801f-41b2-44c1-9b7a-80ae2110db9f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 2977
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2977/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2977/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.101.117/tcp/2978/p2p/16Uiu2HAmFAmyKQ3cDGCKBdfY3mMfqmhHsJ5UhEZ5FjUNzgc6aukv","/ip4/172.18.101.117/tcp/2979/ws/p2p/16Uiu2HAmFAmyKQ3cDGCKBdfY3mMfqmhHsJ5UhEZ5FjUNzgc6aukv"],"enrUri":"enr:-LO4QH4VWtwWnMgwbo4E99aPZKmUgGHF276KaevV6RAjtno2QXWtKYX5QeDmMF0oV2LBSco35uwCL5SZqt_czV5ecSUBgmlkgnY0gmlwhKwSZXWKbXVsdGlhZGRyc4wACgSsEmV1Bguj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMlWM0kylRnmzP7HZME-KH-Jxx96YENHR9Ru0fTjwgf24N0Y3CCC6KDdWRwggukhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-27_04-21-14__3fa9801f-41b2-44c1-9b7a-80ae2110db9f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.69.110
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['61577', '61578', '61579', '61580', '61581']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 61577:61577 -p 61578:61578 -p 61579:61579 -p 61580:61580 -p 61581:61581 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61579 --rest-port=61577 --tcp-port=61578 --discv5-udp-port=61580 --rest-address=0.0.0.0 --nat=extip:172.18.69.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ccefefdac54b3bfeb2f4d9f5b8bfda9cdecaeb9a9773080afc8ec0bdc7d10ffa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61581 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QH4VWtwWnMgwbo4E99aPZKmUgGHF276KaevV6RAjtno2QXWtKYX5QeDmMF0oV2LBSco35uwCL5SZqt_czV5ecSUBgmlkgnY0gmlwhKwSZXWKbXVsdGlhZGRyc4wACgSsEmV1Bguj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMlWM0kylRnmzP7HZME-KH-Jxx96YENHR9Ru0fTjwgf24N0Y3CCC6KDdWRwggukhXdha3UyBQ --filternode=/ip4/172.18.101.117/tcp/2978/p2p/16Uiu2HAmFAmyKQ3cDGCKBdfY3mMfqmhHsJ5UhEZ5FjUNzgc6aukv
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.69.110 waku 7441121d5e4da504159e9bf3ae3e8f125c91773dd8a2506c6b36385d036723b7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 7441121d5e4d. Setting up logs at ./log/docker/node2_2024-08-27_04-21-14__3fa9801f-41b2-44c1-9b7a-80ae2110db9f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 61577
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61577/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61577/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.69.110/tcp/61578/p2p/16Uiu2HAmCWrfyPw1qKs67ytwiwiHKWGUjj828DwJQPUK1zXxTjaN","/ip4/172.18.69.110/tcp/61579/ws/p2p/16Uiu2HAmCWrfyPw1qKs67ytwiwiHKWGUjj828DwJQPUK1zXxTjaN"],"enrUri":"enr:-LO4QBLxMbSFEac-PLA1XBg80H45acTI74ZTKywd0YnVOFkIMsKxEzR8p_ahOgjeGGfKpmk3g3Kd7r0E4k2ld1ECCsYBgmlkgnY0gmlwhKwSRW6KbXVsdGlhZGRyc4wACgSsEkVuBvCL3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL96qwQgr556L7wvkek6V8KC-vxhMD5mRdfz3ZSxLvC94N0Y3CC8IqDdWRwgvCMhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61577/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.101.117/tcp/2978/p2p/16Uiu2HAmFAmyKQ3cDGCKBdfY3mMfqmhHsJ5UhEZ5FjUNzgc6aukv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2977/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61577/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f1002c67-eea2-4d33-836f-d6dc162c2b62", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f1002c67-eea2-4d33-836f-d6dc162c2b62","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:61577/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61577/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id ace4254af2bc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 7441121d5e4d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.