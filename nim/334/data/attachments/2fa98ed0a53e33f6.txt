[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.144.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['1794', '1795', '1796', '1797', '1798']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 1794:1794 -p 1795:1795 -p 1796:1796 -p 1797:1797 -p 1798:1798 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1796 --rest-port=1794 --tcp-port=1795 --discv5-udp-port=1797 --rest-address=0.0.0.0 --nat=extip:172.18.144.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d4979c22c4ddacbb9a752dfefeeeae7f0d06f883edb4d75fba7ccb2bdca5bbce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1798 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.144.98 waku 5618a89b6a6add287987000667ac89f0aedb821e05aece1485f5df81cbe82484
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5618a89b6a6a. Setting up logs at ./log/docker/receiving_node1_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 1794
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1794/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1794/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.144.98/tcp/1795/p2p/16Uiu2HAmFws5BnMC5hwmt6EntpsRVHuwNzDJvW22eyT5gWrkfa6t","/ip4/172.18.144.98/tcp/1796/ws/p2p/16Uiu2HAmFws5BnMC5hwmt6EntpsRVHuwNzDJvW22eyT5gWrkfa6t"],"enrUri":"enr:-LO4QN_ujxWh1cx1h0R1huZWj8epESPK9--Isy95cBy-xbHZV-zjtLyuKfaECtUGRvKn5_YlRGI35OBvexJrpoRIBSEBgmlkgnY0gmlwhKwSkGKKbXVsdGlhZGRyc4wACgSsEpBiBgcE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMw5bSnW2QwUvlb4jmmTFnN0CMq6__zqqnmVIfi3OB4-YN0Y3CCBwODdWRwggcFhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.202.183
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['7815', '7816', '7817', '7818', '7819']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 7815:7815 -p 7816:7816 -p 7817:7817 -p 7818:7818 -p 7819:7819 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7817 --rest-port=7815 --tcp-port=7816 --discv5-udp-port=7818 --rest-address=0.0.0.0 --nat=extip:172.18.202.183 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0b7ebdb52af3e8bd42cabeafe35dfd5d2936158ac4daf96bc10b2876d57e965b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7819 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.202.183 waku f10ac30eede7e7c9a1ed4934c603862d19dbd1b1e08e0ed56813a1ffb40e4e8f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID f10ac30eede7. Setting up logs at ./log/docker/receiving_node2_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 7815
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7815/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7815/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.202.183/tcp/7816/p2p/16Uiu2HAmMpDEcRa3JyDyJnGgTDoDcqeWkpFoQhHjrgx5VvkhYMKd","/ip4/172.18.202.183/tcp/7817/ws/p2p/16Uiu2HAmMpDEcRa3JyDyJnGgTDoDcqeWkpFoQhHjrgx5VvkhYMKd"],"enrUri":"enr:-LO4QHCG-Ab_r3te7Ck1MDcv6kidHxvJUPRlYsrFnHKgGC06LQWD93t1gI512S0JpjjiQ9k02Ktp-KOKnCOLq6a_XbMBgmlkgnY0gmlwhKwSyreKbXVsdGlhZGRyc4wACgSsEsq3Bh6J3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOIFfqDv9sRjHHw7hmWTeJAvdhIuWMt8RpBCWg2nQxxgIN0Y3CCHoiDdWRwgh6KhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7815/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.144.98/tcp/1795/p2p/16Uiu2HAmFws5BnMC5hwmt6EntpsRVHuwNzDJvW22eyT5gWrkfa6t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.129.239
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['55773', '55774', '55775', '55776', '55777']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 55773:55773 -p 55774:55774 -p 55775:55775 -p 55776:55776 -p 55777:55777 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55775 --rest-port=55773 --tcp-port=55774 --discv5-udp-port=55776 --rest-address=0.0.0.0 --nat=extip:172.18.129.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=de81dfb9973c1aa3bbb17fedebad5fd11ac202d150909e6c9da99bbd72e5b89f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55777 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QN_ujxWh1cx1h0R1huZWj8epESPK9--Isy95cBy-xbHZV-zjtLyuKfaECtUGRvKn5_YlRGI35OBvexJrpoRIBSEBgmlkgnY0gmlwhKwSkGKKbXVsdGlhZGRyc4wACgSsEpBiBgcE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMw5bSnW2QwUvlb4jmmTFnN0CMq6__zqqnmVIfi3OB4-YN0Y3CCBwODdWRwggcFhXdha3UyCQ --lightpushnode=/ip4/172.18.144.98/tcp/1795/p2p/16Uiu2HAmFws5BnMC5hwmt6EntpsRVHuwNzDJvW22eyT5gWrkfa6t --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.129.239 waku 5183fce3672acedbff29f41855cc0d211c1374917a91c02491e69734ad9b6496
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5183fce3672a. Setting up logs at ./log/docker/lightpush_node1_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 55773
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55773/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55773/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.239/tcp/55774/p2p/16Uiu2HAkusqbQnfRLTzEuReUJ4z4PkQNggrm1jM3GmVXFuqSii7x","/ip4/172.18.129.239/tcp/55775/ws/p2p/16Uiu2HAkusqbQnfRLTzEuReUJ4z4PkQNggrm1jM3GmVXFuqSii7x"],"enrUri":"enr:-LO4QEqTBTdEseT-Ddmzel1Y_6CHbAqb3m-4Fe1hJhyrKYRPJaljf2WNvQwG7tIvg6UFvRbYu-zYxUEzFuLVX9uj57gBgmlkgnY0gmlwhKwSge-KbXVsdGlhZGRyc4wACgSsEoHvBtnf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIGs_jDC8YcRocgt4YatC-3x3eC8zBOCIz_JmB3xBcXT4N0Y3CC2d6DdWRwgtnghXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55773/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.144.98/tcp/1795/p2p/16Uiu2HAmFws5BnMC5hwmt6EntpsRVHuwNzDJvW22eyT5gWrkfa6t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55773/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.202.183/tcp/7816/p2p/16Uiu2HAmMpDEcRa3JyDyJnGgTDoDcqeWkpFoQhHjrgx5VvkhYMKd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.220.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['64646', '64647', '64648', '64649', '64650']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 64646:64646 -p 64647:64647 -p 64648:64648 -p 64649:64649 -p 64650:64650 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64648 --rest-port=64646 --tcp-port=64647 --discv5-udp-port=64649 --rest-address=0.0.0.0 --nat=extip:172.18.220.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a3ddf12f45c621b19dab4ffdefeda2885e1ac88ecf7465c341bf4feb6645fcc6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64650 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QN_ujxWh1cx1h0R1huZWj8epESPK9--Isy95cBy-xbHZV-zjtLyuKfaECtUGRvKn5_YlRGI35OBvexJrpoRIBSEBgmlkgnY0gmlwhKwSkGKKbXVsdGlhZGRyc4wACgSsEpBiBgcE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMw5bSnW2QwUvlb4jmmTFnN0CMq6__zqqnmVIfi3OB4-YN0Y3CCBwODdWRwggcFhXdha3UyCQ --lightpushnode=/ip4/172.18.144.98/tcp/1795/p2p/16Uiu2HAmFws5BnMC5hwmt6EntpsRVHuwNzDJvW22eyT5gWrkfa6t --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.220.161 waku 6e4d1a4231b2f77b052d00804b91947a8c44f95f7de4f4d032c4c39a47b06e9c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6e4d1a4231b2. Setting up logs at ./log/docker/lightpush_node2_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 64646
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64646/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64646/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.220.161/tcp/64647/p2p/16Uiu2HAm9bNqo8LqFtHyHTD665KCsNRabpra39wJuzftPKwxj1hZ","/ip4/172.18.220.161/tcp/64648/ws/p2p/16Uiu2HAm9bNqo8LqFtHyHTD665KCsNRabpra39wJuzftPKwxj1hZ"],"enrUri":"enr:-LO4QKFH8szus1U49DLBIfywxOomgwsMklrjG7G702mXkGLQZPCKUowb1Dn1nQllOZiHgTTAtQtYsDQJQ3KK5DW33lgBgmlkgnY0gmlwhKwS3KGKbXVsdGlhZGRyc4wACgSsEtyhBvyI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLSgAwUn4zT_xC8DWs5D2UcF3SVb8CbZe_o4yLTP-6McIN0Y3CC_IeDdWRwgvyJhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64646/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.144.98/tcp/1795/p2p/16Uiu2HAmFws5BnMC5hwmt6EntpsRVHuwNzDJvW22eyT5gWrkfa6t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64646/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.202.183/tcp/7816/p2p/16Uiu2HAmMpDEcRa3JyDyJnGgTDoDcqeWkpFoQhHjrgx5VvkhYMKd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.16.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['55493', '55494', '55495', '55496', '55497']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 55493:55493 -p 55494:55494 -p 55495:55495 -p 55496:55496 -p 55497:55497 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55495 --rest-port=55493 --tcp-port=55494 --discv5-udp-port=55496 --rest-address=0.0.0.0 --nat=extip:172.18.16.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=55afc85a6e51eee29ac065bb6b720f9a096c9f2f680b2d538a57e1f43d7bedda --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55497 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QN_ujxWh1cx1h0R1huZWj8epESPK9--Isy95cBy-xbHZV-zjtLyuKfaECtUGRvKn5_YlRGI35OBvexJrpoRIBSEBgmlkgnY0gmlwhKwSkGKKbXVsdGlhZGRyc4wACgSsEpBiBgcE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMw5bSnW2QwUvlb4jmmTFnN0CMq6__zqqnmVIfi3OB4-YN0Y3CCBwODdWRwggcFhXdha3UyCQ --lightpushnode=/ip4/172.18.144.98/tcp/1795/p2p/16Uiu2HAmFws5BnMC5hwmt6EntpsRVHuwNzDJvW22eyT5gWrkfa6t --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.16.94 waku 02903f548265e30e0698aacae9989e99aa2a3b5eede9263502eca44deaea3c24
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 02903f548265. Setting up logs at ./log/docker/lightpush_node3_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 55493
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55493/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55493/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.16.94/tcp/55494/p2p/16Uiu2HAm88HMMPeLF1nZ2Z79sbXTkBmhAUc2Jp5SwojjPtyVZ9DP","/ip4/172.18.16.94/tcp/55495/ws/p2p/16Uiu2HAm88HMMPeLF1nZ2Z79sbXTkBmhAUc2Jp5SwojjPtyVZ9DP"],"enrUri":"enr:-LO4QFLEcZFuh1l7ZjIjksgcOnry5FBHtSz_fA-SO_yYFY9kbubpGL5MELRp35mwRs83u6az81eOqws9kSvKLx7r3-wBgmlkgnY0gmlwhKwSEF6KbXVsdGlhZGRyc4wACgSsEhBeBtjH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK8s3hrrEOU-PjLr_MFQnnl1ylLAxiZBhfcZtACN3FFboN0Y3CC2MaDdWRwgtjIhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55493/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.144.98/tcp/1795/p2p/16Uiu2HAmFws5BnMC5hwmt6EntpsRVHuwNzDJvW22eyT5gWrkfa6t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55493/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.202.183/tcp/7816/p2p/16Uiu2HAmMpDEcRa3JyDyJnGgTDoDcqeWkpFoQhHjrgx5VvkhYMKd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.187.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['60258', '60259', '60260', '60261', '60262']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 60258:60258 -p 60259:60259 -p 60260:60260 -p 60261:60261 -p 60262:60262 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60260 --rest-port=60258 --tcp-port=60259 --discv5-udp-port=60261 --rest-address=0.0.0.0 --nat=extip:172.18.187.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bd21e89238f0d99aeb50eb0dfde11ceeecce3b307d0f93b71d57dea8b0bcf748 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60262 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QN_ujxWh1cx1h0R1huZWj8epESPK9--Isy95cBy-xbHZV-zjtLyuKfaECtUGRvKn5_YlRGI35OBvexJrpoRIBSEBgmlkgnY0gmlwhKwSkGKKbXVsdGlhZGRyc4wACgSsEpBiBgcE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMw5bSnW2QwUvlb4jmmTFnN0CMq6__zqqnmVIfi3OB4-YN0Y3CCBwODdWRwggcFhXdha3UyCQ --lightpushnode=/ip4/172.18.144.98/tcp/1795/p2p/16Uiu2HAmFws5BnMC5hwmt6EntpsRVHuwNzDJvW22eyT5gWrkfa6t --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.187.161 waku 5164f617e7d3c1366ff0b3247df93a828f5091378c6727a689c9b0a96d3f1d24
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5164f617e7d3. Setting up logs at ./log/docker/lightpush_node4_2024-08-27_04-21-40__381e9697-cdc6-4ab3-ad43-ad6f51792bba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 60258
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60258/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60258/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.161/tcp/60259/p2p/16Uiu2HAmNtEL1egYA62FLiDKZ3H4VyFKneHtRjfrhLynWeE7KUv3","/ip4/172.18.187.161/tcp/60260/ws/p2p/16Uiu2HAmNtEL1egYA62FLiDKZ3H4VyFKneHtRjfrhLynWeE7KUv3"],"enrUri":"enr:-LO4QK6azwdRg04LT4_afVRYab3Nb0YpwvpymxnFZnnNIOMUN4nPa90yY0G3PuKgFhzQQWuiAuHgcZObefYIpPM9hTkBgmlkgnY0gmlwhKwSu6GKbXVsdGlhZGRyc4wACgSsEruhButk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOX-TmHRFxJaMKemkEwty2r9yuR7kuqcWVKvvsoO1ld4IN0Y3CC62ODdWRwgutlhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60258/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.144.98/tcp/1795/p2p/16Uiu2HAmFws5BnMC5hwmt6EntpsRVHuwNzDJvW22eyT5gWrkfa6t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60258/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.202.183/tcp/7816/p2p/16Uiu2HAmMpDEcRa3JyDyJnGgTDoDcqeWkpFoQhHjrgx5VvkhYMKd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1794/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7815/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55773/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724732511930494720}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1794/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724732511930494720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724732511930494720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64646/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724732512052600320}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1794/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724732512052600320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724732512052600320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55493/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724732512177092352}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1794/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724732512177092352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724732512177092352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60258/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724732512301162496}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1794/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724732512301162496,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724732512301162496,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 5618a89b6a6a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id f10ac30eede7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 5183fce3672a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 6e4d1a4231b2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 02903f548265
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 5164f617e7d3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.