[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2024-08-27_04-19-57__56386d67-44cb-41bb-b4c8-78974e408d6e
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-27_04-19-57__56386d67-44cb-41bb-b4c8-78974e408d6e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.174.59
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['39953', '39954', '39955', '39956', '39957']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 39953:39953 -p 39954:39954 -p 39955:39955 -p 39956:39956 -p 39957:39957 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39955 --rest-port=39953 --tcp-port=39954 --discv5-udp-port=39956 --rest-address=0.0.0.0 --nat=extip:172.18.174.59 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0dfabb33ff9c50aef323321dbf00b4cde6cbc7c11f8dabbfa54dd6d1e02b766b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39957 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.174.59 waku 6b1e2501d72c45a6e4f3bd3793985693f655611a1051eb6d1866f601481dbbbc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6b1e2501d72c. Setting up logs at ./log/docker/node1_2024-08-27_04-19-57__56386d67-44cb-41bb-b4c8-78974e408d6e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 39953
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39953/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39953/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.174.59/tcp/39954/p2p/16Uiu2HAkysHwn3brV8TjgS6ViXXSKKHSXgE8ct7CJDSHCwrh3SQX","/ip4/172.18.174.59/tcp/39955/ws/p2p/16Uiu2HAkysHwn3brV8TjgS6ViXXSKKHSXgE8ct7CJDSHCwrh3SQX"],"enrUri":"enr:-LO4QC-0MxKlJqzvHR89rqI8sHdWSNp4LD64B3X45K9xrr3cPm4F92Zf1OJQ9vL9es9nBNhQqACp7kec-RuRppGv5jEBgmlkgnY0gmlwhKwSrjuKbXVsdGlhZGRyc4wACgSsEq47BpwT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJB_u8X8UgAd3e0qrPXuMRTBRrJjG8G9UIdH94tarT3SIN0Y3CCnBKDdWRwgpwUhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-27_04-19-57__56386d67-44cb-41bb-b4c8-78974e408d6e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.125.107
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['24032', '24033', '24034', '24035', '24036']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 24032:24032 -p 24033:24033 -p 24034:24034 -p 24035:24035 -p 24036:24036 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24034 --rest-port=24032 --tcp-port=24033 --discv5-udp-port=24035 --rest-address=0.0.0.0 --nat=extip:172.18.125.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=30a7edebe7b9cbcc0979edca0549a9bc6976cf1dd4c4cdfba1dbe8f2ae4a090c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24036 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QC-0MxKlJqzvHR89rqI8sHdWSNp4LD64B3X45K9xrr3cPm4F92Zf1OJQ9vL9es9nBNhQqACp7kec-RuRppGv5jEBgmlkgnY0gmlwhKwSrjuKbXVsdGlhZGRyc4wACgSsEq47BpwT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJB_u8X8UgAd3e0qrPXuMRTBRrJjG8G9UIdH94tarT3SIN0Y3CCnBKDdWRwgpwUhXdha3UyBQ --filternode=/ip4/172.18.174.59/tcp/39954/p2p/16Uiu2HAkysHwn3brV8TjgS6ViXXSKKHSXgE8ct7CJDSHCwrh3SQX
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.125.107 waku e9ba1b0aaefc9330a30d5ee009bf303c1b7a0cb1058b68285969b3693b441cbd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e9ba1b0aaefc. Setting up logs at ./log/docker/node2_2024-08-27_04-19-57__56386d67-44cb-41bb-b4c8-78974e408d6e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 24032
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24032/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24032/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.125.107/tcp/24033/p2p/16Uiu2HAmQUUVqgNmDaPUa2MCaxG4ZKZUxGi4kXwruezVracMqiG7","/ip4/172.18.125.107/tcp/24034/ws/p2p/16Uiu2HAmQUUVqgNmDaPUa2MCaxG4ZKZUxGi4kXwruezVracMqiG7"],"enrUri":"enr:-LO4QAMze2QAYWaMLXBxg8GOF8LgEPazK4z1Bu4FwnXbTfwfADbcBTpNsxAYXq6ddKYGK6Sk3fDj5xeIZewIH8Fp4RABgmlkgnY0gmlwhKwSfWuKbXVsdGlhZGRyc4wACgSsEn1rBl3i3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOvmq48AiSZa-67eaP7I4Yi-C6SP5RNE6aCa3sZBu_akIN0Y3CCXeGDdWRwgl3jhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24032/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.174.59/tcp/39954/p2p/16Uiu2HAkysHwn3brV8TjgS6ViXXSKKHSXgE8ct7CJDSHCwrh3SQX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39953/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24032/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5eb957d0-fa86-4cf2-a56d-4b0e3f931fd2", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5eb957d0-fa86-4cf2-a56d-4b0e3f931fd2","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X PUT "http://127.0.0.1:24032/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 6b1e2501d72c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id e9ba1b0aaefc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.