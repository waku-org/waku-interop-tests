[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_pubsub_topics with id: 2024-11-05_04-10-58__f6e7b514-03da-4ef7-8a77-b6224e762f51
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-11-05_04-10-58__f6e7b514-03da-4ef7-8a77-b6224e762f51__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.218.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62200', '62201', '62202', '62203', '62204']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62200:62200 -p 62201:62201 -p 62202:62202 -p 62203:62203 -p 62204:62204 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62202 --rest-port=62200 --tcp-port=62201 --discv5-udp-port=62203 --rest-address=0.0.0.0 --nat=extip:172.18.218.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=170283872c46a6cae5b12ab3dfc90651cdc54ebcc5e3bdddeecd3e2baa20cd9a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62204 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.218.19 waku 8485cc8e34d6ef1908c0f0ca7371f6568f45cb4d57eb4fc8820525665cfb0176
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container df7d00b7f7e2. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8485cc8e34d6. Setting up logs at ./log/docker/receiving_node1_2024-11-05_04-10-58__f6e7b514-03da-4ef7-8a77-b6224e762f51__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62200
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62200/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62200/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.218.19/tcp/62201/p2p/16Uiu2HAmCe3uAb4gaKaydmwdFKWnoW6rnbZEN1HxhQgYzuiHGmDj","/ip4/172.18.218.19/tcp/62202/ws/p2p/16Uiu2HAmCe3uAb4gaKaydmwdFKWnoW6rnbZEN1HxhQgYzuiHGmDj"],"enrUri":"enr:-L24QGWrN5zv8H_c85gaVhqJDQYDuUggwC_JokFP03xW4K1EAOWg1JGCA_exGhYXvIpaC5c9UjghW8NW4jt1LXVi7kYCgmlkgnY0gmlwhKwS2hOKbXVsdGlhZGRyc5YACASsEtoTBvL5AAoErBLaEwby-t0DgnJzhQADAQAAiXNlY3AyNTZrMaEC_8JuxxkiM5bDa71myl8bhMtzRMm2cYuN-R3Xod3lEYqDdGNwgvL5g3VkcILy-4V3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-11-05_04-10-58__f6e7b514-03da-4ef7-8a77-b6224e762f51__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.155.194
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16484', '16485', '16486', '16487', '16488']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16484:16484 -p 16485:16485 -p 16486:16486 -p 16487:16487 -p 16488:16488 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16486 --rest-port=16484 --tcp-port=16485 --discv5-udp-port=16487 --rest-address=0.0.0.0 --nat=extip:172.18.155.194 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdfec7df69ec6fb9aa095ff0c46dbe35e717e99fc0ccf4d1f56dfbecee707d4e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16488 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.155.194 waku 9329d80bd42f15c821c5d87026e83b74c745a6ddb0ee54837e1d1d1c3fedb051
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9329d80bd42f. Setting up logs at ./log/docker/receiving_node2_2024-11-05_04-10-58__f6e7b514-03da-4ef7-8a77-b6224e762f51__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16484
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16484/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16484/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.194/tcp/16485/p2p/16Uiu2HAmGwsfhCZKdf7HUd1Aqifgh18ASbLk2gRounJSfDjNwErk","/ip4/172.18.155.194/tcp/16486/ws/p2p/16Uiu2HAmGwsfhCZKdf7HUd1Aqifgh18ASbLk2gRounJSfDjNwErk"],"enrUri":"enr:-L24QEMsGmd3xWpgXTkCN1xg_D3c51-aXl1wItzuNiu6CFyAQq6VHRSY5FjEguBvtUyorISpNbC1rFhvZ1obqFAQNqYCgmlkgnY0gmlwhKwSm8KKbXVsdGlhZGRyc5YACASsEpvCBkBlAAoErBKbwgZAZt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDP8IQuL8fvV2GcnATzJAPJApCeDDF4Z-4bsCgVRCGehmDdGNwgkBlg3VkcIJAZ4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16484/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.19/tcp/62201/p2p/16Uiu2HAmCe3uAb4gaKaydmwdFKWnoW6rnbZEN1HxhQgYzuiHGmDj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-11-05_04-10-58__f6e7b514-03da-4ef7-8a77-b6224e762f51__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.148.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50183', '50184', '50185', '50186', '50187']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50183:50183 -p 50184:50184 -p 50185:50185 -p 50186:50186 -p 50187:50187 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50185 --rest-port=50183 --tcp-port=50184 --discv5-udp-port=50186 --rest-address=0.0.0.0 --nat=extip:172.18.148.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be65cedbe76d89f8ce24dcb0bba6e9551afc0fe6ea9cad4ded5e2f9f77155ba9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50187 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QGWrN5zv8H_c85gaVhqJDQYDuUggwC_JokFP03xW4K1EAOWg1JGCA_exGhYXvIpaC5c9UjghW8NW4jt1LXVi7kYCgmlkgnY0gmlwhKwS2hOKbXVsdGlhZGRyc5YACASsEtoTBvL5AAoErBLaEwby-t0DgnJzhQADAQAAiXNlY3AyNTZrMaEC_8JuxxkiM5bDa71myl8bhMtzRMm2cYuN-R3Xod3lEYqDdGNwgvL5g3VkcILy-4V3YWt1Mgk --lightpushnode=/ip4/172.18.218.19/tcp/62201/p2p/16Uiu2HAmCe3uAb4gaKaydmwdFKWnoW6rnbZEN1HxhQgYzuiHGmDj --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.148.136 waku e37c833e67a9aa37adba7a26f5b02e04e3d677672189bb4b75e5ce729d2af607
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e37c833e67a9. Setting up logs at ./log/docker/lightpush_node1_2024-11-05_04-10-58__f6e7b514-03da-4ef7-8a77-b6224e762f51__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50183
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50183/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50183/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.148.136/tcp/50184/p2p/16Uiu2HAkvkmXMCx7yz1whPSXSBzBzg7K8Kr3saS4CcgqebSkdj7N","/ip4/172.18.148.136/tcp/50185/ws/p2p/16Uiu2HAkvkmXMCx7yz1whPSXSBzBzg7K8Kr3saS4CcgqebSkdj7N"],"enrUri":"enr:-L24QCMAyf_FAvbjwTQCiG7PRQkliOo-RdIBbUgs0OgwkdQHXwk_ezQCXlheCq2XdD2-Kj8bHxaHjnDANgzdbeYIGD4CgmlkgnY0gmlwhKwSlIiKbXVsdGlhZGRyc5YACASsEpSIBsQIAAoErBKUiAbECd0DgnJzhQADAQAAiXNlY3AyNTZrMaECE7_9sZr1seJP7QtfPdYJN5MfcBXbN7sxaJd-2JXYWEmDdGNwgsQIg3VkcILECoV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50183/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.19/tcp/62201/p2p/16Uiu2HAmCe3uAb4gaKaydmwdFKWnoW6rnbZEN1HxhQgYzuiHGmDj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50183/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.194/tcp/16485/p2p/16Uiu2HAmGwsfhCZKdf7HUd1Aqifgh18ASbLk2gRounJSfDjNwErk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62200/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16484/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50183/lightpush/v1/message" -H "Content-Type: application/json" -d '{"message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1730779864008677376}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 503 Server Error: Service Unavailable for url: http://127.0.0.1:50183/lightpush/v1/message. Response content: b'Failed to request a message push: not_published_to_any_peer'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8485cc8e34d6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9329d80bd42f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8485cc8e34d6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e37c833e67a9
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9329d80bd42f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.