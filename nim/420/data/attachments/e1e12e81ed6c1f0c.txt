[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-05_04-13-40__6d3b8418-739a-4c32-b16c-77d941d87862
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-05_04-13-40__6d3b8418-739a-4c32-b16c-77d941d87862__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.115.158
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61351', '61352', '61353', '61354', '61355']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61351:61351 -p 61352:61352 -p 61353:61353 -p 61354:61354 -p 61355:61355 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61353 --rest-port=61351 --tcp-port=61352 --discv5-udp-port=61354 --rest-address=0.0.0.0 --nat=extip:172.18.115.158 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7dcebc850c9daa6cbda6cfec3e38cbebbaa8622cbb255348818ef56f8d75fdbf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61355 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.115.158 waku cf53ac855403b2033fce7c8e018971ae511ddd282c040f272142ba74af393f30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cf53ac855403. Setting up logs at ./log/docker/node1_2024-11-05_04-13-40__6d3b8418-739a-4c32-b16c-77d941d87862__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61351
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ba054241c826. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61351/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61351/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.115.158/tcp/61352/p2p/16Uiu2HAm63jo6Tbb9rfzqTEEQvK1kCbpaecczUwZTUgfHDHEvXvm","/ip4/172.18.115.158/tcp/61353/ws/p2p/16Uiu2HAm63jo6Tbb9rfzqTEEQvK1kCbpaecczUwZTUgfHDHEvXvm"],"enrUri":"enr:-L24QN9t-RZlIb9A81VPYC0YAdrWvTI0PXv3JBjo0GcYATiQVDq_9-fn65khbApiI1h6sYKe6HS21m-6Flw2EtAyvUQCgmlkgnY0gmlwhKwSc56KbXVsdGlhZGRyc5YACASsEnOeBu-oAAoErBJzngbvqd0DgnJzhQADAQAAiXNlY3AyNTZrMaECndIXtwyZbdVzR_qAt-G2PCe8B2NwE0NEqctpxww0z36DdGNwgu-og3VkcILvqoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-05_04-13-40__6d3b8418-739a-4c32-b16c-77d941d87862__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.100.153
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17954', '17955', '17956', '17957', '17958']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17954:17954 -p 17955:17955 -p 17956:17956 -p 17957:17957 -p 17958:17958 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17956 --rest-port=17954 --tcp-port=17955 --discv5-udp-port=17957 --rest-address=0.0.0.0 --nat=extip:172.18.100.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=25b76b279205ccea38645dd95fe1a2a2c5bb7975e29db7eefc9cdcecd59aff3e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17958 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QN9t-RZlIb9A81VPYC0YAdrWvTI0PXv3JBjo0GcYATiQVDq_9-fn65khbApiI1h6sYKe6HS21m-6Flw2EtAyvUQCgmlkgnY0gmlwhKwSc56KbXVsdGlhZGRyc5YACASsEnOeBu-oAAoErBJzngbvqd0DgnJzhQADAQAAiXNlY3AyNTZrMaECndIXtwyZbdVzR_qAt-G2PCe8B2NwE0NEqctpxww0z36DdGNwgu-og3VkcILvqoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.100.153 waku 877e2ec33a83f646ad2053f9876d8380f9d7b0456c0f318f1017f5a62440511e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 877e2ec33a83. Setting up logs at ./log/docker/node2_2024-11-05_04-13-40__6d3b8418-739a-4c32-b16c-77d941d87862__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 17954
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17954/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17954/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.100.153/tcp/17955/p2p/16Uiu2HAkvsxgK5Ln7LBNAbmaEMViZTSif8f3hjnVGKtg77icG5no","/ip4/172.18.100.153/tcp/17956/ws/p2p/16Uiu2HAkvsxgK5Ln7LBNAbmaEMViZTSif8f3hjnVGKtg77icG5no"],"enrUri":"enr:-L24QCrAVwzf4Y9K_JfDQ_6H2FjCI4LFYR_UV8R52kFnRAu5b1bBwdJWTFzoWRVHxy871ev1ldRGYMkPKSz4A26yu0ECgmlkgnY0gmlwhKwSZJmKbXVsdGlhZGRyc5YACASsEmSZBkYjAAoErBJkmQZGJN0DgnJzhQADAQAAiXNlY3AyNTZrMaECFZerTD57GoWk22nxp1lM8XCGQTgvFP3RohzJwxfQIJiDdGNwgkYjg3VkcIJGJYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17954/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.158/tcp/61352/p2p/16Uiu2HAm63jo6Tbb9rfzqTEEQvK1kCbpaecczUwZTUgfHDHEvXvm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-05_04-13-40__6d3b8418-739a-4c32-b16c-77d941d87862__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.132.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53023', '53024', '53025', '53026', '53027']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53023:53023 -p 53024:53024 -p 53025:53025 -p 53026:53026 -p 53027:53027 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53025 --rest-port=53023 --tcp-port=53024 --discv5-udp-port=53026 --rest-address=0.0.0.0 --nat=extip:172.18.132.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe902e92aad2ba0e2cf959773de7b53c07a7c88dc14ef4d8bba8735dc6c9fdbe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53027 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QN9t-RZlIb9A81VPYC0YAdrWvTI0PXv3JBjo0GcYATiQVDq_9-fn65khbApiI1h6sYKe6HS21m-6Flw2EtAyvUQCgmlkgnY0gmlwhKwSc56KbXVsdGlhZGRyc5YACASsEnOeBu-oAAoErBJzngbvqd0DgnJzhQADAQAAiXNlY3AyNTZrMaECndIXtwyZbdVzR_qAt-G2PCe8B2NwE0NEqctpxww0z36DdGNwgu-og3VkcILvqoV3YWt1MgE
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.157.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55464', '55465', '55466', '55467', '55468']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55464:55464 -p 55465:55465 -p 55466:55466 -p 55467:55467 -p 55468:55468 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55466 --rest-port=55464 --tcp-port=55465 --discv5-udp-port=55467 --rest-address=0.0.0.0 --nat=extip:172.18.157.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dffb51599f305f97ce7d599cdb232ce10c7cb04187dbaef29fa8cbcc8bcc0bdf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55468 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QN9t-RZlIb9A81VPYC0YAdrWvTI0PXv3JBjo0GcYATiQVDq_9-fn65khbApiI1h6sYKe6HS21m-6Flw2EtAyvUQCgmlkgnY0gmlwhKwSc56KbXVsdGlhZGRyc5YACASsEnOeBu-oAAoErBJzngbvqd0DgnJzhQADAQAAiXNlY3AyNTZrMaECndIXtwyZbdVzR_qAt-G2PCe8B2NwE0NEqctpxww0z36DdGNwgu-og3VkcILvqoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.157.246 waku b9301794a418fe7c1f5ff6b784f799815f407eb5be2dc84c339955376356fb3d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b9301794a418. Setting up logs at ./log/docker/node3_2024-11-05_04-13-40__6d3b8418-739a-4c32-b16c-77d941d87862__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55464
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55464/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55464/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.157.246/tcp/55465/p2p/16Uiu2HAkvijuiw9JKM4HD8KtxACfqpgMMVxmfHyey5nN3LXc85Km","/ip4/172.18.157.246/tcp/55466/ws/p2p/16Uiu2HAkvijuiw9JKM4HD8KtxACfqpgMMVxmfHyey5nN3LXc85Km"],"enrUri":"enr:-L24QD8rfzHDYPrEzW5r6yZOBJ9L4pVuXxD_UxSSO5IdvMKEeHOfDWZ7sgHbLLoQT0u-_zwhsiPBIzLan_rkOuL-eqoCgmlkgnY0gmlwhKwSnfaKbXVsdGlhZGRyc5YACASsEp32BtipAAoErBKd9gbYqt0DgnJzhQADAQAAiXNlY3AyNTZrMaECEzsBEGa9kzmui8Gumzt024RfWXVAzbuyprQRDmModJiDdGNwgtipg3VkcILYq4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55464/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.158/tcp/61352/p2p/16Uiu2HAm63jo6Tbb9rfzqTEEQvK1kCbpaecczUwZTUgfHDHEvXvm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-05_04-13-40__6d3b8418-739a-4c32-b16c-77d941d87862__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.163.153
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31526', '31527', '31528', '31529', '31530']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31526:31526 -p 31527:31527 -p 31528:31528 -p 31529:31529 -p 31530:31530 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31528 --rest-port=31526 --tcp-port=31527 --discv5-udp-port=31529 --rest-address=0.0.0.0 --nat=extip:172.18.163.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d6d5d738ebfd18e9c0d1dcee310ebcbd2ca3cec1ce8c6dd10c3f86a40b216d9a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31530 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QN9t-RZlIb9A81VPYC0YAdrWvTI0PXv3JBjo0GcYATiQVDq_9-fn65khbApiI1h6sYKe6HS21m-6Flw2EtAyvUQCgmlkgnY0gmlwhKwSc56KbXVsdGlhZGRyc5YACASsEnOeBu-oAAoErBJzngbvqd0DgnJzhQADAQAAiXNlY3AyNTZrMaECndIXtwyZbdVzR_qAt-G2PCe8B2NwE0NEqctpxww0z36DdGNwgu-og3VkcILvqoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.163.153 waku c12c56c55f4e4ba7df78257704e8f562409faf1a9be50c18fac6c08fbc67abd1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c12c56c55f4e. Setting up logs at ./log/docker/node4_2024-11-05_04-13-40__6d3b8418-739a-4c32-b16c-77d941d87862__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 31526
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31526/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31526/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.163.153/tcp/31527/p2p/16Uiu2HAmJf9SS3sj5gmufgX3Cyzh8uWNAS9riTpFbPaJceyHHzgz","/ip4/172.18.163.153/tcp/31528/ws/p2p/16Uiu2HAmJf9SS3sj5gmufgX3Cyzh8uWNAS9riTpFbPaJceyHHzgz"],"enrUri":"enr:-L24QEvb3737oQv8Glsc6lVKKT2dsJpcSf9O7Q0KhJc0qvynZWVRHQ-kQDf53YNVaHTYizrIhZmjIzodDu73BbcBEgUCgmlkgnY0gmlwhKwSo5mKbXVsdGlhZGRyc5YACASsEqOZBnsnAAoErBKjmQZ7KN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWTBl7R9KjzTeTmpbWcR7ADdYULwnyCnlwtNVUwXVDlODdGNwgnsng3VkcIJ7KYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31526/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.158/tcp/61352/p2p/16Uiu2HAm63jo6Tbb9rfzqTEEQvK1kCbpaecczUwZTUgfHDHEvXvm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-05_04-13-40__6d3b8418-739a-4c32-b16c-77d941d87862__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.131.84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40888', '40889', '40890', '40891', '40892']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40888:40888 -p 40889:40889 -p 40890:40890 -p 40891:40891 -p 40892:40892 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40890 --rest-port=40888 --tcp-port=40889 --discv5-udp-port=40891 --rest-address=0.0.0.0 --nat=extip:172.18.131.84 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9e3eb8be77334daeecbc6acfaf77beca89c46844ca6173862a4e21a9c4de3c9e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40892 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QN9t-RZlIb9A81VPYC0YAdrWvTI0PXv3JBjo0GcYATiQVDq_9-fn65khbApiI1h6sYKe6HS21m-6Flw2EtAyvUQCgmlkgnY0gmlwhKwSc56KbXVsdGlhZGRyc5YACASsEnOeBu-oAAoErBJzngbvqd0DgnJzhQADAQAAiXNlY3AyNTZrMaECndIXtwyZbdVzR_qAt-G2PCe8B2NwE0NEqctpxww0z36DdGNwgu-og3VkcILvqoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.131.84 waku fef40519be5ff9d1618cb7850a850ef57f1d5809a9ae869168552a434ebb616d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fef40519be5f. Setting up logs at ./log/docker/node5_2024-11-05_04-13-40__6d3b8418-739a-4c32-b16c-77d941d87862__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40888
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40888/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40888/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.84/tcp/40889/p2p/16Uiu2HAmD9Xj4BCTxRMZ6kQHD4h6cn6wvwkQ4Tkv1cws8QeD3pwQ","/ip4/172.18.131.84/tcp/40890/ws/p2p/16Uiu2HAmD9Xj4BCTxRMZ6kQHD4h6cn6wvwkQ4Tkv1cws8QeD3pwQ"],"enrUri":"enr:-L24QBHKiGfFHaRDYapApcZmJKfu93jlRJWbY12SZd_jNmWnVfnMK13oasIM-ghmhII_U3qwO7c7HItVxz745klUtekCgmlkgnY0gmlwhKwSg1SKbXVsdGlhZGRyc5YACASsEoNUBp-5AAoErBKDVAafut0DgnJzhQADAQAAiXNlY3AyNTZrMaEDB0-9IQ8Y-kM9E4h38Ion_FZFhERpxPhvAiJ_nGoVKl-DdGNwgp-5g3VkcIKfu4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40888/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.158/tcp/61352/p2p/16Uiu2HAm63jo6Tbb9rfzqTEEQvK1kCbpaecczUwZTUgfHDHEvXvm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61351/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17954/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55464/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31526/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40888/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61351/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61351/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730780028741661696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730780028741661696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55464/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730780028741661696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31526/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730780028741661696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40888/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730780028741661696,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40888/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61351/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730780028887710464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730780028887710464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55464/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730780028887710464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31526/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730780028887710464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40888/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730780028887710464,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cf53ac855403
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 877e2ec33a83
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cf53ac855403. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b9301794a418
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 877e2ec33a83. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c12c56c55f4e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b9301794a418. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fef40519be5f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c12c56c55f4e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.