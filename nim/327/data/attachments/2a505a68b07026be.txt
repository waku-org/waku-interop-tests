[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_without_pubsub_topic_and_content_topic with id: 2024-08-22_04-37-18__3f94c973-c0e3-4df3-87a3-5262015a6ea6
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-08-22_04-37-18__3f94c973-c0e3-4df3-87a3-5262015a6ea6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.228.77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['51681', '51682', '51683', '51684', '51685']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 51681:51681 -p 51682:51682 -p 51683:51683 -p 51684:51684 -p 51685:51685 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51683 --rest-port=51681 --tcp-port=51682 --discv5-udp-port=51684 --rest-address=0.0.0.0 --nat=extip:172.18.228.77 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=32531e23bafead483e78d488cbbef29c0d70c8b6ea3d0bfeb4b63f55d1acbacc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51685 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.228.77 waku 9997e4d232c01bafccae330b8233ffd185213cd6c9c49ba540be35b40d3fa920
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9997e4d232c0. Setting up logs at ./log/docker/publishing_node1_2024-08-22_04-37-18__3f94c973-c0e3-4df3-87a3-5262015a6ea6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 51681
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51681/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51681/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.77/tcp/51682/p2p/16Uiu2HAmP3W1eXMTd1LTjf8uoAVqsZ59QPBLZA7oQZeF8r7xTn8M","/ip4/172.18.228.77/tcp/51683/ws/p2p/16Uiu2HAmP3W1eXMTd1LTjf8uoAVqsZ59QPBLZA7oQZeF8r7xTn8M"],"enrUri":"enr:-LO4QIAHSHN7dEwjRsSgspuYqRCHQICACiWSf-rtn-JbmGMHcNrzDHYuK41ylVVE7iwDmi-rGhDANmfSOi9tJ50hY9YBgmlkgnY0gmlwhKwS5E2KbXVsdGlhZGRyc4wACgSsEuRNBsnj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOaWS9sldaE7HnQ0riS1Q1-FOlI1JqPKBBiBCroHWeM_oN0Y3CCyeKDdWRwgsnkhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/store_node1_2024-08-22_04-37-18__3f94c973-c0e3-4df3-87a3-5262015a6ea6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.234.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['35820', '35821', '35822', '35823', '35824']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 35820:35820 -p 35821:35821 -p 35822:35822 -p 35823:35823 -p 35824:35824 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35822 --rest-port=35820 --tcp-port=35821 --discv5-udp-port=35823 --rest-address=0.0.0.0 --nat=extip:172.18.234.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2d65c3d1401e3107abaa686244bcfe6ed44fe2d8ebb6ed6de1d5edcaded81f8c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35824 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QIAHSHN7dEwjRsSgspuYqRCHQICACiWSf-rtn-JbmGMHcNrzDHYuK41ylVVE7iwDmi-rGhDANmfSOi9tJ50hY9YBgmlkgnY0gmlwhKwS5E2KbXVsdGlhZGRyc4wACgSsEuRNBsnj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOaWS9sldaE7HnQ0riS1Q1-FOlI1JqPKBBiBCroHWeM_oN0Y3CCyeKDdWRwgsnkhXdha3UyAw --storenode=/ip4/172.18.228.77/tcp/51682/p2p/16Uiu2HAmP3W1eXMTd1LTjf8uoAVqsZ59QPBLZA7oQZeF8r7xTn8M --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.234.151 waku 235d202100d79840a6b6efaf278d122b8e99a9c9e1a1c9d4983d4fc6653e1ef8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 235d202100d7. Setting up logs at ./log/docker/store_node1_2024-08-22_04-37-18__3f94c973-c0e3-4df3-87a3-5262015a6ea6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 35820
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35820/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35820/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.234.151/tcp/35821/p2p/16Uiu2HAmT1F3fTrYf9VdYoGhYNzQGgEZsw4GY3h2DcesHBQw4fp3","/ip4/172.18.234.151/tcp/35822/ws/p2p/16Uiu2HAmT1F3fTrYf9VdYoGhYNzQGgEZsw4GY3h2DcesHBQw4fp3"],"enrUri":"enr:-LO4QKPfTft4Mw-icS7yh9wyyJaXk-SpNNCrD4QEuAq0MrdALGqqaaUr_gfBp29S6TB40c0Ida2uef7R24175Qc8w5kBgmlkgnY0gmlwhKwS6peKbXVsdGlhZGRyc4wACgSsEuqXBovu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPVM9mfdjIHQwVwAqD1-lzPE08n5Zn15YD45MGBEj7VuIN0Y3CCi-2DdWRwgovvhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35820/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.228.77/tcp/51682/p2p/16Uiu2HAmP3W1eXMTd1LTjf8uoAVqsZ59QPBLZA7oQZeF8r7xTn8M"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51681/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35820/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51681/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51681/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51681/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51681/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51681/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51681/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51681/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51681/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51681/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"1CFZ8pX5j5AMfp11UJlzCOjAQF+R9G3bTZf4mPJ5IQg="},{"messageHash":"mcRa1viAzQRo0gJDDm97EQD/EZ7mlka9wDDb2ma3EI8="},{"messageHash":"oLHIvX0E+U9jxOzLGxLU7IqtQT2gt39SAdMMU/Sww3I="},{"messageHash":"lwElmuca33MrlBGYBNW+I4YUjH77jOyNw0ysCsxkXS0="},{"messageHash":"ZfPFjpbvEcTDo2zNUiJGkxLtoI3WIv69DqcsadD+uzQ="},{"messageHash":"5fQxRHNhSl1Sn4Xdz2ccDa2jUWOvc3igL4ZjyQFg/YE="},{"messageHash":"i1OtSHmUKWasggrSJaDG/eyb3u0fWX9A9e6G+U1iNnk="},{"messageHash":"Q+wzXSN053oeJ2h+ZDfdZJrkf1cWJE0UGxCVVPTPsTM="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35820/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"1CFZ8pX5j5AMfp11UJlzCOjAQF+R9G3bTZf4mPJ5IQg="},{"messageHash":"mcRa1viAzQRo0gJDDm97EQD/EZ7mlka9wDDb2ma3EI8="},{"messageHash":"oLHIvX0E+U9jxOzLGxLU7IqtQT2gt39SAdMMU/Sww3I="},{"messageHash":"lwElmuca33MrlBGYBNW+I4YUjH77jOyNw0ysCsxkXS0="},{"messageHash":"ZfPFjpbvEcTDo2zNUiJGkxLtoI3WIv69DqcsadD+uzQ="},{"messageHash":"5fQxRHNhSl1Sn4Xdz2ccDa2jUWOvc3igL4ZjyQFg/YE="},{"messageHash":"i1OtSHmUKWasggrSJaDG/eyb3u0fWX9A9e6G+U1iNnk="},{"messageHash":"Q+wzXSN053oeJ2h+ZDfdZJrkf1cWJE0UGxCVVPTPsTM="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 9997e4d232c0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 235d202100d7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.