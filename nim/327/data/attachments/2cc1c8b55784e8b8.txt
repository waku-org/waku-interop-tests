[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.3.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['60267', '60268', '60269', '60270', '60271']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 60267:60267 -p 60268:60268 -p 60269:60269 -p 60270:60270 -p 60271:60271 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60269 --rest-port=60267 --tcp-port=60268 --discv5-udp-port=60270 --rest-address=0.0.0.0 --nat=extip:172.18.3.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b6e2cd06b888c2b86e98e8ffde6eecc90d7f9fdce04aef5391443abdfda02ccf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60271 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.3.15 waku cd4f6fc10bca981b6e643a79e42c1e748892380405a1dde7f6fa5bcdf768bfc6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID cd4f6fc10bca. Setting up logs at ./log/docker/receiving_node1_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 60267
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60267/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60267/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.15/tcp/60268/p2p/16Uiu2HAmVkn7VAUFSqBPRMj4mW1Xx9XZfediz4oYkq7ZVtAchkjX","/ip4/172.18.3.15/tcp/60269/ws/p2p/16Uiu2HAmVkn7VAUFSqBPRMj4mW1Xx9XZfediz4oYkq7ZVtAchkjX"],"enrUri":"enr:-LO4QLQHjqG5Jxbqt96iIJpBCwS3DLCQn9J3zJvJ-MPHDTkAWSJIM7rX_h_JZE-7bO8tHMBENvNZjxl6THe3FGQduj0BgmlkgnY0gmlwhKwSAw-KbXVsdGlhZGRyc4wACgSsEgMPButt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP-ElM3PyMJZniSyBXf_wNXeVUqemXg5VVOO513zUeJfoN0Y3CC62yDdWRwgutuhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.182.180
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['40237', '40238', '40239', '40240', '40241']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 40237:40237 -p 40238:40238 -p 40239:40239 -p 40240:40240 -p 40241:40241 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40239 --rest-port=40237 --tcp-port=40238 --discv5-udp-port=40240 --rest-address=0.0.0.0 --nat=extip:172.18.182.180 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c4aec68ec97a844de16e3cd80c8ecc2ce8fc3ff4fb9e43a9b8372f6bc037f5ab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40241 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.182.180 waku cfa59617ea1fead878b04e4773f3c39f84f16b0f36d79d2067299deec10a871f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID cfa59617ea1f. Setting up logs at ./log/docker/receiving_node2_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 40237
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40237/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40237/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.180/tcp/40238/p2p/16Uiu2HAmMSWCoK82snYb459LKuiZC87xkaF4EgjZ6RscGhM4pPXR","/ip4/172.18.182.180/tcp/40239/ws/p2p/16Uiu2HAmMSWCoK82snYb459LKuiZC87xkaF4EgjZ6RscGhM4pPXR"],"enrUri":"enr:-LO4QN33elymk4RAthcoc7fsNzWoc9eY8sGpmGa3RjJo0iu-EsQgSzFP7EMG6ZFqZ0SY-nzalDtRuDYXAjwNnklYZqIBgmlkgnY0gmlwhKwStrSKbXVsdGlhZGRyc4wACgSsEra0Bp0v3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOChmMs8w-mRMAcFExLT8IjuoiNUTGh_ah5y8JXkyvDhIN0Y3CCnS6DdWRwgp0whXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40237/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.15/tcp/60268/p2p/16Uiu2HAmVkn7VAUFSqBPRMj4mW1Xx9XZfediz4oYkq7ZVtAchkjX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.138.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['29969', '29970', '29971', '29972', '29973']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 29969:29969 -p 29970:29970 -p 29971:29971 -p 29972:29972 -p 29973:29973 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29971 --rest-port=29969 --tcp-port=29970 --discv5-udp-port=29972 --rest-address=0.0.0.0 --nat=extip:172.18.138.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddbc55edf127be82a7ec7804a7be6042470fe5faba8de8e02ed814d34a5bb404 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29973 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLQHjqG5Jxbqt96iIJpBCwS3DLCQn9J3zJvJ-MPHDTkAWSJIM7rX_h_JZE-7bO8tHMBENvNZjxl6THe3FGQduj0BgmlkgnY0gmlwhKwSAw-KbXVsdGlhZGRyc4wACgSsEgMPButt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP-ElM3PyMJZniSyBXf_wNXeVUqemXg5VVOO513zUeJfoN0Y3CC62yDdWRwgutuhXdha3UyCQ --lightpushnode=/ip4/172.18.3.15/tcp/60268/p2p/16Uiu2HAmVkn7VAUFSqBPRMj4mW1Xx9XZfediz4oYkq7ZVtAchkjX --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.138.213 waku 56a443513fa84987f739ddd46b1f3267ff4226fc464bad60ab8b132ea42a55c4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 56a443513fa8. Setting up logs at ./log/docker/lightpush_node1_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 29969
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29969/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29969/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.213/tcp/29970/p2p/16Uiu2HAmEepCxFZUh5eAsR8eDgxDuMvy4SUr9qefUFUzrgYqicSi","/ip4/172.18.138.213/tcp/29971/ws/p2p/16Uiu2HAmEepCxFZUh5eAsR8eDgxDuMvy4SUr9qefUFUzrgYqicSi"],"enrUri":"enr:-LO4QAc1nrfC1Fm4DCmHisbhK2uUDGRBP7tJzZ_kTDs_abQMDChygNiNKxuV2w_VzuZqqxApq5_DnCi11oIP0SUFjtABgmlkgnY0gmlwhKwSitWKbXVsdGlhZGRyc4wACgSsEorVBnUT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMdq-eAGSfL5vrvuufoKiNk4sjmWTk-_qkIiPRA6Lawx4N0Y3CCdRKDdWRwgnUUhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29969/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.15/tcp/60268/p2p/16Uiu2HAmVkn7VAUFSqBPRMj4mW1Xx9XZfediz4oYkq7ZVtAchkjX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29969/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.180/tcp/40238/p2p/16Uiu2HAmMSWCoK82snYb459LKuiZC87xkaF4EgjZ6RscGhM4pPXR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.230.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['11894', '11895', '11896', '11897', '11898']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 11894:11894 -p 11895:11895 -p 11896:11896 -p 11897:11897 -p 11898:11898 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11896 --rest-port=11894 --tcp-port=11895 --discv5-udp-port=11897 --rest-address=0.0.0.0 --nat=extip:172.18.230.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d64af3972b6f79f9c50d1c0e9aa65abc3e865791689cfb27169d8413b48ce1cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11898 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLQHjqG5Jxbqt96iIJpBCwS3DLCQn9J3zJvJ-MPHDTkAWSJIM7rX_h_JZE-7bO8tHMBENvNZjxl6THe3FGQduj0BgmlkgnY0gmlwhKwSAw-KbXVsdGlhZGRyc4wACgSsEgMPButt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP-ElM3PyMJZniSyBXf_wNXeVUqemXg5VVOO513zUeJfoN0Y3CC62yDdWRwgutuhXdha3UyCQ --lightpushnode=/ip4/172.18.3.15/tcp/60268/p2p/16Uiu2HAmVkn7VAUFSqBPRMj4mW1Xx9XZfediz4oYkq7ZVtAchkjX --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.230.34 waku 8e914080c37aae09e634f27c550f03f2b5dacec8ed97191d794ee43f95e3946b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8e914080c37a. Setting up logs at ./log/docker/lightpush_node2_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 11894
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11894/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11894/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.34/tcp/11895/p2p/16Uiu2HAmMPyhD48Uw6LauyAwokRYbmzLe5TP67CrCh9QkqUdJMFx","/ip4/172.18.230.34/tcp/11896/ws/p2p/16Uiu2HAmMPyhD48Uw6LauyAwokRYbmzLe5TP67CrCh9QkqUdJMFx"],"enrUri":"enr:-LO4QEDEPAyzBrAmczkbT02zzO0SUEWGPd66tsK4HrO4QxR8AXpmdmDI9tbbIK_g31SXg9nrfDX8EYQZmat8YT4m__EBgmlkgnY0gmlwhKwS5iKKbXVsdGlhZGRyc4wACgSsEuYiBi543QOCcnOFAAMBAACJc2VjcDI1NmsxoQOB4LpR3I-j0k9A5cmHbw8imgh2b17ft_v-lj24kLcDe4N0Y3CCLneDdWRwgi55hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11894/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.15/tcp/60268/p2p/16Uiu2HAmVkn7VAUFSqBPRMj4mW1Xx9XZfediz4oYkq7ZVtAchkjX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11894/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.180/tcp/40238/p2p/16Uiu2HAmMSWCoK82snYb459LKuiZC87xkaF4EgjZ6RscGhM4pPXR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.224.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['15773', '15774', '15775', '15776', '15777']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 15773:15773 -p 15774:15774 -p 15775:15775 -p 15776:15776 -p 15777:15777 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15775 --rest-port=15773 --tcp-port=15774 --discv5-udp-port=15776 --rest-address=0.0.0.0 --nat=extip:172.18.224.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a7de0eb37cd7f465e5c9a2b65cfd6cbb1563010daea28be16fcfdb7ce1c1cbc1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15777 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLQHjqG5Jxbqt96iIJpBCwS3DLCQn9J3zJvJ-MPHDTkAWSJIM7rX_h_JZE-7bO8tHMBENvNZjxl6THe3FGQduj0BgmlkgnY0gmlwhKwSAw-KbXVsdGlhZGRyc4wACgSsEgMPButt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP-ElM3PyMJZniSyBXf_wNXeVUqemXg5VVOO513zUeJfoN0Y3CC62yDdWRwgutuhXdha3UyCQ --lightpushnode=/ip4/172.18.3.15/tcp/60268/p2p/16Uiu2HAmVkn7VAUFSqBPRMj4mW1Xx9XZfediz4oYkq7ZVtAchkjX --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.224.49 waku 5571df1be4690f2704e5e5e10e65781828cea08c43c02ef3d593ba9f1bf923d2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5571df1be469. Setting up logs at ./log/docker/lightpush_node3_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 15773
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15773/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15773/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.224.49/tcp/15774/p2p/16Uiu2HAm9qqTaAcWTXZMzJviroEZnSXhvMzBTvRV9m2HRRGCSNng","/ip4/172.18.224.49/tcp/15775/ws/p2p/16Uiu2HAm9qqTaAcWTXZMzJviroEZnSXhvMzBTvRV9m2HRRGCSNng"],"enrUri":"enr:-LO4QEuA71Qlov_1EglMrj8d5FtLEvI6hSstw2Q1ooVy_guMSsAK9C_5DZ0KcPnLHOMLonA2AanDaS4IUD6LfLS0weMBgmlkgnY0gmlwhKwS4DGKbXVsdGlhZGRyc4wACgSsEuAxBj2f3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLWNEY2kMA6e00bc6eovUxhL_fsEYekUZ9qi_aynb-sRYN0Y3CCPZ6DdWRwgj2ghXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15773/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.15/tcp/60268/p2p/16Uiu2HAmVkn7VAUFSqBPRMj4mW1Xx9XZfediz4oYkq7ZVtAchkjX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15773/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.180/tcp/40238/p2p/16Uiu2HAmMSWCoK82snYb459LKuiZC87xkaF4EgjZ6RscGhM4pPXR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.2.244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['33462', '33463', '33464', '33465', '33466']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 33462:33462 -p 33463:33463 -p 33464:33464 -p 33465:33465 -p 33466:33466 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33464 --rest-port=33462 --tcp-port=33463 --discv5-udp-port=33465 --rest-address=0.0.0.0 --nat=extip:172.18.2.244 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1b38abaef1bebfd31eacf5298c7b9ccb0ea6ae56f8d5b68ee4f671cde93d29f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33466 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLQHjqG5Jxbqt96iIJpBCwS3DLCQn9J3zJvJ-MPHDTkAWSJIM7rX_h_JZE-7bO8tHMBENvNZjxl6THe3FGQduj0BgmlkgnY0gmlwhKwSAw-KbXVsdGlhZGRyc4wACgSsEgMPButt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP-ElM3PyMJZniSyBXf_wNXeVUqemXg5VVOO513zUeJfoN0Y3CC62yDdWRwgutuhXdha3UyCQ --lightpushnode=/ip4/172.18.3.15/tcp/60268/p2p/16Uiu2HAmVkn7VAUFSqBPRMj4mW1Xx9XZfediz4oYkq7ZVtAchkjX --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.2.244 waku a7bd8a53189ae67639653b9ebfdd3abfb5ad2f75860236b8cf0b21f542d6b2a2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a7bd8a53189a. Setting up logs at ./log/docker/lightpush_node4_2024-08-22_04-19-18__72b17a42-332f-43cf-b62f-f3634a6fd9f5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 33462
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33462/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33462/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.2.244/tcp/33463/p2p/16Uiu2HAmTghDghsaubx3HSg9uDoB3oQzES3p3Tam3gg2aoPTqkDn","/ip4/172.18.2.244/tcp/33464/ws/p2p/16Uiu2HAmTghDghsaubx3HSg9uDoB3oQzES3p3Tam3gg2aoPTqkDn"],"enrUri":"enr:-LO4QDb0ZG1BqZ9-fyRU3hHSRw0rNXtvBv0UtuKTR5Y8adLmDyFh3vRG01VYJx230rZOuL3mWiXpokNRMldV0X7b6nsBgmlkgnY0gmlwhKwSAvSKbXVsdGlhZGRyc4wACgSsEgL0BoK43QOCcnOFAAMBAACJc2VjcDI1NmsxoQPfTxhlzMt7HJ0Thj1TlbQI4At6VsE0aGbNVdV_veaL0YN0Y3CCgreDdWRwgoK5hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33462/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.15/tcp/60268/p2p/16Uiu2HAmVkn7VAUFSqBPRMj4mW1Xx9XZfediz4oYkq7ZVtAchkjX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33462/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.182.180/tcp/40238/p2p/16Uiu2HAmMSWCoK82snYb459LKuiZC87xkaF4EgjZ6RscGhM4pPXR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60267/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40237/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29969/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724300370878158592}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60267/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724300370878158592,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724300370878158592,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11894/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724300370994739456}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60267/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724300370994739456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724300370994739456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15773/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724300371114017280}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60267/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724300371114017280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724300371114017280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33462/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724300371229552896}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60267/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724300371229552896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724300371229552896,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id cd4f6fc10bca
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id cfa59617ea1f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 56a443513fa8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 8e914080c37a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 5571df1be469
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id a7bd8a53189a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.