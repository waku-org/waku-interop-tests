[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_content_topic with id: 2024-08-22_04-18-09__68e8e427-bf74-483c-bb30-6bdd92489486
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-22_04-18-09__68e8e427-bf74-483c-bb30-6bdd92489486__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.119.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['22900', '22901', '22902', '22903', '22904']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 22900:22900 -p 22901:22901 -p 22902:22902 -p 22903:22903 -p 22904:22904 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22902 --rest-port=22900 --tcp-port=22901 --discv5-udp-port=22903 --rest-address=0.0.0.0 --nat=extip:172.18.119.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2be7cfdbbdd2bb81c47e4ca2cfc098927bd0ec6fabf005fab7f63432456aacaf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22904 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.119.151 waku 0b5ae119fb7a9dd84b4b8e473332521395b5e1a752b558b4a5383d725c8cfb36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0b5ae119fb7a. Setting up logs at ./log/docker/node1_2024-08-22_04-18-09__68e8e427-bf74-483c-bb30-6bdd92489486__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 22900
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22900/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22900/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.151/tcp/22901/p2p/16Uiu2HAkxJg4JTMv8nNiusjd6MqYPM4ho4uGSWK9HBEugLPERRjN","/ip4/172.18.119.151/tcp/22902/ws/p2p/16Uiu2HAkxJg4JTMv8nNiusjd6MqYPM4ho4uGSWK9HBEugLPERRjN"],"enrUri":"enr:-LO4QGbpIgufrLp228p2-GgPwGSvghjQSqFsDwTBVFcqUHGJAafQh5yPpvCOq65lJMPFxSCULRcvrh-PuxcN-20LvEABgmlkgnY0gmlwhKwSd5eKbXVsdGlhZGRyc4wACgSsEneXBll23QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqyBU_sdEIVTuKg9404Y3ZLp1YpGIOgleP-FPjFNU8iYN0Y3CCWXWDdWRwgll3hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-22_04-18-09__68e8e427-bf74-483c-bb30-6bdd92489486__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.221.195
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['32823', '32824', '32825', '32826', '32827']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 32823:32823 -p 32824:32824 -p 32825:32825 -p 32826:32826 -p 32827:32827 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32825 --rest-port=32823 --tcp-port=32824 --discv5-udp-port=32826 --rest-address=0.0.0.0 --nat=extip:172.18.221.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f05ee828bce3d4bf48a6e2cbca2a544bb3654666c74cfd2f08c4e1ab22aef4fb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32827 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGbpIgufrLp228p2-GgPwGSvghjQSqFsDwTBVFcqUHGJAafQh5yPpvCOq65lJMPFxSCULRcvrh-PuxcN-20LvEABgmlkgnY0gmlwhKwSd5eKbXVsdGlhZGRyc4wACgSsEneXBll23QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqyBU_sdEIVTuKg9404Y3ZLp1YpGIOgleP-FPjFNU8iYN0Y3CCWXWDdWRwgll3hXdha3UyBQ --filternode=/ip4/172.18.119.151/tcp/22901/p2p/16Uiu2HAkxJg4JTMv8nNiusjd6MqYPM4ho4uGSWK9HBEugLPERRjN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.221.195 waku d0556c448018a0e0a571ce609729768e7ff3f4d151b95fc7f785f6e929d49255
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d0556c448018. Setting up logs at ./log/docker/node2_2024-08-22_04-18-09__68e8e427-bf74-483c-bb30-6bdd92489486__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 32823
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32823/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32823/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.195/tcp/32824/p2p/16Uiu2HAmTXRgfzSZcBNAT6VcXDueSGR4RGLpqsXb5oCTgDWsNu4d","/ip4/172.18.221.195/tcp/32825/ws/p2p/16Uiu2HAmTXRgfzSZcBNAT6VcXDueSGR4RGLpqsXb5oCTgDWsNu4d"],"enrUri":"enr:-LO4QOP6OFaFnZB5CLxb7C_MVfTMQSGkyXSw5z0Y0v7Mj_uQPyr4c_hAf6JrBkg1PoZkE8yUe0EOicYRyWhhG-LT8MkBgmlkgnY0gmlwhKwS3cOKbXVsdGlhZGRyc4wACgSsEt3DBoA53QOCcnOFAAMBAACJc2VjcDI1NmsxoQPc702J7moa-dNzogh8DEclSaXIxWeOOhG5YYfXkMvmKoN0Y3CCgDiDdWRwgoA6hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32823/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.119.151/tcp/22901/p2p/16Uiu2HAkxJg4JTMv8nNiusjd6MqYPM4ho4uGSWK9HBEugLPERRjN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22900/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32823/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "edfcefb9-db1c-4631-86cb-4a772e45f56a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"edfcefb9-db1c-4631-86cb-4a772e45f56a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:32823/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:32823/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 0b5ae119fb7a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id d0556c448018
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.