[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_paused_and_unpaused with id: 2024-08-22_04-35-17__f519a4de-6cf4-487a-adc7-d12f4b4a9ecc
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-08-22_04-35-17__f519a4de-6cf4-487a-adc7-d12f4b4a9ecc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.14.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['44939', '44940', '44941', '44942', '44943']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 44939:44939 -p 44940:44940 -p 44941:44941 -p 44942:44942 -p 44943:44943 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44941 --rest-port=44939 --tcp-port=44940 --discv5-udp-port=44942 --rest-address=0.0.0.0 --nat=extip:172.18.14.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c75e5a81a287639e9d89bad2dfdccdb88603aaee6e95ca3ccde897e028faec75 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44943 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.14.176 waku 41cf557a7c126aa58d1f6fe582f1fa97c3a1d4197efe21ec65607f04ffa0262f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 41cf557a7c12. Setting up logs at ./log/docker/publishing_node1_2024-08-22_04-35-17__f519a4de-6cf4-487a-adc7-d12f4b4a9ecc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 44939
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44939/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44939/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.176/tcp/44940/p2p/16Uiu2HAkyxbawa1NH6PFqyKpqHSLeyg3R4Q5xQJQYkDbKF3sZe4A","/ip4/172.18.14.176/tcp/44941/ws/p2p/16Uiu2HAkyxbawa1NH6PFqyKpqHSLeyg3R4Q5xQJQYkDbKF3sZe4A"],"enrUri":"enr:-LO4QMU4U8bTtrWSRN7etD3rSgXHhZK3YRDTFuXRqstem3T7JiPDiBadxyWZGbpxa9YoXdycB-B6WyAyRxey-4tR6FIBgmlkgnY0gmlwhKwSDrCKbXVsdGlhZGRyc4wACgSsEg6wBq-N3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJDWsjTi7mmDd-s8dJPxpnJ_rcrNTi1vLuxp6Enud5Gy4N0Y3CCr4yDdWRwgq-OhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/store_node1_2024-08-22_04-35-17__f519a4de-6cf4-487a-adc7-d12f4b4a9ecc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.25.210
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['33551', '33552', '33553', '33554', '33555']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 33551:33551 -p 33552:33552 -p 33553:33553 -p 33554:33554 -p 33555:33555 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33553 --rest-port=33551 --tcp-port=33552 --discv5-udp-port=33554 --rest-address=0.0.0.0 --nat=extip:172.18.25.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c5e3e2e1bccc4f06146a12cfec4135eda6b3eb4c2e3f2810221bcfdcefe1e7bd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33555 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QMU4U8bTtrWSRN7etD3rSgXHhZK3YRDTFuXRqstem3T7JiPDiBadxyWZGbpxa9YoXdycB-B6WyAyRxey-4tR6FIBgmlkgnY0gmlwhKwSDrCKbXVsdGlhZGRyc4wACgSsEg6wBq-N3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJDWsjTi7mmDd-s8dJPxpnJ_rcrNTi1vLuxp6Enud5Gy4N0Y3CCr4yDdWRwgq-OhXdha3UyAw --storenode=/ip4/172.18.14.176/tcp/44940/p2p/16Uiu2HAkyxbawa1NH6PFqyKpqHSLeyg3R4Q5xQJQYkDbKF3sZe4A --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.25.210 waku 18678522fd33b909be1c98160911fdca931bc755096d74fb776bc4254c4d36b2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 18678522fd33. Setting up logs at ./log/docker/store_node1_2024-08-22_04-35-17__f519a4de-6cf4-487a-adc7-d12f4b4a9ecc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 33551
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33551/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33551/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.210/tcp/33552/p2p/16Uiu2HAmRajWwGzDyB6VifKf3Ke6tVAjeSjJamktAgmPP45tqhH1","/ip4/172.18.25.210/tcp/33553/ws/p2p/16Uiu2HAmRajWwGzDyB6VifKf3Ke6tVAjeSjJamktAgmPP45tqhH1"],"enrUri":"enr:-LO4QG3DwWz-Rvf23XsWdIVDW6xvwyTXLTBxuqgtAzxc6LunKtmMFy6l2v3sKIFXJdpOec4GLS8inx1fjR2o7Q9zToQBgmlkgnY0gmlwhKwSGdKKbXVsdGlhZGRyc4wACgSsEhnSBoMR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPAENWVm7aoOicNunNpKICnxzHXS8HRpDEIvSvvUI8lMIN0Y3CCgxCDdWRwgoMShXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33551/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.14.176/tcp/44940/p2p/16Uiu2HAkyxbawa1NH6PFqyKpqHSLeyg3R4Q5xQJQYkDbKF3sZe4A"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44939/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33551/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44939/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:216 Checking that peer wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44939/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ry+SbUOkY2XARP0umMqOsvd+h/AtICt8J7/BPlU83Rw="}]}'
[35mDEBUG   [0m src.steps.store:store.py:216 Checking that peer wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33551/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ry+SbUOkY2XARP0umMqOsvd+h/AtICt8J7/BPlU83Rw="}]}'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:248 Pausing container with id 18678522fd33
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:253 Unpause container with id 18678522fd33
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33551/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33551/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.210/tcp/33552/p2p/16Uiu2HAmRajWwGzDyB6VifKf3Ke6tVAjeSjJamktAgmPP45tqhH1","/ip4/172.18.25.210/tcp/33553/ws/p2p/16Uiu2HAmRajWwGzDyB6VifKf3Ke6tVAjeSjJamktAgmPP45tqhH1"],"enrUri":"enr:-LO4QG3DwWz-Rvf23XsWdIVDW6xvwyTXLTBxuqgtAzxc6LunKtmMFy6l2v3sKIFXJdpOec4GLS8inx1fjR2o7Q9zToQBgmlkgnY0gmlwhKwSGdKKbXVsdGlhZGRyc4wACgSsEhnSBoMR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPAENWVm7aoOicNunNpKICnxzHXS8HRpDEIvSvvUI8lMIN0Y3CCgxCDdWRwgoMShXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44939/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:216 Checking that peer wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44939/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ry+SbUOkY2XARP0umMqOsvd+h/AtICt8J7/BPlU83Rw="},{"messageHash":"K+KKiTnFuSyT9Rd+6+reO2uyhnEYwu0PNcjWEQ4IEw8="}]}'
[35mDEBUG   [0m src.steps.store:store.py:216 Checking that peer wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33551/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ry+SbUOkY2XARP0umMqOsvd+h/AtICt8J7/BPlU83Rw="},{"messageHash":"K+KKiTnFuSyT9Rd+6+reO2uyhnEYwu0PNcjWEQ4IEw8="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44939/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ry+SbUOkY2XARP0umMqOsvd+h/AtICt8J7/BPlU83Rw="},{"messageHash":"K+KKiTnFuSyT9Rd+6+reO2uyhnEYwu0PNcjWEQ4IEw8="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33551/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ry+SbUOkY2XARP0umMqOsvd+h/AtICt8J7/BPlU83Rw="},{"messageHash":"K+KKiTnFuSyT9Rd+6+reO2uyhnEYwu0PNcjWEQ4IEw8="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 41cf557a7c12
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 18678522fd33
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.