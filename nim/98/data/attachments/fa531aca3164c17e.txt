[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_unsubscribe_with_pubsub_topic_string_instead_of_list with id: 2024-03-15_04-13-07__d08a3bef-541c-495e-bba1-e0d0d958d447
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-03-15_04-13-07__d08a3bef-541c-495e-bba1-e0d0d958d447__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.197.74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['43259', '43260', '43261', '43262', '43263']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 43259:43259 -p 43260:43260 -p 43261:43261 -p 43262:43262 -p 43263:43263 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43261 --rest-port=43259 --tcp-port=43260 --discv5-udp-port=43262 --rest-address=0.0.0.0 --nat=extip:172.18.197.74 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43263 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.197.74 waku cd8aedfada2d5975ddb07938cc11c8f5d828dc495f6596f7c9b24bcc68ebd52b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID cd8aedfada2d. Setting up logs at ./log/docker/node1_2024-03-15_04-13-07__d08a3bef-541c-495e-bba1-e0d0d958d447__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 43259
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:43259/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.197.74/tcp/43260/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.197.74/tcp/43261/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QGRb316k9slc4vpe1CEhMNM6snL3w2XP1ao68G15c4SeSopYst-eYpdrvUuzLdTi5wHW79cTLg2yNToSi2T2rB0BgmlkgnY0gmlwhKwSxUqKbXVsdGlhZGRyc4wACgSsEsVKBqj93QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCqPyDdWRwgqj-hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-03-15_04-13-07__d08a3bef-541c-495e-bba1-e0d0d958d447__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.50.143
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['33977', '33978', '33979', '33980', '33981']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 33977:33977 -p 33978:33978 -p 33979:33979 -p 33980:33980 -p 33981:33981 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33979 --rest-port=33977 --tcp-port=33978 --discv5-udp-port=33980 --rest-address=0.0.0.0 --nat=extip:172.18.50.143 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33981 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGRb316k9slc4vpe1CEhMNM6snL3w2XP1ao68G15c4SeSopYst-eYpdrvUuzLdTi5wHW79cTLg2yNToSi2T2rB0BgmlkgnY0gmlwhKwSxUqKbXVsdGlhZGRyc4wACgSsEsVKBqj93QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCqPyDdWRwgqj-hXdha3UyBQ --filternode=/ip4/172.18.197.74/tcp/43260/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.50.143 waku 89efde964d09c9bbec7e4767295db40a0dd1c235d9f428c5fdcdf217a4c5fc3c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 89efde964d09. Setting up logs at ./log/docker/node2_2024-03-15_04-13-07__d08a3bef-541c-495e-bba1-e0d0d958d447__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 33977
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:33977/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.143/tcp/33978/p2p/16Uiu2HAmVaDCMzag6Ubb8CE8qCALA8CGEjB9x8nyEJ5RmaTrBaJS","/ip4/172.18.50.143/tcp/33979/ws/p2p/16Uiu2HAmVaDCMzag6Ubb8CE8qCALA8CGEjB9x8nyEJ5RmaTrBaJS"],"enrUri":"enr:-LO4QFbfqvtTpqXxsx9oCCw2Vz4p8_xYewnMiwc2jE_kFuN0WuT8U2HRujgVo7sCqMaCHzyi3Df3k9i_FsFu7NsjUNEBgmlkgnY0gmlwhKwSMo-KbXVsdGlhZGRyc4wACgSsEjKPBoS73QOCcnOFAAABAACJc2VjcDI1NmsxoQP7XUx_Omds3jHhjEOakNo_IgqUIJdNmtA_lB6eqkoVt4N0Y3CChLqDdWRwgoS8hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:45 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:43259/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:33977/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c5993eeb-ebef-4f79-a66c-f75219a470af", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"c5993eeb-ebef-4f79-a66c-f75219a470af","statusCode":0,"statusDesc":""}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X DELETE "http://127.0.0.1:33977/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto", "pubsubTopic": "/waku/2/rs/0/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:17 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:33977/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusCode":400,"statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id cd8aedfada2d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 89efde964d09
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.