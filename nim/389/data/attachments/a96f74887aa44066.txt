[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_on_not_subscribed_content_topic_works with id: 2024-10-12_04-27-26__bdcadf7d-e602-4e62-b6e4-9fdabd928f7a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-12_04-27-26__bdcadf7d-e602-4e62-b6e4-9fdabd928f7a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.159.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50328', '50329', '50330', '50331', '50332']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50328:50328 -p 50329:50329 -p 50330:50330 -p 50331:50331 -p 50332:50332 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50330 --rest-port=50328 --tcp-port=50329 --discv5-udp-port=50331 --rest-address=0.0.0.0 --nat=extip:172.18.159.29 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=f2cfaa60e9d8c7f5ba0664b3061eefcffaeb87abaf50cfb49b901ebbfadadbac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50332 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.159.29 waku 5673c5b46ceea1850f0ecfdb345da3e53c1cee749dc42e139f94223737bf5833
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5673c5b46cee. Setting up logs at ./log/docker/node1_2024-10-12_04-27-26__bdcadf7d-e602-4e62-b6e4-9fdabd928f7a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50328
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50328/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50328/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.159.29/tcp/50329/p2p/16Uiu2HAmTT88LD3pWLxiwbfwamESQWk84xLfhFgBn9osVXZqfhjY","/ip4/172.18.159.29/tcp/50330/ws/p2p/16Uiu2HAmTT88LD3pWLxiwbfwamESQWk84xLfhFgBn9osVXZqfhjY"],"enrUri":"enr:-LO4QMlf6qlEZ5lpW9vQop2FTCoyS5VPDlNhXDUCYC_-Sd_BbwJ34yfMKDKjYGe_hivLXjZ9qg-vyuLyMkFBUOqLsNABgmlkgnY0gmlwhKwSnx2KbXVsdGlhZGRyc4wACgSsEp8dBsSa3QOCcnOFAAIBAACJc2VjcDI1NmsxoQPb1SCQWK0b2MMlgbAXmVbU-3InrCUUSkI6KaC7uiuHs4N0Y3CCxJmDdWRwgsSbhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-12_04-27-26__bdcadf7d-e602-4e62-b6e4-9fdabd928f7a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.243.134
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['51181', '51182', '51183', '51184', '51185']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 51181:51181 -p 51182:51182 -p 51183:51183 -p 51184:51184 -p 51185:51185 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51183 --rest-port=51181 --tcp-port=51182 --discv5-udp-port=51184 --rest-address=0.0.0.0 --nat=extip:172.18.243.134 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=7bc9a5303339f0201ca1f1e0100a939b4ab3ec8c99b317c74a519efe67bfd08b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51185 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QMlf6qlEZ5lpW9vQop2FTCoyS5VPDlNhXDUCYC_-Sd_BbwJ34yfMKDKjYGe_hivLXjZ9qg-vyuLyMkFBUOqLsNABgmlkgnY0gmlwhKwSnx2KbXVsdGlhZGRyc4wACgSsEp8dBsSa3QOCcnOFAAIBAACJc2VjcDI1NmsxoQPb1SCQWK0b2MMlgbAXmVbU-3InrCUUSkI6KaC7uiuHs4N0Y3CCxJmDdWRwgsSbhXdha3UyBQ --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.243.134 waku d256219d6b770ef5f8f32bd338af393ac3c9b3748dc2b2c130e74baa6ae3d77c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d256219d6b77. Setting up logs at ./log/docker/node2_2024-10-12_04-27-26__bdcadf7d-e602-4e62-b6e4-9fdabd928f7a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 51181
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51181/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51181/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.243.134/tcp/51182/p2p/16Uiu2HAmLUJM33mY34Gz76yDRPVUcpmbWgXEhabhEGgRdAuxgaie","/ip4/172.18.243.134/tcp/51183/ws/p2p/16Uiu2HAmLUJM33mY34Gz76yDRPVUcpmbWgXEhabhEGgRdAuxgaie"],"enrUri":"enr:-LO4QFVRrBgfVrUb6YUij1_amSbGnF29-n6JK38cI4AQbq0YIuTgL1LV-b9gjl_BeNiaQwn2fYZoo20_SyELb5M9WskBgmlkgnY0gmlwhKwS84aKbXVsdGlhZGRyc4wACgSsEvOGBsfv3QOCcnOFAAIBAACJc2VjcDI1NmsxoQN0IHRIWY49WeFnoQlpdrM09UIzHFvqm3-FHEgCKHOOW4N0Y3CCx-6DdWRwgsfwhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51181/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.29/tcp/50329/p2p/16Uiu2HAmTT88LD3pWLxiwbfwamESQWk84xLfhFgBn9osVXZqfhjY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50328/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51181/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50328/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51181/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5673c5b46cee
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d256219d6b77
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.