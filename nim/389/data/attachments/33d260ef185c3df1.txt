[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-10-12_04-23-21__1385fd72-351e-4d41-b3b5-13546d920937
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-12_04-23-21__1385fd72-351e-4d41-b3b5-13546d920937__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.9.251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['52373', '52374', '52375', '52376', '52377']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 52373:52373 -p 52374:52374 -p 52375:52375 -p 52376:52376 -p 52377:52377 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52375 --rest-port=52373 --tcp-port=52374 --discv5-udp-port=52376 --rest-address=0.0.0.0 --nat=extip:172.18.9.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=beabca73a13bfb6fe13b7d5d2af59c27ff3fa970a68e35c8faec7b4a6fa9ec57 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52377 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.9.251 waku 5cd1e7564d4b589c9fb2cf0aba9122b9e2d7022dbac6d01b78902fd7411fc4b2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5cd1e7564d4b. Setting up logs at ./log/docker/node1_2024-10-12_04-23-21__1385fd72-351e-4d41-b3b5-13546d920937__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 52373
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52373/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52373/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.251/tcp/52374/p2p/16Uiu2HAkv2YdmeqkWTrP9iJRmdodoDGGFKCv7xrq38xeL1DkQmSc","/ip4/172.18.9.251/tcp/52375/ws/p2p/16Uiu2HAkv2YdmeqkWTrP9iJRmdodoDGGFKCv7xrq38xeL1DkQmSc"],"enrUri":"enr:-LO4QBo1Ob2rHukrPvVYzbdycFp4_1ynH8AFhAr1rdTmF_OjBIONoQP_FoQcBMjm1_mFM9JzyvsaP04cXO_NjAzUS_YBgmlkgnY0gmlwhKwSCfuKbXVsdGlhZGRyc4wACgSsEgn7BsyX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQII7wXmkofubm9-Gtcwowj3FEvi2_fbU_AXT7AFkgKlRYN0Y3CCzJaDdWRwgsyYhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-12_04-23-21__1385fd72-351e-4d41-b3b5-13546d920937__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.49.163
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44313', '44314', '44315', '44316', '44317']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44313:44313 -p 44314:44314 -p 44315:44315 -p 44316:44316 -p 44317:44317 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44315 --rest-port=44313 --tcp-port=44314 --discv5-udp-port=44316 --rest-address=0.0.0.0 --nat=extip:172.18.49.163 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eaacabbf724d8d62ebe1aac2e701e5a449eb7dea5fff0febbf1e963fcece413d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44317 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBo1Ob2rHukrPvVYzbdycFp4_1ynH8AFhAr1rdTmF_OjBIONoQP_FoQcBMjm1_mFM9JzyvsaP04cXO_NjAzUS_YBgmlkgnY0gmlwhKwSCfuKbXVsdGlhZGRyc4wACgSsEgn7BsyX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQII7wXmkofubm9-Gtcwowj3FEvi2_fbU_AXT7AFkgKlRYN0Y3CCzJaDdWRwgsyYhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.49.163 waku ea6bdc0393820a8379e2ae6b0f6b692dcf694023d96523827430511a38ecf03c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ea6bdc039382. Setting up logs at ./log/docker/node2_2024-10-12_04-23-21__1385fd72-351e-4d41-b3b5-13546d920937__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44313
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44313/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44313/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.49.163/tcp/44314/p2p/16Uiu2HAmVAwXGMZus6TaspR7zWLEv7GRgzGRB6UCdBmagcHVK2W2","/ip4/172.18.49.163/tcp/44315/ws/p2p/16Uiu2HAmVAwXGMZus6TaspR7zWLEv7GRgzGRB6UCdBmagcHVK2W2"],"enrUri":"enr:-LO4QGQlggraDMiBuzh_dYOBsAvroJmLuK2DL1CZEWDhLqSkRYS7dbfAeHn-F9Rchfju0b8vRPYJHckIBTDFUfzooo0BgmlkgnY0gmlwhKwSMaOKbXVsdGlhZGRyc4wACgSsEjGjBq0b3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP1ZzerT86cAPdAEmyezkb3yJYDozw4jkBxvr4YLY63h4N0Y3CCrRqDdWRwgq0chXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44313/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.9.251/tcp/52374/p2p/16Uiu2HAkv2YdmeqkWTrP9iJRmdodoDGGFKCv7xrq38xeL1DkQmSc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-12_04-23-21__1385fd72-351e-4d41-b3b5-13546d920937__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.34.253
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['64131', '64132', '64133', '64134', '64135']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 64131:64131 -p 64132:64132 -p 64133:64133 -p 64134:64134 -p 64135:64135 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64133 --rest-port=64131 --tcp-port=64132 --discv5-udp-port=64134 --rest-address=0.0.0.0 --nat=extip:172.18.34.253 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acecbaaeb307d4114d7c1b8ba8ab6d4af5fd528444d947dbfbfefaab7c2bf8fa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64135 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBo1Ob2rHukrPvVYzbdycFp4_1ynH8AFhAr1rdTmF_OjBIONoQP_FoQcBMjm1_mFM9JzyvsaP04cXO_NjAzUS_YBgmlkgnY0gmlwhKwSCfuKbXVsdGlhZGRyc4wACgSsEgn7BsyX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQII7wXmkofubm9-Gtcwowj3FEvi2_fbU_AXT7AFkgKlRYN0Y3CCzJaDdWRwgsyYhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.34.253 waku 4aacc951dc3d4fedc7b2a504a3f7bc778a1e4c6f5c3a8dd020b2605f3690dcb4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4aacc951dc3d. Setting up logs at ./log/docker/node3_2024-10-12_04-23-21__1385fd72-351e-4d41-b3b5-13546d920937__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 64131
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64131/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64131/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.34.253/tcp/64132/p2p/16Uiu2HAkvi4oMESqhqAuqEaDzJHkS2qMM1yjiDbW5qFrXMYYtJyS","/ip4/172.18.34.253/tcp/64133/ws/p2p/16Uiu2HAkvi4oMESqhqAuqEaDzJHkS2qMM1yjiDbW5qFrXMYYtJyS"],"enrUri":"enr:-LO4QBqjmixi_2F1WhWxt9dAVkmKXkfuEz17W1VfE2pkQvt2PlR_vNhB-j5WBZv2Rmf-lJQZr3657iil9-xyJ_JvcYoBgmlkgnY0gmlwhKwSIv2KbXVsdGlhZGRyc4wACgSsEiL9BvqF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQITDshOyl-jQ_9CtjTGYRaoyld4iPuk_CjIrLDqYJaadYN0Y3CC-oSDdWRwgvqGhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64131/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.9.251/tcp/52374/p2p/16Uiu2HAkv2YdmeqkWTrP9iJRmdodoDGGFKCv7xrq38xeL1DkQmSc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-12_04-23-21__1385fd72-351e-4d41-b3b5-13546d920937__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.126.250
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32982', '32983', '32984', '32985', '32986']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32982:32982 -p 32983:32983 -p 32984:32984 -p 32985:32985 -p 32986:32986 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32984 --rest-port=32982 --tcp-port=32983 --discv5-udp-port=32985 --rest-address=0.0.0.0 --nat=extip:172.18.126.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e3ce46aa9173efeb7faaacf2d4a934ff6cfffbb29de5badeaafdb891ced89c05 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32986 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBo1Ob2rHukrPvVYzbdycFp4_1ynH8AFhAr1rdTmF_OjBIONoQP_FoQcBMjm1_mFM9JzyvsaP04cXO_NjAzUS_YBgmlkgnY0gmlwhKwSCfuKbXVsdGlhZGRyc4wACgSsEgn7BsyX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQII7wXmkofubm9-Gtcwowj3FEvi2_fbU_AXT7AFkgKlRYN0Y3CCzJaDdWRwgsyYhXdha3UyAQ
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.250.239
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['39078', '39079', '39080', '39081', '39082']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 39078:39078 -p 39079:39079 -p 39080:39080 -p 39081:39081 -p 39082:39082 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39080 --rest-port=39078 --tcp-port=39079 --discv5-udp-port=39081 --rest-address=0.0.0.0 --nat=extip:172.18.250.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4bfaa4fc51b3b58c56beee5b3b7c785f16c6b7be1cb8bdb02aef54f4c55d59ee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39082 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBo1Ob2rHukrPvVYzbdycFp4_1ynH8AFhAr1rdTmF_OjBIONoQP_FoQcBMjm1_mFM9JzyvsaP04cXO_NjAzUS_YBgmlkgnY0gmlwhKwSCfuKbXVsdGlhZGRyc4wACgSsEgn7BsyX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQII7wXmkofubm9-Gtcwowj3FEvi2_fbU_AXT7AFkgKlRYN0Y3CCzJaDdWRwgsyYhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.250.239 waku c8786bb1b97622d7d3a84c14f73b6f75227535cf174144018ae8ceb7b3e59b2b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c8786bb1b976. Setting up logs at ./log/docker/node4_2024-10-12_04-23-21__1385fd72-351e-4d41-b3b5-13546d920937__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 39078
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39078/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39078/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.239/tcp/39079/p2p/16Uiu2HAm4wun7hYF2giUuTNcx3nAHQJfjAnma4efNwVVA7HYQ3xh","/ip4/172.18.250.239/tcp/39080/ws/p2p/16Uiu2HAm4wun7hYF2giUuTNcx3nAHQJfjAnma4efNwVVA7HYQ3xh"],"enrUri":"enr:-LO4QAnRvTRKBZDWi1YahennjyOC6mPpTk3qNrvCPsaYmaW6OKioAdnKHGzNA6xska50XHEK-fjrnFBTOzsHekJE6a0BgmlkgnY0gmlwhKwS-u-KbXVsdGlhZGRyc4wACgSsEvrvBpio3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKNeDV018dM7jtTRP8tTktmVMPeTfyHNVL1OV1O2HVnboN0Y3CCmKeDdWRwgpiphXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39078/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.9.251/tcp/52374/p2p/16Uiu2HAkv2YdmeqkWTrP9iJRmdodoDGGFKCv7xrq38xeL1DkQmSc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-12_04-23-21__1385fd72-351e-4d41-b3b5-13546d920937__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.152.157
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['28727', '28728', '28729', '28730', '28731']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 28727:28727 -p 28728:28728 -p 28729:28729 -p 28730:28730 -p 28731:28731 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28729 --rest-port=28727 --tcp-port=28728 --discv5-udp-port=28730 --rest-address=0.0.0.0 --nat=extip:172.18.152.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1a7ec335fe0c5ddc23bea969bbc2302fc0de7ffaf0c0dd47174ea9cbefa827d4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28731 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBo1Ob2rHukrPvVYzbdycFp4_1ynH8AFhAr1rdTmF_OjBIONoQP_FoQcBMjm1_mFM9JzyvsaP04cXO_NjAzUS_YBgmlkgnY0gmlwhKwSCfuKbXVsdGlhZGRyc4wACgSsEgn7BsyX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQII7wXmkofubm9-Gtcwowj3FEvi2_fbU_AXT7AFkgKlRYN0Y3CCzJaDdWRwgsyYhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.152.157 waku 32f76bee65436839bbed790fcf79cf5c789511d5844c000067c4d75a3b168676
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 32f76bee6543. Setting up logs at ./log/docker/node5_2024-10-12_04-23-21__1385fd72-351e-4d41-b3b5-13546d920937__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28727
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28727/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28727/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.157/tcp/28728/p2p/16Uiu2HAm6uaQR98TnY5FtwqK5xkCMKKoS8eArjTDZMZNSpgHspwy","/ip4/172.18.152.157/tcp/28729/ws/p2p/16Uiu2HAm6uaQR98TnY5FtwqK5xkCMKKoS8eArjTDZMZNSpgHspwy"],"enrUri":"enr:-LO4QPmQCoq_tu6ZBLD66adUiL3XtJIiM0hfRCFg6RqXxRK5c3i8EG_Igij3irZ2xK5hEY0s6CZKOBKAAXWOTXos0cUBgmlkgnY0gmlwhKwSmJ2KbXVsdGlhZGRyc4wACgSsEpidBnA53QOCcnOFAAMBAACJc2VjcDI1NmsxoQKqloPAbRIWJRw-QHTA3m6Oi2RVJh3T3HsqbplkAuw_gIN0Y3CCcDiDdWRwgnA6hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28727/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.9.251/tcp/52374/p2p/16Uiu2HAkv2YdmeqkWTrP9iJRmdodoDGGFKCv7xrq38xeL1DkQmSc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52373/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44313/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64131/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39078/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28727/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707010810509312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44313/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707010810509312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707010810509312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39078/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707010810509312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28727/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707010810509312,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707010946815488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44313/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707010946815488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707010946815488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39078/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707010946815488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28727/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707010946815488,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5cd1e7564d4b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ea6bdc039382
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4aacc951dc3d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c8786bb1b976
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 32f76bee6543
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.