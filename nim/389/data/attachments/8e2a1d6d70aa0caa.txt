[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_unsubscribed_peer with id: 2024-10-12_04-16-04__41ca27eb-c807-49bb-b58c-269de02b8fed
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-12_04-16-04__41ca27eb-c807-49bb-b58c-269de02b8fed__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.63.251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['1565', '1566', '1567', '1568', '1569']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 1565:1565 -p 1566:1566 -p 1567:1567 -p 1568:1568 -p 1569:1569 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1567 --rest-port=1565 --tcp-port=1566 --discv5-udp-port=1568 --rest-address=0.0.0.0 --nat=extip:172.18.63.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fb75f4bfedae56c6564fcae1d72cfbac56b8ccadfd5ccbc26f884b3b2bfebb3e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1569 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.63.251 waku 550859e620dd3bb9e16b12f226c6c928c4d96b42c5544e63362a0ecfe24bd30d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 550859e620dd. Setting up logs at ./log/docker/node1_2024-10-12_04-16-04__41ca27eb-c807-49bb-b58c-269de02b8fed__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1565
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1565/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1565/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.251/tcp/1566/p2p/16Uiu2HAm3j8rKpTsrvVpNk1eQPcvPByW8PXxr9ZB67NYaB93VDw1","/ip4/172.18.63.251/tcp/1567/ws/p2p/16Uiu2HAm3j8rKpTsrvVpNk1eQPcvPByW8PXxr9ZB67NYaB93VDw1"],"enrUri":"enr:-LO4QFzwwRssLwXWmmg0M-bdPc1CT-ADr7U-Lb2b92pQWtkVOC55_jhBK6ZgCeOw59BHGhpUeBMXftV25dM9PQVFobkBgmlkgnY0gmlwhKwSP_uKbXVsdGlhZGRyc4wACgSsEj_7BgYf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ7VsCoabzPMWRav36NKvAVArQSM-0368I4emBAWxXHbIN0Y3CCBh6DdWRwggYghXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-12_04-16-04__41ca27eb-c807-49bb-b58c-269de02b8fed__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.114.63
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61961', '61962', '61963', '61964', '61965']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61961:61961 -p 61962:61962 -p 61963:61963 -p 61964:61964 -p 61965:61965 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61963 --rest-port=61961 --tcp-port=61962 --discv5-udp-port=61964 --rest-address=0.0.0.0 --nat=extip:172.18.114.63 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2f9fb3f7ded6c43ad09dbcde9adb759d237ab04ed9cdc80ba1559dbe0498cdfe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61965 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QFzwwRssLwXWmmg0M-bdPc1CT-ADr7U-Lb2b92pQWtkVOC55_jhBK6ZgCeOw59BHGhpUeBMXftV25dM9PQVFobkBgmlkgnY0gmlwhKwSP_uKbXVsdGlhZGRyc4wACgSsEj_7BgYf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ7VsCoabzPMWRav36NKvAVArQSM-0368I4emBAWxXHbIN0Y3CCBh6DdWRwggYghXdha3UyBQ --filternode=/ip4/172.18.63.251/tcp/1566/p2p/16Uiu2HAm3j8rKpTsrvVpNk1eQPcvPByW8PXxr9ZB67NYaB93VDw1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.114.63 waku 9b411c3dab512684a449635d516c73d094868b2eec7a04d376371dabb2e8235e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9b411c3dab51. Setting up logs at ./log/docker/node2_2024-10-12_04-16-04__41ca27eb-c807-49bb-b58c-269de02b8fed__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61961
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61961/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61961/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.63/tcp/61962/p2p/16Uiu2HAm2LbnrPxfDsjJaGLfFpSqAfAsn6vgjvoCfW7XE8s5dA9L","/ip4/172.18.114.63/tcp/61963/ws/p2p/16Uiu2HAm2LbnrPxfDsjJaGLfFpSqAfAsn6vgjvoCfW7XE8s5dA9L"],"enrUri":"enr:-LO4QCB4FaJte3SS8wHirn_tNXx1-CP30JVQhKd-ayanmAhbDAbLgXE0yQhPTeMGaxMS-MUslyK_HRt3DQZ9svuFsm8BgmlkgnY0gmlwhKwScj-KbXVsdGlhZGRyc4wACgSsEnI_BvIL3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJmtSsXr0XsiZ2hYeH5KvCydf9pOpNbc0lVRszz-8d1h4N0Y3CC8gqDdWRwgvIMhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61961/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.251/tcp/1566/p2p/16Uiu2HAm3j8rKpTsrvVpNk1eQPcvPByW8PXxr9ZB67NYaB93VDw1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1565/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61961/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "560c21ef-a5b1-4795-8838-fe96c47ba61a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"560c21ef-a5b1-4795-8838-fe96c47ba61a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61961/filter/v2/subscriptions/81f1d878-d02a-400b-bf99-305feb072d66" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"81f1d878-d02a-400b-bf99-305feb072d66","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:61961/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "12345", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"12345","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61961/filter/v2/subscriptions/449c51c6-1347-4693-9462-09bb8809e6bb" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:61961/filter/v2/subscriptions/449c51c6-1347-4693-9462-09bb8809e6bb. Response content: b'{"requestId":"449c51c6-1347-4693-9462-09bb8809e6bb","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 550859e620dd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9b411c3dab51
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.