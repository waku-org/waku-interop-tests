[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-10-12_04-23-43__4e491d86-5868-4e5d-a2f1-3418143f7f01
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-12_04-23-43__4e491d86-5868-4e5d-a2f1-3418143f7f01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.125.166
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44998', '44999', '45000', '45001', '45002']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44998:44998 -p 44999:44999 -p 45000:45000 -p 45001:45001 -p 45002:45002 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45000 --rest-port=44998 --tcp-port=44999 --discv5-udp-port=45001 --rest-address=0.0.0.0 --nat=extip:172.18.125.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=002ff5a29c329d4da96fa395b40750fb15ba2dde4e27ebe5539e06bfac6ab77e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45002 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.125.166 waku aec2c1517a1001e32c96b93acab707dddd8fb80a9612108bad877491dff0d4bc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID aec2c1517a10. Setting up logs at ./log/docker/node1_2024-10-12_04-23-43__4e491d86-5868-4e5d-a2f1-3418143f7f01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44998
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44998/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44998/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.125.166/tcp/44999/p2p/16Uiu2HAkxEZbDyBqmT71HmXcVUwam7ggG83yV8M7agwvnLBNN8Xf","/ip4/172.18.125.166/tcp/45000/ws/p2p/16Uiu2HAkxEZbDyBqmT71HmXcVUwam7ggG83yV8M7agwvnLBNN8Xf"],"enrUri":"enr:-LO4QLdslYe0WCa1kC60JRbonwg5cppeXByBdChm2HQGk4QVBgvcwFft53VjJjCS_efdAzL5Hd65mgyckKqX2n9FuA8BgmlkgnY0gmlwhKwSfaaKbXVsdGlhZGRyc4wACgSsEn2mBq_I3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIpunKa282aDVb3Mqm1oUCJv1a6hWR_2BQ8cMom0pfXBoN0Y3CCr8eDdWRwgq_JhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-12_04-23-43__4e491d86-5868-4e5d-a2f1-3418143f7f01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.111.244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['28798', '28799', '28800', '28801', '28802']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 28798:28798 -p 28799:28799 -p 28800:28800 -p 28801:28801 -p 28802:28802 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28800 --rest-port=28798 --tcp-port=28799 --discv5-udp-port=28801 --rest-address=0.0.0.0 --nat=extip:172.18.111.244 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2c8fce835414ac7a6abfebe4b6d8c7d9bd66bc6ecc25a3ecf6edc1bd3216e392 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28802 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QLdslYe0WCa1kC60JRbonwg5cppeXByBdChm2HQGk4QVBgvcwFft53VjJjCS_efdAzL5Hd65mgyckKqX2n9FuA8BgmlkgnY0gmlwhKwSfaaKbXVsdGlhZGRyc4wACgSsEn2mBq_I3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIpunKa282aDVb3Mqm1oUCJv1a6hWR_2BQ8cMom0pfXBoN0Y3CCr8eDdWRwgq_JhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.111.244 waku 47483329d528036e4bfbc3c123b1039cae65ea7c895f62b47d32ca1a81da72f1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 47483329d528. Setting up logs at ./log/docker/node2_2024-10-12_04-23-43__4e491d86-5868-4e5d-a2f1-3418143f7f01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28798
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28798/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28798/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.244/tcp/28799/p2p/16Uiu2HAkuS5Y7x93bZrDbE2pbrmY7EXNDuSQ7GjTVu5vE2JMWSxS","/ip4/172.18.111.244/tcp/28800/ws/p2p/16Uiu2HAkuS5Y7x93bZrDbE2pbrmY7EXNDuSQ7GjTVu5vE2JMWSxS"],"enrUri":"enr:-LO4QBG-QuSnXdbvdH2uCZj7yiiAyyeKMIE_avT5Y5t_tAH_HEgTQ3RJ8X06xplRsR-GpyypdeE2by3TuHOR9Jb-uosBgmlkgnY0gmlwhKwSb_SKbXVsdGlhZGRyc4wACgSsEm_0BnCA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIAGqLq6GcbH95O-U7j1-nS824jzh1DIGQf8PDdjZ8cO4N0Y3CCcH-DdWRwgnCBhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28798/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.125.166/tcp/44999/p2p/16Uiu2HAkxEZbDyBqmT71HmXcVUwam7ggG83yV8M7agwvnLBNN8Xf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-12_04-23-43__4e491d86-5868-4e5d-a2f1-3418143f7f01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.107.80
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['58518', '58519', '58520', '58521', '58522']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 58518:58518 -p 58519:58519 -p 58520:58520 -p 58521:58521 -p 58522:58522 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58520 --rest-port=58518 --tcp-port=58519 --discv5-udp-port=58521 --rest-address=0.0.0.0 --nat=extip:172.18.107.80 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ae71f22ef4bdfa4694f8d04ef9dbbafccd579a9ac87da680994fbf296bb6d6fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58522 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QLdslYe0WCa1kC60JRbonwg5cppeXByBdChm2HQGk4QVBgvcwFft53VjJjCS_efdAzL5Hd65mgyckKqX2n9FuA8BgmlkgnY0gmlwhKwSfaaKbXVsdGlhZGRyc4wACgSsEn2mBq_I3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIpunKa282aDVb3Mqm1oUCJv1a6hWR_2BQ8cMom0pfXBoN0Y3CCr8eDdWRwgq_JhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.107.80 waku 3975354484c82608198640ef7d6fba61f70b675d6d3e1a1795155cb9dc0c9d47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3975354484c8. Setting up logs at ./log/docker/node3_2024-10-12_04-23-43__4e491d86-5868-4e5d-a2f1-3418143f7f01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 58518
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58518/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58518/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.80/tcp/58519/p2p/16Uiu2HAm8G2i6vk9H8i5zmuvJzfER8kgUZHYKNSL6FMGCKU3A41d","/ip4/172.18.107.80/tcp/58520/ws/p2p/16Uiu2HAm8G2i6vk9H8i5zmuvJzfER8kgUZHYKNSL6FMGCKU3A41d"],"enrUri":"enr:-LO4QG9aDnhL87Srh4Il66M7n9VkASkuofICHiKafktEAWrwAOyDrMvrI_qpvqyTFmzBvT5kNLz3S1A4TCv57LbQyBwBgmlkgnY0gmlwhKwSa1CKbXVsdGlhZGRyc4wACgSsEmtQBuSY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK-r4-TYch2HetEppYTnj9znIyUDh-CTSIILQ4Cis6_-IN0Y3CC5JeDdWRwguSZhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58518/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.125.166/tcp/44999/p2p/16Uiu2HAkxEZbDyBqmT71HmXcVUwam7ggG83yV8M7agwvnLBNN8Xf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-12_04-23-43__4e491d86-5868-4e5d-a2f1-3418143f7f01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.158.192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53837', '53838', '53839', '53840', '53841']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53837:53837 -p 53838:53838 -p 53839:53839 -p 53840:53840 -p 53841:53841 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53839 --rest-port=53837 --tcp-port=53838 --discv5-udp-port=53840 --rest-address=0.0.0.0 --nat=extip:172.18.158.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=594e5f7eeed26610dbee764de4052efedeef2ccf80e3feaba782ffb52fb6ec5a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53841 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QLdslYe0WCa1kC60JRbonwg5cppeXByBdChm2HQGk4QVBgvcwFft53VjJjCS_efdAzL5Hd65mgyckKqX2n9FuA8BgmlkgnY0gmlwhKwSfaaKbXVsdGlhZGRyc4wACgSsEn2mBq_I3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIpunKa282aDVb3Mqm1oUCJv1a6hWR_2BQ8cMom0pfXBoN0Y3CCr8eDdWRwgq_JhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.158.192 waku cd8497667207c17a71a34b78a9cec4e0c2041e239adcf8efee55880a134384c5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cd8497667207. Setting up logs at ./log/docker/node4_2024-10-12_04-23-43__4e491d86-5868-4e5d-a2f1-3418143f7f01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53837
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53837/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53837/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.158.192/tcp/53838/p2p/16Uiu2HAkxjiDVYa8fRWYnpa34WD9hqoYChVA4ikTcC6UzXZk83CV","/ip4/172.18.158.192/tcp/53839/ws/p2p/16Uiu2HAkxjiDVYa8fRWYnpa34WD9hqoYChVA4ikTcC6UzXZk83CV"],"enrUri":"enr:-LO4QNLKUG8we07FrBNLJTDEEzNmU7ZQqwMfYmQM0HWM1u1KR_wqpI6-Q8M8IBrR-Sii6g6zEDJz107y1FMO0R7xvaMBgmlkgnY0gmlwhKwSnsCKbXVsdGlhZGRyc4wACgSsEp7ABtJP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIxMgs3tJv90hknNsy09ZExd6AZEAbDI8paA4GkyLFMqoN0Y3CC0k6DdWRwgtJQhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53837/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.125.166/tcp/44999/p2p/16Uiu2HAkxEZbDyBqmT71HmXcVUwam7ggG83yV8M7agwvnLBNN8Xf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-12_04-23-43__4e491d86-5868-4e5d-a2f1-3418143f7f01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.155.239
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['34999', '35000', '35001', '35002', '35003']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 34999:34999 -p 35000:35000 -p 35001:35001 -p 35002:35002 -p 35003:35003 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35001 --rest-port=34999 --tcp-port=35000 --discv5-udp-port=35002 --rest-address=0.0.0.0 --nat=extip:172.18.155.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a49ebbdb6ae8ffd9b6440867a4e22ccd9475d5ada9812fff34db71dc15ff0753 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35003 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QLdslYe0WCa1kC60JRbonwg5cppeXByBdChm2HQGk4QVBgvcwFft53VjJjCS_efdAzL5Hd65mgyckKqX2n9FuA8BgmlkgnY0gmlwhKwSfaaKbXVsdGlhZGRyc4wACgSsEn2mBq_I3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIpunKa282aDVb3Mqm1oUCJv1a6hWR_2BQ8cMom0pfXBoN0Y3CCr8eDdWRwgq_JhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.155.239 waku b7596aff67604933df5a8f291fcd88da8268a5e76b1d2ab83bf3bc5acfe454de
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b7596aff6760. Setting up logs at ./log/docker/node5_2024-10-12_04-23-43__4e491d86-5868-4e5d-a2f1-3418143f7f01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 34999
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34999/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34999/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.239/tcp/35000/p2p/16Uiu2HAmCMToG7BPsybDb5dqx6iZB1h1aSef8D8epYZmhqHzoLQk","/ip4/172.18.155.239/tcp/35001/ws/p2p/16Uiu2HAmCMToG7BPsybDb5dqx6iZB1h1aSef8D8epYZmhqHzoLQk"],"enrUri":"enr:-LO4QFUCKQ1oykvO8wSwWBCareZy6C3JEGZpJdiEWhUzlCLSKD_Dpo2YK8QP-rWVNMSPfNsApJpTaOf937EPPGzOuDYBgmlkgnY0gmlwhKwSm--KbXVsdGlhZGRyc4wACgSsEpvvBoi53QOCcnOFAAMBAACJc2VjcDI1NmsxoQL7gpSrm2hQDKuijTnf59ztYPrMzrwN7HJZHsPuz_L0zYN0Y3CCiLiDdWRwgoi6hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34999/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.125.166/tcp/44999/p2p/16Uiu2HAkxEZbDyBqmT71HmXcVUwam7ggG83yV8M7agwvnLBNN8Xf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44998/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28798/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58518/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53837/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34999/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44998/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44998/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707034885953024,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28798/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707034885953024,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58518/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707034885953024,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707034885953024,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707034885953024,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44998/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707035028350464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28798/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707035028350464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58518/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707035028350464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707035028350464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728707035028350464,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id aec2c1517a10
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 47483329d528
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3975354484c8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cd8497667207
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b7596aff6760
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.