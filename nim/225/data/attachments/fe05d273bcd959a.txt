[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-06-04_04-11-18__3f5b7e4f-2658-4030-827c-df2ae3633a17
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-06-04_04-11-18__3f5b7e4f-2658-4030-827c-df2ae3633a17__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.191.188
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['16739', '16740', '16741', '16742', '16743']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 16739:16739 -p 16740:16740 -p 16741:16741 -p 16742:16742 -p 16743:16743 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16741 --rest-port=16739 --tcp-port=16740 --discv5-udp-port=16742 --rest-address=0.0.0.0 --nat=extip:172.18.191.188 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16743 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.191.188 waku e7e5598a69a9140ed6936e9bb3668e759b7ccee553248b13d312ea4aabfa960c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e7e5598a69a9. Setting up logs at ./log/docker/node1_2024-06-04_04-11-18__3f5b7e4f-2658-4030-827c-df2ae3633a17__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 16739
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16739/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16739/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.191.188/tcp/16740/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.191.188/tcp/16741/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QBoM-wHYCObQq6pqCILT15qrzE5vRjCWH4LE1FjUMBeTTKvrLdkU0TKP9WquCZLfqS8Mf1GCn5es0FBKpU3igIcBgmlkgnY0gmlwhKwSv7yKbXVsdGlhZGRyc4wACgSsEr-8BkFl3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCQWSDdWRwgkFmhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-06-04_04-11-18__3f5b7e4f-2658-4030-827c-df2ae3633a17__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.155.75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['25052', '25053', '25054', '25055', '25056']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 25052:25052 -p 25053:25053 -p 25054:25054 -p 25055:25055 -p 25056:25056 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25054 --rest-port=25052 --tcp-port=25053 --discv5-udp-port=25055 --rest-address=0.0.0.0 --nat=extip:172.18.155.75 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25056 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBoM-wHYCObQq6pqCILT15qrzE5vRjCWH4LE1FjUMBeTTKvrLdkU0TKP9WquCZLfqS8Mf1GCn5es0FBKpU3igIcBgmlkgnY0gmlwhKwSv7yKbXVsdGlhZGRyc4wACgSsEr-8BkFl3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCQWSDdWRwgkFmhXdha3UyBQ --filternode=/ip4/172.18.191.188/tcp/16740/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.155.75 waku fdad339e4187e2ead59976d4b4dbffc08e61d13f2a0dbe8d0ed6a6f0a7a9be66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID fdad339e4187. Setting up logs at ./log/docker/node2_2024-06-04_04-11-18__3f5b7e4f-2658-4030-827c-df2ae3633a17__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 25052
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25052/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25052/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.75/tcp/25053/p2p/16Uiu2HAmCjNNYm4xVKxh7cbiWyKHEQeqZTNFya7nbnfvasBPp64Q","/ip4/172.18.155.75/tcp/25054/ws/p2p/16Uiu2HAmCjNNYm4xVKxh7cbiWyKHEQeqZTNFya7nbnfvasBPp64Q"],"enrUri":"enr:-LO4QK1z7fE_d29NdgYarR7oSG6m2UDXBHOgnQxDvTfMzKOPcH9A9dvc3Hyx_3kPQ7rAQc0J_n3evaGGaE48gyMCiboBgmlkgnY0gmlwhKwSm0uKbXVsdGlhZGRyc4wACgSsEptLBmHe3QOCcnOFAAABAACJc2VjcDI1NmsxoQMBHzkm77or18b1lAmwKrXWkHR0SSxgFs_hG8TT8er_cYN0Y3CCYd2DdWRwgmHfhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25052/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.191.188/tcp/16740/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-06-04_04-11-18__3f5b7e4f-2658-4030-827c-df2ae3633a17__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.174.128
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['19350', '19351', '19352', '19353', '19354']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 19350:19350 -p 19351:19351 -p 19352:19352 -p 19353:19353 -p 19354:19354 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19352 --rest-port=19350 --tcp-port=19351 --discv5-udp-port=19353 --rest-address=0.0.0.0 --nat=extip:172.18.174.128 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19354 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBoM-wHYCObQq6pqCILT15qrzE5vRjCWH4LE1FjUMBeTTKvrLdkU0TKP9WquCZLfqS8Mf1GCn5es0FBKpU3igIcBgmlkgnY0gmlwhKwSv7yKbXVsdGlhZGRyc4wACgSsEr-8BkFl3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCQWSDdWRwgkFmhXdha3UyBQ --filternode=/ip4/172.18.191.188/tcp/16740/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.174.128 waku e6325e894eb17b8c3d4a3298bae1b342812d83c431028c307bd3d39200b6db2a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e6325e894eb1. Setting up logs at ./log/docker/node3_2024-06-04_04-11-18__3f5b7e4f-2658-4030-827c-df2ae3633a17__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 19350
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19350/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19350/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.174.128/tcp/19351/p2p/16Uiu2HAmLXE1VNYKRsW2cQfXqMKwGND9gpqsnrsx5Xaauneop4nm","/ip4/172.18.174.128/tcp/19352/ws/p2p/16Uiu2HAmLXE1VNYKRsW2cQfXqMKwGND9gpqsnrsx5Xaauneop4nm"],"enrUri":"enr:-LO4QKh4alRO7cHyTdeA3e2GDNs4v5bAEj6vPuG-fcAF2VpBB4odKepvNxGZnXLGBZf8P0-kg0WGMAGJQGIEwb5Z78ABgmlkgnY0gmlwhKwSroCKbXVsdGlhZGRyc4wACgSsEq6ABkuY3QOCcnOFAAABAACJc2VjcDI1NmsxoQN04Er0aD5C2JiWh4UayK2T7g1S4kmJ2ns3TPq0xFQWYoN0Y3CCS5eDdWRwgkuZhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19350/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.191.188/tcp/16740/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-06-04_04-11-18__3f5b7e4f-2658-4030-827c-df2ae3633a17__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.250.45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['12809', '12810', '12811', '12812', '12813']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 12809:12809 -p 12810:12810 -p 12811:12811 -p 12812:12812 -p 12813:12813 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12811 --rest-port=12809 --tcp-port=12810 --discv5-udp-port=12812 --rest-address=0.0.0.0 --nat=extip:172.18.250.45 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12813 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBoM-wHYCObQq6pqCILT15qrzE5vRjCWH4LE1FjUMBeTTKvrLdkU0TKP9WquCZLfqS8Mf1GCn5es0FBKpU3igIcBgmlkgnY0gmlwhKwSv7yKbXVsdGlhZGRyc4wACgSsEr-8BkFl3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCQWSDdWRwgkFmhXdha3UyBQ --filternode=/ip4/172.18.191.188/tcp/16740/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.250.45 waku c1b09ef4fb92c1ab766cb74102a1e84b721e36df216b31b72421146fa4f6ad8c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c1b09ef4fb92. Setting up logs at ./log/docker/node4_2024-06-04_04-11-18__3f5b7e4f-2658-4030-827c-df2ae3633a17__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 12809
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12809/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12809/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.45/tcp/12810/p2p/16Uiu2HAm5mZBPUVJtWbwF2kUMkwNu7LHLyiMuiqiTcakasHkAqjS","/ip4/172.18.250.45/tcp/12811/ws/p2p/16Uiu2HAm5mZBPUVJtWbwF2kUMkwNu7LHLyiMuiqiTcakasHkAqjS"],"enrUri":"enr:-LO4QJHZg4XGEx4DbwlKuj4rzraOOgoqiPLpOA-MWFOqH7ltD1jOC3ID984ZFGpUUgo4CnCcYgvpnMLhG2jFAmh5WKIBgmlkgnY0gmlwhKwS-i2KbXVsdGlhZGRyc4wACgSsEvotBjIL3QOCcnOFAAABAACJc2VjcDI1NmsxoQKZrMvrRoEXOSHKWt4qtYk7XqW85XvFHFw3Rj9XRe07dYN0Y3CCMgqDdWRwgjIMhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12809/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.191.188/tcp/16740/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-06-04_04-11-18__3f5b7e4f-2658-4030-827c-df2ae3633a17__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.189.177
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['41631', '41632', '41633', '41634', '41635']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 41631:41631 -p 41632:41632 -p 41633:41633 -p 41634:41634 -p 41635:41635 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41633 --rest-port=41631 --tcp-port=41632 --discv5-udp-port=41634 --rest-address=0.0.0.0 --nat=extip:172.18.189.177 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41635 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBoM-wHYCObQq6pqCILT15qrzE5vRjCWH4LE1FjUMBeTTKvrLdkU0TKP9WquCZLfqS8Mf1GCn5es0FBKpU3igIcBgmlkgnY0gmlwhKwSv7yKbXVsdGlhZGRyc4wACgSsEr-8BkFl3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCQWSDdWRwgkFmhXdha3UyBQ --filternode=/ip4/172.18.191.188/tcp/16740/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.189.177 waku 7e70feda347384c956b1a62dd2196dab97bc333efa8598f738f0016f37ef877f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 7e70feda3473. Setting up logs at ./log/docker/node5_2024-06-04_04-11-18__3f5b7e4f-2658-4030-827c-df2ae3633a17__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 41631
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41631/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41631/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.189.177/tcp/41632/p2p/16Uiu2HAm3oJksEJPG52VXcZwNfsEQKfjDZjvqQuctKHDD7WGQVqS","/ip4/172.18.189.177/tcp/41633/ws/p2p/16Uiu2HAm3oJksEJPG52VXcZwNfsEQKfjDZjvqQuctKHDD7WGQVqS"],"enrUri":"enr:-LO4QPyfPH5qQLuD91LkYfcBD38-XdS50YIcyHAONXvMZD3weM4Wn24hwpvzHYDrRqGhb9XJkF1GTFgoy_FaSydon9IBgmlkgnY0gmlwhKwSvbGKbXVsdGlhZGRyc4wACgSsEr2xBqKh3QOCcnOFAAABAACJc2VjcDI1NmsxoQJ8aEbEJ_tB5sbc18_CyJpD87Zp71VK-0gvzYrq_jArEYN0Y3CCoqCDdWRwgqKihXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41631/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.191.188/tcp/16740/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16739/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25052/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d14df540-540c-45a2-86b0-6ec7000fe4db", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d14df540-540c-45a2-86b0-6ec7000fe4db","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19350/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0caeb16a-979d-4ae3-96cf-1d11e0c5f372", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0caeb16a-979d-4ae3-96cf-1d11e0c5f372","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12809/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9e6a3dc3-630a-4e6d-a805-8fe671051831", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9e6a3dc3-630a-4e6d-a805-8fe671051831","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41631/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a4b9a58e-5165-48d5-b36f-d8c411b88eb7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a4b9a58e-5165-48d5-b36f-d8c411b88eb7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16739/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25052/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1717474286499895040,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16739/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19350/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:19350/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id e7e5598a69a9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id fdad339e4187
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id e6325e894eb1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id c1b09ef4fb92
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 7e70feda3473
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.