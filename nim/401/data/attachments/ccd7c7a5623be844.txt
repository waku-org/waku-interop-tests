[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-10-23_08-12-44__e6fa0117-e166-4e90-99b7-b7b682fd9bf9
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-23_08-12-44__e6fa0117-e166-4e90-99b7-b7b682fd9bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.145.191
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['28400', '28401', '28402', '28403', '28404']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 28400:28400 -p 28401:28401 -p 28402:28402 -p 28403:28403 -p 28404:28404 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28402 --rest-port=28400 --tcp-port=28401 --discv5-udp-port=28403 --rest-address=0.0.0.0 --nat=extip:172.18.145.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dade0748deac49be9cd4ab0dc5fe5afe39fadaadd88f5ce23e435ccaee1370c6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28404 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.145.191 waku b4995febdf0801bb10be863eff9a30d073d6604241834970296364b844a82763
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b4995febdf08. Setting up logs at ./log/docker/node1_2024-10-23_08-12-44__e6fa0117-e166-4e90-99b7-b7b682fd9bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28400
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28400/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28400/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.145.191/tcp/28401/p2p/16Uiu2HAmKCadqEa3c1w7TArdn8YgeV7MdFZmEQpzMwUFtCY7spT4","/ip4/172.18.145.191/tcp/28402/ws/p2p/16Uiu2HAmKCadqEa3c1w7TArdn8YgeV7MdFZmEQpzMwUFtCY7spT4"],"enrUri":"enr:-LO4QKIJotR_DJDHaM7caK-ESBvWiv5tzMOAiyHnYDW3kLArdlZdbj5WQorU4GAn1g3t-b-4TknhwZ8XodRL7WNbrKoBgmlkgnY0gmlwhKwSkb-KbXVsdGlhZGRyc4wACgSsEpG_Bm7y3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNhPeSfaMUyuV_Z5x5JtHFiNXqdUpFFZu2_Jst9fCEIU4N0Y3CCbvGDdWRwgm7zhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-23_08-12-44__e6fa0117-e166-4e90-99b7-b7b682fd9bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.71.131
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48264', '48265', '48266', '48267', '48268']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48264:48264 -p 48265:48265 -p 48266:48266 -p 48267:48267 -p 48268:48268 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48266 --rest-port=48264 --tcp-port=48265 --discv5-udp-port=48267 --rest-address=0.0.0.0 --nat=extip:172.18.71.131 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dabc471bdb61ca54ad0b8d53a72fc90eed8db5b0013c34d0ac058fcdcbb7e251 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48268 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QKIJotR_DJDHaM7caK-ESBvWiv5tzMOAiyHnYDW3kLArdlZdbj5WQorU4GAn1g3t-b-4TknhwZ8XodRL7WNbrKoBgmlkgnY0gmlwhKwSkb-KbXVsdGlhZGRyc4wACgSsEpG_Bm7y3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNhPeSfaMUyuV_Z5x5JtHFiNXqdUpFFZu2_Jst9fCEIU4N0Y3CCbvGDdWRwgm7zhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.71.131 waku 50c32a61696ba0ea606e9cf67922ba2166b5fbb9cc294bd64ca6bf82085d3b1f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 50c32a61696b. Setting up logs at ./log/docker/node2_2024-10-23_08-12-44__e6fa0117-e166-4e90-99b7-b7b682fd9bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48264
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48264/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48264/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.71.131/tcp/48265/p2p/16Uiu2HAm2j5D6ZzQEaCA1P9UnxEkxBMoVYSc8vwfY7ndYSshuaPT","/ip4/172.18.71.131/tcp/48266/ws/p2p/16Uiu2HAm2j5D6ZzQEaCA1P9UnxEkxBMoVYSc8vwfY7ndYSshuaPT"],"enrUri":"enr:-LO4QBbNKUpuqDw0UYkUPbewWT653gaao9UY-R4TY8BDJisdFeOiOGHRda5TlcGA9UT8c2nn5ulrsdK8sKxqyrNfsUQBgmlkgnY0gmlwhKwSR4OKbXVsdGlhZGRyc4wACgSsEkeDBryK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJsdvKg8P2zQI2ijeWqTpqkjX1ZRkWRtLwZV6SxqhQSWoN0Y3CCvImDdWRwgryLhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48264/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.191/tcp/28401/p2p/16Uiu2HAmKCadqEa3c1w7TArdn8YgeV7MdFZmEQpzMwUFtCY7spT4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-23_08-12-44__e6fa0117-e166-4e90-99b7-b7b682fd9bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.37.242
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33624', '33625', '33626', '33627', '33628']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33624:33624 -p 33625:33625 -p 33626:33626 -p 33627:33627 -p 33628:33628 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33626 --rest-port=33624 --tcp-port=33625 --discv5-udp-port=33627 --rest-address=0.0.0.0 --nat=extip:172.18.37.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fca450f25bd4fb5fef21c18cb0fc034af4ec4fbb20cffac02bbfc39fecf6a77d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33628 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QKIJotR_DJDHaM7caK-ESBvWiv5tzMOAiyHnYDW3kLArdlZdbj5WQorU4GAn1g3t-b-4TknhwZ8XodRL7WNbrKoBgmlkgnY0gmlwhKwSkb-KbXVsdGlhZGRyc4wACgSsEpG_Bm7y3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNhPeSfaMUyuV_Z5x5JtHFiNXqdUpFFZu2_Jst9fCEIU4N0Y3CCbvGDdWRwgm7zhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.37.242 waku 93739050040cb52fbf7c42c41e68bcbbbaa4c95cf766bb7fe061dc6cf1d0a979
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 93739050040c. Setting up logs at ./log/docker/node3_2024-10-23_08-12-44__e6fa0117-e166-4e90-99b7-b7b682fd9bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33624
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33624/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33624/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.242/tcp/33625/p2p/16Uiu2HAmHPTay2vPwxCaiZdvGwZ5w5qaLk3jyDr8VNKc6hBcBAVk","/ip4/172.18.37.242/tcp/33626/ws/p2p/16Uiu2HAmHPTay2vPwxCaiZdvGwZ5w5qaLk3jyDr8VNKc6hBcBAVk"],"enrUri":"enr:-LO4QF6Zp2mu0Jra8qAihKLwpy-IUMq1xoJJIk77WIdMkdN6L35VjZ0T279_gcpfiq__2LwAK8eoLGnjlMX3jAnab2QBgmlkgnY0gmlwhKwSJfKKbXVsdGlhZGRyc4wACgSsEiXyBoNa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNGT-_z8d8j7b_hxzLmgfAxXWuPl6yRaVI_AvlmuP7NR4N0Y3CCg1mDdWRwgoNbhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33624/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.191/tcp/28401/p2p/16Uiu2HAmKCadqEa3c1w7TArdn8YgeV7MdFZmEQpzMwUFtCY7spT4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-23_08-12-44__e6fa0117-e166-4e90-99b7-b7b682fd9bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.7.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16624', '16625', '16626', '16627', '16628']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16624:16624 -p 16625:16625 -p 16626:16626 -p 16627:16627 -p 16628:16628 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16626 --rest-port=16624 --tcp-port=16625 --discv5-udp-port=16627 --rest-address=0.0.0.0 --nat=extip:172.18.7.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d854e9cf68b8bce82ebe6d31550bbfebf6237c9b5d79eeebdcffe2dd4ecce44b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16628 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QKIJotR_DJDHaM7caK-ESBvWiv5tzMOAiyHnYDW3kLArdlZdbj5WQorU4GAn1g3t-b-4TknhwZ8XodRL7WNbrKoBgmlkgnY0gmlwhKwSkb-KbXVsdGlhZGRyc4wACgSsEpG_Bm7y3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNhPeSfaMUyuV_Z5x5JtHFiNXqdUpFFZu2_Jst9fCEIU4N0Y3CCbvGDdWRwgm7zhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.7.246 waku 09a2c047e61dfb8f4c9d3975de4a969b8bddd444084a205fba701387d514b587
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 09a2c047e61d. Setting up logs at ./log/docker/node4_2024-10-23_08-12-44__e6fa0117-e166-4e90-99b7-b7b682fd9bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16624
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16624/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16624/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.246/tcp/16625/p2p/16Uiu2HAkz37DBNDs2vKagyoJ1r79FLw6HxkHDCeJzko4injToquN","/ip4/172.18.7.246/tcp/16626/ws/p2p/16Uiu2HAkz37DBNDs2vKagyoJ1r79FLw6HxkHDCeJzko4injToquN"],"enrUri":"enr:-LO4QLy9zT2UsZA66BUzE_MGbj6qyuiIvCzcuqth3VGrRkdeBaeyAl4dvcnRrzUJbUL33dAaSdAt1fOe3670XZgsiiQBgmlkgnY0gmlwhKwSB_aKbXVsdGlhZGRyc4wACgSsEgf2BkDy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJEgprFPeVdwlRegziX0RFwrDUvqFocRluIPG5a-RcQbYN0Y3CCQPGDdWRwgkDzhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16624/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.191/tcp/28401/p2p/16Uiu2HAmKCadqEa3c1w7TArdn8YgeV7MdFZmEQpzMwUFtCY7spT4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-23_08-12-44__e6fa0117-e166-4e90-99b7-b7b682fd9bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.217.13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['7170', '7171', '7172', '7173', '7174']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 7170:7170 -p 7171:7171 -p 7172:7172 -p 7173:7173 -p 7174:7174 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7172 --rest-port=7170 --tcp-port=7171 --discv5-udp-port=7173 --rest-address=0.0.0.0 --nat=extip:172.18.217.13 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bc20b159e4ca42aa4cc8963eadafc2c69cd46c3aa566d8d486aefaad8f792332 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7174 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QKIJotR_DJDHaM7caK-ESBvWiv5tzMOAiyHnYDW3kLArdlZdbj5WQorU4GAn1g3t-b-4TknhwZ8XodRL7WNbrKoBgmlkgnY0gmlwhKwSkb-KbXVsdGlhZGRyc4wACgSsEpG_Bm7y3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNhPeSfaMUyuV_Z5x5JtHFiNXqdUpFFZu2_Jst9fCEIU4N0Y3CCbvGDdWRwgm7zhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.217.13 waku c665ec42bd3d98ddf302ec0b7cf062fa437c1f4c3d0e3687c946ed867cbf44af
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c665ec42bd3d. Setting up logs at ./log/docker/node5_2024-10-23_08-12-44__e6fa0117-e166-4e90-99b7-b7b682fd9bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7170
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7170/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7170/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.13/tcp/7171/p2p/16Uiu2HAm6vUEJM29AFG7miSG7d3NsSSbEjPt94woqojmGoPMkQkC","/ip4/172.18.217.13/tcp/7172/ws/p2p/16Uiu2HAm6vUEJM29AFG7miSG7d3NsSSbEjPt94woqojmGoPMkQkC"],"enrUri":"enr:-LO4QOMx3EKxw_mU1tblulZDCqG_k2Ex50BqZyGtlHhZsyjfDXmmAEC-yfHchft9J3FUULGYgkGTk0a_t312FR8bdbQBgmlkgnY0gmlwhKwS2Q2KbXVsdGlhZGRyc4wACgSsEtkNBhwE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKq0R0vux_Dbql4rKh9TL-7BNFXHrjUDo649UXwpA9CvYN0Y3CCHAODdWRwghwFhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7170/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.191/tcp/28401/p2p/16Uiu2HAmKCadqEa3c1w7TArdn8YgeV7MdFZmEQpzMwUFtCY7spT4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28400/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48264/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33624/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16624/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7170/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729671176515009792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48264/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729671176515009792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33624/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729671176515009792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16624/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729671176515009792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7170/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729671176515009792,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7170/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729671176667021568,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48264/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729671176667021568,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33624/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729671176667021568,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16624/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729671176667021568,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7170/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1729671176667021568,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b4995febdf08
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 50c32a61696b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 93739050040c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 09a2c047e61d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c665ec42bd3d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.