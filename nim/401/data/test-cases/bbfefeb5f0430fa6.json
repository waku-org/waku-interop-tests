{"uid":"bbfefeb5f0430fa6","name":"test_filter_unsubscribe_all_from_90_content_topics","fullName":"tests.filter.test_unsubscribe_all.TestFilterUnSubscribeAll#test_filter_unsubscribe_all_from_90_content_topics","historyId":"415f54b69e8c26bcf3d2be8c702fe696","time":{"start":1729670843328,"stop":1729670844082,"duration":754},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1729670460168,"stop":1729670460168,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1729670839748,"stop":1729670839748,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1729670839748,"stop":1729670839748,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1729670839748,"stop":1729670839748,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1729670839748,"stop":1729670839749,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1729670839748,"stop":1729670839748,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1729670839749,"stop":1729670839749,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_node","time":{"start":1729670839749,"stop":1729670841624,"duration":1875},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1729670839749,"stop":1729670839749,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_filter_node","time":{"start":1729670841624,"stop":1729670843327,"duration":1703},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1729670843274,"stop":1729670843327,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.filter.test_unsubscribe_all.TestFilterUnSubscribeAll object at 0x7fa9eddfbce0>, <src.node.waku_node.WakuNode object at 0x7fa9ed7645f0>, ['/ip4/172.18.60.90/tcp/1440/p2p/16Uiu2HAmV5dS5GdRvSjPLHRkh5HAXt4MUMW7DNWhS12FYJZbAcjc'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1729670843328,"stop":1729670843365,"duration":37},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1729670843354,"stop":1729670843365,"duration":11},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1729670843354,"stop":1729670843365,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'b2d4d652-44b8-4fb6-a111-cda3ee8f2186', 'contentFilters': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'b2d4d652-44b8-4fb6-a111-cda3ee8f2186', 'contentFilters': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1729670843365,"stop":1729670843378,"duration":13},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1729670843370,"stop":1729670843378,"duration":8},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1729670843370,"stop":1729670843378,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'df0937d8-a9b7-49f9-9d8e-92b00f2beca9', 'contentFilters': ['31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'df0937d8-a9b7-49f9-9d8e-92b00f2beca9', 'contentFilters': ['31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1729670843378,"stop":1729670843392,"duration":14},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1729670843383,"stop":1729670843392,"duration":9},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1729670843383,"stop":1729670843392,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '2005ee50-210a-42d3-a45f-50f2552b0624', 'contentFilters': ['61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '2005ee50-210a-42d3-a45f-50f2552b0624', 'contentFilters': ['61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1729670843393,"stop":1729670843393,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'13'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_filter_peer","time":{"start":1729670843393,"stop":1729670843508,"duration":115},"status":"passed","steps":[{"name":"get_filter_messages","time":{"start":1729670843503,"stop":1729670843506,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'13'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fa9ed7645f0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1729670843508,"stop":1729670843508,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '13', 'timestamp': 1729670843392648960}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '13', 'timestamp': 1729670843392648960}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1729670843509,"stop":1729670843509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'38'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_filter_peer","time":{"start":1729670843509,"stop":1729670843623,"duration":114},"status":"passed","steps":[{"name":"get_filter_messages","time":{"start":1729670843617,"stop":1729670843621,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'38'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fa9ed7645f0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1729670843623,"stop":1729670843623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '38', 'timestamp': 1729670843508625664}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '38', 'timestamp': 1729670843508625664}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1729670843623,"stop":1729670843623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'65'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_filter_peer","time":{"start":1729670843624,"stop":1729670843741,"duration":117},"status":"passed","steps":[{"name":"get_filter_messages","time":{"start":1729670843735,"stop":1729670843738,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'65'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fa9ed7645f0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1729670843740,"stop":1729670843741,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '65', 'timestamp': 1729670843623423744}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '65', 'timestamp': 1729670843623423744}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"delete_all_filter_subscriptions","time":{"start":1729670843741,"stop":1729670843751,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"request_id","value":"{'requestId': '1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1729670843751,"stop":1729670843751,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'4'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_publish_without_filter_subscription","time":{"start":1729670843751,"stop":1729670843862,"duration":111},"status":"passed","steps":[{"name":"check_published_message_reaches_filter_peer","time":{"start":1729670843752,"stop":1729670843861,"duration":109},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:14322/filter/v2/messages/4 with response: b'Not subscribed to topic: 4'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 99, in check_published_message_reaches_filter_peer\n    get_messages_response = self.get_filter_messages(message[\"contentTopic\"], pubsub_topic=pubsub_topic, node=peer)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 204, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 368, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"get_filter_messages","time":{"start":1729670843857,"stop":1729670843860,"duration":3},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:14322/filter/v2/messages/4 with response: b'Not subscribed to topic: 4'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 204, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 368, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'4'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fa9ed7645f0>"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '4', 'timestamp': 1729670843751329536}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '4', 'timestamp': 1729670843751329536}"},{"name":"pubsub_topic","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1729670843862,"stop":1729670843862,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'39'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_publish_without_filter_subscription","time":{"start":1729670843862,"stop":1729670843972,"duration":110},"status":"passed","steps":[{"name":"check_published_message_reaches_filter_peer","time":{"start":1729670843862,"stop":1729670843971,"duration":109},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:14322/filter/v2/messages/39 with response: b'Not subscribed to topic: 39'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 99, in check_published_message_reaches_filter_peer\n    get_messages_response = self.get_filter_messages(message[\"contentTopic\"], pubsub_topic=pubsub_topic, node=peer)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 204, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 368, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"get_filter_messages","time":{"start":1729670843966,"stop":1729670843970,"duration":4},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:14322/filter/v2/messages/39 with response: b'Not subscribed to topic: 39'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 204, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 368, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'39'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fa9ed7645f0>"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '39', 'timestamp': 1729670843861690624}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '39', 'timestamp': 1729670843861690624}"},{"name":"pubsub_topic","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1729670843972,"stop":1729670843972,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'84'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_publish_without_filter_subscription","time":{"start":1729670843972,"stop":1729670844082,"duration":110},"status":"passed","steps":[{"name":"check_published_message_reaches_filter_peer","time":{"start":1729670843972,"stop":1729670844081,"duration":109},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:14322/filter/v2/messages/84 with response: b'Not subscribed to topic: 84'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 99, in check_published_message_reaches_filter_peer\n    get_messages_response = self.get_filter_messages(message[\"contentTopic\"], pubsub_topic=pubsub_topic, node=peer)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 204, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 368, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"get_filter_messages","time":{"start":1729670844076,"stop":1729670844080,"duration":4},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:14322/filter/v2/messages/84 with response: b'Not subscribed to topic: 84'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 204, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 368, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'84'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fa9ed7645f0>"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '84', 'timestamp': 1729670843971766784}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '84', 'timestamp': 1729670843971766784}"},{"name":"pubsub_topic","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"191a96708424a626","name":"log","source":"191a96708424a626.txt","type":"text/plain","size":18724}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":34,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1729670844084,"stop":1729670844086,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1729670844087,"stop":1729670848198,"duration":4111},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1729670848199,"stop":1729670848226,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1729670848227,"stop":1729670848227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1729672564247,"stop":1729672564247,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"},{"name":"parentSuite","value":"tests.filter"},{"name":"suite","value":"test_unsubscribe_all"},{"name":"subSuite","value":"TestFilterUnSubscribeAll"},{"name":"host","value":"fv-az1393-92"},{"name":"thread","value":"2162-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.filter.test_unsubscribe_all"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":86,"unknown":0,"total":87},"items":[{"uid":"6b88a44a43fe3858","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/394//#testresult/6b88a44a43fe3858","status":"passed","time":{"start":1729138115415,"stop":1729138116189,"duration":774}},{"uid":"1e8c55851daff92f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/393//#testresult/1e8c55851daff92f","status":"passed","time":{"start":1729051643305,"stop":1729051644099,"duration":794}},{"uid":"fc15587d4ab18d09","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/392//#testresult/fc15587d4ab18d09","status":"passed","time":{"start":1728965892524,"stop":1728965893323,"duration":799}},{"uid":"fef8593432e754d3","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/391//#testresult/fef8593432e754d3","status":"passed","time":{"start":1728879546381,"stop":1728879547165,"duration":784}},{"uid":"565b4690ee5c795e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/390//#testresult/565b4690ee5c795e","status":"passed","time":{"start":1728793095296,"stop":1728793096040,"duration":744}},{"uid":"cce3e0de43a4a6f8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/389//#testresult/cce3e0de43a4a6f8","status":"passed","time":{"start":1728706708219,"stop":1728706708981,"duration":762}},{"uid":"c1b3cac2ce40fc30","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/388//#testresult/c1b3cac2ce40fc30","status":"passed","time":{"start":1728620328768,"stop":1728620329529,"duration":761}},{"uid":"f813da0b054d6156","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/387//#testresult/f813da0b054d6156","status":"passed","time":{"start":1728533933265,"stop":1728533934023,"duration":758}},{"uid":"42ac5f4c4358f178","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/385//#testresult/42ac5f4c4358f178","status":"passed","time":{"start":1728361132245,"stop":1728361133042,"duration":797}},{"uid":"92420b1fe82a2538","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/384//#testresult/92420b1fe82a2538","status":"passed","time":{"start":1728274687931,"stop":1728274688663,"duration":732}},{"uid":"bbd6f8d4adf4fbf","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/383//#testresult/bbd6f8d4adf4fbf","status":"passed","time":{"start":1728188242175,"stop":1728188242927,"duration":752}},{"uid":"2131bcac990e42a4","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/382//#testresult/2131bcac990e42a4","status":"passed","time":{"start":1728101867207,"stop":1728101867987,"duration":780}},{"uid":"c6a0b0a4cbfe33e3","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/381//#testresult/c6a0b0a4cbfe33e3","status":"passed","time":{"start":1728015476431,"stop":1728015477174,"duration":743}},{"uid":"4b87f72379a45866","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/380//#testresult/4b87f72379a45866","status":"passed","time":{"start":1727941400814,"stop":1727941401564,"duration":750}},{"uid":"21afe4330f22e657","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/379//#testresult/21afe4330f22e657","status":"passed","time":{"start":1727929102581,"stop":1727929103378,"duration":797}},{"uid":"f53851aef7631074","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/378//#testresult/f53851aef7631074","status":"passed","time":{"start":1727842658550,"stop":1727842659364,"duration":814}},{"uid":"3f76ceb6858e3da8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/377//#testresult/3f76ceb6858e3da8","status":"passed","time":{"start":1727756287869,"stop":1727756288621,"duration":752}},{"uid":"348029eacabc0810","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/376//#testresult/348029eacabc0810","status":"passed","time":{"start":1727669911972,"stop":1727669912757,"duration":785}},{"uid":"1ad7dd81c839d8dc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/375//#testresult/1ad7dd81c839d8dc","status":"passed","time":{"start":1727583438444,"stop":1727583439153,"duration":709}},{"uid":"7a8fd354ebd4a1ff","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/374//#testresult/7a8fd354ebd4a1ff","status":"passed","time":{"start":1727497009068,"stop":1727497009847,"duration":779}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"]},"source":"bbfefeb5f0430fa6.json","parameterValues":[]}