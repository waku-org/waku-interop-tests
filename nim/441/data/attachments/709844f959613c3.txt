[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2024-11-08_04-10-53__2fbb28aa-a480-41cc-a8e9-b08cf509b630
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-11-08_04-10-53__2fbb28aa-a480-41cc-a8e9-b08cf509b630__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.65.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54883', '54884', '54885', '54886', '54887']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54883:54883 -p 54884:54884 -p 54885:54885 -p 54886:54886 -p 54887:54887 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54885 --rest-port=54883 --tcp-port=54884 --discv5-udp-port=54886 --rest-address=0.0.0.0 --nat=extip:172.18.65.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=baeeb7fa20fa452eb3ab2d2caea0f7bcaead7b4d188d6e5528a491fd7d1b9f8e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54887 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.65.95 waku 0779c4d11ac8b2a891d9a59819fb3afcdd9c1ba2dcfcf7016cda94669300dbca
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2dffaec79ccd. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0779c4d11ac8. Setting up logs at ./log/docker/receiving_node1_2024-11-08_04-10-53__2fbb28aa-a480-41cc-a8e9-b08cf509b630__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 54883
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54883/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54883/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.95/tcp/54884/p2p/16Uiu2HAmPyHL1pDXRQhMfXujq6EP3uDJqttFX2ggDUnuxC5Qvs12","/ip4/172.18.65.95/tcp/54885/ws/p2p/16Uiu2HAmPyHL1pDXRQhMfXujq6EP3uDJqttFX2ggDUnuxC5Qvs12"],"enrUri":"enr:-L24QFOyiwmnNC3Ny9hUn60wCDzHQPTcECxJeIaqiuROYLcAG9nJsX1unBTOKtujTaMJBVVK0LPdc4qblcOKhmNEMZQCgmlkgnY0gmlwhKwSQV-KbXVsdGlhZGRyc5YACASsEkFfBtZkAAoErBJBXwbWZd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqCA1Ni9-UTMrua6K1dp8SrRC_80hOUyL7QLtiJurZoGDdGNwgtZkg3VkcILWZoV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-11-08_04-10-53__2fbb28aa-a480-41cc-a8e9-b08cf509b630__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.211.247
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30295', '30296', '30297', '30298', '30299']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30295:30295 -p 30296:30296 -p 30297:30297 -p 30298:30298 -p 30299:30299 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30297 --rest-port=30295 --tcp-port=30296 --discv5-udp-port=30298 --rest-address=0.0.0.0 --nat=extip:172.18.211.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=33235ebf3ddd309d8ac83c8ce3aaceef7fab3dbe6deca20b37e35dddf6e6bb9f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30299 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.211.247 waku e0b2c0f1d90530dc736bdc6c64b8376d1fa8b99ea521cad0951e4d8a72652e23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e0b2c0f1d905. Setting up logs at ./log/docker/receiving_node2_2024-11-08_04-10-53__2fbb28aa-a480-41cc-a8e9-b08cf509b630__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30295
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30295/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30295/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.211.247/tcp/30296/p2p/16Uiu2HAmB8evTHCsQw5z2ZpnDytiNNWBxXy6PK3L7wAFqg8QxPi2","/ip4/172.18.211.247/tcp/30297/ws/p2p/16Uiu2HAmB8evTHCsQw5z2ZpnDytiNNWBxXy6PK3L7wAFqg8QxPi2"],"enrUri":"enr:-L24QHX-RkRdi4x5p24YNtcGWMlXcZJ_7_pwzdN72OfAuyGBafqpSoXnZvw5LTzJf_uQVvqlYrJSmoL2Hf0IQmdXrmECgmlkgnY0gmlwhKwS0_eKbXVsdGlhZGRyc5YACASsEtP3BnZYAAoErBLT9wZ2Wd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6V7r15hogwuQrvftYxK60-xxlybhE_wdIO4ryb9FSIuDdGNwgnZYg3VkcIJ2WoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30295/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.65.95/tcp/54884/p2p/16Uiu2HAmPyHL1pDXRQhMfXujq6EP3uDJqttFX2ggDUnuxC5Qvs12"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-11-08_04-10-53__2fbb28aa-a480-41cc-a8e9-b08cf509b630__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.37.75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8235', '8236', '8237', '8238', '8239']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8235:8235 -p 8236:8236 -p 8237:8237 -p 8238:8238 -p 8239:8239 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8237 --rest-port=8235 --tcp-port=8236 --discv5-udp-port=8238 --rest-address=0.0.0.0 --nat=extip:172.18.37.75 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fa7e6ee8d1c182b13ec2de3bd7c72f6bcca04ae1ecadff1b1374e4ee8aafedbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8239 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QFOyiwmnNC3Ny9hUn60wCDzHQPTcECxJeIaqiuROYLcAG9nJsX1unBTOKtujTaMJBVVK0LPdc4qblcOKhmNEMZQCgmlkgnY0gmlwhKwSQV-KbXVsdGlhZGRyc5YACASsEkFfBtZkAAoErBJBXwbWZd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqCA1Ni9-UTMrua6K1dp8SrRC_80hOUyL7QLtiJurZoGDdGNwgtZkg3VkcILWZoV3YWt1Mgk --lightpushnode=/ip4/172.18.65.95/tcp/54884/p2p/16Uiu2HAmPyHL1pDXRQhMfXujq6EP3uDJqttFX2ggDUnuxC5Qvs12 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.37.75 waku 9eb0080849cdfae92d4bf88ea3d5ce5881063ec86e5b27b9ed46168dd802f58b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9eb0080849cd. Setting up logs at ./log/docker/lightpush_node1_2024-11-08_04-10-53__2fbb28aa-a480-41cc-a8e9-b08cf509b630__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 8235
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8235/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8235/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.75/tcp/8236/p2p/16Uiu2HAkyoYxyiiK4KN6kah9QUZG3phWNBbXWB2tE9FCL8WNbPJJ","/ip4/172.18.37.75/tcp/8237/ws/p2p/16Uiu2HAkyoYxyiiK4KN6kah9QUZG3phWNBbXWB2tE9FCL8WNbPJJ"],"enrUri":"enr:-L24QCl2VdEg1OlrxN_KKW2HqUew_hvLLvGeEw_zTiLjCF7iRbjvbHW05ppXmR8Z8Ymwwz0nvMii5fq_JPub1Asd5_QCgmlkgnY0gmlwhKwSJUuKbXVsdGlhZGRyc5YACASsEiVLBiAsAAoErBIlSwYgLd0DgnJzhQADAQAAiXNlY3AyNTZrMaECQQmYPfpVeNPOtrFLWA8rs_8MamjDLJGChQfnWBmJ5gODdGNwgiAsg3VkcIIgLoV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8235/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.65.95/tcp/54884/p2p/16Uiu2HAmPyHL1pDXRQhMfXujq6EP3uDJqttFX2ggDUnuxC5Qvs12"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8235/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.211.247/tcp/30296/p2p/16Uiu2HAmB8evTHCsQw5z2ZpnDytiNNWBxXy6PK3L7wAFqg8QxPi2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54883/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30295/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54883/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30295/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8235/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1731039059614694400}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0779c4d11ac8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e0b2c0f1d905
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0779c4d11ac8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9eb0080849cd
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e0b2c0f1d905. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.