[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_invalid_pagination_cursor_param with id: 2024-11-08_04-23-15__df94af3a-d3dc-4bc6-8c6c-f4516bca1ee2
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-08_04-23-15__df94af3a-d3dc-4bc6-8c6c-f4516bca1ee2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.107.217
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52683', '52684', '52685', '52686', '52687']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52683:52683 -p 52684:52684 -p 52685:52685 -p 52686:52686 -p 52687:52687 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52685 --rest-port=52683 --tcp-port=52684 --discv5-udp-port=52686 --rest-address=0.0.0.0 --nat=extip:172.18.107.217 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=45c419aeef0f7f8c13aec7a25e626e6b2aaec4f30e0ffec6115a6ca0fc75d4c3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52687 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.107.217 waku 6207396e9b2efaf2629b71ddb5c718b3691298dbe435afd6520231004da11132
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6207396e9b2e. Setting up logs at ./log/docker/publishing_node1_2024-11-08_04-23-15__df94af3a-d3dc-4bc6-8c6c-f4516bca1ee2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 52683
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c8e47bb5b58f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52683/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52683/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.217/tcp/52684/p2p/16Uiu2HAmJmMNnKBuit6XeunUUkpPNnJMT6ems1j6QfyNM3CKUGVf","/ip4/172.18.107.217/tcp/52685/ws/p2p/16Uiu2HAmJmMNnKBuit6XeunUUkpPNnJMT6ems1j6QfyNM3CKUGVf"],"enrUri":"enr:-L24QJhOiihnbby01cfZP_UVRtiQu6tylvy4BnHHRXFr9eRmP3VZlqNHQVBpI0_uzpSZ8QQq59XxiGS5HlDHvW2LpD8CgmlkgnY0gmlwhKwSa9mKbXVsdGlhZGRyc5YACASsEmvZBs3MAAoErBJr2QbNzd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWsdhWfIpYhxpTKHiR7lOY4xWJdOcCkZSJoZ1o8U1qlKDdGNwgs3Mg3VkcILNzoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-08_04-23-15__df94af3a-d3dc-4bc6-8c6c-f4516bca1ee2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.82.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19911', '19912', '19913', '19914', '19915']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19911:19911 -p 19912:19912 -p 19913:19913 -p 19914:19914 -p 19915:19915 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19913 --rest-port=19911 --tcp-port=19912 --discv5-udp-port=19914 --rest-address=0.0.0.0 --nat=extip:172.18.82.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fb5fc70714a9b686127f57caf3baae6b8177e2fed5aa9fca6bf40de1eac51be5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19915 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QJhOiihnbby01cfZP_UVRtiQu6tylvy4BnHHRXFr9eRmP3VZlqNHQVBpI0_uzpSZ8QQq59XxiGS5HlDHvW2LpD8CgmlkgnY0gmlwhKwSa9mKbXVsdGlhZGRyc5YACASsEmvZBs3MAAoErBJr2QbNzd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWsdhWfIpYhxpTKHiR7lOY4xWJdOcCkZSJoZ1o8U1qlKDdGNwgs3Mg3VkcILNzoV3YWt1MgM --storenode=/ip4/172.18.107.217/tcp/52684/p2p/16Uiu2HAmJmMNnKBuit6XeunUUkpPNnJMT6ems1j6QfyNM3CKUGVf --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.82.181 waku ab0c9ec9cdf5a2ef6064d980012600d2321c1f4d53c07cca6230345ade569ea5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ab0c9ec9cdf5. Setting up logs at ./log/docker/store_node1_2024-11-08_04-23-15__df94af3a-d3dc-4bc6-8c6c-f4516bca1ee2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 19911
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19911/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19911/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.181/tcp/19912/p2p/16Uiu2HAmEnH2avqsYNkibb6esUMExEg6BEPfC7Qt6oEfc8i5uD9B","/ip4/172.18.82.181/tcp/19913/ws/p2p/16Uiu2HAmEnH2avqsYNkibb6esUMExEg6BEPfC7Qt6oEfc8i5uD9B"],"enrUri":"enr:-L24QJOfktCeHEikS5HVdYkBX1kRJdbGiSSZoMQ3SCq_IUqKXjXS38OGukGAjLJkhW5QSMBdCfFIy1ZocC5kAMtt3skCgmlkgnY0gmlwhKwSUrWKbXVsdGlhZGRyc5YACASsElK1Bk3IAAoErBJStQZNyd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDH5VL_e1ErDNZVeEqqgTDEATJlYiivGW5uRQyc6J1_cqDdGNwgk3Ig3VkcIJNyoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19911/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.107.217/tcp/52684/p2p/16Uiu2HAmJmMNnKBuit6XeunUUkpPNnJMT6ems1j6QfyNM3CKUGVf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52683/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19911/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52683/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52683/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52683/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52683/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52683/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52683/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"CO/UckJTkToFAnOmiMnCJm2CKZ6v4UrXO1WS4F/qd6c="},{"messageHash":"knQxSPyB1DrTvB0XFJTI4n+3AszPYFA5X7KMKsAnRZM="},{"messageHash":"zTuBjaD7+WBqE74fWN4FAbIlXfZ+T7iqK/tAh0ylP3A="}],"paginationCursor":"zTuBjaD7+WBqE74fWN4FAbIlXfZ+T7iqK/tAh0ylP3A="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52683/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true&paginationCursor=zTuBjaD7%2BWBqE74fWN4FAbIlXfZ%2BT7iqK%2FtAh0ylP3A%3D" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"CO/UckJTkToFAnOmiMnCJm2CKZ6v4UrXO1WS4F/qd6c="},{"messageHash":"knQxSPyB1DrTvB0XFJTI4n+3AszPYFA5X7KMKsAnRZM="},{"messageHash":"zTuBjaD7+WBqE74fWN4FAbIlXfZ+T7iqK/tAh0ylP3A="}],"paginationCursor":"zTuBjaD7+WBqE74fWN4FAbIlXfZ+T7iqK/tAh0ylP3A="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52683/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=zTuBjaD7%2BWBqE74fWN4FAbIlXfZ%2BT7iqK%2FtAh0ylP3A%3D&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"R8d+3oHdeAsyKRMWpl79tggpTq1QiNjdqRVqv8PShkA="},{"messageHash":"uud3vywMyOiNx4jIu99UMKUmccDj971ZTvnvl4NVVEk="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19911/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"CO/UckJTkToFAnOmiMnCJm2CKZ6v4UrXO1WS4F/qd6c="},{"messageHash":"knQxSPyB1DrTvB0XFJTI4n+3AszPYFA5X7KMKsAnRZM="},{"messageHash":"zTuBjaD7+WBqE74fWN4FAbIlXfZ+T7iqK/tAh0ylP3A="}],"paginationCursor":"zTuBjaD7+WBqE74fWN4FAbIlXfZ+T7iqK/tAh0ylP3A="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19911/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true&paginationCursor=zTuBjaD7%2BWBqE74fWN4FAbIlXfZ%2BT7iqK%2FtAh0ylP3A%3D" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"CO/UckJTkToFAnOmiMnCJm2CKZ6v4UrXO1WS4F/qd6c="},{"messageHash":"knQxSPyB1DrTvB0XFJTI4n+3AszPYFA5X7KMKsAnRZM="},{"messageHash":"zTuBjaD7+WBqE74fWN4FAbIlXfZ+T7iqK/tAh0ylP3A="}],"paginationCursor":"zTuBjaD7+WBqE74fWN4FAbIlXfZ+T7iqK/tAh0ylP3A="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19911/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=zTuBjaD7%2BWBqE74fWN4FAbIlXfZ%2BT7iqK%2FtAh0ylP3A%3D&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"R8d+3oHdeAsyKRMWpl79tggpTq1QiNjdqRVqv8PShkA="},{"messageHash":"uud3vywMyOiNx4jIu99UMKUmccDj971ZTvnvl4NVVEk="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6207396e9b2e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ab0c9ec9cdf5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6207396e9b2e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.