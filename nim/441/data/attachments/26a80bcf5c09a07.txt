[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-08_04-06-17__416e4dbd-0590-4b40-b3d1-e9d4234a6b60
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-08_04-06-17__416e4dbd-0590-4b40-b3d1-e9d4234a6b60__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.196.226
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12085', '12086', '12087', '12088', '12089']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12085:12085 -p 12086:12086 -p 12087:12087 -p 12088:12088 -p 12089:12089 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12087 --rest-port=12085 --tcp-port=12086 --discv5-udp-port=12088 --rest-address=0.0.0.0 --nat=extip:172.18.196.226 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=93a6a8e29ccaa95b877fe8ceab4b315109a5efafbf14ca232b65c95be9eee659 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12089 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.196.226 waku da22b91daf07bbfa0f49171f059b2c27d2bf90cfd77f7e42ddce07addbc6bbbd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID da22b91daf07. Setting up logs at ./log/docker/node1_2024-11-08_04-06-17__416e4dbd-0590-4b40-b3d1-e9d4234a6b60__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 12085
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e156c0ce48de. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12085/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12085/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.196.226/tcp/12086/p2p/16Uiu2HAm92Lz1rvhhNctE6T43bABqYRCb88Zk6t6zZqwmqYntATG","/ip4/172.18.196.226/tcp/12087/ws/p2p/16Uiu2HAm92Lz1rvhhNctE6T43bABqYRCb88Zk6t6zZqwmqYntATG"],"enrUri":"enr:-L24QAuAnlKoh96-W6bKD0TDfEtGU4oVoKBAU3-vKcOnlzNVCbyn34MvJLJCqsvTrTyakcF33dDTKTPvdQkEMMYRCMQCgmlkgnY0gmlwhKwSxOKKbXVsdGlhZGRyc5YACASsEsTiBi82AAoErBLE4gYvN90DgnJzhQADAQAAiXNlY3AyNTZrMaECygnHgar1dPMJuBWQH9pKxC2gpBhCMPzyoINfr6le5F-DdGNwgi82g3VkcIIvOIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-08_04-06-17__416e4dbd-0590-4b40-b3d1-e9d4234a6b60__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.81.141
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40176', '40177', '40178', '40179', '40180']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40176:40176 -p 40177:40177 -p 40178:40178 -p 40179:40179 -p 40180:40180 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40178 --rest-port=40176 --tcp-port=40177 --discv5-udp-port=40179 --rest-address=0.0.0.0 --nat=extip:172.18.81.141 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eb3dca0e503b2d17c8e7faf2e53ca652bf26a34bf81f52e31c1bacdb7d95e2ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40180 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAuAnlKoh96-W6bKD0TDfEtGU4oVoKBAU3-vKcOnlzNVCbyn34MvJLJCqsvTrTyakcF33dDTKTPvdQkEMMYRCMQCgmlkgnY0gmlwhKwSxOKKbXVsdGlhZGRyc5YACASsEsTiBi82AAoErBLE4gYvN90DgnJzhQADAQAAiXNlY3AyNTZrMaECygnHgar1dPMJuBWQH9pKxC2gpBhCMPzyoINfr6le5F-DdGNwgi82g3VkcIIvOIV3YWt1MgU --filternode=/ip4/172.18.196.226/tcp/12086/p2p/16Uiu2HAm92Lz1rvhhNctE6T43bABqYRCb88Zk6t6zZqwmqYntATG
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.81.141 waku 29d24d72507188538134503dfc790e09a19527a34294c6ba8e5397f0a447e733
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 29d24d725071. Setting up logs at ./log/docker/node2_2024-11-08_04-06-17__416e4dbd-0590-4b40-b3d1-e9d4234a6b60__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40176
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40176/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40176/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.141/tcp/40177/p2p/16Uiu2HAkxxaYodzYrVifDYSCd1DmYKbsmYHpkQphbpRGuzN5Av3B","/ip4/172.18.81.141/tcp/40178/ws/p2p/16Uiu2HAkxxaYodzYrVifDYSCd1DmYKbsmYHpkQphbpRGuzN5Av3B"],"enrUri":"enr:-L24QGIgpysZWArIkIDjr_wY4huB7F1xMrVHc-ZWT9cM5JxENLyRFjUPsBYOio4Ak8htytr6Eb7O23LTUoOEYmahGaYCgmlkgnY0gmlwhKwSUY2KbXVsdGlhZGRyc5YACASsElGNBpzxAAoErBJRjQac8t0DgnJzhQADAQAAiXNlY3AyNTZrMaECNH3s2WfPTOQ0tTo8udG2zm9KkQaFmmg969O8eHaHL_qDdGNwgpzxg3VkcIKc84V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40176/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.196.226/tcp/12086/p2p/16Uiu2HAm92Lz1rvhhNctE6T43bABqYRCb88Zk6t6zZqwmqYntATG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-08_04-06-17__416e4dbd-0590-4b40-b3d1-e9d4234a6b60__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.67.156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61076', '61077', '61078', '61079', '61080']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61076:61076 -p 61077:61077 -p 61078:61078 -p 61079:61079 -p 61080:61080 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61078 --rest-port=61076 --tcp-port=61077 --discv5-udp-port=61079 --rest-address=0.0.0.0 --nat=extip:172.18.67.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c12bb871cf4b6bf3ea45be2cbcbb1f7f7bdbba95eb19dcd6fce40a2affc432cf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61080 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAuAnlKoh96-W6bKD0TDfEtGU4oVoKBAU3-vKcOnlzNVCbyn34MvJLJCqsvTrTyakcF33dDTKTPvdQkEMMYRCMQCgmlkgnY0gmlwhKwSxOKKbXVsdGlhZGRyc5YACASsEsTiBi82AAoErBLE4gYvN90DgnJzhQADAQAAiXNlY3AyNTZrMaECygnHgar1dPMJuBWQH9pKxC2gpBhCMPzyoINfr6le5F-DdGNwgi82g3VkcIIvOIV3YWt1MgU --filternode=/ip4/172.18.196.226/tcp/12086/p2p/16Uiu2HAm92Lz1rvhhNctE6T43bABqYRCb88Zk6t6zZqwmqYntATG
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.67.156 waku 1a2d4e4d3666ffc71034d472d96d018a5a4c6b529124db223322c79587f93fc4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1a2d4e4d3666. Setting up logs at ./log/docker/node3_2024-11-08_04-06-17__416e4dbd-0590-4b40-b3d1-e9d4234a6b60__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61076
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61076/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61076/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.67.156/tcp/61077/p2p/16Uiu2HAkwzBSMxpF6R2YgqxEvbJy3ZiEVxazJCrDJd8gkYFpG2Sd","/ip4/172.18.67.156/tcp/61078/ws/p2p/16Uiu2HAkwzBSMxpF6R2YgqxEvbJy3ZiEVxazJCrDJd8gkYFpG2Sd"],"enrUri":"enr:-L24QCO68Q8uz13OZq-I49r4--7J4bhr63fg7ub6FyJTXGX4IDXdlYMenM7tkMHnx-uHZ8qU_ogagVK83Z0fQB1AbaECgmlkgnY0gmlwhKwSQ5yKbXVsdGlhZGRyc5YACASsEkOcBu6VAAoErBJDnAbult0DgnJzhQADAQAAiXNlY3AyNTZrMaECJgtEolM6XyWVnvNJ7xnTNYk0R6u1DgeFlt0AMYEp6jqDdGNwgu6Vg3VkcILul4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61076/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.196.226/tcp/12086/p2p/16Uiu2HAm92Lz1rvhhNctE6T43bABqYRCb88Zk6t6zZqwmqYntATG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-08_04-06-17__416e4dbd-0590-4b40-b3d1-e9d4234a6b60__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.173.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47554', '47555', '47556', '47557', '47558']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47554:47554 -p 47555:47555 -p 47556:47556 -p 47557:47557 -p 47558:47558 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47556 --rest-port=47554 --tcp-port=47555 --discv5-udp-port=47557 --rest-address=0.0.0.0 --nat=extip:172.18.173.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fad3f3cef3563cbbb4aafe577d79e19c7c49f3b5e7174d3897a19a7fbaffa1be --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47558 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAuAnlKoh96-W6bKD0TDfEtGU4oVoKBAU3-vKcOnlzNVCbyn34MvJLJCqsvTrTyakcF33dDTKTPvdQkEMMYRCMQCgmlkgnY0gmlwhKwSxOKKbXVsdGlhZGRyc5YACASsEsTiBi82AAoErBLE4gYvN90DgnJzhQADAQAAiXNlY3AyNTZrMaECygnHgar1dPMJuBWQH9pKxC2gpBhCMPzyoINfr6le5F-DdGNwgi82g3VkcIIvOIV3YWt1MgU --filternode=/ip4/172.18.196.226/tcp/12086/p2p/16Uiu2HAm92Lz1rvhhNctE6T43bABqYRCb88Zk6t6zZqwmqYntATG
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.173.229 waku 44c821b99a9cf07be1645eaa956065d8c28f5b645a04cbda909d9cff005ae50d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 44c821b99a9c. Setting up logs at ./log/docker/node4_2024-11-08_04-06-17__416e4dbd-0590-4b40-b3d1-e9d4234a6b60__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47554
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47554/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47554/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.173.229/tcp/47555/p2p/16Uiu2HAm5Hj48rdwrorqbVgm6yEYBYms8vvoCXVcfAKobiNn1jkj","/ip4/172.18.173.229/tcp/47556/ws/p2p/16Uiu2HAm5Hj48rdwrorqbVgm6yEYBYms8vvoCXVcfAKobiNn1jkj"],"enrUri":"enr:-L24QFEaMTGdGUXxMNJCcVTAXW_7t_pKQWaNTNKAvpqpxVw9Pr7iehmYICfMBSMhZZyAloYAhopMMJflaUqXTb6G-jYCgmlkgnY0gmlwhKwSreWKbXVsdGlhZGRyc5YACASsEq3lBrnDAAoErBKt5Qa5xN0DgnJzhQADAQAAiXNlY3AyNTZrMaECkouzFpCSIXzWZqQO3NekYHrDTJjyEzhjviVIIte8rwCDdGNwgrnDg3VkcIK5xYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47554/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.196.226/tcp/12086/p2p/16Uiu2HAm92Lz1rvhhNctE6T43bABqYRCb88Zk6t6zZqwmqYntATG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-08_04-06-17__416e4dbd-0590-4b40-b3d1-e9d4234a6b60__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.24.216
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20869', '20870', '20871', '20872', '20873']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20869:20869 -p 20870:20870 -p 20871:20871 -p 20872:20872 -p 20873:20873 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20871 --rest-port=20869 --tcp-port=20870 --discv5-udp-port=20872 --rest-address=0.0.0.0 --nat=extip:172.18.24.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ae1a62da0b8abd62524051df02cba63bd8b0cd0eacfdf6d980aa20bae11aaccb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20873 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAuAnlKoh96-W6bKD0TDfEtGU4oVoKBAU3-vKcOnlzNVCbyn34MvJLJCqsvTrTyakcF33dDTKTPvdQkEMMYRCMQCgmlkgnY0gmlwhKwSxOKKbXVsdGlhZGRyc5YACASsEsTiBi82AAoErBLE4gYvN90DgnJzhQADAQAAiXNlY3AyNTZrMaECygnHgar1dPMJuBWQH9pKxC2gpBhCMPzyoINfr6le5F-DdGNwgi82g3VkcIIvOIV3YWt1MgU --filternode=/ip4/172.18.196.226/tcp/12086/p2p/16Uiu2HAm92Lz1rvhhNctE6T43bABqYRCb88Zk6t6zZqwmqYntATG
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.24.216 waku 91a991c832edaa4f87933b1063128b4c44fb5be3e595ad897b1f952b06110a30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 91a991c832ed. Setting up logs at ./log/docker/node5_2024-11-08_04-06-17__416e4dbd-0590-4b40-b3d1-e9d4234a6b60__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20869
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20869/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20869/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.24.216/tcp/20870/p2p/16Uiu2HAmHCDzGNLu3AnMJA7yvtramHAfrSZvw7vJtCPGfYDD7BGW","/ip4/172.18.24.216/tcp/20871/ws/p2p/16Uiu2HAmHCDzGNLu3AnMJA7yvtramHAfrSZvw7vJtCPGfYDD7BGW"],"enrUri":"enr:-L24QFYNE5QHH9slssrwXIdmECld1Iz22OqAOfUUVCRM8EgQTQrH6RlYbdcL8kBxydHEmQeKnCuY_QtJSwV4OOONoh8CgmlkgnY0gmlwhKwSGNiKbXVsdGlhZGRyc5YACASsEhjYBlGGAAoErBIY2AZRh90DgnJzhQADAQAAiXNlY3AyNTZrMaEDQ28sOvgjNxFcawCUqw8Ee62zuBd1Q0YvZGGzV4H_k9uDdGNwglGGg3VkcIJRiIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20869/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.196.226/tcp/12086/p2p/16Uiu2HAm92Lz1rvhhNctE6T43bABqYRCb88Zk6t6zZqwmqYntATG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12085/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40176/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ab49a9c6-3dc5-4d07-8a8e-11cbd5ec1a74", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ab49a9c6-3dc5-4d07-8a8e-11cbd5ec1a74","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61076/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9db7c68a-7848-4009-85b6-ad567a8e1f2e", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9db7c68a-7848-4009-85b6-ad567a8e1f2e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47554/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c2006131-7df9-4f16-8967-ca23b5934420", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c2006131-7df9-4f16-8967-ca23b5934420","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20869/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9fc25c3e-0d39-4a34-9af6-24c49df95fe9", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9fc25c3e-0d39-4a34-9af6-24c49df95fe9","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12085/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40176/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731038786041821440,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12085/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61076/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61076/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id da22b91daf07
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 29d24d725071
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container da22b91daf07. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1a2d4e4d3666
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 29d24d725071. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 44c821b99a9c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1a2d4e4d3666. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 91a991c832ed
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 44c821b99a9c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.