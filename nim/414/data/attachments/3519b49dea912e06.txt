[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2024-10-30_04-08-27__c2322545-d08f-4d02-b8a0-f9a65e5eb00d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-30_04-08-27__c2322545-d08f-4d02-b8a0-f9a65e5eb00d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.12.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51145', '51146', '51147', '51148', '51149']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51145:51145 -p 51146:51146 -p 51147:51147 -p 51148:51148 -p 51149:51149 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51147 --rest-port=51145 --tcp-port=51146 --discv5-udp-port=51148 --rest-address=0.0.0.0 --nat=extip:172.18.12.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dcfcc1ea77fafde120cc1d03fd2eac6acb5ec1a6a064e579e8dabeafcfcaf4a3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51149 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.12.186 waku 2615088648d5ba9b43078aebd7c0822a63616da2815458da2b45a50407f36c17
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c85e648d36cd. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2615088648d5. Setting up logs at ./log/docker/node1_2024-10-30_04-08-27__c2322545-d08f-4d02-b8a0-f9a65e5eb00d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 51145
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51145/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51145/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.12.186/tcp/51146/p2p/16Uiu2HAmC2Puw1LBZp3zDe7UUqbipJp5xBcY94XDL1HNhucF28Vy","/ip4/172.18.12.186/tcp/51147/ws/p2p/16Uiu2HAmC2Puw1LBZp3zDe7UUqbipJp5xBcY94XDL1HNhucF28Vy"],"enrUri":"enr:-L24QIDZGv34ji1buwJC6ZTP95BWFSkYHCp-2IRqQfrJKHzWaFMZSp3QTe5nACnl1Pwqb9o1uxb3E4EO3NxUfHub6qACgmlkgnY0gmlwhKwSDLqKbXVsdGlhZGRyc5YACASsEgy6BsfKAAoErBIMugbHy90DgnJzhQADAQAAiXNlY3AyNTZrMaEC9qAnENe8alfheNvkrJ7YMdsb_32RWDaSFWXAcJaLnnSDdGNwgsfKg3VkcILHzIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-30_04-08-27__c2322545-d08f-4d02-b8a0-f9a65e5eb00d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.247.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4824', '4825', '4826', '4827', '4828']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4824:4824 -p 4825:4825 -p 4826:4826 -p 4827:4827 -p 4828:4828 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4826 --rest-port=4824 --tcp-port=4825 --discv5-udp-port=4827 --rest-address=0.0.0.0 --nat=extip:172.18.247.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aa19eae2bb3c03e74bc21bb8efb655f7facaf07cca24787e36d9dc3b72cf677e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4828 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIDZGv34ji1buwJC6ZTP95BWFSkYHCp-2IRqQfrJKHzWaFMZSp3QTe5nACnl1Pwqb9o1uxb3E4EO3NxUfHub6qACgmlkgnY0gmlwhKwSDLqKbXVsdGlhZGRyc5YACASsEgy6BsfKAAoErBIMugbHy90DgnJzhQADAQAAiXNlY3AyNTZrMaEC9qAnENe8alfheNvkrJ7YMdsb_32RWDaSFWXAcJaLnnSDdGNwgsfKg3VkcILHzIV3YWt1MgU --filternode=/ip4/172.18.12.186/tcp/51146/p2p/16Uiu2HAmC2Puw1LBZp3zDe7UUqbipJp5xBcY94XDL1HNhucF28Vy
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.247.151 waku 3cdec9fb5856289efa83298605e68834f94c9c8df3faa2c67b2ee25bcbc812ec
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3cdec9fb5856. Setting up logs at ./log/docker/node2_2024-10-30_04-08-27__c2322545-d08f-4d02-b8a0-f9a65e5eb00d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4824
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4824/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4824/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.247.151/tcp/4825/p2p/16Uiu2HAmG1Zt5CSEKNZcrXjZBoxFquL4tNSnw3aNAWnEgpRcCmDn","/ip4/172.18.247.151/tcp/4826/ws/p2p/16Uiu2HAmG1Zt5CSEKNZcrXjZBoxFquL4tNSnw3aNAWnEgpRcCmDn"],"enrUri":"enr:-L24QMfU_DdnFDRmSIQyQVWrRd12E0mmQhwFzpO55Z1739OKZIUJlI7CeAdxwN5BnV3aSAiLDZtyBLjhqCaORRJ2pNUCgmlkgnY0gmlwhKwS95eKbXVsdGlhZGRyc5YACASsEveXBhLZAAoErBL3lwYS2t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMdiXHa50EX2DorpDiIUcjPtc7Nf4AIlAu2IY9U0ovz2DdGNwghLZg3VkcIIS24V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4824/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.12.186/tcp/51146/p2p/16Uiu2HAmC2Puw1LBZp3zDe7UUqbipJp5xBcY94XDL1HNhucF28Vy"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51145/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4824/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7c828f5c-9bee-462b-873c-5c59ac3265ca", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7c828f5c-9bee-462b-873c-5c59ac3265ca","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:4824/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:4824/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2615088648d5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3cdec9fb5856
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2615088648d5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.