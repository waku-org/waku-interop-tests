[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_small_timestamp with id: 2024-10-30_04-33-34__d5074e3b-bae4-4ff7-ae15-c6ce7ac10043
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-30_04-33-34__d5074e3b-bae4-4ff7-ae15-c6ce7ac10043__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.128.154
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7456', '7457', '7458', '7459', '7460']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7456:7456 -p 7457:7457 -p 7458:7458 -p 7459:7459 -p 7460:7460 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7458 --rest-port=7456 --tcp-port=7457 --discv5-udp-port=7459 --rest-address=0.0.0.0 --nat=extip:172.18.128.154 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f8a30ea7f1b2cca0a16e6da08a91ae1cfec05bce88407abd676fdaeb0fb7d72d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7460 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.128.154 waku b27f98fcdfab360b371151ba8ad41fcb9630ac8202dfa687026af2161a4fcfad
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b27f98fcdfab. Setting up logs at ./log/docker/publishing_node1_2024-10-30_04-33-34__d5074e3b-bae4-4ff7-ae15-c6ce7ac10043__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7456
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b5ccf78ffded. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7456/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7456/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.154/tcp/7457/p2p/16Uiu2HAm7QLYSiASC23ib7HfpQ2tUn4pdMCud2XfebTLWnuJCkYV","/ip4/172.18.128.154/tcp/7458/ws/p2p/16Uiu2HAm7QLYSiASC23ib7HfpQ2tUn4pdMCud2XfebTLWnuJCkYV"],"enrUri":"enr:-L24QEktB_4Dai9-_NG6wVwUnpLVy3mUj4inv8jMZXfZwwH1Ldp2l4cBRfuT-DIZM_yHV0e2eQdEADahMUo4JrRWy8YCgmlkgnY0gmlwhKwSgJqKbXVsdGlhZGRyc5YACASsEoCaBh0hAAoErBKAmgYdIt0DgnJzhQADAQAAiXNlY3AyNTZrMaECsfSvTA8rlMTk5H13CSRqF0wQnXETa8fbJspMn5r7rzaDdGNwgh0hg3VkcIIdI4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-30_04-33-34__d5074e3b-bae4-4ff7-ae15-c6ce7ac10043__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.105.146
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61572', '61573', '61574', '61575', '61576']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61572:61572 -p 61573:61573 -p 61574:61574 -p 61575:61575 -p 61576:61576 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61574 --rest-port=61572 --tcp-port=61573 --discv5-udp-port=61575 --rest-address=0.0.0.0 --nat=extip:172.18.105.146 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dd184bde20b0cd2bbfad6f1e7aee9464dace04bdffa67b038192e82433aa4d0f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61576 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QEktB_4Dai9-_NG6wVwUnpLVy3mUj4inv8jMZXfZwwH1Ldp2l4cBRfuT-DIZM_yHV0e2eQdEADahMUo4JrRWy8YCgmlkgnY0gmlwhKwSgJqKbXVsdGlhZGRyc5YACASsEoCaBh0hAAoErBKAmgYdIt0DgnJzhQADAQAAiXNlY3AyNTZrMaECsfSvTA8rlMTk5H13CSRqF0wQnXETa8fbJspMn5r7rzaDdGNwgh0hg3VkcIIdI4V3YWt1MgM --storenode=/ip4/172.18.128.154/tcp/7457/p2p/16Uiu2HAm7QLYSiASC23ib7HfpQ2tUn4pdMCud2XfebTLWnuJCkYV --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.105.146 waku e66bf9e73323974423e688c561e3fc056c0fa557fa0c0a025f4bb47ab404ea60
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e66bf9e73323. Setting up logs at ./log/docker/store_node1_2024-10-30_04-33-34__d5074e3b-bae4-4ff7-ae15-c6ce7ac10043__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61572
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61572/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61572/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.105.146/tcp/61573/p2p/16Uiu2HAm36qZenFF4KhdCge3MDxadehRCi1nePqiKwGCzpyQ6B47","/ip4/172.18.105.146/tcp/61574/ws/p2p/16Uiu2HAm36qZenFF4KhdCge3MDxadehRCi1nePqiKwGCzpyQ6B47"],"enrUri":"enr:-L24QLZt4iKtG6qQhVMkRIjOmn5fcPkuhCoCaYpJ0bBCkhquIfL5VbJLTc8g3khIUUQdVQOaV-bIvcsDrjpa-STckcUCgmlkgnY0gmlwhKwSaZKKbXVsdGlhZGRyc5YACASsEmmSBvCFAAoErBJpkgbwht0DgnJzhQADAQAAiXNlY3AyNTZrMaECcgpL46C8LiFXXBCmsSk76v2ddZdpsmEAoRaOZJups5SDdGNwgvCFg3VkcILwh4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61572/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.154/tcp/7457/p2p/16Uiu2HAm7QLYSiASC23ib7HfpQ2tUn4pdMCud2XfebTLWnuJCkYV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7456/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61572/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7456/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:220 inquering stored messages with start time 1730262823850814208 after end time 1730262836850835201
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7456/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1730262823850814208&endTime=1730262836850835201&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"id2q//aJKoLLeiryK1/CWhWug+qZ0I0Pr0q8hGHbMOk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262823850814208,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"mNrX9OYJzIWepmH0V5CrsAKgsQE/JLsJHUgKI1fg2bQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262825850822912,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"WNY+cqttVCkq5CF2ed7wB0vWMn33oq//FRS8Lvl1FM4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262826750825984,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"ODepzueTyvntvq3Y91jLKSpCg7sF4sSWQN1gMODdGaI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262826950829056,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"QNLfyByAbAEuJHDVlwwbdpsh/oA6jUw/pKhnJQwMi08=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262828850831872,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"qBgCSNS96mZtnNkVotADU7yCOsJYMMzJafooGR689XA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262836850835200,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:223 number of messages stored for start time 1730262823850814208 and end time = 1730262836850835201 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61572/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1730262823850814208&endTime=1730262836850835201&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"id2q//aJKoLLeiryK1/CWhWug+qZ0I0Pr0q8hGHbMOk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262823850814208,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"mNrX9OYJzIWepmH0V5CrsAKgsQE/JLsJHUgKI1fg2bQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262825850822912,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"WNY+cqttVCkq5CF2ed7wB0vWMn33oq//FRS8Lvl1FM4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262826750825984,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"ODepzueTyvntvq3Y91jLKSpCg7sF4sSWQN1gMODdGaI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262826950829056,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"QNLfyByAbAEuJHDVlwwbdpsh/oA6jUw/pKhnJQwMi08=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262828850831872,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"qBgCSNS96mZtnNkVotADU7yCOsJYMMzJafooGR689XA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730262836850835200,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:223 number of messages stored for start time 1730262823850814208 and end time = 1730262836850835201 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b27f98fcdfab
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e66bf9e73323
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b27f98fcdfab. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.