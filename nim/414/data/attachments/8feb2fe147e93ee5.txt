[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-10-30_04-13-15__01ce679e-cee1-4e73-95f2-467a9feafa24
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-30_04-13-15__01ce679e-cee1-4e73-95f2-467a9feafa24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.13.217
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46465', '46466', '46467', '46468', '46469']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46465:46465 -p 46466:46466 -p 46467:46467 -p 46468:46468 -p 46469:46469 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46467 --rest-port=46465 --tcp-port=46466 --discv5-udp-port=46468 --rest-address=0.0.0.0 --nat=extip:172.18.13.217 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e3f90e7ef4eccfb5e56f4664d6be5f8bad5adbccbd2b58dc5f99f6e86fbba7fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46469 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.13.217 waku fca8a241fdbfca6b5ad49cd80d3a01aa398292467509c9b0183c449ed24a7864
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fca8a241fdbf. Setting up logs at ./log/docker/node1_2024-10-30_04-13-15__01ce679e-cee1-4e73-95f2-467a9feafa24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46465
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 05f8bb89f3e7. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46465/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46465/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.13.217/tcp/46466/p2p/16Uiu2HAm4kLmejCVxq8CCV25qWFci6GckAtYvdmamR85t3W3Tosn","/ip4/172.18.13.217/tcp/46467/ws/p2p/16Uiu2HAm4kLmejCVxq8CCV25qWFci6GckAtYvdmamR85t3W3Tosn"],"enrUri":"enr:-L24QGD0feNFIpVt8k8GVNwPXRiAMVefQtDi4Hd_fhOhEaY_daFpWvD3M5DU-A9F2SxXOmVTN8pPq0PqOcbY8p1W844CgmlkgnY0gmlwhKwSDdmKbXVsdGlhZGRyc5YACASsEg3ZBrWCAAoErBIN2Qa1g90DgnJzhQADAQAAiXNlY3AyNTZrMaECioF_ZKn2J0SbvqIHU7N_gZ6sZnGyH4j-ZR-s-f3Tq0mDdGNwgrWCg3VkcIK1hIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-30_04-13-15__01ce679e-cee1-4e73-95f2-467a9feafa24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.41.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39231', '39232', '39233', '39234', '39235']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39231:39231 -p 39232:39232 -p 39233:39233 -p 39234:39234 -p 39235:39235 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39233 --rest-port=39231 --tcp-port=39232 --discv5-udp-port=39234 --rest-address=0.0.0.0 --nat=extip:172.18.41.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=341aef5a1fcc76fdd8ef4ecc49f85eabdff11cf5ea253b9e78fef53718c58227 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39235 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGD0feNFIpVt8k8GVNwPXRiAMVefQtDi4Hd_fhOhEaY_daFpWvD3M5DU-A9F2SxXOmVTN8pPq0PqOcbY8p1W844CgmlkgnY0gmlwhKwSDdmKbXVsdGlhZGRyc5YACASsEg3ZBrWCAAoErBIN2Qa1g90DgnJzhQADAQAAiXNlY3AyNTZrMaECioF_ZKn2J0SbvqIHU7N_gZ6sZnGyH4j-ZR-s-f3Tq0mDdGNwgrWCg3VkcIK1hIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.41.15 waku 92ba5363011764c13d9cb0408ed44268825e434827fb0814cb4663944c3f095c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 92ba53630117. Setting up logs at ./log/docker/node2_2024-10-30_04-13-15__01ce679e-cee1-4e73-95f2-467a9feafa24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 39231
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39231/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39231/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.41.15/tcp/39232/p2p/16Uiu2HAmUCwMqZhRC1EkxTisoGzrizoEs7FzA1D57WUTjM7fpW7P","/ip4/172.18.41.15/tcp/39233/ws/p2p/16Uiu2HAmUCwMqZhRC1EkxTisoGzrizoEs7FzA1D57WUTjM7fpW7P"],"enrUri":"enr:-L24QE1zdFq3RATtmLw1Dzs_JLnbtnSOHBlTkN1VNB5hp76OaH3ymXLBm3V9DhfNH0SaEymvE7be90U6T3P9RDqRgHACgmlkgnY0gmlwhKwSKQ-KbXVsdGlhZGRyc5YACASsEikPBplAAAoErBIpDwaZQd0DgnJzhQADAQAAiXNlY3AyNTZrMaED5w6CJBG1XxnTEZqPQohYifXMB3rJrSUFENmynBlST_6DdGNwgplAg3VkcIKZQoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39231/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.13.217/tcp/46466/p2p/16Uiu2HAm4kLmejCVxq8CCV25qWFci6GckAtYvdmamR85t3W3Tosn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-30_04-13-15__01ce679e-cee1-4e73-95f2-467a9feafa24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.36.51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35722', '35723', '35724', '35725', '35726']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35722:35722 -p 35723:35723 -p 35724:35724 -p 35725:35725 -p 35726:35726 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35724 --rest-port=35722 --tcp-port=35723 --discv5-udp-port=35725 --rest-address=0.0.0.0 --nat=extip:172.18.36.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dba8c6a0bea51022d9dba6b10feacb38bc0b8ed1ba6b3cefeee2b607e7e643e6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35726 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGD0feNFIpVt8k8GVNwPXRiAMVefQtDi4Hd_fhOhEaY_daFpWvD3M5DU-A9F2SxXOmVTN8pPq0PqOcbY8p1W844CgmlkgnY0gmlwhKwSDdmKbXVsdGlhZGRyc5YACASsEg3ZBrWCAAoErBIN2Qa1g90DgnJzhQADAQAAiXNlY3AyNTZrMaECioF_ZKn2J0SbvqIHU7N_gZ6sZnGyH4j-ZR-s-f3Tq0mDdGNwgrWCg3VkcIK1hIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.36.51 waku 26f80e27d4d19961133fe2d713119470a005bffccc2516949d3c6241e5a43282
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 26f80e27d4d1. Setting up logs at ./log/docker/node3_2024-10-30_04-13-15__01ce679e-cee1-4e73-95f2-467a9feafa24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35722
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35722/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35722/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.36.51/tcp/35723/p2p/16Uiu2HAm4N7rU7bT4NcR81RGm6EGynVTaMevAffX6CRfNPLvYhi6","/ip4/172.18.36.51/tcp/35724/ws/p2p/16Uiu2HAm4N7rU7bT4NcR81RGm6EGynVTaMevAffX6CRfNPLvYhi6"],"enrUri":"enr:-L24QLyCDyOcIuhviUF4lSTrq4aQFmrC77kMy9WUkppU49SWAvaBiw6kI4aVSo90sLt3gG3DQmUpVYl_34hPfgcR40QCgmlkgnY0gmlwhKwSJDOKbXVsdGlhZGRyc5YACASsEiQzBouLAAoErBIkMwaLjN0DgnJzhQADAQAAiXNlY3AyNTZrMaEChNAdVcgfPVvk2rN5XHL5BphF0Ie2y8NdlfetvmLsQPeDdGNwgouLg3VkcIKLjYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35722/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.13.217/tcp/46466/p2p/16Uiu2HAm4kLmejCVxq8CCV25qWFci6GckAtYvdmamR85t3W3Tosn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-30_04-13-15__01ce679e-cee1-4e73-95f2-467a9feafa24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.165.126
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16765', '16766', '16767', '16768', '16769']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16765:16765 -p 16766:16766 -p 16767:16767 -p 16768:16768 -p 16769:16769 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16767 --rest-port=16765 --tcp-port=16766 --discv5-udp-port=16768 --rest-address=0.0.0.0 --nat=extip:172.18.165.126 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3c4bea2edcecbcedca7669b2ff8af04e3f92e3c8bdd215435eee9216cbefd5a3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16769 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGD0feNFIpVt8k8GVNwPXRiAMVefQtDi4Hd_fhOhEaY_daFpWvD3M5DU-A9F2SxXOmVTN8pPq0PqOcbY8p1W844CgmlkgnY0gmlwhKwSDdmKbXVsdGlhZGRyc5YACASsEg3ZBrWCAAoErBIN2Qa1g90DgnJzhQADAQAAiXNlY3AyNTZrMaECioF_ZKn2J0SbvqIHU7N_gZ6sZnGyH4j-ZR-s-f3Tq0mDdGNwgrWCg3VkcIK1hIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.165.126 waku 9e8130e62a86b7f8c6ce5ade3d8823cadb94e70ebc2db5340978258b506747b7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9e8130e62a86. Setting up logs at ./log/docker/node4_2024-10-30_04-13-15__01ce679e-cee1-4e73-95f2-467a9feafa24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16765
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16765/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16765/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.165.126/tcp/16766/p2p/16Uiu2HAmRiTsSer98ZcyRg5LZ7zpiZnVxc36oDPoqrY6Hedhnc1M","/ip4/172.18.165.126/tcp/16767/ws/p2p/16Uiu2HAmRiTsSer98ZcyRg5LZ7zpiZnVxc36oDPoqrY6Hedhnc1M"],"enrUri":"enr:-L24QFwoRvthMZzOi0coC004wJSPi-T11Puq0HXpNPIdBv3Se_WScq3CVhFdTlEjBgIktwcCra5svBnu0pAtY6LkWsACgmlkgnY0gmlwhKwSpX6KbXVsdGlhZGRyc5YACASsEqV-BkF-AAoErBKlfgZBf90DgnJzhQADAQAAiXNlY3AyNTZrMaEDwgvKD6BeWqGFtxi9c4GyNXjILuqs11TPCH9XX4MN-EiDdGNwgkF-g3VkcIJBgIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16765/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.13.217/tcp/46466/p2p/16Uiu2HAm4kLmejCVxq8CCV25qWFci6GckAtYvdmamR85t3W3Tosn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-30_04-13-15__01ce679e-cee1-4e73-95f2-467a9feafa24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.124.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38078', '38079', '38080', '38081', '38082']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38078:38078 -p 38079:38079 -p 38080:38080 -p 38081:38081 -p 38082:38082 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38080 --rest-port=38078 --tcp-port=38079 --discv5-udp-port=38081 --rest-address=0.0.0.0 --nat=extip:172.18.124.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=885f7fdd695d4cc6ebaf5e2c192fd301d9193eaecbf3d3faf36c8f27f5a47b8a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38082 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGD0feNFIpVt8k8GVNwPXRiAMVefQtDi4Hd_fhOhEaY_daFpWvD3M5DU-A9F2SxXOmVTN8pPq0PqOcbY8p1W844CgmlkgnY0gmlwhKwSDdmKbXVsdGlhZGRyc5YACASsEg3ZBrWCAAoErBIN2Qa1g90DgnJzhQADAQAAiXNlY3AyNTZrMaECioF_ZKn2J0SbvqIHU7N_gZ6sZnGyH4j-ZR-s-f3Tq0mDdGNwgrWCg3VkcIK1hIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.124.93 waku 6a9565b887060d9028ad9d20873b3a01a6a1e61efa7e7429beac9d5d1044f0c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6a9565b88706. Setting up logs at ./log/docker/node5_2024-10-30_04-13-15__01ce679e-cee1-4e73-95f2-467a9feafa24__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38078
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38078/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38078/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.124.93/tcp/38079/p2p/16Uiu2HAkwv2RDgdpRAZATFbqDcysJVpjPq2z9UejDbzidvZepdJM","/ip4/172.18.124.93/tcp/38080/ws/p2p/16Uiu2HAkwv2RDgdpRAZATFbqDcysJVpjPq2z9UejDbzidvZepdJM"],"enrUri":"enr:-L24QKggspkUbIl5bKGGieWIFA3qdFl26q0MB6Xgeyk3iuvsRwhgI1x7jr6s6m_c_czA2xiWV5FuwP9xBekx8iL6anMCgmlkgnY0gmlwhKwSfF2KbXVsdGlhZGRyc5YACASsEnxdBpS_AAoErBJ8XQaUwN0DgnJzhQADAQAAiXNlY3AyNTZrMaECJPq_CppYhmo2RmWueK4dXXfkgihqZ8NtbAo6PqKsgeaDdGNwgpS_g3VkcIKUwYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38078/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.13.217/tcp/46466/p2p/16Uiu2HAm4kLmejCVxq8CCV25qWFci6GckAtYvdmamR85t3W3Tosn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46465/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39231/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35722/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16765/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38078/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46465/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46465/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730261604167948288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39231/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730261604167948288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35722/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730261604167948288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730261604167948288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38078/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730261604167948288,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38078/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46465/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730261604293743872,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39231/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730261604293743872,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35722/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730261604293743872,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730261604293743872,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38078/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730261604293743872,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fca8a241fdbf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 92ba53630117
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fca8a241fdbf. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 26f80e27d4d1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 92ba53630117. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9e8130e62a86
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 26f80e27d4d1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6a9565b88706
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9e8130e62a86. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.