[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2024-10-03_04-17-25__91b3a803-d8a2-4b81-b4fe-0ceaea7a82b0
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-03_04-17-25__91b3a803-d8a2-4b81-b4fe-0ceaea7a82b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.68.208
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3397', '3398', '3399', '3400', '3401']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3397:3397 -p 3398:3398 -p 3399:3399 -p 3400:3400 -p 3401:3401 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3399 --rest-port=3397 --tcp-port=3398 --discv5-udp-port=3400 --rest-address=0.0.0.0 --nat=extip:172.18.68.208 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef031ee97f676ef87af3cae03adb217b09c39f10e8c1bcddb309dcdc3afa9c0a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3401 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.68.208 waku 6ea4289080fa79364695fc8a823312b7e84153a751a7e3067330c6c1e5d7a922
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6ea4289080fa. Setting up logs at ./log/docker/node1_2024-10-03_04-17-25__91b3a803-d8a2-4b81-b4fe-0ceaea7a82b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3397
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3397/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3397/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.208/tcp/3398/p2p/16Uiu2HAmE8p5vgjG5EoB2zFsdTRcKu9NQzVvjuKz1Np4TH3faiuR","/ip4/172.18.68.208/tcp/3399/ws/p2p/16Uiu2HAmE8p5vgjG5EoB2zFsdTRcKu9NQzVvjuKz1Np4TH3faiuR"],"enrUri":"enr:-LO4QOLb3KDpPtI4m3SLmPqPBAfIyd5jf0pRSVOIGG_F2FkeCks_ejzsvMNzPVV2A8Uhv88Vao6H28WGtqK9Hw_Wt28BgmlkgnY0gmlwhKwSRNCKbXVsdGlhZGRyc4wACgSsEkTQBg1H3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMV_FfRLOhrOwJN9yaJmLB8MLgo6H4vd0LR4xCdGF3DbIN0Y3CCDUaDdWRwgg1IhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-03_04-17-25__91b3a803-d8a2-4b81-b4fe-0ceaea7a82b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.193.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['5131', '5132', '5133', '5134', '5135']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 5131:5131 -p 5132:5132 -p 5133:5133 -p 5134:5134 -p 5135:5135 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5133 --rest-port=5131 --tcp-port=5132 --discv5-udp-port=5134 --rest-address=0.0.0.0 --nat=extip:172.18.193.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cc14716586e1b3872e7ccda376a7dfa6ffc5467a3b6e0db7d0aa66cbac1da16a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5135 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOLb3KDpPtI4m3SLmPqPBAfIyd5jf0pRSVOIGG_F2FkeCks_ejzsvMNzPVV2A8Uhv88Vao6H28WGtqK9Hw_Wt28BgmlkgnY0gmlwhKwSRNCKbXVsdGlhZGRyc4wACgSsEkTQBg1H3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMV_FfRLOhrOwJN9yaJmLB8MLgo6H4vd0LR4xCdGF3DbIN0Y3CCDUaDdWRwgg1IhXdha3UyBQ --filternode=/ip4/172.18.68.208/tcp/3398/p2p/16Uiu2HAmE8p5vgjG5EoB2zFsdTRcKu9NQzVvjuKz1Np4TH3faiuR
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.193.31 waku 972e785339ea6cf3686ac37d1f697aea296f2f8e9109455c39efa955098b3613
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 972e785339ea. Setting up logs at ./log/docker/node2_2024-10-03_04-17-25__91b3a803-d8a2-4b81-b4fe-0ceaea7a82b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5131
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5131/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5131/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.31/tcp/5132/p2p/16Uiu2HAkyX7zMhpxzd91rfVnqVWyYW7E8LtHbgRqAHXFU8nzdFss","/ip4/172.18.193.31/tcp/5133/ws/p2p/16Uiu2HAkyX7zMhpxzd91rfVnqVWyYW7E8LtHbgRqAHXFU8nzdFss"],"enrUri":"enr:-LO4QEVWQTf9DGlCKsSXDnZTFgOwgqC9iyEIipTMMNFHAMF0X38OI9RXHzjjhqGFbK-Q2QvExTg9ZzflutsZnWazRRgBgmlkgnY0gmlwhKwSwR-KbXVsdGlhZGRyc4wACgSsEsEfBhQN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI81A-goSMbpyW-JVRVEersLNcCr12LR1Iv4vbm465wDoN0Y3CCFAyDdWRwghQOhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5131/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.68.208/tcp/3398/p2p/16Uiu2HAmE8p5vgjG5EoB2zFsdTRcKu9NQzVvjuKz1Np4TH3faiuR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3397/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5131/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "114b13da-6a89-426c-af55-c8de0a82816d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"114b13da-6a89-426c-af55-c8de0a82816d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X PUT "http://127.0.0.1:5131/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6ea4289080fa
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 972e785339ea
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.