[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.127.38
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63410', '63411', '63412', '63413', '63414']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63410:63410 -p 63411:63411 -p 63412:63412 -p 63413:63413 -p 63414:63414 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63412 --rest-port=63410 --tcp-port=63411 --discv5-udp-port=63413 --rest-address=0.0.0.0 --nat=extip:172.18.127.38 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=123bfaf4cc8d6c7c858d96cf5fea18b918a3ddbeebb8dfdc2b86bf3a8ddfd834 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63414 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.127.38 waku 3c199f86ec6d177af52ed9d6f94d70c3e025bf88aa7ba5fc295734271844e8c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3c199f86ec6d. Setting up logs at ./log/docker/receiving_node1_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63410
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63410/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63410/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.38/tcp/63411/p2p/16Uiu2HAmTZnDUoZ2BGTX2bGba8QmWPdX2xc8SvGq8EUqHScZDwnM","/ip4/172.18.127.38/tcp/63412/ws/p2p/16Uiu2HAmTZnDUoZ2BGTX2bGba8QmWPdX2xc8SvGq8EUqHScZDwnM"],"enrUri":"enr:-LO4QBGf46yY8elD9gapBZp__pFt7JGc4EvLR3MFG5GnrISWakuNrbPRz6heRXyQsrMRdcAQ9KoABHI-rVISJaYjadYBgmlkgnY0gmlwhKwSfyaKbXVsdGlhZGRyc4wACgSsEn8mBve03QOCcnOFAAMBAACJc2VjcDI1NmsxoQPdia3dQUfWGDh3uUz85ZhH_3kLiyK8SDHwsLTzm99-3oN0Y3CC97ODdWRwgve1hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.44.198
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['25263', '25264', '25265', '25266', '25267']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 25263:25263 -p 25264:25264 -p 25265:25265 -p 25266:25266 -p 25267:25267 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25265 --rest-port=25263 --tcp-port=25264 --discv5-udp-port=25266 --rest-address=0.0.0.0 --nat=extip:172.18.44.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0c4ccfce7f7f77ad7dccd737c1a85ce13b328fff3cd877e56e2bfcb2babeeb6a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25267 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.44.198 waku b66026a706f19d2c287b29dfbea975ef24c8f9f5c2e16f701bc7a0f28de1c4ab
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b66026a706f1. Setting up logs at ./log/docker/receiving_node2_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 25263
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25263/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25263/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.44.198/tcp/25264/p2p/16Uiu2HAkyayQJSy7K9tdyzye53MFjS6QkrHUTei6dwJhaFEAWbBr","/ip4/172.18.44.198/tcp/25265/ws/p2p/16Uiu2HAkyayQJSy7K9tdyzye53MFjS6QkrHUTei6dwJhaFEAWbBr"],"enrUri":"enr:-LO4QD3aBhqVgFCxq8oDSwgbGEfBrzkQTF8J5G7NA6jq6T4KTYba8zlaQfX3mv5r2VOdh2zZ6zJN1RY_-QyMR4WRj_cBgmlkgnY0gmlwhKwSLMaKbXVsdGlhZGRyc4wACgSsEizGBmKx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI90Ky7NCaIrSFwv_Pscj6foMVUI6uH7t27kZLy2SyidYN0Y3CCYrCDdWRwgmKyhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25263/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.38/tcp/63411/p2p/16Uiu2HAmTZnDUoZ2BGTX2bGba8QmWPdX2xc8SvGq8EUqHScZDwnM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.83.147
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['7433', '7434', '7435', '7436', '7437']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 7433:7433 -p 7434:7434 -p 7435:7435 -p 7436:7436 -p 7437:7437 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7435 --rest-port=7433 --tcp-port=7434 --discv5-udp-port=7436 --rest-address=0.0.0.0 --nat=extip:172.18.83.147 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9f064beff62aadbf93f2fb26ec156cff436cf4ff72bcc11dc0ff2a33be9d3d0d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7437 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QBGf46yY8elD9gapBZp__pFt7JGc4EvLR3MFG5GnrISWakuNrbPRz6heRXyQsrMRdcAQ9KoABHI-rVISJaYjadYBgmlkgnY0gmlwhKwSfyaKbXVsdGlhZGRyc4wACgSsEn8mBve03QOCcnOFAAMBAACJc2VjcDI1NmsxoQPdia3dQUfWGDh3uUz85ZhH_3kLiyK8SDHwsLTzm99-3oN0Y3CC97ODdWRwgve1hXdha3UyCQ --lightpushnode=/ip4/172.18.127.38/tcp/63411/p2p/16Uiu2HAmTZnDUoZ2BGTX2bGba8QmWPdX2xc8SvGq8EUqHScZDwnM --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.83.147 waku 9d362a1e113b5e79c10a822471a5e5206668e05e616b683409a7deaa087d0bd5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9d362a1e113b. Setting up logs at ./log/docker/lightpush_node1_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7433
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7433/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7433/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.83.147/tcp/7434/p2p/16Uiu2HAm1eq3q3hwwgnyzhsJPchGzWh8hBdDSJ33GuqdVRbWMNFW","/ip4/172.18.83.147/tcp/7435/ws/p2p/16Uiu2HAm1eq3q3hwwgnyzhsJPchGzWh8hBdDSJ33GuqdVRbWMNFW"],"enrUri":"enr:-LO4QLei3YNh0KVo353T64qQ0mmlZIQ8moupXQqDtk-LBZanR-gm0FDtWWHmu2clXolf6v0scywCr-w95uACoeWnz7wBgmlkgnY0gmlwhKwSU5OKbXVsdGlhZGRyc4wACgSsElOTBh0L3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJchO1VXjqSMkz6igcARhm61zwNBbI6DoMZ-qaowI_kbYN0Y3CCHQqDdWRwgh0MhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7433/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.38/tcp/63411/p2p/16Uiu2HAmTZnDUoZ2BGTX2bGba8QmWPdX2xc8SvGq8EUqHScZDwnM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7433/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.44.198/tcp/25264/p2p/16Uiu2HAkyayQJSy7K9tdyzye53MFjS6QkrHUTei6dwJhaFEAWbBr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.194.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62763', '62764', '62765', '62766', '62767']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62763:62763 -p 62764:62764 -p 62765:62765 -p 62766:62766 -p 62767:62767 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62765 --rest-port=62763 --tcp-port=62764 --discv5-udp-port=62766 --rest-address=0.0.0.0 --nat=extip:172.18.194.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4b4ebe1bbfe6f4ad2c3b9fefdeda39af2c6cdb75b70e64dbeb5e87e2ffddbeeb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62767 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QBGf46yY8elD9gapBZp__pFt7JGc4EvLR3MFG5GnrISWakuNrbPRz6heRXyQsrMRdcAQ9KoABHI-rVISJaYjadYBgmlkgnY0gmlwhKwSfyaKbXVsdGlhZGRyc4wACgSsEn8mBve03QOCcnOFAAMBAACJc2VjcDI1NmsxoQPdia3dQUfWGDh3uUz85ZhH_3kLiyK8SDHwsLTzm99-3oN0Y3CC97ODdWRwgve1hXdha3UyCQ --lightpushnode=/ip4/172.18.127.38/tcp/63411/p2p/16Uiu2HAmTZnDUoZ2BGTX2bGba8QmWPdX2xc8SvGq8EUqHScZDwnM --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.194.31 waku 0df7ac99d3fd614b673b04e95e8bc895ee3820de42340e273b1c8c8d08e791bd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0df7ac99d3fd. Setting up logs at ./log/docker/lightpush_node2_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62763
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62763/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62763/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.194.31/tcp/62764/p2p/16Uiu2HAmCuiQKnkPvh9k6qMEYewci2geDuDJsRdHi87eSUWgakDs","/ip4/172.18.194.31/tcp/62765/ws/p2p/16Uiu2HAmCuiQKnkPvh9k6qMEYewci2geDuDJsRdHi87eSUWgakDs"],"enrUri":"enr:-LO4QCyiXdqodTL-37XaCFOda7tERu7ETpTUS1I1QJ6cyar8XP5Nt5ewga26afKU8s7OQXyt04Spqw97K8SdiqaUhmIBgmlkgnY0gmlwhKwSwh-KbXVsdGlhZGRyc4wACgSsEsIfBvUt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMDxa4XT3i84_7_WxPxzLgQWIpQD7dsxjZM4CULMb0b7oN0Y3CC9SyDdWRwgvUuhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62763/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.38/tcp/63411/p2p/16Uiu2HAmTZnDUoZ2BGTX2bGba8QmWPdX2xc8SvGq8EUqHScZDwnM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62763/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.44.198/tcp/25264/p2p/16Uiu2HAkyayQJSy7K9tdyzye53MFjS6QkrHUTei6dwJhaFEAWbBr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.175.86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47526', '47527', '47528', '47529', '47530']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47526:47526 -p 47527:47527 -p 47528:47528 -p 47529:47529 -p 47530:47530 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47528 --rest-port=47526 --tcp-port=47527 --discv5-udp-port=47529 --rest-address=0.0.0.0 --nat=extip:172.18.175.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dcd108fafadda3ed896cecaba3acd6a81718abac489ea50ca4c1ff8f8f6cdb60 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47530 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QBGf46yY8elD9gapBZp__pFt7JGc4EvLR3MFG5GnrISWakuNrbPRz6heRXyQsrMRdcAQ9KoABHI-rVISJaYjadYBgmlkgnY0gmlwhKwSfyaKbXVsdGlhZGRyc4wACgSsEn8mBve03QOCcnOFAAMBAACJc2VjcDI1NmsxoQPdia3dQUfWGDh3uUz85ZhH_3kLiyK8SDHwsLTzm99-3oN0Y3CC97ODdWRwgve1hXdha3UyCQ --lightpushnode=/ip4/172.18.127.38/tcp/63411/p2p/16Uiu2HAmTZnDUoZ2BGTX2bGba8QmWPdX2xc8SvGq8EUqHScZDwnM --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.175.86 waku 301bb3385ffdaeacf3437b1bca468a2f0800ce3d9d23622d11b4fff2a523cd8a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 301bb3385ffd. Setting up logs at ./log/docker/lightpush_node3_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47526
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47526/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47526/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.175.86/tcp/47527/p2p/16Uiu2HAmSGyjHN8vM9bCAXHQh94qJFL9oSgJG1MLN6AoVAwvZiF8","/ip4/172.18.175.86/tcp/47528/ws/p2p/16Uiu2HAmSGyjHN8vM9bCAXHQh94qJFL9oSgJG1MLN6AoVAwvZiF8"],"enrUri":"enr:-LO4QGpJsP1qubULYrX87cmYTMcL7Un6N6VA6W_ojqOL8wvwZOd7Fy3IXkqC_qi6mEwhlB6H7xVKbFK47dyHEYyjEZEBgmlkgnY0gmlwhKwSr1aKbXVsdGlhZGRyc4wACgSsEq9WBrmo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPKYCMgv61mmNH_8r3VKO-Nbu_LB_VtCG0v8U0JWd1pR4N0Y3CCuaeDdWRwgrmphXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47526/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.38/tcp/63411/p2p/16Uiu2HAmTZnDUoZ2BGTX2bGba8QmWPdX2xc8SvGq8EUqHScZDwnM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47526/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.44.198/tcp/25264/p2p/16Uiu2HAkyayQJSy7K9tdyzye53MFjS6QkrHUTei6dwJhaFEAWbBr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.146.111
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['13406', '13407', '13408', '13409', '13410']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 13406:13406 -p 13407:13407 -p 13408:13408 -p 13409:13409 -p 13410:13410 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13408 --rest-port=13406 --tcp-port=13407 --discv5-udp-port=13409 --rest-address=0.0.0.0 --nat=extip:172.18.146.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1a9acb28e832defb4f062bba4dce6a941a15ddccbc1aa6452cd5daefdb9aca9b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13410 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QBGf46yY8elD9gapBZp__pFt7JGc4EvLR3MFG5GnrISWakuNrbPRz6heRXyQsrMRdcAQ9KoABHI-rVISJaYjadYBgmlkgnY0gmlwhKwSfyaKbXVsdGlhZGRyc4wACgSsEn8mBve03QOCcnOFAAMBAACJc2VjcDI1NmsxoQPdia3dQUfWGDh3uUz85ZhH_3kLiyK8SDHwsLTzm99-3oN0Y3CC97ODdWRwgve1hXdha3UyCQ --lightpushnode=/ip4/172.18.127.38/tcp/63411/p2p/16Uiu2HAmTZnDUoZ2BGTX2bGba8QmWPdX2xc8SvGq8EUqHScZDwnM --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.146.111 waku f39d2c43347cd28e8654f2d535e8599e6c6684324fb4034b1e46031eafe539d8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f39d2c43347c. Setting up logs at ./log/docker/lightpush_node4_2024-08-28_04-20-11__da8ac81b-d64f-404b-8b0c-71e164bb4654__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 13406
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13406/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13406/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.111/tcp/13407/p2p/16Uiu2HAmDYw88tz4RWWRnBHdkZMaMrBcrV4ggHQKWkqfRj6qZWti","/ip4/172.18.146.111/tcp/13408/ws/p2p/16Uiu2HAmDYw88tz4RWWRnBHdkZMaMrBcrV4ggHQKWkqfRj6qZWti"],"enrUri":"enr:-LO4QAp0NYqfX2ZclOjlBnJlyQ0IHJ9dr75DmqnchR7oh9WtBi9i2dzbp61t-P8RuTtIqa_gYGq7FAdang_YEitTh8sBgmlkgnY0gmlwhKwSkm-KbXVsdGlhZGRyc4wACgSsEpJvBjRg3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMNTo21N95vKpdopcTEyLLhjqbrn7AUkFhNL7jluoFpa4N0Y3CCNF-DdWRwgjRhhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13406/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.38/tcp/63411/p2p/16Uiu2HAmTZnDUoZ2BGTX2bGba8QmWPdX2xc8SvGq8EUqHScZDwnM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13406/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.44.198/tcp/25264/p2p/16Uiu2HAkyayQJSy7K9tdyzye53MFjS6QkrHUTei6dwJhaFEAWbBr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63410/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25263/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7433/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724818822079317760}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724818822079317760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25263/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724818822079317760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62763/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724818822199838208}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724818822199838208,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25263/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724818822199838208,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47526/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724818822320700416}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724818822320700416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25263/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724818822320700416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13406/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724818822439945984}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724818822439945984,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25263/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724818822439945984,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3c199f86ec6d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b66026a706f1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9d362a1e113b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0df7ac99d3fd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 301bb3385ffd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f39d2c43347c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.