[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_unsubscribed_peer with id: 2024-08-28_04-17-09__07226e08-a8ca-439e-acf9-041d826ecdf7
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-28_04-17-09__07226e08-a8ca-439e-acf9-041d826ecdf7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.250.158
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56511', '56512', '56513', '56514', '56515']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56511:56511 -p 56512:56512 -p 56513:56513 -p 56514:56514 -p 56515:56515 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56513 --rest-port=56511 --tcp-port=56512 --discv5-udp-port=56514 --rest-address=0.0.0.0 --nat=extip:172.18.250.158 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b9ed1794d2f6c2e9015b69a9f59ae6c5febcababcef23db039c26e7bcf48d24f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56515 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.250.158 waku abb67b676aa6df634c926734c4216955e1dce30ae9277aac6b64d64f549f6eed
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID abb67b676aa6. Setting up logs at ./log/docker/node1_2024-08-28_04-17-09__07226e08-a8ca-439e-acf9-041d826ecdf7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56511
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56511/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56511/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.158/tcp/56512/p2p/16Uiu2HAm2FkG2iYdDZEZj5Pg3TQPcHgRgoQDrx66iWxcSV2PSZEz","/ip4/172.18.250.158/tcp/56513/ws/p2p/16Uiu2HAm2FkG2iYdDZEZj5Pg3TQPcHgRgoQDrx66iWxcSV2PSZEz"],"enrUri":"enr:-LO4QAU80rq77FQKKISjcFLUK_gjYRGU5OuzpxiEyGRLYVXyIGKyTbeqfhfej1Qug_2JwgSOK_sR53NS31H7xJmzN2QBgmlkgnY0gmlwhKwS-p6KbXVsdGlhZGRyc4wACgSsEvqeBtzB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJldtb5f1naOSkU6Wyri065AK0rX_lV-t49iue7Ra_lE4N0Y3CC3MCDdWRwgtzChXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-28_04-17-09__07226e08-a8ca-439e-acf9-041d826ecdf7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.124.232
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44727', '44728', '44729', '44730', '44731']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44727:44727 -p 44728:44728 -p 44729:44729 -p 44730:44730 -p 44731:44731 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44729 --rest-port=44727 --tcp-port=44728 --discv5-udp-port=44730 --rest-address=0.0.0.0 --nat=extip:172.18.124.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1bfeafcaeda313bd90dbf3a39da13016c7ae25a2ecff8ed5d3bfde4a06ff1333 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44731 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QAU80rq77FQKKISjcFLUK_gjYRGU5OuzpxiEyGRLYVXyIGKyTbeqfhfej1Qug_2JwgSOK_sR53NS31H7xJmzN2QBgmlkgnY0gmlwhKwS-p6KbXVsdGlhZGRyc4wACgSsEvqeBtzB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJldtb5f1naOSkU6Wyri065AK0rX_lV-t49iue7Ra_lE4N0Y3CC3MCDdWRwgtzChXdha3UyBQ --filternode=/ip4/172.18.250.158/tcp/56512/p2p/16Uiu2HAm2FkG2iYdDZEZj5Pg3TQPcHgRgoQDrx66iWxcSV2PSZEz
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.124.232 waku dcc90e4098a64854be5b8e68a9b1779563fe06767ad8e5d344e3a792bfa385e8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID dcc90e4098a6. Setting up logs at ./log/docker/node2_2024-08-28_04-17-09__07226e08-a8ca-439e-acf9-041d826ecdf7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44727
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44727/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44727/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.124.232/tcp/44728/p2p/16Uiu2HAm4CKSV4M7h2TakYS9X8Xe5fnwZXKXRGHAkmbomc4PeiZH","/ip4/172.18.124.232/tcp/44729/ws/p2p/16Uiu2HAm4CKSV4M7h2TakYS9X8Xe5fnwZXKXRGHAkmbomc4PeiZH"],"enrUri":"enr:-LO4QPmLwLBDGRQ-LWNYT_AfRzn53NnQKU7CQ7XIy_oa7quZa6dkdz6dmpVhWneRaKxQTUMQXYbFmuw9ZB6E5HzckggBgmlkgnY0gmlwhKwSfOiKbXVsdGlhZGRyc4wACgSsEnzoBq653QOCcnOFAAMBAACJc2VjcDI1NmsxoQKCTWhKOl12RmlrWSI3mXosK0EYMOuP__29PS67Gcus3IN0Y3CCrriDdWRwgq66hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44727/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.250.158/tcp/56512/p2p/16Uiu2HAm2FkG2iYdDZEZj5Pg3TQPcHgRgoQDrx66iWxcSV2PSZEz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56511/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44727/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ab4a5f16-406f-403d-a7c6-b8d0f16342a3", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ab4a5f16-406f-403d-a7c6-b8d0f16342a3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44727/filter/v2/subscriptions/e8ec7f24-5974-4f7e-aa1c-0c25cf77f294" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e8ec7f24-5974-4f7e-aa1c-0c25cf77f294","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:44727/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "12345", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"12345","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44727/filter/v2/subscriptions/35ab2c0e-4cda-4ca1-8815-c47a769b49fc" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44727/filter/v2/subscriptions/35ab2c0e-4cda-4ca1-8815-c47a769b49fc. Response content: b'{"requestId":"35ab2c0e-4cda-4ca1-8815-c47a769b49fc","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id abb67b676aa6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dcc90e4098a6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.