[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_invalid_request_id with id: 2024-08-28_04-19-06__9e97ed43-fe3b-4814-8292-015d282a18fb
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-28_04-19-06__9e97ed43-fe3b-4814-8292-015d282a18fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.173.183
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20243', '20244', '20245', '20246', '20247']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20243:20243 -p 20244:20244 -p 20245:20245 -p 20246:20246 -p 20247:20247 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20245 --rest-port=20243 --tcp-port=20244 --discv5-udp-port=20246 --rest-address=0.0.0.0 --nat=extip:172.18.173.183 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3ea75deadd272c4ddbceb9f5bc0d01e8bac0bf3ce979d0d1259a72e5164abc44 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20247 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.173.183 waku 180f52b33d4551cfd2f0ec817053ec582d54425f89e0642420eafabbf1fa3086
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 180f52b33d45. Setting up logs at ./log/docker/node1_2024-08-28_04-19-06__9e97ed43-fe3b-4814-8292-015d282a18fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20243
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20243/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20243/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.173.183/tcp/20244/p2p/16Uiu2HAmTGoxVeGZg3JQguTqrYm9Qt9N6dnRv858aX9xfGAnarXx","/ip4/172.18.173.183/tcp/20245/ws/p2p/16Uiu2HAmTGoxVeGZg3JQguTqrYm9Qt9N6dnRv858aX9xfGAnarXx"],"enrUri":"enr:-LO4QNEub8SrVmBBOvFpcDwzWEuZOLW5m2bvDXfmfLZH2J5VbAtYb5_4Zl3clNwHWXksqIEsy6cILza3EPAwgVs59TUBgmlkgnY0gmlwhKwSrbeKbXVsdGlhZGRyc4wACgSsEq23Bk8V3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPZMMZQuSfJ8DI9nGTlulteEZoWgaK_11Iwtc942uGcP4N0Y3CCTxSDdWRwgk8WhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-28_04-19-06__9e97ed43-fe3b-4814-8292-015d282a18fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.36.9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53752', '53753', '53754', '53755', '53756']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53752:53752 -p 53753:53753 -p 53754:53754 -p 53755:53755 -p 53756:53756 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53754 --rest-port=53752 --tcp-port=53753 --discv5-udp-port=53755 --rest-address=0.0.0.0 --nat=extip:172.18.36.9 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=69af878cfbb2b1e36a62f479fd2cef6d6fa6eb387ace11f37727bedabcb0b0e5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53756 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QNEub8SrVmBBOvFpcDwzWEuZOLW5m2bvDXfmfLZH2J5VbAtYb5_4Zl3clNwHWXksqIEsy6cILza3EPAwgVs59TUBgmlkgnY0gmlwhKwSrbeKbXVsdGlhZGRyc4wACgSsEq23Bk8V3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPZMMZQuSfJ8DI9nGTlulteEZoWgaK_11Iwtc942uGcP4N0Y3CCTxSDdWRwgk8WhXdha3UyBQ --filternode=/ip4/172.18.173.183/tcp/20244/p2p/16Uiu2HAmTGoxVeGZg3JQguTqrYm9Qt9N6dnRv858aX9xfGAnarXx
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.36.9 waku 7a517fe4d493dab335fe5225e43ae17f3bd3e4fd8dd7182005ea608e6f80af30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7a517fe4d493. Setting up logs at ./log/docker/node2_2024-08-28_04-19-06__9e97ed43-fe3b-4814-8292-015d282a18fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53752
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53752/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53752/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.36.9/tcp/53753/p2p/16Uiu2HAkvXNBgGp8FeZLd8Vrsch4Bu5Ppo43eFSQpEsMjiLbqoQb","/ip4/172.18.36.9/tcp/53754/ws/p2p/16Uiu2HAkvXNBgGp8FeZLd8Vrsch4Bu5Ppo43eFSQpEsMjiLbqoQb"],"enrUri":"enr:-LO4QOkQwaCRN-OrtHLCFgdCIIqnZcl1vP5tdTTt_mrmCw3MUIeDvmzt7LU1QTlYHvNQJ5jvU6GKmu4l85_2AnC18VgBgmlkgnY0gmlwhKwSJAmKbXVsdGlhZGRyc4wACgSsEiQJBtH63QOCcnOFAAMBAACJc2VjcDI1NmsxoQIQUQ0BT5E5Io3hittg4vHfzQ6fojmeIRtiWb7BrhR9kIN0Y3CC0fmDdWRwgtH7hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53752/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.173.183/tcp/20244/p2p/16Uiu2HAmTGoxVeGZg3JQguTqrYm9Qt9N6dnRv858aX9xfGAnarXx"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20243/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53752/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "33ef95f8-f76b-4359-b68f-008a704d80a5", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"33ef95f8-f76b-4359-b68f-008a704d80a5","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:53752/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": 1, "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:53752/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 180f52b33d45
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7a517fe4d493
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.