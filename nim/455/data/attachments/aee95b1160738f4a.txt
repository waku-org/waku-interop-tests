[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-19_04-18-24__b10c016b-b6c1-438d-b449-48d9d1c30d4f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-19_04-18-24__b10c016b-b6c1-438d-b449-48d9d1c30d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.41.107
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55482', '55483', '55484', '55485', '55486']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55482:55482 -p 55483:55483 -p 55484:55484 -p 55485:55485 -p 55486:55486 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55484 --rest-port=55482 --tcp-port=55483 --discv5-udp-port=55485 --rest-address=0.0.0.0 --nat=extip:172.18.41.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2deffdd37ecbde056dcf1e76432b988b0ff228de4ccff4a992cbb1eecc0fecbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55486 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.41.107 waku 46c8f7777a45bb03699e49a2a25227cf27c1e1fc4e713ed8cbb3b98aa8d3e5a8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 46c8f7777a45. Setting up logs at ./log/docker/node1_2024-11-19_04-18-24__b10c016b-b6c1-438d-b449-48d9d1c30d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 55482
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 14dd686b9a9e. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55482/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55482/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.41.107/tcp/55483/p2p/16Uiu2HAm9ea2LjCXuM2yZpyoQ3nxjagCqbsL3sE9gBrYN8FkjL4f","/ip4/172.18.41.107/tcp/55484/ws/p2p/16Uiu2HAm9ea2LjCXuM2yZpyoQ3nxjagCqbsL3sE9gBrYN8FkjL4f"],"enrUri":"enr:-L24QCU0EubMv6q5lv_O_dZFDFGU7OUcSIuyrVttJMLzh4T3G4LXh7uHqYcaxhlfZpQlEqDtIipV900PuVPDfWWspu4CgmlkgnY0gmlwhKwSKWuKbXVsdGlhZGRyc5YACASsEilrBti7AAoErBIpawbYvN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC01Fu1FA0inQA5WtOzrJ2cOUNcLrngHiLvA36SLhbhsCDdGNwgti7g3VkcILYvYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-19_04-18-24__b10c016b-b6c1-438d-b449-48d9d1c30d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.14.212
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41300', '41301', '41302', '41303', '41304']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41300:41300 -p 41301:41301 -p 41302:41302 -p 41303:41303 -p 41304:41304 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41302 --rest-port=41300 --tcp-port=41301 --discv5-udp-port=41303 --rest-address=0.0.0.0 --nat=extip:172.18.14.212 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=17b9eadcf2cc5e9afdf6bbe4b34e7f7e733bd5d1b7efb8f5bdad8b0af6adb82a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41304 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCU0EubMv6q5lv_O_dZFDFGU7OUcSIuyrVttJMLzh4T3G4LXh7uHqYcaxhlfZpQlEqDtIipV900PuVPDfWWspu4CgmlkgnY0gmlwhKwSKWuKbXVsdGlhZGRyc5YACASsEilrBti7AAoErBIpawbYvN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC01Fu1FA0inQA5WtOzrJ2cOUNcLrngHiLvA36SLhbhsCDdGNwgti7g3VkcILYvYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.14.212 waku 84df5df777fdb2274631c294dd5c61f68ad7a1f4c4eedb9bd73f9550f7a17ae2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 84df5df777fd. Setting up logs at ./log/docker/node2_2024-11-19_04-18-24__b10c016b-b6c1-438d-b449-48d9d1c30d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 41300
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41300/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41300/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.212/tcp/41301/p2p/16Uiu2HAmSYPF1UJZBZR1tudzZizpene4Wh26GfcqX4WGpXD73wYf","/ip4/172.18.14.212/tcp/41302/ws/p2p/16Uiu2HAmSYPF1UJZBZR1tudzZizpene4Wh26GfcqX4WGpXD73wYf"],"enrUri":"enr:-L24QIRiAmXXQcIRQlSfuuf7vR3y33W-dtDQ_GPPCWtpLNXrczfYxagHkmr5qGRvtjvww3_nrH796a-xjXirLP-zi08CgmlkgnY0gmlwhKwSDtSKbXVsdGlhZGRyc5YACASsEg7UBqFVAAoErBIO1AahVt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzlJvXunep_P-8_90riQ5DXmQ7VbUeH_YZmj9v1Zf2PSDdGNwgqFVg3VkcIKhV4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41300/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.41.107/tcp/55483/p2p/16Uiu2HAm9ea2LjCXuM2yZpyoQ3nxjagCqbsL3sE9gBrYN8FkjL4f"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-19_04-18-24__b10c016b-b6c1-438d-b449-48d9d1c30d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.241.241
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21655', '21656', '21657', '21658', '21659']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21655:21655 -p 21656:21656 -p 21657:21657 -p 21658:21658 -p 21659:21659 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21657 --rest-port=21655 --tcp-port=21656 --discv5-udp-port=21658 --rest-address=0.0.0.0 --nat=extip:172.18.241.241 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4e332baaf5d77051b2df16d9c8a9811c94b904dfe880e2127ea8ffba01ef04cd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21659 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCU0EubMv6q5lv_O_dZFDFGU7OUcSIuyrVttJMLzh4T3G4LXh7uHqYcaxhlfZpQlEqDtIipV900PuVPDfWWspu4CgmlkgnY0gmlwhKwSKWuKbXVsdGlhZGRyc5YACASsEilrBti7AAoErBIpawbYvN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC01Fu1FA0inQA5WtOzrJ2cOUNcLrngHiLvA36SLhbhsCDdGNwgti7g3VkcILYvYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.241.241 waku 9132972eb15a1a2cb8afeb026d2522ea855d25649853fd01f5366083c011d629
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9132972eb15a. Setting up logs at ./log/docker/node3_2024-11-19_04-18-24__b10c016b-b6c1-438d-b449-48d9d1c30d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 21655
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21655/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21655/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.241/tcp/21656/p2p/16Uiu2HAmS2jgKzw5hCGRCw6LyegmdT8CaxBnnWSiCGh2j5mZE91x","/ip4/172.18.241.241/tcp/21657/ws/p2p/16Uiu2HAmS2jgKzw5hCGRCw6LyegmdT8CaxBnnWSiCGh2j5mZE91x"],"enrUri":"enr:-L24QJZVNFtqCnMdbV2VhXgYIcnt5UtXfvY6yx6i-kzlufE_NqJe1fIRuLf_JcJhqF-I7AwQ0u7CBsBq61fHlOWozg8CgmlkgnY0gmlwhKwS8fGKbXVsdGlhZGRyc5YACASsEvHxBlSYAAoErBLx8QZUmd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDxroeUjK-NuQIWfa5XzIY_chTpycR-D_ztDlgbQTGfd-DdGNwglSYg3VkcIJUmoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21655/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.41.107/tcp/55483/p2p/16Uiu2HAm9ea2LjCXuM2yZpyoQ3nxjagCqbsL3sE9gBrYN8FkjL4f"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-19_04-18-24__b10c016b-b6c1-438d-b449-48d9d1c30d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.79.192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4209', '4210', '4211', '4212', '4213']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4209:4209 -p 4210:4210 -p 4211:4211 -p 4212:4212 -p 4213:4213 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4211 --rest-port=4209 --tcp-port=4210 --discv5-udp-port=4212 --rest-address=0.0.0.0 --nat=extip:172.18.79.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b0f2ef5bec3dce3bddec9b4e9fe3b0bd8ac0facebab035c84acbf02c18492f2e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4213 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCU0EubMv6q5lv_O_dZFDFGU7OUcSIuyrVttJMLzh4T3G4LXh7uHqYcaxhlfZpQlEqDtIipV900PuVPDfWWspu4CgmlkgnY0gmlwhKwSKWuKbXVsdGlhZGRyc5YACASsEilrBti7AAoErBIpawbYvN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC01Fu1FA0inQA5WtOzrJ2cOUNcLrngHiLvA36SLhbhsCDdGNwgti7g3VkcILYvYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.79.192 waku f47f59468e0ea9c74a651ffd2e8f9a14b9351577f340b6ed4ab45bf00fe35c14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f47f59468e0e. Setting up logs at ./log/docker/node4_2024-11-19_04-18-24__b10c016b-b6c1-438d-b449-48d9d1c30d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 4209
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4209/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4209/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.79.192/tcp/4210/p2p/16Uiu2HAmEBjf3RitScU74MSPw6rpLAbC8d2kdHg8S2viqt4FyH1N","/ip4/172.18.79.192/tcp/4211/ws/p2p/16Uiu2HAmEBjf3RitScU74MSPw6rpLAbC8d2kdHg8S2viqt4FyH1N"],"enrUri":"enr:-L24QJH4EQVJ1RLeiifxYmFN5faH3CKThJpltvLuSBjfTRKPQXsGDcV9SyXs5aqvkY4O9RdLUYVNqvJaHXMVe5pDM0gCgmlkgnY0gmlwhKwST8CKbXVsdGlhZGRyc5YACASsEk_ABhByAAoErBJPwAYQc90DgnJzhQADAQAAiXNlY3AyNTZrMaEDFrwT2cnuvc3UuF25iGWjP1ncylI4zczbNv25j0-zoJWDdGNwghByg3VkcIIQdIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4209/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.41.107/tcp/55483/p2p/16Uiu2HAm9ea2LjCXuM2yZpyoQ3nxjagCqbsL3sE9gBrYN8FkjL4f"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-19_04-18-24__b10c016b-b6c1-438d-b449-48d9d1c30d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.121.216
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23330', '23331', '23332', '23333', '23334']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23330:23330 -p 23331:23331 -p 23332:23332 -p 23333:23333 -p 23334:23334 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23332 --rest-port=23330 --tcp-port=23331 --discv5-udp-port=23333 --rest-address=0.0.0.0 --nat=extip:172.18.121.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0f456f7f6ddb4be6abaff60e8570a0aefa5275a3efd2c2a13c7edf07c0efd19c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23334 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCU0EubMv6q5lv_O_dZFDFGU7OUcSIuyrVttJMLzh4T3G4LXh7uHqYcaxhlfZpQlEqDtIipV900PuVPDfWWspu4CgmlkgnY0gmlwhKwSKWuKbXVsdGlhZGRyc5YACASsEilrBti7AAoErBIpawbYvN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC01Fu1FA0inQA5WtOzrJ2cOUNcLrngHiLvA36SLhbhsCDdGNwgti7g3VkcILYvYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.121.216 waku 67d78fddfa29cab5a273100aa5a76262de81ee5e288ee73eaae0a6bcbd4b83c7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 67d78fddfa29. Setting up logs at ./log/docker/node5_2024-11-19_04-18-24__b10c016b-b6c1-438d-b449-48d9d1c30d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 23330
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23330/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23330/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.216/tcp/23331/p2p/16Uiu2HAmELLTeiiQouSPmnEW2gmRDvLJCniDiRpxWhCM5kXwZcRj","/ip4/172.18.121.216/tcp/23332/ws/p2p/16Uiu2HAmELLTeiiQouSPmnEW2gmRDvLJCniDiRpxWhCM5kXwZcRj"],"enrUri":"enr:-L24QIFUt4fxvt4SO5CjAILXdbVl0sH1qD3ew6pc-lhIrM6rYCR4MhwELcfah4eO2sY1gmcpJpm74tXBEHwiSmARexMCgmlkgnY0gmlwhKwSediKbXVsdGlhZGRyc5YACASsEnnYBlsjAAoErBJ52AZbJN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGPATmb3YWPYxdQ_J64wkhkruPRfY2g6yU0_TY4mLQWaDdGNwglsjg3VkcIJbJYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23330/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.41.107/tcp/55483/p2p/16Uiu2HAm9ea2LjCXuM2yZpyoQ3nxjagCqbsL3sE9gBrYN8FkjL4f"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55482/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41300/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21655/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4209/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23330/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55482/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55482/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731989913774707968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41300/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731989913774707968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21655/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731989913774707968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731989913774707968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23330/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731989913774707968,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23330/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55482/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731989913908288256,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41300/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731989913908288256,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21655/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731989913908288256,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731989913908288256,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23330/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731989913908288256,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 46c8f7777a45
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 84df5df777fd
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 46c8f7777a45. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 9132972eb15a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 84df5df777fd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f47f59468e0e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9132972eb15a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 67d78fddfa29
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f47f59468e0e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.