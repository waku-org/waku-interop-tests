[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_after_one_peer_was_stopped with id: 2024-09-29_04-15-11__fe26f0d1-a43f-4b10-b99e-c4b4e2e0f3f2
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-29_04-15-11__fe26f0d1-a43f-4b10-b99e-c4b4e2e0f3f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.208.240
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['57909', '57910', '57911', '57912', '57913']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 57909:57909 -p 57910:57910 -p 57911:57911 -p 57912:57912 -p 57913:57913 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57911 --rest-port=57909 --tcp-port=57910 --discv5-udp-port=57912 --rest-address=0.0.0.0 --nat=extip:172.18.208.240 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e6ba4c152b27dbae37bb4f8bc17f7eb2cc8afe7bd5b9f98f8744ceef1cbc7e73 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57913 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.208.240 waku 782ab3fc3f3281b8b2f8ebbbe236b68f31173e1b1cb35c8ae737b089318cbaa0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 782ab3fc3f32. Setting up logs at ./log/docker/node1_2024-09-29_04-15-11__fe26f0d1-a43f-4b10-b99e-c4b4e2e0f3f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 57909
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57909/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57909/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.208.240/tcp/57910/p2p/16Uiu2HAkuwm5NcdYyDtkQmssGwQ3fMkudXZwiHi62gGaDduPrJbX","/ip4/172.18.208.240/tcp/57911/ws/p2p/16Uiu2HAkuwm5NcdYyDtkQmssGwQ3fMkudXZwiHi62gGaDduPrJbX"],"enrUri":"enr:-LO4QCTMguzBKDpGFUfQf4VQl14LQ4xxVsKQ7JrG91udfv8tUCoDsPHIHAUMfsn26ZvP-uT9kyiXkfVSxq4MOeUWBTUBgmlkgnY0gmlwhKwS0PCKbXVsdGlhZGRyc4wACgSsEtDwBuI33QOCcnOFAAMBAACJc2VjcDI1NmsxoQIHtS_DHZ0BOG_4ROQBYB1e0U3MCtJcHuadZUr5AOdmvoN0Y3CC4jaDdWRwguI4hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-29_04-15-11__fe26f0d1-a43f-4b10-b99e-c4b4e2e0f3f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.177.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['45123', '45124', '45125', '45126', '45127']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 45123:45123 -p 45124:45124 -p 45125:45125 -p 45126:45126 -p 45127:45127 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45125 --rest-port=45123 --tcp-port=45124 --discv5-udp-port=45126 --rest-address=0.0.0.0 --nat=extip:172.18.177.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6038d814e8ba03cf8d3af03c4a46de510fbccfb27f1ddf5dc4df84adf762d7e5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45127 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCTMguzBKDpGFUfQf4VQl14LQ4xxVsKQ7JrG91udfv8tUCoDsPHIHAUMfsn26ZvP-uT9kyiXkfVSxq4MOeUWBTUBgmlkgnY0gmlwhKwS0PCKbXVsdGlhZGRyc4wACgSsEtDwBuI33QOCcnOFAAMBAACJc2VjcDI1NmsxoQIHtS_DHZ0BOG_4ROQBYB1e0U3MCtJcHuadZUr5AOdmvoN0Y3CC4jaDdWRwguI4hXdha3UyBQ --filternode=/ip4/172.18.208.240/tcp/57910/p2p/16Uiu2HAkuwm5NcdYyDtkQmssGwQ3fMkudXZwiHi62gGaDduPrJbX
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.177.94 waku b989e9d57fe6f65ea653926eee6dd46c0ce597c1a2fbe8cfb5969057b03a48c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b989e9d57fe6. Setting up logs at ./log/docker/node2_2024-09-29_04-15-11__fe26f0d1-a43f-4b10-b99e-c4b4e2e0f3f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 45123
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45123/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45123/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.94/tcp/45124/p2p/16Uiu2HAmSvFEs77eq6XY2GWyQBHF9fS6UvqqienbLy6HNiAvv5rh","/ip4/172.18.177.94/tcp/45125/ws/p2p/16Uiu2HAmSvFEs77eq6XY2GWyQBHF9fS6UvqqienbLy6HNiAvv5rh"],"enrUri":"enr:-LO4QB2OnLFqQljwMIEC131yh1oaWJnczR1at4agGc_8PHruZaqwjl9arCAbZOsPT8EEZoRMrwMNrCBqx_nK3SIHyPwBgmlkgnY0gmlwhKwSsV6KbXVsdGlhZGRyc4wACgSsErFeBrBF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPT7CoWMJ1YXOlc_0UGHihNXqZCHaT0LgUqD4zR6ignyoN0Y3CCsESDdWRwgrBGhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45123/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.208.240/tcp/57910/p2p/16Uiu2HAkuwm5NcdYyDtkQmssGwQ3fMkudXZwiHi62gGaDduPrJbX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-29_04-15-11__fe26f0d1-a43f-4b10-b99e-c4b4e2e0f3f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.218.204
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['7314', '7315', '7316', '7317', '7318']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 7314:7314 -p 7315:7315 -p 7316:7316 -p 7317:7317 -p 7318:7318 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7316 --rest-port=7314 --tcp-port=7315 --discv5-udp-port=7317 --rest-address=0.0.0.0 --nat=extip:172.18.218.204 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dc2bb202ecba5eb08c4ddfebd5cccfcc7badaf8c6820ee826ba6947dee9dcb1f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7318 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCTMguzBKDpGFUfQf4VQl14LQ4xxVsKQ7JrG91udfv8tUCoDsPHIHAUMfsn26ZvP-uT9kyiXkfVSxq4MOeUWBTUBgmlkgnY0gmlwhKwS0PCKbXVsdGlhZGRyc4wACgSsEtDwBuI33QOCcnOFAAMBAACJc2VjcDI1NmsxoQIHtS_DHZ0BOG_4ROQBYB1e0U3MCtJcHuadZUr5AOdmvoN0Y3CC4jaDdWRwguI4hXdha3UyBQ --filternode=/ip4/172.18.208.240/tcp/57910/p2p/16Uiu2HAkuwm5NcdYyDtkQmssGwQ3fMkudXZwiHi62gGaDduPrJbX
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.218.204 waku e06b15c3e39aa3cfe117dd3a4da60f1f800aef044c56f3ae86e807f1362b6611
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e06b15c3e39a. Setting up logs at ./log/docker/node3_2024-09-29_04-15-11__fe26f0d1-a43f-4b10-b99e-c4b4e2e0f3f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7314
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7314/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7314/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.218.204/tcp/7315/p2p/16Uiu2HAmTjFNTRxp8n41naorR8J4X4EZ3n9egkpTU6vM2f7j6o6k","/ip4/172.18.218.204/tcp/7316/ws/p2p/16Uiu2HAmTjFNTRxp8n41naorR8J4X4EZ3n9egkpTU6vM2f7j6o6k"],"enrUri":"enr:-LO4QCV5UweXq1RcZC_OI8dBHPD_Oj3vIZjPslIUc9b2sIeYC1HOYK3Bw1TfOoG0OvOOBHA-0BSrrtFQNuDFa_5VpLABgmlkgnY0gmlwhKwS2syKbXVsdGlhZGRyc4wACgSsEtrMBhyU3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPf9pxFFQYkiH0iCi-uyCWEVr1HZVeCnUzU9nDPTg_A7YN0Y3CCHJODdWRwghyVhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7314/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.208.240/tcp/57910/p2p/16Uiu2HAkuwm5NcdYyDtkQmssGwQ3fMkudXZwiHi62gGaDduPrJbX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-29_04-15-11__fe26f0d1-a43f-4b10-b99e-c4b4e2e0f3f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.120.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['42769', '42770', '42771', '42772', '42773']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 42769:42769 -p 42770:42770 -p 42771:42771 -p 42772:42772 -p 42773:42773 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42771 --rest-port=42769 --tcp-port=42770 --discv5-udp-port=42772 --rest-address=0.0.0.0 --nat=extip:172.18.120.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b26a2c6b11ebff24febab7f351bab7fa0bc0c5f18f1a8ca5b7bf05bc2bcebfb2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42773 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCTMguzBKDpGFUfQf4VQl14LQ4xxVsKQ7JrG91udfv8tUCoDsPHIHAUMfsn26ZvP-uT9kyiXkfVSxq4MOeUWBTUBgmlkgnY0gmlwhKwS0PCKbXVsdGlhZGRyc4wACgSsEtDwBuI33QOCcnOFAAMBAACJc2VjcDI1NmsxoQIHtS_DHZ0BOG_4ROQBYB1e0U3MCtJcHuadZUr5AOdmvoN0Y3CC4jaDdWRwguI4hXdha3UyBQ --filternode=/ip4/172.18.208.240/tcp/57910/p2p/16Uiu2HAkuwm5NcdYyDtkQmssGwQ3fMkudXZwiHi62gGaDduPrJbX
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.120.170 waku e000c594506989a778ac3fddf20a13307b38e77a1ee572e9141e95d08c120156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e000c5945069. Setting up logs at ./log/docker/node4_2024-09-29_04-15-11__fe26f0d1-a43f-4b10-b99e-c4b4e2e0f3f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 42769
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42769/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42769/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.120.170/tcp/42770/p2p/16Uiu2HAmGdqrPyZbERYfmgGPDV7ectmHUrb1GD6Zs2UDJ2SbcEsp","/ip4/172.18.120.170/tcp/42771/ws/p2p/16Uiu2HAmGdqrPyZbERYfmgGPDV7ectmHUrb1GD6Zs2UDJ2SbcEsp"],"enrUri":"enr:-LO4QJ1JOAsTM6JofRQUiW98UAv_HiaxmaQKD6SCijy-QMhHDTIa2eruxwwhS1SdjdJ6VrUoj1zWpiKIumBFuHpn5LYBgmlkgnY0gmlwhKwSeKqKbXVsdGlhZGRyc4wACgSsEniqBqcT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM7I47ZR0pDL5yOBgZ8VCGMwKrJmAvMoTXYuxWlZW4ZT4N0Y3CCpxKDdWRwgqcUhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42769/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.208.240/tcp/57910/p2p/16Uiu2HAkuwm5NcdYyDtkQmssGwQ3fMkudXZwiHi62gGaDduPrJbX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-29_04-15-11__fe26f0d1-a43f-4b10-b99e-c4b4e2e0f3f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.131.2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['42262', '42263', '42264', '42265', '42266']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 42262:42262 -p 42263:42263 -p 42264:42264 -p 42265:42265 -p 42266:42266 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42264 --rest-port=42262 --tcp-port=42263 --discv5-udp-port=42265 --rest-address=0.0.0.0 --nat=extip:172.18.131.2 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3593ad7fcf4e8bffcc2d64578d848d8da7caf6addc0fc3857ffd726cdacd3d7e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42266 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCTMguzBKDpGFUfQf4VQl14LQ4xxVsKQ7JrG91udfv8tUCoDsPHIHAUMfsn26ZvP-uT9kyiXkfVSxq4MOeUWBTUBgmlkgnY0gmlwhKwS0PCKbXVsdGlhZGRyc4wACgSsEtDwBuI33QOCcnOFAAMBAACJc2VjcDI1NmsxoQIHtS_DHZ0BOG_4ROQBYB1e0U3MCtJcHuadZUr5AOdmvoN0Y3CC4jaDdWRwguI4hXdha3UyBQ --filternode=/ip4/172.18.208.240/tcp/57910/p2p/16Uiu2HAkuwm5NcdYyDtkQmssGwQ3fMkudXZwiHi62gGaDduPrJbX
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.227.47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6711', '6712', '6713', '6714', '6715']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6711:6711 -p 6712:6712 -p 6713:6713 -p 6714:6714 -p 6715:6715 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6713 --rest-port=6711 --tcp-port=6712 --discv5-udp-port=6714 --rest-address=0.0.0.0 --nat=extip:172.18.227.47 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3ef64ed1710888d09cb6caafa5eed4ccf92adeafd22cb8ce2aebff9fa5c99ce3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6715 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCTMguzBKDpGFUfQf4VQl14LQ4xxVsKQ7JrG91udfv8tUCoDsPHIHAUMfsn26ZvP-uT9kyiXkfVSxq4MOeUWBTUBgmlkgnY0gmlwhKwS0PCKbXVsdGlhZGRyc4wACgSsEtDwBuI33QOCcnOFAAMBAACJc2VjcDI1NmsxoQIHtS_DHZ0BOG_4ROQBYB1e0U3MCtJcHuadZUr5AOdmvoN0Y3CC4jaDdWRwguI4hXdha3UyBQ --filternode=/ip4/172.18.208.240/tcp/57910/p2p/16Uiu2HAkuwm5NcdYyDtkQmssGwQ3fMkudXZwiHi62gGaDduPrJbX
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.227.47 waku 75bfacfe6ab23049fc539c0bec1761689f18b501d086dfe47b4abd692998c63c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 75bfacfe6ab2. Setting up logs at ./log/docker/node5_2024-09-29_04-15-11__fe26f0d1-a43f-4b10-b99e-c4b4e2e0f3f2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6711
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6711/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6711/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.227.47/tcp/6712/p2p/16Uiu2HAmLkDpDZ1CQ6DYRBcnYYP1YQwGzRSBEBtytDC2tCpRpUKc","/ip4/172.18.227.47/tcp/6713/ws/p2p/16Uiu2HAmLkDpDZ1CQ6DYRBcnYYP1YQwGzRSBEBtytDC2tCpRpUKc"],"enrUri":"enr:-LO4QOYnv6Skyb7KWGf0SP9YImK-zpQdNYC1OnP-MtueKHIoTST_i1KBIh5JS7STHTsL8sbsu11J7_3gDZhGvbxJl-oBgmlkgnY0gmlwhKwS4y-KbXVsdGlhZGRyc4wACgSsEuMvBho53QOCcnOFAAMBAACJc2VjcDI1NmsxoQN4NJ-g5J3fBDPYe5A7haMrJ0XATOQvkLUHQbolBi_pe4N0Y3CCGjiDdWRwgho6hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6711/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.208.240/tcp/57910/p2p/16Uiu2HAkuwm5NcdYyDtkQmssGwQ3fMkudXZwiHi62gGaDduPrJbX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57909/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45123/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fa44b0d4-82cc-4db2-8348-5b01be4edf0c", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fa44b0d4-82cc-4db2-8348-5b01be4edf0c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7314/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4e21ea67-1f14-4d5a-8f21-4dede4e3275f", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4e21ea67-1f14-4d5a-8f21-4dede4e3275f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42769/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d1d46bec-1ab7-4df4-8764-b0900e7a5465", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d1d46bec-1ab7-4df4-8764-b0900e7a5465","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6711/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c6077b54-e30c-4bdb-883d-f12d9a0c0783", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c6077b54-e30c-4bdb-883d-f12d9a0c0783","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45123/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1727583320675464448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7314/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1727583320675464448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42769/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1727583320675464448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6711/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1727583320675464448,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b989e9d57fe6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7314/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1727583321645956608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42769/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1727583321645956608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6711/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1727583321645956608,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 782ab3fc3f32
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e06b15c3e39a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e000c5945069
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 75bfacfe6ab2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.