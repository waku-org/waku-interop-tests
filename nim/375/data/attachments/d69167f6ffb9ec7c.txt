[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.47.171
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32708', '32709', '32710', '32711', '32712']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32708:32708 -p 32709:32709 -p 32710:32710 -p 32711:32711 -p 32712:32712 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32710 --rest-port=32708 --tcp-port=32709 --discv5-udp-port=32711 --rest-address=0.0.0.0 --nat=extip:172.18.47.171 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=df994bf5553c4cbdfb3d1e9bcc3aeae36f45dbba5ade63c07b9b49a4cb6acb1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32712 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.47.171 waku ca8a367abf2ca41a0913526bb629105dff4b3e0f0aa3421f109bd71698badb18
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ca8a367abf2c. Setting up logs at ./log/docker/receiving_node1_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32708
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32708/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32708/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.47.171/tcp/32709/p2p/16Uiu2HAm3KDAv5BQjGucubVagmZv8rcvjwDXXSiKAPWuT46tQ5oo","/ip4/172.18.47.171/tcp/32710/ws/p2p/16Uiu2HAm3KDAv5BQjGucubVagmZv8rcvjwDXXSiKAPWuT46tQ5oo"],"enrUri":"enr:-LO4QPTmeiy75S8VhP6hYQZQKRXwj1_Fii0hV-8XhjBLu2WkX4yPl0L56oMmEugAb4OWd8T5z9hEz84x1eriHTSYZAYBgmlkgnY0gmlwhKwSL6uKbXVsdGlhZGRyc4wACgSsEi-rBn_G3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ1NbLJidjqb8LQOBZrzCUcHhOeWtfKfZ-VWpUtJmEI0oN0Y3CCf8WDdWRwgn_HhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.139.27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['43032', '43033', '43034', '43035', '43036']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 43032:43032 -p 43033:43033 -p 43034:43034 -p 43035:43035 -p 43036:43036 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43034 --rest-port=43032 --tcp-port=43033 --discv5-udp-port=43035 --rest-address=0.0.0.0 --nat=extip:172.18.139.27 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dacfa41d38e287c0aa2cde928e027ae496ea5b6afde6be7ccba1d75b5cf2c3ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43036 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.139.27 waku 3495cc4e5d2532ee29da4131edd01d140860349392f11ebcd6e372eb2142b2aa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3495cc4e5d25. Setting up logs at ./log/docker/receiving_node2_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43032
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43032/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43032/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.139.27/tcp/43033/p2p/16Uiu2HAmPv2sRiWnGz2c46j7ucutGjY8mQxuC4ozPpynqDD3PKcG","/ip4/172.18.139.27/tcp/43034/ws/p2p/16Uiu2HAmPv2sRiWnGz2c46j7ucutGjY8mQxuC4ozPpynqDD3PKcG"],"enrUri":"enr:-LO4QA8QCPF5azJL4H77eMxOxUpmgfuJI82KIlklzeBpxEOJKBtW7q43Oa6_L9GEnb4M1I1MVDO7HZnpy8cPEWIdhzMBgmlkgnY0gmlwhKwSixuKbXVsdGlhZGRyc4wACgSsEosbBqga3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOnSx4EPJEVAib7lXyjld3Wm-kh-BENW-Bwdzb-Z4MtlYN0Y3CCqBmDdWRwgqgbhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43032/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.47.171/tcp/32709/p2p/16Uiu2HAm3KDAv5BQjGucubVagmZv8rcvjwDXXSiKAPWuT46tQ5oo"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.101.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['11060', '11061', '11062', '11063', '11064']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 11060:11060 -p 11061:11061 -p 11062:11062 -p 11063:11063 -p 11064:11064 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11062 --rest-port=11060 --tcp-port=11061 --discv5-udp-port=11063 --rest-address=0.0.0.0 --nat=extip:172.18.101.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8f858e9ba05bfbec07cab21bc5b31d12af4cbadac4b1d1433f750acfd39da6c1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11064 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPTmeiy75S8VhP6hYQZQKRXwj1_Fii0hV-8XhjBLu2WkX4yPl0L56oMmEugAb4OWd8T5z9hEz84x1eriHTSYZAYBgmlkgnY0gmlwhKwSL6uKbXVsdGlhZGRyc4wACgSsEi-rBn_G3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ1NbLJidjqb8LQOBZrzCUcHhOeWtfKfZ-VWpUtJmEI0oN0Y3CCf8WDdWRwgn_HhXdha3UyCQ --lightpushnode=/ip4/172.18.47.171/tcp/32709/p2p/16Uiu2HAm3KDAv5BQjGucubVagmZv8rcvjwDXXSiKAPWuT46tQ5oo --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.101.117 waku 868a750f06e1d0891190e76f6a59d14e6cd451dcdf6a44fdc7f543df27ca0e75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 868a750f06e1. Setting up logs at ./log/docker/lightpush_node1_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11060
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11060/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11060/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.101.117/tcp/11061/p2p/16Uiu2HAmKc2cVF5SKGdp2J4Q7fyTYMsf5apZf6hHg569vULNSZnu","/ip4/172.18.101.117/tcp/11062/ws/p2p/16Uiu2HAmKc2cVF5SKGdp2J4Q7fyTYMsf5apZf6hHg569vULNSZnu"],"enrUri":"enr:-LO4QItJSTIGkmHkJNSBeLsoazNJENsKDjLDbYJ0_oVSkxPyNo86GbgTshJEAF_axLqJWMDyflL5cf6yLKiBXOdP3D0BgmlkgnY0gmlwhKwSZXWKbXVsdGlhZGRyc4wACgSsEmV1Bis23QOCcnOFAAMBAACJc2VjcDI1NmsxoQNnP5-tyTIDp-ypr5o1szur8g-gfFn_BZ1ORdhnYgPxPoN0Y3CCKzWDdWRwgis3hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11060/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.47.171/tcp/32709/p2p/16Uiu2HAm3KDAv5BQjGucubVagmZv8rcvjwDXXSiKAPWuT46tQ5oo"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11060/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.139.27/tcp/43033/p2p/16Uiu2HAmPv2sRiWnGz2c46j7ucutGjY8mQxuC4ozPpynqDD3PKcG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.134.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38923', '38924', '38925', '38926', '38927']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38923:38923 -p 38924:38924 -p 38925:38925 -p 38926:38926 -p 38927:38927 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38925 --rest-port=38923 --tcp-port=38924 --discv5-udp-port=38926 --rest-address=0.0.0.0 --nat=extip:172.18.134.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6fe00ea88da921bd29cc504a497248fdffcfa1c7b63fe2d5dcfcd5dcddee7b1b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38927 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPTmeiy75S8VhP6hYQZQKRXwj1_Fii0hV-8XhjBLu2WkX4yPl0L56oMmEugAb4OWd8T5z9hEz84x1eriHTSYZAYBgmlkgnY0gmlwhKwSL6uKbXVsdGlhZGRyc4wACgSsEi-rBn_G3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ1NbLJidjqb8LQOBZrzCUcHhOeWtfKfZ-VWpUtJmEI0oN0Y3CCf8WDdWRwgn_HhXdha3UyCQ --lightpushnode=/ip4/172.18.47.171/tcp/32709/p2p/16Uiu2HAm3KDAv5BQjGucubVagmZv8rcvjwDXXSiKAPWuT46tQ5oo --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.134.230 waku c42361505ba0c2f73401975f4b2ce032623dbdf6b648bbf47376e6708f38e70c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c42361505ba0. Setting up logs at ./log/docker/lightpush_node2_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38923
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38923/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38923/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.134.230/tcp/38924/p2p/16Uiu2HAkugKAHMaRWsq3ZrZ3c1U789Ys7ANC1zWyBCnhJe4Rxxic","/ip4/172.18.134.230/tcp/38925/ws/p2p/16Uiu2HAkugKAHMaRWsq3ZrZ3c1U789Ys7ANC1zWyBCnhJe4Rxxic"],"enrUri":"enr:-LO4QM4N6rbifT0VnOqIB6vLGmxZujFVwNjEyklxu2-ZBKtYadfSftwuEpN6F0zsIqjsf6JaDmJ8wxdeyng1Pou1dx4BgmlkgnY0gmlwhKwShuaKbXVsdGlhZGRyc4wACgSsEobmBpgN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIDwCv-NrxaWEII2ehioGwQSUlgr_Wkeg1yYxiamjlk4YN0Y3CCmAyDdWRwgpgOhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38923/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.47.171/tcp/32709/p2p/16Uiu2HAm3KDAv5BQjGucubVagmZv8rcvjwDXXSiKAPWuT46tQ5oo"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38923/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.139.27/tcp/43033/p2p/16Uiu2HAmPv2sRiWnGz2c46j7ucutGjY8mQxuC4ozPpynqDD3PKcG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.29.250
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['31614', '31615', '31616', '31617', '31618']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 31614:31614 -p 31615:31615 -p 31616:31616 -p 31617:31617 -p 31618:31618 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31616 --rest-port=31614 --tcp-port=31615 --discv5-udp-port=31617 --rest-address=0.0.0.0 --nat=extip:172.18.29.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0040f16c54f6ee9a44be0ef2ef7af21f4dce3e13c7d5bbc2d15e125a2dfdedbb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31618 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPTmeiy75S8VhP6hYQZQKRXwj1_Fii0hV-8XhjBLu2WkX4yPl0L56oMmEugAb4OWd8T5z9hEz84x1eriHTSYZAYBgmlkgnY0gmlwhKwSL6uKbXVsdGlhZGRyc4wACgSsEi-rBn_G3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ1NbLJidjqb8LQOBZrzCUcHhOeWtfKfZ-VWpUtJmEI0oN0Y3CCf8WDdWRwgn_HhXdha3UyCQ --lightpushnode=/ip4/172.18.47.171/tcp/32709/p2p/16Uiu2HAm3KDAv5BQjGucubVagmZv8rcvjwDXXSiKAPWuT46tQ5oo --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.29.250 waku b4c7c47951bbd3caaffaf445488888a160f22ac9e3713b197fc930d1690b6887
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b4c7c47951bb. Setting up logs at ./log/docker/lightpush_node3_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 31614
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31614/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31614/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.29.250/tcp/31615/p2p/16Uiu2HAm4UyCWFYKbZMa7bkiXhdcCFirJDCdjtqYweV2qLvXwgKj","/ip4/172.18.29.250/tcp/31616/ws/p2p/16Uiu2HAm4UyCWFYKbZMa7bkiXhdcCFirJDCdjtqYweV2qLvXwgKj"],"enrUri":"enr:-LO4QE_BUq-VY7TfJmnqblqAeYNEXbkq-GfCN8BXHchkMp6cMlI27OmnQuEmYljMVUaPOpDhiohuGIzFRVLaaP3JTP8BgmlkgnY0gmlwhKwSHfqKbXVsdGlhZGRyc4wACgSsEh36BnuA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKGkWUAZic3F-vZBZXfG5ZtYS8ZEcD9F8fu8rKlOfXG6oN0Y3CCe3-DdWRwgnuBhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31614/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.47.171/tcp/32709/p2p/16Uiu2HAm3KDAv5BQjGucubVagmZv8rcvjwDXXSiKAPWuT46tQ5oo"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31614/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.139.27/tcp/43033/p2p/16Uiu2HAmPv2sRiWnGz2c46j7ucutGjY8mQxuC4ozPpynqDD3PKcG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.60.28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['52790', '52791', '52792', '52793', '52794']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 52790:52790 -p 52791:52791 -p 52792:52792 -p 52793:52793 -p 52794:52794 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52792 --rest-port=52790 --tcp-port=52791 --discv5-udp-port=52793 --rest-address=0.0.0.0 --nat=extip:172.18.60.28 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=891f8ed6c646ba9cd4bfed49b95babd264ee8b68e5aefb6116efcc531dfcb7c2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52794 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPTmeiy75S8VhP6hYQZQKRXwj1_Fii0hV-8XhjBLu2WkX4yPl0L56oMmEugAb4OWd8T5z9hEz84x1eriHTSYZAYBgmlkgnY0gmlwhKwSL6uKbXVsdGlhZGRyc4wACgSsEi-rBn_G3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ1NbLJidjqb8LQOBZrzCUcHhOeWtfKfZ-VWpUtJmEI0oN0Y3CCf8WDdWRwgn_HhXdha3UyCQ --lightpushnode=/ip4/172.18.47.171/tcp/32709/p2p/16Uiu2HAm3KDAv5BQjGucubVagmZv8rcvjwDXXSiKAPWuT46tQ5oo --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.60.28 waku cec9194ae300a6c5209faeb11b5c57257ed77fe3a574b4b575865386ee80d8b1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cec9194ae300. Setting up logs at ./log/docker/lightpush_node4_2024-09-29_04-17-47__0034e792-b507-4645-ba4f-19368bcb5408__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 52790
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52790/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52790/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.28/tcp/52791/p2p/16Uiu2HAmRsnnKPWWWfTQ9QTPjdZghfPzR4Jvd65GSpjmsfrWnb6m","/ip4/172.18.60.28/tcp/52792/ws/p2p/16Uiu2HAmRsnnKPWWWfTQ9QTPjdZghfPzR4Jvd65GSpjmsfrWnb6m"],"enrUri":"enr:-LO4QDPJ8k8XZDJIal5k3h3xBoz-hLa8mmXVPg_OOmFd_w9-YurqjVlGn1Hd9qlccSQe5WMr23wKAWFVuj34Qic0yZkBgmlkgnY0gmlwhKwSPByKbXVsdGlhZGRyc4wACgSsEjwcBs443QOCcnOFAAMBAACJc2VjcDI1NmsxoQPEb2ZosIvbw_K6QwyTBPwUXaXDCdQ4uqHqO2F4NQH2DoN0Y3CCzjeDdWRwgs45hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52790/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.47.171/tcp/32709/p2p/16Uiu2HAm3KDAv5BQjGucubVagmZv8rcvjwDXXSiKAPWuT46tQ5oo"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52790/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.139.27/tcp/43033/p2p/16Uiu2HAmPv2sRiWnGz2c46j7ucutGjY8mQxuC4ozPpynqDD3PKcG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32708/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43032/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11060/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727583476030227200}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32708/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727583476030227200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43032/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727583476030227200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38923/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727583476144396288}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32708/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727583476144396288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43032/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727583476144396288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31614/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727583476258902272}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32708/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727583476258902272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43032/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727583476258902272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52790/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727583476372907776}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32708/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727583476372907776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43032/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727583476372907776,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ca8a367abf2c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3495cc4e5d25
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 868a750f06e1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c42361505ba0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b4c7c47951bb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cec9194ae300
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.