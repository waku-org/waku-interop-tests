[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_sort_ascending[true] with id: 2024-12-09_04-34-08__fb48b867-5db2-46da-b312-6d7eb2f74cb1
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-12-09_04-34-08__fb48b867-5db2-46da-b312-6d7eb2f74cb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.149.191
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28801', '28802', '28803', '28804', '28805']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28801:28801 -p 28802:28802 -p 28803:28803 -p 28804:28804 -p 28805:28805 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28803 --rest-port=28801 --tcp-port=28802 --discv5-udp-port=28804 --rest-address=0.0.0.0 --nat=extip:172.18.149.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b6ec80763a51ae6cb3775fa70a8ce80ca715185a5adec6e096f9db8ae56bbcb6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28805 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.149.191 waku 592e2205528d1e59c2999d2eadc2f16419e3dd4dbcca0b03613e2b67f64cc22c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 592e2205528d. Setting up logs at ./log/docker/publishing_node1_2024-12-09_04-34-08__fb48b867-5db2-46da-b312-6d7eb2f74cb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 28801
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f49099fc89f6. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28801/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28801/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.191/tcp/28802/p2p/16Uiu2HAmThg4ysvq71srGjMQWe3aYmVMQo6aBzv2KqvcGGL7rFpt","/ip4/172.18.149.191/tcp/28803/ws/p2p/16Uiu2HAmThg4ysvq71srGjMQWe3aYmVMQo6aBzv2KqvcGGL7rFpt"],"enrUri":"enr:-L24QNzWmog-KQ81rLRgnPoMPwtCFGBs4f7D1B5BTIbTXCZyefN8JJUDSM7cnTQxteTte7UMuCH-NX2jMYx7h1ZLDagCgmlkgnY0gmlwhKwSlb-KbXVsdGlhZGRyc5YACASsEpW_BnCCAAoErBKVvwZwg90DgnJzhQADAQAAiXNlY3AyNTZrMaED349gL6bAOYqveBrli_Vi9XYXLLT1R6Qas7NBHOQcLfmDdGNwgnCCg3VkcIJwhIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-12-09_04-34-08__fb48b867-5db2-46da-b312-6d7eb2f74cb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.160.187
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43719', '43720', '43721', '43722', '43723']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43719:43719 -p 43720:43720 -p 43721:43721 -p 43722:43722 -p 43723:43723 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43721 --rest-port=43719 --tcp-port=43720 --discv5-udp-port=43722 --rest-address=0.0.0.0 --nat=extip:172.18.160.187 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7ee0bdbfeb291a98cc32d1e0355f64938ab20ddddf26fd8fbbdb104ab39fb1db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43723 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QNzWmog-KQ81rLRgnPoMPwtCFGBs4f7D1B5BTIbTXCZyefN8JJUDSM7cnTQxteTte7UMuCH-NX2jMYx7h1ZLDagCgmlkgnY0gmlwhKwSlb-KbXVsdGlhZGRyc5YACASsEpW_BnCCAAoErBKVvwZwg90DgnJzhQADAQAAiXNlY3AyNTZrMaED349gL6bAOYqveBrli_Vi9XYXLLT1R6Qas7NBHOQcLfmDdGNwgnCCg3VkcIJwhIV3YWt1MgM --storenode=/ip4/172.18.149.191/tcp/28802/p2p/16Uiu2HAmThg4ysvq71srGjMQWe3aYmVMQo6aBzv2KqvcGGL7rFpt --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.160.187 waku 1f11a325d68dfc8326aa52a7076fcb5f489d8d8bef887fc4293848d84bc29969
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1f11a325d68d. Setting up logs at ./log/docker/store_node1_2024-12-09_04-34-08__fb48b867-5db2-46da-b312-6d7eb2f74cb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 43719
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43719/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43719/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.187/tcp/43720/p2p/16Uiu2HAkwLWXJ1b4zdssvdv4j5vPWCUF3khRfF35yjjp8WVGWcSc","/ip4/172.18.160.187/tcp/43721/ws/p2p/16Uiu2HAkwLWXJ1b4zdssvdv4j5vPWCUF3khRfF35yjjp8WVGWcSc"],"enrUri":"enr:-L24QOK6hBuutWsQr3dgiCOCQmSeZTIVBu2vmMtrIaEUjPsoUGOQw2IBD0hJY2URDPoyUY7H5St2KvUS5jq1X9cFCRACgmlkgnY0gmlwhKwSoLuKbXVsdGlhZGRyc5YACASsEqC7BqrIAAoErBKguwaqyd0DgnJzhQADAQAAiXNlY3AyNTZrMaECHGTG4Q4QZB4RHt5AI07TBUX8kVkl01OcIo9n662uY3GDdGNwgqrIg3VkcIKqyoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43719/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.191/tcp/28802/p2p/16Uiu2HAmThg4ysvq71srGjMQWe3aYmVMQo6aBzv2KqvcGGL7rFpt"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28801/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43719/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28801/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28801/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"UEEpqzGEIHzt4uqImJzmUY7H1rjGe8BUyOkM3PjJpl8="},{"messageHash":"gkTIpJebN5REjeaPD7cCMJMs9k7VKOXM6zavBPY58MM="},{"messageHash":"TVCyCga6itExQiMhkhqtlhyUJxAx61CBjRi9lKVNcNA="},{"messageHash":"3crViI/1Gtbg58aCEzDWDBXuNF1ooPQWcGuJnaCLxQ8="},{"messageHash":"WAXamAw3w0zxV4X8sRmN4+KWMUZTW/WAgaSsmL/4jAs="}],"paginationCursor":"WAXamAw3w0zxV4X8sRmN4+KWMUZTW/WAgaSsmL/4jAs="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43719/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"UEEpqzGEIHzt4uqImJzmUY7H1rjGe8BUyOkM3PjJpl8="},{"messageHash":"gkTIpJebN5REjeaPD7cCMJMs9k7VKOXM6zavBPY58MM="},{"messageHash":"TVCyCga6itExQiMhkhqtlhyUJxAx61CBjRi9lKVNcNA="},{"messageHash":"3crViI/1Gtbg58aCEzDWDBXuNF1ooPQWcGuJnaCLxQ8="},{"messageHash":"WAXamAw3w0zxV4X8sRmN4+KWMUZTW/WAgaSsmL/4jAs="}],"paginationCursor":"WAXamAw3w0zxV4X8sRmN4+KWMUZTW/WAgaSsmL/4jAs="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 592e2205528d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1f11a325d68d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 592e2205528d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.