[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_subscribe_with_no_request_id with id: 2024-03-28_11-14-28__2f2ffe46-24fa-4f9f-8472-85826e11f7ad
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-03-28_11-14-28__2f2ffe46-24fa-4f9f-8472-85826e11f7ad__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.152.208
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['21834', '21835', '21836', '21837', '21838']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:294 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 21834:21834 -p 21835:21835 -p 21836:21836 -p 21837:21837 -p 21838:21838 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21836 --rest-port=21834 --tcp-port=21835 --discv5-udp-port=21837 --rest-address=0.0.0.0 --nat=extip:172.18.152.208 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21838 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.152.208 waku 2cfa308aac6964502d4c1c23f2f93db0b02bf417e65e19e35a629aa66ed7cedc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 2cfa308aac69. Setting up logs at ./log/docker/node1_2024-03-28_11-14-28__2f2ffe46-24fa-4f9f-8472-85826e11f7ad__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 21834
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:21834/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.208/tcp/21835/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.152.208/tcp/21836/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LG4QKPj98JpGIzSwdmkVqqHUINc6KpS62zPWsVKeMnQiq0uczr3kLtRfUi1JHFspPsc1vNXW5VCU0qHGv90L8yUILUBgmlkgnY0gmlwhKwSmNCKbXVsdGlhZGRyc4wACgSsEpjQBlVM3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwglVLg3VkcIJVTYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-03-28_11-14-28__2f2ffe46-24fa-4f9f-8472-85826e11f7ad__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.41.67
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['8436', '8437', '8438', '8439', '8440']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:294 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 8436:8436 -p 8437:8437 -p 8438:8438 -p 8439:8439 -p 8440:8440 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8438 --rest-port=8436 --tcp-port=8437 --discv5-udp-port=8439 --rest-address=0.0.0.0 --nat=extip:172.18.41.67 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8440 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LG4QKPj98JpGIzSwdmkVqqHUINc6KpS62zPWsVKeMnQiq0uczr3kLtRfUi1JHFspPsc1vNXW5VCU0qHGv90L8yUILUBgmlkgnY0gmlwhKwSmNCKbXVsdGlhZGRyc4wACgSsEpjQBlVM3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwglVLg3VkcIJVTYV3YWt1MgU --filternode=/ip4/172.18.152.208/tcp/21835/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.41.67 waku a6c08971b799a84303705816de1b76c8226f44c1626528d19437b9604f586e97
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a6c08971b799. Setting up logs at ./log/docker/node2_2024-03-28_11-14-28__2f2ffe46-24fa-4f9f-8472-85826e11f7ad__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 8436
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:8436/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.41.67/tcp/8437/p2p/16Uiu2HAmUDU2dDoq5sqSzAfrqRddEL3qLBPmpGxVJMZeGqvttDBR","/ip4/172.18.41.67/tcp/8438/ws/p2p/16Uiu2HAmUDU2dDoq5sqSzAfrqRddEL3qLBPmpGxVJMZeGqvttDBR"],"enrUri":"enr:-LG4QNj_ax0Zhe_HBzYWRG5mEaqYtEZl9_9cI7hb55yNkqfoA_fkZ-tjpu7sRD7fvSejbIJMXoLh4fUy3EKjgkLZovcBgmlkgnY0gmlwhKwSKUOKbXVsdGlhZGRyc4wACgSsEilDBiD23QOCcnODAAAAiXNlY3AyNTZrMaED5zEvhP2aazCS75qfky0hh0PoxKVnHrF_S4ekC4cHkNSDdGNwgiD1g3VkcIIg94V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:45 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:21834/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:8436/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "138fdd82-b940-4ef5-8a87-f13eb6cad28b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"138fdd82-b940-4ef5-8a87-f13eb6cad28b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:8436/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:17 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:8436/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 2cfa308aac69
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id a6c08971b799
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.