[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-09-06_04-15-52__89d835b7-319f-4901-af82-99eb55f9ecd0
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-06_04-15-52__89d835b7-319f-4901-af82-99eb55f9ecd0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.177.132
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40279', '40280', '40281', '40282', '40283']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40279:40279 -p 40280:40280 -p 40281:40281 -p 40282:40282 -p 40283:40283 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40281 --rest-port=40279 --tcp-port=40280 --discv5-udp-port=40282 --rest-address=0.0.0.0 --nat=extip:172.18.177.132 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbcecdf32fce6132dd5aac6ea4da0acdf0b0da81e70a5d8945cef2fa40fa99b3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40283 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.177.132 waku 126f9e26d93d2ee861cf27fba687ac2d2e01e8feadcc4956a15d13334b1d4b2d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 126f9e26d93d. Setting up logs at ./log/docker/node1_2024-09-06_04-15-52__89d835b7-319f-4901-af82-99eb55f9ecd0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40279
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40279/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40279/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.132/tcp/40280/p2p/16Uiu2HAm5XdFmn5RmsJ5uwVcjzY3sVAx43MfFYqRGQ7PiBPu7UhQ","/ip4/172.18.177.132/tcp/40281/ws/p2p/16Uiu2HAm5XdFmn5RmsJ5uwVcjzY3sVAx43MfFYqRGQ7PiBPu7UhQ"],"enrUri":"enr:-LO4QBag5OoA1VHbEtzF4o81jxgyKAdYs1vKWCugL9gOw1q6MpX7b2qHXr3taepPz5rZks6IUBy3VXYWsJNqujAqA4kBgmlkgnY0gmlwhKwSsYSKbXVsdGlhZGRyc4wACgSsErGEBp1Z3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKWG0YFjZ548zLe_ll-RMZ_z2xMHGyo8L13CSh6AFPe44N0Y3CCnViDdWRwgp1ahXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-06_04-15-52__89d835b7-319f-4901-af82-99eb55f9ecd0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.192.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['31478', '31479', '31480', '31481', '31482']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 31478:31478 -p 31479:31479 -p 31480:31480 -p 31481:31481 -p 31482:31482 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31480 --rest-port=31478 --tcp-port=31479 --discv5-udp-port=31481 --rest-address=0.0.0.0 --nat=extip:172.18.192.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d588c103ade5cc4360c0a98bcbf0ad6ff7e614c9f7854b4ba4d061f9c01e6b5d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31482 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBag5OoA1VHbEtzF4o81jxgyKAdYs1vKWCugL9gOw1q6MpX7b2qHXr3taepPz5rZks6IUBy3VXYWsJNqujAqA4kBgmlkgnY0gmlwhKwSsYSKbXVsdGlhZGRyc4wACgSsErGEBp1Z3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKWG0YFjZ548zLe_ll-RMZ_z2xMHGyo8L13CSh6AFPe44N0Y3CCnViDdWRwgp1ahXdha3UyBQ --filternode=/ip4/172.18.177.132/tcp/40280/p2p/16Uiu2HAm5XdFmn5RmsJ5uwVcjzY3sVAx43MfFYqRGQ7PiBPu7UhQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.192.56 waku a51a3a3fd84b3631a1e852ae2b74fb6947ae228a7354b3590459a4eaca41a50f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a51a3a3fd84b. Setting up logs at ./log/docker/node2_2024-09-06_04-15-52__89d835b7-319f-4901-af82-99eb55f9ecd0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 31478
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31478/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31478/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.192.56/tcp/31479/p2p/16Uiu2HAmUsykyebJCnauyo7s8P6hEtGjhEBASjDVEixGyGkfgfC7","/ip4/172.18.192.56/tcp/31480/ws/p2p/16Uiu2HAmUsykyebJCnauyo7s8P6hEtGjhEBASjDVEixGyGkfgfC7"],"enrUri":"enr:-LO4QCxgJU-jT4O1uNga1pE7GVHObXZJ5ObIcdkTs1iM7S_gCZy6IUamWDWPc4fOLw3WS5mKnFxFUS7x3XXZ3_TvX5YBgmlkgnY0gmlwhKwSwDiKbXVsdGlhZGRyc4wACgSsEsA4Bnr43QOCcnOFAAMBAACJc2VjcDI1NmsxoQPxDt9XKk8sPK1Mly2KrbAoL7ieW_5OptUauklbkh5-9IN0Y3CCeveDdWRwgnr5hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31478/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.132/tcp/40280/p2p/16Uiu2HAm5XdFmn5RmsJ5uwVcjzY3sVAx43MfFYqRGQ7PiBPu7UhQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-06_04-15-52__89d835b7-319f-4901-af82-99eb55f9ecd0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.175.30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['26659', '26660', '26661', '26662', '26663']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 26659:26659 -p 26660:26660 -p 26661:26661 -p 26662:26662 -p 26663:26663 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26661 --rest-port=26659 --tcp-port=26660 --discv5-udp-port=26662 --rest-address=0.0.0.0 --nat=extip:172.18.175.30 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=33f1dbb679ced5d8299ed78de792edbbc8e65288ddd5cd86801daf308ae3de2f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26663 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBag5OoA1VHbEtzF4o81jxgyKAdYs1vKWCugL9gOw1q6MpX7b2qHXr3taepPz5rZks6IUBy3VXYWsJNqujAqA4kBgmlkgnY0gmlwhKwSsYSKbXVsdGlhZGRyc4wACgSsErGEBp1Z3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKWG0YFjZ548zLe_ll-RMZ_z2xMHGyo8L13CSh6AFPe44N0Y3CCnViDdWRwgp1ahXdha3UyBQ --filternode=/ip4/172.18.177.132/tcp/40280/p2p/16Uiu2HAm5XdFmn5RmsJ5uwVcjzY3sVAx43MfFYqRGQ7PiBPu7UhQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.175.30 waku e5ab309f3fa54f51a7cf88058be946288bcf9c52c8080252dd0569b7ff190659
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e5ab309f3fa5. Setting up logs at ./log/docker/node3_2024-09-06_04-15-52__89d835b7-319f-4901-af82-99eb55f9ecd0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 26659
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26659/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26659/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.175.30/tcp/26660/p2p/16Uiu2HAm8zC2fMbkUPBbX7EvdV41KGXqfmkeejM3yF5yRzvxkDQp","/ip4/172.18.175.30/tcp/26661/ws/p2p/16Uiu2HAm8zC2fMbkUPBbX7EvdV41KGXqfmkeejM3yF5yRzvxkDQp"],"enrUri":"enr:-LO4QC_KWwhp7W5XK1Jb_NGHOnvIS1l9NH4Q3URmwmbNrSmbQV0lfcKPoOCFqjRwi3jl9TIYEVnReo5R-kEqhoyt2W0BgmlkgnY0gmlwhKwSrx6KbXVsdGlhZGRyc4wACgSsEq8eBmgl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLJfH4y5LSyBF7Exbfh_HcQIqLQyj0bb6U_O8ue_q_onYN0Y3CCaCSDdWRwgmgmhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26659/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.132/tcp/40280/p2p/16Uiu2HAm5XdFmn5RmsJ5uwVcjzY3sVAx43MfFYqRGQ7PiBPu7UhQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-06_04-15-52__89d835b7-319f-4901-af82-99eb55f9ecd0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.136.75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['9909', '9910', '9911', '9912', '9913']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 9909:9909 -p 9910:9910 -p 9911:9911 -p 9912:9912 -p 9913:9913 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9911 --rest-port=9909 --tcp-port=9910 --discv5-udp-port=9912 --rest-address=0.0.0.0 --nat=extip:172.18.136.75 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=807ff14fd5aaf0ff2cc4064ca9ce2baecbea0eedae2dad7fbdbabb49d24e1288 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9913 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBag5OoA1VHbEtzF4o81jxgyKAdYs1vKWCugL9gOw1q6MpX7b2qHXr3taepPz5rZks6IUBy3VXYWsJNqujAqA4kBgmlkgnY0gmlwhKwSsYSKbXVsdGlhZGRyc4wACgSsErGEBp1Z3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKWG0YFjZ548zLe_ll-RMZ_z2xMHGyo8L13CSh6AFPe44N0Y3CCnViDdWRwgp1ahXdha3UyBQ --filternode=/ip4/172.18.177.132/tcp/40280/p2p/16Uiu2HAm5XdFmn5RmsJ5uwVcjzY3sVAx43MfFYqRGQ7PiBPu7UhQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.136.75 waku 42bdb370c22ff1af2d51d625ce780d3bf4279294f6459fa96ddcb570fe50c8ae
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 42bdb370c22f. Setting up logs at ./log/docker/node4_2024-09-06_04-15-52__89d835b7-319f-4901-af82-99eb55f9ecd0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9909
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9909/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9909/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.136.75/tcp/9910/p2p/16Uiu2HAmBM72CT58R8b8cftk2s58kQxUUEsFhx5LK647TPDxu8o3","/ip4/172.18.136.75/tcp/9911/ws/p2p/16Uiu2HAmBM72CT58R8b8cftk2s58kQxUUEsFhx5LK647TPDxu8o3"],"enrUri":"enr:-LO4QKcPMTiueWoWu_ctWrGR4-cAvjwKf_Jrv1p1yhY6tI7pG93T_vfEJi95uJ8F5YdUcPRKhf27V3UNqWXZEURujPYBgmlkgnY0gmlwhKwSiEuKbXVsdGlhZGRyc4wACgSsEohLBia33QOCcnOFAAMBAACJc2VjcDI1NmsxoQLsj2a4C_9ffjZQYLdIOHZoP8_P16rtYpfbsizoZz4q-oN0Y3CCJraDdWRwgia4hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9909/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.132/tcp/40280/p2p/16Uiu2HAm5XdFmn5RmsJ5uwVcjzY3sVAx43MfFYqRGQ7PiBPu7UhQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-06_04-15-52__89d835b7-319f-4901-af82-99eb55f9ecd0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.128.104
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['23999', '24000', '24001', '24002', '24003']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 23999:23999 -p 24000:24000 -p 24001:24001 -p 24002:24002 -p 24003:24003 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24001 --rest-port=23999 --tcp-port=24000 --discv5-udp-port=24002 --rest-address=0.0.0.0 --nat=extip:172.18.128.104 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b4624be0ecb3b8f34e0a3abaeca3a2985e479d0fa5e7bb4cb12d40bbbb6c1063 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24003 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBag5OoA1VHbEtzF4o81jxgyKAdYs1vKWCugL9gOw1q6MpX7b2qHXr3taepPz5rZks6IUBy3VXYWsJNqujAqA4kBgmlkgnY0gmlwhKwSsYSKbXVsdGlhZGRyc4wACgSsErGEBp1Z3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKWG0YFjZ548zLe_ll-RMZ_z2xMHGyo8L13CSh6AFPe44N0Y3CCnViDdWRwgp1ahXdha3UyBQ --filternode=/ip4/172.18.177.132/tcp/40280/p2p/16Uiu2HAm5XdFmn5RmsJ5uwVcjzY3sVAx43MfFYqRGQ7PiBPu7UhQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.128.104 waku d17bb575f8b937c99de11b58eb3c662338c579a3d505f5117e1822ea7eb33cb4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d17bb575f8b9. Setting up logs at ./log/docker/node5_2024-09-06_04-15-52__89d835b7-319f-4901-af82-99eb55f9ecd0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23999
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23999/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23999/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.104/tcp/24000/p2p/16Uiu2HAmCr1K4BkfehAvndYLWnxwWcF2ULWMZU6cYDR1sJEcdVoH","/ip4/172.18.128.104/tcp/24001/ws/p2p/16Uiu2HAmCr1K4BkfehAvndYLWnxwWcF2ULWMZU6cYDR1sJEcdVoH"],"enrUri":"enr:-LO4QCehq8IQqA95af3d24XCjWRG_amEAz_WfL9umDCUBztqSMpw2uHo_bpn0qYrv5dpBJheLdH-8MYyMxd9tv6GJe0BgmlkgnY0gmlwhKwSgGiKbXVsdGlhZGRyc4wACgSsEoBoBl3B3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMC0nneWy1VkH7JmFCD3p9AHfNbSWHEHXLPQ2pmo_bpnIN0Y3CCXcCDdWRwgl3ChXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23999/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.177.132/tcp/40280/p2p/16Uiu2HAm5XdFmn5RmsJ5uwVcjzY3sVAx43MfFYqRGQ7PiBPu7UhQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40279/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31478/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4a98b3f0-3374-493b-a51a-2c03d9c23cfc", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4a98b3f0-3374-493b-a51a-2c03d9c23cfc","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26659/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3865902a-17e5-4f51-8124-516b0b972952", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3865902a-17e5-4f51-8124-516b0b972952","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9909/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fb2255ec-e514-4387-90d4-f7e19ace8f50", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fb2255ec-e514-4387-90d4-f7e19ace8f50","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23999/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "216f0908-f928-460e-8d9f-fe796fa60b69", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"216f0908-f928-460e-8d9f-fe796fa60b69","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40279/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31478/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1725596160231043584,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40279/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26659/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:26659/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 126f9e26d93d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a51a3a3fd84b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e5ab309f3fa5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 42bdb370c22f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d17bb575f8b9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.