[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_big_timestamp with id: 2024-12-29_18-49-09__1e0769e1-c7b1-4874-9c64-abfc8c007657
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-12-29_18-49-09__1e0769e1-c7b1-4874-9c64-abfc8c007657__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.244.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16177', '16178', '16179', '16180', '16181']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16177:16177 -p 16178:16178 -p 16179:16179 -p 16180:16180 -p 16181:16181 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16179 --rest-port=16177 --tcp-port=16178 --discv5-udp-port=16180 --rest-address=0.0.0.0 --nat=extip:172.18.244.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1dcc14f65fd89d14860d5c056b7f97093c9edddcbaae65043ce7d7f635a541fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16181 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.244.221 waku 54867f95587bfa71f8cd3bdbd0f3b76f30ed7057d1d6d7f153ec818cb58ccd8a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 54867f95587b. Setting up logs at ./log/docker/publishing_node1_2024-12-29_18-49-09__1e0769e1-c7b1-4874-9c64-abfc8c007657__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 16177
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c448ccba4199. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16177/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16177/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.244.221/tcp/16178/p2p/16Uiu2HAmMfjgrHJRfoYcBgUKSSMymh4BJ4LgToFtTeEFhNNoREST","/ip4/172.18.244.221/tcp/16179/ws/p2p/16Uiu2HAmMfjgrHJRfoYcBgUKSSMymh4BJ4LgToFtTeEFhNNoREST"],"enrUri":"enr:-L24QNsjDlvopv1MEmERGDpgLdPpuV7ojRWUwlxuba4yfzfOdMnTFPhHONPQcb2WMGjpYVDzE0fLbh3uj3KqOYZINoECgmlkgnY0gmlwhKwS9N2KbXVsdGlhZGRyc5YACASsEvTdBj8yAAoErBL03QY_M90DgnJzhQADAQAAiXNlY3AyNTZrMaEDheovFaesBU_XQLvnRng0Et5xGBmjo49SLI993o1SnpiDdGNwgj8yg3VkcII_NIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-12-29_18-49-09__1e0769e1-c7b1-4874-9c64-abfc8c007657__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.34.86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35219', '35220', '35221', '35222', '35223']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35219:35219 -p 35220:35220 -p 35221:35221 -p 35222:35222 -p 35223:35223 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35221 --rest-port=35219 --tcp-port=35220 --discv5-udp-port=35222 --rest-address=0.0.0.0 --nat=extip:172.18.34.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cb889eb3f312bf9a1cddccfaddb2251e9f553bf18b0c6c94455cef08da3cfaba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35223 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QNsjDlvopv1MEmERGDpgLdPpuV7ojRWUwlxuba4yfzfOdMnTFPhHONPQcb2WMGjpYVDzE0fLbh3uj3KqOYZINoECgmlkgnY0gmlwhKwS9N2KbXVsdGlhZGRyc5YACASsEvTdBj8yAAoErBL03QY_M90DgnJzhQADAQAAiXNlY3AyNTZrMaEDheovFaesBU_XQLvnRng0Et5xGBmjo49SLI993o1SnpiDdGNwgj8yg3VkcII_NIV3YWt1MgM --storenode=/ip4/172.18.244.221/tcp/16178/p2p/16Uiu2HAmMfjgrHJRfoYcBgUKSSMymh4BJ4LgToFtTeEFhNNoREST --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.34.86 waku beb2cb1e150150f0980d35e81156d659550c43a8f7ef05f169283321ae0a2c88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID beb2cb1e1501. Setting up logs at ./log/docker/store_node1_2024-12-29_18-49-09__1e0769e1-c7b1-4874-9c64-abfc8c007657__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 35219
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35219/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35219/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.34.86/tcp/35220/p2p/16Uiu2HAm3eFnZD8fF6PxvKKuy7SniihVppH1X6pQ6MkhzGyz12ct","/ip4/172.18.34.86/tcp/35221/ws/p2p/16Uiu2HAm3eFnZD8fF6PxvKKuy7SniihVppH1X6pQ6MkhzGyz12ct"],"enrUri":"enr:-L24QGP_OLwZnuz2L6svT4imJuCfzS-PaYIIaYc4Px6WzYZiNcbfGwtqEHFLZ_v8krCmpk2qn44DL_FLfxWBeu30ynwCgmlkgnY0gmlwhKwSIlaKbXVsdGlhZGRyc5YACASsEiJWBomUAAoErBIiVgaJld0DgnJzhQADAQAAiXNlY3AyNTZrMaECehawofBX_gK0R4-hpDbz4niesb3Z56ZGdktw0cRb2xWDdGNwgomUg3VkcIKJloV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35219/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.244.221/tcp/16178/p2p/16Uiu2HAmMfjgrHJRfoYcBgUKSSMymh4BJ4LgToFtTeEFhNNoREST"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16177/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35219/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16177/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16177/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16177/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16177/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16177/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16177/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:204 inquering stored messages with start time 1735498157682934016 after end time 2426698161921233920
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16177/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1735498157682934016&endTime=2426698161921233920&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"x9WmCFWcb+hBqKy4778Y4z8QZ30l4iHxZcpzL2GJWh4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498157682934016,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"RIOv5SGghnQvq2dvoVOjmWH4DyNOrkQ1/Yz5QJfE3nA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498159682940928,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"q2u28KFIlTmEHpOfsBqFgwZy4F9RRPKOp+CIkUlxkbA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498160582941952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"wpxdJaudCaZILqoaVUc211WZ1q4HTLmHbQc7xqeIFnY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498160782945024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"vPYjAKbFHICwvN/fqYnoaTgJWLA/YE2PKAoDYnXcjAw=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498162682946048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"LTC+LeL6FhfAd2iNxXMvy1WI78nZxchm4+kN6+NYDmQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498170682948096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1735498157682934016 and end time = 2426698161921233920 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35219/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1735498157682934016&endTime=2426698161921233920&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"x9WmCFWcb+hBqKy4778Y4z8QZ30l4iHxZcpzL2GJWh4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498157682934016,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"RIOv5SGghnQvq2dvoVOjmWH4DyNOrkQ1/Yz5QJfE3nA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498159682940928,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"q2u28KFIlTmEHpOfsBqFgwZy4F9RRPKOp+CIkUlxkbA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498160582941952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"wpxdJaudCaZILqoaVUc211WZ1q4HTLmHbQc7xqeIFnY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498160782945024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"vPYjAKbFHICwvN/fqYnoaTgJWLA/YE2PKAoDYnXcjAw=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498162682946048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"LTC+LeL6FhfAd2iNxXMvy1WI78nZxchm4+kN6+NYDmQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735498170682948096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1735498157682934016 and end time = 2426698161921233920 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 54867f95587b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id beb2cb1e1501
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 54867f95587b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.