[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-29_18-48-34__74bae28e-016b-4440-91cb-2562093aba54
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-29_18-48-34__74bae28e-016b-4440-91cb-2562093aba54__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.74.99
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44416', '44417', '44418', '44419', '44420']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44416:44416 -p 44417:44417 -p 44418:44418 -p 44419:44419 -p 44420:44420 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44418 --rest-port=44416 --tcp-port=44417 --discv5-udp-port=44419 --rest-address=0.0.0.0 --nat=extip:172.18.74.99 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6bec156fbaf585eb1b571acabf363d34b083e57ce5ea20edb0df0208d69abbe6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44420 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.74.99 waku 967e8401ad3482460524a512cc4f941764f96bdd4cb11a84493097ce065213df
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 967e8401ad34. Setting up logs at ./log/docker/node1_2024-12-29_18-48-34__74bae28e-016b-4440-91cb-2562093aba54__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 44416
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9d4adbf7e373. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44416/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44416/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.99/tcp/44417/p2p/16Uiu2HAmQakhYwdSGTD4dCTajhqvE8nCkQCgGQkVQC2cdDgiFRWw","/ip4/172.18.74.99/tcp/44418/ws/p2p/16Uiu2HAmQakhYwdSGTD4dCTajhqvE8nCkQCgGQkVQC2cdDgiFRWw"],"enrUri":"enr:-L24QKwWF5efaMPc5hZzV73rPQwqDjNQpjjkAFaFJ1j4aZYzAuyMim9WjdVtbdP1fjZX20EIVZ9Nbp8Q-L90ajw_uW8CgmlkgnY0gmlwhKwSSmOKbXVsdGlhZGRyc5YACASsEkpjBq2BAAoErBJKYwatgt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsTZ8KtEXl5X_LA7RtI3rdvnJmYNuG7_2nEGsdfMgmUiDdGNwgq2Bg3VkcIKtg4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-29_18-48-34__74bae28e-016b-4440-91cb-2562093aba54__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.39.75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34439', '34440', '34441', '34442', '34443']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34439:34439 -p 34440:34440 -p 34441:34441 -p 34442:34442 -p 34443:34443 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34441 --rest-port=34439 --tcp-port=34440 --discv5-udp-port=34442 --rest-address=0.0.0.0 --nat=extip:172.18.39.75 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7eb1c07cb5feb9a0e8ef4b8fdcf13d1cc0ca8edfd0e8ebd044eadfb65cda473a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34443 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKwWF5efaMPc5hZzV73rPQwqDjNQpjjkAFaFJ1j4aZYzAuyMim9WjdVtbdP1fjZX20EIVZ9Nbp8Q-L90ajw_uW8CgmlkgnY0gmlwhKwSSmOKbXVsdGlhZGRyc5YACASsEkpjBq2BAAoErBJKYwatgt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsTZ8KtEXl5X_LA7RtI3rdvnJmYNuG7_2nEGsdfMgmUiDdGNwgq2Bg3VkcIKtg4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.39.75 waku 22eec6292b0ca723bc357bacbaef22fb362dfdd4704589affc0feda2cd3bebbe
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 22eec6292b0c. Setting up logs at ./log/docker/node2_2024-12-29_18-48-34__74bae28e-016b-4440-91cb-2562093aba54__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 34439
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34439/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34439/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.39.75/tcp/34440/p2p/16Uiu2HAmDG5f8Zr7SawkgCmaz8tsGeKQ1CaXCcH8UVWCdqo6a8uG","/ip4/172.18.39.75/tcp/34441/ws/p2p/16Uiu2HAmDG5f8Zr7SawkgCmaz8tsGeKQ1CaXCcH8UVWCdqo6a8uG"],"enrUri":"enr:-L24QNRrbb8BPYbZnl5cTUmHdfO9tUfiSKZzVi2kh_e-rCPIU8NzrC72qmoCDHrpUVDYxK421I50-wI4J_ZLeidWdy4CgmlkgnY0gmlwhKwSJ0uKbXVsdGlhZGRyc5YACASsEidLBoaIAAoErBInSwaGid0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCP1UZA0nZonqciV1eEkEPsqwEqmd9ED0Ufu9dmQ8ZguDdGNwgoaIg3VkcIKGioV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34439/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.74.99/tcp/44417/p2p/16Uiu2HAmQakhYwdSGTD4dCTajhqvE8nCkQCgGQkVQC2cdDgiFRWw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-29_18-48-34__74bae28e-016b-4440-91cb-2562093aba54__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.121.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37212', '37213', '37214', '37215', '37216']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37212:37212 -p 37213:37213 -p 37214:37214 -p 37215:37215 -p 37216:37216 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37214 --rest-port=37212 --tcp-port=37213 --discv5-udp-port=37215 --rest-address=0.0.0.0 --nat=extip:172.18.121.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdcfdedfcbeac9040bff44ab58a3f83ccf7d962cf6ba76e1ea720b5514d9c8bf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37216 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKwWF5efaMPc5hZzV73rPQwqDjNQpjjkAFaFJ1j4aZYzAuyMim9WjdVtbdP1fjZX20EIVZ9Nbp8Q-L90ajw_uW8CgmlkgnY0gmlwhKwSSmOKbXVsdGlhZGRyc5YACASsEkpjBq2BAAoErBJKYwatgt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsTZ8KtEXl5X_LA7RtI3rdvnJmYNuG7_2nEGsdfMgmUiDdGNwgq2Bg3VkcIKtg4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.121.93 waku c2083771e16daf9985a462c77130993016fb7dbf1d8eb6dfa18786fc32cde087
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c2083771e16d. Setting up logs at ./log/docker/node3_2024-12-29_18-48-34__74bae28e-016b-4440-91cb-2562093aba54__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 37212
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37212/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37212/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.93/tcp/37213/p2p/16Uiu2HAmQj5psBDjiWtndXUJ38i2MTazFSnLcneVXQEUJn6x7mua","/ip4/172.18.121.93/tcp/37214/ws/p2p/16Uiu2HAmQj5psBDjiWtndXUJ38i2MTazFSnLcneVXQEUJn6x7mua"],"enrUri":"enr:-L24QEDhsWWwlWGc68NBMzvRvO0MMrQAjLTs7TiU7LaqGUuEVnvFyM-_397DOa9TZkVYaEZh__ljOz2DqEr6gl7E5lwCgmlkgnY0gmlwhKwSeV2KbXVsdGlhZGRyc5YACASsEnldBpFdAAoErBJ5XQaRXt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDs1jB6RDc9azKf7grIzB4TdgcqiBdma_IUlL1FwuwqlmDdGNwgpFdg3VkcIKRX4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37212/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.74.99/tcp/44417/p2p/16Uiu2HAmQakhYwdSGTD4dCTajhqvE8nCkQCgGQkVQC2cdDgiFRWw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-29_18-48-34__74bae28e-016b-4440-91cb-2562093aba54__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.252.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34565', '34566', '34567', '34568', '34569']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34565:34565 -p 34566:34566 -p 34567:34567 -p 34568:34568 -p 34569:34569 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34567 --rest-port=34565 --tcp-port=34566 --discv5-udp-port=34568 --rest-address=0.0.0.0 --nat=extip:172.18.252.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fab0f0690304b29d69af2ef4ae9eef446dfb4eadfa53614bccdbb95e32ab9d6c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34569 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKwWF5efaMPc5hZzV73rPQwqDjNQpjjkAFaFJ1j4aZYzAuyMim9WjdVtbdP1fjZX20EIVZ9Nbp8Q-L90ajw_uW8CgmlkgnY0gmlwhKwSSmOKbXVsdGlhZGRyc5YACASsEkpjBq2BAAoErBJKYwatgt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsTZ8KtEXl5X_LA7RtI3rdvnJmYNuG7_2nEGsdfMgmUiDdGNwgq2Bg3VkcIKtg4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.252.14 waku b7e80c688f40b8e33d087af78f3112a2d4a9781ad6d1fe0d60ef9fc3b7f119d8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b7e80c688f40. Setting up logs at ./log/docker/node4_2024-12-29_18-48-34__74bae28e-016b-4440-91cb-2562093aba54__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 34565
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34565/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34565/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.14/tcp/34566/p2p/16Uiu2HAmNkuvMSncJT79WFUrVrmXHAWNUxv9f3hQBmjYAbXL69Ad","/ip4/172.18.252.14/tcp/34567/ws/p2p/16Uiu2HAmNkuvMSncJT79WFUrVrmXHAWNUxv9f3hQBmjYAbXL69Ad"],"enrUri":"enr:-L24QDZrUimR5YIWh0lRMWNAJ6121ALOK1H_oZRcFhmXebk2OlYQABi2O8oy87BB1m2q8sRy1eBVqleAGOZuv79imUUCgmlkgnY0gmlwhKwS_A6KbXVsdGlhZGRyc5YACASsEvwOBocGAAoErBL8DgaHB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDlhlYXO0Ks95S-I_d791wgUurwUNCrfOdaj5snXUJtQaDdGNwgocGg3VkcIKHCIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34565/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.74.99/tcp/44417/p2p/16Uiu2HAmQakhYwdSGTD4dCTajhqvE8nCkQCgGQkVQC2cdDgiFRWw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-29_18-48-34__74bae28e-016b-4440-91cb-2562093aba54__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.68.110
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8380', '8381', '8382', '8383', '8384']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8380:8380 -p 8381:8381 -p 8382:8382 -p 8383:8383 -p 8384:8384 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8382 --rest-port=8380 --tcp-port=8381 --discv5-udp-port=8383 --rest-address=0.0.0.0 --nat=extip:172.18.68.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=21d423ae47ca72ddc1e87a30d1e549d773b02b6d0bfed9dd3c3de5a5f52eeee7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8384 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKwWF5efaMPc5hZzV73rPQwqDjNQpjjkAFaFJ1j4aZYzAuyMim9WjdVtbdP1fjZX20EIVZ9Nbp8Q-L90ajw_uW8CgmlkgnY0gmlwhKwSSmOKbXVsdGlhZGRyc5YACASsEkpjBq2BAAoErBJKYwatgt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsTZ8KtEXl5X_LA7RtI3rdvnJmYNuG7_2nEGsdfMgmUiDdGNwgq2Bg3VkcIKtg4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.68.110 waku 63614d7f66bdba1e78c41ef18c3aacd542788f1415cb1cb2d52a80384038e254
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 63614d7f66bd. Setting up logs at ./log/docker/node5_2024-12-29_18-48-34__74bae28e-016b-4440-91cb-2562093aba54__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 8380
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8380/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8380/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.110/tcp/8381/p2p/16Uiu2HAm1vQXAFJxbnCcVxTTLeGhQ1mD5PvNoKvQ6xTfptiVyTx5","/ip4/172.18.68.110/tcp/8382/ws/p2p/16Uiu2HAm1vQXAFJxbnCcVxTTLeGhQ1mD5PvNoKvQ6xTfptiVyTx5"],"enrUri":"enr:-L24QOX4DPeEEAaAzFLDVa8QD_oJ7OZaszNetSSqJb0PsgdlYUsgxul6PR1DZ1qZHB2vIg7bDq1-zKXIiJj4PJdALQoCgmlkgnY0gmlwhKwSRG6KbXVsdGlhZGRyc5YACASsEkRuBiC9AAoErBJEbgYgvt0DgnJzhQADAQAAiXNlY3AyNTZrMaECYIJ8OaMQms6vKqRUt6D0khXFQKQntd8eNdfh12O26YKDdGNwgiC9g3VkcIIgv4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8380/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.74.99/tcp/44417/p2p/16Uiu2HAmQakhYwdSGTD4dCTajhqvE8nCkQCgGQkVQC2cdDgiFRWw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44416/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34439/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37212/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34565/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8380/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735498121182513664,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735498121182513664,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37212/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735498121182513664,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34565/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735498121182513664,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8380/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735498121182513664,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735498121306938624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735498121306938624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37212/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735498121306938624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34565/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735498121306938624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8380/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735498121306938624,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 967e8401ad34
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 22eec6292b0c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c2083771e16d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 967e8401ad34. Exiting log stream.
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 22eec6292b0c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b7e80c688f40
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c2083771e16d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 63614d7f66bd
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b7e80c688f40. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.