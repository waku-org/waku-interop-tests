{"uid":"27a73c4456e6428b","name":"test_time_filter_negative_end_time","fullName":"tests.store.test_time_filter.TestTimeFilter#test_time_filter_negative_end_time","historyId":"78c71c2d55069be31f64b21a1e3b7ade","time":{"start":1737432496013,"stop":1737432497241,"duration":1228},"status":"failed","statusMessage":"AssertionError: number of messages retrieved doesn't match time filter \nassert 0 == 6\n +  where 0 = len([])\n +    where [] = <src.node.store_response.StoreResponse object at 0x7fba84d10800>.messages","statusTrace":"tests/store/test_time_filter.py:237: in test_time_filter_negative_end_time\n    assert len(store_response.messages) == 6, \"number of messages retrieved doesn't match time filter \"\nE   AssertionError: number of messages retrieved doesn't match time filter \nE   assert 0 == 6\nE    +  where 0 = len([])\nE    +    where [] = <src.node.store_response.StoreResponse object at 0x7fba84d10800>.messages","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1737432133721,"stop":1737432133721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1737432493432,"stop":1737432493432,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1737432493432,"stop":1737432493432,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1737432493432,"stop":1737432493432,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1737432493432,"stop":1737432493432,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1737432493432,"stop":1737432493433,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1737432493432,"stop":1737432493432,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"node_setup","time":{"start":1737432493433,"stop":1737432496012,"duration":2579},"status":"passed","steps":[{"name":"setup_first_publishing_node","time":{"start":1737432493433,"stop":1737432494715,"duration":1282},"status":"passed","steps":[{"name":"start_publishing_node","time":{"start":1737432493433,"stop":1737432494715,"duration":1282},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1737432494715,"stop":1737432494715,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_time_filter.TestTimeFilter object at 0x7fba84b9d430>, <src.node.waku_node.WakuNode object at 0x7fba84d10080>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_store_node","time":{"start":1737432494715,"stop":1737432496008,"duration":1293},"status":"passed","steps":[{"name":"setup_store_node","time":{"start":1737432494715,"stop":1737432496008,"duration":1293},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1737432496006,"stop":1737432496008,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_time_filter.TestTimeFilter object at 0x7fba84b9d430>, <src.node.waku_node.WakuNode object at 0x7fba844f2fc0>, ['/ip4/172.18.201.220/tcp/32146/p2p/16Uiu2HAmVPnnH8KP5EogUawKPjMSjF1WZcw5GdNBUq6HLgVtUTYH'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1737432496008,"stop":1737432496012,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"[<src.node.waku_node.WakuNode object at 0x7fba84d10080>, <src.node.waku_node.WakuNode object at 0x7fba844f2fc0>]"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"store_setup","time":{"start":1737432493433,"stop":1737432493433,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: number of messages retrieved doesn't match time filter \nassert 0 == 6\n +  where 0 = len([])\n +    where [] = <src.node.store_response.StoreResponse object at 0x7fba84d10800>.messages","statusTrace":"tests/store/test_time_filter.py:237: in test_time_filter_negative_end_time\n    assert len(store_response.messages) == 6, \"number of messages retrieved doesn't match time filter \"\nE   AssertionError: number of messages retrieved doesn't match time filter \nE   assert 0 == 6\nE    +  where 0 = len([])\nE    +    where [] = <src.node.store_response.StoreResponse object at 0x7fba84d10800>.messages","steps":[{"name":"create_message","time":{"start":1737432496013,"stop":1737432496013,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"1737432493012745984"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1737432496013,"stop":1737432496217,"duration":204},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1737432493012745984}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1737432496217,"stop":1737432496217,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"1737432495012752128"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1737432496217,"stop":1737432496420,"duration":203},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1737432495012752128}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1737432496420,"stop":1737432496421,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"1737432495912754176"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1737432496421,"stop":1737432496625,"duration":204},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1737432495912754176}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1737432496626,"stop":1737432496626,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"1737432496112756992"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1737432496626,"stop":1737432496829,"duration":203},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1737432496112756992}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1737432496829,"stop":1737432496829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"1737432498012759040"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1737432496830,"stop":1737432497034,"duration":204},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1737432498012759040}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1737432497034,"stop":1737432497034,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"timestamp","value":"1737432506012759808"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1737432497034,"stop":1737432497238,"duration":204},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1737432506012759808}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"get_messages_from_store","time":{"start":1737432497238,"stop":1737432497241,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fba84d10080>"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"True"},{"name":"pubsub_topic","value":"None"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"-10000"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"page_size","value":"20"},{"name":"ascending","value":"'true'"},{"name":"store_v","value":"'v3'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"468c7807b5925862","name":"log","source":"468c7807b5925862.txt","type":"text/plain","size":29870}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":13,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1737432497248,"stop":1737432497249,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1737432497249,"stop":1737432499695,"duration":2446},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1737432499696,"stop":1737432499708,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1737432499708,"stop":1737432499710,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"9fd12212f706ff27","name":"publishing_node1_2025-01-21_04-08-13__93b2450d-4a4d-4a87-bf98-0ddb2f287bdf__wakuorg_nwaku:latest.log","source":"9fd12212f706ff27.txt","type":"text/plain","size":164254},{"uid":"3bc49012b454f44c","name":"store_node1_2025-01-21_04-08-13__93b2450d-4a4d-4a87-bf98-0ddb2f287bdf__wakuorg_nwaku:latest.log","source":"3bc49012b454f44c.txt","type":"text/plain","size":169372}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1737432536662,"stop":1737432536662,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.skipif(False, reason='Test works only with nwaku')"},{"name":"tag","value":"@pytest.mark.usefixtures('node_setup')"},{"name":"parentSuite","value":"tests.store"},{"name":"suite","value":"test_time_filter"},{"name":"subSuite","value":"TestTimeFilter"},{"name":"host","value":"fv-az1444-865"},{"name":"thread","value":"1942-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.store.test_time_filter"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["@pytest.mark.skipif(False, reason='Test works only with nwaku')","@pytest.mark.usefixtures('node_setup')"]},"source":"27a73c4456e6428b.json","parameterValues":[]}