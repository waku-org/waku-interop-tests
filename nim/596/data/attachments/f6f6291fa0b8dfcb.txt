[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_on_not_subscribed_content_topic_works with id: 2024-12-30_04-15-48__b440c01e-4bc0-4737-b282-535e639bb0cc
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-30_04-15-48__b440c01e-4bc0-4737-b282-535e639bb0cc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.250.255
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16795', '16796', '16797', '16798', '16799']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16795:16795 -p 16796:16796 -p 16797:16797 -p 16798:16798 -p 16799:16799 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16797 --rest-port=16795 --tcp-port=16796 --discv5-udp-port=16798 --rest-address=0.0.0.0 --nat=extip:172.18.250.255 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=de450cbbb0a4618aea07dca40c0cda6e878171d3cec8c8eac82a73b6c286ddf5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16799 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.250.255 waku adc8335b04a3603414aa6947a59a84c518fe2ca4fa37c535dd2187c65eb48d0d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID adc8335b04a3. Setting up logs at ./log/docker/node1_2024-12-30_04-15-48__b440c01e-4bc0-4737-b282-535e639bb0cc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 16795
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 38f13d6aa9a6. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16795/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16795/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.255/tcp/16796/p2p/16Uiu2HAmDpoCc2cgwz8SJQokpmQynTTKbzwquaxrSgQtSjzRB6YC","/ip4/172.18.250.255/tcp/16797/ws/p2p/16Uiu2HAmDpoCc2cgwz8SJQokpmQynTTKbzwquaxrSgQtSjzRB6YC"],"enrUri":"enr:-L24QGCW3PZg2r97ltj2BQ6MoBoCsxJr8nokw5D8Gi0ID6EBSNKEsSLFFVUJg3t_Z2-OBMopg_9XXUMyDwI-CFN4Oq8CgmlkgnY0gmlwhKwS-v-KbXVsdGlhZGRyc5YACASsEvr_BkGcAAoErBL6_wZBnd0DgnJzhQACAQAAiXNlY3AyNTZrMaEDEV7jUXaDJQyBD1gKtovbSsuB3lxQj3N6NYgL7RRFwnWDdGNwgkGcg3VkcIJBnoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-30_04-15-48__b440c01e-4bc0-4737-b282-535e639bb0cc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.7.234
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45587', '45588', '45589', '45590', '45591']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45587:45587 -p 45588:45588 -p 45589:45589 -p 45590:45590 -p 45591:45591 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45589 --rest-port=45587 --tcp-port=45588 --discv5-udp-port=45590 --rest-address=0.0.0.0 --nat=extip:172.18.7.234 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=65e4bb2dceffbec9762de9a1c5d7dfd323ff6bf0de3cf75f9ac4b44ad2fdf6c6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45591 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGCW3PZg2r97ltj2BQ6MoBoCsxJr8nokw5D8Gi0ID6EBSNKEsSLFFVUJg3t_Z2-OBMopg_9XXUMyDwI-CFN4Oq8CgmlkgnY0gmlwhKwS-v-KbXVsdGlhZGRyc5YACASsEvr_BkGcAAoErBL6_wZBnd0DgnJzhQACAQAAiXNlY3AyNTZrMaEDEV7jUXaDJQyBD1gKtovbSsuB3lxQj3N6NYgL7RRFwnWDdGNwgkGcg3VkcIJBnoV3YWt1MgU --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.7.234 waku e9c2adf235947e83d45edc04c18b7066d9c6ff83dfb18cbb70169151b7dce5b6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e9c2adf23594. Setting up logs at ./log/docker/node2_2024-12-30_04-15-48__b440c01e-4bc0-4737-b282-535e639bb0cc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 45587
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45587/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45587/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.234/tcp/45588/p2p/16Uiu2HAmQABFDXCZH5nF6fzRJS819ieme2kPv9ExW5htLbTgyhwS","/ip4/172.18.7.234/tcp/45589/ws/p2p/16Uiu2HAmQABFDXCZH5nF6fzRJS819ieme2kPv9ExW5htLbTgyhwS"],"enrUri":"enr:-L24QDo1uZ-GxgxAhaqYfJz9_TjdVhcG6V51E1ihqdRHJNuKG6sxpss_R0iOI2Bko8aZOzIF9MAcK60hJvfes1L6stECgmlkgnY0gmlwhKwSB-qKbXVsdGlhZGRyc5YACASsEgfqBrIUAAoErBIH6gayFd0DgnJzhQACAQAAiXNlY3AyNTZrMaEDquq4ECmDBE4edTPuUL0L3yPOp4VzUabyWHE1yZmzqWWDdGNwgrIUg3VkcIKyFoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45587/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.250.255/tcp/16796/p2p/16Uiu2HAmDpoCc2cgwz8SJQokpmQynTTKbzwquaxrSgQtSjzRB6YC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16795/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45587/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16795/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45587/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id adc8335b04a3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e9c2adf23594
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container adc8335b04a3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.