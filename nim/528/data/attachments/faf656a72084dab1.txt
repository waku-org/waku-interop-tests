[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-15_12-47-34__820a01ef-9137-47f3-a87a-d387156f11c3
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-15_12-47-34__820a01ef-9137-47f3-a87a-d387156f11c3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.253.60
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60413', '60414', '60415', '60416', '60417']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60413:60413 -p 60414:60414 -p 60415:60415 -p 60416:60416 -p 60417:60417 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60415 --rest-port=60413 --tcp-port=60414 --discv5-udp-port=60416 --rest-address=0.0.0.0 --nat=extip:172.18.253.60 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=22d8af4c4efd56b0dcb3b07a7d9bf1cbb824abc591667a7be2fe56e92e59f0aa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60417 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.253.60 waku 97f441e5bcf5df924c1f8dea216cb4fa0ddbf9534a95ae1f402a5ae1948dcc76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 97f441e5bcf5. Setting up logs at ./log/docker/node1_2024-12-15_12-47-34__820a01ef-9137-47f3-a87a-d387156f11c3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60413
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dc0846f3a66c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60413/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60413/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.60/tcp/60414/p2p/16Uiu2HAmB6AAH89j58TzFhZJpjkfx8JArX6rU7akPfZ4JEgMWAe5","/ip4/172.18.253.60/tcp/60415/ws/p2p/16Uiu2HAmB6AAH89j58TzFhZJpjkfx8JArX6rU7akPfZ4JEgMWAe5"],"enrUri":"enr:-L24QMjIYC-ZtpuUDnaP-nBffmsjCdUp2gbR0A_waBPa2YQ4LrqEYMHHxlV0gZtyMq9O37WxbrMe--7myS_EjlvqAlACgmlkgnY0gmlwhKwS_TyKbXVsdGlhZGRyc5YACASsEv08Buv-AAoErBL9PAbr_90DgnJzhQADAQAAiXNlY3AyNTZrMaEC6Ls9HsIfL9zBOtb-3Xibxkuwgqgbi4BJVasQ_57lBJKDdGNwguv-g3VkcILsAIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-15_12-47-34__820a01ef-9137-47f3-a87a-d387156f11c3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.112.107
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27990', '27991', '27992', '27993', '27994']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27990:27990 -p 27991:27991 -p 27992:27992 -p 27993:27993 -p 27994:27994 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27992 --rest-port=27990 --tcp-port=27991 --discv5-udp-port=27993 --rest-address=0.0.0.0 --nat=extip:172.18.112.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=176b7233f048d00af8212bcc8d0a39f8d04fd62b3ebb0acf0a6df6542dd34a9c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27994 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMjIYC-ZtpuUDnaP-nBffmsjCdUp2gbR0A_waBPa2YQ4LrqEYMHHxlV0gZtyMq9O37WxbrMe--7myS_EjlvqAlACgmlkgnY0gmlwhKwS_TyKbXVsdGlhZGRyc5YACASsEv08Buv-AAoErBL9PAbr_90DgnJzhQADAQAAiXNlY3AyNTZrMaEC6Ls9HsIfL9zBOtb-3Xibxkuwgqgbi4BJVasQ_57lBJKDdGNwguv-g3VkcILsAIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.112.107 waku 5c75b74e86fef6592377faf1562e2fa3e176742fce3bf94707f466c33f86de31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5c75b74e86fe. Setting up logs at ./log/docker/node2_2024-12-15_12-47-34__820a01ef-9137-47f3-a87a-d387156f11c3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 27990
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27990/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27990/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.112.107/tcp/27991/p2p/16Uiu2HAmT8xXnwrtf9WJN7uChAa8uR2YaSvnm2NprJ5s8o48XFR5","/ip4/172.18.112.107/tcp/27992/ws/p2p/16Uiu2HAmT8xXnwrtf9WJN7uChAa8uR2YaSvnm2NprJ5s8o48XFR5"],"enrUri":"enr:-L24QKydj1IXiIBddoGNb5nP5bkgT_4fg1NtQ21-9fsZLWRFHI9qhnuW1ybFKc7o4BSQjrlIsGEU2o_bEpv_BGl4TtYCgmlkgnY0gmlwhKwScGuKbXVsdGlhZGRyc5YACASsEnBrBm1XAAoErBJwawZtWN0DgnJzhQADAQAAiXNlY3AyNTZrMaED1y3SrliDDyOpi_eKdE5J7iH9-A_TI669JEtQUZSnKWyDdGNwgm1Xg3VkcIJtWYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27990/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.253.60/tcp/60414/p2p/16Uiu2HAmB6AAH89j58TzFhZJpjkfx8JArX6rU7akPfZ4JEgMWAe5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-15_12-47-34__820a01ef-9137-47f3-a87a-d387156f11c3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.87.66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60667', '60668', '60669', '60670', '60671']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60667:60667 -p 60668:60668 -p 60669:60669 -p 60670:60670 -p 60671:60671 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60669 --rest-port=60667 --tcp-port=60668 --discv5-udp-port=60670 --rest-address=0.0.0.0 --nat=extip:172.18.87.66 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e6efe8cdefafeeffa0dfda3d5eccf487f0d22dd9bf87b902e3a16cae4fbca593 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60671 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMjIYC-ZtpuUDnaP-nBffmsjCdUp2gbR0A_waBPa2YQ4LrqEYMHHxlV0gZtyMq9O37WxbrMe--7myS_EjlvqAlACgmlkgnY0gmlwhKwS_TyKbXVsdGlhZGRyc5YACASsEv08Buv-AAoErBL9PAbr_90DgnJzhQADAQAAiXNlY3AyNTZrMaEC6Ls9HsIfL9zBOtb-3Xibxkuwgqgbi4BJVasQ_57lBJKDdGNwguv-g3VkcILsAIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.87.66 waku e18516fbb0d88bfd296520b62af33d5d8f88277915b7bbe0961b1b1452867acd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e18516fbb0d8. Setting up logs at ./log/docker/node3_2024-12-15_12-47-34__820a01ef-9137-47f3-a87a-d387156f11c3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60667
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60667/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60667/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.87.66/tcp/60668/p2p/16Uiu2HAm1SGvjjVyVc7hjfb7RmJA9Co6wAfnkSVgNDDCJLNCQqHd","/ip4/172.18.87.66/tcp/60669/ws/p2p/16Uiu2HAm1SGvjjVyVc7hjfb7RmJA9Co6wAfnkSVgNDDCJLNCQqHd"],"enrUri":"enr:-L24QJUYXu_R4d-QVIKRNa1TtynaQr6Avm3eSHa2ujxhFOdyKPxhNfpV1P9Qq14AIW9HeONwr7xd44jEycB_EhHlmUsCgmlkgnY0gmlwhKwSV0KKbXVsdGlhZGRyc5YACASsEldCBuz8AAoErBJXQgbs_d0DgnJzhQADAQAAiXNlY3AyNTZrMaECWU2i-NNmk-XbAIvAwTd6rkegOb0eVsefzSURMmG8PiyDdGNwguz8g3VkcILs_oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60667/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.253.60/tcp/60414/p2p/16Uiu2HAmB6AAH89j58TzFhZJpjkfx8JArX6rU7akPfZ4JEgMWAe5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-15_12-47-34__820a01ef-9137-47f3-a87a-d387156f11c3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.71.36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2074', '2075', '2076', '2077', '2078']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2074:2074 -p 2075:2075 -p 2076:2076 -p 2077:2077 -p 2078:2078 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2076 --rest-port=2074 --tcp-port=2075 --discv5-udp-port=2077 --rest-address=0.0.0.0 --nat=extip:172.18.71.36 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8d48eab8bebfeeccb4e713c0c6e2abf7cbbbf7a9e6c2a7b012d9edbeba7f7c94 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2078 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMjIYC-ZtpuUDnaP-nBffmsjCdUp2gbR0A_waBPa2YQ4LrqEYMHHxlV0gZtyMq9O37WxbrMe--7myS_EjlvqAlACgmlkgnY0gmlwhKwS_TyKbXVsdGlhZGRyc5YACASsEv08Buv-AAoErBL9PAbr_90DgnJzhQADAQAAiXNlY3AyNTZrMaEC6Ls9HsIfL9zBOtb-3Xibxkuwgqgbi4BJVasQ_57lBJKDdGNwguv-g3VkcILsAIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.71.36 waku 0708752ebae44a679c119b03d7902e16339cc57a13b45fe8f44c45fd4c13d497
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0708752ebae4. Setting up logs at ./log/docker/node4_2024-12-15_12-47-34__820a01ef-9137-47f3-a87a-d387156f11c3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2074
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2074/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2074/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.71.36/tcp/2075/p2p/16Uiu2HAm1akiFCaQQUFT8i62L8aM1piTcc2iwha2bbziKDf96bg7","/ip4/172.18.71.36/tcp/2076/ws/p2p/16Uiu2HAm1akiFCaQQUFT8i62L8aM1piTcc2iwha2bbziKDf96bg7"],"enrUri":"enr:-L24QI7xdLV9FK11JiR4p1e0WL9I0feDXQm-AOftzw0AOL24YlIFEHCZGYEguPXxRkR21s5VaE6MwBOBGF1Y-HCUcVYCgmlkgnY0gmlwhKwSRySKbXVsdGlhZGRyc5YACASsEkckBggbAAoErBJHJAYIHN0DgnJzhQADAQAAiXNlY3AyNTZrMaECW3mzAki9bVPLTGuDIb_mLTABQf8dRcrix-rCjzbci6yDdGNwgggbg3VkcIIIHYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2074/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.253.60/tcp/60414/p2p/16Uiu2HAmB6AAH89j58TzFhZJpjkfx8JArX6rU7akPfZ4JEgMWAe5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-15_12-47-34__820a01ef-9137-47f3-a87a-d387156f11c3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.250.13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56070', '56071', '56072', '56073', '56074']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56070:56070 -p 56071:56071 -p 56072:56072 -p 56073:56073 -p 56074:56074 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56072 --rest-port=56070 --tcp-port=56071 --discv5-udp-port=56073 --rest-address=0.0.0.0 --nat=extip:172.18.250.13 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=edde29993a9aeacfa2bb056a2cdb54dd5fc283d719a5f086bf2cabe9ce16a244 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56074 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMjIYC-ZtpuUDnaP-nBffmsjCdUp2gbR0A_waBPa2YQ4LrqEYMHHxlV0gZtyMq9O37WxbrMe--7myS_EjlvqAlACgmlkgnY0gmlwhKwS_TyKbXVsdGlhZGRyc5YACASsEv08Buv-AAoErBL9PAbr_90DgnJzhQADAQAAiXNlY3AyNTZrMaEC6Ls9HsIfL9zBOtb-3Xibxkuwgqgbi4BJVasQ_57lBJKDdGNwguv-g3VkcILsAIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.250.13 waku e7e186c509aafe0aa89fd702a3bbc548b018e4dc26d07733f93d6b2004c7d4c4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e7e186c509aa. Setting up logs at ./log/docker/node5_2024-12-15_12-47-34__820a01ef-9137-47f3-a87a-d387156f11c3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 56070
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56070/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56070/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.13/tcp/56071/p2p/16Uiu2HAm3c78b6ukKZD33g7hfFzXscJALYTeMcV2vHFKR9fuZPd7","/ip4/172.18.250.13/tcp/56072/ws/p2p/16Uiu2HAm3c78b6ukKZD33g7hfFzXscJALYTeMcV2vHFKR9fuZPd7"],"enrUri":"enr:-L24QNg3BMgS6eH8Wn92OwXUqfYxIU5BdVH__qrD-NFYkSLLCr6ANvWfG9zd3ilL4uEJs6Cp5DAjSA4rBFjTNwn2--cCgmlkgnY0gmlwhKwS-g2KbXVsdGlhZGRyc5YACASsEvoNBtsHAAoErBL6DQbbCN0DgnJzhQADAQAAiXNlY3AyNTZrMaECeYm-GAsK3w5KDi80QyRwqVOM6XgucHGYkrEkIwHcj0aDdGNwgtsHg3VkcILbCYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56070/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.253.60/tcp/60414/p2p/16Uiu2HAmB6AAH89j58TzFhZJpjkfx8JArX6rU7akPfZ4JEgMWAe5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60413/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27990/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60667/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2074/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56070/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60413/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60413/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734266860939885056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27990/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734266860939885056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60667/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734266860939885056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2074/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734266860939885056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56070/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734266860939885056,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60413/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60413/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734266861062861824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27990/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734266861062861824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60667/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734266861062861824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2074/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734266861062861824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56070/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734266861062861824,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 97f441e5bcf5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5c75b74e86fe
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 97f441e5bcf5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e18516fbb0d8
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5c75b74e86fe. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0708752ebae4
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e18516fbb0d8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e7e186c509aa
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0708752ebae4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.