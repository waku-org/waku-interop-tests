[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-02_04-18-10__41171d03-7af9-44e9-987e-196bf3e60ca7
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-02_04-18-10__41171d03-7af9-44e9-987e-196bf3e60ca7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.123.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33634', '33635', '33636', '33637', '33638']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33634:33634 -p 33635:33635 -p 33636:33636 -p 33637:33637 -p 33638:33638 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33636 --rest-port=33634 --tcp-port=33635 --discv5-udp-port=33637 --rest-address=0.0.0.0 --nat=extip:172.18.123.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cfab845de81ebf5657cd793bd071dcce91de17d7e400f3b6dc33089feb6fd0d0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33638 --metrics-logging=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b5fc5b1f8231. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.123.90 waku a91c0d1898066592b590e7737a3e7ce260e571fb9a6301d57c71feba1312ab43
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a91c0d189806. Setting up logs at ./log/docker/node1_2024-12-02_04-18-10__41171d03-7af9-44e9-987e-196bf3e60ca7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 33634
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33634/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33634/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.90/tcp/33635/p2p/16Uiu2HAmUZtsvq4wrpf5MGZYEuMvS9uJMnot8vCn9bi2U3yNyTRE","/ip4/172.18.123.90/tcp/33636/ws/p2p/16Uiu2HAmUZtsvq4wrpf5MGZYEuMvS9uJMnot8vCn9bi2U3yNyTRE"],"enrUri":"enr:-L24QCVWvnC1O1anno47X2aEf0pxkC14Vl4H0GbQbzQDTkqZBKkBTSyG6HDi-gNdVxrlvfOHAIX6XTPESWnuE3sh-AQCgmlkgnY0gmlwhKwSe1qKbXVsdGlhZGRyc5YACASsEntaBoNjAAoErBJ7WgaDZN0DgnJzhQADAQAAiXNlY3AyNTZrMaED7GzmXSjHNQeSehWSLssaWENJtaITakI7aGrHylxu7DWDdGNwgoNjg3VkcIKDZYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-02_04-18-10__41171d03-7af9-44e9-987e-196bf3e60ca7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.167.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2545', '2546', '2547', '2548', '2549']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2545:2545 -p 2546:2546 -p 2547:2547 -p 2548:2548 -p 2549:2549 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2547 --rest-port=2545 --tcp-port=2546 --discv5-udp-port=2548 --rest-address=0.0.0.0 --nat=extip:172.18.167.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fabe6178f45bec5f540ab730dd9a456fa55a33eeacb6bf2e43e0ce5017cbe352 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2549 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCVWvnC1O1anno47X2aEf0pxkC14Vl4H0GbQbzQDTkqZBKkBTSyG6HDi-gNdVxrlvfOHAIX6XTPESWnuE3sh-AQCgmlkgnY0gmlwhKwSe1qKbXVsdGlhZGRyc5YACASsEntaBoNjAAoErBJ7WgaDZN0DgnJzhQADAQAAiXNlY3AyNTZrMaED7GzmXSjHNQeSehWSLssaWENJtaITakI7aGrHylxu7DWDdGNwgoNjg3VkcIKDZYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.167.15 waku e1b5118540804f787592760469ed297445f8947fd9addab68ea9b0344319f34c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e1b511854080. Setting up logs at ./log/docker/node2_2024-12-02_04-18-10__41171d03-7af9-44e9-987e-196bf3e60ca7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2545
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2545/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2545/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.167.15/tcp/2546/p2p/16Uiu2HAmHFHZ1kosyzJCjaS6daC7gBoax9c7y7g8brmzwRwmvmbE","/ip4/172.18.167.15/tcp/2547/ws/p2p/16Uiu2HAmHFHZ1kosyzJCjaS6daC7gBoax9c7y7g8brmzwRwmvmbE"],"enrUri":"enr:-L24QMTlAPHZ7z8TXs5fRDhzWaqXn8FOJn0R8gJRQtnvMYQ1F9NQuyiD7x685Eu8j49vSePNveLxq6rGripnYiWqeIACgmlkgnY0gmlwhKwSpw-KbXVsdGlhZGRyc5YACASsEqcPBgnyAAoErBKnDwYJ890DgnJzhQADAQAAiXNlY3AyNTZrMaEDRDfyG4g-L-2gpgs-6RYeBBbwGRUzeHqoQB-DeTPlhLmDdGNwggnyg3VkcIIJ9IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2545/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.123.90/tcp/33635/p2p/16Uiu2HAmUZtsvq4wrpf5MGZYEuMvS9uJMnot8vCn9bi2U3yNyTRE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-02_04-18-10__41171d03-7af9-44e9-987e-196bf3e60ca7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.61.126
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3003', '3004', '3005', '3006', '3007']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3003:3003 -p 3004:3004 -p 3005:3005 -p 3006:3006 -p 3007:3007 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3005 --rest-port=3003 --tcp-port=3004 --discv5-udp-port=3006 --rest-address=0.0.0.0 --nat=extip:172.18.61.126 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cfa52901e1ba9b7e416c4feaeacae9fc7c9d1c6a8b07d7ecdbffada0f89bdd3a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3007 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCVWvnC1O1anno47X2aEf0pxkC14Vl4H0GbQbzQDTkqZBKkBTSyG6HDi-gNdVxrlvfOHAIX6XTPESWnuE3sh-AQCgmlkgnY0gmlwhKwSe1qKbXVsdGlhZGRyc5YACASsEntaBoNjAAoErBJ7WgaDZN0DgnJzhQADAQAAiXNlY3AyNTZrMaED7GzmXSjHNQeSehWSLssaWENJtaITakI7aGrHylxu7DWDdGNwgoNjg3VkcIKDZYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.61.126 waku 8d841afba604b7ecba9b335d1896ba328b52656065bd25eed39f67b5937cf5a5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8d841afba604. Setting up logs at ./log/docker/node3_2024-12-02_04-18-10__41171d03-7af9-44e9-987e-196bf3e60ca7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3003
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3003/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3003/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.61.126/tcp/3004/p2p/16Uiu2HAmAwn7DL9KhGgH4BeY9oNusYoJ3NqZEJkHh52hyyWFh5di","/ip4/172.18.61.126/tcp/3005/ws/p2p/16Uiu2HAmAwn7DL9KhGgH4BeY9oNusYoJ3NqZEJkHh52hyyWFh5di"],"enrUri":"enr:-L24QFQWrnETPjr9kG86GOEdmea5Fo53yQvcfoPgcXiBQWPCA8maCGvzRn81y8UDSGAs9MWOSzrHnD2ovJHgnYoAF6YCgmlkgnY0gmlwhKwSPX6KbXVsdGlhZGRyc5YACASsEj1-Bgu8AAoErBI9fgYLvd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC5pWoM7XXF0VOticbqut0rkf23v6JKtRQxgVrCzuzmSGDdGNwggu8g3VkcIILvoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3003/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.123.90/tcp/33635/p2p/16Uiu2HAmUZtsvq4wrpf5MGZYEuMvS9uJMnot8vCn9bi2U3yNyTRE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-02_04-18-10__41171d03-7af9-44e9-987e-196bf3e60ca7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.163.112
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6857', '6858', '6859', '6860', '6861']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6857:6857 -p 6858:6858 -p 6859:6859 -p 6860:6860 -p 6861:6861 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6859 --rest-port=6857 --tcp-port=6858 --discv5-udp-port=6860 --rest-address=0.0.0.0 --nat=extip:172.18.163.112 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ca4dc4b5f3edae399ac0c3d6d4caa96de5e8cc57bed054ff8a4fbbd4e4bbabee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6861 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCVWvnC1O1anno47X2aEf0pxkC14Vl4H0GbQbzQDTkqZBKkBTSyG6HDi-gNdVxrlvfOHAIX6XTPESWnuE3sh-AQCgmlkgnY0gmlwhKwSe1qKbXVsdGlhZGRyc5YACASsEntaBoNjAAoErBJ7WgaDZN0DgnJzhQADAQAAiXNlY3AyNTZrMaED7GzmXSjHNQeSehWSLssaWENJtaITakI7aGrHylxu7DWDdGNwgoNjg3VkcIKDZYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.163.112 waku d421a8318a5429f037add2812732d563e7f4442b49675b660d0f6af42b933feb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d421a8318a54. Setting up logs at ./log/docker/node4_2024-12-02_04-18-10__41171d03-7af9-44e9-987e-196bf3e60ca7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 6857
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6857/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6857/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.163.112/tcp/6858/p2p/16Uiu2HAmFa7rmGF8EJy9Gai1NL2fbdz8cGSfXGc31JN2hK5CJY78","/ip4/172.18.163.112/tcp/6859/ws/p2p/16Uiu2HAmFa7rmGF8EJy9Gai1NL2fbdz8cGSfXGc31JN2hK5CJY78"],"enrUri":"enr:-L24QAFIKnZA0mDeN5ajrC-cS9f-brEB7CND560QTs0bmWH0RssQkeZtFKOJ7zSx22IpBarnFfGd9Q790dacDO5whpECgmlkgnY0gmlwhKwSo3CKbXVsdGlhZGRyc5YACASsEqNwBhrKAAoErBKjcAYay90DgnJzhQADAQAAiXNlY3AyNTZrMaEDK1OlcNfMJS5IAFHiKdxbEQzoiy1yNzrzWFjBoY1AFxeDdGNwghrKg3VkcIIazIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6857/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.123.90/tcp/33635/p2p/16Uiu2HAmUZtsvq4wrpf5MGZYEuMvS9uJMnot8vCn9bi2U3yNyTRE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-02_04-18-10__41171d03-7af9-44e9-987e-196bf3e60ca7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.136.24
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3367', '3368', '3369', '3370', '3371']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3367:3367 -p 3368:3368 -p 3369:3369 -p 3370:3370 -p 3371:3371 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3369 --rest-port=3367 --tcp-port=3368 --discv5-udp-port=3370 --rest-address=0.0.0.0 --nat=extip:172.18.136.24 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abc38d0ed3f1f9f8ca66bd2fcf57fb7f00d8edb277722efe3f8bbf2abff70dee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3371 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCVWvnC1O1anno47X2aEf0pxkC14Vl4H0GbQbzQDTkqZBKkBTSyG6HDi-gNdVxrlvfOHAIX6XTPESWnuE3sh-AQCgmlkgnY0gmlwhKwSe1qKbXVsdGlhZGRyc5YACASsEntaBoNjAAoErBJ7WgaDZN0DgnJzhQADAQAAiXNlY3AyNTZrMaED7GzmXSjHNQeSehWSLssaWENJtaITakI7aGrHylxu7DWDdGNwgoNjg3VkcIKDZYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.136.24 waku 22193ffee63d0b7d9a76efe3eedd769f27f35253c938db9e9b99138b32ab0d17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 22193ffee63d. Setting up logs at ./log/docker/node5_2024-12-02_04-18-10__41171d03-7af9-44e9-987e-196bf3e60ca7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3367
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3367/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3367/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.136.24/tcp/3368/p2p/16Uiu2HAmCEFqgk7hVGtDHVPProMfWFZYhay7ba46i6SwgCu5GU1m","/ip4/172.18.136.24/tcp/3369/ws/p2p/16Uiu2HAmCEFqgk7hVGtDHVPProMfWFZYhay7ba46i6SwgCu5GU1m"],"enrUri":"enr:-L24QBuLmpxu1wNVi9n9DwlrHOUBREH_hp4N2jg0Xj1wCx03JdZsPTUdCTeyFfpGT7ZIzukQiMqOLiBfHpZM3vkSoZwCgmlkgnY0gmlwhKwSiBiKbXVsdGlhZGRyc5YACASsEogYBg0oAAoErBKIGAYNKd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC-an-cLdkerdfoHfyVrbcj9fBdlf6grK9DfIAd7fgLlCDdGNwgg0og3VkcIINKoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3367/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.123.90/tcp/33635/p2p/16Uiu2HAmUZtsvq4wrpf5MGZYEuMvS9uJMnot8vCn9bi2U3yNyTRE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33634/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2545/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3003/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6857/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3367/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33634/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33634/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733113099200950528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733113099200950528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3003/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733113099200950528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6857/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733113099200950528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3367/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733113099200950528,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33634/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33634/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733113099369254400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733113099369254400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3003/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733113099369254400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6857/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733113099369254400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3367/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733113099369254400,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a91c0d189806
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e1b511854080
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a91c0d189806. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8d841afba604
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e1b511854080. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d421a8318a54
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8d841afba604. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 22193ffee63d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d421a8318a54. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.