[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_matches_multiple_messages with id: 2024-11-14_04-39-09__651ee8da-761f-4317-8a5e-10411a244962
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-14_04-39-09__651ee8da-761f-4317-8a5e-10411a244962__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.187.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48783', '48784', '48785', '48786', '48787']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48783:48783 -p 48784:48784 -p 48785:48785 -p 48786:48786 -p 48787:48787 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48785 --rest-port=48783 --tcp-port=48784 --discv5-udp-port=48786 --rest-address=0.0.0.0 --nat=extip:172.18.187.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a5edad4b5c734aca0cf4f3018ababfb7cc8afbdaefb2b3f4283edef0aea3a876 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48787 --metrics-logging=true --store=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a587f8ad1497. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.187.246 waku 0650b6f47903983f95d48af30397a6e569433d9943c4c2746cb5354b45c8b2ba
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0650b6f47903. Setting up logs at ./log/docker/publishing_node1_2024-11-14_04-39-09__651ee8da-761f-4317-8a5e-10411a244962__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 48783
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48783/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48783/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.246/tcp/48784/p2p/16Uiu2HAmRbURKookXnGfsmZwaiGfU9RYtudt6E3z8D3f6AnhN5kV","/ip4/172.18.187.246/tcp/48785/ws/p2p/16Uiu2HAmRbURKookXnGfsmZwaiGfU9RYtudt6E3z8D3f6AnhN5kV"],"enrUri":"enr:-L24QPXxCkYGGTnqdnPDJFacXBODugSYD89FSJELpF7g-EoiXjhJcSUltN2kFkjTmMkBGQSiQDLJOIfBYgQHBDBMbdMCgmlkgnY0gmlwhKwSu_aKbXVsdGlhZGRyc5YACASsErv2Br6QAAoErBK79ga-kd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDwEFYXUGGKOzqI8N9bVGkyHBBDTB2adq4AyggXYDeGhKDdGNwgr6Qg3VkcIK-koV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-14_04-39-09__651ee8da-761f-4317-8a5e-10411a244962__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.202.122
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38343', '38344', '38345', '38346', '38347']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38343:38343 -p 38344:38344 -p 38345:38345 -p 38346:38346 -p 38347:38347 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38345 --rest-port=38343 --tcp-port=38344 --discv5-udp-port=38346 --rest-address=0.0.0.0 --nat=extip:172.18.202.122 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fb9d42bda51c08c9df0bcaeecea2d541ddc6fb10e3b8baece7966c557c43c1ab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38347 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPXxCkYGGTnqdnPDJFacXBODugSYD89FSJELpF7g-EoiXjhJcSUltN2kFkjTmMkBGQSiQDLJOIfBYgQHBDBMbdMCgmlkgnY0gmlwhKwSu_aKbXVsdGlhZGRyc5YACASsErv2Br6QAAoErBK79ga-kd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDwEFYXUGGKOzqI8N9bVGkyHBBDTB2adq4AyggXYDeGhKDdGNwgr6Qg3VkcIK-koV3YWt1MgM --storenode=/ip4/172.18.187.246/tcp/48784/p2p/16Uiu2HAmRbURKookXnGfsmZwaiGfU9RYtudt6E3z8D3f6AnhN5kV --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.202.122 waku 0706ded42734149b19cf55bf737dac20c1baa76aa95c8581a2b673ef6c567f63
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0706ded42734. Setting up logs at ./log/docker/store_node1_2024-11-14_04-39-09__651ee8da-761f-4317-8a5e-10411a244962__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 38343
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38343/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38343/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.202.122/tcp/38344/p2p/16Uiu2HAm66Eao81nhWCFzAi9yhDJ2SmEpGP5gDtZwdoZNrMkwo7Z","/ip4/172.18.202.122/tcp/38345/ws/p2p/16Uiu2HAm66Eao81nhWCFzAi9yhDJ2SmEpGP5gDtZwdoZNrMkwo7Z"],"enrUri":"enr:-L24QFMjF_4kgrlHYoL3astiazBoFicr3euZPIq1-xMO4foICBO1HjGhkNvb9tSH7VqkkNwzf5B_uhGhL1iOH5NXPkkCgmlkgnY0gmlwhKwSynqKbXVsdGlhZGRyc5YACASsEsp6BpXIAAoErBLKegaVyd0DgnJzhQADAQAAiXNlY3AyNTZrMaECnnXODX3Z8t8D4OL6hfORpW0Wsa5crOwoSEgeLsu0n1SDdGNwgpXIg3VkcIKVyoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38343/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.187.246/tcp/48784/p2p/16Uiu2HAmRbURKookXnGfsmZwaiGfU9RYtudt6E3z8D3f6AnhN5kV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48783/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38343/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48783/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48783/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48783/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48783/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48783/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48783/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48783/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1731559159425522016&endTime=1731559164425741984&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"rMwZp0xoCXtZNoSaSmNmyruRoDMgnvLSLI8u9Ie1o3E="},{"messageHash":"xhtSrjSvWEUIjwTndOGxFDLkoXbvCcv2yOAd0QuxA7I="},{"messageHash":"0HwVuZCq4QJTjjU9tv68yEUOb7KMW2ghB+OkuQG5h/0="},{"messageHash":"oT3+hMD64ZacNiuvi6YoBHvEn+mqDsLMdp3JPMNEkyQ="},{"messageHash":"JC0fhIYqOaNA43CVhOfd+VyR3iywEYshc5D/dZfjXe8="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38343/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1731559159425522016&endTime=1731559164425741984&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"rMwZp0xoCXtZNoSaSmNmyruRoDMgnvLSLI8u9Ie1o3E="},{"messageHash":"xhtSrjSvWEUIjwTndOGxFDLkoXbvCcv2yOAd0QuxA7I="},{"messageHash":"0HwVuZCq4QJTjjU9tv68yEUOb7KMW2ghB+OkuQG5h/0="},{"messageHash":"oT3+hMD64ZacNiuvi6YoBHvEn+mqDsLMdp3JPMNEkyQ="},{"messageHash":"JC0fhIYqOaNA43CVhOfd+VyR3iywEYshc5D/dZfjXe8="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 0650b6f47903
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 0706ded42734
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0650b6f47903. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.