[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_edge_service_nodes_communication with id: 2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node6_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node7_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node8_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:438 Start 2 edges nodes and 3 service nodes 
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.64.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15125', '15126', '15127', '15128', '15129']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15125:15125 -p 15126:15126 -p 15127:15127 -p 15128:15128 -p 15129:15129 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15127 --rest-port=15125 --tcp-port=15126 --discv5-udp-port=15128 --rest-address=0.0.0.0 --nat=extip:172.18.64.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bf1f03efacddb3f0a11a4ab6fad2e4ea1af626ba6bb27c1a5fe4a1ec297dd4af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15129 --metrics-logging=true --relay=true --store=true --lightpush=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6defd4174ec6. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.64.98 waku 224713dfd953ba41f5956f3e1fb6c88d722726fd26825db765c5e1f00d028676
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 224713dfd953. Setting up logs at ./log/docker/node6_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 15125
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15125/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15125/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.64.98/tcp/15126/p2p/16Uiu2HAmNDmwjz2yU3AJsdSM6PUeiPY91TDzQu5JzWB4YhLYNXF8","/ip4/172.18.64.98/tcp/15127/ws/p2p/16Uiu2HAmNDmwjz2yU3AJsdSM6PUeiPY91TDzQu5JzWB4YhLYNXF8"],"enrUri":"enr:-L24QKBhjAUb1Cwaqelgq1F2Hx91tjtMxH8aAVSBv8_CasIPcgwOefNK7wbvmseGZId3OyCDKFv1KlX6mHItgTDZODUCgmlkgnY0gmlwhKwSQGKKbXVsdGlhZGRyc5YACASsEkBiBjsWAAoErBJAYgY7F90DgnJzhQADAQAAiXNlY3AyNTZrMaEDjh9ST67EUjTRBMzheFnu9SpgL1SDnJGsB2s-zoBM1QODdGNwgjsWg3VkcII7GIV3YWt1Mgs"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.131.63
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30660', '30661', '30662', '30663', '30664']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30660:30660 -p 30661:30661 -p 30662:30662 -p 30663:30663 -p 30664:30664 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30662 --rest-port=30660 --tcp-port=30661 --discv5-udp-port=30663 --rest-address=0.0.0.0 --nat=extip:172.18.131.63 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b242ffed106003a9dbdd505a8e9b7ad088fe0f9c18c9fc6aeb0ddcf5cfbfee3c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30664 --metrics-logging=true --relay=false --lightpushnode=/ip4/172.18.64.98/tcp/15126/p2p/16Uiu2HAmNDmwjz2yU3AJsdSM6PUeiPY91TDzQu5JzWB4YhLYNXF8 --discv5-bootstrap-node=enr:-L24QKBhjAUb1Cwaqelgq1F2Hx91tjtMxH8aAVSBv8_CasIPcgwOefNK7wbvmseGZId3OyCDKFv1KlX6mHItgTDZODUCgmlkgnY0gmlwhKwSQGKKbXVsdGlhZGRyc5YACASsEkBiBjsWAAoErBJAYgY7F90DgnJzhQADAQAAiXNlY3AyNTZrMaEDjh9ST67EUjTRBMzheFnu9SpgL1SDnJGsB2s-zoBM1QODdGNwgjsWg3VkcII7GIV3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.131.63 waku aec5a25c8db05a071203753a432a7258820a2a2cace5e9938d55d60e176a8371
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID aec5a25c8db0. Setting up logs at ./log/docker/node4_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30660
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30660/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30660/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.63/tcp/30661/p2p/16Uiu2HAmCbY83Q1ojSFASo5jTd2RJ8jr7xnVB1SV3rRAm9EESWrH","/ip4/172.18.131.63/tcp/30662/ws/p2p/16Uiu2HAmCbY83Q1ojSFASo5jTd2RJ8jr7xnVB1SV3rRAm9EESWrH"],"enrUri":"enr:-L24QD1KQytquveHP04zivOQQd03qNDVrGCYJrn-xw__oVjpXbAB3vfwEk78ciNOCyiUq6HYtgpSmS3CBFSrBiQOU0kCgmlkgnY0gmlwhKwSgz-KbXVsdGlhZGRyc5YACASsEoM_BnfFAAoErBKDPwZ3xt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC_x2Z3C2rfpxsy4-4u5l7-I8q9oC_M7o2mqr9QoWOJhaDdGNwgnfFg3VkcIJ3x4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.254.199
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20606', '20607', '20608', '20609', '20610']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20606:20606 -p 20607:20607 -p 20608:20608 -p 20609:20609 -p 20610:20610 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20608 --rest-port=20606 --tcp-port=20607 --discv5-udp-port=20609 --rest-address=0.0.0.0 --nat=extip:172.18.254.199 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d798af7bb4a8c9afcc517604abddfe68f3497b80bcbba80af393ebccca5a73a8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20610 --metrics-logging=true --relay=true --store=true --discv5-bootstrap-node=enr:-L24QKBhjAUb1Cwaqelgq1F2Hx91tjtMxH8aAVSBv8_CasIPcgwOefNK7wbvmseGZId3OyCDKFv1KlX6mHItgTDZODUCgmlkgnY0gmlwhKwSQGKKbXVsdGlhZGRyc5YACASsEkBiBjsWAAoErBJAYgY7F90DgnJzhQADAQAAiXNlY3AyNTZrMaEDjh9ST67EUjTRBMzheFnu9SpgL1SDnJGsB2s-zoBM1QODdGNwgjsWg3VkcII7GIV3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.254.199 waku ce975744f45d4c0e5fbf6533ebaaf0399de51e02141b8efd062280f1e2346fab
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ce975744f45d. Setting up logs at ./log/docker/node7_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 20606
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20606/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20606/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.254.199/tcp/20607/p2p/16Uiu2HAm2spPpejgAXRLEBan4X6PcAXmCHY7QvvFgvurKfrhv4TK","/ip4/172.18.254.199/tcp/20608/ws/p2p/16Uiu2HAm2spPpejgAXRLEBan4X6PcAXmCHY7QvvFgvurKfrhv4TK"],"enrUri":"enr:-L24QDQfmtX-Jb_PSP3zE3x4My_dOe29zdgAe55SVoHkTObQT5E512PvoVI7OWbxQNQto3OL5-jYKncAwRu6ujUArA0CgmlkgnY0gmlwhKwS_seKbXVsdGlhZGRyc5YACASsEv7HBlB_AAoErBL-xwZQgN0DgnJzhQADAQAAiXNlY3AyNTZrMaECbrRscFiawMCqHOVh4Gljxy7Le5lwWZ9zmTwV7r0bVUqDdGNwglB_g3VkcIJQgYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.171.174
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49720', '49721', '49722', '49723', '49724']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49720:49720 -p 49721:49721 -p 49722:49722 -p 49723:49723 -p 49724:49724 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49722 --rest-port=49720 --tcp-port=49721 --discv5-udp-port=49723 --rest-address=0.0.0.0 --nat=extip:172.18.171.174 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7b9e6e36ea7a9f53cbbabda4a4aa5ff6cca94b7afaaa60f1bfe3cff33ae0cba4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49724 --metrics-logging=true --relay=true --filter=true --storenode=/ip4/172.18.254.199/tcp/20607/p2p/16Uiu2HAm2spPpejgAXRLEBan4X6PcAXmCHY7QvvFgvurKfrhv4TK --discv5-bootstrap-node=enr:-L24QDQfmtX-Jb_PSP3zE3x4My_dOe29zdgAe55SVoHkTObQT5E512PvoVI7OWbxQNQto3OL5-jYKncAwRu6ujUArA0CgmlkgnY0gmlwhKwS_seKbXVsdGlhZGRyc5YACASsEv7HBlB_AAoErBL-xwZQgN0DgnJzhQADAQAAiXNlY3AyNTZrMaECbrRscFiawMCqHOVh4Gljxy7Le5lwWZ9zmTwV7r0bVUqDdGNwglB_g3VkcIJQgYV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.171.174 waku fc4694d0f2e8d7d56153a454de54b28f457ef797fe4b34619da41d1bf69aeb84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fc4694d0f2e8. Setting up logs at ./log/docker/node8_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 49720
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49720/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49720/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.174/tcp/49721/p2p/16Uiu2HAmQZbbhJp88oQwC7rbp5keMhdb822iksjpqFEreyvZ67rV","/ip4/172.18.171.174/tcp/49722/ws/p2p/16Uiu2HAmQZbbhJp88oQwC7rbp5keMhdb822iksjpqFEreyvZ67rV"],"enrUri":"enr:-L24QGNEi7LlxpXEPpdtn-JUD1bHoIxhnHcvVj-PM6nt6-JZS_i6x5mrZRaT50qfx1Mrn8s1W9ngr3srgPxNBWXfL0YCgmlkgnY0gmlwhKwSq66KbXVsdGlhZGRyc5YACASsEquuBsI5AAoErBKrrgbCOt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsOqdHVs5F5eI9Z2xwA5HopO8NomH_AXyvISPtNjwpnaDdGNwgsI5g3VkcILCO4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.97.232
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55864', '55865', '55866', '55867', '55868']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55864:55864 -p 55865:55865 -p 55866:55866 -p 55867:55867 -p 55868:55868 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55866 --rest-port=55864 --tcp-port=55865 --discv5-udp-port=55867 --rest-address=0.0.0.0 --nat=extip:172.18.97.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbd4be3fcedccff6abdef3bcf6bfc59b1ebb57741ee194c97e948a129e026bb9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55868 --metrics-logging=true --relay=false --filternode=/ip4/172.18.171.174/tcp/49721/p2p/16Uiu2HAmQZbbhJp88oQwC7rbp5keMhdb822iksjpqFEreyvZ67rV --storenode=/ip4/172.18.254.199/tcp/20607/p2p/16Uiu2HAm2spPpejgAXRLEBan4X6PcAXmCHY7QvvFgvurKfrhv4TK --discv5-bootstrap-node=enr:-L24QDQfmtX-Jb_PSP3zE3x4My_dOe29zdgAe55SVoHkTObQT5E512PvoVI7OWbxQNQto3OL5-jYKncAwRu6ujUArA0CgmlkgnY0gmlwhKwS_seKbXVsdGlhZGRyc5YACASsEv7HBlB_AAoErBL-xwZQgN0DgnJzhQADAQAAiXNlY3AyNTZrMaECbrRscFiawMCqHOVh4Gljxy7Le5lwWZ9zmTwV7r0bVUqDdGNwglB_g3VkcIJQgYV3YWt1MgM
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.170.63
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60352', '60353', '60354', '60355', '60356']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60352:60352 -p 60353:60353 -p 60354:60354 -p 60355:60355 -p 60356:60356 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60354 --rest-port=60352 --tcp-port=60353 --discv5-udp-port=60355 --rest-address=0.0.0.0 --nat=extip:172.18.170.63 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=36f1e0f3eb813c38bf63d64f9eee25c904aaf910324380ecc830e0633afadeec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60356 --metrics-logging=true --relay=false --filternode=/ip4/172.18.171.174/tcp/49721/p2p/16Uiu2HAmQZbbhJp88oQwC7rbp5keMhdb822iksjpqFEreyvZ67rV --storenode=/ip4/172.18.254.199/tcp/20607/p2p/16Uiu2HAm2spPpejgAXRLEBan4X6PcAXmCHY7QvvFgvurKfrhv4TK --discv5-bootstrap-node=enr:-L24QDQfmtX-Jb_PSP3zE3x4My_dOe29zdgAe55SVoHkTObQT5E512PvoVI7OWbxQNQto3OL5-jYKncAwRu6ujUArA0CgmlkgnY0gmlwhKwS_seKbXVsdGlhZGRyc5YACASsEv7HBlB_AAoErBL-xwZQgN0DgnJzhQADAQAAiXNlY3AyNTZrMaECbrRscFiawMCqHOVh4Gljxy7Le5lwWZ9zmTwV7r0bVUqDdGNwglB_g3VkcIJQgYV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.170.63 waku 1699002980f17b907ec7571a9748991d32b8260ecc7f9894063204cadbde9f5b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1699002980f1. Setting up logs at ./log/docker/node5_2024-12-05_08-02-38__617c6779-01de-4e0b-9d0b-a4b76cecc6bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60352
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60352/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60352/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.170.63/tcp/60353/p2p/16Uiu2HAkxh88btppNcu5D7CK6BfTYYqQLkktLu3NorsukrPfUePa","/ip4/172.18.170.63/tcp/60354/ws/p2p/16Uiu2HAkxh88btppNcu5D7CK6BfTYYqQLkktLu3NorsukrPfUePa"],"enrUri":"enr:-L24QMfvGbO3DoVVIlN49Vce8LXBBW47hicIr23fQZ2ky0pzKRW8ffJLp6083A9L4d5Goh7L-itW2yLKGFSZJoty7F0CgmlkgnY0gmlwhKwSqj-KbXVsdGlhZGRyc5YACASsEqo_BuvBAAoErBKqPwbrwt0DgnJzhQADAQAAiXNlY3AyNTZrMaECMIhXysNj51ZM1zoIntEnGVeniWygkb37kueyxHTxu2mDdGNwguvBg3VkcILrw4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:454 Connect 3 service nodes to relay subscriptions
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15125/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20606/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49720/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15125/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.254.199/tcp/20607/p2p/16Uiu2HAm2spPpejgAXRLEBan4X6PcAXmCHY7QvvFgvurKfrhv4TK","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20606/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.64.98/tcp/15126/p2p/16Uiu2HAmNDmwjz2yU3AJsdSM6PUeiPY91TDzQu5JzWB4YhLYNXF8","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true},{"protocol":"/vac/waku/lightpush/2.0.0-beta1","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49720/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.254.199/tcp/20607/p2p/16Uiu2HAm2spPpejgAXRLEBan4X6PcAXmCHY7QvvFgvurKfrhv4TK","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":false},{"protocol":"/vac/waku/store-query/3.0.0","connected":false}],"origin":"Discv5"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:460 Edge node2 makes filter subscription to pubsubtopic /waku/2/rs/3/1 and content topic /test/1/waku-filter/proto
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60352/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:465 Check if service node1 receives message sent by edge node1
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30660/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1733385801286087168}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15125/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733385801286087168,"ephemeral":false}]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:469 Check if edge node2 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60352/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6896daa30fc93b21b2ce","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"4bYnRlA11eHckigpIZ1flMB6oYHD27ylgDns8GYKh08="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:472 Check if service node3 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49720/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"bdb2c3b4ceb7b444f954","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"4bYnRlA11eHckigpIZ1flMB6oYHD27ylgDns8GYKh08="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:475 Check if edge node2 can get sent message using filter get request 
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60352/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733385801286087168,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 224713dfd953
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id aec5a25c8db0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 224713dfd953. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ce975744f45d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container aec5a25c8db0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fc4694d0f2e8
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ce975744f45d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1699002980f1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fc4694d0f2e8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.