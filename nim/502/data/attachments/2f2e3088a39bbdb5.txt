[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-12-05_04-18-00__8f8ebdf4-44e9-4f8d-a8b8-276fb2caf813
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-05_04-18-00__8f8ebdf4-44e9-4f8d-a8b8-276fb2caf813__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.192.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25893', '25894', '25895', '25896', '25897']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25893:25893 -p 25894:25894 -p 25895:25895 -p 25896:25896 -p 25897:25897 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25895 --rest-port=25893 --tcp-port=25894 --discv5-udp-port=25896 --rest-address=0.0.0.0 --nat=extip:172.18.192.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cd9aadceca4aca82fbeb2a2d534eafa43e1dfae350b6c1cccc581017631f4cdd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25897 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.192.161 waku 16bcb915c445c97961900317dfcf03949b74ed80b51690e8ed8a80cd9d9d03d5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 16bcb915c445. Setting up logs at ./log/docker/node1_2024-12-05_04-18-00__8f8ebdf4-44e9-4f8d-a8b8-276fb2caf813__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 25893
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 746cb91ee20c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25893/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25893/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.192.161/tcp/25894/p2p/16Uiu2HAm7Bzuivj7TPFxi36a6YsyToUMbDKELie9dAHPvLKfbZAr","/ip4/172.18.192.161/tcp/25895/ws/p2p/16Uiu2HAm7Bzuivj7TPFxi36a6YsyToUMbDKELie9dAHPvLKfbZAr"],"enrUri":"enr:-L24QPj4bBzBs6XcIM0WfaINNQG5teiIuexGsnDJO8QyUvGLdp4RAwqhrMPKjwMOyveOTgBJ_H9pI0Jpuvw7h136FUICgmlkgnY0gmlwhKwSwKGKbXVsdGlhZGRyc5YACASsEsChBmUmAAoErBLAoQZlJ90DgnJzhQADAQAAiXNlY3AyNTZrMaECrsuEDJCBrI3ouCbtTifwbeO9xEiBHwBaks5idL0jsuuDdGNwgmUmg3VkcIJlKIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-05_04-18-00__8f8ebdf4-44e9-4f8d-a8b8-276fb2caf813__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.19.47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27205', '27206', '27207', '27208', '27209']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27205:27205 -p 27206:27206 -p 27207:27207 -p 27208:27208 -p 27209:27209 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27207 --rest-port=27205 --tcp-port=27206 --discv5-udp-port=27208 --rest-address=0.0.0.0 --nat=extip:172.18.19.47 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbda1e3df7cd03aa7edaf7571cd22def2a9fcd1c49348db20a52e467e008ab4c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27209 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPj4bBzBs6XcIM0WfaINNQG5teiIuexGsnDJO8QyUvGLdp4RAwqhrMPKjwMOyveOTgBJ_H9pI0Jpuvw7h136FUICgmlkgnY0gmlwhKwSwKGKbXVsdGlhZGRyc5YACASsEsChBmUmAAoErBLAoQZlJ90DgnJzhQADAQAAiXNlY3AyNTZrMaECrsuEDJCBrI3ouCbtTifwbeO9xEiBHwBaks5idL0jsuuDdGNwgmUmg3VkcIJlKIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.19.47 waku 72857ac05cbcc5df1368d3284abb00ab49f1e7938f7f6bc0f288023deeb83f00
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 72857ac05cbc. Setting up logs at ./log/docker/node2_2024-12-05_04-18-00__8f8ebdf4-44e9-4f8d-a8b8-276fb2caf813__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 27205
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27205/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27205/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.47/tcp/27206/p2p/16Uiu2HAm4TG8ipgYpbM9PiUMkdALtZZvZ7d8Vdsy8UccjxKY4Hjs","/ip4/172.18.19.47/tcp/27207/ws/p2p/16Uiu2HAm4TG8ipgYpbM9PiUMkdALtZZvZ7d8Vdsy8UccjxKY4Hjs"],"enrUri":"enr:-L24QNR3OVkMT8iJrHMK_d8sbKLfttOnK-cdOs3SuAB-ujmtRflGCF0WmYUIVCLHH6UxutC22cbiOiEyFdkgAxHAX9cCgmlkgnY0gmlwhKwSEy-KbXVsdGlhZGRyc5YACASsEhMvBmpGAAoErBITLwZqR90DgnJzhQADAQAAiXNlY3AyNTZrMaEChiFhkX_m6MlIHl4O85PsQXwa0Bx041q6aMzP2fqail6DdGNwgmpGg3VkcIJqSIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27205/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.192.161/tcp/25894/p2p/16Uiu2HAm7Bzuivj7TPFxi36a6YsyToUMbDKELie9dAHPvLKfbZAr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-05_04-18-00__8f8ebdf4-44e9-4f8d-a8b8-276fb2caf813__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.13.145
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21824', '21825', '21826', '21827', '21828']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21824:21824 -p 21825:21825 -p 21826:21826 -p 21827:21827 -p 21828:21828 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21826 --rest-port=21824 --tcp-port=21825 --discv5-udp-port=21827 --rest-address=0.0.0.0 --nat=extip:172.18.13.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dffffced7bbcff9c3aadb88edaf2d9de0bfbbc8d4deeb9367fbcffcc7cc74b49 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21828 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPj4bBzBs6XcIM0WfaINNQG5teiIuexGsnDJO8QyUvGLdp4RAwqhrMPKjwMOyveOTgBJ_H9pI0Jpuvw7h136FUICgmlkgnY0gmlwhKwSwKGKbXVsdGlhZGRyc5YACASsEsChBmUmAAoErBLAoQZlJ90DgnJzhQADAQAAiXNlY3AyNTZrMaECrsuEDJCBrI3ouCbtTifwbeO9xEiBHwBaks5idL0jsuuDdGNwgmUmg3VkcIJlKIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.13.145 waku 6ea5721db5065bf351981f6a551dc478ac8008d15a87dd8aec364c70ff678f44
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6ea5721db506. Setting up logs at ./log/docker/node3_2024-12-05_04-18-00__8f8ebdf4-44e9-4f8d-a8b8-276fb2caf813__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 21824
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21824/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21824/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.13.145/tcp/21825/p2p/16Uiu2HAmN7DJktoYJLX1atjTctpswS983vGW9wuof4L2Lf1JfELz","/ip4/172.18.13.145/tcp/21826/ws/p2p/16Uiu2HAmN7DJktoYJLX1atjTctpswS983vGW9wuof4L2Lf1JfELz"],"enrUri":"enr:-L24QH_bnwych7VTOS39k_VBeKoTWRgo6y5Yzh87MGzdOqRjdnk3pP403-n_lFHUL8molakxHjOPMeEdXJPHgR9EYVUCgmlkgnY0gmlwhKwSDZGKbXVsdGlhZGRyc5YACASsEg2RBlVBAAoErBINkQZVQt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjHDu4yTR58I-BUmFHurrF8k-uhTIs9Q2i53vTW7kD1uDdGNwglVBg3VkcIJVQ4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21824/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.192.161/tcp/25894/p2p/16Uiu2HAm7Bzuivj7TPFxi36a6YsyToUMbDKELie9dAHPvLKfbZAr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-05_04-18-00__8f8ebdf4-44e9-4f8d-a8b8-276fb2caf813__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.214.241
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2202', '2203', '2204', '2205', '2206']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2202:2202 -p 2203:2203 -p 2204:2204 -p 2205:2205 -p 2206:2206 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2204 --rest-port=2202 --tcp-port=2203 --discv5-udp-port=2205 --rest-address=0.0.0.0 --nat=extip:172.18.214.241 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad34edcff0a1063ac35f9a1381c3dc360f4b07a3dff2df8f4aaac6b6cdf0e0b8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2206 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPj4bBzBs6XcIM0WfaINNQG5teiIuexGsnDJO8QyUvGLdp4RAwqhrMPKjwMOyveOTgBJ_H9pI0Jpuvw7h136FUICgmlkgnY0gmlwhKwSwKGKbXVsdGlhZGRyc5YACASsEsChBmUmAAoErBLAoQZlJ90DgnJzhQADAQAAiXNlY3AyNTZrMaECrsuEDJCBrI3ouCbtTifwbeO9xEiBHwBaks5idL0jsuuDdGNwgmUmg3VkcIJlKIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.214.241 waku e63e864fe529f65cbc57b9f133d81bd674d7af527ae641b24c07e34e9b0fa9ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e63e864fe529. Setting up logs at ./log/docker/node4_2024-12-05_04-18-00__8f8ebdf4-44e9-4f8d-a8b8-276fb2caf813__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2202
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2202/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2202/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.214.241/tcp/2203/p2p/16Uiu2HAmRpg4wvRyS2DKevEsuqocnQozdkh6m3KDAUC28yXVVD9q","/ip4/172.18.214.241/tcp/2204/ws/p2p/16Uiu2HAmRpg4wvRyS2DKevEsuqocnQozdkh6m3KDAUC28yXVVD9q"],"enrUri":"enr:-L24QCYu_n17ukr9Ty8LpmwBh41UHDr2YoKOjDViwKdjSscmUZEwPTmUVyoj3Uujn8Y3t4MdgNYP8DzzalLhx6faNTkCgmlkgnY0gmlwhKwS1vGKbXVsdGlhZGRyc5YACASsEtbxBgibAAoErBLW8QYInN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDw6MRHw9ZnRt-frhy34keDG8QvycanMjQ8-FJlRw4TRCDdGNwggibg3VkcIIInYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2202/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.192.161/tcp/25894/p2p/16Uiu2HAm7Bzuivj7TPFxi36a6YsyToUMbDKELie9dAHPvLKfbZAr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-05_04-18-00__8f8ebdf4-44e9-4f8d-a8b8-276fb2caf813__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.11.137
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20164', '20165', '20166', '20167', '20168']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20164:20164 -p 20165:20165 -p 20166:20166 -p 20167:20167 -p 20168:20168 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20166 --rest-port=20164 --tcp-port=20165 --discv5-udp-port=20167 --rest-address=0.0.0.0 --nat=extip:172.18.11.137 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8ff1eda79ecfbf6e88ac0a8db4a02cc4cae2b2d8cb18baecf40301ef51cd0aff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20168 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPj4bBzBs6XcIM0WfaINNQG5teiIuexGsnDJO8QyUvGLdp4RAwqhrMPKjwMOyveOTgBJ_H9pI0Jpuvw7h136FUICgmlkgnY0gmlwhKwSwKGKbXVsdGlhZGRyc5YACASsEsChBmUmAAoErBLAoQZlJ90DgnJzhQADAQAAiXNlY3AyNTZrMaECrsuEDJCBrI3ouCbtTifwbeO9xEiBHwBaks5idL0jsuuDdGNwgmUmg3VkcIJlKIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.11.137 waku abde14555d8e31b40eef4e120d1fac41fd21afbee8f72c2218fa7ab836a8fec1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID abde14555d8e. Setting up logs at ./log/docker/node5_2024-12-05_04-18-00__8f8ebdf4-44e9-4f8d-a8b8-276fb2caf813__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 20164
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20164/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20164/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.137/tcp/20165/p2p/16Uiu2HAm1um4aEj2L2HHDBsAb7gi4S6UE1MfePXvnPszoZRB57Gm","/ip4/172.18.11.137/tcp/20166/ws/p2p/16Uiu2HAm1um4aEj2L2HHDBsAb7gi4S6UE1MfePXvnPszoZRB57Gm"],"enrUri":"enr:-L24QE7WVi1pucWj6KDWye2r9MSjr-qfd64lUE_w3tCyzwXFTO656a0onmRCDEUjUteGmA3AYQwntbqj9kMhYXxWni0CgmlkgnY0gmlwhKwSC4mKbXVsdGlhZGRyc5YACASsEguJBk7FAAoErBILiQZOxt0DgnJzhQADAQAAiXNlY3AyNTZrMaECYFghhCOaQ168fUTQp6e6HqkAYCeYagz3sPA9QpWWTKqDdGNwgk7Fg3VkcIJOx4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20164/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.192.161/tcp/25894/p2p/16Uiu2HAm7Bzuivj7TPFxi36a6YsyToUMbDKELie9dAHPvLKfbZAr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25893/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27205/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21824/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2202/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20164/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372288621256960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27205/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372288621256960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21824/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372288621256960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2202/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372288621256960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20164/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372288621256960,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372288747412736,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27205/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372288747412736,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21824/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372288747412736,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2202/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372288747412736,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20164/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372288747412736,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 72857ac05cbc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21824/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372290202011392,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2202/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372290202011392,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20164/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733372290202011392,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 16bcb915c445
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 72857ac05cbc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6ea5721db506
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 16bcb915c445. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e63e864fe529
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6ea5721db506. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id abde14555d8e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e63e864fe529. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.