[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_payload with id: 2024-12-05_04-14-01__d00012cd-3eb8-4c92-89cb-4cf60c829760
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-12-05_04-14-01__d00012cd-3eb8-4c92-89cb-4cf60c829760__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.236.173
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26917', '26918', '26919', '26920', '26921']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26917:26917 -p 26918:26918 -p 26919:26919 -p 26920:26920 -p 26921:26921 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26919 --rest-port=26917 --tcp-port=26918 --discv5-udp-port=26920 --rest-address=0.0.0.0 --nat=extip:172.18.236.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5a305c14fdd3dec758b38ee61dcebbaa5eadbcef4b0f5b08bd77d7bc8df7b7c9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26921 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.236.173 waku 35bf5ee12d57255e1b04260de70d0a4afb9cc8553c5feea34fe467af518b9024
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 35bf5ee12d57. Setting up logs at ./log/docker/receiving_node1_2024-12-05_04-14-01__d00012cd-3eb8-4c92-89cb-4cf60c829760__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 26917
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 62493c9e59f2. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26917/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26917/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.236.173/tcp/26918/p2p/16Uiu2HAmRHYAyiXwyjX7rHQX5PBtvnAsK97DzNmjboZMkruwmUoD","/ip4/172.18.236.173/tcp/26919/ws/p2p/16Uiu2HAmRHYAyiXwyjX7rHQX5PBtvnAsK97DzNmjboZMkruwmUoD"],"enrUri":"enr:-L24QFi-QXBR_iZIUWkOpzs2hLyMZzBgfyXY8ro_busWrhOldhvp-xTFc_U_RdkIAWdlrSWFtB-tluWH9i_lx3xp7ZYCgmlkgnY0gmlwhKwS7K2KbXVsdGlhZGRyc5YACASsEuytBmkmAAoErBLsrQZpJ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDu6kiPPVmkw8APMnXmowJNDocjEw1WqeOUSCsiW6iQ8SDdGNwgmkmg3VkcIJpKIV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-12-05_04-14-01__d00012cd-3eb8-4c92-89cb-4cf60c829760__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.132.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49967', '49968', '49969', '49970', '49971']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49967:49967 -p 49968:49968 -p 49969:49969 -p 49970:49970 -p 49971:49971 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49969 --rest-port=49967 --tcp-port=49968 --discv5-udp-port=49970 --rest-address=0.0.0.0 --nat=extip:172.18.132.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9a68f49b4aa8e672b3eab26f1c90cada9bd01bd6474ab92fff31b4bcd94cfbd0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49971 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.132.90 waku d4919e56dd704af810568c100c211ec452ada0f5389a28c5d7f9a1ab69327887
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d4919e56dd70. Setting up logs at ./log/docker/receiving_node2_2024-12-05_04-14-01__d00012cd-3eb8-4c92-89cb-4cf60c829760__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 49967
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49967/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49967/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.132.90/tcp/49968/p2p/16Uiu2HAmUGDenEFcTAPSnnegtcUKGniASMo6fyKCfV3FBSXw4kWr","/ip4/172.18.132.90/tcp/49969/ws/p2p/16Uiu2HAmUGDenEFcTAPSnnegtcUKGniASMo6fyKCfV3FBSXw4kWr"],"enrUri":"enr:-L24QDJclGHlMqdrV3ExT-7tFWLzfYs8qwD67joxEaiFYRklS0x10VdM0UZJVlVNb3pJoa_7x2y1dYU4ZKNeR59uyOsCgmlkgnY0gmlwhKwShFqKbXVsdGlhZGRyc5YACASsEoRaBsMwAAoErBKEWgbDMd0DgnJzhQADAQAAiXNlY3AyNTZrMaED5-WsHnb8UM9cdwcvYZ8RMjFDDDl5pM-thvpjSYng66eDdGNwgsMwg3VkcILDMoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49967/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.236.173/tcp/26918/p2p/16Uiu2HAmRHYAyiXwyjX7rHQX5PBtvnAsK97DzNmjboZMkruwmUoD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-12-05_04-14-01__d00012cd-3eb8-4c92-89cb-4cf60c829760__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.20.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2802', '2803', '2804', '2805', '2806']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2802:2802 -p 2803:2803 -p 2804:2804 -p 2805:2805 -p 2806:2806 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2804 --rest-port=2802 --tcp-port=2803 --discv5-udp-port=2805 --rest-address=0.0.0.0 --nat=extip:172.18.20.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=06b7fe7e82bf9f8b6dde2f3d6bfbded38cc8fa6eab8f6ffaabd70b6a2057da3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2806 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QFi-QXBR_iZIUWkOpzs2hLyMZzBgfyXY8ro_busWrhOldhvp-xTFc_U_RdkIAWdlrSWFtB-tluWH9i_lx3xp7ZYCgmlkgnY0gmlwhKwS7K2KbXVsdGlhZGRyc5YACASsEuytBmkmAAoErBLsrQZpJ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDu6kiPPVmkw8APMnXmowJNDocjEw1WqeOUSCsiW6iQ8SDdGNwgmkmg3VkcIJpKIV3YWt1Mgk --lightpushnode=/ip4/172.18.236.173/tcp/26918/p2p/16Uiu2HAmRHYAyiXwyjX7rHQX5PBtvnAsK97DzNmjboZMkruwmUoD --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.20.186 waku d705de0286fb490c93ac7660e3836a09fa47f1bd27ec3c8f575eed53b1b90654
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d705de0286fb. Setting up logs at ./log/docker/lightpush_node1_2024-12-05_04-14-01__d00012cd-3eb8-4c92-89cb-4cf60c829760__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2802
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2802/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2802/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.186/tcp/2803/p2p/16Uiu2HAm6nyeVWTSUMmFuKxjFqhJ1tvUcyUMCPbRgDyhSsoYBWzd","/ip4/172.18.20.186/tcp/2804/ws/p2p/16Uiu2HAm6nyeVWTSUMmFuKxjFqhJ1tvUcyUMCPbRgDyhSsoYBWzd"],"enrUri":"enr:-L24QMXaCIpGtU-7H5EJAQgV6-3mBZpODn172QviVGgwdTnoNyOzhltKykrEvsilCr4d23xOJmr73K_q0th3W843lvgCgmlkgnY0gmlwhKwSFLqKbXVsdGlhZGRyc5YACASsEhS6BgrzAAoErBIUugYK9N0DgnJzhQADAQAAiXNlY3AyNTZrMaECqOW6xSe1I337Nt_VL6g0PIxSFj-5bZoBtXY6tJlOZmKDdGNwggrzg3VkcIIK9YV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2802/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.236.173/tcp/26918/p2p/16Uiu2HAmRHYAyiXwyjX7rHQX5PBtvnAsK97DzNmjboZMkruwmUoD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2802/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.132.90/tcp/49968/p2p/16Uiu2HAmUGDenEFcTAPSnnegtcUKGniASMo6fyKCfV3FBSXw4kWr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26917/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49967/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2802/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"contentTopic": "/myapp/1/latest/proto", "timestamp": 1733372047009395712}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:2802/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 35bf5ee12d57
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d4919e56dd70
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 35bf5ee12d57. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d705de0286fb
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d4919e56dd70. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.