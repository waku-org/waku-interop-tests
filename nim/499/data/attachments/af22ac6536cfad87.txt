[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-04_11-07-41__de64b9cf-749b-48e7-93ed-f8793ed031fc
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-04_11-07-41__de64b9cf-749b-48e7-93ed-f8793ed031fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.221.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47863', '47864', '47865', '47866', '47867']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47863:47863 -p 47864:47864 -p 47865:47865 -p 47866:47866 -p 47867:47867 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47865 --rest-port=47863 --tcp-port=47864 --discv5-udp-port=47866 --rest-address=0.0.0.0 --nat=extip:172.18.221.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4d217dd96be3a7faf0ec07712dda47241e1daac5da922dc8b93bbeb7a915bb7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47867 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.221.56 waku fde50b97fffd66e9c1e565fd7207b47a7f612ca58441f4b8059fd1133b3452ab
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fde50b97fffd. Setting up logs at ./log/docker/node1_2024-12-04_11-07-41__de64b9cf-749b-48e7-93ed-f8793ed031fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 47863
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b2000a1b20c6. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47863/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47863/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.56/tcp/47864/p2p/16Uiu2HAmTuguCNodXRxBJeJuCqX2bUEWYwM6MD6mfjqQq56kMyWu","/ip4/172.18.221.56/tcp/47865/ws/p2p/16Uiu2HAmTuguCNodXRxBJeJuCqX2bUEWYwM6MD6mfjqQq56kMyWu"],"enrUri":"enr:-L24QEWeOUX_s5xDqt96XTqiXVPlByB-lvnIVCeWPLhCRaDTbzS36H1tZkg_geVnOfizTN_5I7LdP5uFsYma_OkOTgwCgmlkgnY0gmlwhKwS3TiKbXVsdGlhZGRyc5YACASsEt04Brr4AAoErBLdOAa6-d0DgnJzhQADAQAAiXNlY3AyNTZrMaED4qNJD2puI8VhazoRLKRVgfpyAQOzJg3MNz84dES9L5aDdGNwgrr4g3VkcIK6-oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-04_11-07-41__de64b9cf-749b-48e7-93ed-f8793ed031fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.93.32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59162', '59163', '59164', '59165', '59166']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59162:59162 -p 59163:59163 -p 59164:59164 -p 59165:59165 -p 59166:59166 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59164 --rest-port=59162 --tcp-port=59163 --discv5-udp-port=59165 --rest-address=0.0.0.0 --nat=extip:172.18.93.32 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=adf06efba23e00b40af03f25dca0fcb233aefd1c7f27f7f7a9f6d62cc85bd729 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59166 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEWeOUX_s5xDqt96XTqiXVPlByB-lvnIVCeWPLhCRaDTbzS36H1tZkg_geVnOfizTN_5I7LdP5uFsYma_OkOTgwCgmlkgnY0gmlwhKwS3TiKbXVsdGlhZGRyc5YACASsEt04Brr4AAoErBLdOAa6-d0DgnJzhQADAQAAiXNlY3AyNTZrMaED4qNJD2puI8VhazoRLKRVgfpyAQOzJg3MNz84dES9L5aDdGNwgrr4g3VkcIK6-oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.93.32 waku c60b9407a383d6560c7e4acc697d9fa59178e9ed5b17d4698ef452924c0498c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c60b9407a383. Setting up logs at ./log/docker/node2_2024-12-04_11-07-41__de64b9cf-749b-48e7-93ed-f8793ed031fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 59162
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59162/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59162/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.93.32/tcp/59163/p2p/16Uiu2HAm9iNhjywE2S2E4vnENSkG8G3wHmEWst4NENoDpDhLdwDi","/ip4/172.18.93.32/tcp/59164/ws/p2p/16Uiu2HAm9iNhjywE2S2E4vnENSkG8G3wHmEWst4NENoDpDhLdwDi"],"enrUri":"enr:-L24QA25ypJhieObvYW98cdab9-kJlFJYb_ZpFZB9uhd2C-cFxE-8st-8z-rDxShIkrsJjGhIykdKFfF1d_T8Ixf1fECgmlkgnY0gmlwhKwSXSCKbXVsdGlhZGRyc5YACASsEl0gBucbAAoErBJdIAbnHN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1Er0sbwXQGVGFLLcH5r-GCDj0PYnqOKFr0pN5XpDK8mDdGNwgucbg3VkcILnHYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59162/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.56/tcp/47864/p2p/16Uiu2HAmTuguCNodXRxBJeJuCqX2bUEWYwM6MD6mfjqQq56kMyWu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-04_11-07-41__de64b9cf-749b-48e7-93ed-f8793ed031fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.154.119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33537', '33538', '33539', '33540', '33541']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33537:33537 -p 33538:33538 -p 33539:33539 -p 33540:33540 -p 33541:33541 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33539 --rest-port=33537 --tcp-port=33538 --discv5-udp-port=33540 --rest-address=0.0.0.0 --nat=extip:172.18.154.119 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff1f7bf6aa9338a7a9bdcd5bc104f7aab3686c8ddfe8ecb9d4de6d90c5effdc2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33541 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEWeOUX_s5xDqt96XTqiXVPlByB-lvnIVCeWPLhCRaDTbzS36H1tZkg_geVnOfizTN_5I7LdP5uFsYma_OkOTgwCgmlkgnY0gmlwhKwS3TiKbXVsdGlhZGRyc5YACASsEt04Brr4AAoErBLdOAa6-d0DgnJzhQADAQAAiXNlY3AyNTZrMaED4qNJD2puI8VhazoRLKRVgfpyAQOzJg3MNz84dES9L5aDdGNwgrr4g3VkcIK6-oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.154.119 waku 748d0a0f81c0a4602234e33fbeb18cc9000743b746f0bc46b84e46420d4e7da6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 748d0a0f81c0. Setting up logs at ./log/docker/node3_2024-12-04_11-07-41__de64b9cf-749b-48e7-93ed-f8793ed031fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 33537
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33537/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33537/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.119/tcp/33538/p2p/16Uiu2HAm7jbrUyiXq4kJ14DZHAb3zYnQ115UHk8Dhe8NwLm6UVRj","/ip4/172.18.154.119/tcp/33539/ws/p2p/16Uiu2HAm7jbrUyiXq4kJ14DZHAb3zYnQ115UHk8Dhe8NwLm6UVRj"],"enrUri":"enr:-L24QMY2Z_B8S98TLD7qPVeBhFAA4mOplT-xUAFEtmV3A5GEdHJGPSDJ4-hzLHhyKTX3aqRVsFoNHdinS7flRw9E-xkCgmlkgnY0gmlwhKwSmneKbXVsdGlhZGRyc5YACASsEpp3BoMCAAoErBKadwaDA90DgnJzhQADAQAAiXNlY3AyNTZrMaECtuQISCss0wKAsBO2ruJMXUV9K76PSWZI_7fBTh6OnVKDdGNwgoMCg3VkcIKDBIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33537/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.56/tcp/47864/p2p/16Uiu2HAmTuguCNodXRxBJeJuCqX2bUEWYwM6MD6mfjqQq56kMyWu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-04_11-07-41__de64b9cf-749b-48e7-93ed-f8793ed031fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.187.119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1505', '1506', '1507', '1508', '1509']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1505:1505 -p 1506:1506 -p 1507:1507 -p 1508:1508 -p 1509:1509 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1507 --rest-port=1505 --tcp-port=1506 --discv5-udp-port=1508 --rest-address=0.0.0.0 --nat=extip:172.18.187.119 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8ee03bfab5026e77a4ad53d5efb1354f0ebbfb6addecf9d5aaf0a46bf317d9c0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1509 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEWeOUX_s5xDqt96XTqiXVPlByB-lvnIVCeWPLhCRaDTbzS36H1tZkg_geVnOfizTN_5I7LdP5uFsYma_OkOTgwCgmlkgnY0gmlwhKwS3TiKbXVsdGlhZGRyc5YACASsEt04Brr4AAoErBLdOAa6-d0DgnJzhQADAQAAiXNlY3AyNTZrMaED4qNJD2puI8VhazoRLKRVgfpyAQOzJg3MNz84dES9L5aDdGNwgrr4g3VkcIK6-oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.187.119 waku 7ffc445b822e148a83d4a9bfe4368dc675599501db77a45d30915b53d9996cce
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7ffc445b822e. Setting up logs at ./log/docker/node4_2024-12-04_11-07-41__de64b9cf-749b-48e7-93ed-f8793ed031fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1505
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1505/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1505/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.119/tcp/1506/p2p/16Uiu2HAm3xWTbriAPcECitdvwbwcbwk3PDcJmvj8v55U7mzzvmb7","/ip4/172.18.187.119/tcp/1507/ws/p2p/16Uiu2HAm3xWTbriAPcECitdvwbwcbwk3PDcJmvj8v55U7mzzvmb7"],"enrUri":"enr:-L24QLXNSShhzwoV9RJ4w6SSod_6Ek_ZHnOphGhrwlOlLdEUO1mX23IBEdtwrCjSXukX6D32KFLJd6gQSfaSqubdtD8CgmlkgnY0gmlwhKwSu3eKbXVsdGlhZGRyc5YACASsErt3BgXiAAoErBK7dwYF490DgnJzhQADAQAAiXNlY3AyNTZrMaECfsO8Tq1EsUabQ8fY2XyLHdr-a2NQM4B8vWlczp1YymKDdGNwggXig3VkcIIF5IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1505/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.56/tcp/47864/p2p/16Uiu2HAmTuguCNodXRxBJeJuCqX2bUEWYwM6MD6mfjqQq56kMyWu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-04_11-07-41__de64b9cf-749b-48e7-93ed-f8793ed031fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.172.128
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29100', '29101', '29102', '29103', '29104']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29100:29100 -p 29101:29101 -p 29102:29102 -p 29103:29103 -p 29104:29104 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29102 --rest-port=29100 --tcp-port=29101 --discv5-udp-port=29103 --rest-address=0.0.0.0 --nat=extip:172.18.172.128 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=accef25a63cbea3de708dae3165dbffeb48cbab6df006083d1b8bea735c5d81f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29104 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEWeOUX_s5xDqt96XTqiXVPlByB-lvnIVCeWPLhCRaDTbzS36H1tZkg_geVnOfizTN_5I7LdP5uFsYma_OkOTgwCgmlkgnY0gmlwhKwS3TiKbXVsdGlhZGRyc5YACASsEt04Brr4AAoErBLdOAa6-d0DgnJzhQADAQAAiXNlY3AyNTZrMaED4qNJD2puI8VhazoRLKRVgfpyAQOzJg3MNz84dES9L5aDdGNwgrr4g3VkcIK6-oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.172.128 waku 60a10da0089992fc81a05489f15ccb6166402458880c0927726e6be095fc703f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 60a10da00899. Setting up logs at ./log/docker/node5_2024-12-04_11-07-41__de64b9cf-749b-48e7-93ed-f8793ed031fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29100
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29100/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29100/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.128/tcp/29101/p2p/16Uiu2HAkvFfS5od81vRyPGVyTDCL5DBELfHSKac2iY2un4R5eAH7","/ip4/172.18.172.128/tcp/29102/ws/p2p/16Uiu2HAkvFfS5od81vRyPGVyTDCL5DBELfHSKac2iY2un4R5eAH7"],"enrUri":"enr:-L24QFSQnE8j4RSMlnooWPNBAQA6uyeefAP2ilUUKFlrg5Rta-412VQwxL8diZPn08FVDDJXzG5MxEmpEYyOkqbAoQoCgmlkgnY0gmlwhKwSrICKbXVsdGlhZGRyc5YACASsEqyABnGtAAoErBKsgAZxrt0DgnJzhQADAQAAiXNlY3AyNTZrMaECDEtCukppJqvPFf3QTrXGMKhQDmQ6Vqt92E4OV4bWajKDdGNwgnGtg3VkcIJxr4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29100/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.56/tcp/47864/p2p/16Uiu2HAmTuguCNodXRxBJeJuCqX2bUEWYwM6MD6mfjqQq56kMyWu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47863/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59162/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33537/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1505/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29100/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47863/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47863/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733310470025629952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733310470025629952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33537/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733310470025629952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1505/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733310470025629952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29100/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733310470025629952,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29100/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47863/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733310470180944896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733310470180944896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33537/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733310470180944896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1505/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733310470180944896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29100/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733310470180944896,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fde50b97fffd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c60b9407a383
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fde50b97fffd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 748d0a0f81c0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c60b9407a383. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7ffc445b822e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 748d0a0f81c0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 60a10da00899
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7ffc445b822e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.