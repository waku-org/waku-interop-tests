[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-01-30_04-04-07__567d3d45-4d35-4f67-a8f5-5104506e3e69
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-30_04-04-07__567d3d45-4d35-4f67-a8f5-5104506e3e69__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.13.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57576', '57577', '57578', '57579', '57580']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57576:57576 -p 57577:57577 -p 57578:57578 -p 57579:57579 -p 57580:57580 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57578 --rest-port=57576 --tcp-port=57577 --discv5-udp-port=57579 --rest-address=0.0.0.0 --nat=extip:172.18.13.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=adfeeca28dc8f57b9c6c834ce79ad36afb7f8f0cbd7b47bace84bb388ef8e2ef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57580 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.13.189 waku 5ad40a0d29a5eb2245fdb1c77c38178134bd402f4f86182ba58d76eaa43558a6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5ad40a0d29a5. Setting up logs at ./log/docker/node1_2025-01-30_04-04-07__567d3d45-4d35-4f67-a8f5-5104506e3e69__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 57576
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 62a39eea2467. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57576/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57576/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.13.189/tcp/57577/p2p/16Uiu2HAmLvuNJTD88UmG68D9jRcxKaji9cFpyUdTwsPLAGKvcrw2","/ip4/172.18.13.189/tcp/57578/ws/p2p/16Uiu2HAmLvuNJTD88UmG68D9jRcxKaji9cFpyUdTwsPLAGKvcrw2"],"enrUri":"enr:-L24QDifbK-8RBEmrNCXnngkGqFP6q4vMxStu-V81sEID5gZBghIQ3Fe6_RWIq9w2F0wP-I875_kC67nAdoFwy0yrkECgmlkgnY0gmlwhKwSDb2KbXVsdGlhZGRyc5YACASsEg29BuDpAAoErBINvQbg6t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDevEnkXr6X2aBibJv5mThqgsi9StD60ck8qT3rIelYGmDdGNwguDpg3VkcILg64V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-30_04-04-07__567d3d45-4d35-4f67-a8f5-5104506e3e69__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.99.114
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57581', '57582', '57583', '57584', '57585']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57581:57581 -p 57582:57582 -p 57583:57583 -p 57584:57584 -p 57585:57585 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57583 --rest-port=57581 --tcp-port=57582 --discv5-udp-port=57584 --rest-address=0.0.0.0 --nat=extip:172.18.99.114 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbdd776dfeea368bae4353f5b15c0dc9f3b0a6d5c0fd38afba32a274af6fbd3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57585 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDifbK-8RBEmrNCXnngkGqFP6q4vMxStu-V81sEID5gZBghIQ3Fe6_RWIq9w2F0wP-I875_kC67nAdoFwy0yrkECgmlkgnY0gmlwhKwSDb2KbXVsdGlhZGRyc5YACASsEg29BuDpAAoErBINvQbg6t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDevEnkXr6X2aBibJv5mThqgsi9StD60ck8qT3rIelYGmDdGNwguDpg3VkcILg64V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.99.114 waku 65a0bfef59dd9cc78a7a82596b47be62ba90a0ff19b7a628e25ca71a4df78867
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 65a0bfef59dd. Setting up logs at ./log/docker/node2_2025-01-30_04-04-07__567d3d45-4d35-4f67-a8f5-5104506e3e69__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 57581
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57581/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57581/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.114/tcp/57582/p2p/16Uiu2HAmAZcVKC6UUAk1WhpEfvSncubdNjNusFioK75agzh1PmXo","/ip4/172.18.99.114/tcp/57583/ws/p2p/16Uiu2HAmAZcVKC6UUAk1WhpEfvSncubdNjNusFioK75agzh1PmXo"],"enrUri":"enr:-L24QPHKlqGbHwQdafGSDGdHvCqVIaVkGuOO1QiKY7jdVDs8O2GuVwzt4LQSVDTbWvZMcGt0_pcDdiLWO-KWy_i2nVECgmlkgnY0gmlwhKwSY3KKbXVsdGlhZGRyc5YACASsEmNyBuDuAAoErBJjcgbg790DgnJzhQADAQAAiXNlY3AyNTZrMaEC4OgAyJq3Apnw-hjM1WTVCy-OCR5TVwNaR-g0wAD5-FqDdGNwguDug3VkcILg8IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57581/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.13.189/tcp/57577/p2p/16Uiu2HAmLvuNJTD88UmG68D9jRcxKaji9cFpyUdTwsPLAGKvcrw2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-30_04-04-07__567d3d45-4d35-4f67-a8f5-5104506e3e69__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.161.190
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38231', '38232', '38233', '38234', '38235']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38231:38231 -p 38232:38232 -p 38233:38233 -p 38234:38234 -p 38235:38235 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38233 --rest-port=38231 --tcp-port=38232 --discv5-udp-port=38234 --rest-address=0.0.0.0 --nat=extip:172.18.161.190 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a98fe507a05c4c2ebe0bbd586ff6e74f24df7a896a5ffad36ca24c94aff8acb3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38235 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDifbK-8RBEmrNCXnngkGqFP6q4vMxStu-V81sEID5gZBghIQ3Fe6_RWIq9w2F0wP-I875_kC67nAdoFwy0yrkECgmlkgnY0gmlwhKwSDb2KbXVsdGlhZGRyc5YACASsEg29BuDpAAoErBINvQbg6t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDevEnkXr6X2aBibJv5mThqgsi9StD60ck8qT3rIelYGmDdGNwguDpg3VkcILg64V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.161.190 waku b7839908ffd5e78ce4d58cc760e513056adaf15a4d73b3871d4dca81ec3e50bc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b7839908ffd5. Setting up logs at ./log/docker/node3_2025-01-30_04-04-07__567d3d45-4d35-4f67-a8f5-5104506e3e69__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38231
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38231/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38231/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.190/tcp/38232/p2p/16Uiu2HAm28yiCyYPnrYy28fRnZT6tBAL3ArgzFkaz814aJWpTGyt","/ip4/172.18.161.190/tcp/38233/ws/p2p/16Uiu2HAm28yiCyYPnrYy28fRnZT6tBAL3ArgzFkaz814aJWpTGyt"],"enrUri":"enr:-L24QNYGV639O60i50q4wrgiHnDjpuJITtbTpXaqsgQIZOHlUKaH0J4J-WOTunw_4CRjZ-jt7mY7SvarRWKJk5nK-ccCgmlkgnY0gmlwhKwSob6KbXVsdGlhZGRyc5YACASsEqG-BpVYAAoErBKhvgaVWd0DgnJzhQADAQAAiXNlY3AyNTZrMaECY7r7yXrg7Grh-c1mqVsCGCXf0JhODWNBBTeuNwk8zt-DdGNwgpVYg3VkcIKVWoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38231/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.13.189/tcp/57577/p2p/16Uiu2HAmLvuNJTD88UmG68D9jRcxKaji9cFpyUdTwsPLAGKvcrw2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-30_04-04-07__567d3d45-4d35-4f67-a8f5-5104506e3e69__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.63.1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64777', '64778', '64779', '64780', '64781']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64777:64777 -p 64778:64778 -p 64779:64779 -p 64780:64780 -p 64781:64781 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64779 --rest-port=64777 --tcp-port=64778 --discv5-udp-port=64780 --rest-address=0.0.0.0 --nat=extip:172.18.63.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dc9ac31b5bee4efabbc2f3875baae77ce3b929479c7fd20f2f536fdec03cb3eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64781 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDifbK-8RBEmrNCXnngkGqFP6q4vMxStu-V81sEID5gZBghIQ3Fe6_RWIq9w2F0wP-I875_kC67nAdoFwy0yrkECgmlkgnY0gmlwhKwSDb2KbXVsdGlhZGRyc5YACASsEg29BuDpAAoErBINvQbg6t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDevEnkXr6X2aBibJv5mThqgsi9StD60ck8qT3rIelYGmDdGNwguDpg3VkcILg64V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.63.1 waku 3c48fe2a1e418037129a8ea7e714db99de607089fb2e8e576bbdb98d1e463db6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3c48fe2a1e41. Setting up logs at ./log/docker/node4_2025-01-30_04-04-07__567d3d45-4d35-4f67-a8f5-5104506e3e69__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 64777
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64777/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64777/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.1/tcp/64778/p2p/16Uiu2HAmRV7k6jDfNSuD1btv6D9wvuotqGEiJDabbinDAhPDMAaf","/ip4/172.18.63.1/tcp/64779/ws/p2p/16Uiu2HAmRV7k6jDfNSuD1btv6D9wvuotqGEiJDabbinDAhPDMAaf"],"enrUri":"enr:-L24QC4Tj0XMI7-AgBMf3wOg_G35A72Hd46pxzq4HSJvlQv4J9gXybOQbbMQ7OJ3Stx9rbRQ8E3jE1gyGlyfYnPDse8CgmlkgnY0gmlwhKwSPwGKbXVsdGlhZGRyc5YACASsEj8BBv0KAAoErBI_AQb9C90DgnJzhQADAQAAiXNlY3AyNTZrMaEDvqB7RtWbUmEbjRDWOuxTObJsJ7Q5SVNUb8JzFHf6jASDdGNwgv0Kg3VkcIL9DIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64777/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.13.189/tcp/57577/p2p/16Uiu2HAmLvuNJTD88UmG68D9jRcxKaji9cFpyUdTwsPLAGKvcrw2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-30_04-04-07__567d3d45-4d35-4f67-a8f5-5104506e3e69__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.84.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50454', '50455', '50456', '50457', '50458']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50454:50454 -p 50455:50455 -p 50456:50456 -p 50457:50457 -p 50458:50458 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50456 --rest-port=50454 --tcp-port=50455 --discv5-udp-port=50457 --rest-address=0.0.0.0 --nat=extip:172.18.84.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=04b8d4ac5ddec0e4f4e30b767bdcd37914426efefe7955c26adc641b8cbd5adb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50458 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDifbK-8RBEmrNCXnngkGqFP6q4vMxStu-V81sEID5gZBghIQ3Fe6_RWIq9w2F0wP-I875_kC67nAdoFwy0yrkECgmlkgnY0gmlwhKwSDb2KbXVsdGlhZGRyc5YACASsEg29BuDpAAoErBINvQbg6t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDevEnkXr6X2aBibJv5mThqgsi9StD60ck8qT3rIelYGmDdGNwguDpg3VkcILg64V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.84.117 waku 7c1708035c16fca15d7264a8b497bb99a69e4f91b4e208515bde543a977bc415
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7c1708035c16. Setting up logs at ./log/docker/node5_2025-01-30_04-04-07__567d3d45-4d35-4f67-a8f5-5104506e3e69__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 50454
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50454/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50454/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.84.117/tcp/50455/p2p/16Uiu2HAm1AfkGRWb25K2BaickRh61Tj2F8VFKFqEfRGk3x6aRm3N","/ip4/172.18.84.117/tcp/50456/ws/p2p/16Uiu2HAm1AfkGRWb25K2BaickRh61Tj2F8VFKFqEfRGk3x6aRm3N"],"enrUri":"enr:-L24QMpRPbWAO2FcTzWfCe-ivDG-N5vrPJhzZdUTpWi8p3JKY9iyeNNDsQ7pDWAS4FyJ4yYvBDXFdR2jWEzKvrQkcGUCgmlkgnY0gmlwhKwSVHWKbXVsdGlhZGRyc5YACASsElR1BsUXAAoErBJUdQbFGN0DgnJzhQADAQAAiXNlY3AyNTZrMaECVU4lTdD4d2xtuFNZronJ0aWy8prU1E8Mcq1j5EzTb2mDdGNwgsUXg3VkcILFGYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50454/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.13.189/tcp/57577/p2p/16Uiu2HAmLvuNJTD88UmG68D9jRcxKaji9cFpyUdTwsPLAGKvcrw2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57576/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57581/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38231/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64777/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50454/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57576/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57576/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738209854297602048,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57581/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738209854297602048,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38231/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738209854297602048,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64777/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738209854297602048,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738209854297602048,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57576/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738209854430056192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57581/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738209854430056192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38231/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738209854430056192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64777/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738209854430056192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738209854430056192,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5ad40a0d29a5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 65a0bfef59dd
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5ad40a0d29a5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b7839908ffd5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 65a0bfef59dd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3c48fe2a1e41
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b7839908ffd5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7c1708035c16
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3c48fe2a1e41. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.