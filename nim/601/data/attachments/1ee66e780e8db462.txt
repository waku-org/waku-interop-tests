[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_big_timestamp with id: 2025-01-03_04-27-09__7a6c4727-ef0e-4144-87b2-9b65049af5f1
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-03_04-27-09__7a6c4727-ef0e-4144-87b2-9b65049af5f1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.132.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32175', '32176', '32177', '32178', '32179']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32175:32175 -p 32176:32176 -p 32177:32177 -p 32178:32178 -p 32179:32179 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32177 --rest-port=32175 --tcp-port=32176 --discv5-udp-port=32178 --rest-address=0.0.0.0 --nat=extip:172.18.132.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbcf88bd53bdc764fc31765ac01a29d0bf4fa16f5f6ee1bd5d2f1dd10ebfbc55 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32179 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.132.221 waku dbfb0e6c459abd91eaa2eb1e7b1913510ef42ecf702fc64589efa986f7d1e3eb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID dbfb0e6c459a. Setting up logs at ./log/docker/publishing_node1_2025-01-03_04-27-09__7a6c4727-ef0e-4144-87b2-9b65049af5f1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 32175
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e0183f6a2d83. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32175/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32175/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.132.221/tcp/32176/p2p/16Uiu2HAmJn18bPYCVY6biCT5iUYVyZkXEqK4VGpWrQkbWhNQUUhf","/ip4/172.18.132.221/tcp/32177/ws/p2p/16Uiu2HAmJn18bPYCVY6biCT5iUYVyZkXEqK4VGpWrQkbWhNQUUhf"],"enrUri":"enr:-L24QBwEe63jfl2bEznfFqRHxktTV5V-qtBEI8jelVYK7U5lS31xhdqb5n-VQsx-7Qx5l3S-n4NPpa3u9gyPUephYJQCgmlkgnY0gmlwhKwShN2KbXVsdGlhZGRyc5YACASsEoTdBn2wAAoErBKE3QZ9sd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWvISBroIrCwxYS2kmFJHJM0JhP0rXyP7cQIcb1JSP0qDdGNwgn2wg3VkcIJ9soV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-03_04-27-09__7a6c4727-ef0e-4144-87b2-9b65049af5f1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.35.219
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51269', '51270', '51271', '51272', '51273']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51269:51269 -p 51270:51270 -p 51271:51271 -p 51272:51272 -p 51273:51273 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51271 --rest-port=51269 --tcp-port=51270 --discv5-udp-port=51272 --rest-address=0.0.0.0 --nat=extip:172.18.35.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0dca282f10fa1d00fdcb2b530faf2f5c9fb07731a124e24a86fde94b7640e5b1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51273 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QBwEe63jfl2bEznfFqRHxktTV5V-qtBEI8jelVYK7U5lS31xhdqb5n-VQsx-7Qx5l3S-n4NPpa3u9gyPUephYJQCgmlkgnY0gmlwhKwShN2KbXVsdGlhZGRyc5YACASsEoTdBn2wAAoErBKE3QZ9sd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWvISBroIrCwxYS2kmFJHJM0JhP0rXyP7cQIcb1JSP0qDdGNwgn2wg3VkcIJ9soV3YWt1MgM --storenode=/ip4/172.18.132.221/tcp/32176/p2p/16Uiu2HAmJn18bPYCVY6biCT5iUYVyZkXEqK4VGpWrQkbWhNQUUhf --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.35.219 waku 565d6aa1e5a65b59b8b357849286a9c8a44ca0c123a7e62ad18cc4490e583ab4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 565d6aa1e5a6. Setting up logs at ./log/docker/store_node1_2025-01-03_04-27-09__7a6c4727-ef0e-4144-87b2-9b65049af5f1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51269
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51269/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51269/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.219/tcp/51270/p2p/16Uiu2HAm4XQF315XAuAZRx66zjz8YmVB6iedJzjVwFRgQVEEgH6u","/ip4/172.18.35.219/tcp/51271/ws/p2p/16Uiu2HAm4XQF315XAuAZRx66zjz8YmVB6iedJzjVwFRgQVEEgH6u"],"enrUri":"enr:-L24QAnJx1qMfiQrkCx1x5DlY7Ng7m3NSM0yR8EpvU4D83ObaXAUd9_Wn89QCc7ryMYB2FuDkV2DufwyF73kEcSbSjQCgmlkgnY0gmlwhKwSI9uKbXVsdGlhZGRyc5YACASsEiPbBshGAAoErBIj2wbIR90DgnJzhQADAQAAiXNlY3AyNTZrMaEChzDfgZkaWBnRDlecRt2hJIV5QGEW6mBLc7aX5nddEh6DdGNwgshGg3VkcILISIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51269/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.132.221/tcp/32176/p2p/16Uiu2HAmJn18bPYCVY6biCT5iUYVyZkXEqK4VGpWrQkbWhNQUUhf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32175/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51269/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32175/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32175/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32175/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32175/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32175/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32175/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:204 inquering stored messages with start time 1735878438617819136 after end time 2427078442848723968
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32175/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1735878438617819136&endTime=2427078442848723968&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"HEPWWiT38TWf4Jg/2arVnYF1GTLxfmUGNok+QQPs8rU=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878438617819136,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"MEz3cxzxiVQ8tDNULJsJRaQX7B8TBET51JorU+dYgdA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878440617825024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"293KIeGt7RJsAeM+pho55Uch3HGJb4md4z4wn7hnD+U=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878441517827072,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"BgxURsI0/eDQgex9mv59Ci8ygWToCAGSsTgm6Dbc6oM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878441717828864,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"7/v8LIDSiYbQSFRZ2RPe60A67iSLig9mmy4olsPcZWE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878443617830912,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"is1pjE7mP0SovNy9iaXyrOwo379kV2S/BlRHhSxJ0Kc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878451617831936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1735878438617819136 and end time = 2427078442848723968 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51269/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1735878438617819136&endTime=2427078442848723968&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"HEPWWiT38TWf4Jg/2arVnYF1GTLxfmUGNok+QQPs8rU=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878438617819136,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"MEz3cxzxiVQ8tDNULJsJRaQX7B8TBET51JorU+dYgdA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878440617825024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"293KIeGt7RJsAeM+pho55Uch3HGJb4md4z4wn7hnD+U=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878441517827072,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"BgxURsI0/eDQgex9mv59Ci8ygWToCAGSsTgm6Dbc6oM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878441717828864,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"7/v8LIDSiYbQSFRZ2RPe60A67iSLig9mmy4olsPcZWE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878443617830912,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"is1pjE7mP0SovNy9iaXyrOwo379kV2S/BlRHhSxJ0Kc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1735878451617831936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1735878438617819136 and end time = 2427078442848723968 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id dbfb0e6c459a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 565d6aa1e5a6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dbfb0e6c459a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.