[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_content_topic_string_instead_of_list with id: 2025-01-03_04-11-57__74e7e022-4ec8-4a63-b728-a42ae81702e9
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-03_04-11-57__74e7e022-4ec8-4a63-b728-a42ae81702e9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.126.185
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['65383', '65384', '65385', '65386', '65387']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 65383:65383 -p 65384:65384 -p 65385:65385 -p 65386:65386 -p 65387:65387 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65385 --rest-port=65383 --tcp-port=65384 --discv5-udp-port=65386 --rest-address=0.0.0.0 --nat=extip:172.18.126.185 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e0dbfaf9eacfa441d97fddb8eb2daa0dabd9f6c9edbdcf18712aadbecad09d45 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65387 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.126.185 waku b85cf80fdc9480aa3da140ab71b28267c04dc3f0c5ef0fa33e8948248493f702
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b85cf80fdc94. Setting up logs at ./log/docker/node1_2025-01-03_04-11-57__74e7e022-4ec8-4a63-b728-a42ae81702e9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 65383
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 948a0efca0d0. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65383/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65383/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.185/tcp/65384/p2p/16Uiu2HAmBZvUhZVxGj62Tgd2159nTpEgxcGsNky4F39d7hbwJqZL","/ip4/172.18.126.185/tcp/65385/ws/p2p/16Uiu2HAmBZvUhZVxGj62Tgd2159nTpEgxcGsNky4F39d7hbwJqZL"],"enrUri":"enr:-L24QBpX2gJomZdVHehzkXuATn5UF8_bGN1MZv6kkYPF_w4PW6wUPn69EJD_LrKPMnRW6EOtqBg6E_epbzv1A0KktgICgmlkgnY0gmlwhKwSfrmKbXVsdGlhZGRyc5YACASsEn65Bv9oAAoErBJ-uQb_ad0DgnJzhQADAQAAiXNlY3AyNTZrMaEC79gH2mGggwqUe9JaY0y-EUn7f-yUE8POT9g6A8OcEFuDdGNwgv9og3VkcIL_aoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-03_04-11-57__74e7e022-4ec8-4a63-b728-a42ae81702e9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.66.10
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44931', '44932', '44933', '44934', '44935']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44931:44931 -p 44932:44932 -p 44933:44933 -p 44934:44934 -p 44935:44935 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44933 --rest-port=44931 --tcp-port=44932 --discv5-udp-port=44934 --rest-address=0.0.0.0 --nat=extip:172.18.66.10 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=54c2172fe234b0eda2a2d6cebc29b532e9b0335f3bae2e1e088abfafeac967af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44935 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QBpX2gJomZdVHehzkXuATn5UF8_bGN1MZv6kkYPF_w4PW6wUPn69EJD_LrKPMnRW6EOtqBg6E_epbzv1A0KktgICgmlkgnY0gmlwhKwSfrmKbXVsdGlhZGRyc5YACASsEn65Bv9oAAoErBJ-uQb_ad0DgnJzhQADAQAAiXNlY3AyNTZrMaEC79gH2mGggwqUe9JaY0y-EUn7f-yUE8POT9g6A8OcEFuDdGNwgv9og3VkcIL_aoV3YWt1MgU --filternode=/ip4/172.18.126.185/tcp/65384/p2p/16Uiu2HAmBZvUhZVxGj62Tgd2159nTpEgxcGsNky4F39d7hbwJqZL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.66.10 waku 9946791c5086d2f2562e6562d48af32a472018288487142076fe1737af3ce65c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9946791c5086. Setting up logs at ./log/docker/node2_2025-01-03_04-11-57__74e7e022-4ec8-4a63-b728-a42ae81702e9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 44931
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44931/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44931/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.66.10/tcp/44932/p2p/16Uiu2HAkzLqhS9UCJXTx7vdcZjckEyfwdK5HWSKXfCTMHfey52tb","/ip4/172.18.66.10/tcp/44933/ws/p2p/16Uiu2HAkzLqhS9UCJXTx7vdcZjckEyfwdK5HWSKXfCTMHfey52tb"],"enrUri":"enr:-L24QEGUfp9NODOsHvWc3dbFIYArmJ5cQ_xYB__apYAjy5r-ZuYxJEqqHrD5_cm9t_ccMky-yjO14M2UYN5WEpPOVnICgmlkgnY0gmlwhKwSQgqKbXVsdGlhZGRyc5YACASsEkIKBq-EAAoErBJCCgavhd0DgnJzhQADAQAAiXNlY3AyNTZrMaECSQ2EybImKSrAHvJ56ys8zJMA9cNMY27WhD3y4m8vxpSDdGNwgq-Eg3VkcIKvhoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44931/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.126.185/tcp/65384/p2p/16Uiu2HAmBZvUhZVxGj62Tgd2159nTpEgxcGsNky4F39d7hbwJqZL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65383/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44931/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1af55ed1-751b-43d4-b47d-ddea7869e62e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1af55ed1-751b-43d4-b47d-ddea7869e62e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:44931/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto", "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44931/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b85cf80fdc94
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9946791c5086
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b85cf80fdc94. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.