[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_extra_field with id: 2025-01-03_04-13-30__f2f19ba3-ec7f-4acb-b72c-93bf2d4e99e2
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-01-03_04-13-30__f2f19ba3-ec7f-4acb-b72c-93bf2d4e99e2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.22.114
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22980', '22981', '22982', '22983', '22984']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22980:22980 -p 22981:22981 -p 22982:22982 -p 22983:22983 -p 22984:22984 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22982 --rest-port=22980 --tcp-port=22981 --discv5-udp-port=22983 --rest-address=0.0.0.0 --nat=extip:172.18.22.114 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6febbb350ab033b84ca1fd3f5cdbfd670a1ee45627735b904b9e0ea2af295da0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22984 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.22.114 waku ecb521b65fdc8e6137ac7c10a2a83601290ce69e197da6d1461e8ca2ae63c0bb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ecb521b65fdc. Setting up logs at ./log/docker/receiving_node1_2025-01-03_04-13-30__f2f19ba3-ec7f-4acb-b72c-93bf2d4e99e2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 22980
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 20443cef8e12. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22980/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22980/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.114/tcp/22981/p2p/16Uiu2HAmKSNcSvdYASKptionmCB1xdUYqPFequ7Tdx5nZ9owUehf","/ip4/172.18.22.114/tcp/22982/ws/p2p/16Uiu2HAmKSNcSvdYASKptionmCB1xdUYqPFequ7Tdx5nZ9owUehf"],"enrUri":"enr:-L24QLU06fTTYhHbWO6-k_A8AmSal8JGwQuIUoY63FG-SI3bC5tD25NMoqhyuCifnHg0vXy9Ce3do7KnTb56zi2DmgYCgmlkgnY0gmlwhKwSFnKKbXVsdGlhZGRyc5YACASsEhZyBlnFAAoErBIWcgZZxt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDZMZtz4SJD46_1sKdhZUIoPr5r6eYTUuVBsZV2CzOaMKDdGNwglnFg3VkcIJZx4V3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-01-03_04-13-30__f2f19ba3-ec7f-4acb-b72c-93bf2d4e99e2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.183.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17272', '17273', '17274', '17275', '17276']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17272:17272 -p 17273:17273 -p 17274:17274 -p 17275:17275 -p 17276:17276 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17274 --rest-port=17272 --tcp-port=17273 --discv5-udp-port=17275 --rest-address=0.0.0.0 --nat=extip:172.18.183.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6a1375cb2a90bcbce7edcbf5eeacc2feaaefc6297aade2c6faaad8004e73be21 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17276 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.183.31 waku 83eb74f217c20a6fbb62143c6f0ba439497b944f3dbd2c67525c1d0cc473f311
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 83eb74f217c2. Setting up logs at ./log/docker/receiving_node2_2025-01-03_04-13-30__f2f19ba3-ec7f-4acb-b72c-93bf2d4e99e2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 17272
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17272/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17272/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.183.31/tcp/17273/p2p/16Uiu2HAmGHx5qTQ8idTKiqoELHfqmvo3tWXjx6mmqtWj2tbjG7ik","/ip4/172.18.183.31/tcp/17274/ws/p2p/16Uiu2HAmGHx5qTQ8idTKiqoELHfqmvo3tWXjx6mmqtWj2tbjG7ik"],"enrUri":"enr:-L24QCIsTXdr833Fsg355IG4TUi1OaEO816xQKHdziQZl9NHaMo2YcAPYfx8uDmfscUsuUg11hyP8WSGrLgvmm1z_rsCgmlkgnY0gmlwhKwStx-KbXVsdGlhZGRyc5YACASsErcfBkN5AAoErBK3HwZDet0DgnJzhQADAQAAiXNlY3AyNTZrMaEDNgr88D9sWT7Rn5ZQqndUca54cjwN0K_DkG5pM0k3NcWDdGNwgkN5g3VkcIJDe4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17272/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.114/tcp/22981/p2p/16Uiu2HAmKSNcSvdYASKptionmCB1xdUYqPFequ7Tdx5nZ9owUehf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-01-03_04-13-30__f2f19ba3-ec7f-4acb-b72c-93bf2d4e99e2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.223.147
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7251', '7252', '7253', '7254', '7255']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7251:7251 -p 7252:7252 -p 7253:7253 -p 7254:7254 -p 7255:7255 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7253 --rest-port=7251 --tcp-port=7252 --discv5-udp-port=7254 --rest-address=0.0.0.0 --nat=extip:172.18.223.147 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d83f02fda547aecadfef8d7b885a649a5af3bc2a8ff7fe6fbafcd1faecee9bba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7255 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QLU06fTTYhHbWO6-k_A8AmSal8JGwQuIUoY63FG-SI3bC5tD25NMoqhyuCifnHg0vXy9Ce3do7KnTb56zi2DmgYCgmlkgnY0gmlwhKwSFnKKbXVsdGlhZGRyc5YACASsEhZyBlnFAAoErBIWcgZZxt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDZMZtz4SJD46_1sKdhZUIoPr5r6eYTUuVBsZV2CzOaMKDdGNwglnFg3VkcIJZx4V3YWt1Mgk --lightpushnode=/ip4/172.18.22.114/tcp/22981/p2p/16Uiu2HAmKSNcSvdYASKptionmCB1xdUYqPFequ7Tdx5nZ9owUehf --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.223.147 waku 1861e0fe50fbbebb2d41aa3a16a0e8efaed345476c7d1008100bfd92f2ddf40b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1861e0fe50fb. Setting up logs at ./log/docker/lightpush_node1_2025-01-03_04-13-30__f2f19ba3-ec7f-4acb-b72c-93bf2d4e99e2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7251
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7251/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7251/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.223.147/tcp/7252/p2p/16Uiu2HAm9xx3bne1RKXZuCtwnWz2qeHdaSmUsD93dxzhYdRWx94L","/ip4/172.18.223.147/tcp/7253/ws/p2p/16Uiu2HAm9xx3bne1RKXZuCtwnWz2qeHdaSmUsD93dxzhYdRWx94L"],"enrUri":"enr:-L24QPdAHdkhfFSZ8u9uq57acJdd6Mh6i02B5cGi0OBrg6lAFMRt1KNqvpGZniuPFs6fq9Z80FtrvjYt426_Mg1Hde0CgmlkgnY0gmlwhKwS35OKbXVsdGlhZGRyc5YACASsEt-TBhxUAAoErBLfkwYcVd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC2AbJm1SKPqRN6w4eeueNEtYdNj2iJbArRgufuPQPHsmDdGNwghxUg3VkcIIcVoV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7251/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.114/tcp/22981/p2p/16Uiu2HAmKSNcSvdYASKptionmCB1xdUYqPFequ7Tdx5nZ9owUehf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7251/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.183.31/tcp/17273/p2p/16Uiu2HAmGHx5qTQ8idTKiqoELHfqmvo3tWXjx6mmqtWj2tbjG7ik"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22980/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17272/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7251/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1735877614964201472, "extraField": "extraValue"}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:7251/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ecb521b65fdc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 83eb74f217c2
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ecb521b65fdc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1861e0fe50fb
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 83eb74f217c2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.