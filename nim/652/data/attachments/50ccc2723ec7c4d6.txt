2025-02-15 04:05:04.994 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 04:05:04.995 DEBUG [tests.conftest] Running test: test_multiple_content_topics_same_shard[content_topic_list1] with id: 2025-02-15_04-05-04__d14e81ec-90e8-48bb-8a3d-c27df7056413
2025-02-15 04:05:04.995 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 04:05:04.995 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-15 04:05:04.996 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-15 04:05:05.004 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:05:05.004 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-15_04-05-04__d14e81ec-90e8-48bb-8a3d-c27df7056413__wakuorg_nwaku:latest.log
2025-02-15 04:05:05.004 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:05:05.004 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:05:05.006 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:05:05.006 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.48.83
2025-02-15 04:05:05.006 DEBUG [src.node.docker_mananger] Generated ports ['61956', '61957', '61958', '61959', '61960']
2025-02-15 04:05:05.006 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:05:05.006 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:05:05.006 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:05:05.007 DEBUG [src.node.docker_mananger] docker run -i -t -p 61956:61956 -p 61957:61957 -p 61958:61958 -p 61959:61959 -p 61960:61960 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61958 --rest-port=61956 --tcp-port=61957 --discv5-udp-port=61959 --rest-address=0.0.0.0 --nat=extip:172.18.48.83 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=9cc1d06cb83bcb67bba60b69a503b7fbd5b06ccb5e1cac7dba26fde8c8e2cc02 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61960 --metrics-logging=true --relay=true --filter=true --content-topic=/newsService/2.0/alerts/yaml --content-topic=/newsService/2.0/highlights/xml --content-topic=/newsService/3.0/daily/protobuf --content-topic=/newsService/3.0/alerts/xml --content-topic=/newsService/3.0/updates/protobuf --content-topic=/newsService/3.0/reviews/xml --content-topic=/newsService/4.0/alerts/yaml --content-topic=/newsService/4.0/updates/yaml
2025-02-15 04:05:05.243 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.48.83 waku 46a6cfdc74687cc00234d3a5e3bc93b4327336da5de57ceb035e42524765df13
2025-02-15 04:05:05.290 DEBUG [src.node.docker_mananger] Container started with ID 46a6cfdc7468. Setting up logs at ./log/docker/node1_2025-02-15_04-05-04__d14e81ec-90e8-48bb-8a3d-c27df7056413__wakuorg_nwaku:latest.log
2025-02-15 04:05:05.290 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 61956
2025-02-15 04:05:05.291 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:05:05.793 ERROR [src.node.docker_mananger] Max retries reached for container ac445cb7fefa. Exiting log stream.
2025-02-15 04:05:06.292 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61956/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:06.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:05:06.295 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:05:06.296 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61956/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:06.298 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.48.83/tcp/61957/p2p/16Uiu2HAkujN1e67YKUfHidEz44ycF2kyruV1Jqsw1Mn36U7AVFqT","/ip4/172.18.48.83/tcp/61958/ws/p2p/16Uiu2HAkujN1e67YKUfHidEz44ycF2kyruV1Jqsw1Mn36U7AVFqT"],"enrUri":"enr:-L24QAgqBtW9i5NkpILHr2nAJqKInZr-JDM-EYQWGtZdlF93Foel0b0y9OfMBB-0u4raty7j6Hhj4LuVYGuSZLYAfIoCgmlkgnY0gmlwhKwSMFOKbXVsdGlhZGRyc5YACASsEjBTBvIFAAoErBIwUwbyBt0DgnJzhQACAQAAiXNlY3AyNTZrMaECBIgjTXUfz_Wq9SoDEgs97Oa4a9vTvP4KUkWOIP4jd-KDdGNwgvIFg3VkcILyB4V3YWt1MgU"}'
2025-02-15 04:05:06.298 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:05:06.304 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:05:06.304 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-15_04-05-04__d14e81ec-90e8-48bb-8a3d-c27df7056413__wakuorg_nwaku:latest.log
2025-02-15 04:05:06.305 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:05:06.305 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:05:06.306 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:05:06.306 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.112.248
2025-02-15 04:05:06.306 DEBUG [src.node.docker_mananger] Generated ports ['58199', '58200', '58201', '58202', '58203']
2025-02-15 04:05:06.306 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:05:06.307 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:05:06.307 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:05:06.307 DEBUG [src.node.docker_mananger] docker run -i -t -p 58199:58199 -p 58200:58200 -p 58201:58201 -p 58202:58202 -p 58203:58203 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58201 --rest-port=58199 --tcp-port=58200 --discv5-udp-port=58202 --rest-address=0.0.0.0 --nat=extip:172.18.112.248 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=0e1dd5711ee9fe2ef0f1c59fe7694ac56dbcaa2bf07cba3d2e9aea2ca4fad1cf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58203 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAgqBtW9i5NkpILHr2nAJqKInZr-JDM-EYQWGtZdlF93Foel0b0y9OfMBB-0u4raty7j6Hhj4LuVYGuSZLYAfIoCgmlkgnY0gmlwhKwSMFOKbXVsdGlhZGRyc5YACASsEjBTBvIFAAoErBIwUwbyBt0DgnJzhQACAQAAiXNlY3AyNTZrMaECBIgjTXUfz_Wq9SoDEgs97Oa4a9vTvP4KUkWOIP4jd-KDdGNwgvIFg3VkcILyB4V3YWt1MgU --content-topic=/newsService/2.0/alerts/yaml --content-topic=/newsService/2.0/highlights/xml --content-topic=/newsService/3.0/daily/protobuf --content-topic=/newsService/3.0/alerts/xml --content-topic=/newsService/3.0/updates/protobuf --content-topic=/newsService/3.0/reviews/xml --content-topic=/newsService/4.0/alerts/yaml --content-topic=/newsService/4.0/updates/yaml
2025-02-15 04:05:06.534 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.112.248 waku 3df3e65c0413b3ee8cd26c4cfb2fae7f97dfe4535fcd6899fb07d42f1bb4d3c0
2025-02-15 04:05:06.584 DEBUG [src.node.docker_mananger] Container started with ID 3df3e65c0413. Setting up logs at ./log/docker/node2_2025-02-15_04-05-04__d14e81ec-90e8-48bb-8a3d-c27df7056413__wakuorg_nwaku:latest.log
2025-02-15 04:05:06.584 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58199
2025-02-15 04:05:06.585 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:05:07.585 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58199/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:07.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:05:07.594 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:05:07.598 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58199/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:07.607 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.112.248/tcp/58200/p2p/16Uiu2HAmGw84kWKbCYv488KoCLeH52TGahZbegsQvpscYG3eS8Fq","/ip4/172.18.112.248/tcp/58201/ws/p2p/16Uiu2HAmGw84kWKbCYv488KoCLeH52TGahZbegsQvpscYG3eS8Fq"],"enrUri":"enr:-L24QFBU9hbEJsnMyR5A-373nS4V8f6T0fcWkNwN8o6wisylJB89OML3uh3aR21LqWZBVQ8moDA8NoJ5JCyde3A_nFQCgmlkgnY0gmlwhKwScPiKbXVsdGlhZGRyc5YACASsEnD4BuNYAAoErBJw-AbjWd0DgnJzhQACAQAAiXNlY3AyNTZrMaEDP5DDi_JCT_G3MJXOiHGpwTy3GrGxiymtXHsoihYXShCDdGNwguNYg3VkcILjWoV3YWt1MgE"}'
2025-02-15 04:05:07.608 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:05:07.609 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58199/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.83/tcp/61957/p2p/16Uiu2HAkujN1e67YKUfHidEz44ycF2kyruV1Jqsw1Mn36U7AVFqT"]'
2025-02-15 04:05:07.613 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:05:07.613 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61956/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/alerts/yaml", "/newsService/2.0/highlights/xml", "/newsService/3.0/daily/protobuf", "/newsService/3.0/alerts/xml", "/newsService/3.0/updates/protobuf", "/newsService/3.0/reviews/xml", "/newsService/4.0/alerts/yaml", "/newsService/4.0/updates/yaml"]'
2025-02-15 04:05:07.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:05:07.617 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/alerts/yaml", "/newsService/2.0/highlights/xml", "/newsService/3.0/daily/protobuf", "/newsService/3.0/alerts/xml", "/newsService/3.0/updates/protobuf", "/newsService/3.0/reviews/xml", "/newsService/4.0/alerts/yaml", "/newsService/4.0/updates/yaml"]'
2025-02-15 04:05:07.619 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:05:07.619 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61956/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:05:07.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:05:07.624 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:05:07.725 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:07.725 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61956/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:07.728 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/yaml","version":0,"timestamp":1739592307619610368,"ephemeral":false}]'
2025-02-15 04:05:07.730 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:07.730 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58199/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:07.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/yaml","version":0,"timestamp":1739592307619610368,"ephemeral":false}]'
2025-02-15 04:05:07.734 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61956/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/xml", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:05:07.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:05:07.739 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:05:07.839 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:07.840 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61956/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:07.843 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/xml","version":0,"timestamp":1739592307734606848,"ephemeral":false}]'
2025-02-15 04:05:07.844 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:07.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58199/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:07.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/xml","version":0,"timestamp":1739592307734606848,"ephemeral":false}]'
2025-02-15 04:05:07.848 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61956/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/daily/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:05:07.853 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:05:07.854 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:05:07.954 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:07.955 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61956/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fdaily%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:07.957 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/daily/protobuf","version":0,"timestamp":1739592307848573440,"ephemeral":false}]'
2025-02-15 04:05:07.958 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:07.959 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58199/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fdaily%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:07.961 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/daily/protobuf","version":0,"timestamp":1739592307848573440,"ephemeral":false}]'
2025-02-15 04:05:07.963 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61956/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:05:07.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:05:07.968 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:05:08.069 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:08.069 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61956/relay/v1/auto/messages/%2FnewsService%2F3.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:08.072 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/alerts/xml","version":0,"timestamp":1739592307962978304,"ephemeral":false}]'
2025-02-15 04:05:08.073 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:08.073 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58199/relay/v1/auto/messages/%2FnewsService%2F3.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:08.075 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/alerts/xml","version":0,"timestamp":1739592307962978304,"ephemeral":false}]'
2025-02-15 04:05:08.077 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61956/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/updates/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:05:08.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:05:08.083 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:05:08.184 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:08.184 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61956/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fupdates%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:08.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/updates/protobuf","version":0,"timestamp":1739592308077542400,"ephemeral":false}]'
2025-02-15 04:05:08.188 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:08.189 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58199/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fupdates%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:08.191 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/updates/protobuf","version":0,"timestamp":1739592308077542400,"ephemeral":false}]'
2025-02-15 04:05:08.192 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61956/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/reviews/xml", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:05:08.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:05:08.198 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:05:08.299 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:08.299 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61956/relay/v1/auto/messages/%2FnewsService%2F3.0%2Freviews%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:08.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/reviews/xml","version":0,"timestamp":1739592308192816896,"ephemeral":false}]'
2025-02-15 04:05:08.304 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:08.304 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58199/relay/v1/auto/messages/%2FnewsService%2F3.0%2Freviews%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:08.306 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/reviews/xml","version":0,"timestamp":1739592308192816896,"ephemeral":false}]'
2025-02-15 04:05:08.308 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61956/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/4.0/alerts/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:05:08.312 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:05:08.313 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:05:08.413 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:08.414 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61956/relay/v1/auto/messages/%2FnewsService%2F4.0%2Falerts%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:08.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/4.0/alerts/yaml","version":0,"timestamp":1739592308308207104,"ephemeral":false}]'
2025-02-15 04:05:08.417 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:08.418 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58199/relay/v1/auto/messages/%2FnewsService%2F4.0%2Falerts%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:08.420 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/4.0/alerts/yaml","version":0,"timestamp":1739592308308207104,"ephemeral":false}]'
2025-02-15 04:05:08.422 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61956/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/4.0/updates/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:05:08.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:05:08.426 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:05:08.527 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:08.527 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61956/relay/v1/auto/messages/%2FnewsService%2F4.0%2Fupdates%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:08.530 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/4.0/updates/yaml","version":0,"timestamp":1739592308421937920,"ephemeral":false}]'
2025-02-15 04:05:08.531 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:05:08.532 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58199/relay/v1/auto/messages/%2FnewsService%2F4.0%2Fupdates%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:05:08.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/4.0/updates/yaml","version":0,"timestamp":1739592308421937920,"ephemeral":false}]'
2025-02-15 04:05:08.537 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 04:05:08.538 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 04:05:08.538 DEBUG [src.node.waku_node] Stopping container with id 46a6cfdc7468
2025-02-15 04:05:09.782 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:05:09.782 DEBUG [src.node.waku_node] Stopping container with id 3df3e65c0413
2025-02-15 04:05:10.594 ERROR [src.node.docker_mananger] Max retries reached for container 46a6cfdc7468. Exiting log stream.
2025-02-15 04:05:11.270 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:05:11.272 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 04:05:11.280 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 04:05:11.287 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
