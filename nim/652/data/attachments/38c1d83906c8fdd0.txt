2025-02-15 04:04:21.167 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 04:04:21.167 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics_one_by_one with id: 2025-02-15_04-04-21__1adef250-7f36-42b2-bf43-d169327bd622
2025-02-15 04:04:21.167 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 04:04:21.168 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-15 04:04:21.168 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-15 04:04:21.174 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:04:21.174 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-15_04-04-21__1adef250-7f36-42b2-bf43-d169327bd622__wakuorg_nwaku:latest.log
2025-02-15 04:04:21.175 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:04:21.175 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:04:21.176 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:04:21.176 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.239.25
2025-02-15 04:04:21.176 DEBUG [src.node.docker_mananger] Generated ports ['43700', '43701', '43702', '43703', '43704']
2025-02-15 04:04:21.176 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:04:21.177 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:04:21.177 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:04:21.177 DEBUG [src.node.docker_mananger] docker run -i -t -p 43700:43700 -p 43701:43701 -p 43702:43702 -p 43703:43703 -p 43704:43704 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43702 --rest-port=43700 --tcp-port=43701 --discv5-udp-port=43703 --rest-address=0.0.0.0 --nat=extip:172.18.239.25 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=0dcddfd4b88d6eb67ecab60ee4bc60cc6ab1ad65aecafced5251b5c173998aa6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43704 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-15 04:04:21.404 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.239.25 waku 3474c7d32722b3773036e9baf5d67b1e90e14ae1eb9750f40e2cfdbc44054dcc
2025-02-15 04:04:21.456 DEBUG [src.node.docker_mananger] Container started with ID 3474c7d32722. Setting up logs at ./log/docker/node1_2025-02-15_04-04-21__1adef250-7f36-42b2-bf43-d169327bd622__wakuorg_nwaku:latest.log
2025-02-15 04:04:21.457 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 43700
2025-02-15 04:04:21.458 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:04:21.977 ERROR [src.node.docker_mananger] Max retries reached for container d4081a248208. Exiting log stream.
2025-02-15 04:04:22.459 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:22.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:04:22.462 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:04:22.462 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:22.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.239.25/tcp/43701/p2p/16Uiu2HAm7S7ZGKGMJ49u5nx7mGUaVyUAyhZcBZerMdqmNyb1KMti","/ip4/172.18.239.25/tcp/43702/ws/p2p/16Uiu2HAm7S7ZGKGMJ49u5nx7mGUaVyUAyhZcBZerMdqmNyb1KMti"],"enrUri":"enr:-L24QBbOqiXAKAGgw5mdcwbmSSbkVyJxDsU2QKXR5Y3ekbqALe8GsCBPyJUu6HNRhrPReHIq53Xqg90E8VIGgilsDVQCgmlkgnY0gmlwhKwS7xmKbXVsdGlhZGRyc5YACASsEu8ZBqq1AAoErBLvGQaqtt0DgnJzhQACAQAAiXNlY3AyNTZrMaECsmkpyTgteq_vSDdQ9RNgTAir9uCa4Usl5gbbz57NDxeDdGNwgqq1g3VkcIKqt4V3YWt1MgU"}'
2025-02-15 04:04:22.464 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:04:22.471 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:04:22.471 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-15_04-04-21__1adef250-7f36-42b2-bf43-d169327bd622__wakuorg_nwaku:latest.log
2025-02-15 04:04:22.471 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:04:22.471 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:04:22.472 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:04:22.473 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.30.131
2025-02-15 04:04:22.473 DEBUG [src.node.docker_mananger] Generated ports ['59836', '59837', '59838', '59839', '59840']
2025-02-15 04:04:22.473 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:04:22.473 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:04:22.473 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:04:22.473 DEBUG [src.node.docker_mananger] docker run -i -t -p 59836:59836 -p 59837:59837 -p 59838:59838 -p 59839:59839 -p 59840:59840 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59838 --rest-port=59836 --tcp-port=59837 --discv5-udp-port=59839 --rest-address=0.0.0.0 --nat=extip:172.18.30.131 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ecbdc4163caca804f3c5eec1fcc6d5b4cd1c830e00ac50f4c05b3988bfde6d0d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59840 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBbOqiXAKAGgw5mdcwbmSSbkVyJxDsU2QKXR5Y3ekbqALe8GsCBPyJUu6HNRhrPReHIq53Xqg90E8VIGgilsDVQCgmlkgnY0gmlwhKwS7xmKbXVsdGlhZGRyc5YACASsEu8ZBqq1AAoErBLvGQaqtt0DgnJzhQACAQAAiXNlY3AyNTZrMaECsmkpyTgteq_vSDdQ9RNgTAir9uCa4Usl5gbbz57NDxeDdGNwgqq1g3VkcIKqt4V3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-15 04:04:22.698 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.30.131 waku 93ec9ae58c9be2e89d444ef9e0abf842a2b7ddcb24f2390ccf7ac696ecb57254
2025-02-15 04:04:22.753 DEBUG [src.node.docker_mananger] Container started with ID 93ec9ae58c9b. Setting up logs at ./log/docker/node2_2025-02-15_04-04-21__1adef250-7f36-42b2-bf43-d169327bd622__wakuorg_nwaku:latest.log
2025-02-15 04:04:22.753 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 59836
2025-02-15 04:04:22.754 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:04:23.756 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59836/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:23.764 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:04:23.765 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:04:23.765 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59836/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:23.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.131/tcp/59837/p2p/16Uiu2HAmT7KzUieiufNp6onxVxSQdZRuRWQmdEnkrhg5yPn45tY2","/ip4/172.18.30.131/tcp/59838/ws/p2p/16Uiu2HAmT7KzUieiufNp6onxVxSQdZRuRWQmdEnkrhg5yPn45tY2"],"enrUri":"enr:-L24QA__dNWhZKwv_8MY03wvTADlxxXyE-ipl1Ix0NEx6kE8IyrpS1yvVJDityQA0UzAUw739-6ngoEXi0aHj6VdBIoCgmlkgnY0gmlwhKwSHoOKbXVsdGlhZGRyc5YACASsEh6DBum9AAoErBIegwbpvt0DgnJzhQACAQAAiXNlY3AyNTZrMaED1sLtJk03fiuSQO9ht34lejmPpJs_VjTFR3k2m9q5CaODdGNwgum9g3VkcILpv4V3YWt1MgE"}'
2025-02-15 04:04:23.771 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:04:23.773 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59836/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.239.25/tcp/43701/p2p/16Uiu2HAm7S7ZGKGMJ49u5nx7mGUaVyUAyhZcBZerMdqmNyb1KMti"]'
2025-02-15 04:04:23.776 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:23.777 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-15 04:04:23.788 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:23.788 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59836/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-15 04:04:23.807 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:23.810 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:23.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:23.821 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:23.922 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:23.922 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:23.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592263810018048,"ephemeral":false}]'
2025-02-15 04:04:23.926 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:23.926 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59836/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:23.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592263810018048,"ephemeral":false}]'
2025-02-15 04:04:23.930 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:23.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:23.936 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:24.037 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.037 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739592263930493184,"ephemeral":false}]'
2025-02-15 04:04:24.041 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.041 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59836/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.044 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739592263930493184,"ephemeral":false}]'
2025-02-15 04:04:24.045 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:24.050 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.052 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:24.152 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.152 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.154 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739592264045876224,"ephemeral":false}]'
2025-02-15 04:04:24.156 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.156 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59836/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.158 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739592264045876224,"ephemeral":false}]'
2025-02-15 04:04:24.160 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:24.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.166 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:24.266 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.266 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.268 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739592264160318208,"ephemeral":false}]'
2025-02-15 04:04:24.270 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.270 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59836/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739592264160318208,"ephemeral":false}]'
2025-02-15 04:04:24.274 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:24.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.280 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:24.380 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.380 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.383 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739592264273957632,"ephemeral":false}]'
2025-02-15 04:04:24.384 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.384 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59836/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.386 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739592264273957632,"ephemeral":false}]'
2025-02-15 04:04:24.388 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:24.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.393 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:24.494 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.494 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.497 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739592264388320000,"ephemeral":false}]'
2025-02-15 04:04:24.498 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.498 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59836/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739592264388320000,"ephemeral":false}]'
2025-02-15 04:04:24.502 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:24.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.508 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:24.608 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.608 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739592264502625792,"ephemeral":false}]'
2025-02-15 04:04:24.612 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.613 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59836/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739592264502625792,"ephemeral":false}]'
2025-02-15 04:04:24.616 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:24.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.621 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:24.722 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.722 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739592264616466688,"ephemeral":false}]'
2025-02-15 04:04:24.726 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.726 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59836/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.728 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739592264616466688,"ephemeral":false}]'
2025-02-15 04:04:24.730 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43700/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-15 04:04:24.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.735 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:59836/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-15 04:04:24.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.740 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43700/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-15 04:04:24.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.746 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:59836/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-15 04:04:24.751 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.752 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43700/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-15 04:04:24.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.757 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:59836/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-15 04:04:24.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.762 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43700/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-15 04:04:24.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.768 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:59836/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-15 04:04:24.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.773 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43700/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-15 04:04:24.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.778 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:59836/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-15 04:04:24.782 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.783 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43700/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-15 04:04:24.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.789 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:59836/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-15 04:04:24.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.793 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43700/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-15 04:04:24.799 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.799 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:59836/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-15 04:04:24.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.804 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43700/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-15 04:04:24.808 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.809 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:59836/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-15 04:04:24.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.816 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:24.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.819 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:24.919 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:24.920 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:24.922 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43700/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-15 04:04:24.924 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:24.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:24.926 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:25.027 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:25.027 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:25.029 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43700/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-15 04:04:25.031 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:25.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:25.033 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:25.134 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:25.134 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:25.136 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-15 04:04:25.138 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:25.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:25.140 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:25.240 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:25.241 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:25.243 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43700/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-15 04:04:25.245 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:25.248 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:25.248 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:25.348 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:25.348 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:25.351 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43700/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-15 04:04:25.353 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:25.355 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:25.355 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:25.455 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:25.456 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:25.458 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-15 04:04:25.460 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:25.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:25.462 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:25.562 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:25.563 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:25.565 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-15 04:04:25.566 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43700/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:25.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:25.569 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:04:25.669 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:04:25.670 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:25.672 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:43700/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-15 04:04:25.674 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 04:04:25.675 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 04:04:25.675 DEBUG [src.node.waku_node] Stopping container with id 3474c7d32722
2025-02-15 04:04:26.936 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:04:26.936 DEBUG [src.node.waku_node] Stopping container with id 93ec9ae58c9b
2025-02-15 04:04:27.748 ERROR [src.node.docker_mananger] Max retries reached for container 3474c7d32722. Exiting log stream.
2025-02-15 04:04:28.430 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:04:28.431 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 04:04:28.448 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 04:04:28.461 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
