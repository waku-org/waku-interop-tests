2025-02-15 04:03:28.676 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 04:03:28.677 DEBUG [tests.conftest] Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2025-02-15_04-03-28__b82ae4b5-f3a4-4765-8f40-bc813eeac96b
2025-02-15 04:03:28.677 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 04:03:28.677 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-15 04:03:28.684 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:03:28.684 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-15_04-03-28__b82ae4b5-f3a4-4765-8f40-bc813eeac96b__wakuorg_nwaku:latest.log
2025-02-15 04:03:28.684 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:03:28.684 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:03:28.686 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:03:28.686 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.171.191
2025-02-15 04:03:28.686 DEBUG [src.node.docker_mananger] Generated ports ['8606', '8607', '8608', '8609', '8610']
2025-02-15 04:03:28.686 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:03:28.686 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:03:28.686 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:03:28.687 DEBUG [src.node.docker_mananger] docker run -i -t -p 8606:8606 -p 8607:8607 -p 8608:8608 -p 8609:8609 -p 8610:8610 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8608 --rest-port=8606 --tcp-port=8607 --discv5-udp-port=8609 --rest-address=0.0.0.0 --nat=extip:172.18.171.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bfba1ba8826a2eeebe22b00f2ff82b0aabd3434c36caca379a0f7f4cd5e28b1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8610 --metrics-logging=true --lightpush=true --relay=true
2025-02-15 04:03:28.914 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.171.191 waku eb3616bb1b03d74bf125b50621ccc5b47ad1200f213d4215f020c929d875bec7
2025-02-15 04:03:28.965 DEBUG [src.node.docker_mananger] Container started with ID eb3616bb1b03. Setting up logs at ./log/docker/receiving_node1_2025-02-15_04-03-28__b82ae4b5-f3a4-4765-8f40-bc813eeac96b__wakuorg_nwaku:latest.log
2025-02-15 04:03:28.966 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8606
2025-02-15 04:03:28.966 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:03:29.480 ERROR [src.node.docker_mananger] Max retries reached for container 5ab6a42d5325. Exiting log stream.
2025-02-15 04:03:29.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8606/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:29.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:03:29.971 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:03:29.971 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8606/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:29.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.191/tcp/8607/p2p/16Uiu2HAmKCs1FvwYGG2n3UjytLGrBSjFeacTicFcoN8EKVRxyDa2","/ip4/172.18.171.191/tcp/8608/ws/p2p/16Uiu2HAmKCs1FvwYGG2n3UjytLGrBSjFeacTicFcoN8EKVRxyDa2"],"enrUri":"enr:-L24QM7BkucMkvSC4IaT4yB-RVQwa_1OMGi_uu-KNNIyJcELKzsa-ADYYYZXNELZ95WttSJG-IYqi6UgfuTvCwF2xYACgmlkgnY0gmlwhKwSq7-KbXVsdGlhZGRyc5YACASsEqu_BiGfAAoErBKrvwYhoN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYVBm6ghl7R02t2brDsSN4ExdhwB7Mo5I9OrkSfd4FluDdGNwgiGfg3VkcIIhoYV3YWt1Mgk"}'
2025-02-15 04:03:29.974 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:03:29.980 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:03:29.980 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-15_04-03-28__b82ae4b5-f3a4-4765-8f40-bc813eeac96b__wakuorg_nwaku:latest.log
2025-02-15 04:03:29.980 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:03:29.981 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:03:29.982 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:03:29.982 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.88.182
2025-02-15 04:03:29.982 DEBUG [src.node.docker_mananger] Generated ports ['43080', '43081', '43082', '43083', '43084']
2025-02-15 04:03:29.982 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:03:29.983 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:03:29.983 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:03:29.983 DEBUG [src.node.docker_mananger] docker run -i -t -p 43080:43080 -p 43081:43081 -p 43082:43082 -p 43083:43083 -p 43084:43084 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43082 --rest-port=43080 --tcp-port=43081 --discv5-udp-port=43083 --rest-address=0.0.0.0 --nat=extip:172.18.88.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=98b48b1ec33af680e3d67df59848bc14c4a96d3a2c9a0a9df8beea69ff8865c7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43084 --metrics-logging=true --lightpush=false --relay=true
2025-02-15 04:03:30.206 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.88.182 waku 04e9f8c86f2028b2adf1f3f407505199d39fb7dd574b75fe8b2d644a48fdcb9e
2025-02-15 04:03:30.257 DEBUG [src.node.docker_mananger] Container started with ID 04e9f8c86f20. Setting up logs at ./log/docker/receiving_node2_2025-02-15_04-03-28__b82ae4b5-f3a4-4765-8f40-bc813eeac96b__wakuorg_nwaku:latest.log
2025-02-15 04:03:30.258 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 43080
2025-02-15 04:03:30.259 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:03:31.259 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43080/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:31.262 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:03:31.262 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:03:31.262 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43080/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:31.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.88.182/tcp/43081/p2p/16Uiu2HAmH4MvR179BWUH65eZgUFgEaRxcbBoyD3q5WsYAVj3kAf6","/ip4/172.18.88.182/tcp/43082/ws/p2p/16Uiu2HAmH4MvR179BWUH65eZgUFgEaRxcbBoyD3q5WsYAVj3kAf6"],"enrUri":"enr:-L24QN-UuzuRbj1K3LlOUfnmbvtVQZ_6NYdPozr7hq_lqIQTQNj7m2dK8SYBOgXUeO5HWkVex8tiiDW2q7DfGYld_UkCgmlkgnY0gmlwhKwSWLaKbXVsdGlhZGRyc5YACASsEli2BqhJAAoErBJYtgaoSt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQWt_McoSJwJjdJ46tnkTCjn5AttFU2xq4aRYahRxnn2DdGNwgqhJg3VkcIKoS4V3YWt1MgE"}'
2025-02-15 04:03:31.265 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:03:31.265 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43080/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.171.191/tcp/8607/p2p/16Uiu2HAmKCs1FvwYGG2n3UjytLGrBSjFeacTicFcoN8EKVRxyDa2"]'
2025-02-15 04:03:31.305 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:31.313 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:03:31.314 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-15_04-03-28__b82ae4b5-f3a4-4765-8f40-bc813eeac96b__wakuorg_nwaku:latest.log
2025-02-15 04:03:31.314 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:03:31.314 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:03:31.315 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:03:31.316 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.16.71
2025-02-15 04:03:31.316 DEBUG [src.node.docker_mananger] Generated ports ['2986', '2987', '2988', '2989', '2990']
2025-02-15 04:03:31.316 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:03:31.316 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:03:31.316 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:03:31.316 DEBUG [src.node.docker_mananger] docker run -i -t -p 2986:2986 -p 2987:2987 -p 2988:2988 -p 2989:2989 -p 2990:2990 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2988 --rest-port=2986 --tcp-port=2987 --discv5-udp-port=2989 --rest-address=0.0.0.0 --nat=extip:172.18.16.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=051b6d84dd6d9ce35bb86b5aae5bebcebed3747fc4fff3f7432260fb32eae7a8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2990 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QM7BkucMkvSC4IaT4yB-RVQwa_1OMGi_uu-KNNIyJcELKzsa-ADYYYZXNELZ95WttSJG-IYqi6UgfuTvCwF2xYACgmlkgnY0gmlwhKwSq7-KbXVsdGlhZGRyc5YACASsEqu_BiGfAAoErBKrvwYhoN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYVBm6ghl7R02t2brDsSN4ExdhwB7Mo5I9OrkSfd4FluDdGNwgiGfg3VkcIIhoYV3YWt1Mgk --lightpushnode=/ip4/172.18.171.191/tcp/8607/p2p/16Uiu2HAmKCs1FvwYGG2n3UjytLGrBSjFeacTicFcoN8EKVRxyDa2 --lightpush=true --relay=false
2025-02-15 04:03:31.552 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.16.71 waku 56395feca3348c3019051c4fa88f928aace0f32f0337b06dbd4b0c79d05988e8
2025-02-15 04:03:31.596 DEBUG [src.node.docker_mananger] Container started with ID 56395feca334. Setting up logs at ./log/docker/lightpush_node1_2025-02-15_04-03-28__b82ae4b5-f3a4-4765-8f40-bc813eeac96b__wakuorg_nwaku:latest.log
2025-02-15 04:03:31.597 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 2986
2025-02-15 04:03:31.597 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:03:32.598 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2986/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:32.601 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:03:32.601 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:03:32.601 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2986/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:32.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.16.71/tcp/2987/p2p/16Uiu2HAmKTwYQL2gCjJYD54kQ6MVKxkbBXHrL1eBNGqjoyJGqHKf","/ip4/172.18.16.71/tcp/2988/ws/p2p/16Uiu2HAmKTwYQL2gCjJYD54kQ6MVKxkbBXHrL1eBNGqjoyJGqHKf"],"enrUri":"enr:-L24QJyrgCCqnvTIvwrs_2tI3PdXgRQDCVaMdZrfRK2TAtIcerrQ6eWWQie9gs1-qGIvUptu-H0wP6u7Opsf8J65H-sCgmlkgnY0gmlwhKwSEEeKbXVsdGlhZGRyc5YACASsEhBHBgurAAoErBIQRwYLrN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDZS0-ft-ceTPYU3YH8Dhfv49K3nOI_oXdHuOiaZNo4IqDdGNwggurg3VkcIILrYV3YWt1Mgg"}'
2025-02-15 04:03:32.603 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:03:32.604 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2986/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.171.191/tcp/8607/p2p/16Uiu2HAmKCs1FvwYGG2n3UjytLGrBSjFeacTicFcoN8EKVRxyDa2"]'
2025-02-15 04:03:32.642 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:32.643 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2986/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.88.182/tcp/43081/p2p/16Uiu2HAmH4MvR179BWUH65eZgUFgEaRxcbBoyD3q5WsYAVj3kAf6"]'
2025-02-15 04:03:32.676 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:32.677 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8606/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 04:03:32.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:32.682 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43080/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 04:03:32.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:32.691 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8606/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-15 04:03:32.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:32.700 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43080/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-15 04:03:32.714 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:32.715 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2986/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592212715263744}}'
2025-02-15 04:03:32.728 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:32.729 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:32.829 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8606/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:32.832 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-15 04:03:32.834 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 04:03:32.835 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 04:03:32.835 DEBUG [src.node.waku_node] Stopping container with id eb3616bb1b03
2025-02-15 04:03:33.465 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:03:33.466 DEBUG [src.node.waku_node] Stopping container with id 04e9f8c86f20
2025-02-15 04:03:34.278 ERROR [src.node.docker_mananger] Max retries reached for container eb3616bb1b03. Exiting log stream.
2025-02-15 04:03:34.980 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:03:34.981 DEBUG [src.node.waku_node] Stopping container with id 56395feca334
2025-02-15 04:03:35.793 ERROR [src.node.docker_mananger] Max retries reached for container 04e9f8c86f20. Exiting log stream.
2025-02-15 04:03:36.493 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:03:36.496 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 04:03:36.504 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 04:03:36.513 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 04:03:36.519 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
