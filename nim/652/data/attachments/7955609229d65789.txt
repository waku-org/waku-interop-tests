2025-02-15 04:04:18.415 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 04:04:18.415 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_invalid_request_id with id: 2025-02-15_04-04-18__52044f47-8c33-4c89-943c-dc1863f8bf96
2025-02-15 04:04:18.415 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 04:04:18.416 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-15 04:04:18.416 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-15 04:04:18.422 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:04:18.422 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-15_04-04-18__52044f47-8c33-4c89-943c-dc1863f8bf96__wakuorg_nwaku:latest.log
2025-02-15 04:04:18.422 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:04:18.422 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:04:18.423 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:04:18.424 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.228.192
2025-02-15 04:04:18.424 DEBUG [src.node.docker_mananger] Generated ports ['57712', '57713', '57714', '57715', '57716']
2025-02-15 04:04:18.424 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:04:18.424 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:04:18.424 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:04:18.424 DEBUG [src.node.docker_mananger] docker run -i -t -p 57712:57712 -p 57713:57713 -p 57714:57714 -p 57715:57715 -p 57716:57716 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57714 --rest-port=57712 --tcp-port=57713 --discv5-udp-port=57715 --rest-address=0.0.0.0 --nat=extip:172.18.228.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5c7668eacabbe14bfbbeadeac9df7e58159202d75d1973fd49a16cb2935d473d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57716 --metrics-logging=true --relay=true --filter=true
2025-02-15 04:04:18.652 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.228.192 waku 5005aa245b53a1ade6631296d7bfff75ec6f0bc60c63eba1a15ae4bd715e6424
2025-02-15 04:04:18.703 DEBUG [src.node.docker_mananger] Container started with ID 5005aa245b53. Setting up logs at ./log/docker/node1_2025-02-15_04-04-18__52044f47-8c33-4c89-943c-dc1863f8bf96__wakuorg_nwaku:latest.log
2025-02-15 04:04:18.703 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57712
2025-02-15 04:04:18.703 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:04:19.221 ERROR [src.node.docker_mananger] Max retries reached for container 8a179cd1aa1e. Exiting log stream.
2025-02-15 04:04:19.704 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57712/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:19.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:04:19.707 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:04:19.707 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57712/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:19.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.192/tcp/57713/p2p/16Uiu2HAmAcKKzvV2cS4fGtx3AkZNnGi7MwQPaBukK9NVbEqzYe38","/ip4/172.18.228.192/tcp/57714/ws/p2p/16Uiu2HAmAcKKzvV2cS4fGtx3AkZNnGi7MwQPaBukK9NVbEqzYe38"],"enrUri":"enr:-L24QF0v3sKy--lzbfrDERpFIPJsO5KB9ZXtgbCFTzjI_n34Y9PB9dNfB3zYluxKUKAqJMzsi2QraDC2zWBM1FYuXpECgmlkgnY0gmlwhKwS5MCKbXVsdGlhZGRyc5YACASsEuTABuFxAAoErBLkwAbhct0DgnJzhQADAQAAiXNlY3AyNTZrMaEC4ZlXiOA2AZklqoKXFMriC-cCEdmkN90b7GgUe8agHFeDdGNwguFxg3VkcILhc4V3YWt1MgU"}'
2025-02-15 04:04:19.709 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:04:19.710 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-15 04:04:19.716 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:04:19.716 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-15_04-04-18__52044f47-8c33-4c89-943c-dc1863f8bf96__wakuorg_nwaku:latest.log
2025-02-15 04:04:19.716 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:04:19.716 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:04:19.718 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:04:19.718 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.76.239
2025-02-15 04:04:19.718 DEBUG [src.node.docker_mananger] Generated ports ['57392', '57393', '57394', '57395', '57396']
2025-02-15 04:04:19.718 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:04:19.718 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:04:19.718 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:04:19.718 DEBUG [src.node.docker_mananger] docker run -i -t -p 57392:57392 -p 57393:57393 -p 57394:57394 -p 57395:57395 -p 57396:57396 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57394 --rest-port=57392 --tcp-port=57393 --discv5-udp-port=57395 --rest-address=0.0.0.0 --nat=extip:172.18.76.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1364a8b98f0ed66ef029d9e924ac4baaebdf4a5cb3a0bc0103326401bfdccd63 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57396 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QF0v3sKy--lzbfrDERpFIPJsO5KB9ZXtgbCFTzjI_n34Y9PB9dNfB3zYluxKUKAqJMzsi2QraDC2zWBM1FYuXpECgmlkgnY0gmlwhKwS5MCKbXVsdGlhZGRyc5YACASsEuTABuFxAAoErBLkwAbhct0DgnJzhQADAQAAiXNlY3AyNTZrMaEC4ZlXiOA2AZklqoKXFMriC-cCEdmkN90b7GgUe8agHFeDdGNwguFxg3VkcILhc4V3YWt1MgU --filternode=/ip4/172.18.228.192/tcp/57713/p2p/16Uiu2HAmAcKKzvV2cS4fGtx3AkZNnGi7MwQPaBukK9NVbEqzYe38
2025-02-15 04:04:19.946 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.76.239 waku 9e640133a82373d4ae4a3f16ffe28ea47fbb8849823b3412b6960be1358243d0
2025-02-15 04:04:19.990 DEBUG [src.node.docker_mananger] Container started with ID 9e640133a823. Setting up logs at ./log/docker/node2_2025-02-15_04-04-18__52044f47-8c33-4c89-943c-dc1863f8bf96__wakuorg_nwaku:latest.log
2025-02-15 04:04:19.991 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57392
2025-02-15 04:04:19.991 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:04:20.991 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57392/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:20.994 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:04:20.994 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:04:20.995 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57392/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:20.997 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.239/tcp/57393/p2p/16Uiu2HAmCvD2Sc72Z5RYTrRtJ7hfyKsfV4MHkYBSESvwQnUtbBpH","/ip4/172.18.76.239/tcp/57394/ws/p2p/16Uiu2HAmCvD2Sc72Z5RYTrRtJ7hfyKsfV4MHkYBSESvwQnUtbBpH"],"enrUri":"enr:-L24QMUiq2kFHwB8qir6jg8sBNWTiTdjDLhthn7gcQcqvDeTZbsSLtwTOqo4xgOr95_jXaxh8ApMNfE7HJ4Q7oMkwX4CgmlkgnY0gmlwhKwSTO-KbXVsdGlhZGRyc5YACASsEkzvBuAxAAoErBJM7wbgMt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDA-YLOda1bwEtF2dd8tol4siti3bhl8O5S3Jhhb4ISD6DdGNwguAxg3VkcILgM4V3YWt1MgA"}'
2025-02-15 04:04:20.997 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:04:20.997 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57392/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.228.192/tcp/57713/p2p/16Uiu2HAmAcKKzvV2cS4fGtx3AkZNnGi7MwQPaBukK9NVbEqzYe38"]'
2025-02-15 04:04:21.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:21.041 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-15 04:04:21.042 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57712/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-15 04:04:21.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:21.060 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57392/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "20094fbf-319c-435b-9c9e-0a0f39438da6", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-15 04:04:21.072 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"20094fbf-319c-435b-9c9e-0a0f39438da6","statusDesc":"OK"}'
2025-02-15 04:04:21.073 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57392/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": 1, "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-15 04:04:21.076 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:57392/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
2025-02-15 04:04:21.078 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 04:04:21.079 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 04:04:21.079 DEBUG [src.node.waku_node] Stopping container with id 5005aa245b53
2025-02-15 04:04:22.181 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:04:22.181 DEBUG [src.node.waku_node] Stopping container with id 9e640133a823
2025-02-15 04:04:22.994 ERROR [src.node.docker_mananger] Max retries reached for container 5005aa245b53. Exiting log stream.
2025-02-15 04:04:23.464 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:04:23.465 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 04:04:23.470 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 04:04:23.474 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
