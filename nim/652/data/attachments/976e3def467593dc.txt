[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_cursor_equal_to_first_message with id: 2025-02-15_04-09-04__7ab38fbd-877d-46ea-87c3-13cb90d266de
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-15_04-09-04__7ab38fbd-877d-46ea-87c3-13cb90d266de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.205.62
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56304', '56305', '56306', '56307', '56308']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56304:56304 -p 56305:56305 -p 56306:56306 -p 56307:56307 -p 56308:56308 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56306 --rest-port=56304 --tcp-port=56305 --discv5-udp-port=56307 --rest-address=0.0.0.0 --nat=extip:172.18.205.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dc9ffa4b1eaecbbfd8dee5ad6a5b6785b07fd62bed9a8c0dd7bebfad1a8044f8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56308 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.205.62 waku ca4d7ce863d9a2a33eb57293cbea58c5096755384b788a0640172ad51ccbf93b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ca4d7ce863d9. Setting up logs at ./log/docker/publishing_node1_2025-02-15_04-09-04__7ab38fbd-877d-46ea-87c3-13cb90d266de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 56304
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b43f0e7a059b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56304/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56304/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.205.62/tcp/56305/p2p/16Uiu2HAm1JJCYCbEqknJUvttH5p34rhwo4sJ618kqQgFsXdKmM9z","/ip4/172.18.205.62/tcp/56306/ws/p2p/16Uiu2HAm1JJCYCbEqknJUvttH5p34rhwo4sJ618kqQgFsXdKmM9z"],"enrUri":"enr:-L24QB2ksgYWl46pztYX_FLrbCGs0spOmPiEXGjrKSkjxIRUAYVOqEqCUfY9DdOFg3S4fqckhnF4Gnh6AObfb3BM57ACgmlkgnY0gmlwhKwSzT6KbXVsdGlhZGRyc5YACASsEs0-BtvxAAoErBLNPgbb8t0DgnJzhQADAQAAiXNlY3AyNTZrMaECV0Jtyzd2adr9UbFyyYg1sKIrMBaqEBJ-cW_tu4pgtdmDdGNwgtvxg3VkcILb84V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-15_04-09-04__7ab38fbd-877d-46ea-87c3-13cb90d266de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.37.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61142', '61143', '61144', '61145', '61146']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61142:61142 -p 61143:61143 -p 61144:61144 -p 61145:61145 -p 61146:61146 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61144 --rest-port=61142 --tcp-port=61143 --discv5-udp-port=61145 --rest-address=0.0.0.0 --nat=extip:172.18.37.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b5c213b5e8d4848d01fac0fa2d3efb10fd444ea146c4650ae532af44a680eddc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61146 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QB2ksgYWl46pztYX_FLrbCGs0spOmPiEXGjrKSkjxIRUAYVOqEqCUfY9DdOFg3S4fqckhnF4Gnh6AObfb3BM57ACgmlkgnY0gmlwhKwSzT6KbXVsdGlhZGRyc5YACASsEs0-BtvxAAoErBLNPgbb8t0DgnJzhQADAQAAiXNlY3AyNTZrMaECV0Jtyzd2adr9UbFyyYg1sKIrMBaqEBJ-cW_tu4pgtdmDdGNwgtvxg3VkcILb84V3YWt1MgM --storenode=/ip4/172.18.205.62/tcp/56305/p2p/16Uiu2HAm1JJCYCbEqknJUvttH5p34rhwo4sJ618kqQgFsXdKmM9z --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.37.230 waku 78017781cf899b6363a4b6d168c9a7d6ba81acc2be81d3c49912b335c118bf66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 78017781cf89. Setting up logs at ./log/docker/store_node1_2025-02-15_04-09-04__7ab38fbd-877d-46ea-87c3-13cb90d266de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61142
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61142/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61142/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.230/tcp/61143/p2p/16Uiu2HAmTxawBQkUv4qdP1WWokJi82X7WSi7UjexdXmjv7vzjuA9","/ip4/172.18.37.230/tcp/61144/ws/p2p/16Uiu2HAmTxawBQkUv4qdP1WWokJi82X7WSi7UjexdXmjv7vzjuA9"],"enrUri":"enr:-L24QFpajB9GAtHymXmWRFVsjgKcToj28KbyFTVd6-5N19YrEhAcgtEXwTFs04kVcbKznLwJjwSMOO2uCD1gTd7dDyYCgmlkgnY0gmlwhKwSJeaKbXVsdGlhZGRyc5YACASsEiXmBu7XAAoErBIl5gbu2N0DgnJzhQADAQAAiXNlY3AyNTZrMaED42FIQlKwDdHQZTsW8SLgEb99e1oVwmtuqKLl4MB1VqKDdGNwgu7Xg3VkcILu2YV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61142/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.205.62/tcp/56305/p2p/16Uiu2HAm1JJCYCbEqknJUvttH5p34rhwo4sJ618kqQgFsXdKmM9z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56304/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61142/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56304/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x60a3f7492f942427b545fd49b4e2a329d787ea7730705c4b5b0f566d17958b95&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x42fa7db7144220bedee113e902ed90a390a87184f568cc306fcec509008b0332"},{"messageHash":"0xeb11d53785166529c56d6a43ff5b8f130d63a2e0c30a932f19d6ce1415d3a14e"},{"messageHash":"0x18a15b8d67214ec19ef6a32ad61f12003fb8f034440239ab9279a8459e7cc244"},{"messageHash":"0x5cd16ecfc754f78c1b2489263a9696bc36307f8b8fe94628f30d3855f99c1e40"},{"messageHash":"0x35d54514ee2086c502dceaccd5762c6aaf698bcb508ba6c38aab7f648fb1523c"},{"messageHash":"0x22f286b2de7d149c2beb1c965d6c86ed974e27541ca5e5211171d5923b6d4cc5"},{"messageHash":"0xc7b8945da73958eb7a39bafdda61b4de8ae0ff0334f9477fcc9a293e68407404"},{"messageHash":"0x0f5f0a4b47ce0f1bdd444a29a6f9b67ff64bf0ec525caab17c2dcdb6a8da4e47"},{"messageHash":"0xf5b5977e60310a89ceffb8552ce9945ca1d6ae60ec546cf65bd3bcc66df57a3b"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61142/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x60a3f7492f942427b545fd49b4e2a329d787ea7730705c4b5b0f566d17958b95&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x42fa7db7144220bedee113e902ed90a390a87184f568cc306fcec509008b0332"},{"messageHash":"0xeb11d53785166529c56d6a43ff5b8f130d63a2e0c30a932f19d6ce1415d3a14e"},{"messageHash":"0x18a15b8d67214ec19ef6a32ad61f12003fb8f034440239ab9279a8459e7cc244"},{"messageHash":"0x5cd16ecfc754f78c1b2489263a9696bc36307f8b8fe94628f30d3855f99c1e40"},{"messageHash":"0x35d54514ee2086c502dceaccd5762c6aaf698bcb508ba6c38aab7f648fb1523c"},{"messageHash":"0x22f286b2de7d149c2beb1c965d6c86ed974e27541ca5e5211171d5923b6d4cc5"},{"messageHash":"0xc7b8945da73958eb7a39bafdda61b4de8ae0ff0334f9477fcc9a293e68407404"},{"messageHash":"0x0f5f0a4b47ce0f1bdd444a29a6f9b67ff64bf0ec525caab17c2dcdb6a8da4e47"},{"messageHash":"0xf5b5977e60310a89ceffb8552ce9945ca1d6ae60ec546cf65bd3bcc66df57a3b"}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ca4d7ce863d9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 78017781cf89
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ca4d7ce863d9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.