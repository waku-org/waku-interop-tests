2025-02-15 04:04:19.639 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 04:04:19.640 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_empty_pubsub_topic_list with id: 2025-02-15_04-04-19__a430874b-b19a-432b-b7c9-a50bbcd15540
2025-02-15 04:04:19.640 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 04:04:19.640 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-15 04:04:19.640 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-15 04:04:19.646 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:04:19.646 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-15_04-04-19__a430874b-b19a-432b-b7c9-a50bbcd15540__wakuorg_nwaku:latest.log
2025-02-15 04:04:19.646 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:04:19.647 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:04:19.648 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:04:19.648 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.196.5
2025-02-15 04:04:19.648 DEBUG [src.node.docker_mananger] Generated ports ['11663', '11664', '11665', '11666', '11667']
2025-02-15 04:04:19.648 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:04:19.648 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:04:19.648 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:04:19.649 DEBUG [src.node.docker_mananger] docker run -i -t -p 11663:11663 -p 11664:11664 -p 11665:11665 -p 11666:11666 -p 11667:11667 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11665 --rest-port=11663 --tcp-port=11664 --discv5-udp-port=11666 --rest-address=0.0.0.0 --nat=extip:172.18.196.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=79f97d1eb65b578c56d90334c432215faaedabbbcbd419b62a7cb4f39fc18a91 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11667 --metrics-logging=true --relay=true
2025-02-15 04:04:19.878 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.196.5 waku d93aa72e1c5bd6ac025bb148c77a4cb88d52c6e0b6a18017c347c31304278896
2025-02-15 04:04:19.927 DEBUG [src.node.docker_mananger] Container started with ID d93aa72e1c5b. Setting up logs at ./log/docker/node1_2025-02-15_04-04-19__a430874b-b19a-432b-b7c9-a50bbcd15540__wakuorg_nwaku:latest.log
2025-02-15 04:04:19.927 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 11663
2025-02-15 04:04:19.928 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:04:20.440 ERROR [src.node.docker_mananger] Max retries reached for container a6f9d3be08e4. Exiting log stream.
2025-02-15 04:04:20.928 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11663/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:20.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:04:20.931 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:04:20.931 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11663/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:20.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.196.5/tcp/11664/p2p/16Uiu2HAmEHHVuRs1fY9k9vypWbDPkuwpFx6DwJCqcESHoAac9V1h","/ip4/172.18.196.5/tcp/11665/ws/p2p/16Uiu2HAmEHHVuRs1fY9k9vypWbDPkuwpFx6DwJCqcESHoAac9V1h"],"enrUri":"enr:-L24QLLTjk_WB2YplDPjLAtlMMT9UtRR_CTr30GeBpPW92jNInse3u_-vsZUrchAZdQCSNLtFX1_9WjlrvYqXZbVwVQCgmlkgnY0gmlwhKwSxAWKbXVsdGlhZGRyc5YACASsEsQFBi2QAAoErBLEBQYtkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGCf8Z-iuSk7eXQNZAJDq6q0pGAY_qfdmvKupRLgAtWiDdGNwgi2Qg3VkcIItkoV3YWt1MgE"}'
2025-02-15 04:04:20.933 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:04:20.939 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:04:20.939 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-15_04-04-19__a430874b-b19a-432b-b7c9-a50bbcd15540__wakuorg_nwaku:latest.log
2025-02-15 04:04:20.939 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:04:20.939 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:04:20.941 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:04:20.941 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.4.192
2025-02-15 04:04:20.941 DEBUG [src.node.docker_mananger] Generated ports ['55619', '55620', '55621', '55622', '55623']
2025-02-15 04:04:20.941 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:04:20.941 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:04:20.941 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:04:20.942 DEBUG [src.node.docker_mananger] docker run -i -t -p 55619:55619 -p 55620:55620 -p 55621:55621 -p 55622:55622 -p 55623:55623 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55621 --rest-port=55619 --tcp-port=55620 --discv5-udp-port=55622 --rest-address=0.0.0.0 --nat=extip:172.18.4.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be32fd3a9cd542cdcff44a0e09fd3fa4f2ea8f09bfc1a3cb4ca7e41ae2f0acdf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55623 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLLTjk_WB2YplDPjLAtlMMT9UtRR_CTr30GeBpPW92jNInse3u_-vsZUrchAZdQCSNLtFX1_9WjlrvYqXZbVwVQCgmlkgnY0gmlwhKwSxAWKbXVsdGlhZGRyc5YACASsEsQFBi2QAAoErBLEBQYtkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGCf8Z-iuSk7eXQNZAJDq6q0pGAY_qfdmvKupRLgAtWiDdGNwgi2Qg3VkcIItkoV3YWt1MgE
2025-02-15 04:04:21.169 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.4.192 waku 9fda8cbbd5abf1ff0eb35d95c26a16e1c7bd1c7672540736c0bb9d49a81ce9d5
2025-02-15 04:04:21.224 DEBUG [src.node.docker_mananger] Container started with ID 9fda8cbbd5ab. Setting up logs at ./log/docker/node2_2025-02-15_04-04-19__a430874b-b19a-432b-b7c9-a50bbcd15540__wakuorg_nwaku:latest.log
2025-02-15 04:04:21.224 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 55619
2025-02-15 04:04:21.224 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:04:22.225 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55619/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:22.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:04:22.231 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:04:22.233 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55619/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:22.236 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.4.192/tcp/55620/p2p/16Uiu2HAmNZUa1KhFjuJr2niDJ3ZPM1x4MmJM977RDCEVMX8vqPME","/ip4/172.18.4.192/tcp/55621/ws/p2p/16Uiu2HAmNZUa1KhFjuJr2niDJ3ZPM1x4MmJM977RDCEVMX8vqPME"],"enrUri":"enr:-L24QE3kCGvpBeoJ7yS1T1hxAr8h8iM5hmo_6jA2aFt2d2wTd3Q1k5wfaZDxBfiAGl1pNo6EDFcXH55pFVUHMB1mbDsCgmlkgnY0gmlwhKwSBMCKbXVsdGlhZGRyc5YACASsEgTABtlEAAoErBIEwAbZRd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkytKwZueD3ihsBcj2ZtkhYPR1kVLzrfH2XzQ1V_IoF2DdGNwgtlEg3VkcILZRoV3YWt1MgE"}'
2025-02-15 04:04:22.237 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:04:22.237 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55619/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.196.5/tcp/11664/p2p/16Uiu2HAmEHHVuRs1fY9k9vypWbDPkuwpFx6DwJCqcESHoAac9V1h"]'
2025-02-15 04:04:22.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:22.240 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11663/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-15 04:04:22.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:22.243 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55619/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-15 04:04:22.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:22.246 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 04:04:22.247 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 04:04:22.247 DEBUG [src.node.waku_node] Stopping container with id d93aa72e1c5b
2025-02-15 04:04:23.439 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:04:23.440 DEBUG [src.node.waku_node] Stopping container with id 9fda8cbbd5ab
2025-02-15 04:04:24.251 ERROR [src.node.docker_mananger] Max retries reached for container d93aa72e1c5b. Exiting log stream.
2025-02-15 04:04:24.934 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:04:24.935 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 04:04:24.940 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 04:04:24.945 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
