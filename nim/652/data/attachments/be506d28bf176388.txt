2025-02-15 04:06:33.514 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 04:06:33.514 DEBUG [tests.conftest] Running test: test_publish_with_valid_timestamps with id: 2025-02-15_04-06-33__ef6dbe72-476f-4bc9-b613-d2d1c8df9d35
2025-02-15 04:06:33.514 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 04:06:33.515 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-15 04:06:33.515 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-15 04:06:33.521 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:06:33.521 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-15_04-06-33__ef6dbe72-476f-4bc9-b613-d2d1c8df9d35__wakuorg_nwaku:latest.log
2025-02-15 04:06:33.522 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:06:33.522 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:06:33.523 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:06:33.523 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.156.162
2025-02-15 04:06:33.523 DEBUG [src.node.docker_mananger] Generated ports ['40553', '40554', '40555', '40556', '40557']
2025-02-15 04:06:33.523 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:06:33.523 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:06:33.524 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:06:33.524 DEBUG [src.node.docker_mananger] docker run -i -t -p 40553:40553 -p 40554:40554 -p 40555:40555 -p 40556:40556 -p 40557:40557 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40555 --rest-port=40553 --tcp-port=40554 --discv5-udp-port=40556 --rest-address=0.0.0.0 --nat=extip:172.18.156.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cf469aebddabdf55fce3b9faf6effbcc0cd24ce09e0edf5f9505ccdda7cb4437 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40557 --metrics-logging=true --relay=true
2025-02-15 04:06:33.745 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.156.162 waku 548bc521d7d327a34755d18b81bd8744cfc8ee3235dd1fe6f37506b35247cbe3
2025-02-15 04:06:33.791 DEBUG [src.node.docker_mananger] Container started with ID 548bc521d7d3. Setting up logs at ./log/docker/node1_2025-02-15_04-06-33__ef6dbe72-476f-4bc9-b613-d2d1c8df9d35__wakuorg_nwaku:latest.log
2025-02-15 04:06:33.791 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 40553
2025-02-15 04:06:33.791 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:06:34.239 ERROR [src.node.docker_mananger] Max retries reached for container 1fda4bec21d4. Exiting log stream.
2025-02-15 04:06:34.792 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40553/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:34.795 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:06:34.795 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:06:34.795 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40553/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:34.797 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.156.162/tcp/40554/p2p/16Uiu2HAmMAigdobnZ2jZLS9csRjpdgKY2e5SozWJgY81Tzv8ukgy","/ip4/172.18.156.162/tcp/40555/ws/p2p/16Uiu2HAmMAigdobnZ2jZLS9csRjpdgKY2e5SozWJgY81Tzv8ukgy"],"enrUri":"enr:-L24QIxY5ZsKiuGM8r8x5BZCHhzzcdQS908USQ3pY23WgbspWe8yy8JxyLtKhQ6RxN4qXJZZZRvHaA9yqak5LvLSf3oCgmlkgnY0gmlwhKwSnKKKbXVsdGlhZGRyc5YACASsEpyiBp5qAAoErBKcogaea90DgnJzhQADAQAAiXNlY3AyNTZrMaEDfns0n85G3HvqWDpYlhdRKyEt7tr1tGALbu1MypUycwqDdGNwgp5qg3VkcIKebIV3YWt1MgE"}'
2025-02-15 04:06:34.797 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:06:34.803 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:06:34.803 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-15_04-06-33__ef6dbe72-476f-4bc9-b613-d2d1c8df9d35__wakuorg_nwaku:latest.log
2025-02-15 04:06:34.804 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:06:34.804 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:06:34.805 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:06:34.805 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.8.88
2025-02-15 04:06:34.805 DEBUG [src.node.docker_mananger] Generated ports ['12300', '12301', '12302', '12303', '12304']
2025-02-15 04:06:34.805 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:06:34.805 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:06:34.806 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:06:34.806 DEBUG [src.node.docker_mananger] docker run -i -t -p 12300:12300 -p 12301:12301 -p 12302:12302 -p 12303:12303 -p 12304:12304 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12302 --rest-port=12300 --tcp-port=12301 --discv5-udp-port=12303 --rest-address=0.0.0.0 --nat=extip:172.18.8.88 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4cfb9ffdebca8d757e52ced60f3650b3dda99ada1eae209feab2d53cee8b2acd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12304 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIxY5ZsKiuGM8r8x5BZCHhzzcdQS908USQ3pY23WgbspWe8yy8JxyLtKhQ6RxN4qXJZZZRvHaA9yqak5LvLSf3oCgmlkgnY0gmlwhKwSnKKKbXVsdGlhZGRyc5YACASsEpyiBp5qAAoErBKcogaea90DgnJzhQADAQAAiXNlY3AyNTZrMaEDfns0n85G3HvqWDpYlhdRKyEt7tr1tGALbu1MypUycwqDdGNwgp5qg3VkcIKebIV3YWt1MgE
2025-02-15 04:06:35.046 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.8.88 waku a765f99c8e902b2a66376b29157f11f09381ffd29c8c9ff3122225841a17443c
2025-02-15 04:06:35.091 DEBUG [src.node.docker_mananger] Container started with ID a765f99c8e90. Setting up logs at ./log/docker/node2_2025-02-15_04-06-33__ef6dbe72-476f-4bc9-b613-d2d1c8df9d35__wakuorg_nwaku:latest.log
2025-02-15 04:06:35.091 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 12300
2025-02-15 04:06:35.092 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:06:36.093 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12300/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.101 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:06:36.103 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:06:36.107 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12300/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.109 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.8.88/tcp/12301/p2p/16Uiu2HAmDdBGvVyT5YXptm6vYMWtT9smcpQxyZjWoQj7S6k2MT7v","/ip4/172.18.8.88/tcp/12302/ws/p2p/16Uiu2HAmDdBGvVyT5YXptm6vYMWtT9smcpQxyZjWoQj7S6k2MT7v"],"enrUri":"enr:-L24QHJW9xBh9XuIZDF5zuiJJgm5dl5Yqte69UM0_1n97vq7N2GdcwzVhyp8a1vuYxKuGd3g4tS47n-U6V703lXHeW4CgmlkgnY0gmlwhKwSCFiKbXVsdGlhZGRyc5YACASsEghYBjANAAoErBIIWAYwDt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDDmTgv2SFUNfUxc-aI-YKbRnw_tx6Db0_SrX49hZtvQmDdGNwgjANg3VkcIIwD4V3YWt1MgE"}'
2025-02-15 04:06:36.109 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:06:36.109 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12300/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.162/tcp/40554/p2p/16Uiu2HAmMAigdobnZ2jZLS9csRjpdgKY2e5SozWJgY81Tzv8ukgy"]'
2025-02-15 04:06:36.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:06:36.112 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-15 04:06:36.112 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40553/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-15 04:06:36.117 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:06:36.117 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12300/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-15 04:06:36.121 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:06:36.123 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:06:36.130 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:06:36.130 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:06:36.230 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.230 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739592396123601152,"ephemeral":false}]'
2025-02-15 04:06:36.235 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.235 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12300/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739592396123601152,"ephemeral":false}]'
2025-02-15 04:06:36.238 INFO [src.steps.relay] WARM UP successful!!
2025-02-15 04:06:36.239 DEBUG [tests.relay.test_publish] Running test with timestamp Now
2025-02-15 04:06:36.239 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:06:36.244 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:06:36.244 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:06:36.345 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.345 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739592226835610112,"ephemeral":false}]'
2025-02-15 04:06:36.349 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.349 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12300/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.352 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739592226835610112,"ephemeral":false}]'
2025-02-15 04:06:36.353 DEBUG [tests.relay.test_publish] Running test with timestamp Far future
2025-02-15 04:06:36.353 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:06:36.358 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:06:36.359 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:06:36.459 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.460 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054952226835596032,"ephemeral":false}]'
2025-02-15 04:06:36.463 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.464 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12300/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.466 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054952226835596032,"ephemeral":false}]'
2025-02-15 04:06:36.467 DEBUG [tests.relay.test_publish] Running test with timestamp Recent past
2025-02-15 04:06:36.467 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:06:36.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:06:36.472 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:06:36.572 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.573 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.575 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588626835596032,"ephemeral":false}]'
2025-02-15 04:06:36.576 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.576 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12300/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.578 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588626835596032,"ephemeral":false}]'
2025-02-15 04:06:36.580 DEBUG [tests.relay.test_publish] Running test with timestamp Near future
2025-02-15 04:06:36.580 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:06:36.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:06:36.585 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:06:36.685 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.686 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739595826835596032,"ephemeral":false}]'
2025-02-15 04:06:36.690 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.690 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12300/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739595826835596032,"ephemeral":false}]'
2025-02-15 04:06:36.693 DEBUG [tests.relay.test_publish] Running test with timestamp Positive number
2025-02-15 04:06:36.694 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:06:36.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:06:36.699 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:06:36.799 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.799 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.801 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-15 04:06:36.803 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.803 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12300/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.805 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-15 04:06:36.806 DEBUG [tests.relay.test_publish] Running test with timestamp Negative number
2025-02-15 04:06:36.807 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:06:36.811 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:06:36.811 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:06:36.911 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.914 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-15 04:06:36.915 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:36.915 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12300/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:36.917 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-15 04:06:36.918 DEBUG [tests.relay.test_publish] Running test with timestamp DST change
2025-02-15 04:06:36.919 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:06:36.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:06:36.924 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:06:37.024 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:37.025 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40553/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:37.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-15 04:06:37.028 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:06:37.028 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12300/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:06:37.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-15 04:06:37.034 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 04:06:37.034 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 04:06:37.035 DEBUG [src.node.waku_node] Stopping container with id 548bc521d7d3
2025-02-15 04:06:38.277 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:06:38.277 DEBUG [src.node.waku_node] Stopping container with id a765f99c8e90
2025-02-15 04:06:39.107 ERROR [src.node.docker_mananger] Max retries reached for container 548bc521d7d3. Exiting log stream.
2025-02-15 04:06:39.244 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:06:39.245 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 04:06:39.259 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 04:06:39.265 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
