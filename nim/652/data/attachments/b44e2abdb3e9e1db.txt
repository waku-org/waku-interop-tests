2025-02-15 04:03:42.629 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 04:03:42.629 DEBUG [tests.conftest] Running test: test_light_push_with_valid_payloads with id: 2025-02-15_04-03-42__6b5e3ea2-5323-494f-9895-37942275c1ad
2025-02-15 04:03:42.629 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 04:03:42.630 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-15 04:03:42.636 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:03:42.636 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-15_04-03-42__6b5e3ea2-5323-494f-9895-37942275c1ad__wakuorg_nwaku:latest.log
2025-02-15 04:03:42.636 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:03:42.636 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:03:42.638 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:03:42.638 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.143.244
2025-02-15 04:03:42.638 DEBUG [src.node.docker_mananger] Generated ports ['64275', '64276', '64277', '64278', '64279']
2025-02-15 04:03:42.638 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:03:42.638 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:03:42.638 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:03:42.639 DEBUG [src.node.docker_mananger] docker run -i -t -p 64275:64275 -p 64276:64276 -p 64277:64277 -p 64278:64278 -p 64279:64279 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64277 --rest-port=64275 --tcp-port=64276 --discv5-udp-port=64278 --rest-address=0.0.0.0 --nat=extip:172.18.143.244 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bb175fc44c235a9f3aa3e6a4b1cbb0cbd69fa413a5e6bdbbe7f37bb9af05a161 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64279 --metrics-logging=true --lightpush=true --relay=true
2025-02-15 04:03:42.860 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.143.244 waku 78eccabfc55d332c578b99d479d65245c6c2526a8c7e2b5411a0fc0b656eafed
2025-02-15 04:03:42.909 DEBUG [src.node.docker_mananger] Container started with ID 78eccabfc55d. Setting up logs at ./log/docker/receiving_node1_2025-02-15_04-03-42__6b5e3ea2-5323-494f-9895-37942275c1ad__wakuorg_nwaku:latest.log
2025-02-15 04:03:42.910 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64275
2025-02-15 04:03:42.910 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:03:43.431 ERROR [src.node.docker_mananger] Max retries reached for container 0ba43fa514c2. Exiting log stream.
2025-02-15 04:03:43.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:43.914 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:03:43.914 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:03:43.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:43.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.143.244/tcp/64276/p2p/16Uiu2HAmSUNEKqHRyQZVY1MARBKLcK8GnE1nNf4pF47zoCUznpAj","/ip4/172.18.143.244/tcp/64277/ws/p2p/16Uiu2HAmSUNEKqHRyQZVY1MARBKLcK8GnE1nNf4pF47zoCUznpAj"],"enrUri":"enr:-L24QKfDUPhPP_fl5mOi1gsTqGy4d3_oHvrV0U4lDS8IaEUtVvxEQTgkS_NGVuj1_3psbeuQHmOSgE_W6N-YDBUmgzoCgmlkgnY0gmlwhKwSj_SKbXVsdGlhZGRyc5YACASsEo_0BvsUAAoErBKP9Ab7Fd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzUr3wFxnydSGpbZWH1xeTEo7SM9pcwo-o2M5NtgzfgiDdGNwgvsUg3VkcIL7FoV3YWt1Mgk"}'
2025-02-15 04:03:43.916 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:03:43.923 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:03:43.923 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-15_04-03-42__6b5e3ea2-5323-494f-9895-37942275c1ad__wakuorg_nwaku:latest.log
2025-02-15 04:03:43.923 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:03:43.923 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:03:43.924 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:03:43.924 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.61.134
2025-02-15 04:03:43.925 DEBUG [src.node.docker_mananger] Generated ports ['31766', '31767', '31768', '31769', '31770']
2025-02-15 04:03:43.925 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:03:43.925 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:03:43.925 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:03:43.925 DEBUG [src.node.docker_mananger] docker run -i -t -p 31766:31766 -p 31767:31767 -p 31768:31768 -p 31769:31769 -p 31770:31770 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31768 --rest-port=31766 --tcp-port=31767 --discv5-udp-port=31769 --rest-address=0.0.0.0 --nat=extip:172.18.61.134 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=02abae91c7fad5b61bef7e8fdc1f8ec8cbebdafeb7b6bfc203ecf924c86e6bbc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31770 --metrics-logging=true --lightpush=false --relay=true
2025-02-15 04:03:44.147 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.61.134 waku 2cf67e41fe5c2fdca43cb4a042c7a57606a37e9df06719db0faa16e85729e5bd
2025-02-15 04:03:44.194 DEBUG [src.node.docker_mananger] Container started with ID 2cf67e41fe5c. Setting up logs at ./log/docker/receiving_node2_2025-02-15_04-03-42__6b5e3ea2-5323-494f-9895-37942275c1ad__wakuorg_nwaku:latest.log
2025-02-15 04:03:44.195 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31766
2025-02-15 04:03:44.195 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:03:45.195 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:45.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:03:45.198 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:03:45.199 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:45.201 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.61.134/tcp/31767/p2p/16Uiu2HAm7dWhVyjCkJ4BGfUkHUc9Fyvyvj367HVDnccQasTahbRg","/ip4/172.18.61.134/tcp/31768/ws/p2p/16Uiu2HAm7dWhVyjCkJ4BGfUkHUc9Fyvyvj367HVDnccQasTahbRg"],"enrUri":"enr:-L24QL98VVmy7wH7VW08-FRBnP8u_S3NG2ypjwMhfc-gA1d-dXQ8yR6Ij7dIFSmLJ4TvhleHoniwBT8-zlgQT3hKLzACgmlkgnY0gmlwhKwSPYaKbXVsdGlhZGRyc5YACASsEj2GBnwXAAoErBI9hgZ8GN0DgnJzhQADAQAAiXNlY3AyNTZrMaECtVS4B0TE77s8bqny-d2VaDZBeybhZ1ntHx4dIepI5--DdGNwgnwXg3VkcIJ8GYV3YWt1MgE"}'
2025-02-15 04:03:45.201 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:03:45.201 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31766/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.244/tcp/64276/p2p/16Uiu2HAmSUNEKqHRyQZVY1MARBKLcK8GnE1nNf4pF47zoCUznpAj"]'
2025-02-15 04:03:45.240 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:45.251 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:03:45.251 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-15_04-03-42__6b5e3ea2-5323-494f-9895-37942275c1ad__wakuorg_nwaku:latest.log
2025-02-15 04:03:45.252 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:03:45.252 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:03:45.253 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:03:45.253 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.230.173
2025-02-15 04:03:45.253 DEBUG [src.node.docker_mananger] Generated ports ['4103', '4104', '4105', '4106', '4107']
2025-02-15 04:03:45.254 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:03:45.254 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:03:45.254 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:03:45.254 DEBUG [src.node.docker_mananger] docker run -i -t -p 4103:4103 -p 4104:4104 -p 4105:4105 -p 4106:4106 -p 4107:4107 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4105 --rest-port=4103 --tcp-port=4104 --discv5-udp-port=4106 --rest-address=0.0.0.0 --nat=extip:172.18.230.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f2aa771a9dcabd43400ea3bf5cc55e10d9ef39f48bd21d3b2d98124cdaf58c8c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4107 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QKfDUPhPP_fl5mOi1gsTqGy4d3_oHvrV0U4lDS8IaEUtVvxEQTgkS_NGVuj1_3psbeuQHmOSgE_W6N-YDBUmgzoCgmlkgnY0gmlwhKwSj_SKbXVsdGlhZGRyc5YACASsEo_0BvsUAAoErBKP9Ab7Fd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzUr3wFxnydSGpbZWH1xeTEo7SM9pcwo-o2M5NtgzfgiDdGNwgvsUg3VkcIL7FoV3YWt1Mgk --lightpushnode=/ip4/172.18.143.244/tcp/64276/p2p/16Uiu2HAmSUNEKqHRyQZVY1MARBKLcK8GnE1nNf4pF47zoCUznpAj --lightpush=true --relay=false
2025-02-15 04:03:45.479 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.230.173 waku e9a97577557679267387cbdf397ac2f64b4b27efa1ade89166c64f431b594401
2025-02-15 04:03:45.530 DEBUG [src.node.docker_mananger] Container started with ID e9a975775576. Setting up logs at ./log/docker/lightpush_node1_2025-02-15_04-03-42__6b5e3ea2-5323-494f-9895-37942275c1ad__wakuorg_nwaku:latest.log
2025-02-15 04:03:45.530 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4103
2025-02-15 04:03:45.530 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:03:46.531 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4103/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:46.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:03:46.534 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:03:46.535 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4103/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:46.537 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.173/tcp/4104/p2p/16Uiu2HAmD62F7VuHUHLjqmhf5tr6SBhSEdPfz8LHercm1hZrkpm1","/ip4/172.18.230.173/tcp/4105/ws/p2p/16Uiu2HAmD62F7VuHUHLjqmhf5tr6SBhSEdPfz8LHercm1hZrkpm1"],"enrUri":"enr:-L24QExwu3XvYbABhq3Q4PyVEsh9EQHDIJGxlW6BtWUP6vMFbKutS-zNWdZZ0ZOXeqbwRkBP9Da_abzo8IYkIxiFdQECgmlkgnY0gmlwhKwS5q2KbXVsdGlhZGRyc5YACASsEuatBhAIAAoErBLmrQYQCd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBmmpRU4ch0fyuaisF2Vy186aNIJHnL5iQw9M1lB77FyDdGNwghAIg3VkcIIQCoV3YWt1Mgg"}'
2025-02-15 04:03:46.537 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:03:46.537 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.244/tcp/64276/p2p/16Uiu2HAmSUNEKqHRyQZVY1MARBKLcK8GnE1nNf4pF47zoCUznpAj"]'
2025-02-15 04:03:46.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:46.577 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.61.134/tcp/31767/p2p/16Uiu2HAm7dWhVyjCkJ4BGfUkHUc9Fyvyvj367HVDnccQasTahbRg"]'
2025-02-15 04:03:46.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:46.603 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64275/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 04:03:46.610 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:46.611 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31766/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 04:03:46.618 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:46.620 DEBUG [tests.light_push.test_publish] Running test with payload A simple string
2025-02-15 04:03:46.621 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:46.621 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592226621291520}}'
2025-02-15 04:03:46.634 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:46.634 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:46.735 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:46.736 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:46.738 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592226621291520,"ephemeral":false}]'
2025-02-15 04:03:46.740 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:46.740 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:46.742 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592226621291520,"ephemeral":false}]'
2025-02-15 04:03:46.744 DEBUG [tests.light_push.test_publish] Running test with payload An integer
2025-02-15 04:03:46.744 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:46.744 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592226744296448}}'
2025-02-15 04:03:46.754 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:46.755 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:46.855 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:46.855 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:46.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592226744296448,"ephemeral":false}]'
2025-02-15 04:03:46.859 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:46.859 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:46.861 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592226744296448,"ephemeral":false}]'
2025-02-15 04:03:46.863 DEBUG [tests.light_push.test_publish] Running test with payload A dictionary
2025-02-15 04:03:46.863 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:46.863 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592226863329024}}'
2025-02-15 04:03:46.872 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:46.872 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:46.973 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:46.973 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:46.975 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592226863329024,"ephemeral":false}]'
2025-02-15 04:03:46.977 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:46.977 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:46.979 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592226863329024,"ephemeral":false}]'
2025-02-15 04:03:46.980 DEBUG [tests.light_push.test_publish] Running test with payload Chinese characters
2025-02-15 04:03:46.981 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:46.981 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592226981166848}}'
2025-02-15 04:03:46.990 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:46.991 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:47.091 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.091 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592226981166848,"ephemeral":false}]'
2025-02-15 04:03:47.095 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.095 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592226981166848,"ephemeral":false}]'
2025-02-15 04:03:47.098 DEBUG [tests.light_push.test_publish] Running test with payload Emojis
2025-02-15 04:03:47.099 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:47.099 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592227099056128}}'
2025-02-15 04:03:47.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:47.109 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:47.209 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.209 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227099056128,"ephemeral":false}]'
2025-02-15 04:03:47.213 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.215 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227099056128,"ephemeral":false}]'
2025-02-15 04:03:47.216 DEBUG [tests.light_push.test_publish] Running test with payload Lorem ipsum text
2025-02-15 04:03:47.217 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:47.217 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592227217191424}}'
2025-02-15 04:03:47.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:47.227 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:47.328 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.328 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227217191424,"ephemeral":false}]'
2025-02-15 04:03:47.331 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.331 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.333 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227217191424,"ephemeral":false}]'
2025-02-15 04:03:47.335 DEBUG [tests.light_push.test_publish] Running test with payload HTML content
2025-02-15 04:03:47.335 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:47.336 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592227335587584}}'
2025-02-15 04:03:47.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:47.345 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:47.446 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.446 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227335587584,"ephemeral":false}]'
2025-02-15 04:03:47.450 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.450 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.452 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227335587584,"ephemeral":false}]'
2025-02-15 04:03:47.453 DEBUG [tests.light_push.test_publish] Running test with payload Cyrillic characters
2025-02-15 04:03:47.454 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:47.454 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "0J/RgNC40LLQtdGC", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592227453853184}}'
2025-02-15 04:03:47.463 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:47.464 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:47.564 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.564 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227453853184,"ephemeral":false}]'
2025-02-15 04:03:47.568 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.568 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227453853184,"ephemeral":false}]'
2025-02-15 04:03:47.572 DEBUG [tests.light_push.test_publish] Running test with payload Base64 encoded string
2025-02-15 04:03:47.572 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:47.572 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QmFzZTY0PT1kR1Z6ZEE9PQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592227572564224}}'
2025-02-15 04:03:47.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:47.584 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:47.684 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.687 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227572564224,"ephemeral":false}]'
2025-02-15 04:03:47.688 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.689 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227572564224,"ephemeral":false}]'
2025-02-15 04:03:47.692 DEBUG [tests.light_push.test_publish] Running test with payload Binary data
2025-02-15 04:03:47.692 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:47.692 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592227692458240}}'
2025-02-15 04:03:47.703 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:47.704 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:47.804 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.804 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.807 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227692458240,"ephemeral":false}]'
2025-02-15 04:03:47.808 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.808 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.811 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227692458240,"ephemeral":false}]'
2025-02-15 04:03:47.812 DEBUG [tests.light_push.test_publish] Running test with payload Special characters with whitespace
2025-02-15 04:03:47.812 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:47.812 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "CQpTcGVjaWFsCUNoYXJhY3RlcnMK", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592227812580096}}'
2025-02-15 04:03:47.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:47.823 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:47.923 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.923 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.925 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227812580096,"ephemeral":false}]'
2025-02-15 04:03:47.926 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:47.927 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:47.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227812580096,"ephemeral":false}]'
2025-02-15 04:03:47.930 DEBUG [tests.light_push.test_publish] Running test with payload Boolean false as a string
2025-02-15 04:03:47.930 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:47.931 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "RmFsc2U=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592227930710784}}'
2025-02-15 04:03:47.940 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:47.940 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:48.040 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.041 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227930710784,"ephemeral":false}]'
2025-02-15 04:03:48.045 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.045 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592227930710784,"ephemeral":false}]'
2025-02-15 04:03:48.049 DEBUG [tests.light_push.test_publish] Running test with payload A float number
2025-02-15 04:03:48.049 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:48.049 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "My4xNDE1OTI2NTM1", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592228049431296}}'
2025-02-15 04:03:48.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:48.059 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:48.160 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.160 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228049431296,"ephemeral":false}]'
2025-02-15 04:03:48.164 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.164 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.166 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228049431296,"ephemeral":false}]'
2025-02-15 04:03:48.167 DEBUG [tests.light_push.test_publish] Running test with payload A list
2025-02-15 04:03:48.168 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:48.168 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "WzEsIDIsIDMsIDQsIDVd", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592228168032512}}'
2025-02-15 04:03:48.177 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:48.177 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:48.278 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.278 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.280 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228168032512,"ephemeral":false}]'
2025-02-15 04:03:48.281 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.282 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228168032512,"ephemeral":false}]'
2025-02-15 04:03:48.285 DEBUG [tests.light_push.test_publish] Running test with payload Hexadecimal number as a string
2025-02-15 04:03:48.286 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:48.286 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MHhERUFEQkVFRg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592228285842176}}'
2025-02-15 04:03:48.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:48.296 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:48.396 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.396 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.398 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228285842176,"ephemeral":false}]'
2025-02-15 04:03:48.400 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.400 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.402 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228285842176,"ephemeral":false}]'
2025-02-15 04:03:48.403 DEBUG [tests.light_push.test_publish] Running test with payload Email format
2025-02-15 04:03:48.404 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:48.404 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "dXNlckBleGFtcGxlLmNvbQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592228404174080}}'
2025-02-15 04:03:48.413 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:48.413 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:48.514 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.514 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.516 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228404174080,"ephemeral":false}]'
2025-02-15 04:03:48.518 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.518 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.520 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228404174080,"ephemeral":false}]'
2025-02-15 04:03:48.521 DEBUG [tests.light_push.test_publish] Running test with payload URL format
2025-02-15 04:03:48.521 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:48.522 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "aHR0cDovL2V4YW1wbGUuY29t", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592228521784576}}'
2025-02-15 04:03:48.531 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:48.531 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:48.631 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.631 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.634 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228521784576,"ephemeral":false}]'
2025-02-15 04:03:48.635 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.635 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228521784576,"ephemeral":false}]'
2025-02-15 04:03:48.638 DEBUG [tests.light_push.test_publish] Running test with payload Date and time in ISO format
2025-02-15 04:03:48.639 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:48.639 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MjAyMy0xMS0wMVQxMjowMDowMFo=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592228639213056}}'
2025-02-15 04:03:48.649 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:48.649 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:48.749 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.750 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.752 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228639213056,"ephemeral":false}]'
2025-02-15 04:03:48.754 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.754 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.756 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228639213056,"ephemeral":false}]'
2025-02-15 04:03:48.757 DEBUG [tests.light_push.test_publish] Running test with payload String with escaped quotes
2025-02-15 04:03:48.758 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:48.758 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "IkVzY2FwZWQiIFwicXVvdGVzXCI=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592228757935360}}'
2025-02-15 04:03:48.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:48.767 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:48.868 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.869 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.871 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228757935360,"ephemeral":false}]'
2025-02-15 04:03:48.872 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.873 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228757935360,"ephemeral":false}]'
2025-02-15 04:03:48.876 DEBUG [tests.light_push.test_publish] Running test with payload A regular expression
2025-02-15 04:03:48.876 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:48.877 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592228876693504}}'
2025-02-15 04:03:48.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:48.886 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:48.986 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.987 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228876693504,"ephemeral":false}]'
2025-02-15 04:03:48.990 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:48.990 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:48.992 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228876693504,"ephemeral":false}]'
2025-02-15 04:03:48.994 DEBUG [tests.light_push.test_publish] Running test with payload A very long string
2025-02-15 04:03:48.994 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:48.994 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592228994366208}}'
2025-02-15 04:03:49.005 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:49.006 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:49.106 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.106 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228994366208,"ephemeral":false}]'
2025-02-15 04:03:49.110 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.110 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592228994366208,"ephemeral":false}]'
2025-02-15 04:03:49.113 DEBUG [tests.light_push.test_publish] Running test with payload A JSON string
2025-02-15 04:03:49.114 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:49.114 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592229114125056}}'
2025-02-15 04:03:49.124 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:49.124 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:49.225 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.225 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229114125056,"ephemeral":false}]'
2025-02-15 04:03:49.229 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.229 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229114125056,"ephemeral":false}]'
2025-02-15 04:03:49.232 DEBUG [tests.light_push.test_publish] Running test with payload A Unix path
2025-02-15 04:03:49.233 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:49.233 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "L3Vzci9sb2NhbC9iaW4=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592229233056768}}'
2025-02-15 04:03:49.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:49.243 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:49.343 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.343 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.346 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229233056768,"ephemeral":false}]'
2025-02-15 04:03:49.347 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.347 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229233056768,"ephemeral":false}]'
2025-02-15 04:03:49.351 DEBUG [tests.light_push.test_publish] Running test with payload A Windows path
2025-02-15 04:03:49.351 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:49.351 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QzpcV2luZG93c1xTeXN0ZW0zMg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592229351494656}}'
2025-02-15 04:03:49.360 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:49.361 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:49.461 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.462 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229351494656,"ephemeral":false}]'
2025-02-15 04:03:49.465 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.465 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229351494656,"ephemeral":false}]'
2025-02-15 04:03:49.469 DEBUG [tests.light_push.test_publish] Running test with payload An SQL query
2025-02-15 04:03:49.469 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:49.470 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592229469707776}}'
2025-02-15 04:03:49.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:49.480 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:49.580 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.580 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229469707776,"ephemeral":false}]'
2025-02-15 04:03:49.584 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.584 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229469707776,"ephemeral":false}]'
2025-02-15 04:03:49.588 DEBUG [tests.light_push.test_publish] Running test with payload JavaScript code snippet
2025-02-15 04:03:49.589 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:49.589 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592229588944896}}'
2025-02-15 04:03:49.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:49.598 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:49.699 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229588944896,"ephemeral":false}]'
2025-02-15 04:03:49.703 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.703 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.705 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229588944896,"ephemeral":false}]'
2025-02-15 04:03:49.706 DEBUG [tests.light_push.test_publish] Running test with payload A CSS snippet
2025-02-15 04:03:49.707 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:49.707 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592229707177984}}'
2025-02-15 04:03:49.717 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:49.718 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:49.818 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.818 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229707177984,"ephemeral":false}]'
2025-02-15 04:03:49.823 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.823 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229707177984,"ephemeral":false}]'
2025-02-15 04:03:49.826 DEBUG [tests.light_push.test_publish] Running test with payload A Python one-liner
2025-02-15 04:03:49.827 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:49.827 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "cHJpbnQoJ0hlbGxvIFdvcmxkJyk=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592229826843904}}'
2025-02-15 04:03:49.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:49.838 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:49.938 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.938 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.941 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229826843904,"ephemeral":false}]'
2025-02-15 04:03:49.942 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:49.942 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:49.944 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229826843904,"ephemeral":false}]'
2025-02-15 04:03:49.946 DEBUG [tests.light_push.test_publish] Running test with payload An IP address
2025-02-15 04:03:49.947 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:49.947 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTkyLjE2OC4xLjE=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592229946996992}}'
2025-02-15 04:03:49.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:49.956 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:50.057 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.057 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229946996992,"ephemeral":false}]'
2025-02-15 04:03:50.061 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.061 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.063 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592229946996992,"ephemeral":false}]'
2025-02-15 04:03:50.065 DEBUG [tests.light_push.test_publish] Running test with payload A domain name
2025-02-15 04:03:50.065 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:50.065 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "d3d3LmV4YW1wbGUuY29t", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592230065230848}}'
2025-02-15 04:03:50.075 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:50.075 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:50.176 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.176 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.178 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230065230848,"ephemeral":false}]'
2025-02-15 04:03:50.180 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.180 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.182 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230065230848,"ephemeral":false}]'
2025-02-15 04:03:50.183 DEBUG [tests.light_push.test_publish] Running test with payload A user agent string
2025-02-15 04:03:50.184 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:50.184 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592230184083968}}'
2025-02-15 04:03:50.194 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:50.195 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:50.295 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.295 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.298 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230184083968,"ephemeral":false}]'
2025-02-15 04:03:50.299 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.300 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230184083968,"ephemeral":false}]'
2025-02-15 04:03:50.303 DEBUG [tests.light_push.test_publish] Running test with payload A credit card number
2025-02-15 04:03:50.304 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:50.304 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzNC01Njc4LTkwMTItMzQ1Ng==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592230303937792}}'
2025-02-15 04:03:50.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:50.316 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:50.417 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.417 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.420 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230303937792,"ephemeral":false}]'
2025-02-15 04:03:50.421 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.421 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.423 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230303937792,"ephemeral":false}]'
2025-02-15 04:03:50.425 DEBUG [tests.light_push.test_publish] Running test with payload A phone number
2025-02-15 04:03:50.425 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:50.425 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "KzEyMzQ1Njc4OTA=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592230425235200}}'
2025-02-15 04:03:50.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:50.435 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:50.535 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.535 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.538 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230425235200,"ephemeral":false}]'
2025-02-15 04:03:50.539 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.539 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.541 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230425235200,"ephemeral":false}]'
2025-02-15 04:03:50.542 DEBUG [tests.light_push.test_publish] Running test with payload A UUID
2025-02-15 04:03:50.543 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:50.543 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592230543197952}}'
2025-02-15 04:03:50.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:50.552 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:50.653 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.653 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230543197952,"ephemeral":false}]'
2025-02-15 04:03:50.656 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.656 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.659 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230543197952,"ephemeral":false}]'
2025-02-15 04:03:50.660 DEBUG [tests.light_push.test_publish] Running test with payload A hashtag
2025-02-15 04:03:50.660 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:50.660 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "I2hlbGxvV29ybGQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592230660557568}}'
2025-02-15 04:03:50.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:50.671 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:50.771 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.771 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230660557568,"ephemeral":false}]'
2025-02-15 04:03:50.775 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.775 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.777 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230660557568,"ephemeral":false}]'
2025-02-15 04:03:50.778 DEBUG [tests.light_push.test_publish] Running test with payload A Twitter handle
2025-02-15 04:03:50.779 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:50.779 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QHVzZXJuYW1l", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592230778999552}}'
2025-02-15 04:03:50.788 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:50.788 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:50.888 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.888 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.891 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230778999552,"ephemeral":false}]'
2025-02-15 04:03:50.892 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:50.892 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:50.895 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230778999552,"ephemeral":false}]'
2025-02-15 04:03:50.896 DEBUG [tests.light_push.test_publish] Running test with payload A password
2025-02-15 04:03:50.896 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:50.897 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "UEBzc3cwcmQh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592230896678912}}'
2025-02-15 04:03:50.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:50.906 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:51.006 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:51.006 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:51.009 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230896678912,"ephemeral":false}]'
2025-02-15 04:03:51.010 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:51.010 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:51.012 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592230896678912,"ephemeral":false}]'
2025-02-15 04:03:51.013 DEBUG [tests.light_push.test_publish] Running test with payload A date in common format
2025-02-15 04:03:51.014 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:51.014 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MDEvMTEvMjAyMw==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592231013846016}}'
2025-02-15 04:03:51.023 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:51.023 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:51.124 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:51.124 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:51.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592231013846016,"ephemeral":false}]'
2025-02-15 04:03:51.128 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:51.128 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:51.130 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592231013846016,"ephemeral":false}]'
2025-02-15 04:03:51.131 DEBUG [tests.light_push.test_publish] Running test with payload A time string
2025-02-15 04:03:51.132 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:51.132 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTI6MDA6MDA=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592231131913728}}'
2025-02-15 04:03:51.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:51.141 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:51.242 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:51.242 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:51.244 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592231131913728,"ephemeral":false}]'
2025-02-15 04:03:51.245 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:51.246 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:51.248 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592231131913728,"ephemeral":false}]'
2025-02-15 04:03:51.249 DEBUG [tests.light_push.test_publish] Running test with payload A mathematical equation
2025-02-15 04:03:51.249 DEBUG [src.steps.light_push] Lightpushing message
2025-02-15 04:03:51.249 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4103/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "RSA9IG1jXjI=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739592231249583360}}'
2025-02-15 04:03:51.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:51.259 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:51.360 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:51.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64275/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:51.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592231249583360,"ephemeral":false}]'
2025-02-15 04:03:51.364 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-15 04:03:51.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:51.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592231249583360,"ephemeral":false}]'
2025-02-15 04:03:51.370 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 04:03:51.371 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 04:03:51.371 DEBUG [src.node.waku_node] Stopping container with id 78eccabfc55d
2025-02-15 04:03:52.035 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:03:52.035 DEBUG [src.node.waku_node] Stopping container with id 2cf67e41fe5c
2025-02-15 04:03:52.847 ERROR [src.node.docker_mananger] Max retries reached for container 78eccabfc55d. Exiting log stream.
2025-02-15 04:03:53.207 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:03:53.208 DEBUG [src.node.waku_node] Stopping container with id e9a975775576
2025-02-15 04:03:54.020 ERROR [src.node.docker_mananger] Max retries reached for container 2cf67e41fe5c. Exiting log stream.
2025-02-15 04:03:54.482 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:03:54.482 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 04:03:54.513 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 04:03:54.527 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 04:03:54.547 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
