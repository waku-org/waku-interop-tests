2025-02-15 04:04:43.636 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 04:04:43.636 DEBUG [tests.conftest] Running test: test_store_invalid_ascending with id: 2025-02-15_04-04-43__204539d9-d7f0-4e21-9eee-d9dbf8ac4f84
2025-02-15 04:04:43.636 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 04:04:43.636 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-15 04:04:43.637 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-15 04:04:43.643 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:04:43.643 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-15_04-04-43__204539d9-d7f0-4e21-9eee-d9dbf8ac4f84__wakuorg_nwaku:latest.log
2025-02-15 04:04:43.643 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:04:43.643 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:04:43.644 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:04:43.644 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.62.202
2025-02-15 04:04:43.645 DEBUG [src.node.docker_mananger] Generated ports ['40261', '40262', '40263', '40264', '40265']
2025-02-15 04:04:43.645 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:04:43.645 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:04:43.645 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:04:43.645 DEBUG [src.node.docker_mananger] docker run -i -t -p 40261:40261 -p 40262:40262 -p 40263:40263 -p 40264:40264 -p 40265:40265 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40263 --rest-port=40261 --tcp-port=40262 --discv5-udp-port=40264 --rest-address=0.0.0.0 --nat=extip:172.18.62.202 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e6f79dcfd7e1574d164e9387d3560ba5dab491025adbc4c4fd1f0c036116923c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40265 --metrics-logging=true --store=true --relay=true
2025-02-15 04:04:43.879 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.62.202 waku 11a5f30e3cf20a1612c2bdd9e2d6d3e35d9be1b5b284140aecc85846db5ab6fa
2025-02-15 04:04:43.929 DEBUG [src.node.docker_mananger] Container started with ID 11a5f30e3cf2. Setting up logs at ./log/docker/publishing_node1_2025-02-15_04-04-43__204539d9-d7f0-4e21-9eee-d9dbf8ac4f84__wakuorg_nwaku:latest.log
2025-02-15 04:04:43.932 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 40261
2025-02-15 04:04:43.932 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:04:44.439 ERROR [src.node.docker_mananger] Max retries reached for container 9edb42d9018b. Exiting log stream.
2025-02-15 04:04:44.932 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40261/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:44.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:04:44.935 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:04:44.935 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40261/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:44.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.62.202/tcp/40262/p2p/16Uiu2HAm72eqXQJqiqFPdHd9hhR21FXMCPqFKvfEwwdULi6BmtzE","/ip4/172.18.62.202/tcp/40263/ws/p2p/16Uiu2HAm72eqXQJqiqFPdHd9hhR21FXMCPqFKvfEwwdULi6BmtzE"],"enrUri":"enr:-L24QPnd8-1hPAsbicYEnqkNE1UhsnR05AbXLvdlvP6Np6I1b0JKO2d7uR-NmU3P53w-DMFGRX-DY6EADVmQr6C6HLQCgmlkgnY0gmlwhKwSPsqKbXVsdGlhZGRyc5YACASsEj7KBp1GAAoErBI-ygadR90DgnJzhQADAQAAiXNlY3AyNTZrMaECrGaXtUasQzq785h72_ACWQnxuZoqWY1KtqSnLGp8O4ODdGNwgp1Gg3VkcIKdSIV3YWt1MgM"}'
2025-02-15 04:04:44.937 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:04:44.944 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:04:44.944 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-15_04-04-43__204539d9-d7f0-4e21-9eee-d9dbf8ac4f84__wakuorg_nwaku:latest.log
2025-02-15 04:04:44.944 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:04:44.944 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:04:44.946 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:04:44.946 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.197.132
2025-02-15 04:04:44.946 DEBUG [src.node.docker_mananger] Generated ports ['57237', '57238', '57239', '57240', '57241']
2025-02-15 04:04:44.946 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:04:44.946 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:04:44.946 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:04:44.947 DEBUG [src.node.docker_mananger] docker run -i -t -p 57237:57237 -p 57238:57238 -p 57239:57239 -p 57240:57240 -p 57241:57241 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57239 --rest-port=57237 --tcp-port=57238 --discv5-udp-port=57240 --rest-address=0.0.0.0 --nat=extip:172.18.197.132 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=67e41f638a6dfeaaefe6efc56b96caadcbda09bf938ac29ba0adcf04bfc640fb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57241 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPnd8-1hPAsbicYEnqkNE1UhsnR05AbXLvdlvP6Np6I1b0JKO2d7uR-NmU3P53w-DMFGRX-DY6EADVmQr6C6HLQCgmlkgnY0gmlwhKwSPsqKbXVsdGlhZGRyc5YACASsEj7KBp1GAAoErBI-ygadR90DgnJzhQADAQAAiXNlY3AyNTZrMaECrGaXtUasQzq785h72_ACWQnxuZoqWY1KtqSnLGp8O4ODdGNwgp1Gg3VkcIKdSIV3YWt1MgM --storenode=/ip4/172.18.62.202/tcp/40262/p2p/16Uiu2HAm72eqXQJqiqFPdHd9hhR21FXMCPqFKvfEwwdULi6BmtzE --store=true --relay=true
2025-02-15 04:04:45.179 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.197.132 waku 94ad37ba9a1772f6e0f7d5e925f4ed546dd99ae927451347c219d8bb974f85cb
2025-02-15 04:04:45.230 DEBUG [src.node.docker_mananger] Container started with ID 94ad37ba9a17. Setting up logs at ./log/docker/store_node1_2025-02-15_04-04-43__204539d9-d7f0-4e21-9eee-d9dbf8ac4f84__wakuorg_nwaku:latest.log
2025-02-15 04:04:45.231 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57237
2025-02-15 04:04:45.231 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:04:46.233 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57237/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:46.235 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:04:46.236 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:04:46.236 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57237/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:46.238 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.197.132/tcp/57238/p2p/16Uiu2HAmNJSwtNURBNVE46foj4YGyNvSmiSDyQfrng1hBRgzGsaA","/ip4/172.18.197.132/tcp/57239/ws/p2p/16Uiu2HAmNJSwtNURBNVE46foj4YGyNvSmiSDyQfrng1hBRgzGsaA"],"enrUri":"enr:-L24QD0dIMUfNvAu5WTXWrbxoY7kgU-pvO8wqf5VEeidqEy8CByg1RcaNbGKTangArgkHq3OakZFDQ3uosJNT1Aoj3kCgmlkgnY0gmlwhKwSxYSKbXVsdGlhZGRyc5YACASsEsWEBt-WAAoErBLFhAbfl90DgnJzhQADAQAAiXNlY3AyNTZrMaEDj1G-ueh4DapMqzvHzwrR8Cas49m0y_3IqJ5cNaxX79ODdGNwgt-Wg3VkcILfmIV3YWt1MgM"}'
2025-02-15 04:04:46.238 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:04:46.238 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57237/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.62.202/tcp/40262/p2p/16Uiu2HAm72eqXQJqiqFPdHd9hhR21FXMCPqFKvfEwwdULi6BmtzE"]'
2025-02-15 04:04:46.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:46.241 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40261/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 04:04:46.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:46.244 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57237/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 04:04:46.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:46.246 DEBUG [src.steps.store] Relaying message
2025-02-15 04:04:46.247 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40261/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:46.252 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:46.253 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 04:04:46.454 DEBUG [src.steps.store] Relaying message
2025-02-15 04:04:46.454 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40261/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:46.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:46.460 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 04:04:46.661 DEBUG [src.steps.store] Relaying message
2025-02-15 04:04:46.661 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40261/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:46.667 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:46.667 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 04:04:46.868 DEBUG [src.steps.store] Relaying message
2025-02-15 04:04:46.868 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40261/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:04:46.873 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:04:46.873 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 04:04:47.074 DEBUG [tests.store.test_sorting] requesting stored messages with invalid ascending =##
2025-02-15 04:04:47.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40261/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=##" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:47.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x54d5d157ffd3f92a219947c8dd9a6fc7860d611ea8f992be2800fc34f3e0eee5"},{"messageHash":"0x2c20ce393502fbe4b12f372f78b66a1a117eeef4cf82b27e99315b764afd18fa"}],"paginationCursor":"0x2c20ce393502fbe4b12f372f78b66a1a117eeef4cf82b27e99315b764afd18fa"}'
2025-02-15 04:04:47.078 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57237/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=##" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:04:47.080 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x54d5d157ffd3f92a219947c8dd9a6fc7860d611ea8f992be2800fc34f3e0eee5"},{"messageHash":"0x2c20ce393502fbe4b12f372f78b66a1a117eeef4cf82b27e99315b764afd18fa"}],"paginationCursor":"0x2c20ce393502fbe4b12f372f78b66a1a117eeef4cf82b27e99315b764afd18fa"}'
2025-02-15 04:04:47.082 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 04:04:47.083 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 04:04:47.083 DEBUG [src.node.waku_node] Stopping container with id 11a5f30e3cf2
2025-02-15 04:04:47.741 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:04:47.742 DEBUG [src.node.waku_node] Stopping container with id 94ad37ba9a17
2025-02-15 04:04:48.553 ERROR [src.node.docker_mananger] Max retries reached for container 11a5f30e3cf2. Exiting log stream.
2025-02-15 04:04:49.200 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:04:49.202 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 04:04:49.208 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 04:04:49.214 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
