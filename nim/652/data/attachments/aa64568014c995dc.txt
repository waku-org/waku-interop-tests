2025-02-15 04:03:56.021 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 04:03:56.021 DEBUG [tests.conftest] Running test: test_subscribe_one_by_one_to_different_pubsub_topics_and_send_messages with id: 2025-02-15_04-03-56__5eca61af-d3e4-4574-955e-bec944b0d98e
2025-02-15 04:03:56.022 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 04:03:56.022 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-15 04:03:56.022 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-15 04:03:56.029 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:03:56.029 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-15_04-03-56__5eca61af-d3e4-4574-955e-bec944b0d98e__wakuorg_nwaku:latest.log
2025-02-15 04:03:56.030 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:03:56.030 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:03:56.031 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:03:56.031 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.230.82
2025-02-15 04:03:56.031 DEBUG [src.node.docker_mananger] Generated ports ['55870', '55871', '55872', '55873', '55874']
2025-02-15 04:03:56.032 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:03:56.032 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:03:56.032 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:03:56.032 DEBUG [src.node.docker_mananger] docker run -i -t -p 55870:55870 -p 55871:55871 -p 55872:55872 -p 55873:55873 -p 55874:55874 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55872 --rest-port=55870 --tcp-port=55871 --discv5-udp-port=55873 --rest-address=0.0.0.0 --nat=extip:172.18.230.82 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=2e4f26ef4be0ade4d857bbceebfd11f3852d138f1ad20bb9741fe4f0dea7c916 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55874 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
2025-02-15 04:03:56.259 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.230.82 waku dc6f96d8ab00e7ea73da50b7c9ac561b7e7b141c6df9702adc46be615255d044
2025-02-15 04:03:56.305 DEBUG [src.node.docker_mananger] Container started with ID dc6f96d8ab00. Setting up logs at ./log/docker/node1_2025-02-15_04-03-56__5eca61af-d3e4-4574-955e-bec944b0d98e__wakuorg_nwaku:latest.log
2025-02-15 04:03:56.307 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 55870
2025-02-15 04:03:56.307 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:03:56.823 ERROR [src.node.docker_mananger] Max retries reached for container 35ac46e75ced. Exiting log stream.
2025-02-15 04:03:57.307 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55870/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:57.310 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:03:57.310 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:03:57.311 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55870/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:57.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.82/tcp/55871/p2p/16Uiu2HAm9B59YsAQQiwbk8eGYHynoEre8cuwJ7iDvUtFMh69fF6R","/ip4/172.18.230.82/tcp/55872/ws/p2p/16Uiu2HAm9B59YsAQQiwbk8eGYHynoEre8cuwJ7iDvUtFMh69fF6R"],"enrUri":"enr:-L24QMLwpRlNt4xUPQk2vxVezz5OZ5SBBs5xhpuPVW6noqkYW9cNqVCPp8ziKold05FpDCD2HlAjHV6_1A7vZhiguj0CgmlkgnY0gmlwhKwS5lKKbXVsdGlhZGRyc5YACASsEuZSBto_AAoErBLmUgbaQN0DgnJzhQACAQAAiXNlY3AyNTZrMaECzEYZ6aT-2qr0WiWgVW0ec3UHmNuOcA4TaVvzvZ3Gq8KDdGNwgto_g3VkcILaQYV3YWt1MgU"}'
2025-02-15 04:03:57.313 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:03:57.319 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 04:03:57.319 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-15_04-03-56__5eca61af-d3e4-4574-955e-bec944b0d98e__wakuorg_nwaku:latest.log
2025-02-15 04:03:57.320 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 04:03:57.320 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 04:03:57.321 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 04:03:57.321 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.119.72
2025-02-15 04:03:57.321 DEBUG [src.node.docker_mananger] Generated ports ['37999', '38000', '38001', '38002', '38003']
2025-02-15 04:03:57.321 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 04:03:57.321 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 04:03:57.322 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 04:03:57.322 DEBUG [src.node.docker_mananger] docker run -i -t -p 37999:37999 -p 38000:38000 -p 38001:38001 -p 38002:38002 -p 38003:38003 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38001 --rest-port=37999 --tcp-port=38000 --discv5-udp-port=38002 --rest-address=0.0.0.0 --nat=extip:172.18.119.72 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=97a366bb7b18d6e7f9d3b4b6d9da9cbafef8eac5fee3ba15d8e5fbea5bea9cfc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38003 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMLwpRlNt4xUPQk2vxVezz5OZ5SBBs5xhpuPVW6noqkYW9cNqVCPp8ziKold05FpDCD2HlAjHV6_1A7vZhiguj0CgmlkgnY0gmlwhKwS5lKKbXVsdGlhZGRyc5YACASsEuZSBto_AAoErBLmUgbaQN0DgnJzhQACAQAAiXNlY3AyNTZrMaECzEYZ6aT-2qr0WiWgVW0ec3UHmNuOcA4TaVvzvZ3Gq8KDdGNwgto_g3VkcILaQYV3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
2025-02-15 04:03:57.548 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.119.72 waku 4f4a121d0336d31874d6334f361c984e89a55885fefaedf68165a0c336407543
2025-02-15 04:03:57.593 DEBUG [src.node.docker_mananger] Container started with ID 4f4a121d0336. Setting up logs at ./log/docker/node2_2025-02-15_04-03-56__5eca61af-d3e4-4574-955e-bec944b0d98e__wakuorg_nwaku:latest.log
2025-02-15 04:03:57.594 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 37999
2025-02-15 04:03:57.594 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 04:03:58.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37999/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:58.609 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 04:03:58.609 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 04:03:58.610 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37999/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:58.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.72/tcp/38000/p2p/16Uiu2HAky5VcDbLWuvxY5oC7BPhqNK8AzMRqSCD43pGXTLzuLkuE","/ip4/172.18.119.72/tcp/38001/ws/p2p/16Uiu2HAky5VcDbLWuvxY5oC7BPhqNK8AzMRqSCD43pGXTLzuLkuE"],"enrUri":"enr:-L24QArRxUN6lkKaP7eeSQWy8dQhLuuhVgR4OayXcPJc7XH9ZPjZI1GgY75w1D2P2KG7oxKGXa-XB9AzUMQbE80d5tECgmlkgnY0gmlwhKwSd0iKbXVsdGlhZGRyc5YACASsEndIBpRwAAoErBJ3SAaUcd0DgnJzhQACAQAAiXNlY3AyNTZrMaECNkNnZEjur0LVwoZMYbs0qYHwlIwqX-0sGumG55jecXmDdGNwgpRwg3VkcIKUcoV3YWt1MgE"}'
2025-02-15 04:03:58.615 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 04:03:58.616 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37999/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.230.82/tcp/55871/p2p/16Uiu2HAm9B59YsAQQiwbk8eGYHynoEre8cuwJ7iDvUtFMh69fF6R"]'
2025-02-15 04:03:58.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:58.620 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-15 04:03:58.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:58.623 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37999/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-15 04:03:58.625 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:58.626 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:03:58.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:58.631 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:58.732 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:58.732 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:58.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592238625928192,"ephemeral":false}]'
2025-02-15 04:03:58.736 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:58.736 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:58.738 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592238625928192,"ephemeral":false}]'
2025-02-15 04:03:58.740 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-15 04:03:58.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:58.744 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37999/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-15 04:03:58.752 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:58.752 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:03:58.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:58.757 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:58.857 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:58.858 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:58.860 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592238752434688,"ephemeral":false}]'
2025-02-15 04:03:58.862 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:58.862 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:58.864 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592238752434688,"ephemeral":false}]'
2025-02-15 04:03:58.866 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-15 04:03:58.869 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:58.871 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37999/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-15 04:03:58.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:58.877 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:03:58.883 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:58.883 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:58.984 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:58.984 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:58.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592238877176576,"ephemeral":false}]'
2025-02-15 04:03:58.987 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:58.988 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:58.990 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592238877176576,"ephemeral":false}]'
2025-02-15 04:03:58.991 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-15 04:03:58.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:58.996 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37999/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-15 04:03:59.001 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.002 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:03:59.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.009 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:59.109 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:59.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:59.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592239002124800,"ephemeral":false}]'
2025-02-15 04:03:59.112 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:59.113 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:59.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592239002124800,"ephemeral":false}]'
2025-02-15 04:03:59.116 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-15 04:03:59.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.120 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37999/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-15 04:03:59.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.128 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:03:59.134 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.134 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:59.235 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:59.235 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:59.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592239127939328,"ephemeral":false}]'
2025-02-15 04:03:59.238 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:59.239 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:59.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592239127939328,"ephemeral":false}]'
2025-02-15 04:03:59.242 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-15 04:03:59.246 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.246 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37999/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-15 04:03:59.252 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.253 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:03:59.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.259 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:59.359 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:59.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:59.362 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592239253189120,"ephemeral":false}]'
2025-02-15 04:03:59.363 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:59.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:59.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592239253189120,"ephemeral":false}]'
2025-02-15 04:03:59.367 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-15 04:03:59.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.371 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37999/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-15 04:03:59.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.377 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:03:59.383 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.384 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:59.484 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:59.484 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:59.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592239377621760,"ephemeral":false}]'
2025-02-15 04:03:59.488 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:59.488 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:59.490 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592239377621760,"ephemeral":false}]'
2025-02-15 04:03:59.491 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-15 04:03:59.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.496 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37999/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-15 04:03:59.500 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.502 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 04:03:59.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 04:03:59.508 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 04:03:59.609 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:59.609 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:59.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592239501875968,"ephemeral":false}]'
2025-02-15 04:03:59.613 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-15 04:03:59.613 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-15 04:03:59.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739592239501875968,"ephemeral":false}]'
2025-02-15 04:03:59.617 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 04:03:59.618 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 04:03:59.619 DEBUG [src.node.waku_node] Stopping container with id dc6f96d8ab00
2025-02-15 04:04:00.816 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:04:00.816 DEBUG [src.node.waku_node] Stopping container with id 4f4a121d0336
2025-02-15 04:04:01.629 ERROR [src.node.docker_mananger] Max retries reached for container dc6f96d8ab00. Exiting log stream.
2025-02-15 04:04:02.324 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 04:04:02.325 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 04:04:02.338 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 04:04:02.347 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
