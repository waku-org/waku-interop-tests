{"uid":"e39644ed456839fc","name":"test_metrics_after_filter_get","fullName":"tests.metrics.test_metrics.TestMetrics#test_metrics_after_filter_get","historyId":"f7c4063decf3bfb99e41627466834b7f","time":{"start":1739592183337,"stop":1739592188892,"duration":5555},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1739592140097,"stop":1739592140097,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1739592180690,"stop":1739592180690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1739592180690,"stop":1739592180690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1739592180690,"stop":1739592180690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1739592180690,"stop":1739592180690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1739592180691,"stop":1739592180691,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1739592180691,"stop":1739592180691,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1739592180691,"stop":1739592180691,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1739592180691,"stop":1739592180691,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1739592180691,"stop":1739592180692,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1739592180692,"stop":1739592180692,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_node","time":{"start":1739592180692,"stop":1739592181978,"duration":1286},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_filter_node","time":{"start":1739592181978,"stop":1739592183301,"duration":1323},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1739592183263,"stop":1739592183301,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.metrics.test_metrics.TestMetrics object at 0x7ff572bb37a0>, <src.node.waku_node.WakuNode object at 0x7ff57273e630>, ['/ip4/172.18.223.153/tcp/38196/p2p/16Uiu2HAmNn6yatVJ2zKXaaZKK5uDMeffbzzUoEVBwBM5mfa2rkAH'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_nodes","time":{"start":1739592183302,"stop":1739592183336,"duration":34},"status":"passed","steps":[{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1739592183302,"stop":1739592183336,"duration":34},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1739592183323,"stop":1739592183336,"duration":13},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1739592183323,"stop":1739592183336,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '91f8024d-2bbb-4670-ae7e-34a8bc81599b', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '91f8024d-2bbb-4670-ae7e-34a8bc81599b', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-relay/proto']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"create_message","time":{"start":1739592183337,"stop":1739592183337,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_filter_messages","time":{"start":1739592183846,"stop":1739592183849,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-relay/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff57273e630>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188850,"stop":1739592188854,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff5727a0770>"},{"name":"metric_name","value":"'libp2p_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188855,"stop":1739592188858,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff5727a0770>"},{"name":"metric_name","value":"'libp2p_pubsub_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188858,"stop":1739592188861,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff5727a0770>"},{"name":"metric_name","value":"'libp2p_pubsub_topics'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188861,"stop":1739592188865,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff5727a0770>"},{"name":"metric_name","value":"'libp2p_pubsub_subscriptions_total'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188865,"stop":1739592188869,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff5727a0770>"},{"name":"metric_name","value":"'waku_peer_store_size'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188869,"stop":1739592188872,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff5727a0770>"},{"name":"metric_name","value":"'waku_histogram_message_size_count'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188872,"stop":1739592188875,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff5727a0770>"},{"name":"metric_name","value":"'waku_node_messages_total{type=\"relay\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188875,"stop":1739592188878,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff5727a0770>"},{"name":"metric_name","value":"'waku_filter_requests{type=\"SUBSCRIBE\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188878,"stop":1739592188882,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff57273e630>"},{"name":"metric_name","value":"'waku_service_peers{protocol=\"/vac/waku/filter-subscribe/2.0.0-beta1\",peerId=\"/ip4/172.18.223.153/tcp/38196\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188882,"stop":1739592188885,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff57273e630>"},{"name":"metric_name","value":"'libp2p_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188885,"stop":1739592188888,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff57273e630>"},{"name":"metric_name","value":"'libp2p_total_dial_attempts_total'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1739592188888,"stop":1739592188891,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff57273e630>"},{"name":"metric_name","value":"'waku_peer_store_size'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"411d8a58d8673464","name":"log","source":"411d8a58d8673464.txt","type":"text/plain","size":14597},{"uid":"3c92d398e1c0bed7","name":"stderr","source":"3c92d398e1c0bed7.txt","type":"text/plain","size":14277}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":14,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1739592188894,"stop":1739592188894,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1739592188895,"stop":1739592191225,"duration":2330},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1739592191227,"stop":1739592191237,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1739592191237,"stop":1739592191237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1739592312658,"stop":1739592312658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node', 'subscribe_main_nodes')"},{"name":"parentSuite","value":"tests.metrics"},{"name":"suite","value":"test_metrics"},{"name":"subSuite","value":"TestMetrics"},{"name":"host","value":"fv-az1779-524"},{"name":"thread","value":"1933-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.metrics.test_metrics"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":17,"unknown":0,"total":17},"items":[{"uid":"6734f31f91a9dfd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/651//#testresult/6734f31f91a9dfd","status":"passed","time":{"start":1739505785117,"stop":1739505790668,"duration":5551}},{"uid":"12eeae263d9c08c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/650//#testresult/12eeae263d9c08c","status":"passed","time":{"start":1739419386708,"stop":1739419392260,"duration":5552}},{"uid":"3ae5dc5a0ba0acb7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/649//#testresult/3ae5dc5a0ba0acb7","status":"passed","time":{"start":1739332986653,"stop":1739332992206,"duration":5553}},{"uid":"bcce6422a6c24b4a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/648//#testresult/bcce6422a6c24b4a","status":"passed","time":{"start":1739286187258,"stop":1739286192811,"duration":5553}},{"uid":"6e86c293ceccb4b7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/647//#testresult/6e86c293ceccb4b7","status":"passed","time":{"start":1739246581083,"stop":1739246586634,"duration":5551}},{"uid":"c62e771e5087cbd0","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/646//#testresult/c62e771e5087cbd0","status":"passed","time":{"start":1739160187028,"stop":1739160192581,"duration":5553}},{"uid":"bc6971616622f29c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/645//#testresult/bc6971616622f29c","status":"passed","time":{"start":1739073771010,"stop":1739073776559,"duration":5549}},{"uid":"f4ec7bd5b99475ea","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/644//#testresult/f4ec7bd5b99475ea","status":"passed","time":{"start":1738987378216,"stop":1738987383769,"duration":5553}},{"uid":"4ba60b4e4e5b79df","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/643//#testresult/4ba60b4e4e5b79df","status":"passed","time":{"start":1738901002529,"stop":1738901008083,"duration":5554}},{"uid":"2b3a06dc1db55f3d","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/642//#testresult/2b3a06dc1db55f3d","status":"passed","time":{"start":1738814693029,"stop":1738814698581,"duration":5552}},{"uid":"c50f32d22610bf70","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/641//#testresult/c50f32d22610bf70","status":"passed","time":{"start":1738728231153,"stop":1738728236719,"duration":5566}},{"uid":"51cf06387d35f932","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/640//#testresult/51cf06387d35f932","status":"passed","time":{"start":1738689002849,"stop":1738689008401,"duration":5552}},{"uid":"2c20057799c04f2c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/639//#testresult/2c20057799c04f2c","status":"passed","time":{"start":1738641839442,"stop":1738641844994,"duration":5552}},{"uid":"5f90339dfe477183","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/638//#testresult/5f90339dfe477183","status":"passed","time":{"start":1738555448136,"stop":1738555453688,"duration":5552}},{"uid":"a25cd3595f689dd8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/637//#testresult/a25cd3595f689dd8","status":"passed","time":{"start":1738469032785,"stop":1738469038337,"duration":5552}},{"uid":"9645ac8744d745dc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/636//#testresult/9645ac8744d745dc","status":"passed","time":{"start":1738382585574,"stop":1738382591128,"duration":5554}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node', 'subscribe_main_nodes')"]},"source":"e39644ed456839fc.json","parameterValues":[]}