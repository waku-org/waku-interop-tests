[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-09-21_04-18-12__afc59043-7501-4fce-a2c8-7967f9ee558c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-21_04-18-12__afc59043-7501-4fce-a2c8-7967f9ee558c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.78.75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50833', '50834', '50835', '50836', '50837']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50833:50833 -p 50834:50834 -p 50835:50835 -p 50836:50836 -p 50837:50837 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50835 --rest-port=50833 --tcp-port=50834 --discv5-udp-port=50836 --rest-address=0.0.0.0 --nat=extip:172.18.78.75 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aea76cbae9d22b4383613e9b102517ef89e0aca660f621d3c0d0cc1a7c644cff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50837 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.78.75 waku 08f7726fdcb3707829819b21f1d825e4a800721cb33a1ae71c42bb2a0ed51069
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 08f7726fdcb3. Setting up logs at ./log/docker/receiving_node1_2024-09-21_04-18-12__afc59043-7501-4fce-a2c8-7967f9ee558c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50833
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50833/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50833/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.75/tcp/50834/p2p/16Uiu2HAm3YkRAEYAMs8Uzoh3Ra6TF7bpEpGFZSFxgpTgM6xGG7vn","/ip4/172.18.78.75/tcp/50835/ws/p2p/16Uiu2HAm3YkRAEYAMs8Uzoh3Ra6TF7bpEpGFZSFxgpTgM6xGG7vn"],"enrUri":"enr:-LO4QLE3apPumGzkjXtaj65JqVg33W-6_Z9hs4nlWKL0eNLRI4XCP9u-z_npHzdrh3J3D0vLq6r1WTuT_eZIOLllFugBgmlkgnY0gmlwhKwSTkuKbXVsdGlhZGRyc4wACgSsEk5LBsaT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ4rZQSZx73P2fjlEaKr75wWx3Xs3MAwDODpvA48nRM74N0Y3CCxpKDdWRwgsaUhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-21_04-18-12__afc59043-7501-4fce-a2c8-7967f9ee558c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.82.234
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['35490', '35491', '35492', '35493', '35494']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 35490:35490 -p 35491:35491 -p 35492:35492 -p 35493:35493 -p 35494:35494 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35492 --rest-port=35490 --tcp-port=35491 --discv5-udp-port=35493 --rest-address=0.0.0.0 --nat=extip:172.18.82.234 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b9fcf4fa6bde8cfded684cd8d9b6ac742c8e2ad18518b9a87e7f5a9fe6afafc8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35494 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.82.234 waku 256a29483187d520995f94325ba64782bfc7ce7749e8c71fbd0507d26d9bc24a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 256a29483187. Setting up logs at ./log/docker/receiving_node2_2024-09-21_04-18-12__afc59043-7501-4fce-a2c8-7967f9ee558c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35490
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35490/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35490/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.234/tcp/35491/p2p/16Uiu2HAmK2FnmAL18jexSTFaErg7MJxgnrUtGe9MYRrVsWkQHbad","/ip4/172.18.82.234/tcp/35492/ws/p2p/16Uiu2HAmK2FnmAL18jexSTFaErg7MJxgnrUtGe9MYRrVsWkQHbad"],"enrUri":"enr:-LO4QMb7kqDnWnaQdOYs0r5_aEtNtEeOBGKpHkx5gOyot_9vQsdpwhdhKtJIej7j9PhW2iUSoATdzSfPI0A2G4pqCz8BgmlkgnY0gmlwhKwSUuqKbXVsdGlhZGRyc4wACgSsElLqBoqk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNemMaTKuzbvc03cNS2EcxjeFNNwmM7u9Zo-kNJKtjHdoN0Y3CCiqODdWRwgoqlhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35490/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.78.75/tcp/50834/p2p/16Uiu2HAm3YkRAEYAMs8Uzoh3Ra6TF7bpEpGFZSFxgpTgM6xGG7vn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-21_04-18-12__afc59043-7501-4fce-a2c8-7967f9ee558c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.222.245
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36757', '36758', '36759', '36760', '36761']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36757:36757 -p 36758:36758 -p 36759:36759 -p 36760:36760 -p 36761:36761 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36759 --rest-port=36757 --tcp-port=36758 --discv5-udp-port=36760 --rest-address=0.0.0.0 --nat=extip:172.18.222.245 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=af2f3fe4f788b56bd8bda23efe84485aebbff1e7fc1d281fc2f7cb691ca125b9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36761 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLE3apPumGzkjXtaj65JqVg33W-6_Z9hs4nlWKL0eNLRI4XCP9u-z_npHzdrh3J3D0vLq6r1WTuT_eZIOLllFugBgmlkgnY0gmlwhKwSTkuKbXVsdGlhZGRyc4wACgSsEk5LBsaT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ4rZQSZx73P2fjlEaKr75wWx3Xs3MAwDODpvA48nRM74N0Y3CCxpKDdWRwgsaUhXdha3UyCQ --lightpushnode=/ip4/172.18.78.75/tcp/50834/p2p/16Uiu2HAm3YkRAEYAMs8Uzoh3Ra6TF7bpEpGFZSFxgpTgM6xGG7vn --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.222.245 waku f7c8090dd4ae675258ac44b0057c2e3f9ae19c0997ac7438fd64dda05027c4a6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f7c8090dd4ae. Setting up logs at ./log/docker/lightpush_node1_2024-09-21_04-18-12__afc59043-7501-4fce-a2c8-7967f9ee558c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36757
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36757/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36757/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.222.245/tcp/36758/p2p/16Uiu2HAm2x9adKgrj4RfX2nJ59S5mr3xigMjC88XiG8u3P1fpd8P","/ip4/172.18.222.245/tcp/36759/ws/p2p/16Uiu2HAm2x9adKgrj4RfX2nJ59S5mr3xigMjC88XiG8u3P1fpd8P"],"enrUri":"enr:-LO4QLu1mnFs5PNtLg-PsEc0A-8sGm6mh0Kbm268F1QZ1qemUYQx1LKC8Y5STnZ-nzZiF-mojtj9wGPFBpdFx1OoxJEBgmlkgnY0gmlwhKwS3vWKbXVsdGlhZGRyc4wACgSsEt71Bo-X3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJv0HDaPpfr2NMtRhi_nN026tku6wPmScgqPqiZt_ik9IN0Y3CCj5aDdWRwgo-YhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36757/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.78.75/tcp/50834/p2p/16Uiu2HAm3YkRAEYAMs8Uzoh3Ra6TF7bpEpGFZSFxgpTgM6xGG7vn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36757/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.82.234/tcp/35491/p2p/16Uiu2HAmK2FnmAL18jexSTFaErg7MJxgnrUtGe9MYRrVsWkQHbad"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50833/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35490/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36757/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1726892297047185664}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:36757/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 08f7726fdcb3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 256a29483187
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f7c8090dd4ae
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.