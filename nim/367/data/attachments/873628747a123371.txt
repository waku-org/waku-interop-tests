[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.99.178
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33464', '33465', '33466', '33467', '33468']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33464:33464 -p 33465:33465 -p 33466:33466 -p 33467:33467 -p 33468:33468 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33466 --rest-port=33464 --tcp-port=33465 --discv5-udp-port=33467 --rest-address=0.0.0.0 --nat=extip:172.18.99.178 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f15ef3ecab83fcdbfef138f9c34ffcd71dcfdbcdc97f8b847b910af52ff15f2c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33468 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.99.178 waku 438f82df910e32b9273e03f0688d3c948dba736ee6d746039157cc3f1848de1f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 438f82df910e. Setting up logs at ./log/docker/receiving_node1_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33464
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33464/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33464/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.178/tcp/33465/p2p/16Uiu2HAmShSrWSJydTpVEazGRd3oYscU5icNNeja4rMNz8FHYHe6","/ip4/172.18.99.178/tcp/33466/ws/p2p/16Uiu2HAmShSrWSJydTpVEazGRd3oYscU5icNNeja4rMNz8FHYHe6"],"enrUri":"enr:-LO4QEJg82iim3XOcxpKa57AiHvjukruAy12OE4pVfbupLbwRdEfDg37iFY3xBD_Mdl0TrV0Mr4i-N4Nzr47ZZb37P0BgmlkgnY0gmlwhKwSY7KKbXVsdGlhZGRyc4wACgSsEmOyBoK63QOCcnOFAAMBAACJc2VjcDI1NmsxoQPQpL8aEdvDjFVWUTk4wJZFdcWg0TTtY5KDbBxgWr6Qf4N0Y3CCgrmDdWRwgoK7hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.155.107
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20926', '20927', '20928', '20929', '20930']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20926:20926 -p 20927:20927 -p 20928:20928 -p 20929:20929 -p 20930:20930 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20928 --rest-port=20926 --tcp-port=20927 --discv5-udp-port=20929 --rest-address=0.0.0.0 --nat=extip:172.18.155.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dff497a0e75a7726c2a8ac8918ea97ef5d0ceb75e1d0c72eacc690ae6bbec355 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20930 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.155.107 waku d48a31ecea44ba8b2682cc9d551c7ebee334eb0bfb724604ffae249747c0a1b1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d48a31ecea44. Setting up logs at ./log/docker/receiving_node2_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20926
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20926/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20926/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.107/tcp/20927/p2p/16Uiu2HAmNDY8P8eyh9pFxLPZQ6Wo1ZoJmDxdbr5xm54wk3NES8e5","/ip4/172.18.155.107/tcp/20928/ws/p2p/16Uiu2HAmNDY8P8eyh9pFxLPZQ6Wo1ZoJmDxdbr5xm54wk3NES8e5"],"enrUri":"enr:-LO4QOI8C2EKz2wt78Sh7DHkRsYkv8tulBr-GVUNn3yTej51UQ7fH5FJwTqgFgyOwu7Ta_f89Blj1OokONYwQC8PWB8BgmlkgnY0gmlwhKwSm2uKbXVsdGlhZGRyc4wACgSsEptrBlHA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOOD7L5FEJJj-NpL0pXXSQ2YNiT8qzrhVS6fLZ8Doj2OoN0Y3CCUb-DdWRwglHBhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20926/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.178/tcp/33465/p2p/16Uiu2HAmShSrWSJydTpVEazGRd3oYscU5icNNeja4rMNz8FHYHe6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.246.132
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['28762', '28763', '28764', '28765', '28766']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 28762:28762 -p 28763:28763 -p 28764:28764 -p 28765:28765 -p 28766:28766 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28764 --rest-port=28762 --tcp-port=28763 --discv5-udp-port=28765 --rest-address=0.0.0.0 --nat=extip:172.18.246.132 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e4bcd9d3fe6eed921f3eb74aee0ef6dd2db00606abfec8af8a48fbcf5fdb7ae6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28766 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QEJg82iim3XOcxpKa57AiHvjukruAy12OE4pVfbupLbwRdEfDg37iFY3xBD_Mdl0TrV0Mr4i-N4Nzr47ZZb37P0BgmlkgnY0gmlwhKwSY7KKbXVsdGlhZGRyc4wACgSsEmOyBoK63QOCcnOFAAMBAACJc2VjcDI1NmsxoQPQpL8aEdvDjFVWUTk4wJZFdcWg0TTtY5KDbBxgWr6Qf4N0Y3CCgrmDdWRwgoK7hXdha3UyCQ --lightpushnode=/ip4/172.18.99.178/tcp/33465/p2p/16Uiu2HAmShSrWSJydTpVEazGRd3oYscU5icNNeja4rMNz8FHYHe6 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.246.132 waku dfcf8d8cdc7183a439c85dd530a89e3b024ee86500146064c074e8a68613a2f4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID dfcf8d8cdc71. Setting up logs at ./log/docker/lightpush_node1_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28762
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28762/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28762/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.132/tcp/28763/p2p/16Uiu2HAm1ZzA3ecacZwGG3K5Nawkt2E7piCKiYzzh91Dq4GgVPrF","/ip4/172.18.246.132/tcp/28764/ws/p2p/16Uiu2HAm1ZzA3ecacZwGG3K5Nawkt2E7piCKiYzzh91Dq4GgVPrF"],"enrUri":"enr:-LO4QIS9B8_rr1E0YrrVveE0yrhRRw31094ie6tBchvimz65ZMmuGMWP4RgbN13fVjeI8EgLEQniKQv0XoILCvw6APEBgmlkgnY0gmlwhKwS9oSKbXVsdGlhZGRyc4wACgSsEvaEBnBc3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJbR1IRRJwepvPBWrPHRJuS7FwXD-fqS_PEIiT8OLPRMIN0Y3CCcFuDdWRwgnBdhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28762/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.178/tcp/33465/p2p/16Uiu2HAmShSrWSJydTpVEazGRd3oYscU5icNNeja4rMNz8FHYHe6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28762/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.107/tcp/20927/p2p/16Uiu2HAmNDY8P8eyh9pFxLPZQ6Wo1ZoJmDxdbr5xm54wk3NES8e5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.77.60
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['23883', '23884', '23885', '23886', '23887']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 23883:23883 -p 23884:23884 -p 23885:23885 -p 23886:23886 -p 23887:23887 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23885 --rest-port=23883 --tcp-port=23884 --discv5-udp-port=23886 --rest-address=0.0.0.0 --nat=extip:172.18.77.60 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c9f56fa5aed4dbc46bfd0ce87dee5caba5aec5f8fc8e2fba24e63c474a632653 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23887 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QEJg82iim3XOcxpKa57AiHvjukruAy12OE4pVfbupLbwRdEfDg37iFY3xBD_Mdl0TrV0Mr4i-N4Nzr47ZZb37P0BgmlkgnY0gmlwhKwSY7KKbXVsdGlhZGRyc4wACgSsEmOyBoK63QOCcnOFAAMBAACJc2VjcDI1NmsxoQPQpL8aEdvDjFVWUTk4wJZFdcWg0TTtY5KDbBxgWr6Qf4N0Y3CCgrmDdWRwgoK7hXdha3UyCQ --lightpushnode=/ip4/172.18.99.178/tcp/33465/p2p/16Uiu2HAmShSrWSJydTpVEazGRd3oYscU5icNNeja4rMNz8FHYHe6 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.77.60 waku df893da659752f910a024eaf0b8fb9633208062c21dba042266659fa87e9123c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID df893da65975. Setting up logs at ./log/docker/lightpush_node2_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23883
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23883/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23883/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.77.60/tcp/23884/p2p/16Uiu2HAmNEmDuQqG6ZLVh4yASaUdo3H1SWEX7S4XTjmADRjA1FVk","/ip4/172.18.77.60/tcp/23885/ws/p2p/16Uiu2HAmNEmDuQqG6ZLVh4yASaUdo3H1SWEX7S4XTjmADRjA1FVk"],"enrUri":"enr:-LO4QPo97_xJNU1t7cATN5SJWLs0Vn0f9LIfX1XFVcv61U6hZ-Ur8xJbFBuBIrbZmdXCjCoFxRXmS11yJ9bCbpHbma4BgmlkgnY0gmlwhKwSTTyKbXVsdGlhZGRyc4wACgSsEk08Bl1N3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOOYBYzVlij371uUzECBrqaVD8uzZFKvsI8C2Q1jVDNS4N0Y3CCXUyDdWRwgl1OhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23883/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.178/tcp/33465/p2p/16Uiu2HAmShSrWSJydTpVEazGRd3oYscU5icNNeja4rMNz8FHYHe6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23883/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.107/tcp/20927/p2p/16Uiu2HAmNDY8P8eyh9pFxLPZQ6Wo1ZoJmDxdbr5xm54wk3NES8e5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.179.96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['21525', '21526', '21527', '21528', '21529']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 21525:21525 -p 21526:21526 -p 21527:21527 -p 21528:21528 -p 21529:21529 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21527 --rest-port=21525 --tcp-port=21526 --discv5-udp-port=21528 --rest-address=0.0.0.0 --nat=extip:172.18.179.96 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e07bcbeb7b6f0bd98e61b39abb809d3d7195cf4ceb0ca05ffd2bbdb7afb24afe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21529 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QEJg82iim3XOcxpKa57AiHvjukruAy12OE4pVfbupLbwRdEfDg37iFY3xBD_Mdl0TrV0Mr4i-N4Nzr47ZZb37P0BgmlkgnY0gmlwhKwSY7KKbXVsdGlhZGRyc4wACgSsEmOyBoK63QOCcnOFAAMBAACJc2VjcDI1NmsxoQPQpL8aEdvDjFVWUTk4wJZFdcWg0TTtY5KDbBxgWr6Qf4N0Y3CCgrmDdWRwgoK7hXdha3UyCQ --lightpushnode=/ip4/172.18.99.178/tcp/33465/p2p/16Uiu2HAmShSrWSJydTpVEazGRd3oYscU5icNNeja4rMNz8FHYHe6 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.179.96 waku 87116dc15fc8b0fd41d5d753d167fdc3e3776b3f50aeefa1701eec525f4d459e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 87116dc15fc8. Setting up logs at ./log/docker/lightpush_node3_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 21525
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21525/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21525/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.179.96/tcp/21526/p2p/16Uiu2HAm2pXRkcR1xdiMLDEX8P99rTMoq6FN5eBm7HeNPGPQrwm6","/ip4/172.18.179.96/tcp/21527/ws/p2p/16Uiu2HAm2pXRkcR1xdiMLDEX8P99rTMoq6FN5eBm7HeNPGPQrwm6"],"enrUri":"enr:-LO4QITvlM2FFs0lwfblY8eC3yK9cDnhB0uA0KpXdB8gsLgDSyUhqh8AuSdL53e6P7-ZmTUPXkKicGX4kwsXMhnLp1YBgmlkgnY0gmlwhKwSs2CKbXVsdGlhZGRyc4wACgSsErNgBlQX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJt3H8wbAG96ILW0VZraJjUPiC3ONoS1SBvs2a2uMUFLYN0Y3CCVBaDdWRwglQYhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21525/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.178/tcp/33465/p2p/16Uiu2HAmShSrWSJydTpVEazGRd3oYscU5icNNeja4rMNz8FHYHe6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21525/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.107/tcp/20927/p2p/16Uiu2HAmNDY8P8eyh9pFxLPZQ6Wo1ZoJmDxdbr5xm54wk3NES8e5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.60.43
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['43444', '43445', '43446', '43447', '43448']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 43444:43444 -p 43445:43445 -p 43446:43446 -p 43447:43447 -p 43448:43448 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43446 --rest-port=43444 --tcp-port=43445 --discv5-udp-port=43447 --rest-address=0.0.0.0 --nat=extip:172.18.60.43 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac9b30c43e67372d8eed24d9bdcdac3c1f2b5aa0c7c24fcaf485f32608b42f99 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43448 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QEJg82iim3XOcxpKa57AiHvjukruAy12OE4pVfbupLbwRdEfDg37iFY3xBD_Mdl0TrV0Mr4i-N4Nzr47ZZb37P0BgmlkgnY0gmlwhKwSY7KKbXVsdGlhZGRyc4wACgSsEmOyBoK63QOCcnOFAAMBAACJc2VjcDI1NmsxoQPQpL8aEdvDjFVWUTk4wJZFdcWg0TTtY5KDbBxgWr6Qf4N0Y3CCgrmDdWRwgoK7hXdha3UyCQ --lightpushnode=/ip4/172.18.99.178/tcp/33465/p2p/16Uiu2HAmShSrWSJydTpVEazGRd3oYscU5icNNeja4rMNz8FHYHe6 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.60.43 waku 0ad1295c9d03124e860dab4c7c55bcb600a107d99de4c277ea083a869175e912
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0ad1295c9d03. Setting up logs at ./log/docker/lightpush_node4_2024-09-21_04-17-37__431ea21a-7b6a-4a67-ba3e-8c530939a68d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43444
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43444/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43444/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.43/tcp/43445/p2p/16Uiu2HAmPRqterMGWAR1qugU6oPE295oMHpx6zfVdnwWr9eqHwWn","/ip4/172.18.60.43/tcp/43446/ws/p2p/16Uiu2HAmPRqterMGWAR1qugU6oPE295oMHpx6zfVdnwWr9eqHwWn"],"enrUri":"enr:-LO4QOSGnjnobBXYKaNqQcMP5X2n2hkhjohM_V9bXcmKgexuFbDrc-GAiroK1vAQXAn-rmVRieXsp9qJVJ-Ehnw6WgIBgmlkgnY0gmlwhKwSPCuKbXVsdGlhZGRyc4wACgSsEjwrBqm23QOCcnOFAAMBAACJc2VjcDI1NmsxoQOgEnDWL-kszAuyDQ_z3R53kyJ78igaXwjE4bUbaqQjd4N0Y3CCqbWDdWRwgqm3hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43444/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.178/tcp/33465/p2p/16Uiu2HAmShSrWSJydTpVEazGRd3oYscU5icNNeja4rMNz8FHYHe6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43444/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.107/tcp/20927/p2p/16Uiu2HAmNDY8P8eyh9pFxLPZQ6Wo1ZoJmDxdbr5xm54wk3NES8e5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33464/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20926/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28762/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726892267793807360}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33464/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726892267793807360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20926/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726892267793807360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23883/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726892267918150912}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33464/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726892267918150912,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20926/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726892267918150912,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21525/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726892268042146816}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33464/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726892268042146816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20926/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726892268042146816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43444/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726892268170365696}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33464/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726892268170365696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20926/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726892268170365696,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 438f82df910e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d48a31ecea44
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dfcf8d8cdc71
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id df893da65975
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 87116dc15fc8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0ad1295c9d03
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.