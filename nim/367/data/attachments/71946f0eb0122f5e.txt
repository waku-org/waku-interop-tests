[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_without_subscribing_via_api_works with id: 2024-09-21_04-24-24__9e085111-a107-4717-9868-f52ed3a39a9a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-21_04-24-24__9e085111-a107-4717-9868-f52ed3a39a9a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.69.37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['54592', '54593', '54594', '54595', '54596']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 54592:54592 -p 54593:54593 -p 54594:54594 -p 54595:54595 -p 54596:54596 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54594 --rest-port=54592 --tcp-port=54593 --discv5-udp-port=54595 --rest-address=0.0.0.0 --nat=extip:172.18.69.37 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=0ea5cef1d76fdfffa10dbef8af2a4ce5daafcdcd6c19644c7a5ab13cecbbfbad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54596 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.69.37 waku 9b63c89e8c5506a073aeca6ce44be3b99cc0280223b640da421b5fdd33112532
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9b63c89e8c55. Setting up logs at ./log/docker/node1_2024-09-21_04-24-24__9e085111-a107-4717-9868-f52ed3a39a9a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 54592
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54592/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54592/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.69.37/tcp/54593/p2p/16Uiu2HAmE8V9Tz7Mw3ggDsCNQ8MsdoL9kGCXSyvr9Ps2E7ju2xLk","/ip4/172.18.69.37/tcp/54594/ws/p2p/16Uiu2HAmE8V9Tz7Mw3ggDsCNQ8MsdoL9kGCXSyvr9Ps2E7ju2xLk"],"enrUri":"enr:-LO4QKk2Fx0c9vtk0wUSb90zjeb8OBzuHWXLjXTo21vZ4WrcY5902m4OpL6XlSeNBhi219GtMLRMTCknoRb74yOogCgBgmlkgnY0gmlwhKwSRSWKbXVsdGlhZGRyc4wACgSsEkUlBtVC3QOCcnOFAAIBAACJc2VjcDI1NmsxoQMV5u29dG6Vx2P45KF0Vt-EKZJ0RwkdRUeONArmXiXP3YN0Y3CC1UGDdWRwgtVDhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-21_04-24-24__9e085111-a107-4717-9868-f52ed3a39a9a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.229.228
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50519', '50520', '50521', '50522', '50523']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50519:50519 -p 50520:50520 -p 50521:50521 -p 50522:50522 -p 50523:50523 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50521 --rest-port=50519 --tcp-port=50520 --discv5-udp-port=50522 --rest-address=0.0.0.0 --nat=extip:172.18.229.228 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=fa6c8ef96c6ff99983c1342793f947beace9c1d38a1fe0b6fc2fa4ef2fe23e1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50523 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QKk2Fx0c9vtk0wUSb90zjeb8OBzuHWXLjXTo21vZ4WrcY5902m4OpL6XlSeNBhi219GtMLRMTCknoRb74yOogCgBgmlkgnY0gmlwhKwSRSWKbXVsdGlhZGRyc4wACgSsEkUlBtVC3QOCcnOFAAIBAACJc2VjcDI1NmsxoQMV5u29dG6Vx2P45KF0Vt-EKZJ0RwkdRUeONArmXiXP3YN0Y3CC1UGDdWRwgtVDhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.229.228 waku ac42c8fbef1f1de998580628f5ddc757239bc6c9da20d96345957173ceb2cf09
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ac42c8fbef1f. Setting up logs at ./log/docker/node2_2024-09-21_04-24-24__9e085111-a107-4717-9868-f52ed3a39a9a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50519
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50519/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50519/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.229.228/tcp/50520/p2p/16Uiu2HAmEpsSB1oebc9ff1AaoMmtLjSX2BskA1LoGfU71YcuQLEy","/ip4/172.18.229.228/tcp/50521/ws/p2p/16Uiu2HAmEpsSB1oebc9ff1AaoMmtLjSX2BskA1LoGfU71YcuQLEy"],"enrUri":"enr:-LO4QAAI78lqFs1IObGNdlr2HOnX4fg9kar9eSnT2CqwxvszP1nWCqSXNKI1K1Dxw_Aru9xNslrwqcgfyTz17z7ZX_QBgmlkgnY0gmlwhKwS5eSKbXVsdGlhZGRyc4wACgSsEuXkBsVZ3QOCcnOFAAIBAACJc2VjcDI1NmsxoQMgP1y6qxvBOhzKgUIKxeztg2gI8wRBx2blrRrcDjcoToN0Y3CCxViDdWRwgsVahXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50519/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.69.37/tcp/54593/p2p/16Uiu2HAmE8V9Tz7Mw3ggDsCNQ8MsdoL9kGCXSyvr9Ps2E7ju2xLk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54592/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50519/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9b63c89e8c55
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ac42c8fbef1f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.