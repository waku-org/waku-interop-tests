[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2025-02-05_04-04-15__3887d405-e456-4a84-8b97-9b7d1880612a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-05_04-04-15__3887d405-e456-4a84-8b97-9b7d1880612a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.75.53
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30096', '30097', '30098', '30099', '30100']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30096:30096 -p 30097:30097 -p 30098:30098 -p 30099:30099 -p 30100:30100 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30098 --rest-port=30096 --tcp-port=30097 --discv5-udp-port=30099 --rest-address=0.0.0.0 --nat=extip:172.18.75.53 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e3febeb30af21563ade4ee0ffbae511e997dff42082c27decf97eeeaf8f2f6ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30100 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.75.53 waku 5d1e2a76d955ef7f511e8d6641a87e9de281f1f9837848a4ac3d6dd7b24054b8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5d1e2a76d955. Setting up logs at ./log/docker/node1_2025-02-05_04-04-15__3887d405-e456-4a84-8b97-9b7d1880612a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30096
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7ff5f436ad69. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30096/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30096/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.53/tcp/30097/p2p/16Uiu2HAmVPiZGS25txeENbQWSjLkpnFXJonzPuxuC5oNqcNaxjk4","/ip4/172.18.75.53/tcp/30098/ws/p2p/16Uiu2HAmVPiZGS25txeENbQWSjLkpnFXJonzPuxuC5oNqcNaxjk4"],"enrUri":"enr:-L24QG0D5i44My-xqAfWTf0SEEbWv_hdWYphh0ixyjNHS1Vpb8AwGjNfwD6nUY6DcT0xClLQrvZFzFL4Mj4fi5wOj2UCgmlkgnY0gmlwhKwSSzWKbXVsdGlhZGRyc5YACASsEks1BnWRAAoErBJLNQZ1kt0DgnJzhQADAQAAiXNlY3AyNTZrMaED-K0bm7Gc-i7oA7zTFdyjICCmbkmGFh8D73uoy-Bk4TGDdGNwgnWRg3VkcIJ1k4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-05_04-04-15__3887d405-e456-4a84-8b97-9b7d1880612a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.217.54
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29757', '29758', '29759', '29760', '29761']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29757:29757 -p 29758:29758 -p 29759:29759 -p 29760:29760 -p 29761:29761 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29759 --rest-port=29757 --tcp-port=29758 --discv5-udp-port=29760 --rest-address=0.0.0.0 --nat=extip:172.18.217.54 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f0c5a5dc765a2feab1739ed12f92e994af9a5ceceedce000d2ea815fd2c22b7a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29761 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QG0D5i44My-xqAfWTf0SEEbWv_hdWYphh0ixyjNHS1Vpb8AwGjNfwD6nUY6DcT0xClLQrvZFzFL4Mj4fi5wOj2UCgmlkgnY0gmlwhKwSSzWKbXVsdGlhZGRyc5YACASsEks1BnWRAAoErBJLNQZ1kt0DgnJzhQADAQAAiXNlY3AyNTZrMaED-K0bm7Gc-i7oA7zTFdyjICCmbkmGFh8D73uoy-Bk4TGDdGNwgnWRg3VkcIJ1k4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.217.54 waku 9a2afda0c4630562a651f3adf3dc355e966f4f7d179450d639805f1eef8aadef
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9a2afda0c463. Setting up logs at ./log/docker/node2_2025-02-05_04-04-15__3887d405-e456-4a84-8b97-9b7d1880612a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29757
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29757/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29757/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.54/tcp/29758/p2p/16Uiu2HAmG6CsRjrF8Z4G6RAoYrpPPZKZfk8oHrL2QrPDRZ9FARDX","/ip4/172.18.217.54/tcp/29759/ws/p2p/16Uiu2HAmG6CsRjrF8Z4G6RAoYrpPPZKZfk8oHrL2QrPDRZ9FARDX"],"enrUri":"enr:-L24QLn0RChmLMPIVYZRMuQDmSHkRUIOM8VUrgNlCAz9WR7lQY1DwFnTmpTRZO5YtMwSwLgyYTpFeB-nsY_Wa4KGRNcCgmlkgnY0gmlwhKwS2TaKbXVsdGlhZGRyc5YACASsEtk2BnQ-AAoErBLZNgZ0P90DgnJzhQADAQAAiXNlY3AyNTZrMaEDMwi8qnNBO8il6gaV4wNdU2KurxB7Vad_J0q6U8apJX6DdGNwgnQ-g3VkcIJ0QIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29757/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.53/tcp/30097/p2p/16Uiu2HAmVPiZGS25txeENbQWSjLkpnFXJonzPuxuC5oNqcNaxjk4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-02-05_04-04-15__3887d405-e456-4a84-8b97-9b7d1880612a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.30.141
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36509', '36510', '36511', '36512', '36513']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36509:36509 -p 36510:36510 -p 36511:36511 -p 36512:36512 -p 36513:36513 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36511 --rest-port=36509 --tcp-port=36510 --discv5-udp-port=36512 --rest-address=0.0.0.0 --nat=extip:172.18.30.141 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b3abca95cddc7b7db7c8289dc6ddc91c920dd9ece76f720e4e2cecb91b62aefd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36513 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QG0D5i44My-xqAfWTf0SEEbWv_hdWYphh0ixyjNHS1Vpb8AwGjNfwD6nUY6DcT0xClLQrvZFzFL4Mj4fi5wOj2UCgmlkgnY0gmlwhKwSSzWKbXVsdGlhZGRyc5YACASsEks1BnWRAAoErBJLNQZ1kt0DgnJzhQADAQAAiXNlY3AyNTZrMaED-K0bm7Gc-i7oA7zTFdyjICCmbkmGFh8D73uoy-Bk4TGDdGNwgnWRg3VkcIJ1k4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.30.141 waku df6202167960a61f9cc9d3d18431c85992ef0f116c84db2dbbbca9fce63bf9f1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID df6202167960. Setting up logs at ./log/docker/node3_2025-02-05_04-04-15__3887d405-e456-4a84-8b97-9b7d1880612a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36509
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36509/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36509/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.141/tcp/36510/p2p/16Uiu2HAkvd5RqSRncxq3xJS4croCvMjTjzvEx1e8PL6GnYQ1P4AB","/ip4/172.18.30.141/tcp/36511/ws/p2p/16Uiu2HAkvd5RqSRncxq3xJS4croCvMjTjzvEx1e8PL6GnYQ1P4AB"],"enrUri":"enr:-L24QPWRcxp2mFUASx7Yb0XF1c-D3_f67TZesKC_Nc5c9GbFSD0B2DZEZHUXnGUps-MXCR7FSCH5RHBrHKZq6p11GV0CgmlkgnY0gmlwhKwSHo2KbXVsdGlhZGRyc5YACASsEh6NBo6eAAoErBIejQaOn90DgnJzhQADAQAAiXNlY3AyNTZrMaECEceW9tHHkjXTmJuUhz_EKVhyVXIOv89y442Dvb8GkZCDdGNwgo6eg3VkcIKOoIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36509/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.53/tcp/30097/p2p/16Uiu2HAmVPiZGS25txeENbQWSjLkpnFXJonzPuxuC5oNqcNaxjk4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-02-05_04-04-15__3887d405-e456-4a84-8b97-9b7d1880612a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.60.245
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39094', '39095', '39096', '39097', '39098']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39094:39094 -p 39095:39095 -p 39096:39096 -p 39097:39097 -p 39098:39098 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39096 --rest-port=39094 --tcp-port=39095 --discv5-udp-port=39097 --rest-address=0.0.0.0 --nat=extip:172.18.60.245 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f98b3f8ce1dec247df4ba1a4a72fc14d1b6dbc31e10a4f2e6bccdcaf2ba7bd4e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39098 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QG0D5i44My-xqAfWTf0SEEbWv_hdWYphh0ixyjNHS1Vpb8AwGjNfwD6nUY6DcT0xClLQrvZFzFL4Mj4fi5wOj2UCgmlkgnY0gmlwhKwSSzWKbXVsdGlhZGRyc5YACASsEks1BnWRAAoErBJLNQZ1kt0DgnJzhQADAQAAiXNlY3AyNTZrMaED-K0bm7Gc-i7oA7zTFdyjICCmbkmGFh8D73uoy-Bk4TGDdGNwgnWRg3VkcIJ1k4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.60.245 waku 1ddda47c5a70e7a998ab696cb87813791827a8402c6e22376bdb73384a1da0d2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1ddda47c5a70. Setting up logs at ./log/docker/node4_2025-02-05_04-04-15__3887d405-e456-4a84-8b97-9b7d1880612a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 39094
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39094/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39094/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.245/tcp/39095/p2p/16Uiu2HAmJmwvXeWDuF7NLEs22d6LfRVwhLs7i1YUw4xDtKvCA1MC","/ip4/172.18.60.245/tcp/39096/ws/p2p/16Uiu2HAmJmwvXeWDuF7NLEs22d6LfRVwhLs7i1YUw4xDtKvCA1MC"],"enrUri":"enr:-L24QNiOE2KcAX3NiTUziXHzWbwlPmVX-O7f_b-DLmaZ9JUpRliNGvhK_mGz8GmlZoIZJo1igJkAodoXvIWLCFa35lACgmlkgnY0gmlwhKwSPPWKbXVsdGlhZGRyc5YACASsEjz1Bpi3AAoErBI89QaYuN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWu5xb4UH-dvVQcRNn4GTPD9xhw02e7tEbJk5o0B9r8uDdGNwgpi3g3VkcIKYuYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39094/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.53/tcp/30097/p2p/16Uiu2HAmVPiZGS25txeENbQWSjLkpnFXJonzPuxuC5oNqcNaxjk4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-02-05_04-04-15__3887d405-e456-4a84-8b97-9b7d1880612a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.163.182
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33508', '33509', '33510', '33511', '33512']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33508:33508 -p 33509:33509 -p 33510:33510 -p 33511:33511 -p 33512:33512 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33510 --rest-port=33508 --tcp-port=33509 --discv5-udp-port=33511 --rest-address=0.0.0.0 --nat=extip:172.18.163.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a60e38caa0b3bc80dd26ce51ec7adbfd28f04f1d9cc3cccfd4b3228c8d754bea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33512 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QG0D5i44My-xqAfWTf0SEEbWv_hdWYphh0ixyjNHS1Vpb8AwGjNfwD6nUY6DcT0xClLQrvZFzFL4Mj4fi5wOj2UCgmlkgnY0gmlwhKwSSzWKbXVsdGlhZGRyc5YACASsEks1BnWRAAoErBJLNQZ1kt0DgnJzhQADAQAAiXNlY3AyNTZrMaED-K0bm7Gc-i7oA7zTFdyjICCmbkmGFh8D73uoy-Bk4TGDdGNwgnWRg3VkcIJ1k4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.163.182 waku c80f56b5d368408f1f8f90a5dc435d62402424bc6d256a2ce04de4f672ffddff
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c80f56b5d368. Setting up logs at ./log/docker/node5_2025-02-05_04-04-15__3887d405-e456-4a84-8b97-9b7d1880612a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 33508
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33508/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33508/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.163.182/tcp/33509/p2p/16Uiu2HAm4pvMAcaVNbdK1qnWaqKLXj4tQpgk1F5jqk5Qttf23eVr","/ip4/172.18.163.182/tcp/33510/ws/p2p/16Uiu2HAm4pvMAcaVNbdK1qnWaqKLXj4tQpgk1F5jqk5Qttf23eVr"],"enrUri":"enr:-L24QI0zDxMgHU8deIKcnROP6TYbFJSF4ArCzFomCGLJX7WiB8MNfoHdRS4F1PtTrMWh_DzOliQ01ro7omj2HdhnjiMCgmlkgnY0gmlwhKwSo7aKbXVsdGlhZGRyc5YACASsEqO2BoLlAAoErBKjtgaC5t0DgnJzhQADAQAAiXNlY3AyNTZrMaECi63JlxTjF3Vd18G157P2_uxAQfZFiEXYDQ4wQjFkJR2DdGNwgoLlg3VkcIKC54V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33508/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.53/tcp/30097/p2p/16Uiu2HAmVPiZGS25txeENbQWSjLkpnFXJonzPuxuC5oNqcNaxjk4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30096/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29757/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36509/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39094/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33508/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30096/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30096/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738728261888603136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29757/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738728261888603136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738728261888603136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39094/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738728261888603136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33508/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738728261888603136,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30096/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30096/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738728262024622848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29757/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738728262024622848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738728262024622848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39094/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738728262024622848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33508/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738728262024622848,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5d1e2a76d955
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9a2afda0c463
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5d1e2a76d955. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id df6202167960
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9a2afda0c463. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1ddda47c5a70
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container df6202167960. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c80f56b5d368
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1ddda47c5a70. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.