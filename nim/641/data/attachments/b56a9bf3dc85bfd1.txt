[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_cursor_equal_to_first_message with id: 2025-02-05_04-09-05__abc10730-6b5b-4cbe-a8ea-f1e3fd46c178
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-05_04-09-05__abc10730-6b5b-4cbe-a8ea-f1e3fd46c178__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.167.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17043', '17044', '17045', '17046', '17047']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17043:17043 -p 17044:17044 -p 17045:17045 -p 17046:17046 -p 17047:17047 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17045 --rest-port=17043 --tcp-port=17044 --discv5-udp-port=17046 --rest-address=0.0.0.0 --nat=extip:172.18.167.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9cfc67b3dca6f08fad7d4ab5eac76aa6dda1a09554ab2dfcafe2df7d8acc8857 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17047 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.167.120 waku d4c7a64b3724c9be25fdd547e329958160e5397b64cd593a10db15b01dce48ff
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d4c7a64b3724. Setting up logs at ./log/docker/publishing_node1_2025-02-05_04-09-05__abc10730-6b5b-4cbe-a8ea-f1e3fd46c178__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 17043
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dfc0dc913785. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17043/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17043/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.167.120/tcp/17044/p2p/16Uiu2HAmH2fhhPoGN2jGXM3ZDYWyiNo283g8a9dgzcxveatW8F4x","/ip4/172.18.167.120/tcp/17045/ws/p2p/16Uiu2HAmH2fhhPoGN2jGXM3ZDYWyiNo283g8a9dgzcxveatW8F4x"],"enrUri":"enr:-L24QP0n_isVfD74XZPHeBMgdJ_dT_7ylD3Dnubm1epDz0vrPPxamOS0V0lSJHg3gYbm_ShGm5E4Fr0bAtjGHnhA3w4CgmlkgnY0gmlwhKwSp3iKbXVsdGlhZGRyc5YACASsEqd4BkKUAAoErBKneAZCld0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQPxwokUrnFZiETVB4q8lydeWdA0BsOcPIuLjUoycu2WDdGNwgkKUg3VkcIJCloV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-05_04-09-05__abc10730-6b5b-4cbe-a8ea-f1e3fd46c178__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.113.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4921', '4922', '4923', '4924', '4925']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4921:4921 -p 4922:4922 -p 4923:4923 -p 4924:4924 -p 4925:4925 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4923 --rest-port=4921 --tcp-port=4922 --discv5-udp-port=4924 --rest-address=0.0.0.0 --nat=extip:172.18.113.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fcdc7dde82ceca97be4fee1fd28efa8c0e7aa09e6cf2a10a50ad66211940b5da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4925 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QP0n_isVfD74XZPHeBMgdJ_dT_7ylD3Dnubm1epDz0vrPPxamOS0V0lSJHg3gYbm_ShGm5E4Fr0bAtjGHnhA3w4CgmlkgnY0gmlwhKwSp3iKbXVsdGlhZGRyc5YACASsEqd4BkKUAAoErBKneAZCld0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQPxwokUrnFZiETVB4q8lydeWdA0BsOcPIuLjUoycu2WDdGNwgkKUg3VkcIJCloV3YWt1MgM --storenode=/ip4/172.18.167.120/tcp/17044/p2p/16Uiu2HAmH2fhhPoGN2jGXM3ZDYWyiNo283g8a9dgzcxveatW8F4x --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.113.207 waku 1c991b7467d0a4ab7d15ff536a4c6cb5214116e136b01ad292cc39c14c1edfe3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1c991b7467d0. Setting up logs at ./log/docker/store_node1_2025-02-05_04-09-05__abc10730-6b5b-4cbe-a8ea-f1e3fd46c178__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4921
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4921/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4921/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.113.207/tcp/4922/p2p/16Uiu2HAmV7YLQXqkGUkTmnUtPjhAmg8WT5BtChv2qSuwrUyx1jZZ","/ip4/172.18.113.207/tcp/4923/ws/p2p/16Uiu2HAmV7YLQXqkGUkTmnUtPjhAmg8WT5BtChv2qSuwrUyx1jZZ"],"enrUri":"enr:-L24QJawHMdcmcsyBBJ2Z4nOFv6_MQIe1k6tYoLTqoV1vzwbcMCsoNy7hXYXAvOjqn7Tk5UbRmDF81ii14tKlEjbhdACgmlkgnY0gmlwhKwScc-KbXVsdGlhZGRyc5YACASsEnHPBhM6AAoErBJxzwYTO90DgnJzhQADAQAAiXNlY3AyNTZrMaED9IhB1LwPDJsYsM8I0qV43djJYLFm2fwNn5R36y94tfiDdGNwghM6g3VkcIITPIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4921/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.167.120/tcp/17044/p2p/16Uiu2HAmH2fhhPoGN2jGXM3ZDYWyiNo283g8a9dgzcxveatW8F4x"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17043/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4921/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17043/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17043/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17043/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17043/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17043/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17043/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17043/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17043/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17043/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17043/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17043/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x02a0b94f748505a6fcefcc188610cb489ae8eace418d2b0550cb4b5c04515c4f&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x4a818c36054b23e2478f4fbb38d527c5b81c072597b52b814b431a648e8832e2"},{"messageHash":"0x1e2f92adf251b399668313e17eecbc9345694cfb019e76dfec4f3eff7ee3090d"},{"messageHash":"0x43300668ee9305804ea0e4660aaee43e52d43f4d1507ab3b16dd9f9bd6cf8b61"},{"messageHash":"0xcf79065bb339bf308f9d2f22156fcc7015de2f8bb6918f29ca498719e75962a2"},{"messageHash":"0x2999ee8664175aa2b43c26089769b389425f9bcdc272b8f2054597a418a6eb10"},{"messageHash":"0xc2c29d94f7c6781242b7ece6662935f2534f5f4fd827b1efb1d3422b42268325"},{"messageHash":"0x90b0a837a8fdf53dd5fc89e93e28060bd08cbd5e6532aeddf071224e7c85241d"},{"messageHash":"0x4c2de510b62758f6be0a6c35dca05fe5216d7296e18c3d69007e4d56b744d713"},{"messageHash":"0x01f73b06491d01e3876ef66fea57fc3b835c55638cd733b3beace19065172341"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4921/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x02a0b94f748505a6fcefcc188610cb489ae8eace418d2b0550cb4b5c04515c4f&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x4a818c36054b23e2478f4fbb38d527c5b81c072597b52b814b431a648e8832e2"},{"messageHash":"0x1e2f92adf251b399668313e17eecbc9345694cfb019e76dfec4f3eff7ee3090d"},{"messageHash":"0x43300668ee9305804ea0e4660aaee43e52d43f4d1507ab3b16dd9f9bd6cf8b61"},{"messageHash":"0xcf79065bb339bf308f9d2f22156fcc7015de2f8bb6918f29ca498719e75962a2"},{"messageHash":"0x2999ee8664175aa2b43c26089769b389425f9bcdc272b8f2054597a418a6eb10"},{"messageHash":"0xc2c29d94f7c6781242b7ece6662935f2534f5f4fd827b1efb1d3422b42268325"},{"messageHash":"0x90b0a837a8fdf53dd5fc89e93e28060bd08cbd5e6532aeddf071224e7c85241d"},{"messageHash":"0x4c2de510b62758f6be0a6c35dca05fe5216d7296e18c3d69007e4d56b744d713"},{"messageHash":"0x01f73b06491d01e3876ef66fea57fc3b835c55638cd733b3beace19065172341"}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d4c7a64b3724
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1c991b7467d0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d4c7a64b3724. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.