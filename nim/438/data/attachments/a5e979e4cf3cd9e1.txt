[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-07_09-00-15__9f7a3d91-96d8-4a87-b7a6-5e801716e861
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_09-00-15__9f7a3d91-96d8-4a87-b7a6-5e801716e861__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.44.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46425', '46426', '46427', '46428', '46429']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46425:46425 -p 46426:46426 -p 46427:46427 -p 46428:46428 -p 46429:46429 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46427 --rest-port=46425 --tcp-port=46426 --discv5-udp-port=46428 --rest-address=0.0.0.0 --nat=extip:172.18.44.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=094abbbdadb08c536fda1ea1c50b00bcec619be9bc3c6af6fe5222e0f5bbc6a5 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46429 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.44.91 waku c0215f76bc5857b2ef73e64ddcb56e11f0b7fe46864edd271246ff0a117fb429
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c0215f76bc58. Setting up logs at ./log/docker/node1_2024-11-07_09-00-15__9f7a3d91-96d8-4a87-b7a6-5e801716e861__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 46425
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1a9ea48ff4e1. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46425/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46425/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.44.91/tcp/46426/p2p/16Uiu2HAmHZHPmVAFE9ov7ytKdBzm8Ehb1AxDTwocjvHsYV52pp1g","/ip4/172.18.44.91/tcp/46427/ws/p2p/16Uiu2HAmHZHPmVAFE9ov7ytKdBzm8Ehb1AxDTwocjvHsYV52pp1g"],"enrUri":"enr:-L24QOybXSUfZTiwnWaZleWXEV4tJ5YjYiU3S-j6iUBxYCkAQvRSplcTDINS3kisQAD7V6qLZCNlnpO6eo1xbCoUWYsCgmlkgnY0gmlwhKwSLFuKbXVsdGlhZGRyc5YACASsEixbBrVaAAoErBIsWwa1W90DgnJzhQADAQAAiXNlY3AyNTZrMaEDSNQ4VOiSIE0TAnOvYwzgM91tQKxxo7XTnyOxsmOHtSuDdGNwgrVag3VkcIK1XIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_09-00-15__9f7a3d91-96d8-4a87-b7a6-5e801716e861__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.93.240
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38335', '38336', '38337', '38338', '38339']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38335:38335 -p 38336:38336 -p 38337:38337 -p 38338:38338 -p 38339:38339 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38337 --rest-port=38335 --tcp-port=38336 --discv5-udp-port=38338 --rest-address=0.0.0.0 --nat=extip:172.18.93.240 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aad17cb5ae7e7ebcee4e2e259e5617f95b77ec14edefeb659b46bbaf7e3ce70c --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38339 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOybXSUfZTiwnWaZleWXEV4tJ5YjYiU3S-j6iUBxYCkAQvRSplcTDINS3kisQAD7V6qLZCNlnpO6eo1xbCoUWYsCgmlkgnY0gmlwhKwSLFuKbXVsdGlhZGRyc5YACASsEixbBrVaAAoErBIsWwa1W90DgnJzhQADAQAAiXNlY3AyNTZrMaEDSNQ4VOiSIE0TAnOvYwzgM91tQKxxo7XTnyOxsmOHtSuDdGNwgrVag3VkcIK1XIV3YWt1MgU --filternode=/ip4/172.18.44.91/tcp/46426/p2p/16Uiu2HAmHZHPmVAFE9ov7ytKdBzm8Ehb1AxDTwocjvHsYV52pp1g
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.93.240 waku 5c3b62574a3e420bcc1e49ca456159ebebfb5a42cfcecb1948b2d7a08d84211a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5c3b62574a3e. Setting up logs at ./log/docker/node2_2024-11-07_09-00-15__9f7a3d91-96d8-4a87-b7a6-5e801716e861__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 38335
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38335/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38335/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.93.240/tcp/38336/p2p/16Uiu2HAmL7kg5tfZGRtJqF2t4v9nNM1iGmEpG6K8JMQRbGMCmnfJ","/ip4/172.18.93.240/tcp/38337/ws/p2p/16Uiu2HAmL7kg5tfZGRtJqF2t4v9nNM1iGmEpG6K8JMQRbGMCmnfJ"],"enrUri":"enr:-L24QPlmtrW8Wzp8dCpe2upxNg0X2h5Vr0CALyWkfuax6EXcCGExxDRqRAME5bcaHWyfthrcx1ZtsxwHAs6LveVYCOsCgmlkgnY0gmlwhKwSXfCKbXVsdGlhZGRyc5YACASsEl3wBpXAAAoErBJd8AaVwd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDbt0G4k3WZEgDYUSCuh5UoB334w6n88UwMdLnmyqUz9GDdGNwgpXAg3VkcIKVwoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38335/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.44.91/tcp/46426/p2p/16Uiu2HAmHZHPmVAFE9ov7ytKdBzm8Ehb1AxDTwocjvHsYV52pp1g"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_09-00-15__9f7a3d91-96d8-4a87-b7a6-5e801716e861__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.155.51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41265', '41266', '41267', '41268', '41269']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41265:41265 -p 41266:41266 -p 41267:41267 -p 41268:41268 -p 41269:41269 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41267 --rest-port=41265 --tcp-port=41266 --discv5-udp-port=41268 --rest-address=0.0.0.0 --nat=extip:172.18.155.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=47781edf851885bead652ff2a31a067802d5cd8889e3937e2aa43e6baaedadb3 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41269 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOybXSUfZTiwnWaZleWXEV4tJ5YjYiU3S-j6iUBxYCkAQvRSplcTDINS3kisQAD7V6qLZCNlnpO6eo1xbCoUWYsCgmlkgnY0gmlwhKwSLFuKbXVsdGlhZGRyc5YACASsEixbBrVaAAoErBIsWwa1W90DgnJzhQADAQAAiXNlY3AyNTZrMaEDSNQ4VOiSIE0TAnOvYwzgM91tQKxxo7XTnyOxsmOHtSuDdGNwgrVag3VkcIK1XIV3YWt1MgU --filternode=/ip4/172.18.44.91/tcp/46426/p2p/16Uiu2HAmHZHPmVAFE9ov7ytKdBzm8Ehb1AxDTwocjvHsYV52pp1g
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.155.51 waku f67067535e7f7433fd11a4a37398062eca0e7e2c9536902ffd8693b4bf939b78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f67067535e7f. Setting up logs at ./log/docker/node3_2024-11-07_09-00-15__9f7a3d91-96d8-4a87-b7a6-5e801716e861__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 41265
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41265/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41265/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.51/tcp/41266/p2p/16Uiu2HAmApd8mKHUpXKpYjgSfj3BTLcEM6TDezHZZPfV4eqLv19Z","/ip4/172.18.155.51/tcp/41267/ws/p2p/16Uiu2HAmApd8mKHUpXKpYjgSfj3BTLcEM6TDezHZZPfV4eqLv19Z"],"enrUri":"enr:-L24QMMtdIw65aSeIxZraSdIrN4QsH1s7TFbv_018-Rn5-_bU5poK_YQ6vNGmwe9uWCxaF-ni7q3ka0vAJK7G6WLp0QCgmlkgnY0gmlwhKwSmzOKbXVsdGlhZGRyc5YACASsEpszBqEyAAoErBKbMwahM90DgnJzhQADAQAAiXNlY3AyNTZrMaEC5MBx_nIJ8r2BNSqY8qCi8ZR8mpXSDIUZ0Hl7Zm8fySiDdGNwgqEyg3VkcIKhNIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41265/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.44.91/tcp/46426/p2p/16Uiu2HAmHZHPmVAFE9ov7ytKdBzm8Ehb1AxDTwocjvHsYV52pp1g"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-07_09-00-15__9f7a3d91-96d8-4a87-b7a6-5e801716e861__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.215.239
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51393', '51394', '51395', '51396', '51397']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51393:51393 -p 51394:51394 -p 51395:51395 -p 51396:51396 -p 51397:51397 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51395 --rest-port=51393 --tcp-port=51394 --discv5-udp-port=51396 --rest-address=0.0.0.0 --nat=extip:172.18.215.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f3cbde20b1ccb4a9a488bd13a4ae60c8ffcea02d7bade6a6fef68c56afa4fba8 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51397 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOybXSUfZTiwnWaZleWXEV4tJ5YjYiU3S-j6iUBxYCkAQvRSplcTDINS3kisQAD7V6qLZCNlnpO6eo1xbCoUWYsCgmlkgnY0gmlwhKwSLFuKbXVsdGlhZGRyc5YACASsEixbBrVaAAoErBIsWwa1W90DgnJzhQADAQAAiXNlY3AyNTZrMaEDSNQ4VOiSIE0TAnOvYwzgM91tQKxxo7XTnyOxsmOHtSuDdGNwgrVag3VkcIK1XIV3YWt1MgU --filternode=/ip4/172.18.44.91/tcp/46426/p2p/16Uiu2HAmHZHPmVAFE9ov7ytKdBzm8Ehb1AxDTwocjvHsYV52pp1g
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.215.239 waku 6142a44962f7aea4657935db65b496913c729671ca11068973270283af80ce74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6142a44962f7. Setting up logs at ./log/docker/node4_2024-11-07_09-00-15__9f7a3d91-96d8-4a87-b7a6-5e801716e861__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 51393
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51393/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51393/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.215.239/tcp/51394/p2p/16Uiu2HAkzTJuYFME1w37crwBkczeer9Z1NcFuckpVBi2t5fC4GiJ","/ip4/172.18.215.239/tcp/51395/ws/p2p/16Uiu2HAkzTJuYFME1w37crwBkczeer9Z1NcFuckpVBi2t5fC4GiJ"],"enrUri":"enr:-L24QKAf00xfm6m8YKSYhTBLZK3dHqIJh5sxq44A5tljXq1LamIU83WMqUZyudE2UDitsF4KlrgfhC5kH_-zFciH4uYCgmlkgnY0gmlwhKwS1--KbXVsdGlhZGRyc5YACASsEtfvBsjCAAoErBLX7wbIw90DgnJzhQADAQAAiXNlY3AyNTZrMaECSrXEv0qjC-zBTNkms1AJnOwOXrAEnEjjMvcSs2sTNd-DdGNwgsjCg3VkcILIxIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51393/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.44.91/tcp/46426/p2p/16Uiu2HAmHZHPmVAFE9ov7ytKdBzm8Ehb1AxDTwocjvHsYV52pp1g"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-07_09-00-15__9f7a3d91-96d8-4a87-b7a6-5e801716e861__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.161.132
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58078', '58079', '58080', '58081', '58082']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58078:58078 -p 58079:58079 -p 58080:58080 -p 58081:58081 -p 58082:58082 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58080 --rest-port=58078 --tcp-port=58079 --discv5-udp-port=58081 --rest-address=0.0.0.0 --nat=extip:172.18.161.132 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9cbd2cad61c5021e21a0eda554058fcbeff0bc7ab3a31ff6abc66305aab3bf8 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58082 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOybXSUfZTiwnWaZleWXEV4tJ5YjYiU3S-j6iUBxYCkAQvRSplcTDINS3kisQAD7V6qLZCNlnpO6eo1xbCoUWYsCgmlkgnY0gmlwhKwSLFuKbXVsdGlhZGRyc5YACASsEixbBrVaAAoErBIsWwa1W90DgnJzhQADAQAAiXNlY3AyNTZrMaEDSNQ4VOiSIE0TAnOvYwzgM91tQKxxo7XTnyOxsmOHtSuDdGNwgrVag3VkcIK1XIV3YWt1MgU --filternode=/ip4/172.18.44.91/tcp/46426/p2p/16Uiu2HAmHZHPmVAFE9ov7ytKdBzm8Ehb1AxDTwocjvHsYV52pp1g
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.161.132 waku 9475913b9ca1cfb52d2bf6db1300514d0c5a99f9764aa3aa69449b1c4d4d5b92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9475913b9ca1. Setting up logs at ./log/docker/node5_2024-11-07_09-00-15__9f7a3d91-96d8-4a87-b7a6-5e801716e861__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 58078
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58078/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58078/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.132/tcp/58079/p2p/16Uiu2HAkz67vFNVtvWT3s2njQwQN7F4nKPs99ZNSbK3uJTEZkXSo","/ip4/172.18.161.132/tcp/58080/ws/p2p/16Uiu2HAkz67vFNVtvWT3s2njQwQN7F4nKPs99ZNSbK3uJTEZkXSo"],"enrUri":"enr:-L24QCsEtM2pQhlRlfoVymeA8Ndhmnlk3Cc1ToK6HFtuJ-ckYub-dXp4R3MXgzjmiohRS21da1sAs0DGs5bDv67E3j0CgmlkgnY0gmlwhKwSoYSKbXVsdGlhZGRyc5YACASsEqGEBuLfAAoErBKhhAbi4N0DgnJzhQADAQAAiXNlY3AyNTZrMaECRUgly3hCKMotky_hTQ4zwDDQUt8T84qJJjGu20CNVOiDdGNwguLfg3VkcILi4YV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58078/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.44.91/tcp/46426/p2p/16Uiu2HAmHZHPmVAFE9ov7ytKdBzm8Ehb1AxDTwocjvHsYV52pp1g"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46425/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38335/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2be05fbb-c28b-4815-9f47-375873c49289", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2be05fbb-c28b-4815-9f47-375873c49289","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41265/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "16a3ac40-ed1b-482d-92b2-7b66e265f9a2", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"16a3ac40-ed1b-482d-92b2-7b66e265f9a2","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51393/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d126822f-5685-473b-b062-371ec6e9f326", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d126822f-5685-473b-b062-371ec6e9f326","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58078/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0a58af1a-8def-45e5-9fe8-c36f32f30021", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0a58af1a-8def-45e5-9fe8-c36f32f30021","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38335/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730970025284563200,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41265/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:41265/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c0215f76bc58
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 5c3b62574a3e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c0215f76bc58. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f67067535e7f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5c3b62574a3e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 6142a44962f7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f67067535e7f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 9475913b9ca1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6142a44962f7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.