[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_to_pubsub_topic_from_another_cluster_id with id: 2025-01-26_04-02-53__c94b7489-7334-46bd-a221-ea44c5db8c0b
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-26_04-02-53__c94b7489-7334-46bd-a221-ea44c5db8c0b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:33 Network waku created
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.134.12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3808', '3809', '3810', '3811', '3812']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3808:3808 -p 3809:3809 -p 3810:3810 -p 3811:3811 -p 3812:3812 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3810 --rest-port=3808 --tcp-port=3809 --discv5-udp-port=3811 --rest-address=0.0.0.0 --nat=extip:172.18.134.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7ca767b644fead6fa72f7ded3c7b83be97c8a7413fce2df2ccfbe65279e13ced --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3812 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.134.12 waku 5e617bc3390c6153b376806647d583010193fa5890d28d9d37faa5f6c93f54b3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5e617bc3390c. Setting up logs at ./log/docker/node1_2025-01-26_04-02-53__c94b7489-7334-46bd-a221-ea44c5db8c0b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3808
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3808/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3808/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.134.12/tcp/3809/p2p/16Uiu2HAkvnN2GjqTrv6ty6HGEwqUB5SfkHL6ZcJYxjJ5ZW8ZJ9zm","/ip4/172.18.134.12/tcp/3810/ws/p2p/16Uiu2HAkvnN2GjqTrv6ty6HGEwqUB5SfkHL6ZcJYxjJ5ZW8ZJ9zm"],"enrUri":"enr:-L24QDtgySfZqMBKaI0ji0GBNlWApElrAiX8-QLhJrmR5SqIVaXr4vUwMdSQPj-lT41aDPQJkJqi-Yd1tQxBd75kvFUCgmlkgnY0gmlwhKwShgyKbXVsdGlhZGRyc5YACASsEoYMBg7hAAoErBKGDAYO4t0DgnJzhQADAQAAiXNlY3AyNTZrMaECFCiUXudxPjEIj3SpqdzBAMP3FDBbD-iLdn6Nbhb8P36DdGNwgg7hg3VkcIIO44V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-26_04-02-53__c94b7489-7334-46bd-a221-ea44c5db8c0b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.9.212
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60851', '60852', '60853', '60854', '60855']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60851:60851 -p 60852:60852 -p 60853:60853 -p 60854:60854 -p 60855:60855 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60853 --rest-port=60851 --tcp-port=60852 --discv5-udp-port=60854 --rest-address=0.0.0.0 --nat=extip:172.18.9.212 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b88e25deeaf64fccc9af791552abde4c4c8bd28a15cb39838a00a0aa7ef0ced8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60855 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QDtgySfZqMBKaI0ji0GBNlWApElrAiX8-QLhJrmR5SqIVaXr4vUwMdSQPj-lT41aDPQJkJqi-Yd1tQxBd75kvFUCgmlkgnY0gmlwhKwShgyKbXVsdGlhZGRyc5YACASsEoYMBg7hAAoErBKGDAYO4t0DgnJzhQADAQAAiXNlY3AyNTZrMaECFCiUXudxPjEIj3SpqdzBAMP3FDBbD-iLdn6Nbhb8P36DdGNwgg7hg3VkcIIO44V3YWt1MgU --filternode=/ip4/172.18.134.12/tcp/3809/p2p/16Uiu2HAkvnN2GjqTrv6ty6HGEwqUB5SfkHL6ZcJYxjJ5ZW8ZJ9zm
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.9.212 waku f4981daeaa724c7fc9f038e77357f4d7e8ed4afa92364788dfb302113cc39724
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f4981daeaa72. Setting up logs at ./log/docker/node2_2025-01-26_04-02-53__c94b7489-7334-46bd-a221-ea44c5db8c0b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60851
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60851/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60851/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.212/tcp/60852/p2p/16Uiu2HAmJjeTMydF5AjcDB1qti91MjHxysCF4v2eGtUMiXhkGziq","/ip4/172.18.9.212/tcp/60853/ws/p2p/16Uiu2HAmJjeTMydF5AjcDB1qti91MjHxysCF4v2eGtUMiXhkGziq"],"enrUri":"enr:-L24QCdrCjbyxvdDW6EGGkeEOsukvOMJCUO3avj1B7sIUF_SB4H2kNnW84ocaJH3B2tY0LVlkUNj9PDy7MYdk6PkxeACgmlkgnY0gmlwhKwSCdSKbXVsdGlhZGRyc5YACASsEgnUBu20AAoErBIJ1Abttd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWleHqJRp1hGErifGZqMuQiI84QT7TtD6V8O2s1rxAYaDdGNwgu20g3VkcILttoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60851/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.134.12/tcp/3809/p2p/16Uiu2HAkvnN2GjqTrv6ty6HGEwqUB5SfkHL6ZcJYxjJ5ZW8ZJ9zm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3808/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60851/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "127e75b3-c52c-4bc1-aa7c-8de7ab40afeb", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/2/2"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"127e75b3-c52c-4bc1-aa7c-8de7ab40afeb","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3808/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60851/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1737864178895843840,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5e617bc3390c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f4981daeaa72
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5e617bc3390c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.