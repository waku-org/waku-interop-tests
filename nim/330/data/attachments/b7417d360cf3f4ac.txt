[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-08-25_04-14-57__a0fce226-eac9-4126-b4a3-0faa497795f9
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-25_04-14-57__a0fce226-eac9-4126-b4a3-0faa497795f9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.55.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['37121', '37122', '37123', '37124', '37125']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 37121:37121 -p 37122:37122 -p 37123:37123 -p 37124:37124 -p 37125:37125 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37123 --rest-port=37121 --tcp-port=37122 --discv5-udp-port=37124 --rest-address=0.0.0.0 --nat=extip:172.18.55.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8fa5a3a79e7ed71a59aaa18bdb0ce0fe69fee9dcd3bdc0714bc0f6a97a1c67bd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37125 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.55.56 waku 0122bb521d69698673aea2651a2fa83cc542ed45ee2ade8275430aeaa809e856
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0122bb521d69. Setting up logs at ./log/docker/node1_2024-08-25_04-14-57__a0fce226-eac9-4126-b4a3-0faa497795f9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 37121
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37121/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37121/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.55.56/tcp/37122/p2p/16Uiu2HAkyZhXYst6UjJpBhQAbHFMBYrfTmkiQxB1wdtWyLJVQo1Y","/ip4/172.18.55.56/tcp/37123/ws/p2p/16Uiu2HAkyZhXYst6UjJpBhQAbHFMBYrfTmkiQxB1wdtWyLJVQo1Y"],"enrUri":"enr:-LO4QGRQB9z-rsuvlZ_cHAfYrvISa6eOkW_HQ_5Gpn1rCgn_WbIkHns4gi2BPrwkciz_3QM90Da9oh_hiP9lPEBsbEcBgmlkgnY0gmlwhKwSNziKbXVsdGlhZGRyc4wACgSsEjc4BpED3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI9fSTbzx5L5wMgEfv1Sq1u5JvJrnZqXbSl1uF2d6EBT4N0Y3CCkQKDdWRwgpEEhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-25_04-14-57__a0fce226-eac9-4126-b4a3-0faa497795f9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.82.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['43993', '43994', '43995', '43996', '43997']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 43993:43993 -p 43994:43994 -p 43995:43995 -p 43996:43996 -p 43997:43997 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43995 --rest-port=43993 --tcp-port=43994 --discv5-udp-port=43996 --rest-address=0.0.0.0 --nat=extip:172.18.82.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0ca980be732aa8b65c63ecabcefdefcab3cfa66606f11affeec3f151109629f4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43997 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGRQB9z-rsuvlZ_cHAfYrvISa6eOkW_HQ_5Gpn1rCgn_WbIkHns4gi2BPrwkciz_3QM90Da9oh_hiP9lPEBsbEcBgmlkgnY0gmlwhKwSNziKbXVsdGlhZGRyc4wACgSsEjc4BpED3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI9fSTbzx5L5wMgEfv1Sq1u5JvJrnZqXbSl1uF2d6EBT4N0Y3CCkQKDdWRwgpEEhXdha3UyBQ --filternode=/ip4/172.18.55.56/tcp/37122/p2p/16Uiu2HAkyZhXYst6UjJpBhQAbHFMBYrfTmkiQxB1wdtWyLJVQo1Y
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.82.124 waku 6dc0598f37ac43fffcabe083da0a6dde4134ccf456a38ed5e757e60bb3263575
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6dc0598f37ac. Setting up logs at ./log/docker/node2_2024-08-25_04-14-57__a0fce226-eac9-4126-b4a3-0faa497795f9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 43993
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43993/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43993/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.124/tcp/43994/p2p/16Uiu2HAmGFpxQhh5FfiepNCc1tKWTiYZWPq5ZSBXmfMkrJob5v1N","/ip4/172.18.82.124/tcp/43995/ws/p2p/16Uiu2HAmGFpxQhh5FfiepNCc1tKWTiYZWPq5ZSBXmfMkrJob5v1N"],"enrUri":"enr:-LO4QD9trVo8Z8og-LbeQcLkxdTGyceOus5GlcJsDHDgQ04uRLoIMaKtV19l0yuiYrwyDPavjixCjfeJbFO8tZVme4kBgmlkgnY0gmlwhKwSUnyKbXVsdGlhZGRyc4wACgSsElJ8Bqvb3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM1f8RHT9jWPkMN-pqIa8dgp2T-rVr9KABxZDdL3cqXyYN0Y3CCq9qDdWRwgqvchXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43993/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.55.56/tcp/37122/p2p/16Uiu2HAkyZhXYst6UjJpBhQAbHFMBYrfTmkiQxB1wdtWyLJVQo1Y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node3_2024-08-25_04-14-57__a0fce226-eac9-4126-b4a3-0faa497795f9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.203.135
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['40910', '40911', '40912', '40913', '40914']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 40910:40910 -p 40911:40911 -p 40912:40912 -p 40913:40913 -p 40914:40914 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40912 --rest-port=40910 --tcp-port=40911 --discv5-udp-port=40913 --rest-address=0.0.0.0 --nat=extip:172.18.203.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bc83ecefcb489a84e3bf4afcd78e2c8a4fcdf094aa46ae3ee9ea0bd0dcfc2a4e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40914 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGRQB9z-rsuvlZ_cHAfYrvISa6eOkW_HQ_5Gpn1rCgn_WbIkHns4gi2BPrwkciz_3QM90Da9oh_hiP9lPEBsbEcBgmlkgnY0gmlwhKwSNziKbXVsdGlhZGRyc4wACgSsEjc4BpED3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI9fSTbzx5L5wMgEfv1Sq1u5JvJrnZqXbSl1uF2d6EBT4N0Y3CCkQKDdWRwgpEEhXdha3UyBQ --filternode=/ip4/172.18.55.56/tcp/37122/p2p/16Uiu2HAkyZhXYst6UjJpBhQAbHFMBYrfTmkiQxB1wdtWyLJVQo1Y
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.203.135 waku 57e495b405bd5c6fe3013625eb19b0052d23a1568bc6dbceacd513d2366ee85c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 57e495b405bd. Setting up logs at ./log/docker/node3_2024-08-25_04-14-57__a0fce226-eac9-4126-b4a3-0faa497795f9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 40910
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40910/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40910/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.203.135/tcp/40911/p2p/16Uiu2HAm3ssQRwXuQ69npugDi9KMp6MJkYrPSb2dZGF47bTZwdbh","/ip4/172.18.203.135/tcp/40912/ws/p2p/16Uiu2HAm3ssQRwXuQ69npugDi9KMp6MJkYrPSb2dZGF47bTZwdbh"],"enrUri":"enr:-LO4QLvQs-odyOvqRcXO-z-BN3iyZ819IA8MJZqwCFS9V97xXGMk0n80BW4wvAT70qfzigeqrXtq_LbilIO-I1UlFiwBgmlkgnY0gmlwhKwSy4eKbXVsdGlhZGRyc4wACgSsEsuHBp_Q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ9k4O1eyaqSwTTg5dBvOgl8JRekSH3oZCaG0rfcSXYHIN0Y3CCn8-DdWRwgp_RhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40910/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.55.56/tcp/37122/p2p/16Uiu2HAkyZhXYst6UjJpBhQAbHFMBYrfTmkiQxB1wdtWyLJVQo1Y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node4_2024-08-25_04-14-57__a0fce226-eac9-4126-b4a3-0faa497795f9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.148.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['54230', '54231', '54232', '54233', '54234']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 54230:54230 -p 54231:54231 -p 54232:54232 -p 54233:54233 -p 54234:54234 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54232 --rest-port=54230 --tcp-port=54231 --discv5-udp-port=54233 --rest-address=0.0.0.0 --nat=extip:172.18.148.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dab3be2ea4b3bfb9af49609da4e96bf3fdac95e7c13dee29ccb1cfada40659be --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54234 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGRQB9z-rsuvlZ_cHAfYrvISa6eOkW_HQ_5Gpn1rCgn_WbIkHns4gi2BPrwkciz_3QM90Da9oh_hiP9lPEBsbEcBgmlkgnY0gmlwhKwSNziKbXVsdGlhZGRyc4wACgSsEjc4BpED3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI9fSTbzx5L5wMgEfv1Sq1u5JvJrnZqXbSl1uF2d6EBT4N0Y3CCkQKDdWRwgpEEhXdha3UyBQ --filternode=/ip4/172.18.55.56/tcp/37122/p2p/16Uiu2HAkyZhXYst6UjJpBhQAbHFMBYrfTmkiQxB1wdtWyLJVQo1Y
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.148.161 waku 3f0377352b9dcaa0b709cae126794f8620e8271ee25f0e5c484e1a170f2f3848
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 3f0377352b9d. Setting up logs at ./log/docker/node4_2024-08-25_04-14-57__a0fce226-eac9-4126-b4a3-0faa497795f9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 54230
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54230/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54230/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.148.161/tcp/54231/p2p/16Uiu2HAmPX8Cxmx7fxCe8FfTtX56MBjcd24CRZXANB4ewpSWAH6x","/ip4/172.18.148.161/tcp/54232/ws/p2p/16Uiu2HAmPX8Cxmx7fxCe8FfTtX56MBjcd24CRZXANB4ewpSWAH6x"],"enrUri":"enr:-LO4QLjGHIQjz29C0fBtSuAywYKFGsDtuVUKZcGfH4UK9o7DG9Ghe-qKEDdQKjO-V3ZTxVu7fRKVG6FJJJ6gs0A7hsEBgmlkgnY0gmlwhKwSlKGKbXVsdGlhZGRyc4wACgSsEpShBtPY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOhbMsCToLbskj-hegsgrxBT1PrperHtl1mp7HBri8mMYN0Y3CC09eDdWRwgtPZhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54230/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.55.56/tcp/37122/p2p/16Uiu2HAkyZhXYst6UjJpBhQAbHFMBYrfTmkiQxB1wdtWyLJVQo1Y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node5_2024-08-25_04-14-57__a0fce226-eac9-4126-b4a3-0faa497795f9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.73.22
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['10891', '10892', '10893', '10894', '10895']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 10891:10891 -p 10892:10892 -p 10893:10893 -p 10894:10894 -p 10895:10895 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10893 --rest-port=10891 --tcp-port=10892 --discv5-udp-port=10894 --rest-address=0.0.0.0 --nat=extip:172.18.73.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3d0ce3f0d45d7abdf8dd04ba66defee3a264700d751dfdc990eeeb4cfbdaba8c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10895 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGRQB9z-rsuvlZ_cHAfYrvISa6eOkW_HQ_5Gpn1rCgn_WbIkHns4gi2BPrwkciz_3QM90Da9oh_hiP9lPEBsbEcBgmlkgnY0gmlwhKwSNziKbXVsdGlhZGRyc4wACgSsEjc4BpED3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI9fSTbzx5L5wMgEfv1Sq1u5JvJrnZqXbSl1uF2d6EBT4N0Y3CCkQKDdWRwgpEEhXdha3UyBQ --filternode=/ip4/172.18.55.56/tcp/37122/p2p/16Uiu2HAkyZhXYst6UjJpBhQAbHFMBYrfTmkiQxB1wdtWyLJVQo1Y
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.73.22 waku 6ad8b53b075de87f09a8c0ea22dccc6fd5ce6e3e26c774305d80fefc6c0a767a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6ad8b53b075d. Setting up logs at ./log/docker/node5_2024-08-25_04-14-57__a0fce226-eac9-4126-b4a3-0faa497795f9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 10891
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10891/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10891/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.22/tcp/10892/p2p/16Uiu2HAm3XeMkzpi8N8jWrnmb7TEgKWoure3xrCJo2ibyiGpzrEV","/ip4/172.18.73.22/tcp/10893/ws/p2p/16Uiu2HAm3XeMkzpi8N8jWrnmb7TEgKWoure3xrCJo2ibyiGpzrEV"],"enrUri":"enr:-LO4QBJsdrTtF_iaUR46kcRXz-Hvr8NwA2Emc5kFIiiT2TznWDUeY6XLvkXzaUVWTbitGu9Y1L4q-HvNgrnWwdDpZRABgmlkgnY0gmlwhKwSSRaKbXVsdGlhZGRyc4wACgSsEkkWBiqN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ4ZSWnDKOVYCAA083PCz6Ee8Z7ZpdwZPMYy4_Dk5kAaoN0Y3CCKoyDdWRwgiqOhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10891/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.55.56/tcp/37122/p2p/16Uiu2HAkyZhXYst6UjJpBhQAbHFMBYrfTmkiQxB1wdtWyLJVQo1Y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37121/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43993/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3fd7ea97-27cd-488e-9f54-55ce791b51cc", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3fd7ea97-27cd-488e-9f54-55ce791b51cc","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40910/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a4da51ea-abd3-450d-9e20-eb9d5fc6f52c", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a4da51ea-abd3-450d-9e20-eb9d5fc6f52c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54230/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9ac4137a-bc93-4d61-a3f4-5bdd0f926d12", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9ac4137a-bc93-4d61-a3f4-5bdd0f926d12","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10891/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "33892df4-8b29-4030-9898-0063c8e78911", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"33892df4-8b29-4030-9898-0063c8e78911","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43993/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724559306604375296,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37121/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40910/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:40910/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 0122bb521d69
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 6dc0598f37ac
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 57e495b405bd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 3f0377352b9d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 6ad8b53b075d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.