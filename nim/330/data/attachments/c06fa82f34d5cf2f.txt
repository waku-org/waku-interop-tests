[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.201.30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['32445', '32446', '32447', '32448', '32449']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 32445:32445 -p 32446:32446 -p 32447:32447 -p 32448:32448 -p 32449:32449 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32447 --rest-port=32445 --tcp-port=32446 --discv5-udp-port=32448 --rest-address=0.0.0.0 --nat=extip:172.18.201.30 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=76a4be8ba6d6aae31fdca8c8de34c8fdd7e9f2be6b118b0afda1cc2cec48683d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32449 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.201.30 waku 642bb6befeb7c6046f91a4172bc81772971ebca074d6bbf18152f1652671e305
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 642bb6befeb7. Setting up logs at ./log/docker/receiving_node1_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 32445
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32445/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32445/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.201.30/tcp/32446/p2p/16Uiu2HAmLzghTxQyGs5KUAcYZfKuuTQkLFtsFx1hAHm1Y7nxkGv3","/ip4/172.18.201.30/tcp/32447/ws/p2p/16Uiu2HAmLzghTxQyGs5KUAcYZfKuuTQkLFtsFx1hAHm1Y7nxkGv3"],"enrUri":"enr:-LO4QLnwufs9V1IXB7e8war30gFrbf0jK70j9Fwn4oheUgyiLHuSDgY2RjwJDMIBqYjMbDlr-pNsPCmK39I6YYEdD9sBgmlkgnY0gmlwhKwSyR6KbXVsdGlhZGRyc4wACgSsEskeBn6_3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN76Sb534B7HmnuNzgR3Qo9u4cU-zKfguJ1S27FSMTcaIN0Y3CCfr6DdWRwgn7AhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.91.85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['43436', '43437', '43438', '43439', '43440']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 43436:43436 -p 43437:43437 -p 43438:43438 -p 43439:43439 -p 43440:43440 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43438 --rest-port=43436 --tcp-port=43437 --discv5-udp-port=43439 --rest-address=0.0.0.0 --nat=extip:172.18.91.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=feff210ff18a3bab43bbbdf8eeda57cdeff5ab8b62d9143bcffff1b90d1f8fdb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43440 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.91.85 waku 764ec9560cf4277b2a2c2c4cd276b61938cbe910fc531b566a0e6fe4c1b445da
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 764ec9560cf4. Setting up logs at ./log/docker/receiving_node2_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 43436
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43436/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43436/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.85/tcp/43437/p2p/16Uiu2HAmAGroV2yFUYpHgscztg15zY8T14V7i4vMuHSYaxUg6KMQ","/ip4/172.18.91.85/tcp/43438/ws/p2p/16Uiu2HAmAGroV2yFUYpHgscztg15zY8T14V7i4vMuHSYaxUg6KMQ"],"enrUri":"enr:-LO4QLmlSPIYYdN2hI6I7Qhs3XKiq1MJx-JRNybykz1uLERCLxzwAs6oBaBZI4ymNGxouYXPZldMtEh_GSplOqE8rZ4BgmlkgnY0gmlwhKwSW1WKbXVsdGlhZGRyc4wACgSsEltVBqmu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLcnVA5PtFmNRsF_oOAw_18yH9alnoil6imJlimwD90f4N0Y3CCqa2DdWRwgqmvhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43436/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.201.30/tcp/32446/p2p/16Uiu2HAmLzghTxQyGs5KUAcYZfKuuTQkLFtsFx1hAHm1Y7nxkGv3"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.151.214
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['56650', '56651', '56652', '56653', '56654']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 56650:56650 -p 56651:56651 -p 56652:56652 -p 56653:56653 -p 56654:56654 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56652 --rest-port=56650 --tcp-port=56651 --discv5-udp-port=56653 --rest-address=0.0.0.0 --nat=extip:172.18.151.214 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a2b6eaf2ca1173eaa78bc1fe10c32ff5ed4196e755b764d1f23f8daacaf9f1f7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56654 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLnwufs9V1IXB7e8war30gFrbf0jK70j9Fwn4oheUgyiLHuSDgY2RjwJDMIBqYjMbDlr-pNsPCmK39I6YYEdD9sBgmlkgnY0gmlwhKwSyR6KbXVsdGlhZGRyc4wACgSsEskeBn6_3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN76Sb534B7HmnuNzgR3Qo9u4cU-zKfguJ1S27FSMTcaIN0Y3CCfr6DdWRwgn7AhXdha3UyCQ --lightpushnode=/ip4/172.18.201.30/tcp/32446/p2p/16Uiu2HAmLzghTxQyGs5KUAcYZfKuuTQkLFtsFx1hAHm1Y7nxkGv3 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.151.214 waku 0713a29c726dba34bd3b348625c8b43c69dc28c9a285a053bd16c46ab7823b6a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0713a29c726d. Setting up logs at ./log/docker/lightpush_node1_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 56650
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56650/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56650/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.151.214/tcp/56651/p2p/16Uiu2HAkxCtGftcnBWdtRjZroiN23zPZ2yGoUes6RdHaGVGCCCjD","/ip4/172.18.151.214/tcp/56652/ws/p2p/16Uiu2HAkxCtGftcnBWdtRjZroiN23zPZ2yGoUes6RdHaGVGCCCjD"],"enrUri":"enr:-LO4QCEl-w1J80w7i_zF6ez-BS9HxMTGa3ldPUUaM4_B2LsbF79UyjhMlNDMkjGjtKQ_34eHMMVD4B9AH_VVK0-FuT4BgmlkgnY0gmlwhKwSl9aKbXVsdGlhZGRyc4wACgSsEpfWBt1M3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIpTGhhWnVuAx4sbbhTCxetYvCfr_7ufjkuZHJAVL-bZIN0Y3CC3UuDdWRwgt1NhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56650/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.201.30/tcp/32446/p2p/16Uiu2HAmLzghTxQyGs5KUAcYZfKuuTQkLFtsFx1hAHm1Y7nxkGv3"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56650/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.91.85/tcp/43437/p2p/16Uiu2HAmAGroV2yFUYpHgscztg15zY8T14V7i4vMuHSYaxUg6KMQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.216.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['18471', '18472', '18473', '18474', '18475']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 18471:18471 -p 18472:18472 -p 18473:18473 -p 18474:18474 -p 18475:18475 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18473 --rest-port=18471 --tcp-port=18472 --discv5-udp-port=18474 --rest-address=0.0.0.0 --nat=extip:172.18.216.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abc4bfab20d8b4fe08e6ea680cf247f9f5c7ca8fffc25c0eb7dd5ff62effce3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18475 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLnwufs9V1IXB7e8war30gFrbf0jK70j9Fwn4oheUgyiLHuSDgY2RjwJDMIBqYjMbDlr-pNsPCmK39I6YYEdD9sBgmlkgnY0gmlwhKwSyR6KbXVsdGlhZGRyc4wACgSsEskeBn6_3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN76Sb534B7HmnuNzgR3Qo9u4cU-zKfguJ1S27FSMTcaIN0Y3CCfr6DdWRwgn7AhXdha3UyCQ --lightpushnode=/ip4/172.18.201.30/tcp/32446/p2p/16Uiu2HAmLzghTxQyGs5KUAcYZfKuuTQkLFtsFx1hAHm1Y7nxkGv3 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.216.142 waku 3f627714c373dc6736feb2429dedaa73852534a33226db3077b22c05869e5be2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 3f627714c373. Setting up logs at ./log/docker/lightpush_node2_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 18471
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18471/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18471/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.142/tcp/18472/p2p/16Uiu2HAmRFztDXRXpkHbVqLi7gnYPD9fDJztxWU5jn9Qv6qbBUej","/ip4/172.18.216.142/tcp/18473/ws/p2p/16Uiu2HAmRFztDXRXpkHbVqLi7gnYPD9fDJztxWU5jn9Qv6qbBUej"],"enrUri":"enr:-LO4QO5ty430AhAMcNWZQZWscnqmmrvTzAnSWKyBqlj5Q84VSggT6Y4vsqTb6_-S3uHH49r1E_ePxaYNUcI8EHQRL4EBgmlkgnY0gmlwhKwS2I6KbXVsdGlhZGRyc4wACgSsEtiOBkgp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO7RCyiM076sL0lHbrWFqeimgXX9GHRn7kGq82otTbRyIN0Y3CCSCiDdWRwgkgqhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18471/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.201.30/tcp/32446/p2p/16Uiu2HAmLzghTxQyGs5KUAcYZfKuuTQkLFtsFx1hAHm1Y7nxkGv3"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18471/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.91.85/tcp/43437/p2p/16Uiu2HAmAGroV2yFUYpHgscztg15zY8T14V7i4vMuHSYaxUg6KMQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.15.191
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['47398', '47399', '47400', '47401', '47402']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 47398:47398 -p 47399:47399 -p 47400:47400 -p 47401:47401 -p 47402:47402 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47400 --rest-port=47398 --tcp-port=47399 --discv5-udp-port=47401 --rest-address=0.0.0.0 --nat=extip:172.18.15.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=db4cabefc4feeeca9360af16ced4b8dce8b257387cfdad24dfb6b6da9abd8bcf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47402 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLnwufs9V1IXB7e8war30gFrbf0jK70j9Fwn4oheUgyiLHuSDgY2RjwJDMIBqYjMbDlr-pNsPCmK39I6YYEdD9sBgmlkgnY0gmlwhKwSyR6KbXVsdGlhZGRyc4wACgSsEskeBn6_3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN76Sb534B7HmnuNzgR3Qo9u4cU-zKfguJ1S27FSMTcaIN0Y3CCfr6DdWRwgn7AhXdha3UyCQ --lightpushnode=/ip4/172.18.201.30/tcp/32446/p2p/16Uiu2HAmLzghTxQyGs5KUAcYZfKuuTQkLFtsFx1hAHm1Y7nxkGv3 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.15.191 waku 4bcb4f26a338c74df52f57a216f2b20ce84e52040362a3adb990d52bedd17365
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 4bcb4f26a338. Setting up logs at ./log/docker/lightpush_node3_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 47398
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47398/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47398/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.191/tcp/47399/p2p/16Uiu2HAm3yHWfGU3S8uMe7qQgedVB5J3ndn1dyWLb2pfjBPoPq3y","/ip4/172.18.15.191/tcp/47400/ws/p2p/16Uiu2HAm3yHWfGU3S8uMe7qQgedVB5J3ndn1dyWLb2pfjBPoPq3y"],"enrUri":"enr:-LO4QJSUV-T4ok1w_Me_BN1QwASnLA5fquxj-r-zjJTfHJx6OkggZEdV44VKggttRHh95l5pVTFLaHWwqT28NJo2oWIBgmlkgnY0gmlwhKwSD7-KbXVsdGlhZGRyc4wACgSsEg-_Brko3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ-9q1HP8TNa-FCDuc_CF3li-FBJNYrxjbO2Yn8Tzuy_IN0Y3CCuSeDdWRwgrkphXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47398/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.201.30/tcp/32446/p2p/16Uiu2HAmLzghTxQyGs5KUAcYZfKuuTQkLFtsFx1hAHm1Y7nxkGv3"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47398/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.91.85/tcp/43437/p2p/16Uiu2HAmAGroV2yFUYpHgscztg15zY8T14V7i4vMuHSYaxUg6KMQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.8.254
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['43249', '43250', '43251', '43252', '43253']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 43249:43249 -p 43250:43250 -p 43251:43251 -p 43252:43252 -p 43253:43253 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43251 --rest-port=43249 --tcp-port=43250 --discv5-udp-port=43252 --rest-address=0.0.0.0 --nat=extip:172.18.8.254 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bd52dd8353aa1b3ad035ab04ebca2a4455fe85dec9dba522d29e28dedb84eae7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43253 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLnwufs9V1IXB7e8war30gFrbf0jK70j9Fwn4oheUgyiLHuSDgY2RjwJDMIBqYjMbDlr-pNsPCmK39I6YYEdD9sBgmlkgnY0gmlwhKwSyR6KbXVsdGlhZGRyc4wACgSsEskeBn6_3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN76Sb534B7HmnuNzgR3Qo9u4cU-zKfguJ1S27FSMTcaIN0Y3CCfr6DdWRwgn7AhXdha3UyCQ --lightpushnode=/ip4/172.18.201.30/tcp/32446/p2p/16Uiu2HAmLzghTxQyGs5KUAcYZfKuuTQkLFtsFx1hAHm1Y7nxkGv3 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.8.254 waku 8ae6aa2cf1d57cc523d9da903e4156eb954bf6eadc2044c78d2f9d5c1174e197
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8ae6aa2cf1d5. Setting up logs at ./log/docker/lightpush_node4_2024-08-25_04-18-41__3636daf8-7995-464a-a281-776bd38ae910__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 43249
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43249/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43249/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.8.254/tcp/43250/p2p/16Uiu2HAmKHw93YBPQzBYCF8WHpivEPT7HUJ44S1Ff3DNzR2MxDfo","/ip4/172.18.8.254/tcp/43251/ws/p2p/16Uiu2HAmKHw93YBPQzBYCF8WHpivEPT7HUJ44S1Ff3DNzR2MxDfo"],"enrUri":"enr:-LO4QAZbemNVLba99pvOjEDuozQGmjzrhhHNdFSEj3ImJokNIFZ9kSoGQdyfp963hR6Tx5PGWHSSKfrbQ11XE-TLUkMBgmlkgnY0gmlwhKwSCP6KbXVsdGlhZGRyc4wACgSsEgj-Bqjz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNinPsMrIcQUWTti-5FWB1sNZ4GrOQG0-pxuNunnA5xcoN0Y3CCqPKDdWRwgqj0hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43249/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.201.30/tcp/32446/p2p/16Uiu2HAmLzghTxQyGs5KUAcYZfKuuTQkLFtsFx1hAHm1Y7nxkGv3"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43249/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.91.85/tcp/43437/p2p/16Uiu2HAmAGroV2yFUYpHgscztg15zY8T14V7i4vMuHSYaxUg6KMQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32445/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43436/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56650/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724559532495701248}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32445/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724559532495701248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43436/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724559532495701248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18471/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724559532623716608}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32445/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724559532623716608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43436/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724559532623716608,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47398/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724559532746135552}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32445/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724559532746135552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43436/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724559532746135552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43249/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724559532870186496}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32445/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724559532870186496,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43436/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724559532870186496,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 642bb6befeb7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 764ec9560cf4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 0713a29c726d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 3f627714c373
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 4bcb4f26a338
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 8ae6aa2cf1d5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.