[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_subscribed_peer with id: 2024-08-25_04-15-26__ee25edf6-b8b7-4b97-b9a2-7cbdfcdd9596
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-25_04-15-26__ee25edf6-b8b7-4b97-b9a2-7cbdfcdd9596__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.209.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['63310', '63311', '63312', '63313', '63314']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 63310:63310 -p 63311:63311 -p 63312:63312 -p 63313:63313 -p 63314:63314 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63312 --rest-port=63310 --tcp-port=63311 --discv5-udp-port=63313 --rest-address=0.0.0.0 --nat=extip:172.18.209.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f5dae1bff3fb9fbd8edfbaf62ecbe5c6cb01b65385d5d07efdf70fdd2fbdbd6c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63314 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.209.222 waku 36c61d50e708e534994aaab7abaf64e0f6f08c0da34d1d5ae21eff49e81359dc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 36c61d50e708. Setting up logs at ./log/docker/node1_2024-08-25_04-15-26__ee25edf6-b8b7-4b97-b9a2-7cbdfcdd9596__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 63310
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63310/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63310/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.222/tcp/63311/p2p/16Uiu2HAmANMH6dWFrrydN9GkNVtSQ7eh9cr1RZTP9mxTPBMw7SVW","/ip4/172.18.209.222/tcp/63312/ws/p2p/16Uiu2HAmANMH6dWFrrydN9GkNVtSQ7eh9cr1RZTP9mxTPBMw7SVW"],"enrUri":"enr:-LO4QH73UL17hz8Pyas8KZH9XPdG9Pb72Edm8ueU9x4KXVtLIx46kLXTDzbnaJNgaooAp6XCoR9cKSnTVQfxemS5jzUBgmlkgnY0gmlwhKwS0d6KbXVsdGlhZGRyc4wACgSsEtHeBvdQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLeBWparT1uyXKC4KlNbYiYc29cktSeLg7BE09eC_ujSYN0Y3CC90-DdWRwgvdRhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-25_04-15-26__ee25edf6-b8b7-4b97-b9a2-7cbdfcdd9596__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.39.11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['2262', '2263', '2264', '2265', '2266']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 2262:2262 -p 2263:2263 -p 2264:2264 -p 2265:2265 -p 2266:2266 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2264 --rest-port=2262 --tcp-port=2263 --discv5-udp-port=2265 --rest-address=0.0.0.0 --nat=extip:172.18.39.11 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4fad7ed3e80d13cb7f77f46e6eafca29badd2edf681affb9decea3badbeb6fcd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2266 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QH73UL17hz8Pyas8KZH9XPdG9Pb72Edm8ueU9x4KXVtLIx46kLXTDzbnaJNgaooAp6XCoR9cKSnTVQfxemS5jzUBgmlkgnY0gmlwhKwS0d6KbXVsdGlhZGRyc4wACgSsEtHeBvdQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLeBWparT1uyXKC4KlNbYiYc29cktSeLg7BE09eC_ujSYN0Y3CC90-DdWRwgvdRhXdha3UyBQ --filternode=/ip4/172.18.209.222/tcp/63311/p2p/16Uiu2HAmANMH6dWFrrydN9GkNVtSQ7eh9cr1RZTP9mxTPBMw7SVW
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.39.11 waku 8f681568050eb3324af5878b2d7301640782965a3c028f60120516f4c1b3f558
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8f681568050e. Setting up logs at ./log/docker/node2_2024-08-25_04-15-26__ee25edf6-b8b7-4b97-b9a2-7cbdfcdd9596__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 2262
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2262/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2262/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.39.11/tcp/2263/p2p/16Uiu2HAm7JbKZRDQ3AE2agZMmN7SvWoWrFNKxFd3bTrbqpB2YkFh","/ip4/172.18.39.11/tcp/2264/ws/p2p/16Uiu2HAm7JbKZRDQ3AE2agZMmN7SvWoWrFNKxFd3bTrbqpB2YkFh"],"enrUri":"enr:-LO4QBiMb88T2DydFNm0dxqU1SK864DaUUlkcX4ypKfwxS1dayc9yLHDzE6VmAUMPLQmpPhpyd16W7JEfJ59ModClzYBgmlkgnY0gmlwhKwSJwuKbXVsdGlhZGRyc4wACgSsEicLBgjY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKwe-jGPtn7tfEYgp8UlI4Bn5I0eAg851cer8sW7zCaSIN0Y3CCCNeDdWRwggjZhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2262/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.222/tcp/63311/p2p/16Uiu2HAmANMH6dWFrrydN9GkNVtSQ7eh9cr1RZTP9mxTPBMw7SVW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63310/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2262/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e2daaeb1-9a0c-44b6-9de2-214dadc75f44", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e2daaeb1-9a0c-44b6-9de2-214dadc75f44","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2262/filter/v2/subscriptions/b5a33460-acb4-4d5f-ab25-97d36c80b994" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b5a33460-acb4-4d5f-ab25-97d36c80b994","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 36c61d50e708
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 8f681568050e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.