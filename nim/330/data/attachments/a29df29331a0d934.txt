[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_request_id with id: 2024-08-25_04-17-47__bfac8771-fbb1-4251-a18c-87fc0bed650d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-25_04-17-47__bfac8771-fbb1-4251-a18c-87fc0bed650d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.104.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['3477', '3478', '3479', '3480', '3481']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 3477:3477 -p 3478:3478 -p 3479:3479 -p 3480:3480 -p 3481:3481 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3479 --rest-port=3477 --tcp-port=3478 --discv5-udp-port=3480 --rest-address=0.0.0.0 --nat=extip:172.18.104.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9ecabe737ffc5f153ba6dbdef6d9639edf26abbcad138a989a8d2f29dcdbba9e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3481 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.104.68 waku eaab8c5b5f714005a6bd1616a86b62f7206a1e80adda172d60000e40279a88cc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID eaab8c5b5f71. Setting up logs at ./log/docker/node1_2024-08-25_04-17-47__bfac8771-fbb1-4251-a18c-87fc0bed650d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 3477
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3477/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3477/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.68/tcp/3478/p2p/16Uiu2HAmT277DHng7w36e9gwLZUATB3kXHvAEyc1YciugfrCimrV","/ip4/172.18.104.68/tcp/3479/ws/p2p/16Uiu2HAmT277DHng7w36e9gwLZUATB3kXHvAEyc1YciugfrCimrV"],"enrUri":"enr:-LO4QIB4K9flUXOnJqiXiM_x64ysSvYdN30P3W-1jsNoBd6MLjPO4K8OpSxf8q-5-ExmXLxhNHQz1AQ-YY53QHLTvoUBgmlkgnY0gmlwhKwSaESKbXVsdGlhZGRyc4wACgSsEmhEBg2X3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPVbHRW9DTF-m8544d9zqxcqmHtrL3PslRwEbnO7piaHoN0Y3CCDZaDdWRwgg2YhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-25_04-17-47__bfac8771-fbb1-4251-a18c-87fc0bed650d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.244.243
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['32984', '32985', '32986', '32987', '32988']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 32984:32984 -p 32985:32985 -p 32986:32986 -p 32987:32987 -p 32988:32988 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32986 --rest-port=32984 --tcp-port=32985 --discv5-udp-port=32987 --rest-address=0.0.0.0 --nat=extip:172.18.244.243 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2dac59f69db7a369f016febecd8b400fd03fed0ab113bb1339c3c7006adedaed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32988 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QIB4K9flUXOnJqiXiM_x64ysSvYdN30P3W-1jsNoBd6MLjPO4K8OpSxf8q-5-ExmXLxhNHQz1AQ-YY53QHLTvoUBgmlkgnY0gmlwhKwSaESKbXVsdGlhZGRyc4wACgSsEmhEBg2X3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPVbHRW9DTF-m8544d9zqxcqmHtrL3PslRwEbnO7piaHoN0Y3CCDZaDdWRwgg2YhXdha3UyBQ --filternode=/ip4/172.18.104.68/tcp/3478/p2p/16Uiu2HAmT277DHng7w36e9gwLZUATB3kXHvAEyc1YciugfrCimrV
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.244.243 waku c667d73b031a5dee73d8707952374607777b0a34ffe45546138eab8ecfbb8759
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c667d73b031a. Setting up logs at ./log/docker/node2_2024-08-25_04-17-47__bfac8771-fbb1-4251-a18c-87fc0bed650d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 32984
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32984/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32984/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.244.243/tcp/32985/p2p/16Uiu2HAkxNFeTxM5cjNSTZ4zYRe39APCeEZeACgMAELGEHwJKkUV","/ip4/172.18.244.243/tcp/32986/ws/p2p/16Uiu2HAkxNFeTxM5cjNSTZ4zYRe39APCeEZeACgMAELGEHwJKkUV"],"enrUri":"enr:-LO4QGxtYWptRjhykPtCYkG3ln4mQKuM1_0bGpzSYmRFkxdTMO9e1CGbHTz7lZEehk9LHdQFffd-5FEi6kPysz3XYR8BgmlkgnY0gmlwhKwS9POKbXVsdGlhZGRyc4wACgSsEvTzBoDa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIrss3-w2ngiHXFFgy71sjveuYkUf3EUFxQLrNSbjTFZoN0Y3CCgNmDdWRwgoDbhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32984/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.104.68/tcp/3478/p2p/16Uiu2HAmT277DHng7w36e9gwLZUATB3kXHvAEyc1YciugfrCimrV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3477/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32984/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9ef158bf-bca7-442a-b30a-8ca65206b08f", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9ef158bf-bca7-442a-b30a-8ca65206b08f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:32984/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:32984/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id eaab8c5b5f71
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id c667d73b031a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.