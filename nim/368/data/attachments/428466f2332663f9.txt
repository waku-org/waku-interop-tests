[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-09-22_04-16-07__fb742c16-b6e1-466e-a11c-6dc611fea107
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-22_04-16-07__fb742c16-b6e1-466e-a11c-6dc611fea107__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.237.232
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63244', '63245', '63246', '63247', '63248']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63244:63244 -p 63245:63245 -p 63246:63246 -p 63247:63247 -p 63248:63248 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63246 --rest-port=63244 --tcp-port=63245 --discv5-udp-port=63247 --rest-address=0.0.0.0 --nat=extip:172.18.237.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=796ada1f8bfe844dddbfa5e5aa73aff1bc9dabac4b4ff9bdb7deedac13ea8fb0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63248 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.237.232 waku a7835eff2d72c1e5bab61621a17debb2bc747ce9cc6c5c87e7562be3b9e1cdf7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a7835eff2d72. Setting up logs at ./log/docker/node1_2024-09-22_04-16-07__fb742c16-b6e1-466e-a11c-6dc611fea107__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63244
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63244/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63244/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.237.232/tcp/63245/p2p/16Uiu2HAkv9Yd7kBJroyMm8X9EDKk6GmoGUCqsYqpG7HDr7pms4Mm","/ip4/172.18.237.232/tcp/63246/ws/p2p/16Uiu2HAkv9Yd7kBJroyMm8X9EDKk6GmoGUCqsYqpG7HDr7pms4Mm"],"enrUri":"enr:-LO4QPvhYRcVuZ542N42cCPV-gOx6iyJ4ek0Bu2pWWHe8cUHAQ4pI1i5mo3MrcAyL29CpVmfSs47DVHMZTvkgRLdPh4BgmlkgnY0gmlwhKwS7eiKbXVsdGlhZGRyc4wACgSsEu3oBvcO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIKuhNy3V63j1Iyx8eAzI7pAvrra3IvC5SpOjw4LPYzEIN0Y3CC9w2DdWRwgvcPhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-22_04-16-07__fb742c16-b6e1-466e-a11c-6dc611fea107__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.165.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48145', '48146', '48147', '48148', '48149']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48145:48145 -p 48146:48146 -p 48147:48147 -p 48148:48148 -p 48149:48149 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48147 --rest-port=48145 --tcp-port=48146 --discv5-udp-port=48148 --rest-address=0.0.0.0 --nat=extip:172.18.165.29 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=30a30fdedbd65f7e6cff980ebaca2b8bbe5be6a3cee8d43aaaf3ad1b665bddd3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48149 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QPvhYRcVuZ542N42cCPV-gOx6iyJ4ek0Bu2pWWHe8cUHAQ4pI1i5mo3MrcAyL29CpVmfSs47DVHMZTvkgRLdPh4BgmlkgnY0gmlwhKwS7eiKbXVsdGlhZGRyc4wACgSsEu3oBvcO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIKuhNy3V63j1Iyx8eAzI7pAvrra3IvC5SpOjw4LPYzEIN0Y3CC9w2DdWRwgvcPhXdha3UyBQ --filternode=/ip4/172.18.237.232/tcp/63245/p2p/16Uiu2HAkv9Yd7kBJroyMm8X9EDKk6GmoGUCqsYqpG7HDr7pms4Mm
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.165.29 waku f3b59e01efbd4b279872107945f8105158dd4827dd5d4970857e63f1cb9e52ac
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f3b59e01efbd. Setting up logs at ./log/docker/node2_2024-09-22_04-16-07__fb742c16-b6e1-466e-a11c-6dc611fea107__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48145
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48145/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48145/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.165.29/tcp/48146/p2p/16Uiu2HAmMJFsjAq1oQncKdqCFeJ7DPut3Y66QWiR978wBoCqpnoF","/ip4/172.18.165.29/tcp/48147/ws/p2p/16Uiu2HAmMJFsjAq1oQncKdqCFeJ7DPut3Y66QWiR978wBoCqpnoF"],"enrUri":"enr:-LO4QJp3t9WrXqjTyod9ZYt9zt6WgrZMesfB7FW2i6zEo4xiVYT3ei5kpRhpNVe-W4yj4nnKdub_c45ObH3Vj7NXERkBgmlkgnY0gmlwhKwSpR2KbXVsdGlhZGRyc4wACgSsEqUdBrwT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOAaYoOp6ZwKXuGoKyuUWvXc8-pqb8Daq8HZvfiEfXUhoN0Y3CCvBKDdWRwgrwUhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48145/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.237.232/tcp/63245/p2p/16Uiu2HAkv9Yd7kBJroyMm8X9EDKk6GmoGUCqsYqpG7HDr7pms4Mm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-22_04-16-07__fb742c16-b6e1-466e-a11c-6dc611fea107__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.77.25
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63914', '63915', '63916', '63917', '63918']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63914:63914 -p 63915:63915 -p 63916:63916 -p 63917:63917 -p 63918:63918 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63916 --rest-port=63914 --tcp-port=63915 --discv5-udp-port=63917 --rest-address=0.0.0.0 --nat=extip:172.18.77.25 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=adfc3e8abf9ed05fe9d0edc5aabf8a4ddb9c476a2df0b2aeaadfde1cb682acce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63918 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QPvhYRcVuZ542N42cCPV-gOx6iyJ4ek0Bu2pWWHe8cUHAQ4pI1i5mo3MrcAyL29CpVmfSs47DVHMZTvkgRLdPh4BgmlkgnY0gmlwhKwS7eiKbXVsdGlhZGRyc4wACgSsEu3oBvcO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIKuhNy3V63j1Iyx8eAzI7pAvrra3IvC5SpOjw4LPYzEIN0Y3CC9w2DdWRwgvcPhXdha3UyBQ --filternode=/ip4/172.18.237.232/tcp/63245/p2p/16Uiu2HAkv9Yd7kBJroyMm8X9EDKk6GmoGUCqsYqpG7HDr7pms4Mm
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.77.25 waku 837aea95591b54d55d3e35d7196be8034fade47959a6542c5cb74668e6133357
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 837aea95591b. Setting up logs at ./log/docker/node3_2024-09-22_04-16-07__fb742c16-b6e1-466e-a11c-6dc611fea107__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63914
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63914/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63914/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.77.25/tcp/63915/p2p/16Uiu2HAm9UU2ibFsh5aXgtex6aAgycSSHj6iJaAV8hoCxMiUnGmU","/ip4/172.18.77.25/tcp/63916/ws/p2p/16Uiu2HAm9UU2ibFsh5aXgtex6aAgycSSHj6iJaAV8hoCxMiUnGmU"],"enrUri":"enr:-LO4QNz11-j_nr0-Et_luIQAy9-zpKYafBoXBeIlS2SJnHvOVPI-nVd0MHX-g6eAundGd3zWNG6TkclUktXjqihMTfgBgmlkgnY0gmlwhKwSTRmKbXVsdGlhZGRyc4wACgSsEk0ZBvms3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLQutkUIEy_K7MSZkzsVaSmGWPdhnAXwaa34wDMAMbtB4N0Y3CC-auDdWRwgvmthXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63914/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.237.232/tcp/63245/p2p/16Uiu2HAkv9Yd7kBJroyMm8X9EDKk6GmoGUCqsYqpG7HDr7pms4Mm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-22_04-16-07__fb742c16-b6e1-466e-a11c-6dc611fea107__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.221.61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['7148', '7149', '7150', '7151', '7152']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 7148:7148 -p 7149:7149 -p 7150:7150 -p 7151:7151 -p 7152:7152 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7150 --rest-port=7148 --tcp-port=7149 --discv5-udp-port=7151 --rest-address=0.0.0.0 --nat=extip:172.18.221.61 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7b9d2d0a2f86c136ed751f8b53539e1685a8e28fb9fa7a15abcfab1ad3dcd5a1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7152 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QPvhYRcVuZ542N42cCPV-gOx6iyJ4ek0Bu2pWWHe8cUHAQ4pI1i5mo3MrcAyL29CpVmfSs47DVHMZTvkgRLdPh4BgmlkgnY0gmlwhKwS7eiKbXVsdGlhZGRyc4wACgSsEu3oBvcO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIKuhNy3V63j1Iyx8eAzI7pAvrra3IvC5SpOjw4LPYzEIN0Y3CC9w2DdWRwgvcPhXdha3UyBQ --filternode=/ip4/172.18.237.232/tcp/63245/p2p/16Uiu2HAkv9Yd7kBJroyMm8X9EDKk6GmoGUCqsYqpG7HDr7pms4Mm
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.221.61 waku 59b10a690eae99b382951a02722b5b8faa8f71945d97990674880cb09b084e9e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 59b10a690eae. Setting up logs at ./log/docker/node4_2024-09-22_04-16-07__fb742c16-b6e1-466e-a11c-6dc611fea107__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7148
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7148/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7148/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.61/tcp/7149/p2p/16Uiu2HAmRKB6BMHikqYpDxHsNqSJcfEbQGt3oEnJMRcntpsFiAhp","/ip4/172.18.221.61/tcp/7150/ws/p2p/16Uiu2HAmRKB6BMHikqYpDxHsNqSJcfEbQGt3oEnJMRcntpsFiAhp"],"enrUri":"enr:-LO4QJTWro3DoffMqUnHIgzCTJan2v2GjP04qYszAYVEd2x0En4UVTcbmc2PrhOtnuIG9PK_VsSrk_qD-uYOXPY_zXABgmlkgnY0gmlwhKwS3T2KbXVsdGlhZGRyc4wACgSsEt09Bhvu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO8FHT_U2S8JnyITQte2rJLNKHv5xU9ZI8PbpaY5BJoS4N0Y3CCG-2DdWRwghvvhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7148/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.237.232/tcp/63245/p2p/16Uiu2HAkv9Yd7kBJroyMm8X9EDKk6GmoGUCqsYqpG7HDr7pms4Mm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-22_04-16-07__fb742c16-b6e1-466e-a11c-6dc611fea107__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.209.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50494', '50495', '50496', '50497', '50498']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50494:50494 -p 50495:50495 -p 50496:50496 -p 50497:50497 -p 50498:50498 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50496 --rest-port=50494 --tcp-port=50495 --discv5-udp-port=50497 --rest-address=0.0.0.0 --nat=extip:172.18.209.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=59920f95c2f3e16c1dafaa4fb66b98d0abecb11cb26bafcfafeafdacb0a63a40 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50498 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QPvhYRcVuZ542N42cCPV-gOx6iyJ4ek0Bu2pWWHe8cUHAQ4pI1i5mo3MrcAyL29CpVmfSs47DVHMZTvkgRLdPh4BgmlkgnY0gmlwhKwS7eiKbXVsdGlhZGRyc4wACgSsEu3oBvcO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIKuhNy3V63j1Iyx8eAzI7pAvrra3IvC5SpOjw4LPYzEIN0Y3CC9w2DdWRwgvcPhXdha3UyBQ --filternode=/ip4/172.18.237.232/tcp/63245/p2p/16Uiu2HAkv9Yd7kBJroyMm8X9EDKk6GmoGUCqsYqpG7HDr7pms4Mm
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.209.6 waku 9a7f9f5fe6e1fc4ed9df26f8254e1f940194d9a3cdfcb0c80183d61c03132abe
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9a7f9f5fe6e1. Setting up logs at ./log/docker/node5_2024-09-22_04-16-07__fb742c16-b6e1-466e-a11c-6dc611fea107__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50494
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50494/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50494/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.6/tcp/50495/p2p/16Uiu2HAmSA6sgjdjh9JwmxNDUc4Vjmt8ymoYLPC1tizywWeUhxxw","/ip4/172.18.209.6/tcp/50496/ws/p2p/16Uiu2HAmSA6sgjdjh9JwmxNDUc4Vjmt8ymoYLPC1tizywWeUhxxw"],"enrUri":"enr:-LO4QGyz-ma_zH-mWoCnBZpswsFWWc7ye5T5tYTCGY-t-oilBbXqV_wsIcPMrdDeR5PFTo3cQE0QFSO39A9MTX4hlSsBgmlkgnY0gmlwhKwS0QaKbXVsdGlhZGRyc4wACgSsEtEGBsVA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPInSZ5tNMN93bOpTlI8MAapadRiqsol_nOg5XyX4_AuIN0Y3CCxT-DdWRwgsVBhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50494/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.237.232/tcp/63245/p2p/16Uiu2HAkv9Yd7kBJroyMm8X9EDKk6GmoGUCqsYqpG7HDr7pms4Mm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63244/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48145/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "34a64475-de58-4e6a-b4f6-16047066f0cd", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"34a64475-de58-4e6a-b4f6-16047066f0cd","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63914/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "94cb5f0e-e1ab-45ce-8a1b-5c2ef93c9172", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"94cb5f0e-e1ab-45ce-8a1b-5c2ef93c9172","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7148/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8834be35-fda0-409e-8233-076ebee30f9f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8834be35-fda0-409e-8233-076ebee30f9f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50494/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8d05fdb2-470e-439b-a2d1-b771dbc75bc3", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8d05fdb2-470e-439b-a2d1-b771dbc75bc3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63244/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48145/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1726978576303780864,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63244/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63914/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63914/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a7835eff2d72
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f3b59e01efbd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 837aea95591b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 59b10a690eae
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9a7f9f5fe6e1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.