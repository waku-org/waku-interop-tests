[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_valid_payloads_with_optional_nodes_at_spam_rate with id: 2024-09-22_05-02-43__a55c416c-3495-468c-a33c-ba03eac32ab1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-22_05-02-43__a55c416c-3495-468c-a33c-ba03eac32ab1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.25.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32980', '32981', '32982', '32983', '32984']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_qdyp_1:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_qdyp_1:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32980:32980 -p 32981:32981 -p 32982:32982 -p 32983:32983 -p 32984:32984 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32982 --rest-port=32980 --tcp-port=32981 --discv5-udp-port=32983 --rest-address=0.0.0.0 --nat=extip:172.18.25.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dee9a76d202c59496afc29186bea40011caecbb02cf5b6aaa7f719ffeae1eb9a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32984 --metrics-logging=true --relay=true --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.25.169 waku fea4e633ccd974d35f60c56944b3fdbe56844322c1e9f3e4fc6c7455e1cae77e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fea4e633ccd9. Setting up logs at ./log/docker/node1_2024-09-22_05-02-43__a55c416c-3495-468c-a33c-ba03eac32ab1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32980
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32980/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32980/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32980/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.169/tcp/32981/p2p/16Uiu2HAmGUjcTmrnHtRkCrcg4CU3R1Pk4fgmJECNoPLYMoqbwEsf","/ip4/172.18.25.169/tcp/32982/ws/p2p/16Uiu2HAmGUjcTmrnHtRkCrcg4CU3R1Pk4fgmJECNoPLYMoqbwEsf"],"enrUri":"enr:-LO4QEEzXcnf-TTq_39Hey9Be7IyXF18NPVwkUIbqJubGrLLdzOQT-cAMd8WZ1HEdpwY741zbxboffHK1rJdwvKpj1YBgmlkgnY0gmlwhKwSGamKbXVsdGlhZGRyc4wACgSsEhmpBoDW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM4zkZcbNytoR45O69tdonPRood47F_yxbZoumhR6Z7XoN0Y3CCgNWDdWRwgoDXhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-22_05-02-43__a55c416c-3495-468c-a33c-ba03eac32ab1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.105.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['12291', '12292', '12293', '12294', '12295']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_hdcn_2:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_hdcn_2:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 12291:12291 -p 12292:12292 -p 12293:12293 -p 12294:12294 -p 12295:12295 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12293 --rest-port=12291 --tcp-port=12292 --discv5-udp-port=12294 --rest-address=0.0.0.0 --nat=extip:172.18.105.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b6fb2be8e42ad29a166beebacf3f575afd31c779cb6d89236bdfbdcc398f625d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12295 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEEzXcnf-TTq_39Hey9Be7IyXF18NPVwkUIbqJubGrLLdzOQT-cAMd8WZ1HEdpwY741zbxboffHK1rJdwvKpj1YBgmlkgnY0gmlwhKwSGamKbXVsdGlhZGRyc4wACgSsEhmpBoDW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM4zkZcbNytoR45O69tdonPRood47F_yxbZoumhR6Z7XoN0Y3CCgNWDdWRwgoDXhXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.105.201 waku 955e96c71fd2430506a96408e6f2be880f5ea77c931dd7f2c59ad81f007e0c51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 955e96c71fd2. Setting up logs at ./log/docker/node2_2024-09-22_05-02-43__a55c416c-3495-468c-a33c-ba03eac32ab1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 12291
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12291/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12291/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12291/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.105.201/tcp/12292/p2p/16Uiu2HAm3YZNWyVvwaskZJLLEfzrvJuywL8ouCDsK3GvfZVwTB6K","/ip4/172.18.105.201/tcp/12293/ws/p2p/16Uiu2HAm3YZNWyVvwaskZJLLEfzrvJuywL8ouCDsK3GvfZVwTB6K"],"enrUri":"enr:-LO4QKFA4epbFh_FnMso_B12ywPVstMrgSDHoY_Ef2C50vlNOAkIM6Iis1aO-9-p7NHtLQKu4-WcdOEKQL3Gxw4GvSABgmlkgnY0gmlwhKwSacmKbXVsdGlhZGRyc4wACgSsEmnJBjAF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ4oRbSuD8gaf13_gQVOBkf4aARzeh1y2bk5oxbJ3xVjIN0Y3CCMASDdWRwgjAGhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12291/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.25.169/tcp/32981/p2p/16Uiu2HAmGUjcTmrnHtRkCrcg4CU3R1Pk4fgmJECNoPLYMoqbwEsf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-22_05-02-43__a55c416c-3495-468c-a33c-ba03eac32ab1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.58.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['35106', '35107', '35108', '35109', '35110']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_rtxy_3:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_rtxy_3:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 35106:35106 -p 35107:35107 -p 35108:35108 -p 35109:35109 -p 35110:35110 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35108 --rest-port=35106 --tcp-port=35107 --discv5-udp-port=35109 --rest-address=0.0.0.0 --nat=extip:172.18.58.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9fe69af65db9435bcf98c937351e7c0b2e6fdaccfd0e9ffdb4a2e6d7b904fe22 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35110 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEEzXcnf-TTq_39Hey9Be7IyXF18NPVwkUIbqJubGrLLdzOQT-cAMd8WZ1HEdpwY741zbxboffHK1rJdwvKpj1YBgmlkgnY0gmlwhKwSGamKbXVsdGlhZGRyc4wACgSsEhmpBoDW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM4zkZcbNytoR45O69tdonPRood47F_yxbZoumhR6Z7XoN0Y3CCgNWDdWRwgoDXhXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.58.221 waku 2c97c9d9e32d76ce9127c6d992c21cb7fadafbfd520b61aa312af75caa02af47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2c97c9d9e32d. Setting up logs at ./log/docker/node3_2024-09-22_05-02-43__a55c416c-3495-468c-a33c-ba03eac32ab1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35106
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35106/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35106/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35106/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.58.221/tcp/35107/p2p/16Uiu2HAmCLTMYdxP4RtvF3ci6Le1S28Xga5Z51TRXTLmCThtjYi2","/ip4/172.18.58.221/tcp/35108/ws/p2p/16Uiu2HAmCLTMYdxP4RtvF3ci6Le1S28Xga5Z51TRXTLmCThtjYi2"],"enrUri":"enr:-LO4QDA5YTM-AYHZfgrjSII1l_hJIJF1-HSgIGxF6EvwxD2KaxKvKYwyuetMWz7PwsgZcN_SvtKJNdBeyqn3AMVVcMUBgmlkgnY0gmlwhKwSOt2KbXVsdGlhZGRyc4wACgSsEjrdBokk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL7QH-lyyFxLhxt-Ia5dVpy-hIvmW71oeOz9ZrUMdSOZ4N0Y3CCiSODdWRwgoklhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35106/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.25.169/tcp/32981/p2p/16Uiu2HAmGUjcTmrnHtRkCrcg4CU3R1Pk4fgmJECNoPLYMoqbwEsf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-22_05-02-43__a55c416c-3495-468c-a33c-ba03eac32ab1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.132.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2817', '2818', '2819', '2820', '2821']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_cfco_4:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_cfco_4:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2817:2817 -p 2818:2818 -p 2819:2819 -p 2820:2820 -p 2821:2821 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2819 --rest-port=2817 --tcp-port=2818 --discv5-udp-port=2820 --rest-address=0.0.0.0 --nat=extip:172.18.132.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=34ea5cb2afaf7a371f0dc779379c5f0a24bedbc14f6f6aa19dcdd83044c92bff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2821 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEEzXcnf-TTq_39Hey9Be7IyXF18NPVwkUIbqJubGrLLdzOQT-cAMd8WZ1HEdpwY741zbxboffHK1rJdwvKpj1YBgmlkgnY0gmlwhKwSGamKbXVsdGlhZGRyc4wACgSsEhmpBoDW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM4zkZcbNytoR45O69tdonPRood47F_yxbZoumhR6Z7XoN0Y3CCgNWDdWRwgoDXhXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.132.207 waku 10e4d16e3d061209632899eba936d46a38037c26184a2a709e81e343dfafc407
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 10e4d16e3d06. Setting up logs at ./log/docker/node4_2024-09-22_05-02-43__a55c416c-3495-468c-a33c-ba03eac32ab1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2817
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2817/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2817/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2817/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.132.207/tcp/2818/p2p/16Uiu2HAmQu9bi7L8qkNVwMKo7ice4eFeXWf68bVDWG5v2mq7Lihr","/ip4/172.18.132.207/tcp/2819/ws/p2p/16Uiu2HAmQu9bi7L8qkNVwMKo7ice4eFeXWf68bVDWG5v2mq7Lihr"],"enrUri":"enr:-LO4QHBSYtuFi-9LOtnkYKEBReH6_Nbo4AwB0I4O7B6KQ4a5ZCkXA_AANWPK_ShPEncTTOeyQ4QntGZ8jCczwPjhO_EBgmlkgnY0gmlwhKwShM-KbXVsdGlhZGRyc4wACgSsEoTPBgsD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO17NT2hEJ74Wyr33O071NiPXW0OKot5OnN-p2l0ESv3YN0Y3CCCwKDdWRwggsEhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2817/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.25.169/tcp/32981/p2p/16Uiu2HAmGUjcTmrnHtRkCrcg4CU3R1Pk4fgmJECNoPLYMoqbwEsf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-22_05-02-43__a55c416c-3495-468c-a33c-ba03eac32ab1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.112.198
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32850', '32851', '32852', '32853', '32854']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_kwgi_5:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_kwgi_5:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32850:32850 -p 32851:32851 -p 32852:32852 -p 32853:32853 -p 32854:32854 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32852 --rest-port=32850 --tcp-port=32851 --discv5-udp-port=32853 --rest-address=0.0.0.0 --nat=extip:172.18.112.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1c7a0a124cba2b339af9bc8e9e6cccbad1a32feed8b4bc7ec2b05b4ab686ff0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32854 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEEzXcnf-TTq_39Hey9Be7IyXF18NPVwkUIbqJubGrLLdzOQT-cAMd8WZ1HEdpwY741zbxboffHK1rJdwvKpj1YBgmlkgnY0gmlwhKwSGamKbXVsdGlhZGRyc4wACgSsEhmpBoDW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM4zkZcbNytoR45O69tdonPRood47F_yxbZoumhR6Z7XoN0Y3CCgNWDdWRwgoDXhXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.112.198 waku e38f9c092dbdb080dabd72440ddfb46605237a3f98e58c7d72ba9f3086373df4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e38f9c092dbd. Setting up logs at ./log/docker/node5_2024-09-22_05-02-43__a55c416c-3495-468c-a33c-ba03eac32ab1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32850
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32850/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32850/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32850/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.112.198/tcp/32851/p2p/16Uiu2HAm29a89sdsuyZcVQbu2RVpSJKZXcMHdBSgeYMr5ZrepbV8","/ip4/172.18.112.198/tcp/32852/ws/p2p/16Uiu2HAm29a89sdsuyZcVQbu2RVpSJKZXcMHdBSgeYMr5ZrepbV8"],"enrUri":"enr:-LO4QFi62PslnLj5twf2YcmkmJrH8cAhrTRCN-pA-q-56e7HGtS9DUb7FdkGZtqnYazIEUs0QJLE559Wvq6Rga2uiZMBgmlkgnY0gmlwhKwScMaKbXVsdGlhZGRyc4wACgSsEnDGBoBU3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJj4eTw32w5eou3FSbbzUsF_nJaOzIKMMUBmqYTi-f4b4N0Y3CCgFODdWRwgoBVhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32850/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.25.169/tcp/32981/p2p/16Uiu2HAmGUjcTmrnHtRkCrcg4CU3R1Pk4fgmJECNoPLYMoqbwEsf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32980/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12291/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35106/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2817/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32850/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload A simple string
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32980/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload An integer
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #2
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32980/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:32980/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 1 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload A dictionary
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #3
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32980/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:32980/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 2 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload Chinese characters
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #4
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32980/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:32980/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 3 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload Emojis
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #5
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32980/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:32980/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 4 & nonceLimit: 1'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fea4e633ccd9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 955e96c71fd2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2c97c9d9e32d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 10e4d16e3d06
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e38f9c092dbd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.