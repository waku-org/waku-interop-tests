[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.159.92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['64968', '64969', '64970', '64971', '64972']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 64968:64968 -p 64969:64969 -p 64970:64970 -p 64971:64971 -p 64972:64972 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64970 --rest-port=64968 --tcp-port=64969 --discv5-udp-port=64971 --rest-address=0.0.0.0 --nat=extip:172.18.159.92 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bab4dddacafbc9696d6b8efe6ab1af1069f0cd6ace09551c67fe8a8de9945dea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64972 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.159.92 waku 2267015d62aa38be1f43979376c6779e5b0943b0f5f18f3b6dec3a1d9a223a64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2267015d62aa. Setting up logs at ./log/docker/receiving_node1_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 64968
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64968/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64968/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.159.92/tcp/64969/p2p/16Uiu2HAm1KrGNJ6aB9vgy8LezoE7Refhwv8XoYgZeYbma8fNiKjj","/ip4/172.18.159.92/tcp/64970/ws/p2p/16Uiu2HAm1KrGNJ6aB9vgy8LezoE7Refhwv8XoYgZeYbma8fNiKjj"],"enrUri":"enr:-LO4QF6zn0xLPNMuonwtjsrFIxjZeK-kE11AN26vT0_N0f52BvlDDHFefUwbkOR91Lghqyvk1XBm9RjtJxThvmBU4JUBgmlkgnY0gmlwhKwSn1yKbXVsdGlhZGRyc4wACgSsEp9cBv3K3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJXqERQuhUTZkL92ouiMoHk1j3SvjTmE8CAPynp2dfY7oN0Y3CC_cmDdWRwgv3LhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.141.158
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['7921', '7922', '7923', '7924', '7925']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 7921:7921 -p 7922:7922 -p 7923:7923 -p 7924:7924 -p 7925:7925 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7923 --rest-port=7921 --tcp-port=7922 --discv5-udp-port=7924 --rest-address=0.0.0.0 --nat=extip:172.18.141.158 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=65be9d7c16dc082abfdf8d2ded0f5d2acf67d4bb5fef51599b9eea1a285f7bd8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7925 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.141.158 waku f2ba42d90523e8407f876e8582cfc774499a78f85171f7b882a3ac6602305000
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f2ba42d90523. Setting up logs at ./log/docker/receiving_node2_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7921
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7921/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7921/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.158/tcp/7922/p2p/16Uiu2HAmFi3hECGoZqhrCa6cf828wG9DB6zuDqvqRU5LG2vbygkj","/ip4/172.18.141.158/tcp/7923/ws/p2p/16Uiu2HAmFi3hECGoZqhrCa6cf828wG9DB6zuDqvqRU5LG2vbygkj"],"enrUri":"enr:-LO4QHRehRSXEyGKfu5aV_9fvzzyq_jgp3T_h4coAHUa4mM-L2E7YGPJgYj13xcVdeUq4cqfSSi4wkzSbVaIjpZAT-4BgmlkgnY0gmlwhKwSjZ6KbXVsdGlhZGRyc4wACgSsEo2eBh7z3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMtW5WB-q0jBdXe0tu-NfOgeYF6GM-R4GlTEBsU4BkEJIN0Y3CCHvKDdWRwgh70hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7921/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.92/tcp/64969/p2p/16Uiu2HAm1KrGNJ6aB9vgy8LezoE7Refhwv8XoYgZeYbma8fNiKjj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.161.77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16326', '16327', '16328', '16329', '16330']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16326:16326 -p 16327:16327 -p 16328:16328 -p 16329:16329 -p 16330:16330 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16328 --rest-port=16326 --tcp-port=16327 --discv5-udp-port=16329 --rest-address=0.0.0.0 --nat=extip:172.18.161.77 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be8a1eec8d9aedefabcef7f499cfecf38addddaad6af5f1eb3c508cdd9d09cdd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16330 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QF6zn0xLPNMuonwtjsrFIxjZeK-kE11AN26vT0_N0f52BvlDDHFefUwbkOR91Lghqyvk1XBm9RjtJxThvmBU4JUBgmlkgnY0gmlwhKwSn1yKbXVsdGlhZGRyc4wACgSsEp9cBv3K3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJXqERQuhUTZkL92ouiMoHk1j3SvjTmE8CAPynp2dfY7oN0Y3CC_cmDdWRwgv3LhXdha3UyCQ --lightpushnode=/ip4/172.18.159.92/tcp/64969/p2p/16Uiu2HAm1KrGNJ6aB9vgy8LezoE7Refhwv8XoYgZeYbma8fNiKjj --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.161.77 waku cdbd73a704514759de28875ea2610b22e8530c6694982e74037d54bc140f0a1a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cdbd73a70451. Setting up logs at ./log/docker/lightpush_node1_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16326
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16326/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16326/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.77/tcp/16327/p2p/16Uiu2HAkuxkPE3w9ah7uGtPjZ2M3pxzUPJAsFuK8fCLGTMKDGqAw","/ip4/172.18.161.77/tcp/16328/ws/p2p/16Uiu2HAkuxkPE3w9ah7uGtPjZ2M3pxzUPJAsFuK8fCLGTMKDGqAw"],"enrUri":"enr:-LO4QM4vUZQVMw6nm5nKcZxAKuHOwuOwQc2ZqFtBAsl44j9fWyW-xQC_jo4RtzxeJk0TCXimnDDM11BkLsoSiBHAj_YBgmlkgnY0gmlwhKwSoU2KbXVsdGlhZGRyc4wACgSsEqFNBj_I3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIH9fwVsc1mzeOj4MMTxv88EPrvXApfYLZwVOLsoOB6WIN0Y3CCP8eDdWRwgj_JhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16326/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.92/tcp/64969/p2p/16Uiu2HAm1KrGNJ6aB9vgy8LezoE7Refhwv8XoYgZeYbma8fNiKjj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16326/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.141.158/tcp/7922/p2p/16Uiu2HAmFi3hECGoZqhrCa6cf828wG9DB6zuDqvqRU5LG2vbygkj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.152.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['52962', '52963', '52964', '52965', '52966']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 52962:52962 -p 52963:52963 -p 52964:52964 -p 52965:52965 -p 52966:52966 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52964 --rest-port=52962 --tcp-port=52963 --discv5-udp-port=52965 --rest-address=0.0.0.0 --nat=extip:172.18.152.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a5cdff05a505abab9ea2b6ecab5acbb45cac13e661274bc4908fccdfdf303c97 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52966 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QF6zn0xLPNMuonwtjsrFIxjZeK-kE11AN26vT0_N0f52BvlDDHFefUwbkOR91Lghqyvk1XBm9RjtJxThvmBU4JUBgmlkgnY0gmlwhKwSn1yKbXVsdGlhZGRyc4wACgSsEp9cBv3K3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJXqERQuhUTZkL92ouiMoHk1j3SvjTmE8CAPynp2dfY7oN0Y3CC_cmDdWRwgv3LhXdha3UyCQ --lightpushnode=/ip4/172.18.159.92/tcp/64969/p2p/16Uiu2HAm1KrGNJ6aB9vgy8LezoE7Refhwv8XoYgZeYbma8fNiKjj --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.152.56 waku da739b2e2ad32bda47ee4494970665ebeb0fdffbc5c981f63f55bd221e30bc9e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID da739b2e2ad3. Setting up logs at ./log/docker/lightpush_node2_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 52962
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52962/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52962/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.56/tcp/52963/p2p/16Uiu2HAmFZLaubS5aovaJzYfNLt4zz4WfWc2FWAWmSUTRfCycrbu","/ip4/172.18.152.56/tcp/52964/ws/p2p/16Uiu2HAmFZLaubS5aovaJzYfNLt4zz4WfWc2FWAWmSUTRfCycrbu"],"enrUri":"enr:-LO4QNjdeo3R2ZXMCF4PzAm4h5CabxEURezjxyouwz7qD0r1L4j2IdMcFGoH-oVjF7NOgkz3Mu-4P5u-gT5zMIUjgs8BgmlkgnY0gmlwhKwSmDiKbXVsdGlhZGRyc4wACgSsEpg4Bs7k3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMrIHSZ3Y4PSR2rylIz2ico00GBQrBpFH-rCcTQwfdeJIN0Y3CCzuODdWRwgs7lhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52962/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.92/tcp/64969/p2p/16Uiu2HAm1KrGNJ6aB9vgy8LezoE7Refhwv8XoYgZeYbma8fNiKjj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52962/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.141.158/tcp/7922/p2p/16Uiu2HAmFi3hECGoZqhrCa6cf828wG9DB6zuDqvqRU5LG2vbygkj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.127.182
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['24473', '24474', '24475', '24476', '24477']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 24473:24473 -p 24474:24474 -p 24475:24475 -p 24476:24476 -p 24477:24477 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24475 --rest-port=24473 --tcp-port=24474 --discv5-udp-port=24476 --rest-address=0.0.0.0 --nat=extip:172.18.127.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5dcdfecada4d21e9ba416af9dbcef7cd7a0fbff5bcb224a4e2fa9df0cfeba8bf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24477 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QF6zn0xLPNMuonwtjsrFIxjZeK-kE11AN26vT0_N0f52BvlDDHFefUwbkOR91Lghqyvk1XBm9RjtJxThvmBU4JUBgmlkgnY0gmlwhKwSn1yKbXVsdGlhZGRyc4wACgSsEp9cBv3K3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJXqERQuhUTZkL92ouiMoHk1j3SvjTmE8CAPynp2dfY7oN0Y3CC_cmDdWRwgv3LhXdha3UyCQ --lightpushnode=/ip4/172.18.159.92/tcp/64969/p2p/16Uiu2HAm1KrGNJ6aB9vgy8LezoE7Refhwv8XoYgZeYbma8fNiKjj --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.127.182 waku cdc4ea109802e56cb3e3bb90ed1175beb2f81a0706e447ed1f9fb70c6fdf48bc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cdc4ea109802. Setting up logs at ./log/docker/lightpush_node3_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 24473
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24473/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24473/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.182/tcp/24474/p2p/16Uiu2HAmPjQvSprhiuF3W6KLU8caYWLNpa9ifnPFM9s7UpJPybmW","/ip4/172.18.127.182/tcp/24475/ws/p2p/16Uiu2HAmPjQvSprhiuF3W6KLU8caYWLNpa9ifnPFM9s7UpJPybmW"],"enrUri":"enr:-LO4QPqEbpc7X-EtBKIWMAgoFfeinQdV8diyXOKm3Ce1Z2OcYbUkG7xBJE23wi_MlMz_eH22O8eDLGofeDOwF2YamC8BgmlkgnY0gmlwhKwSf7aKbXVsdGlhZGRyc4wACgSsEn-2Bl-b3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOkkqml_2eFgfaZIN6pOnbXwWbiG8SPtbAw65tLiMSr3YN0Y3CCX5qDdWRwgl-chXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24473/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.92/tcp/64969/p2p/16Uiu2HAm1KrGNJ6aB9vgy8LezoE7Refhwv8XoYgZeYbma8fNiKjj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24473/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.141.158/tcp/7922/p2p/16Uiu2HAmFi3hECGoZqhrCa6cf828wG9DB6zuDqvqRU5LG2vbygkj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.196.205
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['46818', '46819', '46820', '46821', '46822']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 46818:46818 -p 46819:46819 -p 46820:46820 -p 46821:46821 -p 46822:46822 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46820 --rest-port=46818 --tcp-port=46819 --discv5-udp-port=46821 --rest-address=0.0.0.0 --nat=extip:172.18.196.205 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9d8be3dc2f8dbba85f3cce02060fae79a1503dd54fcd1a3f7fddc35f1fdbd9d9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46822 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QF6zn0xLPNMuonwtjsrFIxjZeK-kE11AN26vT0_N0f52BvlDDHFefUwbkOR91Lghqyvk1XBm9RjtJxThvmBU4JUBgmlkgnY0gmlwhKwSn1yKbXVsdGlhZGRyc4wACgSsEp9cBv3K3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJXqERQuhUTZkL92ouiMoHk1j3SvjTmE8CAPynp2dfY7oN0Y3CC_cmDdWRwgv3LhXdha3UyCQ --lightpushnode=/ip4/172.18.159.92/tcp/64969/p2p/16Uiu2HAm1KrGNJ6aB9vgy8LezoE7Refhwv8XoYgZeYbma8fNiKjj --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.196.205 waku 0fee3c97699417019db265f9cf2dff7079410ddd4a9043f850b9a753cd7b61f4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0fee3c976994. Setting up logs at ./log/docker/lightpush_node4_2024-09-22_04-18-57__1fc31811-7e2c-440f-8c2e-c243077d5e01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46818
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46818/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46818/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.196.205/tcp/46819/p2p/16Uiu2HAm6NpNM65JqSgXszdVK9FLhgykSFjGcCcKP3Bnukwx6pXN","/ip4/172.18.196.205/tcp/46820/ws/p2p/16Uiu2HAm6NpNM65JqSgXszdVK9FLhgykSFjGcCcKP3Bnukwx6pXN"],"enrUri":"enr:-LO4QANWkVwlrhS5YUM1uSiuzqPsCBObVIIloIJA75vP5ugpCtoIuRh0bwVYIDpEc4TWrUkhfncDxrVoGeUxpWYaUTYBgmlkgnY0gmlwhKwSxM2KbXVsdGlhZGRyc4wACgSsEsTNBrbk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKitUyP_Z2FaWNLEVNFF1h_HWKg-oXEnl3XSGNmMUHpNYN0Y3CCtuODdWRwgrblhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46818/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.159.92/tcp/64969/p2p/16Uiu2HAm1KrGNJ6aB9vgy8LezoE7Refhwv8XoYgZeYbma8fNiKjj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46818/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.141.158/tcp/7922/p2p/16Uiu2HAmFi3hECGoZqhrCa6cf828wG9DB6zuDqvqRU5LG2vbygkj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64968/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7921/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16326/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726978745978720000}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64968/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726978745978720000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7921/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726978745978720000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52962/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726978746101766144}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64968/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726978746101766144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7921/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726978746101766144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24473/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726978746226551040}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64968/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726978746226551040,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7921/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726978746226551040,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46818/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726978746348768512}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64968/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726978746348768512,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7921/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726978746348768512,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2267015d62aa
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f2ba42d90523
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cdbd73a70451
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id da739b2e2ad3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cdc4ea109802
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0fee3c976994
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.