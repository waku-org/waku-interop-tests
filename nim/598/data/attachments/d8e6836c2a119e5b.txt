[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-31_04-09-10__811c40c3-cafb-4c32-b645-4d58001fb56a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-31_04-09-10__811c40c3-cafb-4c32-b645-4d58001fb56a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.239.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42332', '42333', '42334', '42335', '42336']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42332:42332 -p 42333:42333 -p 42334:42334 -p 42335:42335 -p 42336:42336 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42334 --rest-port=42332 --tcp-port=42333 --discv5-udp-port=42335 --rest-address=0.0.0.0 --nat=extip:172.18.239.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f7d30aa07c6636aaae0cd71cf5ef31130edcbbd3d0eea91694dfd9ec7db8eb6a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42336 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.239.149 waku 3449ba0faeff3fecde88ccff6afde59a9fdb383f6afffcb8c8ddf412335a92e9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3449ba0faeff. Setting up logs at ./log/docker/node1_2024-12-31_04-09-10__811c40c3-cafb-4c32-b645-4d58001fb56a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42332
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ac1f09248209. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42332/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42332/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.239.149/tcp/42333/p2p/16Uiu2HAkzQyZ1LCAScUjD1Vp7GQi2TgeqcXwzdPHZ8SzjSLgXvAR","/ip4/172.18.239.149/tcp/42334/ws/p2p/16Uiu2HAkzQyZ1LCAScUjD1Vp7GQi2TgeqcXwzdPHZ8SzjSLgXvAR"],"enrUri":"enr:-L24QFlRgf1RiZqtZcx0V-ujw61AO4lliq3hKK1B7XrdX6HnPPkVNrrtnoN1SxVbdnpXgvXctXJPBV6kRnPlnmRMWLYCgmlkgnY0gmlwhKwS75WKbXVsdGlhZGRyc5YACASsEu-VBqVdAAoErBLvlQalXt0DgnJzhQADAQAAiXNlY3AyNTZrMaECShy5KBSd1MUtBQCp_fgdUvby_18i9rAka1cIERKzl9aDdGNwgqVdg3VkcIKlX4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-31_04-09-10__811c40c3-cafb-4c32-b645-4d58001fb56a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.127.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38465', '38466', '38467', '38468', '38469']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38465:38465 -p 38466:38466 -p 38467:38467 -p 38468:38468 -p 38469:38469 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38467 --rest-port=38465 --tcp-port=38466 --discv5-udp-port=38468 --rest-address=0.0.0.0 --nat=extip:172.18.127.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbaeaabce526ce8ca66b2fe88ba1ceebd524a2b0eec814cfb24cca2be28df66c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38469 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QFlRgf1RiZqtZcx0V-ujw61AO4lliq3hKK1B7XrdX6HnPPkVNrrtnoN1SxVbdnpXgvXctXJPBV6kRnPlnmRMWLYCgmlkgnY0gmlwhKwS75WKbXVsdGlhZGRyc5YACASsEu-VBqVdAAoErBLvlQalXt0DgnJzhQADAQAAiXNlY3AyNTZrMaECShy5KBSd1MUtBQCp_fgdUvby_18i9rAka1cIERKzl9aDdGNwgqVdg3VkcIKlX4V3YWt1MgU --filternode=/ip4/172.18.239.149/tcp/42333/p2p/16Uiu2HAkzQyZ1LCAScUjD1Vp7GQi2TgeqcXwzdPHZ8SzjSLgXvAR
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.127.159 waku 49cf1d1cf47ddf2fa634b898b6b018f09d527e374e853cdcf8d6cfd5eabaa090
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 49cf1d1cf47d. Setting up logs at ./log/docker/node2_2024-12-31_04-09-10__811c40c3-cafb-4c32-b645-4d58001fb56a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38465
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38465/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38465/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.159/tcp/38466/p2p/16Uiu2HAkudWpFXyPTFER6VpRDCLYjJyLz9R2swznrNjtMaQAitcF","/ip4/172.18.127.159/tcp/38467/ws/p2p/16Uiu2HAkudWpFXyPTFER6VpRDCLYjJyLz9R2swznrNjtMaQAitcF"],"enrUri":"enr:-L24QMvDutnjBJ3ldyLhD3rd5E7OORd6rkxEDE4LygRvicREe_qG9IhCxl7CxqcTqQ8Wii1WLJWr7znA7v97LfAb2EcCgmlkgnY0gmlwhKwSf5-KbXVsdGlhZGRyc5YACASsEn-fBpZCAAoErBJ_nwaWQ90DgnJzhQADAQAAiXNlY3AyNTZrMaECAwibe40WAPDKDNdVLuUkqfe10SEEEvx0obLHIe04AMCDdGNwgpZCg3VkcIKWRIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38465/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.239.149/tcp/42333/p2p/16Uiu2HAkzQyZ1LCAScUjD1Vp7GQi2TgeqcXwzdPHZ8SzjSLgXvAR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-31_04-09-10__811c40c3-cafb-4c32-b645-4d58001fb56a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.71.44
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6300', '6301', '6302', '6303', '6304']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6300:6300 -p 6301:6301 -p 6302:6302 -p 6303:6303 -p 6304:6304 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6302 --rest-port=6300 --tcp-port=6301 --discv5-udp-port=6303 --rest-address=0.0.0.0 --nat=extip:172.18.71.44 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=14a2e33965ac562360edf867f7e9effadea99dadb66eb1475984b3739b1ff7e8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6304 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QFlRgf1RiZqtZcx0V-ujw61AO4lliq3hKK1B7XrdX6HnPPkVNrrtnoN1SxVbdnpXgvXctXJPBV6kRnPlnmRMWLYCgmlkgnY0gmlwhKwS75WKbXVsdGlhZGRyc5YACASsEu-VBqVdAAoErBLvlQalXt0DgnJzhQADAQAAiXNlY3AyNTZrMaECShy5KBSd1MUtBQCp_fgdUvby_18i9rAka1cIERKzl9aDdGNwgqVdg3VkcIKlX4V3YWt1MgU --filternode=/ip4/172.18.239.149/tcp/42333/p2p/16Uiu2HAkzQyZ1LCAScUjD1Vp7GQi2TgeqcXwzdPHZ8SzjSLgXvAR
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.71.44 waku 8e25ac3d174de1915db0b0cf9758ac46193d73779d27fce1923c67342fe86d6d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8e25ac3d174d. Setting up logs at ./log/docker/node3_2024-12-31_04-09-10__811c40c3-cafb-4c32-b645-4d58001fb56a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 6300
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6300/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6300/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.71.44/tcp/6301/p2p/16Uiu2HAmELy2m8rxGMihPR6X8kkQeYvR2WqQfiG1kQwfr4VAsDVk","/ip4/172.18.71.44/tcp/6302/ws/p2p/16Uiu2HAmELy2m8rxGMihPR6X8kkQeYvR2WqQfiG1kQwfr4VAsDVk"],"enrUri":"enr:-L24QH8z5Zu1LWoPy1NRh28m3wCtvd51w-ra_74npXzHegwXe1ciB91z8MVArJ-Ez2uR2N4n4v-6qCqnXme1pZG-cm0CgmlkgnY0gmlwhKwSRyyKbXVsdGlhZGRyc5YACASsEkcsBhidAAoErBJHLAYYnt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGRltaO-Mj0iXER35myXAUVvQc2EqkHV0wijOqVFYPlODdGNwghidg3VkcIIYn4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6300/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.239.149/tcp/42333/p2p/16Uiu2HAkzQyZ1LCAScUjD1Vp7GQi2TgeqcXwzdPHZ8SzjSLgXvAR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-31_04-09-10__811c40c3-cafb-4c32-b645-4d58001fb56a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.34.51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58938', '58939', '58940', '58941', '58942']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58938:58938 -p 58939:58939 -p 58940:58940 -p 58941:58941 -p 58942:58942 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58940 --rest-port=58938 --tcp-port=58939 --discv5-udp-port=58941 --rest-address=0.0.0.0 --nat=extip:172.18.34.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ccd04c4f4bf8fc47e19aac4bdef5209cae1aa4d0f29d48f05f3fc86c0ff8b2d9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58942 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QFlRgf1RiZqtZcx0V-ujw61AO4lliq3hKK1B7XrdX6HnPPkVNrrtnoN1SxVbdnpXgvXctXJPBV6kRnPlnmRMWLYCgmlkgnY0gmlwhKwS75WKbXVsdGlhZGRyc5YACASsEu-VBqVdAAoErBLvlQalXt0DgnJzhQADAQAAiXNlY3AyNTZrMaECShy5KBSd1MUtBQCp_fgdUvby_18i9rAka1cIERKzl9aDdGNwgqVdg3VkcIKlX4V3YWt1MgU --filternode=/ip4/172.18.239.149/tcp/42333/p2p/16Uiu2HAkzQyZ1LCAScUjD1Vp7GQi2TgeqcXwzdPHZ8SzjSLgXvAR
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.34.51 waku 60d9a3e95900cb5db15e7cfd3dce55eca9687fbb3d9bc84264453f903b0e5bbc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 60d9a3e95900. Setting up logs at ./log/docker/node4_2024-12-31_04-09-10__811c40c3-cafb-4c32-b645-4d58001fb56a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 58938
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58938/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58938/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.34.51/tcp/58939/p2p/16Uiu2HAmGhdqg1f1kj8X8hhVpwZhj9CiuzX9AYwuS2oinK64Y5yu","/ip4/172.18.34.51/tcp/58940/ws/p2p/16Uiu2HAmGhdqg1f1kj8X8hhVpwZhj9CiuzX9AYwuS2oinK64Y5yu"],"enrUri":"enr:-L24QPVuxUqISyZLvcmq0vOCzMkohBsnNBClRfzwlhxcbcNhWSwFUAZY75i6l80LNxdmcl_JpRFBR9c2qj-jYfiadNUCgmlkgnY0gmlwhKwSIjOKbXVsdGlhZGRyc5YACASsEiIzBuY7AAoErBIiMwbmPN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDPBxMdwT60hcrQBaSEAuf0HIeZNT14eIsAhtmJSUeyZyDdGNwguY7g3VkcILmPYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58938/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.239.149/tcp/42333/p2p/16Uiu2HAkzQyZ1LCAScUjD1Vp7GQi2TgeqcXwzdPHZ8SzjSLgXvAR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-31_04-09-10__811c40c3-cafb-4c32-b645-4d58001fb56a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.50.138
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5318', '5319', '5320', '5321', '5322']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5318:5318 -p 5319:5319 -p 5320:5320 -p 5321:5321 -p 5322:5322 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5320 --rest-port=5318 --tcp-port=5319 --discv5-udp-port=5321 --rest-address=0.0.0.0 --nat=extip:172.18.50.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a8efc7ce6d738d13e430badac2890492c6ae15d0ad610bf9a8f4c96e536fcbad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5322 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QFlRgf1RiZqtZcx0V-ujw61AO4lliq3hKK1B7XrdX6HnPPkVNrrtnoN1SxVbdnpXgvXctXJPBV6kRnPlnmRMWLYCgmlkgnY0gmlwhKwS75WKbXVsdGlhZGRyc5YACASsEu-VBqVdAAoErBLvlQalXt0DgnJzhQADAQAAiXNlY3AyNTZrMaECShy5KBSd1MUtBQCp_fgdUvby_18i9rAka1cIERKzl9aDdGNwgqVdg3VkcIKlX4V3YWt1MgU --filternode=/ip4/172.18.239.149/tcp/42333/p2p/16Uiu2HAkzQyZ1LCAScUjD1Vp7GQi2TgeqcXwzdPHZ8SzjSLgXvAR
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.50.138 waku 0b7e8d52cd9b1963ad81c1bdfa6a000576a604617cb957bf1a22d186872f31c5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0b7e8d52cd9b. Setting up logs at ./log/docker/node5_2024-12-31_04-09-10__811c40c3-cafb-4c32-b645-4d58001fb56a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 5318
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5318/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5318/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.138/tcp/5319/p2p/16Uiu2HAmC1VPGgP9Uo4kAbY9W1EutCskFhyarjTsUxnwX8LvkCCF","/ip4/172.18.50.138/tcp/5320/ws/p2p/16Uiu2HAmC1VPGgP9Uo4kAbY9W1EutCskFhyarjTsUxnwX8LvkCCF"],"enrUri":"enr:-L24QATSNXU3zbz3BRwNLUoryxoo2xUBHF37wQ_y-F4Dqho5RIn8dZK-Zp_UPqYh9PURIWVh1vhZgDscRJULQlnMNGACgmlkgnY0gmlwhKwSMoqKbXVsdGlhZGRyc5YACASsEjKKBhTHAAoErBIyigYUyN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9mTCHus9mjA7e7rOF0NWxfU4s600sEuHz2BaT-hCqcCDdGNwghTHg3VkcIIUyYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5318/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.239.149/tcp/42333/p2p/16Uiu2HAkzQyZ1LCAScUjD1Vp7GQi2TgeqcXwzdPHZ8SzjSLgXvAR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42332/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38465/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c9979a94-847b-4032-b574-f0e75b2ec506", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c9979a94-847b-4032-b574-f0e75b2ec506","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6300/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "abc3c0ed-1813-42c9-8197-9e5cda1648cb", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"abc3c0ed-1813-42c9-8197-9e5cda1648cb","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58938/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "25a04769-1e96-4e92-a451-8f87a1a2060f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"25a04769-1e96-4e92-a451-8f87a1a2060f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5318/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1826374e-1d3c-4389-be04-032b6716c13f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1826374e-1d3c-4389-be04-032b6716c13f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42332/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38465/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1735618158280357888,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42332/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6300/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:6300/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3449ba0faeff
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 49cf1d1cf47d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3449ba0faeff. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8e25ac3d174d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 49cf1d1cf47d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 60d9a3e95900
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8e25ac3d174d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0b7e8d52cd9b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 60d9a3e95900. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.