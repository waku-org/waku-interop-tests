[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_with_no_request_id with id: 2024-12-31_04-10-03__d08d7b94-ff46-4a5b-8454-8b41729704f3
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-31_04-10-03__d08d7b94-ff46-4a5b-8454-8b41729704f3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.212.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59143', '59144', '59145', '59146', '59147']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59143:59143 -p 59144:59144 -p 59145:59145 -p 59146:59146 -p 59147:59147 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59145 --rest-port=59143 --tcp-port=59144 --discv5-udp-port=59146 --rest-address=0.0.0.0 --nat=extip:172.18.212.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ab7acd64a46254912c674a734c69132db3d124176bf4f1b10a062d3cb3fca7b0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59147 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.212.95 waku 692a488a1f9ce32d6726262293de32a29b4bc3eb76bb02c720ae0e95173253fe
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 692a488a1f9c. Setting up logs at ./log/docker/node1_2024-12-31_04-10-03__d08d7b94-ff46-4a5b-8454-8b41729704f3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 59143
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 905a7d0f9daf. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59143/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59143/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.95/tcp/59144/p2p/16Uiu2HAm6RdBno33nzz5QXbb1sWHhdmGjc1gCK5XXabrLgtWaHNn","/ip4/172.18.212.95/tcp/59145/ws/p2p/16Uiu2HAm6RdBno33nzz5QXbb1sWHhdmGjc1gCK5XXabrLgtWaHNn"],"enrUri":"enr:-L24QGvnQlZFc3JOLZzISBD5pyYFvVeg4QCr0uhlQF0Y5YbcVnfsSybtJuV1_ADlARxD9Ab0fhD_T842CMFbYU7yttECgmlkgnY0gmlwhKwS1F-KbXVsdGlhZGRyc5YACASsEtRfBucIAAoErBLUXwbnCd0DgnJzhQADAQAAiXNlY3AyNTZrMaECo21l4HYKaI-Nx1D3M2N_PbyBXBI5C0XznuxHPUE8FEeDdGNwgucIg3VkcILnCoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-31_04-10-03__d08d7b94-ff46-4a5b-8454-8b41729704f3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.76.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24599', '24600', '24601', '24602', '24603']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24599:24599 -p 24600:24600 -p 24601:24601 -p 24602:24602 -p 24603:24603 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24601 --rest-port=24599 --tcp-port=24600 --discv5-udp-port=24602 --rest-address=0.0.0.0 --nat=extip:172.18.76.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eedebf0e18a2aebdd552c8833f91b6f5e0a83caa1dbdc2ac4b695d84d3158cce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24603 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGvnQlZFc3JOLZzISBD5pyYFvVeg4QCr0uhlQF0Y5YbcVnfsSybtJuV1_ADlARxD9Ab0fhD_T842CMFbYU7yttECgmlkgnY0gmlwhKwS1F-KbXVsdGlhZGRyc5YACASsEtRfBucIAAoErBLUXwbnCd0DgnJzhQADAQAAiXNlY3AyNTZrMaECo21l4HYKaI-Nx1D3M2N_PbyBXBI5C0XznuxHPUE8FEeDdGNwgucIg3VkcILnCoV3YWt1MgU --filternode=/ip4/172.18.212.95/tcp/59144/p2p/16Uiu2HAm6RdBno33nzz5QXbb1sWHhdmGjc1gCK5XXabrLgtWaHNn
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.76.41 waku 2c83aa98b81f31158ea5ff86211762b01a300a06cfa1e0cc5469c73661340c5a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2c83aa98b81f. Setting up logs at ./log/docker/node2_2024-12-31_04-10-03__d08d7b94-ff46-4a5b-8454-8b41729704f3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 24599
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24599/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24599/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.41/tcp/24600/p2p/16Uiu2HAkunWvHyDQrDkqV8nXvGLAfyoKDahU9Hwi8SfRYuC1iy35","/ip4/172.18.76.41/tcp/24601/ws/p2p/16Uiu2HAkunWvHyDQrDkqV8nXvGLAfyoKDahU9Hwi8SfRYuC1iy35"],"enrUri":"enr:-L24QEy_eHnQlkSFvPpJhauL9-BCMGso6L3k8ZYm80AEGXSAdn5R8xE-pZ7T2XUH-B71qJ2eXNsnmmGeCqSBjitF45MCgmlkgnY0gmlwhKwSTCmKbXVsdGlhZGRyc5YACASsEkwpBmAYAAoErBJMKQZgGd0DgnJzhQADAQAAiXNlY3AyNTZrMaECBVbz0gcmK9b-Yf-gS5BCxLBjGldo8h6qAXEkTk23SSCDdGNwgmAYg3VkcIJgGoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24599/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.95/tcp/59144/p2p/16Uiu2HAm6RdBno33nzz5QXbb1sWHhdmGjc1gCK5XXabrLgtWaHNn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59143/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24599/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "52c80980-94ed-46b7-819e-fcb970097a9a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"52c80980-94ed-46b7-819e-fcb970097a9a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24599/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:24599/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 692a488a1f9c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2c83aa98b81f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 692a488a1f9c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.