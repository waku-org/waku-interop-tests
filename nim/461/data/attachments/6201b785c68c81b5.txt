[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-25_04-11-32__368e1a4b-1f22-44e4-a2c6-099daac3f7ef
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-25_04-11-32__368e1a4b-1f22-44e4-a2c6-099daac3f7ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.127.127
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20032', '20033', '20034', '20035', '20036']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20032:20032 -p 20033:20033 -p 20034:20034 -p 20035:20035 -p 20036:20036 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20034 --rest-port=20032 --tcp-port=20033 --discv5-udp-port=20035 --rest-address=0.0.0.0 --nat=extip:172.18.127.127 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eb4a80ad5c6756cc4bcdfbf54a33acedcc38226dd89639cc4deed4dc1adeeba4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20036 --metrics-logging=true --relay=true --filter=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 916ea8310418. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.127.127 waku 012ee964380b1f628b75f78005e64fbd4328b0d389e5ad823852cf64db573c70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 012ee964380b. Setting up logs at ./log/docker/node1_2024-11-25_04-11-32__368e1a4b-1f22-44e4-a2c6-099daac3f7ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 20032
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20032/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20032/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.127/tcp/20033/p2p/16Uiu2HAm74gbFu5yNP8wAmb9TnM3RiP8JsStPdrAdavP4JMoAZye","/ip4/172.18.127.127/tcp/20034/ws/p2p/16Uiu2HAm74gbFu5yNP8wAmb9TnM3RiP8JsStPdrAdavP4JMoAZye"],"enrUri":"enr:-L24QGbyreRfnjhl3LA51IgA_HQH1v5QQlXk06yD3xVgtaecPA8eifqylZ1B5_aU2qRftu2WfyfY6Smu49iY3TRm2r8CgmlkgnY0gmlwhKwSf3-KbXVsdGlhZGRyc5YACASsEn9_Bk5BAAoErBJ_fwZOQt0DgnJzhQADAQAAiXNlY3AyNTZrMaECrOu8zIKjEkp9-gPgct_CdOLRbfZNMn4zsMCcnUBnW92DdGNwgk5Bg3VkcIJOQ4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-25_04-11-32__368e1a4b-1f22-44e4-a2c6-099daac3f7ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.131.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15214', '15215', '15216', '15217', '15218']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15214:15214 -p 15215:15215 -p 15216:15216 -p 15217:15217 -p 15218:15218 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15216 --rest-port=15214 --tcp-port=15215 --discv5-udp-port=15217 --rest-address=0.0.0.0 --nat=extip:172.18.131.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d42bcfadee8bd8d49addc6b2fc58ecb096c7dde5b74ca9be7bad38cdcb62bf22 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15218 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGbyreRfnjhl3LA51IgA_HQH1v5QQlXk06yD3xVgtaecPA8eifqylZ1B5_aU2qRftu2WfyfY6Smu49iY3TRm2r8CgmlkgnY0gmlwhKwSf3-KbXVsdGlhZGRyc5YACASsEn9_Bk5BAAoErBJ_fwZOQt0DgnJzhQADAQAAiXNlY3AyNTZrMaECrOu8zIKjEkp9-gPgct_CdOLRbfZNMn4zsMCcnUBnW92DdGNwgk5Bg3VkcIJOQ4V3YWt1MgU --filternode=/ip4/172.18.127.127/tcp/20033/p2p/16Uiu2HAm74gbFu5yNP8wAmb9TnM3RiP8JsStPdrAdavP4JMoAZye
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.131.222 waku 848613a91db3ad946adb14d7fdcaea22f6e608dfb7761554c7df33710e523bcd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 848613a91db3. Setting up logs at ./log/docker/node2_2024-11-25_04-11-32__368e1a4b-1f22-44e4-a2c6-099daac3f7ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 15214
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15214/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15214/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.222/tcp/15215/p2p/16Uiu2HAky6t4AqiEWQJhwZBArrrXYYaW3yQpxq2FUVA93UrxfTFY","/ip4/172.18.131.222/tcp/15216/ws/p2p/16Uiu2HAky6t4AqiEWQJhwZBArrrXYYaW3yQpxq2FUVA93UrxfTFY"],"enrUri":"enr:-L24QDAaqNPdAjW9E86AadNXj5QRBHJfZoCSaPu1jRLXf4v0IHQJam7kPkAy1vKNrBEF89KNgsfRrAA20UTMkuYWn5gCgmlkgnY0gmlwhKwSg96KbXVsdGlhZGRyc5YACASsEoPeBjtvAAoErBKD3gY7cN0DgnJzhQADAQAAiXNlY3AyNTZrMaECNp5duQUrykeOQAqG5WmL6jy8m_CATEjrmQrMI6brxLODdGNwgjtvg3VkcII7cYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15214/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.127/tcp/20033/p2p/16Uiu2HAm74gbFu5yNP8wAmb9TnM3RiP8JsStPdrAdavP4JMoAZye"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-25_04-11-32__368e1a4b-1f22-44e4-a2c6-099daac3f7ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.237.195
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50859', '50860', '50861', '50862', '50863']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50859:50859 -p 50860:50860 -p 50861:50861 -p 50862:50862 -p 50863:50863 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50861 --rest-port=50859 --tcp-port=50860 --discv5-udp-port=50862 --rest-address=0.0.0.0 --nat=extip:172.18.237.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b27cd05d41dfd28529ce31dad8e266d7bf0eddbdcdedf72da25ecc0b99b2a460 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50863 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGbyreRfnjhl3LA51IgA_HQH1v5QQlXk06yD3xVgtaecPA8eifqylZ1B5_aU2qRftu2WfyfY6Smu49iY3TRm2r8CgmlkgnY0gmlwhKwSf3-KbXVsdGlhZGRyc5YACASsEn9_Bk5BAAoErBJ_fwZOQt0DgnJzhQADAQAAiXNlY3AyNTZrMaECrOu8zIKjEkp9-gPgct_CdOLRbfZNMn4zsMCcnUBnW92DdGNwgk5Bg3VkcIJOQ4V3YWt1MgU --filternode=/ip4/172.18.127.127/tcp/20033/p2p/16Uiu2HAm74gbFu5yNP8wAmb9TnM3RiP8JsStPdrAdavP4JMoAZye
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.237.195 waku c4f0e0dc5b6e7d9a5f3a04c0355d39728677cb59e066da1b25536a83f2a5c51f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c4f0e0dc5b6e. Setting up logs at ./log/docker/node3_2024-11-25_04-11-32__368e1a4b-1f22-44e4-a2c6-099daac3f7ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 50859
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50859/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50859/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.237.195/tcp/50860/p2p/16Uiu2HAmDg7BjPEbuFC84r1mt9NEYE26LPRanDock9UR2JdKTsng","/ip4/172.18.237.195/tcp/50861/ws/p2p/16Uiu2HAmDg7BjPEbuFC84r1mt9NEYE26LPRanDock9UR2JdKTsng"],"enrUri":"enr:-L24QDXFP7boBuVBKDtfG6jFlzZt91K3fkROw5bC8jxU9s6FP7qn5676kKhC0BCqSEvol9UX5tur_p4WO1evwSEfJWoCgmlkgnY0gmlwhKwS7cOKbXVsdGlhZGRyc5YACASsEu3DBsasAAoErBLtwwbGrd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDDyT_DvxtbMZIMU5B9bPCwzalFNo7ieX-Sm7mA8RwK9GDdGNwgsasg3VkcILGroV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50859/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.127/tcp/20033/p2p/16Uiu2HAm74gbFu5yNP8wAmb9TnM3RiP8JsStPdrAdavP4JMoAZye"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-25_04-11-32__368e1a4b-1f22-44e4-a2c6-099daac3f7ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.118.9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54151', '54152', '54153', '54154', '54155']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54151:54151 -p 54152:54152 -p 54153:54153 -p 54154:54154 -p 54155:54155 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54153 --rest-port=54151 --tcp-port=54152 --discv5-udp-port=54154 --rest-address=0.0.0.0 --nat=extip:172.18.118.9 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ca4d2d8585fe1e3d9f3ac23cf3e2afdba3eabfbdafdedeb0291cdbfe2cb6ca81 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54155 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGbyreRfnjhl3LA51IgA_HQH1v5QQlXk06yD3xVgtaecPA8eifqylZ1B5_aU2qRftu2WfyfY6Smu49iY3TRm2r8CgmlkgnY0gmlwhKwSf3-KbXVsdGlhZGRyc5YACASsEn9_Bk5BAAoErBJ_fwZOQt0DgnJzhQADAQAAiXNlY3AyNTZrMaECrOu8zIKjEkp9-gPgct_CdOLRbfZNMn4zsMCcnUBnW92DdGNwgk5Bg3VkcIJOQ4V3YWt1MgU --filternode=/ip4/172.18.127.127/tcp/20033/p2p/16Uiu2HAm74gbFu5yNP8wAmb9TnM3RiP8JsStPdrAdavP4JMoAZye
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.118.9 waku fd0eab3e91e0c18bacdb6dbb53c6a54e21af2390ebe6b13f67330aae97e1f707
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fd0eab3e91e0. Setting up logs at ./log/docker/node4_2024-11-25_04-11-32__368e1a4b-1f22-44e4-a2c6-099daac3f7ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 54151
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54151/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54151/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.118.9/tcp/54152/p2p/16Uiu2HAmVE7GWoiddbX5B4ecnjbybDBnc41RHwcNCe7E2cpp9BLT","/ip4/172.18.118.9/tcp/54153/ws/p2p/16Uiu2HAmVE7GWoiddbX5B4ecnjbybDBnc41RHwcNCe7E2cpp9BLT"],"enrUri":"enr:-L24QJvOFttvRlC8HwBODtOTvIuKcHsucuWg75HXQuHwVVKAGG0R12XzHDAg3CLc9omjlI_7GbXqb7SMPH2W3XuQ38kCgmlkgnY0gmlwhKwSdgmKbXVsdGlhZGRyc5YACASsEnYJBtOIAAoErBJ2CQbTid0DgnJzhQADAQAAiXNlY3AyNTZrMaED9jb6twCbSh585BAfJxpj7w3WzSVL1Ilbzaq3CwWMAaCDdGNwgtOIg3VkcILTioV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54151/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.127/tcp/20033/p2p/16Uiu2HAm74gbFu5yNP8wAmb9TnM3RiP8JsStPdrAdavP4JMoAZye"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-25_04-11-32__368e1a4b-1f22-44e4-a2c6-099daac3f7ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.115.227
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16085', '16086', '16087', '16088', '16089']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16085:16085 -p 16086:16086 -p 16087:16087 -p 16088:16088 -p 16089:16089 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16087 --rest-port=16085 --tcp-port=16086 --discv5-udp-port=16088 --rest-address=0.0.0.0 --nat=extip:172.18.115.227 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bfa3ce04eceafeae89c1a2a2849a8dbddb1de623f84aadffd335ecba68dc8181 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16089 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGbyreRfnjhl3LA51IgA_HQH1v5QQlXk06yD3xVgtaecPA8eifqylZ1B5_aU2qRftu2WfyfY6Smu49iY3TRm2r8CgmlkgnY0gmlwhKwSf3-KbXVsdGlhZGRyc5YACASsEn9_Bk5BAAoErBJ_fwZOQt0DgnJzhQADAQAAiXNlY3AyNTZrMaECrOu8zIKjEkp9-gPgct_CdOLRbfZNMn4zsMCcnUBnW92DdGNwgk5Bg3VkcIJOQ4V3YWt1MgU --filternode=/ip4/172.18.127.127/tcp/20033/p2p/16Uiu2HAm74gbFu5yNP8wAmb9TnM3RiP8JsStPdrAdavP4JMoAZye
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.115.227 waku 14af0d51da2187370c8f255f285ca41a1903953b10af388305c1b10018ecf813
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 14af0d51da21. Setting up logs at ./log/docker/node5_2024-11-25_04-11-32__368e1a4b-1f22-44e4-a2c6-099daac3f7ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 16085
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16085/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16085/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.115.227/tcp/16086/p2p/16Uiu2HAmTMkMWLjNpqtqKtBtt6sQbq9YTekDQF8Jrfk3VxaWrfvW","/ip4/172.18.115.227/tcp/16087/ws/p2p/16Uiu2HAmTMkMWLjNpqtqKtBtt6sQbq9YTekDQF8Jrfk3VxaWrfvW"],"enrUri":"enr:-L24QOmsy7L5KSh_HB6Da2zSl2qKopdgvNw_rpp9lFtaPX-HQiec_kJvI4sawKWZ3TusDgx5WxTaWQ1F8E4ZRQkN1LICgmlkgnY0gmlwhKwSc-OKbXVsdGlhZGRyc5YACASsEnPjBj7WAAoErBJz4wY-190DgnJzhQADAQAAiXNlY3AyNTZrMaED2nSawaK1tssD1l5LlfJt9D9D_zoUWRSOoBy5-7PLc0-DdGNwgj7Wg3VkcII-2IV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16085/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.127/tcp/20033/p2p/16Uiu2HAm74gbFu5yNP8wAmb9TnM3RiP8JsStPdrAdavP4JMoAZye"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20032/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15214/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1d1bb479-ea01-4fa2-bc07-9861177f66a0", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1d1bb479-ea01-4fa2-bc07-9861177f66a0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50859/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0a51fe5f-da5b-42d4-8711-9894f3c58bd4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0a51fe5f-da5b-42d4-8711-9894f3c58bd4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54151/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "59e5858f-74c4-44b0-b4fd-0ea12b2465f6", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"59e5858f-74c4-44b0-b4fd-0ea12b2465f6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16085/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "94766727-bef6-4376-8b5a-cd3ae8e53e83", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"94766727-bef6-4376-8b5a-cd3ae8e53e83","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20032/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15214/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1732507901258839040,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20032/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50859/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:50859/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 012ee964380b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 848613a91db3
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 012ee964380b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c4f0e0dc5b6e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 848613a91db3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id fd0eab3e91e0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c4f0e0dc5b6e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 14af0d51da21
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fd0eab3e91e0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.