[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_zero_start_end_time with id: 2024-11-25_04-40-18__e82783d9-ac17-4976-a641-c94b2c2e57cc
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-25_04-40-18__e82783d9-ac17-4976-a641-c94b2c2e57cc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.96.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10729', '10730', '10731', '10732', '10733']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10729:10729 -p 10730:10730 -p 10731:10731 -p 10732:10732 -p 10733:10733 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10731 --rest-port=10729 --tcp-port=10730 --discv5-udp-port=10732 --rest-address=0.0.0.0 --nat=extip:172.18.96.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ce659ffc51ff5f2cceecbb39750a1a574ee6f7c25bb042315ae8a1e6eaaa9cee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10733 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.96.56 waku b666937a2be88bd6a56703012d495b3e47c6ca614c5929c63c204ec1aef3e29b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b666937a2be8. Setting up logs at ./log/docker/publishing_node1_2024-11-25_04-40-18__e82783d9-ac17-4976-a641-c94b2c2e57cc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 10729
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4319784ad4f5. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10729/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10729/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.56/tcp/10730/p2p/16Uiu2HAmHaquv1kKHTCTi78E7EQtVvdHAgQrf2ASzGP7oegew6iQ","/ip4/172.18.96.56/tcp/10731/ws/p2p/16Uiu2HAmHaquv1kKHTCTi78E7EQtVvdHAgQrf2ASzGP7oegew6iQ"],"enrUri":"enr:-L24QI9C6WaGs1Cl1Idt6sm_rtJYj99qFSz9jRJR4Qfm4V-0PfWqru5rhCFSwYFdMxWx4kW9t6I4uWsKx-bKHMEF14oCgmlkgnY0gmlwhKwSYDiKbXVsdGlhZGRyc5YACASsEmA4BinqAAoErBJgOAYp690DgnJzhQADAQAAiXNlY3AyNTZrMaEDSTqSMn2lHg0f-Es53ny3I-xeNnS9SOV--WedmB3hnnWDdGNwginqg3VkcIIp7IV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-25_04-40-18__e82783d9-ac17-4976-a641-c94b2c2e57cc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.46.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20266', '20267', '20268', '20269', '20270']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20266:20266 -p 20267:20267 -p 20268:20268 -p 20269:20269 -p 20270:20270 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20268 --rest-port=20266 --tcp-port=20267 --discv5-udp-port=20269 --rest-address=0.0.0.0 --nat=extip:172.18.46.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0f1462ea94fcd02ee73bda62e00ee814225e5f2ecf61cb64aefce242bba0ce3a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20270 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QI9C6WaGs1Cl1Idt6sm_rtJYj99qFSz9jRJR4Qfm4V-0PfWqru5rhCFSwYFdMxWx4kW9t6I4uWsKx-bKHMEF14oCgmlkgnY0gmlwhKwSYDiKbXVsdGlhZGRyc5YACASsEmA4BinqAAoErBJgOAYp690DgnJzhQADAQAAiXNlY3AyNTZrMaEDSTqSMn2lHg0f-Es53ny3I-xeNnS9SOV--WedmB3hnnWDdGNwginqg3VkcIIp7IV3YWt1MgM --storenode=/ip4/172.18.96.56/tcp/10730/p2p/16Uiu2HAmHaquv1kKHTCTi78E7EQtVvdHAgQrf2ASzGP7oegew6iQ --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.46.211 waku 7e93b67d7c7c0f898c3dd7c8834f15986a8f1ae2250be300ffb134107a61a27a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7e93b67d7c7c. Setting up logs at ./log/docker/store_node1_2024-11-25_04-40-18__e82783d9-ac17-4976-a641-c94b2c2e57cc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 20266
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20266/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20266/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.211/tcp/20267/p2p/16Uiu2HAm9peYgzs5XLyfQUkSSXYZ2ALttbTbMF6VuBdUNYxvhRzm","/ip4/172.18.46.211/tcp/20268/ws/p2p/16Uiu2HAm9peYgzs5XLyfQUkSSXYZ2ALttbTbMF6VuBdUNYxvhRzm"],"enrUri":"enr:-L24QF0lfd1U4rCXOV3S_bXIdsVNIekXPKOXuyKrIIW7NC_ccsqCNo92-_E2YQnXxrfgIFG3_4RldzHFcEOWtsyXyoMCgmlkgnY0gmlwhKwSLtOKbXVsdGlhZGRyc5YACASsEi7TBk8rAAoErBIu0wZPLN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1eZbAYi_8wAUl24Wk60duoTGalICJg1eh-87_z_zYaaDdGNwgk8rg3VkcIJPLYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20266/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.56/tcp/10730/p2p/16Uiu2HAmHaquv1kKHTCTi78E7EQtVvdHAgQrf2ASzGP7oegew6iQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10729/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20266/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10729/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:161 inquering stored messages with start time 0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10729/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"xUxcYy31GrDTVGeuJfa1k8zWqe2R0p8KcH84veqqK58=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509627644416000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"Qi0sbiPNDcrXgiuywFGJNkYHPSzZQuXVvjzTveLYUBo=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509629644424960,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"Rn80kmwb+ikzWgBWzPzpOCH1h3AxQUuX0xwxkBwbyMM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509630544428032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"7rXu9UQOpj+is0iiXlzhY9uWFFnzi1qd8FkN3Mj6P0o=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509630744431872,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"z97bbQdMAfFxgViYfoY1/Poj15A+cOY/RaUz4bwca/w=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509632644434944,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"5gsBZsVxWoo06TNGkfshhQQWzauv06+x24h+MgnjDic=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509640644438016,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:164 number of messages stored for  start time = 0 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20266/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"xUxcYy31GrDTVGeuJfa1k8zWqe2R0p8KcH84veqqK58=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509627644416000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"Qi0sbiPNDcrXgiuywFGJNkYHPSzZQuXVvjzTveLYUBo=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509629644424960,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"Rn80kmwb+ikzWgBWzPzpOCH1h3AxQUuX0xwxkBwbyMM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509630544428032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"7rXu9UQOpj+is0iiXlzhY9uWFFnzi1qd8FkN3Mj6P0o=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509630744431872,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"z97bbQdMAfFxgViYfoY1/Poj15A+cOY/RaUz4bwca/w=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509632644434944,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"5gsBZsVxWoo06TNGkfshhQQWzauv06+x24h+MgnjDic=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732509640644438016,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:164 number of messages stored for  start time = 0 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id b666937a2be8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 7e93b67d7c7c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b666937a2be8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.