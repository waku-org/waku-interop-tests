[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-07-19_04-12-50__c4ff3bfb-e796-4786-8862-1bf29b9cf0d3
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node1_2024-07-19_04-12-50__c4ff3bfb-e796-4786-8862-1bf29b9cf0d3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.137.1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['38575', '38576', '38577', '38578', '38579']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 38575:38575 -p 38576:38576 -p 38577:38577 -p 38578:38578 -p 38579:38579 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38577 --rest-port=38575 --tcp-port=38576 --discv5-udp-port=38578 --rest-address=0.0.0.0 --nat=extip:172.18.137.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38579 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.137.1 waku 958f8f14bfe174b089c0511f86950a5ffce6874ce8548e1a45dbeac8d718ff8f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 958f8f14bfe1. Setting up logs at ./log/docker/node1_2024-07-19_04-12-50__c4ff3bfb-e796-4786-8862-1bf29b9cf0d3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 38575
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38575/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38575/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.1/tcp/38576/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.137.1/tcp/38577/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QJooVdw08paoV9EKT-mT8p63OR9ZJZIGSnCRR0kocgXBGmdmehs5xJTxwzyUmxTtWYnMuWrFw1KKdT0SeV9NLkEBgmlkgnY0gmlwhKwSiQGKbXVsdGlhZGRyc4wACgSsEokBBpax3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClrCDdWRwgpayhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node2_2024-07-19_04-12-50__c4ff3bfb-e796-4786-8862-1bf29b9cf0d3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.166.88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['60143', '60144', '60145', '60146', '60147']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 60143:60143 -p 60144:60144 -p 60145:60145 -p 60146:60146 -p 60147:60147 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60145 --rest-port=60143 --tcp-port=60144 --discv5-udp-port=60146 --rest-address=0.0.0.0 --nat=extip:172.18.166.88 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60147 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJooVdw08paoV9EKT-mT8p63OR9ZJZIGSnCRR0kocgXBGmdmehs5xJTxwzyUmxTtWYnMuWrFw1KKdT0SeV9NLkEBgmlkgnY0gmlwhKwSiQGKbXVsdGlhZGRyc4wACgSsEokBBpax3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClrCDdWRwgpayhXdha3UyBQ --filternode=/ip4/172.18.137.1/tcp/38576/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.166.88 waku c510f7d04a648933ad6bf3471b7557d2bdee6192405d703b1803f5aefec5147a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c510f7d04a64. Setting up logs at ./log/docker/node2_2024-07-19_04-12-50__c4ff3bfb-e796-4786-8862-1bf29b9cf0d3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 60143
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60143/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60143/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.166.88/tcp/60144/p2p/16Uiu2HAmLe7ExkBpnSoYVywSKjfYSig3Yt7QLjs3iNhhmXeTyiWw","/ip4/172.18.166.88/tcp/60145/ws/p2p/16Uiu2HAmLe7ExkBpnSoYVywSKjfYSig3Yt7QLjs3iNhhmXeTyiWw"],"enrUri":"enr:-LO4QBKQNdv6i6nP476QLy0RzyhIAaJtZQv_A4IBgTXjZ4J8T3F1hTaojTelFjopwQhqFTEyNrA_zr7EoW6iexdCC6QBgmlkgnY0gmlwhKwSpliKbXVsdGlhZGRyc4wACgSsEqZYBurx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN2o7THMCi-LFxeyCfted14ew0AwxF1_ZB9StA-DplrjIN0Y3CC6vCDdWRwguryhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60143/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.1/tcp/38576/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node3_2024-07-19_04-12-50__c4ff3bfb-e796-4786-8862-1bf29b9cf0d3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.78.39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['64270', '64271', '64272', '64273', '64274']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 64270:64270 -p 64271:64271 -p 64272:64272 -p 64273:64273 -p 64274:64274 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64272 --rest-port=64270 --tcp-port=64271 --discv5-udp-port=64273 --rest-address=0.0.0.0 --nat=extip:172.18.78.39 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64274 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJooVdw08paoV9EKT-mT8p63OR9ZJZIGSnCRR0kocgXBGmdmehs5xJTxwzyUmxTtWYnMuWrFw1KKdT0SeV9NLkEBgmlkgnY0gmlwhKwSiQGKbXVsdGlhZGRyc4wACgSsEokBBpax3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClrCDdWRwgpayhXdha3UyBQ --filternode=/ip4/172.18.137.1/tcp/38576/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.78.39 waku 85dc6607c37ca7930923f721f27aada15828d92f8fcc2b5f1ed8849b268a9767
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 85dc6607c37c. Setting up logs at ./log/docker/node3_2024-07-19_04-12-50__c4ff3bfb-e796-4786-8862-1bf29b9cf0d3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 64270
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64270/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64270/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.39/tcp/64271/p2p/16Uiu2HAmFkEywF1tSa4jy7js3423okX8UfiCXQjnq4BMwBi8VNCr","/ip4/172.18.78.39/tcp/64272/ws/p2p/16Uiu2HAmFkEywF1tSa4jy7js3423okX8UfiCXQjnq4BMwBi8VNCr"],"enrUri":"enr:-LO4QLVB2fWb-tACw6h1X8I1paXYl-OKQsun_rjSnS89hojAPByTrqgXIhotdCvvycQcXzrds_9hQQCbmkMiMj4Vm8gBgmlkgnY0gmlwhKwSTieKbXVsdGlhZGRyc4wACgSsEk4nBvsQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMt64JTjOp5EjCtK_oukEDoNoJ3_Z8bHNQBaMQqKvvOk4N0Y3CC-w-DdWRwgvsRhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64270/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.1/tcp/38576/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node4_2024-07-19_04-12-50__c4ff3bfb-e796-4786-8862-1bf29b9cf0d3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.80.140
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['22204', '22205', '22206', '22207', '22208']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 22204:22204 -p 22205:22205 -p 22206:22206 -p 22207:22207 -p 22208:22208 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22206 --rest-port=22204 --tcp-port=22205 --discv5-udp-port=22207 --rest-address=0.0.0.0 --nat=extip:172.18.80.140 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22208 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJooVdw08paoV9EKT-mT8p63OR9ZJZIGSnCRR0kocgXBGmdmehs5xJTxwzyUmxTtWYnMuWrFw1KKdT0SeV9NLkEBgmlkgnY0gmlwhKwSiQGKbXVsdGlhZGRyc4wACgSsEokBBpax3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClrCDdWRwgpayhXdha3UyBQ --filternode=/ip4/172.18.137.1/tcp/38576/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.80.140 waku 8803cdd5d48646cc74cd170b6e05c8e730fb081438d65112c356994b1a7bee12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8803cdd5d486. Setting up logs at ./log/docker/node4_2024-07-19_04-12-50__c4ff3bfb-e796-4786-8862-1bf29b9cf0d3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 22204
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22204/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22204/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.140/tcp/22205/p2p/16Uiu2HAkuei6too6UGu8bfrksJbdXAvhw8W7qJZX3jhaN7NDhHhW","/ip4/172.18.80.140/tcp/22206/ws/p2p/16Uiu2HAkuei6too6UGu8bfrksJbdXAvhw8W7qJZX3jhaN7NDhHhW"],"enrUri":"enr:-LO4QHdGvCQzgfzymhH76BFbe2fc0lhbnK4p9Fb3az4LbMY8WsZnGfixMvizlZan0_K_lrPrPSDx5aY4zEqgG2OIhowBgmlkgnY0gmlwhKwSUIyKbXVsdGlhZGRyc4wACgSsElCMBla-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIDVvNKEynLGo76wGhibwMXXO6a-RbqIgkUom38ahF_jYN0Y3CCVr2DdWRwgla_hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22204/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.1/tcp/38576/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node5_2024-07-19_04-12-50__c4ff3bfb-e796-4786-8862-1bf29b9cf0d3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.34.18
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['46484', '46485', '46486', '46487', '46488']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 46484:46484 -p 46485:46485 -p 46486:46486 -p 46487:46487 -p 46488:46488 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46486 --rest-port=46484 --tcp-port=46485 --discv5-udp-port=46487 --rest-address=0.0.0.0 --nat=extip:172.18.34.18 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46488 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJooVdw08paoV9EKT-mT8p63OR9ZJZIGSnCRR0kocgXBGmdmehs5xJTxwzyUmxTtWYnMuWrFw1KKdT0SeV9NLkEBgmlkgnY0gmlwhKwSiQGKbXVsdGlhZGRyc4wACgSsEokBBpax3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClrCDdWRwgpayhXdha3UyBQ --filternode=/ip4/172.18.137.1/tcp/38576/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.34.18 waku 938f016c197c9f1b560a63c7ee6272cc397ac67cc1f993b98c96f0a800e1fdab
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 938f016c197c. Setting up logs at ./log/docker/node5_2024-07-19_04-12-50__c4ff3bfb-e796-4786-8862-1bf29b9cf0d3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 46484
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46484/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46484/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.34.18/tcp/46485/p2p/16Uiu2HAmPpko9GgPBfCgAZVXwQkgwKwTko368pYcsabtufhsEuAJ","/ip4/172.18.34.18/tcp/46486/ws/p2p/16Uiu2HAmPpko9GgPBfCgAZVXwQkgwKwTko368pYcsabtufhsEuAJ"],"enrUri":"enr:-LO4QE7IRotviMH-Phb6Pse9S19bbMOXEwDERxsph9bej7W0X_CGz-kNpt2w6PSPsltGBaJc0zlCXbsAK8XOfpJecM0BgmlkgnY0gmlwhKwSIhKKbXVsdGlhZGRyc4wACgSsEiISBrWW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOl8QnXVGVDQU7jHzoV8e9AEnfvH2h65YBpZHMDpEHqE4N0Y3CCtZWDdWRwgrWXhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46484/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.1/tcp/38576/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38575/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60143/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5f99e74b-9a11-4f00-a7a2-2f55fe93d4df", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5f99e74b-9a11-4f00-a7a2-2f55fe93d4df","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64270/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e7369b7c-760d-4f41-aa60-e2f5e95bdbb4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e7369b7c-760d-4f41-aa60-e2f5e95bdbb4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22204/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8ddc863d-3c0a-4ee8-ba9a-9c6c3a5f1065", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8ddc863d-3c0a-4ee8-ba9a-9c6c3a5f1065","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46484/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "29bea8e5-939b-4108-9780-d68c6c7c8e6f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"29bea8e5-939b-4108-9780-d68c6c7c8e6f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38575/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60143/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1721362378520992000,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38575/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64270/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:64270/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 958f8f14bfe1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id c510f7d04a64
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 85dc6607c37c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 8803cdd5d486
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 938f016c197c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.