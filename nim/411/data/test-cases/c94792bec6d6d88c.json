{"uid":"c94792bec6d6d88c","name":"test_relay_get_message_while_one_peer_is_paused","fullName":"tests.relay.test_multiple_nodes.TestRelayMultipleNodes#test_relay_get_message_while_one_peer_is_paused","historyId":"2a9ae619c590d19d235fd282791eaae5","time":{"start":1730088815615,"stop":1730088815816,"duration":201},"status":"failed","statusMessage":"AssertionError: Both messages should've been returned\nassert 1 == 2\n +  where 1 = len([{'contentTopic': '/test/1/waku-relay/proto', 'ephemeral': False, 'payload': 'UmVsYXkgd29ya3MhIQ==', 'timestamp': 1730088815766459904, ...}])","statusTrace":"tests/relay/test_multiple_nodes.py:30: in test_relay_get_message_while_one_peer_is_paused\n    assert len(messages) == 2, \"Both messages should've been returned\"\nE   AssertionError: Both messages should've been returned\nE   assert 1 == 2\nE    +  where 1 = len([{'contentTopic': '/test/1/waku-relay/proto', 'ephemeral': False, 'payload': 'UmVsYXkgd29ya3MhIQ==', 'timestamp': 1730088815766459904, ...}])","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1730088144790,"stop":1730088144790,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1730088805338,"stop":1730088805339,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1730088805339,"stop":1730088805339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1730088805339,"stop":1730088805339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1730088805339,"stop":1730088805339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1730088805339,"stop":1730088805339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_nodes","time":{"start":1730088805340,"stop":1730088810165,"duration":4825},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1730088810162,"stop":1730088810165,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.relay.test_multiple_nodes.TestRelayMultipleNodes object at 0x7f56cbd82930>, <src.node.waku_node.WakuNode object at 0x7f56c91f0b30>, ['/ip4/172.18.249.89/tcp/4995/p2p/16Uiu2HAm1b5hg1x4bJ17z7mMaaFhYxNa82Xcnz2s87QQqyCgHp5B'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"common_setup","time":{"start":1730088805340,"stop":1730088805340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1730088805340,"stop":1730088805340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_optional_relay_nodes","time":{"start":1730088810165,"stop":1730088815431,"duration":5266},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1730088811958,"stop":1730088811962,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.relay.test_multiple_nodes.TestRelayMultipleNodes object at 0x7f56cbd82930>, <src.node.waku_node.WakuNode object at 0x7f56cb4acb60>, ['/ip4/172.18.249.89/tcp/4995/p2p/16Uiu2HAm1b5hg1x4bJ17z7mMaaFhYxNa82Xcnz2s87QQqyCgHp5B'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_node_peer","time":{"start":1730088813609,"stop":1730088813612,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.relay.test_multiple_nodes.TestRelayMultipleNodes object at 0x7f56cbd82930>, <src.node.waku_node.WakuNode object at 0x7f56c90efef0>, ['/ip4/172.18.249.89/tcp/4995/p2p/16Uiu2HAm1b5hg1x4bJ17z7mMaaFhYxNa82Xcnz2s87QQqyCgHp5B'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_node_peer","time":{"start":1730088815428,"stop":1730088815431,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.relay.test_multiple_nodes.TestRelayMultipleNodes object at 0x7f56cbd82930>, <src.node.waku_node.WakuNode object at 0x7f56cb480ef0>, ['/ip4/172.18.249.89/tcp/4995/p2p/16Uiu2HAm1b5hg1x4bJ17z7mMaaFhYxNa82Xcnz2s87QQqyCgHp5B'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_relay_nodes","time":{"start":1730088815431,"stop":1730088815445,"duration":14},"status":"passed","steps":[{"name":"ensure_relay_subscriptions_on_nodes","time":{"start":1730088815431,"stop":1730088815445,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node_list","value":"[<src.node.waku_node.WakuNode object at 0x7f56cb4ae3c0>, <src.node.waku_node.WakuNode object at 0x7f56c91f0b30>]"},{"name":"pubsub_topic_list","value":"['/waku/2/rs/3/1']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_optional_relay_nodes","time":{"start":1730088815445,"stop":1730088815470,"duration":25},"status":"passed","steps":[{"name":"ensure_relay_subscriptions_on_nodes","time":{"start":1730088815446,"stop":1730088815470,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node_list","value":"[<src.node.waku_node.WakuNode object at 0x7f56cb4acb60>, <src.node.waku_node.WakuNode object at 0x7f56c90efef0>, <src.node.waku_node.WakuNode object at 0x7f56cb480ef0>]"},{"name":"pubsub_topic_list","value":"['/waku/2/rs/3/1']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_warm_up","time":{"start":1730088815470,"stop":1730088815615,"duration":145},"status":"passed","steps":[{"name":"wait_for_published_message_to_reach_relay_peer","time":{"start":1730088815470,"stop":1730088815614,"duration":144},"status":"passed","steps":[{"name":"check_published_message_reaches_relay_peer","time":{"start":1730088815471,"stop":1730088815614,"duration":143},"status":"passed","steps":[{"name":"assert_received_message","time":{"start":1730088815589,"stop":1730088815590,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1730088815470377472}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1730088815595,"stop":1730088815595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1730088815470377472}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1730088815600,"stop":1730088815600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1730088815470377472}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1730088815607,"stop":1730088815607,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1730088815470377472}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1730088815614,"stop":1730088815614,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1730088815470377472}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1730088815470377472}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"timeout_duration","value":"120"},{"name":"time_between_retries","value":"1"},{"name":"pubsub_topic","value":"None"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Both messages should've been returned\nassert 1 == 2\n +  where 1 = len([{'contentTopic': '/test/1/waku-relay/proto', 'ephemeral': False, 'payload': 'UmVsYXkgd29ya3MhIQ==', 'timestamp': 1730088815766459904, ...}])","statusTrace":"tests/relay/test_multiple_nodes.py:30: in test_relay_get_message_while_one_peer_is_paused\n    assert len(messages) == 2, \"Both messages should've been returned\"\nE   AssertionError: Both messages should've been returned\nE   assert 1 == 2\nE    +  where 1 = len([{'contentTopic': '/test/1/waku-relay/proto', 'ephemeral': False, 'payload': 'UmVsYXkgd29ya3MhIQ==', 'timestamp': 1730088815766459904, ...}])","steps":[{"name":"check_published_message_reaches_relay_peer","time":{"start":1730088815615,"stop":1730088815766,"duration":151},"status":"passed","steps":[{"name":"create_message","time":{"start":1730088815616,"stop":1730088815616,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1730088815737,"stop":1730088815737,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1730088815615580160}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1730088815743,"stop":1730088815743,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1730088815615580160}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1730088815755,"stop":1730088815755,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1730088815615580160}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1730088815761,"stop":1730088815761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1730088815615580160}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1730088815766,"stop":1730088815766,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1730088815615580160}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1730088815766,"stop":1730088815766,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'/test/1/waku-relay/proto'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1730088815767,"stop":1730088815767,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'/test/1/waku-relay/proto'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5fba25c9f75c252f","name":"log","source":"5fba25c9f75c252f.txt","type":"text/plain","size":36654}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":9,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1730088815888,"stop":1730088815898,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1730088815898,"stop":1730088828803,"duration":12905},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1730088828803,"stop":1730088828929,"duration":126},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1730088828930,"stop":1730088828942,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"c9f3be40ce88c42","name":"node4_2024-10-28_04-13-25__32311bb3-341d-4513-8078-e035e0f7f48c__wakuorg_nwaku:latest.log","source":"c9f3be40ce88c42.txt","type":"text/plain","size":311174},{"uid":"5711880584be3a31","name":"node2_2024-10-28_04-13-25__32311bb3-341d-4513-8078-e035e0f7f48c__wakuorg_nwaku:latest.log","source":"5711880584be3a31.txt","type":"text/plain","size":151458},{"uid":"df3b5063e0c92b8c","name":"node3_2024-10-28_04-13-25__32311bb3-341d-4513-8078-e035e0f7f48c__wakuorg_nwaku:latest.log","source":"df3b5063e0c92b8c.txt","type":"text/plain","size":152730},{"uid":"fbb14fc5cec91ee4","name":"node5_2024-10-28_04-13-25__32311bb3-341d-4513-8078-e035e0f7f48c__wakuorg_nwaku:latest.log","source":"fbb14fc5cec91ee4.txt","type":"text/plain","size":322464},{"uid":"993debd67a93c5bb","name":"node1_2024-10-28_04-13-25__32311bb3-341d-4513-8078-e035e0f7f48c__wakuorg_nwaku:latest.log","source":"993debd67a93c5bb.txt","type":"text/plain","size":866256}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1730090252603,"stop":1730090252603,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_nodes', 'setup_optional_relay_nodes', 'subscribe_main_relay_nodes')"},{"name":"parentSuite","value":"tests.relay"},{"name":"suite","value":"test_multiple_nodes"},{"name":"subSuite","value":"TestRelayMultipleNodes"},{"name":"host","value":"fv-az1040-940"},{"name":"thread","value":"2092-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.relay.test_multiple_nodes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["@pytest.mark.usefixtures('setup_main_relay_nodes', 'setup_optional_relay_nodes', 'subscribe_main_relay_nodes')"]},"source":"c94792bec6d6d88c.json","parameterValues":[]}