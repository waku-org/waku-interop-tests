[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_on_non_subscribed_pubsub_topic with id: 2024-10-28_04-09-41__fcc64c8e-9873-42d7-9008-a5be88c9feac
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-28_04-09-41__fcc64c8e-9873-42d7-9008-a5be88c9feac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.102.141
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60163', '60164', '60165', '60166', '60167']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60163:60163 -p 60164:60164 -p 60165:60165 -p 60166:60166 -p 60167:60167 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60165 --rest-port=60163 --tcp-port=60164 --discv5-udp-port=60166 --rest-address=0.0.0.0 --nat=extip:172.18.102.141 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cf7dfcefc46a5e7c8db1c9af0bbffbd0ea1b1b7c4da3f4829bb795b4650ffdcf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60167 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.102.141 waku ab738c3337f529a8109db65f41f2216e3c9a30d9cc5d58aa618d329648545add
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ab738c3337f5. Setting up logs at ./log/docker/receiving_node1_2024-10-28_04-09-41__fcc64c8e-9873-42d7-9008-a5be88c9feac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60163
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d158a98e16d9. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60163/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60163/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.141/tcp/60164/p2p/16Uiu2HAkxTBgznrDLtzu2HJhGpYYnmf4xdeSNxcHLFtfkTavVTen","/ip4/172.18.102.141/tcp/60165/ws/p2p/16Uiu2HAkxTBgznrDLtzu2HJhGpYYnmf4xdeSNxcHLFtfkTavVTen"],"enrUri":"enr:-LO4QA8b7sdp4xPHdldcJMyn4Vta9bolUoBskeUz5sFolH7vLog5JtRStbx09en6loZJ2qD-sgFoPyZP8bl7mdrwyx8BgmlkgnY0gmlwhKwSZo2KbXVsdGlhZGRyc4wACgSsEmaNBusF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIs9jw5m0x-k6fj5RpIk4tRNlwL6zVBk4ZUhfdF9XdCh4N0Y3CC6wSDdWRwgusGhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-28_04-09-41__fcc64c8e-9873-42d7-9008-a5be88c9feac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.148.18
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42257', '42258', '42259', '42260', '42261']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42257:42257 -p 42258:42258 -p 42259:42259 -p 42260:42260 -p 42261:42261 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42259 --rest-port=42257 --tcp-port=42258 --discv5-udp-port=42260 --rest-address=0.0.0.0 --nat=extip:172.18.148.18 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8dafdc4eedebe2f384732ef7812c1eafa435dfb657606bf68fb36b8eff1ecc1f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42261 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.148.18 waku b09a21a557c3c99312c84a7c6d37f72ef7e2a262799b3a4d5ef53392d3c1a7cf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b09a21a557c3. Setting up logs at ./log/docker/receiving_node2_2024-10-28_04-09-41__fcc64c8e-9873-42d7-9008-a5be88c9feac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 42257
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42257/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42257/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.148.18/tcp/42258/p2p/16Uiu2HAkxYxgsD18Vb8cg8fJ91i4k4QhuiYCcZCELD8khBocAuNR","/ip4/172.18.148.18/tcp/42259/ws/p2p/16Uiu2HAkxYxgsD18Vb8cg8fJ91i4k4QhuiYCcZCELD8khBocAuNR"],"enrUri":"enr:-LO4QAimioBrtn-kJEZ5TzvWIlet37mqGWAVHl02XLzBTTlFKPgKhDWPNTtspwzcZnk6Uq_CnjduRCUQjBGvdUZsfaQBgmlkgnY0gmlwhKwSlBKKbXVsdGlhZGRyc4wACgSsEpQSBqUT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIucQS2sIIiHSbWMmjDR5xM8XGI-lLbDOInhPluskcjAoN0Y3CCpRKDdWRwgqUUhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42257/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.141/tcp/60164/p2p/16Uiu2HAkxTBgznrDLtzu2HJhGpYYnmf4xdeSNxcHLFtfkTavVTen"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-28_04-09-41__fcc64c8e-9873-42d7-9008-a5be88c9feac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.128.143
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8924', '8925', '8926', '8927', '8928']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8924:8924 -p 8925:8925 -p 8926:8926 -p 8927:8927 -p 8928:8928 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8926 --rest-port=8924 --tcp-port=8925 --discv5-udp-port=8927 --rest-address=0.0.0.0 --nat=extip:172.18.128.143 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0f7d3fd864a027dc1a091f071af40c9ea7d6a7186e5fefe464fccaecaab92f2a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8928 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QA8b7sdp4xPHdldcJMyn4Vta9bolUoBskeUz5sFolH7vLog5JtRStbx09en6loZJ2qD-sgFoPyZP8bl7mdrwyx8BgmlkgnY0gmlwhKwSZo2KbXVsdGlhZGRyc4wACgSsEmaNBusF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIs9jw5m0x-k6fj5RpIk4tRNlwL6zVBk4ZUhfdF9XdCh4N0Y3CC6wSDdWRwgusGhXdha3UyCQ --lightpushnode=/ip4/172.18.102.141/tcp/60164/p2p/16Uiu2HAkxTBgznrDLtzu2HJhGpYYnmf4xdeSNxcHLFtfkTavVTen --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.128.143 waku bfd081edc958df9d5f4bd2ced2b445edf9190ecd7319eb07d0ffad4e99c9ea05
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bfd081edc958. Setting up logs at ./log/docker/lightpush_node1_2024-10-28_04-09-41__fcc64c8e-9873-42d7-9008-a5be88c9feac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 8924
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8924/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8924/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.143/tcp/8925/p2p/16Uiu2HAm8H49pMHcUf21Mo8Gbd5GoiA3zJn6BdN4PyzF6qmJuiRP","/ip4/172.18.128.143/tcp/8926/ws/p2p/16Uiu2HAm8H49pMHcUf21Mo8Gbd5GoiA3zJn6BdN4PyzF6qmJuiRP"],"enrUri":"enr:-LO4QHNMVD19kMcF0Al7xydmbm61GA5BJZJYft1nCblw0jcBCneSYNU10DW61xkXshoawIaNxS4xnpnpXFFwJdJnKaYBgmlkgnY0gmlwhKwSgI-KbXVsdGlhZGRyc4wACgSsEoCPBiLe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK-8sYN9-zdG-ETDDr6lAnbEaGGbOEhSuFpZuygN52-eoN0Y3CCIt2DdWRwgiLfhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8924/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.141/tcp/60164/p2p/16Uiu2HAkxTBgznrDLtzu2HJhGpYYnmf4xdeSNxcHLFtfkTavVTen"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8924/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.148.18/tcp/42258/p2p/16Uiu2HAkxYxgsD18Vb8cg8fJ91i4k4QhuiYCcZCELD8khBocAuNR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60163/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42257/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8924/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1730088587236975104}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 503 Server Error: Service Unavailable for url: http://127.0.0.1:8924/lightpush/v1/message. Response content: b'Failed to request a message push: not_published_to_any_peer'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ab738c3337f5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b09a21a557c3
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ab738c3337f5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bfd081edc958
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b09a21a557c3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.