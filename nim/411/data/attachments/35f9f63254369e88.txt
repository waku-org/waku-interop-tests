[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-10-28_04-09-27__30f6fac7-42e5-419e-adc2-c332876ebbf0
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-28_04-09-27__30f6fac7-42e5-419e-adc2-c332876ebbf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.81.1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20015', '20016', '20017', '20018', '20019']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20015:20015 -p 20016:20016 -p 20017:20017 -p 20018:20018 -p 20019:20019 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20017 --rest-port=20015 --tcp-port=20016 --discv5-udp-port=20018 --rest-address=0.0.0.0 --nat=extip:172.18.81.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=07f9ead347fef9a6ecc2498aedca8b8eadfbad8beba5c6e7b9378bdc1162bf1d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20019 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.81.1 waku 18fa41d53e0394ea8aae93fefae313c914ac9f9fd58161af237a92bcec3f703e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dab768911100. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 18fa41d53e03. Setting up logs at ./log/docker/receiving_node1_2024-10-28_04-09-27__30f6fac7-42e5-419e-adc2-c332876ebbf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20015
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20015/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20015/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.1/tcp/20016/p2p/16Uiu2HAmLidg9ys9KR1ry74UwjAHQbTo5X6kNBcBShLRKQ122fVJ","/ip4/172.18.81.1/tcp/20017/ws/p2p/16Uiu2HAmLidg9ys9KR1ry74UwjAHQbTo5X6kNBcBShLRKQ122fVJ"],"enrUri":"enr:-LO4QCZ2gMT86BbayWAFZxcnL1Mn_5Bc9GeeZzcigAwHJ9mHaKsGKefpLcT4bYv5JY7kU-UP-fxIBNtbhljirZcU_cABgmlkgnY0gmlwhKwSUQGKbXVsdGlhZGRyc4wACgSsElEBBk4x3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN3zHEQeWr6LpzDGw9XN4mu8g9l_VHm9O7nshwlwZc7uYN0Y3CCTjCDdWRwgk4yhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-28_04-09-27__30f6fac7-42e5-419e-adc2-c332876ebbf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.111.54
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9168', '9169', '9170', '9171', '9172']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9168:9168 -p 9169:9169 -p 9170:9170 -p 9171:9171 -p 9172:9172 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9170 --rest-port=9168 --tcp-port=9169 --discv5-udp-port=9171 --rest-address=0.0.0.0 --nat=extip:172.18.111.54 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7b9e881be5b81a9fc93fdfc6f8dcb9ca2f2a1cd2dae8d5e5f52192febf390ab6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9172 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.111.54 waku 12cd071f652c64365aec355c1a3d8d91680d033d5097521deee285e7254a4d7d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 12cd071f652c. Setting up logs at ./log/docker/receiving_node2_2024-10-28_04-09-27__30f6fac7-42e5-419e-adc2-c332876ebbf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9168
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9168/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9168/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.54/tcp/9169/p2p/16Uiu2HAkwgt8g4zrg4ogCCtPizy29aMrdgTnHP9uGDi7VYmUaThP","/ip4/172.18.111.54/tcp/9170/ws/p2p/16Uiu2HAkwgt8g4zrg4ogCCtPizy29aMrdgTnHP9uGDi7VYmUaThP"],"enrUri":"enr:-LO4QIqydfHbi7ggTwKW7oN9uoVmwUKg63FTRFbxeNd-MnrgBaXs7yaKsI6MwhSK55eP4EERimk7jQJNLVIX9ELE0v8BgmlkgnY0gmlwhKwSbzaKbXVsdGlhZGRyc4wACgSsEm82BiPS3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIhnNPbQLkOwTleVBKSJ3e8wXcGYwsC4fG-DtRJj5115oN0Y3CCI9GDdWRwgiPThXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9168/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.81.1/tcp/20016/p2p/16Uiu2HAmLidg9ys9KR1ry74UwjAHQbTo5X6kNBcBShLRKQ122fVJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-28_04-09-27__30f6fac7-42e5-419e-adc2-c332876ebbf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.156.16
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33044', '33045', '33046', '33047', '33048']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33044:33044 -p 33045:33045 -p 33046:33046 -p 33047:33047 -p 33048:33048 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33046 --rest-port=33044 --tcp-port=33045 --discv5-udp-port=33047 --rest-address=0.0.0.0 --nat=extip:172.18.156.16 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcff7fd5b65cf5add3d54b36eef27aabadceafdf03f590f87c7ecc0ef33cc20c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33048 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QCZ2gMT86BbayWAFZxcnL1Mn_5Bc9GeeZzcigAwHJ9mHaKsGKefpLcT4bYv5JY7kU-UP-fxIBNtbhljirZcU_cABgmlkgnY0gmlwhKwSUQGKbXVsdGlhZGRyc4wACgSsElEBBk4x3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN3zHEQeWr6LpzDGw9XN4mu8g9l_VHm9O7nshwlwZc7uYN0Y3CCTjCDdWRwgk4yhXdha3UyCQ --lightpushnode=/ip4/172.18.81.1/tcp/20016/p2p/16Uiu2HAmLidg9ys9KR1ry74UwjAHQbTo5X6kNBcBShLRKQ122fVJ --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.156.16 waku d158a98e16d953237a9386e33aeefe88c4d22204224dd9a42c77570dc8656500
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d158a98e16d9. Setting up logs at ./log/docker/lightpush_node1_2024-10-28_04-09-27__30f6fac7-42e5-419e-adc2-c332876ebbf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33044
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33044/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33044/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.156.16/tcp/33045/p2p/16Uiu2HAm9gjJRmaePUk3dPGG7Fiku4YHJ47M1Zf3usdxcGxBH8Xn","/ip4/172.18.156.16/tcp/33046/ws/p2p/16Uiu2HAm9gjJRmaePUk3dPGG7Fiku4YHJ47M1Zf3usdxcGxBH8Xn"],"enrUri":"enr:-LO4QGcTnQ1ejef1nsIDCJtX9fdje_1EYzxQGIqLjWnzbn5-C4S1CwM9SMu_VtCmxNM8bU8UxTOOV2uqOnAdQlV0DqoBgmlkgnY0gmlwhKwSnBCKbXVsdGlhZGRyc4wACgSsEpwQBoEW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLT3xWhKR7d0O8WgeHIJDt4i8-NJRPo9ieiQIlteVahtYN0Y3CCgRWDdWRwgoEXhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33044/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.81.1/tcp/20016/p2p/16Uiu2HAmLidg9ys9KR1ry74UwjAHQbTo5X6kNBcBShLRKQ122fVJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33044/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.54/tcp/9169/p2p/16Uiu2HAkwgt8g4zrg4ogCCtPizy29aMrdgTnHP9uGDi7VYmUaThP"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20015/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9168/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33044/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1730088573045812736}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:33044/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 18fa41d53e03
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 12cd071f652c
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 18fa41d53e03. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d158a98e16d9
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 12cd071f652c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.