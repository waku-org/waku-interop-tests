[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-10-28_04-13-14__3cda9289-1b46-4ba8-a209-dd576644cfc3
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-28_04-13-14__3cda9289-1b46-4ba8-a209-dd576644cfc3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.50.64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28042', '28043', '28044', '28045', '28046']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28042:28042 -p 28043:28043 -p 28044:28044 -p 28045:28045 -p 28046:28046 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28044 --rest-port=28042 --tcp-port=28043 --discv5-udp-port=28045 --rest-address=0.0.0.0 --nat=extip:172.18.50.64 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1f83cd8cc58bf58d43cfdeaedf28adadea44f8e10fecec619dd02fcce4499e0a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28046 --metrics-logging=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e5e4a0f523f6. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.50.64 waku 72915b3eb4e39ca1c79b20eccfc86e36b244bb18127c0e9b71f13ae1d6d7222d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 72915b3eb4e3. Setting up logs at ./log/docker/node1_2024-10-28_04-13-14__3cda9289-1b46-4ba8-a209-dd576644cfc3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28042
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28042/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28042/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.64/tcp/28043/p2p/16Uiu2HAmALbTUCiEVLKCULqUpR1Me2LNcyuV5FsPmbPkqpD3jb8u","/ip4/172.18.50.64/tcp/28044/ws/p2p/16Uiu2HAmALbTUCiEVLKCULqUpR1Me2LNcyuV5FsPmbPkqpD3jb8u"],"enrUri":"enr:-LO4QLVOceb2k2jzy8qtMB8IZcBcY6DrVipN0GQSdSyqM-tPPbQjlgd4S1tqvwfxWquo2eYgFbVf_Sq2Lys_aKIA9nEBgmlkgnY0gmlwhKwSMkCKbXVsdGlhZGRyc4wACgSsEjJABm2M3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLdkkkvUVkLKdrFpiJl41CdrFGndgpVvejiTqBj58P1goN0Y3CCbYuDdWRwgm2NhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-28_04-13-14__3cda9289-1b46-4ba8-a209-dd576644cfc3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.127.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42977', '42978', '42979', '42980', '42981']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42977:42977 -p 42978:42978 -p 42979:42979 -p 42980:42980 -p 42981:42981 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42979 --rest-port=42977 --tcp-port=42978 --discv5-udp-port=42980 --rest-address=0.0.0.0 --nat=extip:172.18.127.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fffdc0e06509a9a45205477ba756880f9d7dcfc9bb956db405aed0da15a6ae18 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42981 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QLVOceb2k2jzy8qtMB8IZcBcY6DrVipN0GQSdSyqM-tPPbQjlgd4S1tqvwfxWquo2eYgFbVf_Sq2Lys_aKIA9nEBgmlkgnY0gmlwhKwSMkCKbXVsdGlhZGRyc4wACgSsEjJABm2M3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLdkkkvUVkLKdrFpiJl41CdrFGndgpVvejiTqBj58P1goN0Y3CCbYuDdWRwgm2NhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.127.41 waku e861f265ee048560857a6107124442c30a178b63633f874419aa8169ae28021d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e861f265ee04. Setting up logs at ./log/docker/node2_2024-10-28_04-13-14__3cda9289-1b46-4ba8-a209-dd576644cfc3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 42977
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42977/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42977/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.41/tcp/42978/p2p/16Uiu2HAm852magz4HrsPkeLCCv6kxkURiz8Hv8F112pVbYftMq7S","/ip4/172.18.127.41/tcp/42979/ws/p2p/16Uiu2HAm852magz4HrsPkeLCCv6kxkURiz8Hv8F112pVbYftMq7S"],"enrUri":"enr:-LO4QC1EAnKB5RxlRBd5dhBHdXSRlY8fXjdzPJO5BzQrGEWUVKUuwh4Eq-RlopP0pIepTwGOA5Nuzo8FKCORbP4Mz6EBgmlkgnY0gmlwhKwSfymKbXVsdGlhZGRyc4wACgSsEn8pBqfj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK73j1g2VdAbhVddzwJeahWD7FGPnaceoDd0SGQHFxgBYN0Y3CCp-KDdWRwgqfkhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42977/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.50.64/tcp/28043/p2p/16Uiu2HAmALbTUCiEVLKCULqUpR1Me2LNcyuV5FsPmbPkqpD3jb8u"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-28_04-13-14__3cda9289-1b46-4ba8-a209-dd576644cfc3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.171.145
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29740', '29741', '29742', '29743', '29744']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29740:29740 -p 29741:29741 -p 29742:29742 -p 29743:29743 -p 29744:29744 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29742 --rest-port=29740 --tcp-port=29741 --discv5-udp-port=29743 --rest-address=0.0.0.0 --nat=extip:172.18.171.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b005dc38b3bdaab8c3aeaac35297c7d7f9c65e6e9dbdbae4de3ada6b548a9cc4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29744 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QLVOceb2k2jzy8qtMB8IZcBcY6DrVipN0GQSdSyqM-tPPbQjlgd4S1tqvwfxWquo2eYgFbVf_Sq2Lys_aKIA9nEBgmlkgnY0gmlwhKwSMkCKbXVsdGlhZGRyc4wACgSsEjJABm2M3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLdkkkvUVkLKdrFpiJl41CdrFGndgpVvejiTqBj58P1goN0Y3CCbYuDdWRwgm2NhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.171.145 waku 7e00c8e701dc11d5d2c23059017e7a3372d72924ac4e748cf6a5edded0da0bd7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7e00c8e701dc. Setting up logs at ./log/docker/node3_2024-10-28_04-13-14__3cda9289-1b46-4ba8-a209-dd576644cfc3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 29740
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29740/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29740/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.145/tcp/29741/p2p/16Uiu2HAm4Z3FdSB3Q8kw7Qx1fUhXXueoZr5nn5QLkTmZW7Ka4Tw1","/ip4/172.18.171.145/tcp/29742/ws/p2p/16Uiu2HAm4Z3FdSB3Q8kw7Qx1fUhXXueoZr5nn5QLkTmZW7Ka4Tw1"],"enrUri":"enr:-LO4QCvvu5gbBu6WLoKb1EoA2A1EMEICGhwwxgwdsardMeFoOBDkLNdne3RSDQUWBqu0QZVJkiIdbYNsy31-uQl6MqMBgmlkgnY0gmlwhKwSq5GKbXVsdGlhZGRyc4wACgSsEquRBnQu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKHnE0uQ4bFjvs8hs2-mASVPn0LTW5ad0CY6hpR9agirIN0Y3CCdC2DdWRwgnQvhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29740/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.50.64/tcp/28043/p2p/16Uiu2HAmALbTUCiEVLKCULqUpR1Me2LNcyuV5FsPmbPkqpD3jb8u"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-28_04-13-14__3cda9289-1b46-4ba8-a209-dd576644cfc3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.21.79
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35441', '35442', '35443', '35444', '35445']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35441:35441 -p 35442:35442 -p 35443:35443 -p 35444:35444 -p 35445:35445 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35443 --rest-port=35441 --tcp-port=35442 --discv5-udp-port=35444 --rest-address=0.0.0.0 --nat=extip:172.18.21.79 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=975a4e666b0946edc840cf2b9aab4ef7d7f725ec6b3ccb0c2316cef1afc8e48d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35445 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QLVOceb2k2jzy8qtMB8IZcBcY6DrVipN0GQSdSyqM-tPPbQjlgd4S1tqvwfxWquo2eYgFbVf_Sq2Lys_aKIA9nEBgmlkgnY0gmlwhKwSMkCKbXVsdGlhZGRyc4wACgSsEjJABm2M3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLdkkkvUVkLKdrFpiJl41CdrFGndgpVvejiTqBj58P1goN0Y3CCbYuDdWRwgm2NhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.21.79 waku e7a3e1a94f67256ebbeec775ee2ab082ace6e7a2d502b789d0de8fb76c5ce8b0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e7a3e1a94f67. Setting up logs at ./log/docker/node4_2024-10-28_04-13-14__3cda9289-1b46-4ba8-a209-dd576644cfc3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35441
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35441/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35441/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.79/tcp/35442/p2p/16Uiu2HAkx4uwDFicu15kbjZKeKy9p8f5QRjMaJFiQJ4n9dXTW2DA","/ip4/172.18.21.79/tcp/35443/ws/p2p/16Uiu2HAkx4uwDFicu15kbjZKeKy9p8f5QRjMaJFiQJ4n9dXTW2DA"],"enrUri":"enr:-LO4QFPb51mJF0Rw-Th3H4h2nAXVFoFsB7P7pW3bE8TUth0yJa1aTlvfeIcPK0hsO7JJmEhZYEqIwDTikLlzYfsBJDUBgmlkgnY0gmlwhKwSFU-KbXVsdGlhZGRyc4wACgSsEhVPBopz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQInQaSwPoLuNedwOmELXA111uFnu7m9i43vugG6MBI-zYN0Y3CCinKDdWRwgop0hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35441/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.50.64/tcp/28043/p2p/16Uiu2HAmALbTUCiEVLKCULqUpR1Me2LNcyuV5FsPmbPkqpD3jb8u"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-28_04-13-14__3cda9289-1b46-4ba8-a209-dd576644cfc3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.223.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61180', '61181', '61182', '61183', '61184']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61180:61180 -p 61181:61181 -p 61182:61182 -p 61183:61183 -p 61184:61184 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61182 --rest-port=61180 --tcp-port=61181 --discv5-udp-port=61183 --rest-address=0.0.0.0 --nat=extip:172.18.223.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3dbdef38bfc3e2ff8db6ecf2eb5ff3c3a4f7b4a4e9b7f18c54c20ab5dbd4633c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61184 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QLVOceb2k2jzy8qtMB8IZcBcY6DrVipN0GQSdSyqM-tPPbQjlgd4S1tqvwfxWquo2eYgFbVf_Sq2Lys_aKIA9nEBgmlkgnY0gmlwhKwSMkCKbXVsdGlhZGRyc4wACgSsEjJABm2M3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLdkkkvUVkLKdrFpiJl41CdrFGndgpVvejiTqBj58P1goN0Y3CCbYuDdWRwgm2NhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.223.117 waku a065252edb0e6fb7e6615dc4be2a35b12e4f56191c634e7e806b0ec61f496c0e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a065252edb0e. Setting up logs at ./log/docker/node5_2024-10-28_04-13-14__3cda9289-1b46-4ba8-a209-dd576644cfc3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61180
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61180/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61180/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.223.117/tcp/61181/p2p/16Uiu2HAmJcd16Tw4Z4yR9T6JV6PtDFwsa5By4NqQGp2n9275fgn6","/ip4/172.18.223.117/tcp/61182/ws/p2p/16Uiu2HAmJcd16Tw4Z4yR9T6JV6PtDFwsa5By4NqQGp2n9275fgn6"],"enrUri":"enr:-LO4QIIdWYRSaLIFudBNhfb1tfV4bFPdNcfgCIOizJ-sRg7qI9NLl-zkapbI2TfBMBl5ShlriwOPyFdyKi9T8DQBR9ABgmlkgnY0gmlwhKwS33WKbXVsdGlhZGRyc4wACgSsEt91Bu7-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNYitJLuUsBpHklGpzS-bnLZuFAaN9FASOK_b1wbl0H44N0Y3CC7v2DdWRwgu7_hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61180/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.50.64/tcp/28043/p2p/16Uiu2HAmALbTUCiEVLKCULqUpR1Me2LNcyuV5FsPmbPkqpD3jb8u"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28042/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42977/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29740/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35441/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61180/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28042/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28042/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730088803876644352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42977/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730088803876644352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29740/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730088803876644352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35441/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730088803876644352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61180/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730088803876644352,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61180/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28042/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730088804007160320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42977/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730088804007160320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29740/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730088804007160320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35441/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730088804007160320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61180/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730088804007160320,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 72915b3eb4e3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e861f265ee04
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 72915b3eb4e3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7e00c8e701dc
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e861f265ee04. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e7a3e1a94f67
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7e00c8e701dc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a065252edb0e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e7a3e1a94f67. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.