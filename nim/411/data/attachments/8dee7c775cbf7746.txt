[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_with_empty_hashes with id: 2024-10-28_04-26-13__4431c714-6f5c-469b-a9cb-212bc5faf38d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-28_04-26-13__4431c714-6f5c-469b-a9cb-212bc5faf38d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.245.233
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7620', '7621', '7622', '7623', '7624']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7620:7620 -p 7621:7621 -p 7622:7622 -p 7623:7623 -p 7624:7624 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7622 --rest-port=7620 --tcp-port=7621 --discv5-udp-port=7623 --rest-address=0.0.0.0 --nat=extip:172.18.245.233 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=784c1319fa843036b6fa32e1cbcb0bb0cf6a26fddbf18562ccaee0fdae5d5aed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7624 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.245.233 waku a5103c6477c07cb48f4fbc839173496f3b22d55bf1b692da496f4f195db0e4a5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a5103c6477c0. Setting up logs at ./log/docker/publishing_node1_2024-10-28_04-26-13__4431c714-6f5c-469b-a9cb-212bc5faf38d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7620
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e08d9b45d68d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7620/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7620/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.245.233/tcp/7621/p2p/16Uiu2HAm3aUmpZ2wH84sDfwPW8xTmSp6qYLVPc8RsffkLLoq4Zab","/ip4/172.18.245.233/tcp/7622/ws/p2p/16Uiu2HAm3aUmpZ2wH84sDfwPW8xTmSp6qYLVPc8RsffkLLoq4Zab"],"enrUri":"enr:-LO4QANFTvKaXYvzyj_1vvaPOD_zKxlrZBEyt5JKGyGxVMVGYyHRF7X-Xn0UL3cz79vpMqME-4nlI2lr-nUsaXWNH3ABgmlkgnY0gmlwhKwS9emKbXVsdGlhZGRyc4wACgSsEvXpBh3G3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ5Hw0x-Q2IYXc6vsh3euFvF7P7WGdr8dUJyyv5uZwdlIN0Y3CCHcWDdWRwgh3HhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-28_04-26-13__4431c714-6f5c-469b-a9cb-212bc5faf38d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.101.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32294', '32295', '32296', '32297', '32298']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32294:32294 -p 32295:32295 -p 32296:32296 -p 32297:32297 -p 32298:32298 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32296 --rest-port=32294 --tcp-port=32295 --discv5-udp-port=32297 --rest-address=0.0.0.0 --nat=extip:172.18.101.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=607faa5f851be14daaff815c244dfed61e6b0e4eadded74a0a81db60e26e4a99 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32298 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QANFTvKaXYvzyj_1vvaPOD_zKxlrZBEyt5JKGyGxVMVGYyHRF7X-Xn0UL3cz79vpMqME-4nlI2lr-nUsaXWNH3ABgmlkgnY0gmlwhKwS9emKbXVsdGlhZGRyc4wACgSsEvXpBh3G3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ5Hw0x-Q2IYXc6vsh3euFvF7P7WGdr8dUJyyv5uZwdlIN0Y3CCHcWDdWRwgh3HhXdha3UyAw --storenode=/ip4/172.18.245.233/tcp/7621/p2p/16Uiu2HAm3aUmpZ2wH84sDfwPW8xTmSp6qYLVPc8RsffkLLoq4Zab --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.101.211 waku 71ced7635b1577af808b17be00512dcadaad8a7cb622b4958667c8411b7cd010
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 71ced7635b15. Setting up logs at ./log/docker/store_node1_2024-10-28_04-26-13__4431c714-6f5c-469b-a9cb-212bc5faf38d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32294
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32294/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32294/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.101.211/tcp/32295/p2p/16Uiu2HAm1rhx4ALKf6yM9xxxnn3UXPJQRi7oBN2LCr2VEybmf2gA","/ip4/172.18.101.211/tcp/32296/ws/p2p/16Uiu2HAm1rhx4ALKf6yM9xxxnn3UXPJQRi7oBN2LCr2VEybmf2gA"],"enrUri":"enr:-LO4QKCIUJCJUMSpVB13lTTQpfIudHNLlUnSutouW0yoSCSwJ0ckrbt7NXhsRnG-JoteJBg0ofu_4f-XaUsiMQewNjkBgmlkgnY0gmlwhKwSZdOKbXVsdGlhZGRyc4wACgSsEmXTBn4o3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJfj96K2OoBNh63URh1C0uV859hg7GHT3s-UMG_x6pec4N0Y3CCfieDdWRwgn4phXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32294/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.233/tcp/7621/p2p/16Uiu2HAm3aUmpZ2wH84sDfwPW8xTmSp6qYLVPc8RsffkLLoq4Zab"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7620/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32294/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7620/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"RErmtimDyeXmqBfngcnXhkS17ks33uWctHLvN5x9+qE="},{"messageHash":"Xc8rZTq9VfVt4moEwUMj0SvIpqwH84dZdiVKBY60k/s="},{"messageHash":"HqoHHTOK7ltrb52zhk3J9J+n+Bu7ia9CoCadmtCRqE8="},{"messageHash":"AiTJXIr9r52fS+b8nBGP0kkxbZtpwnoBNg03dRV+Dps="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32294/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"RErmtimDyeXmqBfngcnXhkS17ks33uWctHLvN5x9+qE="},{"messageHash":"Xc8rZTq9VfVt4moEwUMj0SvIpqwH84dZdiVKBY60k/s="},{"messageHash":"HqoHHTOK7ltrb52zhk3J9J+n+Bu7ia9CoCadmtCRqE8="},{"messageHash":"AiTJXIr9r52fS+b8nBGP0kkxbZtpwnoBNg03dRV+Dps="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a5103c6477c0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 71ced7635b15
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a5103c6477c0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.