[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2025-01-23_04-03-10__db9f46fc-c326-4bcc-a04c-6bb5da67a94a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-23_04-03-10__db9f46fc-c326-4bcc-a04c-6bb5da67a94a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.165.140
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49038', '49039', '49040', '49041', '49042']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49038:49038 -p 49039:49039 -p 49040:49040 -p 49041:49041 -p 49042:49042 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49040 --rest-port=49038 --tcp-port=49039 --discv5-udp-port=49041 --rest-address=0.0.0.0 --nat=extip:172.18.165.140 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b3bcf7adee71a600dc5b76fedd8ba6c84c8f3098abc9beaeab63a42bac85bf6c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49042 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.165.140 waku 8a6499618adfb509ea3f558f2e5a74724ed12e4ad95b3b4ac9901c3ae38e4bb9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8a6499618adf. Setting up logs at ./log/docker/node1_2025-01-23_04-03-10__db9f46fc-c326-4bcc-a04c-6bb5da67a94a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 49038
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 752b42d0334f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49038/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49038/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.165.140/tcp/49039/p2p/16Uiu2HAmJR8qh8fYSyqVHNPGN7vTTor6S745aNYHYaL7WcYknP2p","/ip4/172.18.165.140/tcp/49040/ws/p2p/16Uiu2HAmJR8qh8fYSyqVHNPGN7vTTor6S745aNYHYaL7WcYknP2p"],"enrUri":"enr:-L24QFDUB9MtrPZq9PFujodmPb4nazCoURk_u_1d7ZfX0gppI-PcxHviO00_O-u4rvaVzj4weqBli1PFC2ajHPb15-sCgmlkgnY0gmlwhKwSpYyKbXVsdGlhZGRyc5YACASsEqWMBr-PAAoErBKljAa_kN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVZmW7hyb3d6aetQizDW83Lgf-QMgJVST60yZBe6wJdmDdGNwgr-Pg3VkcIK_kYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-23_04-03-10__db9f46fc-c326-4bcc-a04c-6bb5da67a94a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.143.64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19064', '19065', '19066', '19067', '19068']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19064:19064 -p 19065:19065 -p 19066:19066 -p 19067:19067 -p 19068:19068 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19066 --rest-port=19064 --tcp-port=19065 --discv5-udp-port=19067 --rest-address=0.0.0.0 --nat=extip:172.18.143.64 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2a5f116cc1befff2bd8a09eb2c5eeb257a2ad2449c46e3e74bacc96761e21bf0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19068 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QFDUB9MtrPZq9PFujodmPb4nazCoURk_u_1d7ZfX0gppI-PcxHviO00_O-u4rvaVzj4weqBli1PFC2ajHPb15-sCgmlkgnY0gmlwhKwSpYyKbXVsdGlhZGRyc5YACASsEqWMBr-PAAoErBKljAa_kN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVZmW7hyb3d6aetQizDW83Lgf-QMgJVST60yZBe6wJdmDdGNwgr-Pg3VkcIK_kYV3YWt1MgU --filternode=/ip4/172.18.165.140/tcp/49039/p2p/16Uiu2HAmJR8qh8fYSyqVHNPGN7vTTor6S745aNYHYaL7WcYknP2p
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.143.64 waku 2e58a7fb313ee7047ac725e6f1b64c4883f3abb69bc00e2418af1b520778cccf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2e58a7fb313e. Setting up logs at ./log/docker/node2_2025-01-23_04-03-10__db9f46fc-c326-4bcc-a04c-6bb5da67a94a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 19064
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19064/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19064/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.143.64/tcp/19065/p2p/16Uiu2HAm8MAcg6jYqv41zTRbiZr699k1sPH3VL8bdVTnVpu1XDQS","/ip4/172.18.143.64/tcp/19066/ws/p2p/16Uiu2HAm8MAcg6jYqv41zTRbiZr699k1sPH3VL8bdVTnVpu1XDQS"],"enrUri":"enr:-L24QE0sMCTw5xoPoCiXFG6Ys65sPzcO2oMBFasvHvM0SChuSJt9L8V3U-1F1yg-cRbZszzhzXRmNLbJVhR9HG6ikGMCgmlkgnY0gmlwhKwSj0CKbXVsdGlhZGRyc5YACASsEo9ABkp5AAoErBKPQAZKet0DgnJzhQADAQAAiXNlY3AyNTZrMaECwABnmj4jbtsqRhtBxgGY033RuEg7tueUlWc_hUDRBO-DdGNwgkp5g3VkcIJKe4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19064/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.165.140/tcp/49039/p2p/16Uiu2HAmJR8qh8fYSyqVHNPGN7vTTor6S745aNYHYaL7WcYknP2p"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49038/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19064/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0513f5ff-c9e0-4f15-98b1-2ce38642c64e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0513f5ff-c9e0-4f15-98b1-2ce38642c64e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:19064/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:19064/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8a6499618adf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2e58a7fb313e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8a6499618adf. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.