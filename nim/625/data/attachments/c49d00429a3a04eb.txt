[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_repeated_filter_requestID with id: 2025-01-23_04-03-27__6be7d8fd-6c9e-4582-bd90-e81c3d33a8c1
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-23_04-03-27__6be7d8fd-6c9e-4582-bd90-e81c3d33a8c1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-23_04-03-27__6be7d8fd-6c9e-4582-bd90-e81c3d33a8c1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-23_04-03-27__6be7d8fd-6c9e-4582-bd90-e81c3d33a8c1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:348 Create 3 nodes
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:349 Start 3 nodes with their corresponding config
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:33 Network waku created
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.125.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42264', '42265', '42266', '42267', '42268']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42264:42264 -p 42265:42265 -p 42266:42266 -p 42267:42267 -p 42268:42268 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42266 --rest-port=42264 --tcp-port=42265 --discv5-udp-port=42267 --rest-address=0.0.0.0 --nat=extip:172.18.125.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=47fe8e980adde41b86edbdb94fedb57dfcdc75e9ba1b555aad8b6bd9ad86bb1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42268 --metrics-logging=true --relay=true --store=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.125.170 waku 542d670f6213b7069156792179f7bfb638041a6c9a466639649bcda3d380a42e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 542d670f6213. Setting up logs at ./log/docker/node1_2025-01-23_04-03-27__6be7d8fd-6c9e-4582-bd90-e81c3d33a8c1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42264
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42264/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42264/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.125.170/tcp/42265/p2p/16Uiu2HAm5FWsteig8rndZ71xVyapCUagWJqMtDtZp1fZB6gaChDq","/ip4/172.18.125.170/tcp/42266/ws/p2p/16Uiu2HAm5FWsteig8rndZ71xVyapCUagWJqMtDtZp1fZB6gaChDq"],"enrUri":"enr:-L24QNUP1VzZ1smt8J4O3xssQx4LuerjfEYoaQkP65rjkMjFdxB6o3WYmpmu8BfLoCY4ux2ke6RWg1Q3K5GRBPfJzTcCgmlkgnY0gmlwhKwSfaqKbXVsdGlhZGRyc5YACASsEn2qBqUZAAoErBJ9qgalGt0DgnJzhQADAQAAiXNlY3AyNTZrMaECkfrFECwtHN7ImIhzi3ASCBYL4KoIqFAOYGmIJzHZpvCDdGNwgqUZg3VkcIKlG4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.246.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61307', '61308', '61309', '61310', '61311']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61307:61307 -p 61308:61308 -p 61309:61309 -p 61310:61310 -p 61311:61311 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61309 --rest-port=61307 --tcp-port=61308 --discv5-udp-port=61310 --rest-address=0.0.0.0 --nat=extip:172.18.246.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd0fcbf1acfcfec0cee08b400c4afb8a1cb35c4bd5d3dfcfbcdc6a1a4dfb9a52 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61311 --metrics-logging=true --relay=true --store=true --filter=true --discv5-bootstrap-node=enr:-L24QNUP1VzZ1smt8J4O3xssQx4LuerjfEYoaQkP65rjkMjFdxB6o3WYmpmu8BfLoCY4ux2ke6RWg1Q3K5GRBPfJzTcCgmlkgnY0gmlwhKwSfaqKbXVsdGlhZGRyc5YACASsEn2qBqUZAAoErBJ9qgalGt0DgnJzhQADAQAAiXNlY3AyNTZrMaECkfrFECwtHN7ImIhzi3ASCBYL4KoIqFAOYGmIJzHZpvCDdGNwgqUZg3VkcIKlG4V3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.246.176 waku abf680c8c71e81f6183feb9c4fb9f12b43e5352a0060de655f8800e0c167a8dc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID abf680c8c71e. Setting up logs at ./log/docker/node2_2025-01-23_04-03-27__6be7d8fd-6c9e-4582-bd90-e81c3d33a8c1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61307
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61307/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61307/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.176/tcp/61308/p2p/16Uiu2HAkxPx2dMUWbKqRtiGau9GQcBLZfa9uRoRo3Rrt6SiShMdw","/ip4/172.18.246.176/tcp/61309/ws/p2p/16Uiu2HAkxPx2dMUWbKqRtiGau9GQcBLZfa9uRoRo3Rrt6SiShMdw"],"enrUri":"enr:-L24QFmNQ95Mqh3ACG1NnwuDO-PcpWtH608kYHkyApvdEdtYLcxP29qfcERjyA0i5ZFwr2kkE-W6oTEBpsLbU9ZvXxACgmlkgnY0gmlwhKwS9rCKbXVsdGlhZGRyc5YACASsEvawBu98AAoErBL2sAbvfd0DgnJzhQADAQAAiXNlY3AyNTZrMaECLCILsO9yC_Xi6rGmRXyeFUmXeA0o57W2vLMHr8oYMF6DdGNwgu98g3VkcILvfoV3YWt1Mgc"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.100.85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61184', '61185', '61186', '61187', '61188']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61184:61184 -p 61185:61185 -p 61186:61186 -p 61187:61187 -p 61188:61188 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61186 --rest-port=61184 --tcp-port=61185 --discv5-udp-port=61187 --rest-address=0.0.0.0 --nat=extip:172.18.100.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fde2fd2d9378f18e4f97fea60faefb2858ffd4cb248f173d6a1ffbee17812bac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61188 --metrics-logging=true --relay=true --filternode=/ip4/172.18.246.176/tcp/61308/p2p/16Uiu2HAkxPx2dMUWbKqRtiGau9GQcBLZfa9uRoRo3Rrt6SiShMdw --store=false --pubsub-topic=/waku/2/rs/3/1 --discv5-bootstrap-node=enr:-L24QFmNQ95Mqh3ACG1NnwuDO-PcpWtH608kYHkyApvdEdtYLcxP29qfcERjyA0i5ZFwr2kkE-W6oTEBpsLbU9ZvXxACgmlkgnY0gmlwhKwS9rCKbXVsdGlhZGRyc5YACASsEvawBu98AAoErBL2sAbvfd0DgnJzhQADAQAAiXNlY3AyNTZrMaECLCILsO9yC_Xi6rGmRXyeFUmXeA0o57W2vLMHr8oYMF6DdGNwgu98g3VkcILvfoV3YWt1Mgc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.100.85 waku 62b48c81d3bf6bffc3fba66e5540f3c01e87ac126e4b8bb4e03bf61af0ba3d12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 62b48c81d3bf. Setting up logs at ./log/docker/node3_2025-01-23_04-03-27__6be7d8fd-6c9e-4582-bd90-e81c3d33a8c1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61184
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61184/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61184/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.100.85/tcp/61185/p2p/16Uiu2HAmNASGJGBWn7jCtkE4JB28fWoM7fuYh4hSZAhEsUs96Geh","/ip4/172.18.100.85/tcp/61186/ws/p2p/16Uiu2HAmNASGJGBWn7jCtkE4JB28fWoM7fuYh4hSZAhEsUs96Geh"],"enrUri":"enr:-L24QF5aPJ4X58D6OkhbRv-GPhnf70OMuhTt09XwrRmBK25ZUDqaoPoOI8sXFzYRvtDZ6IbgWfM_6-LO-eM3wu21_DcCgmlkgnY0gmlwhKwSZFWKbXVsdGlhZGRyc5YACASsEmRVBu8BAAoErBJkVQbvAt0DgnJzhQADAQABiXNlY3AyNTZrMaEDjURTqEaUl2251v__JL-Uxq-iwKhS74TMfuma13kvOO6DdGNwgu8Bg3VkcILvA4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:360 Subscribe nodes to relay  pubsub topics
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42264/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61307/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:364 Wait for all nodes auto connection
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42264/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.246.176/tcp/61308/p2p/16Uiu2HAkxPx2dMUWbKqRtiGau9GQcBLZfa9uRoRo3Rrt6SiShMdw","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/filter-subscribe/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true},{"protocol":"/vac/waku/store/2.0.0-beta4","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61307/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.125.170/tcp/42265/p2p/16Uiu2HAm5FWsteig8rndZ71xVyapCUagWJqMtDtZp1fZB6gaChDq","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true},{"protocol":"/vac/waku/store/2.0.0-beta4","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"Discv5"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:368 Node3 subscribe to filter for pubsubtopic  /waku/2/rs/3/1 2 times with same request id
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61184/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61184/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:377 Node1 publish message for topic /waku/2/rs/3/1
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42264/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 5 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61184/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:381 Response for node 3 is []
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61184/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:385 Response for node3 using same request ID is []
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 542d670f6213
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id abf680c8c71e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 542d670f6213. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 62b48c81d3bf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.