[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_extra_field with id: 2025-01-23_04-04-21__b1eee902-5563-4ee1-91d4-ef7490bb4d0a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-01-23_04-04-21__b1eee902-5563-4ee1-91d4-ef7490bb4d0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.4.37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57325', '57326', '57327', '57328', '57329']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57325:57325 -p 57326:57326 -p 57327:57327 -p 57328:57328 -p 57329:57329 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57327 --rest-port=57325 --tcp-port=57326 --discv5-udp-port=57328 --rest-address=0.0.0.0 --nat=extip:172.18.4.37 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=45d9016f4ee431bbdc954cdbcceaaefdfaf1fdd24eef2f6a4d7b64cedfdebedb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57329 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.4.37 waku 7b20e27dae842f5b1d9c19976e0ef300b714d7914919401a6687cdd724a5dd2d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7b20e27dae84. Setting up logs at ./log/docker/receiving_node1_2025-01-23_04-04-21__b1eee902-5563-4ee1-91d4-ef7490bb4d0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 57325
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 60dda6610239. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57325/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57325/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.4.37/tcp/57326/p2p/16Uiu2HAmEB5Ev3gdNDh7KjJR2XRmK9fEuLpJjbtFoyCNZWTax4Ky","/ip4/172.18.4.37/tcp/57327/ws/p2p/16Uiu2HAmEB5Ev3gdNDh7KjJR2XRmK9fEuLpJjbtFoyCNZWTax4Ky"],"enrUri":"enr:-L24QIwiZibwtHEDIXGfeXFlGOvxHGIVe6piaVauDpjZxyVDIQX0GF8RmRE-YzlkF9EDNTxLlJltodvewwPUwUO6x4MCgmlkgnY0gmlwhKwSBCWKbXVsdGlhZGRyc5YACASsEgQlBt_uAAoErBIEJQbf790DgnJzhQADAQAAiXNlY3AyNTZrMaEDFpCj9FakYXDWJbKVhUrH252XF5FjPm2OeDiB6fLZE-CDdGNwgt_ug3VkcILf8IV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-01-23_04-04-21__b1eee902-5563-4ee1-91d4-ef7490bb4d0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.252.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52476', '52477', '52478', '52479', '52480']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52476:52476 -p 52477:52477 -p 52478:52478 -p 52479:52479 -p 52480:52480 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52478 --rest-port=52476 --tcp-port=52477 --discv5-udp-port=52479 --rest-address=0.0.0.0 --nat=extip:172.18.252.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f456da37dafebd3bcab9d71daf020b8dfe8b2ef49eba480577e10a1551fd7bfc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52480 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.252.82 waku 9811329e6595fb2d56d080e69257c9728bd37b6c7a31722efe16903df39e91b0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9811329e6595. Setting up logs at ./log/docker/receiving_node2_2025-01-23_04-04-21__b1eee902-5563-4ee1-91d4-ef7490bb4d0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 52476
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52476/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52476/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.82/tcp/52477/p2p/16Uiu2HAkzRmsCPWifsCy1KAptVNuZWz6nC6BP6NCRP6ERNueeyXK","/ip4/172.18.252.82/tcp/52478/ws/p2p/16Uiu2HAkzRmsCPWifsCy1KAptVNuZWz6nC6BP6NCRP6ERNueeyXK"],"enrUri":"enr:-L24QE2Jazc3fubwxfqlOZOIVFNdVqkPR0F_CIURPKDz5GbbBhQo9chXjZuTAAnXlwpGGEAuqoMSrBD6XbBO51VXoQoCgmlkgnY0gmlwhKwS_FKKbXVsdGlhZGRyc5YACASsEvxSBsz9AAoErBL8UgbM_t0DgnJzhQADAQAAiXNlY3AyNTZrMaECSlEXGyl77Da0lBUb9WHbc8nBBBl5lzGRM9VqfgpMjJaDdGNwgsz9g3VkcILM_4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52476/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.4.37/tcp/57326/p2p/16Uiu2HAmEB5Ev3gdNDh7KjJR2XRmK9fEuLpJjbtFoyCNZWTax4Ky"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-01-23_04-04-21__b1eee902-5563-4ee1-91d4-ef7490bb4d0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.228.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63026', '63027', '63028', '63029', '63030']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63026:63026 -p 63027:63027 -p 63028:63028 -p 63029:63029 -p 63030:63030 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63028 --rest-port=63026 --tcp-port=63027 --discv5-udp-port=63029 --rest-address=0.0.0.0 --nat=extip:172.18.228.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=29fdac6bfb239be6ba4e010cddce701c779fe17ef4592f1ececfefe108a38a8e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63030 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QIwiZibwtHEDIXGfeXFlGOvxHGIVe6piaVauDpjZxyVDIQX0GF8RmRE-YzlkF9EDNTxLlJltodvewwPUwUO6x4MCgmlkgnY0gmlwhKwSBCWKbXVsdGlhZGRyc5YACASsEgQlBt_uAAoErBIEJQbf790DgnJzhQADAQAAiXNlY3AyNTZrMaEDFpCj9FakYXDWJbKVhUrH252XF5FjPm2OeDiB6fLZE-CDdGNwgt_ug3VkcILf8IV3YWt1Mgk --lightpushnode=/ip4/172.18.4.37/tcp/57326/p2p/16Uiu2HAmEB5Ev3gdNDh7KjJR2XRmK9fEuLpJjbtFoyCNZWTax4Ky --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.228.176 waku f1af61e7909d34b8ee2be7d15ef86adf2b04f85e078094075d1132ec09168eb7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f1af61e7909d. Setting up logs at ./log/docker/lightpush_node1_2025-01-23_04-04-21__b1eee902-5563-4ee1-91d4-ef7490bb4d0a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 63026
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63026/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63026/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.176/tcp/63027/p2p/16Uiu2HAm6NgGWNXCp1oaJ5AyGvKTYa9XB93uWSNdMP1TDiL31yS5","/ip4/172.18.228.176/tcp/63028/ws/p2p/16Uiu2HAm6NgGWNXCp1oaJ5AyGvKTYa9XB93uWSNdMP1TDiL31yS5"],"enrUri":"enr:-L24QH2ONw8BmIWkxbk5XVrdU40AUUNb6sXotzx0KbFKyVvOaGWKEyT_YRpcak8DI0gDw1W_H6rUEH4E76r4qFlo324CgmlkgnY0gmlwhKwS5LCKbXVsdGlhZGRyc5YACASsEuSwBvYzAAoErBLksAb2NN0DgnJzhQADAQAAiXNlY3AyNTZrMaECoqwjvHQpTE64_LJtEIiuV-yHy5R2rvI-njQchRbeCs6DdGNwgvYzg3VkcIL2NYV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63026/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.4.37/tcp/57326/p2p/16Uiu2HAmEB5Ev3gdNDh7KjJR2XRmK9fEuLpJjbtFoyCNZWTax4Ky"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63026/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.82/tcp/52477/p2p/16Uiu2HAkzRmsCPWifsCy1KAptVNuZWz6nC6BP6NCRP6ERNueeyXK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57325/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52476/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63026/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1737605065470484224, "extraField": "extraValue"}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63026/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7b20e27dae84
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9811329e6595
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7b20e27dae84. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f1af61e7909d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9811329e6595. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.