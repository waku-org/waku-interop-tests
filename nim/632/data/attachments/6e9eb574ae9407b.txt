[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_paused_and_unpaused with id: 2025-01-29_12-36-31__1c78b651-560f-411e-b2d0-b034dd2a9c82
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-29_12-36-31__1c78b651-560f-411e-b2d0-b034dd2a9c82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.168.27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9201', '9202', '9203', '9204', '9205']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9201:9201 -p 9202:9202 -p 9203:9203 -p 9204:9204 -p 9205:9205 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9203 --rest-port=9201 --tcp-port=9202 --discv5-udp-port=9204 --rest-address=0.0.0.0 --nat=extip:172.18.168.27 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ec7f2d4df0d57ad5be0e7d6d492ec416c97ddd74c45e20c60c4fdafd1f1ca9b3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9205 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.168.27 waku 2a33e01cb02ec9786dd7182bf652206584380b34e00684df10a97f309f8f8969
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2a33e01cb02e. Setting up logs at ./log/docker/publishing_node1_2025-01-29_12-36-31__1c78b651-560f-411e-b2d0-b034dd2a9c82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 9201
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4f17af7dbbbf. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9201/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9201/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.168.27/tcp/9202/p2p/16Uiu2HAmPfHGoEyKTp5ojxmLbiEDsvqPo75KVBjQcejPT4Sz8e9p","/ip4/172.18.168.27/tcp/9203/ws/p2p/16Uiu2HAmPfHGoEyKTp5ojxmLbiEDsvqPo75KVBjQcejPT4Sz8e9p"],"enrUri":"enr:-L24QDcNTENCyzmNc9bluZfoE48rFGL7laioeze5OrJ9Vft2Ik0fNHvR8qL_sNzx9nDaeT2pbzxEHQRGBEtZj7mmXqICgmlkgnY0gmlwhKwSqBuKbXVsdGlhZGRyc5YACASsEqgbBiPyAAoErBKoGwYj890DgnJzhQADAQAAiXNlY3AyNTZrMaEDo4Owyhwa8_mx53SeSl5YNrTrvpij_MLTPvz2BbLVfjuDdGNwgiPyg3VkcIIj9IV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-29_12-36-31__1c78b651-560f-411e-b2d0-b034dd2a9c82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.123.171
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51787', '51788', '51789', '51790', '51791']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51787:51787 -p 51788:51788 -p 51789:51789 -p 51790:51790 -p 51791:51791 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51789 --rest-port=51787 --tcp-port=51788 --discv5-udp-port=51790 --rest-address=0.0.0.0 --nat=extip:172.18.123.171 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=43f2d3cdcfbbfbabdcaede2f4deca8e4cd837d5d8da31b1c8c80bd7556b5b51e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51791 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QDcNTENCyzmNc9bluZfoE48rFGL7laioeze5OrJ9Vft2Ik0fNHvR8qL_sNzx9nDaeT2pbzxEHQRGBEtZj7mmXqICgmlkgnY0gmlwhKwSqBuKbXVsdGlhZGRyc5YACASsEqgbBiPyAAoErBKoGwYj890DgnJzhQADAQAAiXNlY3AyNTZrMaEDo4Owyhwa8_mx53SeSl5YNrTrvpij_MLTPvz2BbLVfjuDdGNwgiPyg3VkcIIj9IV3YWt1MgM --storenode=/ip4/172.18.168.27/tcp/9202/p2p/16Uiu2HAmPfHGoEyKTp5ojxmLbiEDsvqPo75KVBjQcejPT4Sz8e9p --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.123.171 waku 32eef364affc1006efd7cae30ac972848a48f297666740310bae3157f63012c6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 32eef364affc. Setting up logs at ./log/docker/store_node1_2025-01-29_12-36-31__1c78b651-560f-411e-b2d0-b034dd2a9c82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51787
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51787/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51787/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.171/tcp/51788/p2p/16Uiu2HAmPoq6zSSg9rwDCDrYBABFA5jVs3pZ4AvGhFTNyaqNvKfB","/ip4/172.18.123.171/tcp/51789/ws/p2p/16Uiu2HAmPoq6zSSg9rwDCDrYBABFA5jVs3pZ4AvGhFTNyaqNvKfB"],"enrUri":"enr:-L24QIA0_zRlbCQJSk1RjtnKQwY0UVDgAmT_DE5LocWRt9ScbnqZRXXvbH76XZlzJ8hk9jcDz7Z8h1bUuOr7nQGjt2cCgmlkgnY0gmlwhKwSe6uKbXVsdGlhZGRyc5YACASsEnurBspMAAoErBJ7qwbKTd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpbRUESgkM6ywKphVbzea8-U7cwKi2zaAan3QcE5F2waDdGNwgspMg3VkcILKToV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51787/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.168.27/tcp/9202/p2p/16Uiu2HAmPfHGoEyKTp5ojxmLbiEDsvqPo75KVBjQcejPT4Sz8e9p"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9201/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51787/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9201/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9201/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"BxXV2Jrm+GLMGVyEuum+B7PZOEMRl/Y8ImhWj0tWCtk="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51787/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"BxXV2Jrm+GLMGVyEuum+B7PZOEMRl/Y8ImhWj0tWCtk="}]}'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:254 Pausing container with id 32eef364affc
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:259 Unpause container with id 32eef364affc
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51787/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51787/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.171/tcp/51788/p2p/16Uiu2HAmPoq6zSSg9rwDCDrYBABFA5jVs3pZ4AvGhFTNyaqNvKfB","/ip4/172.18.123.171/tcp/51789/ws/p2p/16Uiu2HAmPoq6zSSg9rwDCDrYBABFA5jVs3pZ4AvGhFTNyaqNvKfB"],"enrUri":"enr:-L24QIA0_zRlbCQJSk1RjtnKQwY0UVDgAmT_DE5LocWRt9ScbnqZRXXvbH76XZlzJ8hk9jcDz7Z8h1bUuOr7nQGjt2cCgmlkgnY0gmlwhKwSe6uKbXVsdGlhZGRyc5YACASsEnurBspMAAoErBJ7qwbKTd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpbRUESgkM6ywKphVbzea8-U7cwKi2zaAan3QcE5F2waDdGNwgspMg3VkcILKToV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9201/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9201/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"BxXV2Jrm+GLMGVyEuum+B7PZOEMRl/Y8ImhWj0tWCtk="},{"messageHash":"euR8TkoNTZ5kY04yu+9b9IohpPFBq8dPIGi01U1BTAc="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51787/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"BxXV2Jrm+GLMGVyEuum+B7PZOEMRl/Y8ImhWj0tWCtk="},{"messageHash":"euR8TkoNTZ5kY04yu+9b9IohpPFBq8dPIGi01U1BTAc="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9201/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"BxXV2Jrm+GLMGVyEuum+B7PZOEMRl/Y8ImhWj0tWCtk="},{"messageHash":"euR8TkoNTZ5kY04yu+9b9IohpPFBq8dPIGi01U1BTAc="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51787/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"BxXV2Jrm+GLMGVyEuum+B7PZOEMRl/Y8ImhWj0tWCtk="},{"messageHash":"euR8TkoNTZ5kY04yu+9b9IohpPFBq8dPIGi01U1BTAc="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2a33e01cb02e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 32eef364affc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.