[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-10-14_04-24-13__808d23b4-b562-4171-ba01-54bbc73f9ee0
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-14_04-24-13__808d23b4-b562-4171-ba01-54bbc73f9ee0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.94.182
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['60394', '60395', '60396', '60397', '60398']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 60394:60394 -p 60395:60395 -p 60396:60396 -p 60397:60397 -p 60398:60398 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60396 --rest-port=60394 --tcp-port=60395 --discv5-udp-port=60397 --rest-address=0.0.0.0 --nat=extip:172.18.94.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c61dfede85aef4cf9c47f6f11fed8a0a556d71dddb97c16ffc5d0d35e6bf6be5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60398 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.94.182 waku b211d3323765b31f8da508466e0d646934d99f0117bd392632f3ff5e7388d743
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b211d3323765. Setting up logs at ./log/docker/node1_2024-10-14_04-24-13__808d23b4-b562-4171-ba01-54bbc73f9ee0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60394
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60394/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60394/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.94.182/tcp/60395/p2p/16Uiu2HAmEHbvDayPbHSEkQACLSZHczowVXeNpJLuRNytwuGmV99y","/ip4/172.18.94.182/tcp/60396/ws/p2p/16Uiu2HAmEHbvDayPbHSEkQACLSZHczowVXeNpJLuRNytwuGmV99y"],"enrUri":"enr:-LO4QGmKTdHFjOwhtgR06y_mx31XsKMluiW2uBOfG0Voe53CSsNfSy-MnqgDhrfa9mnbx8DNBZIaIFpKUcZaDrbrFYMBgmlkgnY0gmlwhKwSXraKbXVsdGlhZGRyc4wACgSsEl62Buvs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMYPNAG7USWYd2slgc936ITNNP7OMqWPx1DhgA5kms9qIN0Y3CC6-uDdWRwguvthXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-14_04-24-13__808d23b4-b562-4171-ba01-54bbc73f9ee0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.199.157
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['14950', '14951', '14952', '14953', '14954']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 14950:14950 -p 14951:14951 -p 14952:14952 -p 14953:14953 -p 14954:14954 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14952 --rest-port=14950 --tcp-port=14951 --discv5-udp-port=14953 --rest-address=0.0.0.0 --nat=extip:172.18.199.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=804c618cc86baf42d5e5cddcc737c8e59aa3ade4531dfa334f22c60efaace1b4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14954 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QGmKTdHFjOwhtgR06y_mx31XsKMluiW2uBOfG0Voe53CSsNfSy-MnqgDhrfa9mnbx8DNBZIaIFpKUcZaDrbrFYMBgmlkgnY0gmlwhKwSXraKbXVsdGlhZGRyc4wACgSsEl62Buvs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMYPNAG7USWYd2slgc936ITNNP7OMqWPx1DhgA5kms9qIN0Y3CC6-uDdWRwguvthXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.199.157 waku 1dd4134ccd1c29bd612e3847e5b18aa9753151ef11c7d3f195b0de45b56e664e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1dd4134ccd1c. Setting up logs at ./log/docker/node2_2024-10-14_04-24-13__808d23b4-b562-4171-ba01-54bbc73f9ee0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 14950
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14950/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14950/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.157/tcp/14951/p2p/16Uiu2HAmKcJF26P4jcFm6E2Xi64Czni47UPNThSn4j3p3vq3SPj7","/ip4/172.18.199.157/tcp/14952/ws/p2p/16Uiu2HAmKcJF26P4jcFm6E2Xi64Czni47UPNThSn4j3p3vq3SPj7"],"enrUri":"enr:-LO4QFAq_RbP5_emfpmKuugermHFi9ZdJbT18gR4vRgdb2tBCuDOCps5Pklgpsgetp_XLQqOm9zwR0BfGtuHjj6d_pYBgmlkgnY0gmlwhKwSx52KbXVsdGlhZGRyc4wACgSsEsedBjpo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNnUUvmbzzDx8imDy6NfTn2KhzUyd_bm-UdczcuhkOT6oN0Y3CCOmeDdWRwgjpphXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14950/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.94.182/tcp/60395/p2p/16Uiu2HAmEHbvDayPbHSEkQACLSZHczowVXeNpJLuRNytwuGmV99y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-14_04-24-13__808d23b4-b562-4171-ba01-54bbc73f9ee0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.200.188
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['57184', '57185', '57186', '57187', '57188']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 57184:57184 -p 57185:57185 -p 57186:57186 -p 57187:57187 -p 57188:57188 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57186 --rest-port=57184 --tcp-port=57185 --discv5-udp-port=57187 --rest-address=0.0.0.0 --nat=extip:172.18.200.188 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1b6dfdf8e9013ea7d736da4a7e36f19c2d1ed0e7dd8a244bcd83dffe5d1e3e69 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57188 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QGmKTdHFjOwhtgR06y_mx31XsKMluiW2uBOfG0Voe53CSsNfSy-MnqgDhrfa9mnbx8DNBZIaIFpKUcZaDrbrFYMBgmlkgnY0gmlwhKwSXraKbXVsdGlhZGRyc4wACgSsEl62Buvs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMYPNAG7USWYd2slgc936ITNNP7OMqWPx1DhgA5kms9qIN0Y3CC6-uDdWRwguvthXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.200.188 waku dae06114c698c998e3224008027666649bf4a035dc237662636e9b0fc53dbcd1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID dae06114c698. Setting up logs at ./log/docker/node3_2024-10-14_04-24-13__808d23b4-b562-4171-ba01-54bbc73f9ee0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 57184
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57184/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57184/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.200.188/tcp/57185/p2p/16Uiu2HAm7Ks4zo48hLzYyPryDrW2oD1sAhKGsJUj1MrZCWin5ES4","/ip4/172.18.200.188/tcp/57186/ws/p2p/16Uiu2HAm7Ks4zo48hLzYyPryDrW2oD1sAhKGsJUj1MrZCWin5ES4"],"enrUri":"enr:-LO4QKVVJkOf3pgF7Nlb5Tk--S7o347g22gNuhALbkht_NIZE-J5p_fCHSVDwrKlKqVT9cIm5jIPc8IoPB198okjhX8BgmlkgnY0gmlwhKwSyLyKbXVsdGlhZGRyc4wACgSsEsi8Bt9i3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKwz0wljCYPSM1juJUnDU7Ya81Tt3W3cdoYROl0QrtOUYN0Y3CC32GDdWRwgt9jhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57184/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.94.182/tcp/60395/p2p/16Uiu2HAmEHbvDayPbHSEkQACLSZHczowVXeNpJLuRNytwuGmV99y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-14_04-24-13__808d23b4-b562-4171-ba01-54bbc73f9ee0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.17.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['51846', '51847', '51848', '51849', '51850']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 51846:51846 -p 51847:51847 -p 51848:51848 -p 51849:51849 -p 51850:51850 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51848 --rest-port=51846 --tcp-port=51847 --discv5-udp-port=51849 --rest-address=0.0.0.0 --nat=extip:172.18.17.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1bbe55c149336b850dc6af70fdbe25f7ac7cc9f39fe2f64b12ffacac90fd6da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51850 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QGmKTdHFjOwhtgR06y_mx31XsKMluiW2uBOfG0Voe53CSsNfSy-MnqgDhrfa9mnbx8DNBZIaIFpKUcZaDrbrFYMBgmlkgnY0gmlwhKwSXraKbXVsdGlhZGRyc4wACgSsEl62Buvs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMYPNAG7USWYd2slgc936ITNNP7OMqWPx1DhgA5kms9qIN0Y3CC6-uDdWRwguvthXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.17.201 waku 890dbf07c585827b0c24f280d4877b0be5e50f0d88b037cf8688ee3dddd5947c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 890dbf07c585. Setting up logs at ./log/docker/node4_2024-10-14_04-24-13__808d23b4-b562-4171-ba01-54bbc73f9ee0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 51846
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51846/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51846/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.17.201/tcp/51847/p2p/16Uiu2HAkwUVpWmAwLHtmuWLuZCwuaJpKmAGZdFUujC212461HBHm","/ip4/172.18.17.201/tcp/51848/ws/p2p/16Uiu2HAkwUVpWmAwLHtmuWLuZCwuaJpKmAGZdFUujC212461HBHm"],"enrUri":"enr:-LO4QELqDoEcH86BNba1HYzUdnxDVUH09bPVruoattdv6LTHdLKZ90a6AtvYMyUzWPJkgRTCw30d7Pj8__O-OFEAK00BgmlkgnY0gmlwhKwSEcmKbXVsdGlhZGRyc4wACgSsEhHJBsqI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIecKDa3qow3BEjwDybBN9pr0cRSV0YTet4BzGO8JMJFIN0Y3CCyoeDdWRwgsqJhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51846/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.94.182/tcp/60395/p2p/16Uiu2HAmEHbvDayPbHSEkQACLSZHczowVXeNpJLuRNytwuGmV99y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-14_04-24-13__808d23b4-b562-4171-ba01-54bbc73f9ee0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.80.37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['24220', '24221', '24222', '24223', '24224']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 24220:24220 -p 24221:24221 -p 24222:24222 -p 24223:24223 -p 24224:24224 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24222 --rest-port=24220 --tcp-port=24221 --discv5-udp-port=24223 --rest-address=0.0.0.0 --nat=extip:172.18.80.37 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ced35ab5d5b476d4d53121eb2cf05167e6c9c292301db7f5acbfa6b207e2df5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24224 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QGmKTdHFjOwhtgR06y_mx31XsKMluiW2uBOfG0Voe53CSsNfSy-MnqgDhrfa9mnbx8DNBZIaIFpKUcZaDrbrFYMBgmlkgnY0gmlwhKwSXraKbXVsdGlhZGRyc4wACgSsEl62Buvs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMYPNAG7USWYd2slgc936ITNNP7OMqWPx1DhgA5kms9qIN0Y3CC6-uDdWRwguvthXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.80.37 waku 8b5a6b903c0ebbaa46a18c05c724b404ebe9e175dd991af1c33d426a4a53d09f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8b5a6b903c0e. Setting up logs at ./log/docker/node5_2024-10-14_04-24-13__808d23b4-b562-4171-ba01-54bbc73f9ee0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 24220
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24220/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24220/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.37/tcp/24221/p2p/16Uiu2HAmQbUvoKVKY4EKsaHmDtSv9DXp9iirauebEyizg1aRKjHH","/ip4/172.18.80.37/tcp/24222/ws/p2p/16Uiu2HAmQbUvoKVKY4EKsaHmDtSv9DXp9iirauebEyizg1aRKjHH"],"enrUri":"enr:-LO4QNdg2oPmTT_MY1ccOQB60cLJcrpxnW8gGt7fAObXHNznPRmLtHQhHRLBbSLpVa0Gm27u0hmxTyizMqEeYSAH6MgBgmlkgnY0gmlwhKwSUCWKbXVsdGlhZGRyc4wACgSsElAlBl6e3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOxZjubxaaOOz-RoGRJtd55Y1qYHY-i1NHoHI9lKLjqCIN0Y3CCXp2DdWRwgl6fhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24220/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.94.182/tcp/60395/p2p/16Uiu2HAmEHbvDayPbHSEkQACLSZHczowVXeNpJLuRNytwuGmV99y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60394/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14950/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57184/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51846/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24220/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60394/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60394/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728879864595204352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14950/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728879864595204352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57184/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728879864595204352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51846/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728879864595204352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24220/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728879864595204352,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24220/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60394/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728879864754464768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14950/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728879864754464768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57184/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728879864754464768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51846/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728879864754464768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24220/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728879864754464768,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b211d3323765
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1dd4134ccd1c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dae06114c698
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 890dbf07c585
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8b5a6b903c0e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.