[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_subscribed_peer with id: 2024-10-14_04-16-23__34444018-64a4-45bb-8abe-2c45846ac120
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-14_04-16-23__34444018-64a4-45bb-8abe-2c45846ac120__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.134.121
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['11757', '11758', '11759', '11760', '11761']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 11757:11757 -p 11758:11758 -p 11759:11759 -p 11760:11760 -p 11761:11761 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11759 --rest-port=11757 --tcp-port=11758 --discv5-udp-port=11760 --rest-address=0.0.0.0 --nat=extip:172.18.134.121 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ba51030e249ecf21a7cddd55c15daddcd3f9a098a22c4a5c4264d1d5d352e40 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11761 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.134.121 waku 8cde26b29cc047d7f39f7ab3cfbe4eeec0a792e1a37902c14c93a824dc4181c3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8cde26b29cc0. Setting up logs at ./log/docker/node1_2024-10-14_04-16-23__34444018-64a4-45bb-8abe-2c45846ac120__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11757
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11757/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11757/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.134.121/tcp/11758/p2p/16Uiu2HAm3ETzeiWjdJPoCKUqGKYceQXmYZM1ETehor5aFnQVQrG6","/ip4/172.18.134.121/tcp/11759/ws/p2p/16Uiu2HAm3ETzeiWjdJPoCKUqGKYceQXmYZM1ETehor5aFnQVQrG6"],"enrUri":"enr:-LO4QOkg_8k7SqiPAlpZd9GZeTxuQe_dIhc7zxLP09IETBHgT1J0j56hlFnl01Xrb-XMs1-AOeJFwpMFUlgKnAWB4MABgmlkgnY0gmlwhKwShnmKbXVsdGlhZGRyc4wACgSsEoZ5Bi3v3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJz_o4GdELr8ZQhCsBlsJcx4NcC9LDrLthF1_uUvMOpR4N0Y3CCLe6DdWRwgi3whXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-14_04-16-23__34444018-64a4-45bb-8abe-2c45846ac120__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.30.168
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['46424', '46425', '46426', '46427', '46428']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 46424:46424 -p 46425:46425 -p 46426:46426 -p 46427:46427 -p 46428:46428 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46426 --rest-port=46424 --tcp-port=46425 --discv5-udp-port=46427 --rest-address=0.0.0.0 --nat=extip:172.18.30.168 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e8fc452fe24b8cfa6d94ff061dac6e18ee7cfceeabfbf2ee39faebbba9dccdcc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46428 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOkg_8k7SqiPAlpZd9GZeTxuQe_dIhc7zxLP09IETBHgT1J0j56hlFnl01Xrb-XMs1-AOeJFwpMFUlgKnAWB4MABgmlkgnY0gmlwhKwShnmKbXVsdGlhZGRyc4wACgSsEoZ5Bi3v3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJz_o4GdELr8ZQhCsBlsJcx4NcC9LDrLthF1_uUvMOpR4N0Y3CCLe6DdWRwgi3whXdha3UyBQ --filternode=/ip4/172.18.134.121/tcp/11758/p2p/16Uiu2HAm3ETzeiWjdJPoCKUqGKYceQXmYZM1ETehor5aFnQVQrG6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.30.168 waku f250e72de1bc23e6ac298513eaf523a13abc0ed26d85eb656f0494feb73dc182
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f250e72de1bc. Setting up logs at ./log/docker/node2_2024-10-14_04-16-23__34444018-64a4-45bb-8abe-2c45846ac120__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46424
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46424/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46424/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.168/tcp/46425/p2p/16Uiu2HAmFucDUabPTgB4vVmqHQcSRHEfYzPevMVbQk5rW1bj1Cgw","/ip4/172.18.30.168/tcp/46426/ws/p2p/16Uiu2HAmFucDUabPTgB4vVmqHQcSRHEfYzPevMVbQk5rW1bj1Cgw"],"enrUri":"enr:-LO4QIlJ5UDnMEHNwIgskn1QG4qeWnKXic_j72OW8lE2vZrKWM6M1JGB657cw39FTa6Dl1KjEeMOaB6aukkABGOSlyEBgmlkgnY0gmlwhKwSHqiKbXVsdGlhZGRyc4wACgSsEh6oBrVa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMwUb6_n987Pwo7X1afL3sLqTYh_cDTap2an8lEVdlq-IN0Y3CCtVmDdWRwgrVbhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46424/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.134.121/tcp/11758/p2p/16Uiu2HAm3ETzeiWjdJPoCKUqGKYceQXmYZM1ETehor5aFnQVQrG6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11757/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46424/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3e57a7ff-900a-4067-a35a-d1e43e75ba08", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3e57a7ff-900a-4067-a35a-d1e43e75ba08","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46424/filter/v2/subscriptions/3f22b44c-df77-4e75-9b8d-9e2b7aa9d538" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3f22b44c-df77-4e75-9b8d-9e2b7aa9d538","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8cde26b29cc0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f250e72de1bc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.