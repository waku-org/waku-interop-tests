[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-05-27_11-21-09__3b56efab-edf0-4785-a04d-7e7994be2ec0
[35mDEBUG   [0m src.steps.common:common.py:15 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-05-27_11-21-09__3b56efab-edf0-4785-a04d-7e7994be2ec0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.241.137
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['46057', '46058', '46059', '46060', '46061']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 46057:46057 -p 46058:46058 -p 46059:46059 -p 46060:46060 -p 46061:46061 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46059 --rest-port=46057 --tcp-port=46058 --discv5-udp-port=46060 --rest-address=0.0.0.0 --nat=extip:172.18.241.137 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46061 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.241.137 waku 77f665e33b7992cc02daac28712ebe2bc2e4edfb35ca92f66a5014379f2b5989
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 77f665e33b79. Setting up logs at ./log/docker/node1_2024-05-27_11-21-09__3b56efab-edf0-4785-a04d-7e7994be2ec0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 46057
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46057/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46057/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.137/tcp/46058/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.241.137/tcp/46059/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QOuWUWRG2G8p9suDNQjOrjDkDIEpOg4Ap3C-eFkDu-SZYstKJ1waPmSsaq5fUfmCxRqeWioptCAdUtA_sQqZmyUBgmlkgnY0gmlwhKwS8YmKbXVsdGlhZGRyc4wACgSsEvGJBrPr3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCs-qDdWRwgrPshXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-05-27_11-21-09__3b56efab-edf0-4785-a04d-7e7994be2ec0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.68.81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['51752', '51753', '51754', '51755', '51756']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 51752:51752 -p 51753:51753 -p 51754:51754 -p 51755:51755 -p 51756:51756 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51754 --rest-port=51752 --tcp-port=51753 --discv5-udp-port=51755 --rest-address=0.0.0.0 --nat=extip:172.18.68.81 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51756 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOuWUWRG2G8p9suDNQjOrjDkDIEpOg4Ap3C-eFkDu-SZYstKJ1waPmSsaq5fUfmCxRqeWioptCAdUtA_sQqZmyUBgmlkgnY0gmlwhKwS8YmKbXVsdGlhZGRyc4wACgSsEvGJBrPr3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCs-qDdWRwgrPshXdha3UyBQ --filternode=/ip4/172.18.241.137/tcp/46058/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.68.81 waku 5c3eb972e002cdb653c8b6c0c7c0182ebf593798f21a3195c2c0269cba68bffd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5c3eb972e002. Setting up logs at ./log/docker/node2_2024-05-27_11-21-09__3b56efab-edf0-4785-a04d-7e7994be2ec0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 51752
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51752/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51752/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.81/tcp/51753/p2p/16Uiu2HAky74MkRrFETgwPBdRayBBVUuWzmF9xWqAz3EvMvRU5vLp","/ip4/172.18.68.81/tcp/51754/ws/p2p/16Uiu2HAky74MkRrFETgwPBdRayBBVUuWzmF9xWqAz3EvMvRU5vLp"],"enrUri":"enr:-LO4QLVd1kdGIhYPV4toWS0NqlsCKW9Cg9GNqgo-Tuyxz6BySAcZfQPhSkieNzOPXycggLjGli0NE2-zpV1wsaTSjpoBgmlkgnY0gmlwhKwSRFGKbXVsdGlhZGRyc4wACgSsEkRRBsoq3QOCcnOFAAABAACJc2VjcDI1NmsxoQI2qgQOT4WC19gkjYpLhPAZwYOgmxNvXj1qpN1Ol1IxgYN0Y3CCyimDdWRwgsorhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51752/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.241.137/tcp/46058/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-05-27_11-21-09__3b56efab-edf0-4785-a04d-7e7994be2ec0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.186.24
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['8864', '8865', '8866', '8867', '8868']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 8864:8864 -p 8865:8865 -p 8866:8866 -p 8867:8867 -p 8868:8868 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8866 --rest-port=8864 --tcp-port=8865 --discv5-udp-port=8867 --rest-address=0.0.0.0 --nat=extip:172.18.186.24 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8868 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOuWUWRG2G8p9suDNQjOrjDkDIEpOg4Ap3C-eFkDu-SZYstKJ1waPmSsaq5fUfmCxRqeWioptCAdUtA_sQqZmyUBgmlkgnY0gmlwhKwS8YmKbXVsdGlhZGRyc4wACgSsEvGJBrPr3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCs-qDdWRwgrPshXdha3UyBQ --filternode=/ip4/172.18.241.137/tcp/46058/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.186.24 waku 3cb6092abf05d4bb8754fee322533a6345ffb465d5b252c5061d7fcefe180e7f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 3cb6092abf05. Setting up logs at ./log/docker/node3_2024-05-27_11-21-09__3b56efab-edf0-4785-a04d-7e7994be2ec0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 8864
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8864/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8864/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.186.24/tcp/8865/p2p/16Uiu2HAkvuoMcPUAw5qLUQvVbNAoKuwb8JUmJkp8ZAEzmBg13cKQ","/ip4/172.18.186.24/tcp/8866/ws/p2p/16Uiu2HAkvuoMcPUAw5qLUQvVbNAoKuwb8JUmJkp8ZAEzmBg13cKQ"],"enrUri":"enr:-LO4QOYlCEHbd-XqNQdGGv1YV9PHHuW1D4xyy0mhGFV9eaiiE-Z2LtODWCv6tzU18hxZCnARVc_-xefar3K2Ce776a8BgmlkgnY0gmlwhKwSuhiKbXVsdGlhZGRyc4wACgSsEroYBiKi3QOCcnOFAAABAACJc2VjcDI1NmsxoQIWEEoyj-FaBWcJw2SUbDEQMffLEnZUdk4SI4F7qBSbR4N0Y3CCIqGDdWRwgiKjhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8864/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.241.137/tcp/46058/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-05-27_11-21-09__3b56efab-edf0-4785-a04d-7e7994be2ec0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.253.194
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['57980', '57981', '57982', '57983', '57984']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 57980:57980 -p 57981:57981 -p 57982:57982 -p 57983:57983 -p 57984:57984 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57982 --rest-port=57980 --tcp-port=57981 --discv5-udp-port=57983 --rest-address=0.0.0.0 --nat=extip:172.18.253.194 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57984 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOuWUWRG2G8p9suDNQjOrjDkDIEpOg4Ap3C-eFkDu-SZYstKJ1waPmSsaq5fUfmCxRqeWioptCAdUtA_sQqZmyUBgmlkgnY0gmlwhKwS8YmKbXVsdGlhZGRyc4wACgSsEvGJBrPr3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCs-qDdWRwgrPshXdha3UyBQ --filternode=/ip4/172.18.241.137/tcp/46058/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.253.194 waku dd906242de720862d891da83eb4be18c4093b2f8f744b12fa05fc7534b890be2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID dd906242de72. Setting up logs at ./log/docker/node4_2024-05-27_11-21-09__3b56efab-edf0-4785-a04d-7e7994be2ec0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 57980
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57980/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57980/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.194/tcp/57981/p2p/16Uiu2HAkv6RQJ6wxrgLG6BQitj8RCVtA5zjU34aTzarWeob4YnJr","/ip4/172.18.253.194/tcp/57982/ws/p2p/16Uiu2HAkv6RQJ6wxrgLG6BQitj8RCVtA5zjU34aTzarWeob4YnJr"],"enrUri":"enr:-LO4QEWqesCW5wiUTKeTz4UuOWA9okR62Lvzte94CgqB6D1VU_ZzX2l7gkPHfV3X6EJ1dEBHYz1sh1pviKrhbB6k9MsBgmlkgnY0gmlwhKwS_cKKbXVsdGlhZGRyc4wACgSsEv3CBuJ-3QOCcnOFAAABAACJc2VjcDI1NmsxoQIJ7SstwkMZaDkFhReZLxgyuCtQRYWXAYKycBgaPYzrp4N0Y3CC4n2DdWRwguJ_hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57980/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.241.137/tcp/46058/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-05-27_11-21-09__3b56efab-edf0-4785-a04d-7e7994be2ec0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.215.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['23462', '23463', '23464', '23465', '23466']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 23462:23462 -p 23463:23463 -p 23464:23464 -p 23465:23465 -p 23466:23466 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23464 --rest-port=23462 --tcp-port=23463 --discv5-udp-port=23465 --rest-address=0.0.0.0 --nat=extip:172.18.215.207 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23466 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QOuWUWRG2G8p9suDNQjOrjDkDIEpOg4Ap3C-eFkDu-SZYstKJ1waPmSsaq5fUfmCxRqeWioptCAdUtA_sQqZmyUBgmlkgnY0gmlwhKwS8YmKbXVsdGlhZGRyc4wACgSsEvGJBrPr3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCs-qDdWRwgrPshXdha3UyBQ --filternode=/ip4/172.18.241.137/tcp/46058/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.215.207 waku 3956481e48a75454aa0f5ab05b0511dc1cd6951ccbff72319ef18ee8a815d620
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 3956481e48a7. Setting up logs at ./log/docker/node5_2024-05-27_11-21-09__3b56efab-edf0-4785-a04d-7e7994be2ec0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 23462
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23462/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23462/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.215.207/tcp/23463/p2p/16Uiu2HAm3Z1bp8eUJLYJhmrDCo4w2XeRER4BKvNfdNd5Goh9PshE","/ip4/172.18.215.207/tcp/23464/ws/p2p/16Uiu2HAm3Z1bp8eUJLYJhmrDCo4w2XeRER4BKvNfdNd5Goh9PshE"],"enrUri":"enr:-LO4QNgJIc71esSWyAP7QrC5U0Djpk8fgdNWfxwRDGo-8Yztdr1lqpVAavzZB3fb9GuU33H_gisfOI3JDsbaolcBEaMBgmlkgnY0gmlwhKwS18-KbXVsdGlhZGRyc4wACgSsEtfPBluo3QOCcnOFAAABAACJc2VjcDI1NmsxoQJ4vr8kRHSEDl5T9qoB_93MqIXh2rRaTMRcgICA-tNAFYN0Y3CCW6eDdWRwgluphXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23462/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.241.137/tcp/46058/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46057/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51752/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3e9790ea-40ab-472e-9225-58866ca1037e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3e9790ea-40ab-472e-9225-58866ca1037e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8864/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f1d7e26f-9c45-4afb-ae18-acf5eee95d6d", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f1d7e26f-9c45-4afb-ae18-acf5eee95d6d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57980/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "464e2959-cb56-4b7c-980b-045e9ef8e9dd", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"464e2959-cb56-4b7c-980b-045e9ef8e9dd","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23462/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5f4e954f-e942-42a7-b1ed-94c4f1e31f5b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5f4e954f-e942-42a7-b1ed-94c4f1e31f5b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46057/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51752/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1716808877985551104,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46057/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8864/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:8864/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 77f665e33b79
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 5c3eb972e002
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 3cb6092abf05
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id dd906242de72
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 3956481e48a7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.