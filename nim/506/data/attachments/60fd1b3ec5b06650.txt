[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-07_04-17-42__c8abecee-b783-4155-a2d4-5bc2f739e02f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-07_04-17-42__c8abecee-b783-4155-a2d4-5bc2f739e02f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.212.192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30679', '30680', '30681', '30682', '30683']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30679:30679 -p 30680:30680 -p 30681:30681 -p 30682:30682 -p 30683:30683 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30681 --rest-port=30679 --tcp-port=30680 --discv5-udp-port=30682 --rest-address=0.0.0.0 --nat=extip:172.18.212.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c8bafdbefd3b69baff6c0f69adb0cc8b42bdf059b7cce30524185eddadba8ebd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30683 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.212.192 waku 8bc05ccd83582a15f361b03be7e7e5f7cee6ccb06158c8c1bdb9b783963f3cc3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8bc05ccd8358. Setting up logs at ./log/docker/node1_2024-12-07_04-17-42__c8abecee-b783-4155-a2d4-5bc2f739e02f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30679
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 96166981109b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30679/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30679/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.192/tcp/30680/p2p/16Uiu2HAm6CS4Je6VBnwEmQWRx28C7QHLsdf1hHzfYoMnYuixAg4k","/ip4/172.18.212.192/tcp/30681/ws/p2p/16Uiu2HAm6CS4Je6VBnwEmQWRx28C7QHLsdf1hHzfYoMnYuixAg4k"],"enrUri":"enr:-L24QLjIN9gbbksvCf0Bgh09QPNgxX8wHVUwop9W1DiQZNuuSYIEq32Oc6xacyjaCB_sBq9FWvhovOp9QHyzL1n9piQCgmlkgnY0gmlwhKwS1MCKbXVsdGlhZGRyc5YACASsEtTABnfYAAoErBLUwAZ32d0DgnJzhQADAQAAiXNlY3AyNTZrMaECoAxDhoNmHHLp3ax-pca8dAdyE63G_N6aeouorqi4IU2DdGNwgnfYg3VkcIJ32oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-07_04-17-42__c8abecee-b783-4155-a2d4-5bc2f739e02f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.76.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36010', '36011', '36012', '36013', '36014']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36010:36010 -p 36011:36011 -p 36012:36012 -p 36013:36013 -p 36014:36014 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36012 --rest-port=36010 --tcp-port=36011 --discv5-udp-port=36013 --rest-address=0.0.0.0 --nat=extip:172.18.76.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b9d53dece0c670adcb3df0fecf67f65964e7ea4b778cb0385d3eaedce8c9bf97 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36014 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLjIN9gbbksvCf0Bgh09QPNgxX8wHVUwop9W1DiQZNuuSYIEq32Oc6xacyjaCB_sBq9FWvhovOp9QHyzL1n9piQCgmlkgnY0gmlwhKwS1MCKbXVsdGlhZGRyc5YACASsEtTABnfYAAoErBLUwAZ32d0DgnJzhQADAQAAiXNlY3AyNTZrMaECoAxDhoNmHHLp3ax-pca8dAdyE63G_N6aeouorqi4IU2DdGNwgnfYg3VkcIJ32oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.76.169 waku fac7090fbc9a62ace446e70e4c28b924c713ec1fec6db988348f8f4409936857
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fac7090fbc9a. Setting up logs at ./log/docker/node2_2024-12-07_04-17-42__c8abecee-b783-4155-a2d4-5bc2f739e02f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36010
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36010/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36010/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.169/tcp/36011/p2p/16Uiu2HAkyMrrJT68m9oz3ebZGtyAaMH3WSev4EQFUvhgVZVpzXZF","/ip4/172.18.76.169/tcp/36012/ws/p2p/16Uiu2HAkyMrrJT68m9oz3ebZGtyAaMH3WSev4EQFUvhgVZVpzXZF"],"enrUri":"enr:-L24QIX_717asORRNdU_xwXFasBhjbb7eEe2rlXfGR-x2yfnDQbjHPuD-1PjVxlR1h5hXtk4FCw_cV9IZ5DN2PLqqkkCgmlkgnY0gmlwhKwSTKmKbXVsdGlhZGRyc5YACASsEkypBoyrAAoErBJMqQaMrN0DgnJzhQADAQAAiXNlY3AyNTZrMaECOnS3VgIN7Ome8r39zC_xQWyfJFaRq2yLm8ff36VYGN6DdGNwgoyrg3VkcIKMrYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36010/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.192/tcp/30680/p2p/16Uiu2HAm6CS4Je6VBnwEmQWRx28C7QHLsdf1hHzfYoMnYuixAg4k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-07_04-17-42__c8abecee-b783-4155-a2d4-5bc2f739e02f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.247.133
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40492', '40493', '40494', '40495', '40496']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40492:40492 -p 40493:40493 -p 40494:40494 -p 40495:40495 -p 40496:40496 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40494 --rest-port=40492 --tcp-port=40493 --discv5-udp-port=40495 --rest-address=0.0.0.0 --nat=extip:172.18.247.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eb2af48f7e3beae1679e71594a3fcb2b79d10ecfe5ce584b65d4e40d7f4b4b07 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40496 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLjIN9gbbksvCf0Bgh09QPNgxX8wHVUwop9W1DiQZNuuSYIEq32Oc6xacyjaCB_sBq9FWvhovOp9QHyzL1n9piQCgmlkgnY0gmlwhKwS1MCKbXVsdGlhZGRyc5YACASsEtTABnfYAAoErBLUwAZ32d0DgnJzhQADAQAAiXNlY3AyNTZrMaECoAxDhoNmHHLp3ax-pca8dAdyE63G_N6aeouorqi4IU2DdGNwgnfYg3VkcIJ32oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.247.133 waku 42514fdc112061381dac6884c9e49dcf3adea756d9d01e3b10500198066e8cb8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 42514fdc1120. Setting up logs at ./log/docker/node3_2024-12-07_04-17-42__c8abecee-b783-4155-a2d4-5bc2f739e02f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 40492
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40492/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40492/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.247.133/tcp/40493/p2p/16Uiu2HAm7T26gTRDHeDdA7fWKQMJEHdyue9rBRxpGLaJ1WBaiNKA","/ip4/172.18.247.133/tcp/40494/ws/p2p/16Uiu2HAm7T26gTRDHeDdA7fWKQMJEHdyue9rBRxpGLaJ1WBaiNKA"],"enrUri":"enr:-L24QPmMXuY47MP0mql6hgumE0k9sK3SUeYnaa4L7djnwhb7cRCR_vtXgDx4R0HxyiegzT9eBGvBlDg827jLjvxscloCgmlkgnY0gmlwhKwS94WKbXVsdGlhZGRyc5YACASsEveFBp4tAAoErBL3hQaeLt0DgnJzhQADAQAAiXNlY3AyNTZrMaECsqSSgEUOaQsBjV3nRRDodbR3OVF2FiCkS_UttSF6JAmDdGNwgp4tg3VkcIKeL4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40492/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.192/tcp/30680/p2p/16Uiu2HAm6CS4Je6VBnwEmQWRx28C7QHLsdf1hHzfYoMnYuixAg4k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-07_04-17-42__c8abecee-b783-4155-a2d4-5bc2f739e02f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.249.86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24993', '24994', '24995', '24996', '24997']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24993:24993 -p 24994:24994 -p 24995:24995 -p 24996:24996 -p 24997:24997 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24995 --rest-port=24993 --tcp-port=24994 --discv5-udp-port=24996 --rest-address=0.0.0.0 --nat=extip:172.18.249.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=74e51f8eeea39d5b1f17f3fbcbd6c4ed95e1db93a94a8aa82b79fd89542d0ad3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24997 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLjIN9gbbksvCf0Bgh09QPNgxX8wHVUwop9W1DiQZNuuSYIEq32Oc6xacyjaCB_sBq9FWvhovOp9QHyzL1n9piQCgmlkgnY0gmlwhKwS1MCKbXVsdGlhZGRyc5YACASsEtTABnfYAAoErBLUwAZ32d0DgnJzhQADAQAAiXNlY3AyNTZrMaECoAxDhoNmHHLp3ax-pca8dAdyE63G_N6aeouorqi4IU2DdGNwgnfYg3VkcIJ32oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.249.86 waku ed870194a78ebdca0049fd2d715b24a841dba0589a0fd83b41994d3fb77e258b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ed870194a78e. Setting up logs at ./log/docker/node4_2024-12-07_04-17-42__c8abecee-b783-4155-a2d4-5bc2f739e02f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 24993
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24993/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24993/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.86/tcp/24994/p2p/16Uiu2HAmMgrDqeEnNNYb9s3Ua7DYkGzKnn6HY3s9ZU3p7EkZWfEC","/ip4/172.18.249.86/tcp/24995/ws/p2p/16Uiu2HAmMgrDqeEnNNYb9s3Ua7DYkGzKnn6HY3s9ZU3p7EkZWfEC"],"enrUri":"enr:-L24QG5khVx8T1zddlYdJLxoXtVy0E6uDSot-KWI4qPqo9kcBcJrku7Piwf7_D1gV9TK_3Da45S9JJbFxVQtyKozIIACgmlkgnY0gmlwhKwS-VaKbXVsdGlhZGRyc5YACASsEvlWBmGiAAoErBL5VgZho90DgnJzhQADAQAAiXNlY3AyNTZrMaEDhjMnMFxmTvRVCXJFRvywbELdYxVUfaM9oYJbMKwNb_2DdGNwgmGig3VkcIJhpIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24993/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.192/tcp/30680/p2p/16Uiu2HAm6CS4Je6VBnwEmQWRx28C7QHLsdf1hHzfYoMnYuixAg4k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-07_04-17-42__c8abecee-b783-4155-a2d4-5bc2f739e02f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.117.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53518', '53519', '53520', '53521', '53522']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53518:53518 -p 53519:53519 -p 53520:53520 -p 53521:53521 -p 53522:53522 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53520 --rest-port=53518 --tcp-port=53519 --discv5-udp-port=53521 --rest-address=0.0.0.0 --nat=extip:172.18.117.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bd81c2aa0fe9a4ef35a115ad5748dce2a7addf3cb8dae988fa8c3e2edae3c8af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53522 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLjIN9gbbksvCf0Bgh09QPNgxX8wHVUwop9W1DiQZNuuSYIEq32Oc6xacyjaCB_sBq9FWvhovOp9QHyzL1n9piQCgmlkgnY0gmlwhKwS1MCKbXVsdGlhZGRyc5YACASsEtTABnfYAAoErBLUwAZ32d0DgnJzhQADAQAAiXNlY3AyNTZrMaECoAxDhoNmHHLp3ax-pca8dAdyE63G_N6aeouorqi4IU2DdGNwgnfYg3VkcIJ32oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.117.19 waku c8204b9babbd1c7c4985838586f1bfae5b6ee0bea3685cfd8439a8ba2efe94e2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c8204b9babbd. Setting up logs at ./log/docker/node5_2024-12-07_04-17-42__c8abecee-b783-4155-a2d4-5bc2f739e02f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 53518
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53518/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53518/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.117.19/tcp/53519/p2p/16Uiu2HAmH8NsAF2yfVQLpUd4znpiCTZBgGfRVquW69vSsbXZD1eg","/ip4/172.18.117.19/tcp/53520/ws/p2p/16Uiu2HAmH8NsAF2yfVQLpUd4znpiCTZBgGfRVquW69vSsbXZD1eg"],"enrUri":"enr:-L24QDXNhdCC-tOVYgnCdmsKmkdAo4KQSDqBpeJkiXZ3kkKTY6o6PwTH_P9cZacDZWaerfwWx5ROxkVfvUqPNEmjrIwCgmlkgnY0gmlwhKwSdROKbXVsdGlhZGRyc5YACASsEnUTBtEPAAoErBJ1EwbREN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQnLjKTcbQ_P3BPxVR2jTIlSn5n_8K84PlqQYmPtDQamDdGNwgtEPg3VkcILREYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53518/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.192/tcp/30680/p2p/16Uiu2HAm6CS4Je6VBnwEmQWRx28C7QHLsdf1hHzfYoMnYuixAg4k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30679/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36010/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40492/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24993/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53518/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30679/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30679/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733545070580102400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36010/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733545070580102400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40492/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733545070580102400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24993/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733545070580102400,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53518/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733545070580102400,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53518/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30679/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733545070713016064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36010/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733545070713016064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40492/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733545070713016064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24993/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733545070713016064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53518/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733545070713016064,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8bc05ccd8358
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fac7090fbc9a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8bc05ccd8358. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 42514fdc1120
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fac7090fbc9a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ed870194a78e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 42514fdc1120. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c8204b9babbd
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ed870194a78e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.