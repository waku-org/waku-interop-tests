[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-18_04-10-07__e9395146-f1ed-446c-9192-544d8ad62136
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-18_04-10-07__e9395146-f1ed-446c-9192-544d8ad62136__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.96.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41706', '41707', '41708', '41709', '41710']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41706:41706 -p 41707:41707 -p 41708:41708 -p 41709:41709 -p 41710:41710 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41708 --rest-port=41706 --tcp-port=41707 --discv5-udp-port=41709 --rest-address=0.0.0.0 --nat=extip:172.18.96.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9814e2258cbbab7ebfbe6eaeedaa8ccbdabebf07b4ab7ca6b678acfcdbfb7eeb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41710 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.96.6 waku 84b53675d3fe7c292a797b52a8d40e6c88969663d462398d7474d02576fa30a9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 84b53675d3fe. Setting up logs at ./log/docker/node1_2024-12-18_04-10-07__e9395146-f1ed-446c-9192-544d8ad62136__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 41706
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 730e6ced74c2. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41706/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41706/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.6/tcp/41707/p2p/16Uiu2HAmB2QvemPpvEBrrLRR8P18LQAtYnRbtkwHoYQHAHstL5wy","/ip4/172.18.96.6/tcp/41708/ws/p2p/16Uiu2HAmB2QvemPpvEBrrLRR8P18LQAtYnRbtkwHoYQHAHstL5wy"],"enrUri":"enr:-L24QEo6SVcqAE1U30r6ad-2oUpWOAbUE0scgjerxnVBYVNfaMxX4O2rG97nPfT6W2pkkyoQbhNJyvshtvemtrxCBkQCgmlkgnY0gmlwhKwSYAaKbXVsdGlhZGRyc5YACASsEmAGBqLrAAoErBJgBgai7N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC58WcRBtEmCM244svn4RckvvOFQz-vOcuThiIE0ieOeyDdGNwgqLrg3VkcIKi7YV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-18_04-10-07__e9395146-f1ed-446c-9192-544d8ad62136__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.91.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54353', '54354', '54355', '54356', '54357']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54353:54353 -p 54354:54354 -p 54355:54355 -p 54356:54356 -p 54357:54357 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54355 --rest-port=54353 --tcp-port=54354 --discv5-udp-port=54356 --rest-address=0.0.0.0 --nat=extip:172.18.91.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bd6cb9ddf9d1b37230fbffd917ad1f7eb1fb890b2c4a0a1604abd0c310ee9e2d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54357 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QEo6SVcqAE1U30r6ad-2oUpWOAbUE0scgjerxnVBYVNfaMxX4O2rG97nPfT6W2pkkyoQbhNJyvshtvemtrxCBkQCgmlkgnY0gmlwhKwSYAaKbXVsdGlhZGRyc5YACASsEmAGBqLrAAoErBJgBgai7N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC58WcRBtEmCM244svn4RckvvOFQz-vOcuThiIE0ieOeyDdGNwgqLrg3VkcIKi7YV3YWt1MgU --filternode=/ip4/172.18.96.6/tcp/41707/p2p/16Uiu2HAmB2QvemPpvEBrrLRR8P18LQAtYnRbtkwHoYQHAHstL5wy
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.91.98 waku 012692073ec09b6bffbf6ca7544fc1d9f7ff4434278f57bcae58df1446287f53
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 012692073ec0. Setting up logs at ./log/docker/node2_2024-12-18_04-10-07__e9395146-f1ed-446c-9192-544d8ad62136__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 54353
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54353/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54353/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.98/tcp/54354/p2p/16Uiu2HAmEnTNadBmz1h6bFSpAeJk444B3Ni6vpWDKtdvJcBQLrE5","/ip4/172.18.91.98/tcp/54355/ws/p2p/16Uiu2HAmEnTNadBmz1h6bFSpAeJk444B3Ni6vpWDKtdvJcBQLrE5"],"enrUri":"enr:-L24QC--SG-k3n4MQ8geN3Vj23iMTlADvKTAyua1ZLP62z9Ve6FSeahbeaizyjBXH8FhTFwNREWQKmoCrGGlS0QpseECgmlkgnY0gmlwhKwSW2KKbXVsdGlhZGRyc5YACASsEltiBtRSAAoErBJbYgbUU90DgnJzhQADAQAAiXNlY3AyNTZrMaEDH6D-YXoqGdyfypBvBOBsO3o42xTd-zWAbfm5Um1lYsKDdGNwgtRSg3VkcILUVIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54353/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.6/tcp/41707/p2p/16Uiu2HAmB2QvemPpvEBrrLRR8P18LQAtYnRbtkwHoYQHAHstL5wy"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-18_04-10-07__e9395146-f1ed-446c-9192-544d8ad62136__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.215.22
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14997', '14998', '14999', '15000', '15001']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14997:14997 -p 14998:14998 -p 14999:14999 -p 15000:15000 -p 15001:15001 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14999 --rest-port=14997 --tcp-port=14998 --discv5-udp-port=15000 --rest-address=0.0.0.0 --nat=extip:172.18.215.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd1cacee1e0afa3e14dabeea17e60b9dde697fabcfaaeca473c7b7fd08b3ccd5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15001 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QEo6SVcqAE1U30r6ad-2oUpWOAbUE0scgjerxnVBYVNfaMxX4O2rG97nPfT6W2pkkyoQbhNJyvshtvemtrxCBkQCgmlkgnY0gmlwhKwSYAaKbXVsdGlhZGRyc5YACASsEmAGBqLrAAoErBJgBgai7N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC58WcRBtEmCM244svn4RckvvOFQz-vOcuThiIE0ieOeyDdGNwgqLrg3VkcIKi7YV3YWt1MgU --filternode=/ip4/172.18.96.6/tcp/41707/p2p/16Uiu2HAmB2QvemPpvEBrrLRR8P18LQAtYnRbtkwHoYQHAHstL5wy
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.215.22 waku 05586f02c3f1eed8ef63614cfeedd0dc37d26858b754cceaba69f9a9439764e7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 05586f02c3f1. Setting up logs at ./log/docker/node3_2024-12-18_04-10-07__e9395146-f1ed-446c-9192-544d8ad62136__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 14997
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14997/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14997/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.215.22/tcp/14998/p2p/16Uiu2HAm9xL3AHBh6VA3k7XsumxRhuVSeZDBpu3iMMpWXxjyFBfK","/ip4/172.18.215.22/tcp/14999/ws/p2p/16Uiu2HAm9xL3AHBh6VA3k7XsumxRhuVSeZDBpu3iMMpWXxjyFBfK"],"enrUri":"enr:-L24QKYq87cKHMcNqqIuWr1gFBA7SXowEn1HF7squcLqpNX-VCP1w3DbzxxUzwfDqVQ-24Id4CgDlgGuUxohymqnFNwCgmlkgnY0gmlwhKwS1xaKbXVsdGlhZGRyc5YACASsEtcWBjqWAAoErBLXFgY6l90DgnJzhQADAQAAiXNlY3AyNTZrMaEC194S2PSBQDz9ywn7TwjIy_Ni7Xdk9VDQJ0UmUJ5498aDdGNwgjqWg3VkcII6mIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14997/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.6/tcp/41707/p2p/16Uiu2HAmB2QvemPpvEBrrLRR8P18LQAtYnRbtkwHoYQHAHstL5wy"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-18_04-10-07__e9395146-f1ed-446c-9192-544d8ad62136__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.183.59
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2679', '2680', '2681', '2682', '2683']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2679:2679 -p 2680:2680 -p 2681:2681 -p 2682:2682 -p 2683:2683 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2681 --rest-port=2679 --tcp-port=2680 --discv5-udp-port=2682 --rest-address=0.0.0.0 --nat=extip:172.18.183.59 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=93c44d43eedc437b12688a7a5fdfadc7de5afee9bbe83a1a3b2da79ef3c0db8b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2683 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QEo6SVcqAE1U30r6ad-2oUpWOAbUE0scgjerxnVBYVNfaMxX4O2rG97nPfT6W2pkkyoQbhNJyvshtvemtrxCBkQCgmlkgnY0gmlwhKwSYAaKbXVsdGlhZGRyc5YACASsEmAGBqLrAAoErBJgBgai7N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC58WcRBtEmCM244svn4RckvvOFQz-vOcuThiIE0ieOeyDdGNwgqLrg3VkcIKi7YV3YWt1MgU --filternode=/ip4/172.18.96.6/tcp/41707/p2p/16Uiu2HAmB2QvemPpvEBrrLRR8P18LQAtYnRbtkwHoYQHAHstL5wy
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.183.59 waku 337d442b7d4d135d73aec5d95114f15959cfca95d5c0d2a21e30cc682f62e1a2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 337d442b7d4d. Setting up logs at ./log/docker/node4_2024-12-18_04-10-07__e9395146-f1ed-446c-9192-544d8ad62136__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2679
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2679/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2679/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.183.59/tcp/2680/p2p/16Uiu2HAmMNBCzuacfscSgmCmpy8kTAbTRs3cMupLXcAH77NxhQHt","/ip4/172.18.183.59/tcp/2681/ws/p2p/16Uiu2HAmMNBCzuacfscSgmCmpy8kTAbTRs3cMupLXcAH77NxhQHt"],"enrUri":"enr:-L24QBgQeBeSRcH3hkP2Dlgbc3eiwbVUQzw6qPRTGD2ktddCOGpOPOrKdCmZIBjLPLfwZ688xzW1F4SdyivyR6fowRoCgmlkgnY0gmlwhKwStzuKbXVsdGlhZGRyc5YACASsErc7Bgp4AAoErBK3OwYKed0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgWqVrrELE9vJ8hGVB0FThPb4YP88vSqW6nTc-Y2-x1-DdGNwggp4g3VkcIIKeoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2679/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.6/tcp/41707/p2p/16Uiu2HAmB2QvemPpvEBrrLRR8P18LQAtYnRbtkwHoYQHAHstL5wy"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-18_04-10-07__e9395146-f1ed-446c-9192-544d8ad62136__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.75.237
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57289', '57290', '57291', '57292', '57293']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57289:57289 -p 57290:57290 -p 57291:57291 -p 57292:57292 -p 57293:57293 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57291 --rest-port=57289 --tcp-port=57290 --discv5-udp-port=57292 --rest-address=0.0.0.0 --nat=extip:172.18.75.237 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0ec3abdcfe02c22841c0181fc5eafbe7d4e5ccc94fe946f60bca23fd8102343f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57293 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QEo6SVcqAE1U30r6ad-2oUpWOAbUE0scgjerxnVBYVNfaMxX4O2rG97nPfT6W2pkkyoQbhNJyvshtvemtrxCBkQCgmlkgnY0gmlwhKwSYAaKbXVsdGlhZGRyc5YACASsEmAGBqLrAAoErBJgBgai7N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC58WcRBtEmCM244svn4RckvvOFQz-vOcuThiIE0ieOeyDdGNwgqLrg3VkcIKi7YV3YWt1MgU --filternode=/ip4/172.18.96.6/tcp/41707/p2p/16Uiu2HAmB2QvemPpvEBrrLRR8P18LQAtYnRbtkwHoYQHAHstL5wy
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.75.237 waku 24093599d33084026f7d9028f485bada5b411e2c39de9e85cec24f6e3498c7b7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 24093599d330. Setting up logs at ./log/docker/node5_2024-12-18_04-10-07__e9395146-f1ed-446c-9192-544d8ad62136__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 57289
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57289/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57289/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.237/tcp/57290/p2p/16Uiu2HAmTckuHJVgyioBizEY9oUQNNcQVj5kco7tPDb7qEGteE61","/ip4/172.18.75.237/tcp/57291/ws/p2p/16Uiu2HAmTckuHJVgyioBizEY9oUQNNcQVj5kco7tPDb7qEGteE61"],"enrUri":"enr:-L24QLWRK5eKS8gC4adWz77MJuCM5lhb1rI0hYfQ1pQUq-dKNBStY_AHSOYCRilKbbaJ_7N1mAkB8MWOqDef7S6ZOYQCgmlkgnY0gmlwhKwSS-2KbXVsdGlhZGRyc5YACASsEkvtBt_KAAoErBJL7Qbfy90DgnJzhQADAQAAiXNlY3AyNTZrMaED3kzvpLlbx3Qt-gXn9Blh5RYmR-NZ1wQf-AdOakt6ZY6DdGNwgt_Kg3VkcILfzIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57289/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.6/tcp/41707/p2p/16Uiu2HAmB2QvemPpvEBrrLRR8P18LQAtYnRbtkwHoYQHAHstL5wy"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41706/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54353/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "eab21c35-6b53-4fb6-af10-881462ead64c", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"eab21c35-6b53-4fb6-af10-881462ead64c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14997/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "00332e81-d0fb-418c-b7d4-d32d6e184668", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"00332e81-d0fb-418c-b7d4-d32d6e184668","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2679/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e94fc6cd-ced3-412e-b1ee-4afc055729cd", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e94fc6cd-ced3-412e-b1ee-4afc055729cd","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57289/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4707f352-8158-4348-81c4-3c6ef1acba91", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4707f352-8158-4348-81c4-3c6ef1acba91","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41706/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54353/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1734495015309995008,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41706/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14997/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:14997/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 84b53675d3fe
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 012692073ec0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 84b53675d3fe. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 05586f02c3f1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 012692073ec0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 337d442b7d4d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 05586f02c3f1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 24093599d330
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 337d442b7d4d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.