[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_sort_ascending[true] with id: 2024-12-18_04-28-42__7f9c0927-ef51-401a-b40d-ba799ffcbe8b
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-12-18_04-28-42__7f9c0927-ef51-401a-b40d-ba799ffcbe8b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.7.171
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58056', '58057', '58058', '58059', '58060']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58056:58056 -p 58057:58057 -p 58058:58058 -p 58059:58059 -p 58060:58060 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58058 --rest-port=58056 --tcp-port=58057 --discv5-udp-port=58059 --rest-address=0.0.0.0 --nat=extip:172.18.7.171 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1a5ebbb6f415aa004fc40a3b56e9001909ae6c52ce83c2fcec17f66dce613dfd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58060 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.7.171 waku 73d1b8fda1f4cc99aa304abd631ca2c780adffd0dd29e9002dcca6fd338a9691
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 73d1b8fda1f4. Setting up logs at ./log/docker/publishing_node1_2024-12-18_04-28-42__7f9c0927-ef51-401a-b40d-ba799ffcbe8b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 58056
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 15d9716d95ff. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58056/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58056/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.171/tcp/58057/p2p/16Uiu2HAkxdnXUnQkeeEirHeN1UhmMNVpCKf1YVDPQwuLyQWcSWUD","/ip4/172.18.7.171/tcp/58058/ws/p2p/16Uiu2HAkxdnXUnQkeeEirHeN1UhmMNVpCKf1YVDPQwuLyQWcSWUD"],"enrUri":"enr:-L24QFXzs8WSSCfXqRQbNlQm--XWaTxvB67asc7zN-DxWZquV6es0TBFBlHbaoKaRm3kXjSduA3jcCZq-r_iMW_Ne9gCgmlkgnY0gmlwhKwSB6uKbXVsdGlhZGRyc5YACASsEgerBuLJAAoErBIHqwbiyt0DgnJzhQADAQAAiXNlY3AyNTZrMaECL61us8kVKri6eHuOFCJebCq0G3nix20KkxwhG2-StDaDdGNwguLJg3VkcILiy4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-12-18_04-28-42__7f9c0927-ef51-401a-b40d-ba799ffcbe8b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.206.70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16841', '16842', '16843', '16844', '16845']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16841:16841 -p 16842:16842 -p 16843:16843 -p 16844:16844 -p 16845:16845 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16843 --rest-port=16841 --tcp-port=16842 --discv5-udp-port=16844 --rest-address=0.0.0.0 --nat=extip:172.18.206.70 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=caeacceacda0790ebd5a827c126f0e1b86c490548bb32efa0cb702b05f5bcc96 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16845 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QFXzs8WSSCfXqRQbNlQm--XWaTxvB67asc7zN-DxWZquV6es0TBFBlHbaoKaRm3kXjSduA3jcCZq-r_iMW_Ne9gCgmlkgnY0gmlwhKwSB6uKbXVsdGlhZGRyc5YACASsEgerBuLJAAoErBIHqwbiyt0DgnJzhQADAQAAiXNlY3AyNTZrMaECL61us8kVKri6eHuOFCJebCq0G3nix20KkxwhG2-StDaDdGNwguLJg3VkcILiy4V3YWt1MgM --storenode=/ip4/172.18.7.171/tcp/58057/p2p/16Uiu2HAkxdnXUnQkeeEirHeN1UhmMNVpCKf1YVDPQwuLyQWcSWUD --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.206.70 waku 6cc77d9906bfc2f761c42bde6fba1c9c7f471a3eab8f7bee951bf8ad90b51ccd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6cc77d9906bf. Setting up logs at ./log/docker/store_node1_2024-12-18_04-28-42__7f9c0927-ef51-401a-b40d-ba799ffcbe8b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 16841
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16841/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16841/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.206.70/tcp/16842/p2p/16Uiu2HAmNndKHp256rskbCMpmohThhD1hEscYcDCd9Ay3GjSoeDj","/ip4/172.18.206.70/tcp/16843/ws/p2p/16Uiu2HAmNndKHp256rskbCMpmohThhD1hEscYcDCd9Ay3GjSoeDj"],"enrUri":"enr:-L24QEIm_coYIMGnLtg0RKSmT_m67PjjPhiSynpfz9mEXrGTWsUCxh3RYJ8Suj8Bsrz17xBMnmKjn2LSaEKg8xzZFy0CgmlkgnY0gmlwhKwSzkaKbXVsdGlhZGRyc5YACASsEs5GBkHKAAoErBLORgZBy90DgnJzhQADAQAAiXNlY3AyNTZrMaEDlom7Y2yHQyAiHVmIWg1X13BqeqKY1Cb5h-_g6JPq09aDdGNwgkHKg3VkcIJBzIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16841/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.7.171/tcp/58057/p2p/16Uiu2HAkxdnXUnQkeeEirHeN1UhmMNVpCKf1YVDPQwuLyQWcSWUD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58056/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16841/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58056/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58056/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"D0p6hl7WMblPFznk237PqrHm8ji0GIHKJCmrm3z2eH8="},{"messageHash":"SL6fBanMIMMA82TemD4Y4is7w7pC+vcghE58viP5HhI="},{"messageHash":"/2C39UeiaKgJwIIBHkIgn1oZJueAGF97S8+EDNg92cw="},{"messageHash":"/ITXVO20QkwrC05WdjdEWTazh1SSLOqJOgH55HsBBK4="},{"messageHash":"5PE8nivka0hkr8RO4nld/rHVXUv+t8aZDYpkZ8Hf4/Q="}],"paginationCursor":"5PE8nivka0hkr8RO4nld/rHVXUv+t8aZDYpkZ8Hf4/Q="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16841/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"D0p6hl7WMblPFznk237PqrHm8ji0GIHKJCmrm3z2eH8="},{"messageHash":"SL6fBanMIMMA82TemD4Y4is7w7pC+vcghE58viP5HhI="},{"messageHash":"/2C39UeiaKgJwIIBHkIgn1oZJueAGF97S8+EDNg92cw="},{"messageHash":"/ITXVO20QkwrC05WdjdEWTazh1SSLOqJOgH55HsBBK4="},{"messageHash":"5PE8nivka0hkr8RO4nld/rHVXUv+t8aZDYpkZ8Hf4/Q="}],"paginationCursor":"5PE8nivka0hkr8RO4nld/rHVXUv+t8aZDYpkZ8Hf4/Q="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 73d1b8fda1f4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6cc77d9906bf
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 73d1b8fda1f4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.