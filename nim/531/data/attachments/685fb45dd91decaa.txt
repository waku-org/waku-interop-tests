[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-18_04-15-58__8d0faa86-f3bc-4f3d-b0ed-732d5bcb80d7
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-18_04-15-58__8d0faa86-f3bc-4f3d-b0ed-732d5bcb80d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.157.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36911', '36912', '36913', '36914', '36915']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36911:36911 -p 36912:36912 -p 36913:36913 -p 36914:36914 -p 36915:36915 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36913 --rest-port=36911 --tcp-port=36912 --discv5-udp-port=36914 --rest-address=0.0.0.0 --nat=extip:172.18.157.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbd29d31eecac9e9e0fe91071ada9cc8fc5cbadeb8aa4afb0f2f432bdf7dacda --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36915 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.126.135
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35655', '35656', '35657', '35658', '35659']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35655:35655 -p 35656:35656 -p 35657:35657 -p 35658:35658 -p 35659:35659 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35657 --rest-port=35655 --tcp-port=35656 --discv5-udp-port=35658 --rest-address=0.0.0.0 --nat=extip:172.18.126.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e7ddde26b087e1f12490ef07dcba835ec7eaa1deffb65bdeceb8e013cde5afca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35659 --metrics-logging=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ee5e353bcf7d. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.126.135 waku b6110df53f02679e852b5bc4f7a9dcb8ccdefc7a72fb5b2291f9545cd12c6dc5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b6110df53f02. Setting up logs at ./log/docker/node1_2024-12-18_04-15-58__8d0faa86-f3bc-4f3d-b0ed-732d5bcb80d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 35655
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35655/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35655/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.135/tcp/35656/p2p/16Uiu2HAm7kBieh5RVhXkVdNukSsjbF9hNC5Qv5Xd6EGigCHNRU6P","/ip4/172.18.126.135/tcp/35657/ws/p2p/16Uiu2HAm7kBieh5RVhXkVdNukSsjbF9hNC5Qv5Xd6EGigCHNRU6P"],"enrUri":"enr:-L24QM7ALI8ssnmR5pEHmvosDWvYafNyF51Aj3mfziRWCXpgBCsBYY4v8hkddeYjl6UVRlUTnn5MEaUTnk8Adbq-jFoCgmlkgnY0gmlwhKwSfoeKbXVsdGlhZGRyc5YACASsEn6HBotIAAoErBJ-hwaLSd0DgnJzhQADAQAAiXNlY3AyNTZrMaECtwpS1hmbsvK8JqiIP-pUBwMexos1IZwj_7sRsTDpjVSDdGNwgotIg3VkcIKLSoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-18_04-15-58__8d0faa86-f3bc-4f3d-b0ed-732d5bcb80d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.108.45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31823', '31824', '31825', '31826', '31827']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31823:31823 -p 31824:31824 -p 31825:31825 -p 31826:31826 -p 31827:31827 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31825 --rest-port=31823 --tcp-port=31824 --discv5-udp-port=31826 --rest-address=0.0.0.0 --nat=extip:172.18.108.45 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbb9a6dccbb9166499cebfd84e835dff5f6c5adfe3afbdbfeafffc5fabb891c4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31827 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QM7ALI8ssnmR5pEHmvosDWvYafNyF51Aj3mfziRWCXpgBCsBYY4v8hkddeYjl6UVRlUTnn5MEaUTnk8Adbq-jFoCgmlkgnY0gmlwhKwSfoeKbXVsdGlhZGRyc5YACASsEn6HBotIAAoErBJ-hwaLSd0DgnJzhQADAQAAiXNlY3AyNTZrMaECtwpS1hmbsvK8JqiIP-pUBwMexos1IZwj_7sRsTDpjVSDdGNwgotIg3VkcIKLSoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.108.45 waku 3396c71b09411e757ce4dff99e77313427c46817a58f080fe731dc61be06aab0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3396c71b0941. Setting up logs at ./log/docker/node2_2024-12-18_04-15-58__8d0faa86-f3bc-4f3d-b0ed-732d5bcb80d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 31823
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31823/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31823/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.108.45/tcp/31824/p2p/16Uiu2HAmGRy94nntBqhppexo4xh4YST2rFiPPkQK2DsBciudXZkb","/ip4/172.18.108.45/tcp/31825/ws/p2p/16Uiu2HAmGRy94nntBqhppexo4xh4YST2rFiPPkQK2DsBciudXZkb"],"enrUri":"enr:-L24QHiev7L5i1vy1fjufOdVabEVIeEYYS8Rg21K0FM1XVm5WYovQ5XEnizgn6Xwtw2_MJNOaBH5JQgGMV5qI4jJMcsCgmlkgnY0gmlwhKwSbC2KbXVsdGlhZGRyc5YACASsEmwtBnxQAAoErBJsLQZ8Ud0DgnJzhQADAQAAiXNlY3AyNTZrMaEDOBjUA9ij-3-Mru1gmv7stdogO-qeq3IoPpgKhUDO35CDdGNwgnxQg3VkcIJ8UoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31823/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.126.135/tcp/35656/p2p/16Uiu2HAm7kBieh5RVhXkVdNukSsjbF9hNC5Qv5Xd6EGigCHNRU6P"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-18_04-15-58__8d0faa86-f3bc-4f3d-b0ed-732d5bcb80d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.133.197
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4516', '4517', '4518', '4519', '4520']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4516:4516 -p 4517:4517 -p 4518:4518 -p 4519:4519 -p 4520:4520 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4518 --rest-port=4516 --tcp-port=4517 --discv5-udp-port=4519 --rest-address=0.0.0.0 --nat=extip:172.18.133.197 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dde8d756bc2ece19ad1fdfd5ba7dcad44beba450b8cca7facafa82b79dbe1fef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4520 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QM7ALI8ssnmR5pEHmvosDWvYafNyF51Aj3mfziRWCXpgBCsBYY4v8hkddeYjl6UVRlUTnn5MEaUTnk8Adbq-jFoCgmlkgnY0gmlwhKwSfoeKbXVsdGlhZGRyc5YACASsEn6HBotIAAoErBJ-hwaLSd0DgnJzhQADAQAAiXNlY3AyNTZrMaECtwpS1hmbsvK8JqiIP-pUBwMexos1IZwj_7sRsTDpjVSDdGNwgotIg3VkcIKLSoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.133.197 waku a696d8bd670309ed25a56e8a966b8806bc21011315277aa4832f5c550b27eccc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a696d8bd6703. Setting up logs at ./log/docker/node3_2024-12-18_04-15-58__8d0faa86-f3bc-4f3d-b0ed-732d5bcb80d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4516
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4516/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4516/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.133.197/tcp/4517/p2p/16Uiu2HAmH2bgQRrvzav2EizBu4TsdZ79H9BA9yJC5uZYSJXMx2bB","/ip4/172.18.133.197/tcp/4518/ws/p2p/16Uiu2HAmH2bgQRrvzav2EizBu4TsdZ79H9BA9yJC5uZYSJXMx2bB"],"enrUri":"enr:-L24QIa7KxMxvazWdB3yxsDC4y-44290JbokiD2BZATxniTpdeZ_JlfiWg88C6IWwWwtkvQ0n4M77MeJ_LkYGTPLjN0CgmlkgnY0gmlwhKwShcWKbXVsdGlhZGRyc5YACASsEoXFBhGlAAoErBKFxQYRpt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQPfkV8wFIyIeqCN4M4Nsu7Pp-EF8JXuXD53UET2p0TqDdGNwghGlg3VkcIIRp4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4516/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.126.135/tcp/35656/p2p/16Uiu2HAm7kBieh5RVhXkVdNukSsjbF9hNC5Qv5Xd6EGigCHNRU6P"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-18_04-15-58__8d0faa86-f3bc-4f3d-b0ed-732d5bcb80d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.72.33
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55933', '55934', '55935', '55936', '55937']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55933:55933 -p 55934:55934 -p 55935:55935 -p 55936:55936 -p 55937:55937 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55935 --rest-port=55933 --tcp-port=55934 --discv5-udp-port=55936 --rest-address=0.0.0.0 --nat=extip:172.18.72.33 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e5fbb9beb5b240bac66f93e86f9dcceae9e44acabebd74e394d85bddab4a3c0a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55937 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QM7ALI8ssnmR5pEHmvosDWvYafNyF51Aj3mfziRWCXpgBCsBYY4v8hkddeYjl6UVRlUTnn5MEaUTnk8Adbq-jFoCgmlkgnY0gmlwhKwSfoeKbXVsdGlhZGRyc5YACASsEn6HBotIAAoErBJ-hwaLSd0DgnJzhQADAQAAiXNlY3AyNTZrMaECtwpS1hmbsvK8JqiIP-pUBwMexos1IZwj_7sRsTDpjVSDdGNwgotIg3VkcIKLSoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.72.33 waku 1d1b8880509a40fcada0e6852b4f4585ed21f67ee67ec233fff2bca0d992e5a7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1d1b8880509a. Setting up logs at ./log/docker/node4_2024-12-18_04-15-58__8d0faa86-f3bc-4f3d-b0ed-732d5bcb80d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 55933
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55933/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55933/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.72.33/tcp/55934/p2p/16Uiu2HAkvzqmSXUgZj8xTEJDW6YgsTTxKKDSfXKDG4ZYjApaSCCw","/ip4/172.18.72.33/tcp/55935/ws/p2p/16Uiu2HAkvzqmSXUgZj8xTEJDW6YgsTTxKKDSfXKDG4ZYjApaSCCw"],"enrUri":"enr:-L24QJBOsBkNr29uZM1tlxARGOLN_pB96qDPtbWGtA5NSkRhOOUmCf70g4SR-NxGzQ_0QXEAgnlyrFLMhJBvxnHBKk0CgmlkgnY0gmlwhKwSSCGKbXVsdGlhZGRyc5YACASsEkghBtp-AAoErBJIIQbaf90DgnJzhQADAQAAiXNlY3AyNTZrMaECF1rrezxZVylUCvDVt1DtFzo3JcY_o4LcjcyHJ_U7_NiDdGNwgtp-g3VkcILagIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55933/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.126.135/tcp/35656/p2p/16Uiu2HAm7kBieh5RVhXkVdNukSsjbF9hNC5Qv5Xd6EGigCHNRU6P"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-18_04-15-58__8d0faa86-f3bc-4f3d-b0ed-732d5bcb80d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.231.157
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39350', '39351', '39352', '39353', '39354']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39350:39350 -p 39351:39351 -p 39352:39352 -p 39353:39353 -p 39354:39354 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39352 --rest-port=39350 --tcp-port=39351 --discv5-udp-port=39353 --rest-address=0.0.0.0 --nat=extip:172.18.231.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4e9f6e7afae0fe7c876b8c5b69f63bebde9c18ab85bdbe70ee31865ccfa9d2da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39354 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QM7ALI8ssnmR5pEHmvosDWvYafNyF51Aj3mfziRWCXpgBCsBYY4v8hkddeYjl6UVRlUTnn5MEaUTnk8Adbq-jFoCgmlkgnY0gmlwhKwSfoeKbXVsdGlhZGRyc5YACASsEn6HBotIAAoErBJ-hwaLSd0DgnJzhQADAQAAiXNlY3AyNTZrMaECtwpS1hmbsvK8JqiIP-pUBwMexos1IZwj_7sRsTDpjVSDdGNwgotIg3VkcIKLSoV3YWt1MgE
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.212.25
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4594', '4595', '4596', '4597', '4598']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4594:4594 -p 4595:4595 -p 4596:4596 -p 4597:4597 -p 4598:4598 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4596 --rest-port=4594 --tcp-port=4595 --discv5-udp-port=4597 --rest-address=0.0.0.0 --nat=extip:172.18.212.25 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da8b312adceea67f00ed76e8cbddf84ad20fbfefbd0d7fef0f5ad4c782f28148 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4598 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QM7ALI8ssnmR5pEHmvosDWvYafNyF51Aj3mfziRWCXpgBCsBYY4v8hkddeYjl6UVRlUTnn5MEaUTnk8Adbq-jFoCgmlkgnY0gmlwhKwSfoeKbXVsdGlhZGRyc5YACASsEn6HBotIAAoErBJ-hwaLSd0DgnJzhQADAQAAiXNlY3AyNTZrMaECtwpS1hmbsvK8JqiIP-pUBwMexos1IZwj_7sRsTDpjVSDdGNwgotIg3VkcIKLSoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.212.25 waku a0629904a060109e4e84f2a5adbeba7feaec2cfc4240163284eb7d6dddc42a45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a0629904a060. Setting up logs at ./log/docker/node5_2024-12-18_04-15-58__8d0faa86-f3bc-4f3d-b0ed-732d5bcb80d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4594
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4594/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4594/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.25/tcp/4595/p2p/16Uiu2HAmNC376eHxDohn9B9KGp293x5c6ujB3gPweePQSS7JszSm","/ip4/172.18.212.25/tcp/4596/ws/p2p/16Uiu2HAmNC376eHxDohn9B9KGp293x5c6ujB3gPweePQSS7JszSm"],"enrUri":"enr:-L24QIClPZR_MlAKjy-kx38wtL4ipGKPjHRo1CHciGgLa-kDDx6ULqWHKUR99-IDOOnk9dlGsV_ho7G9LLPqYdoE6IMCgmlkgnY0gmlwhKwS1BmKbXVsdGlhZGRyc5YACASsEtQZBhHzAAoErBLUGQYR9N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDja1NiGOI-unXNOoHHHZEJ-eXb_JizOENAaAFbS-DQDqDdGNwghHzg3VkcIIR9YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4594/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.126.135/tcp/35656/p2p/16Uiu2HAm7kBieh5RVhXkVdNukSsjbF9hNC5Qv5Xd6EGigCHNRU6P"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35655/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31823/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4516/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55933/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4594/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35655/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35655/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734495367720537344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31823/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734495367720537344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4516/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734495367720537344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55933/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734495367720537344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4594/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734495367720537344,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35655/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35655/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734495367848573952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31823/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734495367848573952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4516/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734495367848573952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55933/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734495367848573952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4594/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734495367848573952,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b6110df53f02
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3396c71b0941
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b6110df53f02. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a696d8bd6703
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3396c71b0941. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1d1b8880509a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a696d8bd6703. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a0629904a060
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1d1b8880509a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.