[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-06-24_04-12-39__6344f3cf-a263-4a25-a86d-f7d40683ee2c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:65 WakuNode instance initialized with log path ./log/docker/node1_2024-06-24_04-12-39__6344f3cf-a263-4a25-a86d-f7d40683ee2c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:69 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.99.12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['40209', '40210', '40211', '40212', '40213']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:410 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:139 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:141 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 40209:40209 -p 40210:40210 -p 40211:40211 -p 40212:40212 -p 40213:40213 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40211 --rest-port=40209 --tcp-port=40210 --discv5-udp-port=40212 --rest-address=0.0.0.0 --nat=extip:172.18.99.12 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40213 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.99.12 waku 518d565b72a5518615b4520e3a3a7a39946c143d0d190efe4d02339874913687
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 518d565b72a5. Setting up logs at ./log/docker/node1_2024-06-24_04-12-39__6344f3cf-a263-4a25-a86d-f7d40683ee2c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:153 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 40209
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40209/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:256 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40209/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.12/tcp/40210/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.99.12/tcp/40211/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QH9EIxPWPxvMvRbTXzt-6Mb15CT7wm7yHwOBl9wMqYUjIhMttPD3l6wNWbVUatETdgb6nrcp49_Nusno8ZZomjMBgmlkgnY0gmlwhKwSYwyKbXVsdGlhZGRyc4wACgSsEmMMBp0T3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCnRKDdWRwgp0UhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:261 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:65 WakuNode instance initialized with log path ./log/docker/node2_2024-06-24_04-12-39__6344f3cf-a263-4a25-a86d-f7d40683ee2c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:69 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.231.114
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['39904', '39905', '39906', '39907', '39908']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:410 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:139 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:141 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 39904:39904 -p 39905:39905 -p 39906:39906 -p 39907:39907 -p 39908:39908 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39906 --rest-port=39904 --tcp-port=39905 --discv5-udp-port=39907 --rest-address=0.0.0.0 --nat=extip:172.18.231.114 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39908 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QH9EIxPWPxvMvRbTXzt-6Mb15CT7wm7yHwOBl9wMqYUjIhMttPD3l6wNWbVUatETdgb6nrcp49_Nusno8ZZomjMBgmlkgnY0gmlwhKwSYwyKbXVsdGlhZGRyc4wACgSsEmMMBp0T3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCnRKDdWRwgp0UhXdha3UyBQ --filternode=/ip4/172.18.99.12/tcp/40210/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.231.114 waku c789a7846e20460e1aa49271cf7289c6ead0d2a91c891d9efcff631d22e3b920
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c789a7846e20. Setting up logs at ./log/docker/node2_2024-06-24_04-12-39__6344f3cf-a263-4a25-a86d-f7d40683ee2c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:153 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 39904
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39904/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:256 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39904/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.231.114/tcp/39905/p2p/16Uiu2HAmSU5sn4MPoSpjbZxZXRtAmc5wbuGTSCpUmhDVw2vvZfLV","/ip4/172.18.231.114/tcp/39906/ws/p2p/16Uiu2HAmSU5sn4MPoSpjbZxZXRtAmc5wbuGTSCpUmhDVw2vvZfLV"],"enrUri":"enr:-LO4QKEKPeI5h_hNsf7TKRobkjew7ipP6eb4sGBuI_mxEdlGSDV6RuhDQWgjG6iCjD9AciSMslyNpriZMud2myTnJocBgmlkgnY0gmlwhKwS53KKbXVsdGlhZGRyc4wACgSsEudyBpvi3QOCcnOFAAABAACJc2VjcDI1NmsxoQPNOHnXbVT6qsnSR8Cqq6D3YKxlYRuqX9Vu2UxGaedscoN0Y3CCm-GDdWRwgpvjhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:261 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39904/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.12/tcp/40210/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:65 WakuNode instance initialized with log path ./log/docker/node3_2024-06-24_04-12-39__6344f3cf-a263-4a25-a86d-f7d40683ee2c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:69 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.192.81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['23857', '23858', '23859', '23860', '23861']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:410 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:139 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:141 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 23857:23857 -p 23858:23858 -p 23859:23859 -p 23860:23860 -p 23861:23861 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23859 --rest-port=23857 --tcp-port=23858 --discv5-udp-port=23860 --rest-address=0.0.0.0 --nat=extip:172.18.192.81 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23861 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QH9EIxPWPxvMvRbTXzt-6Mb15CT7wm7yHwOBl9wMqYUjIhMttPD3l6wNWbVUatETdgb6nrcp49_Nusno8ZZomjMBgmlkgnY0gmlwhKwSYwyKbXVsdGlhZGRyc4wACgSsEmMMBp0T3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCnRKDdWRwgp0UhXdha3UyBQ --filternode=/ip4/172.18.99.12/tcp/40210/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.192.81 waku 355e0a23c40235da35c4bb134961df436636fa5fa645a7387de6badc32f2ca0d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 355e0a23c402. Setting up logs at ./log/docker/node3_2024-06-24_04-12-39__6344f3cf-a263-4a25-a86d-f7d40683ee2c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:153 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 23857
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23857/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:256 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23857/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.192.81/tcp/23858/p2p/16Uiu2HAmHauMqnu1Rt4T6JvjMYoX5v21U3Dy6tQbHihk8e8WE1w6","/ip4/172.18.192.81/tcp/23859/ws/p2p/16Uiu2HAmHauMqnu1Rt4T6JvjMYoX5v21U3Dy6tQbHihk8e8WE1w6"],"enrUri":"enr:-LO4QBq1dPTUfUhhhj1NRPazIt-hRlkZ0TcgG76Csmo05AedXv5oVwRUXm7-mlIH78lwfbMucnnj9ebLw-3i5rNkjpMBgmlkgnY0gmlwhKwSwFGKbXVsdGlhZGRyc4wACgSsEsBRBl0z3QOCcnOFAAABAACJc2VjcDI1NmsxoQNJPnf46ux2PKLmO3WCao0sDcAdbRD0IOHhYqzkB1miOYN0Y3CCXTKDdWRwgl00hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:261 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23857/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.12/tcp/40210/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:65 WakuNode instance initialized with log path ./log/docker/node4_2024-06-24_04-12-39__6344f3cf-a263-4a25-a86d-f7d40683ee2c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:69 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.104.70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['41629', '41630', '41631', '41632', '41633']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:410 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:139 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:141 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 41629:41629 -p 41630:41630 -p 41631:41631 -p 41632:41632 -p 41633:41633 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41631 --rest-port=41629 --tcp-port=41630 --discv5-udp-port=41632 --rest-address=0.0.0.0 --nat=extip:172.18.104.70 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41633 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QH9EIxPWPxvMvRbTXzt-6Mb15CT7wm7yHwOBl9wMqYUjIhMttPD3l6wNWbVUatETdgb6nrcp49_Nusno8ZZomjMBgmlkgnY0gmlwhKwSYwyKbXVsdGlhZGRyc4wACgSsEmMMBp0T3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCnRKDdWRwgp0UhXdha3UyBQ --filternode=/ip4/172.18.99.12/tcp/40210/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.104.70 waku 32c52f31cfa4b086a1fd6000ba3c9226422714e32bf0b68a3a2ad4f01ce04426
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 32c52f31cfa4. Setting up logs at ./log/docker/node4_2024-06-24_04-12-39__6344f3cf-a263-4a25-a86d-f7d40683ee2c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:153 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 41629
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41629/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:256 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41629/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.70/tcp/41630/p2p/16Uiu2HAmNE3CdT7V7bQNp9fNaxFibsgzsSEx6TkpPsZxp9HxPkTD","/ip4/172.18.104.70/tcp/41631/ws/p2p/16Uiu2HAmNE3CdT7V7bQNp9fNaxFibsgzsSEx6TkpPsZxp9HxPkTD"],"enrUri":"enr:-LO4QF2CuCOuprjlOJ2lvhEFku1O_rsNgujeicKtQjgR5TFwFxwpvwyU1U_zZMpxu8xHYXxoe8wItMTOe4v2yNI88-cBgmlkgnY0gmlwhKwSaEaKbXVsdGlhZGRyc4wACgSsEmhGBqKf3QOCcnOFAAABAACJc2VjcDI1NmsxoQOOMJKC5kDeCXLjYCaGq_VUlstdsIbMNaOfzP6PNKHhXIN0Y3CCop6DdWRwgqKghXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:261 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41629/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.12/tcp/40210/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:65 WakuNode instance initialized with log path ./log/docker/node5_2024-06-24_04-12-39__6344f3cf-a263-4a25-a86d-f7d40683ee2c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:69 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.55.61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['40976', '40977', '40978', '40979', '40980']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:410 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:139 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:141 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 40976:40976 -p 40977:40977 -p 40978:40978 -p 40979:40979 -p 40980:40980 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40978 --rest-port=40976 --tcp-port=40977 --discv5-udp-port=40979 --rest-address=0.0.0.0 --nat=extip:172.18.55.61 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40980 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QH9EIxPWPxvMvRbTXzt-6Mb15CT7wm7yHwOBl9wMqYUjIhMttPD3l6wNWbVUatETdgb6nrcp49_Nusno8ZZomjMBgmlkgnY0gmlwhKwSYwyKbXVsdGlhZGRyc4wACgSsEmMMBp0T3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCnRKDdWRwgp0UhXdha3UyBQ --filternode=/ip4/172.18.99.12/tcp/40210/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.55.61 waku 5803e10cb3fe31d71a796ede2df02ec4ec17da80dcf7fbd92d65c60eb60a3176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5803e10cb3fe. Setting up logs at ./log/docker/node5_2024-06-24_04-12-39__6344f3cf-a263-4a25-a86d-f7d40683ee2c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:153 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 40976
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40976/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:256 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40976/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.55.61/tcp/40977/p2p/16Uiu2HAmERGdNb8LR47HKJxMege3Yki6iYnoP6BxkGUMYQKcSrzq","/ip4/172.18.55.61/tcp/40978/ws/p2p/16Uiu2HAmERGdNb8LR47HKJxMege3Yki6iYnoP6BxkGUMYQKcSrzq"],"enrUri":"enr:-LO4QNykXYzpSCjaMb-ok3W4tBl5pXbwY-b-ZP4C_AcjDLZ2QLOSU1C8WRmU8JKw2B58haVTirlxXFD2GcJx6YfUZwQBgmlkgnY0gmlwhKwSNz2KbXVsdGlhZGRyc4wACgSsEjc9BqAS3QOCcnOFAAABAACJc2VjcDI1NmsxoQMaM6W278vUqISVi7iedUyVdPWnRbFaf3wC4jy3zjM4loN0Y3CCoBGDdWRwgqAThXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:261 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40976/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.12/tcp/40210/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40209/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39904/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ff19d64b-b469-411d-8a1c-2a2d1be17972", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ff19d64b-b469-411d-8a1c-2a2d1be17972","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23857/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2b3e8e96-55b3-447d-89ad-d2962caa38f7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2b3e8e96-55b3-447d-89ad-d2962caa38f7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41629/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a30eb679-02a2-4c9b-86b6-537ec73e36fe", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a30eb679-02a2-4c9b-86b6-537ec73e36fe","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40976/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "04a9d75c-0402-4882-8f0f-defeadad5fcf", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"04a9d75c-0402-4882-8f0f-defeadad5fcf","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39904/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1719202367321859584,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23857/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:23857/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:200 Stopping container with id 518d565b72a5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:207 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:200 Stopping container with id c789a7846e20
[35mDEBUG   [0m src.node.waku_node:waku_node.py:207 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:200 Stopping container with id 355e0a23c402
[35mDEBUG   [0m src.node.waku_node:waku_node.py:207 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:200 Stopping container with id 32c52f31cfa4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:207 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:200 Stopping container with id 5803e10cb3fe
[35mDEBUG   [0m src.node.waku_node:waku_node.py:207 Container stopped.