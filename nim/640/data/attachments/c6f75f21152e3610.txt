2025-02-04 17:11:27.013 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-04 17:11:27.013 DEBUG [tests.conftest] Running test: test_publish_with_valid_content_topics with id: 2025-02-04_17-11-27__47ca83fe-c7f1-4429-a54c-f826cee00643
2025-02-04 17:11:27.013 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-04 17:11:27.014 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-04 17:11:27.014 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-04 17:11:27.020 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:11:27.020 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-04_17-11-27__47ca83fe-c7f1-4429-a54c-f826cee00643__wakuorg_nwaku:latest.log
2025-02-04 17:11:27.021 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:11:27.021 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:11:27.022 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:11:27.022 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.55.43
2025-02-04 17:11:27.023 DEBUG [src.node.docker_mananger] Generated ports ['2909', '2910', '2911', '2912', '2913']
2025-02-04 17:11:27.023 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:11:27.023 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:11:27.023 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:11:27.023 DEBUG [src.node.docker_mananger] docker run -i -t -p 2909:2909 -p 2910:2910 -p 2911:2911 -p 2912:2912 -p 2913:2913 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2911 --rest-port=2909 --tcp-port=2910 --discv5-udp-port=2912 --rest-address=0.0.0.0 --nat=extip:172.18.55.43 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=afa1e4fadee0ae614fe7eba8592defc26fce0b6eace9ae5bcdaddb437be35f6c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2913 --metrics-logging=true --relay=true
2025-02-04 17:11:27.264 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.55.43 waku 1efbfa5d18079fac06bf4d4544c395ad8729a474c1d9d88f38a9db89ea5b12e7
2025-02-04 17:11:27.317 DEBUG [src.node.docker_mananger] Container started with ID 1efbfa5d1807. Setting up logs at ./log/docker/node1_2025-02-04_17-11-27__47ca83fe-c7f1-4429-a54c-f826cee00643__wakuorg_nwaku:latest.log
2025-02-04 17:11:27.317 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 2909
2025-02-04 17:11:27.317 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:11:27.818 ERROR [src.node.docker_mananger] Max retries reached for container 9035e82f4831. Exiting log stream.
2025-02-04 17:11:28.318 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:28.320 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:11:28.321 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:11:28.321 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:28.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.55.43/tcp/2910/p2p/16Uiu2HAmGuZ3gCxnVkhzu97MBVzH2e6S654yPzYVxT5at5Mv2TuL","/ip4/172.18.55.43/tcp/2911/ws/p2p/16Uiu2HAmGuZ3gCxnVkhzu97MBVzH2e6S654yPzYVxT5at5Mv2TuL"],"enrUri":"enr:-L24QNABrGc82jhok6-w6ky0tTJzqdYpv0WoW_Cnhsc0YTXPbmU47IBW7HnY1LoO4EpnuOi6Y3kLfVzquXOJ1zXlcMICgmlkgnY0gmlwhKwSNyuKbXVsdGlhZGRyc5YACASsEjcrBgteAAoErBI3KwYLX90DgnJzhQADAQAAiXNlY3AyNTZrMaEDPynZUJqcbor66HGxe386ET_UxfEV-_pYFC5NsiglOfuDdGNwggteg3VkcIILYIV3YWt1MgE"}'
2025-02-04 17:11:28.323 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:11:28.330 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:11:28.330 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-04_17-11-27__47ca83fe-c7f1-4429-a54c-f826cee00643__wakuorg_nwaku:latest.log
2025-02-04 17:11:28.330 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:11:28.330 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:11:28.331 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:11:28.331 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.5.110
2025-02-04 17:11:28.332 DEBUG [src.node.docker_mananger] Generated ports ['53001', '53002', '53003', '53004', '53005']
2025-02-04 17:11:28.332 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:11:28.332 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:11:28.332 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:11:28.332 DEBUG [src.node.docker_mananger] docker run -i -t -p 53001:53001 -p 53002:53002 -p 53003:53003 -p 53004:53004 -p 53005:53005 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53003 --rest-port=53001 --tcp-port=53002 --discv5-udp-port=53004 --rest-address=0.0.0.0 --nat=extip:172.18.5.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=765b7ed699c34e6cb763ffabfddaafcbb230f71a546e3ccbfdee5c3d2cf9eacb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53005 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNABrGc82jhok6-w6ky0tTJzqdYpv0WoW_Cnhsc0YTXPbmU47IBW7HnY1LoO4EpnuOi6Y3kLfVzquXOJ1zXlcMICgmlkgnY0gmlwhKwSNyuKbXVsdGlhZGRyc5YACASsEjcrBgteAAoErBI3KwYLX90DgnJzhQADAQAAiXNlY3AyNTZrMaEDPynZUJqcbor66HGxe386ET_UxfEV-_pYFC5NsiglOfuDdGNwggteg3VkcIILYIV3YWt1MgE
2025-02-04 17:11:28.565 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.5.110 waku 1610b2664e29d23f6cd6b0d44a9034bd155f3f5691fccd70a520d1ffc94f5538
2025-02-04 17:11:28.619 DEBUG [src.node.docker_mananger] Container started with ID 1610b2664e29. Setting up logs at ./log/docker/node2_2025-02-04_17-11-27__47ca83fe-c7f1-4429-a54c-f826cee00643__wakuorg_nwaku:latest.log
2025-02-04 17:11:28.620 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 53001
2025-02-04 17:11:28.620 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:11:29.621 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:29.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:11:29.633 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:11:29.634 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:29.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.110/tcp/53002/p2p/16Uiu2HAkxWx1UPhtntVJ16WK9B4bG6kFaP2KhpnjK55CiCMnys5A","/ip4/172.18.5.110/tcp/53003/ws/p2p/16Uiu2HAkxWx1UPhtntVJ16WK9B4bG6kFaP2KhpnjK55CiCMnys5A"],"enrUri":"enr:-L24QOaEkZcBt4nJ8y0hjKfTXNbcVHDu0L1aYCRStkqmC8ohOaar4DaK05rb5-rLjxJacKzPP2JWAPFBKcP6z_ovbyYCgmlkgnY0gmlwhKwSBW6KbXVsdGlhZGRyc5YACASsEgVuBs8KAAoErBIFbgbPC90DgnJzhQADAQAAiXNlY3AyNTZrMaECLe0WvT1EAgfQHbuxpJUI2jMnJxga-AtU74HDFJfkjUmDdGNwgs8Kg3VkcILPDIV3YWt1MgE"}'
2025-02-04 17:11:29.637 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:11:29.638 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53001/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.55.43/tcp/2910/p2p/16Uiu2HAmGuZ3gCxnVkhzu97MBVzH2e6S654yPzYVxT5at5Mv2TuL"]'
2025-02-04 17:11:29.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:29.641 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-04 17:11:29.641 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-04 17:11:29.645 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:29.645 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53001/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-04 17:11:29.651 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:29.652 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:29.658 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:29.659 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:29.760 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:29.760 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:29.763 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738689089652325120,"ephemeral":false}]'
2025-02-04 17:11:29.764 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:29.765 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:29.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738689089652325120,"ephemeral":false}]'
2025-02-04 17:11:29.768 INFO [src.steps.relay] WARM UP successful!!
2025-02-04 17:11:29.769 DEBUG [tests.relay.test_publish] Running test with content topic A simple string
2025-02-04 17:11:29.770 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Hello World!", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:29.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:29.775 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:29.875 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:29.876 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:29.879 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Hello World!","version":0,"timestamp":1738689089769843968,"ephemeral":false}]'
2025-02-04 17:11:29.880 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:29.880 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:29.883 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Hello World!","version":0,"timestamp":1738689089769843968,"ephemeral":false}]'
2025-02-04 17:11:29.884 DEBUG [tests.relay.test_publish] Running test with content topic An integer
2025-02-04 17:11:29.885 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "1234567890", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:29.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:29.889 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:29.990 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:29.990 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:29.993 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234567890","version":0,"timestamp":1738689089884999680,"ephemeral":false}]'
2025-02-04 17:11:29.994 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:29.995 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:29.997 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234567890","version":0,"timestamp":1738689089884999680,"ephemeral":false}]'
2025-02-04 17:11:29.998 DEBUG [tests.relay.test_publish] Running test with content topic A dictionary
2025-02-04 17:11:29.999 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "{\"key\": \"value\"}", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:30.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:30.003 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:30.104 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.104 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738689089998930944,"ephemeral":false}]'
2025-02-04 17:11:30.109 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738689089998930944,"ephemeral":false}]'
2025-02-04 17:11:30.112 DEBUG [tests.relay.test_publish] Running test with content topic Chinese characters
2025-02-04 17:11:30.113 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:30.117 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:30.118 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:30.218 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.218 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.221 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738689090112977920,"ephemeral":false}]'
2025-02-04 17:11:30.222 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.222 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738689090112977920,"ephemeral":false}]'
2025-02-04 17:11:30.226 DEBUG [tests.relay.test_publish] Running test with content topic Emojis
2025-02-04 17:11:30.227 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:30.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:30.232 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:30.332 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.332 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738689090227094272,"ephemeral":false}]'
2025-02-04 17:11:30.336 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.336 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738689090227094272,"ephemeral":false}]'
2025-02-04 17:11:30.340 DEBUG [tests.relay.test_publish] Running test with content topic Lorem ipsum text
2025-02-04 17:11:30.340 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:30.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:30.346 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:30.446 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.446 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.449 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738689090340510976,"ephemeral":false}]'
2025-02-04 17:11:30.451 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.451 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738689090340510976,"ephemeral":false}]'
2025-02-04 17:11:30.454 DEBUG [tests.relay.test_publish] Running test with content topic HTML content
2025-02-04 17:11:30.455 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "<html><body>Hello</body></html>", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:30.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:30.459 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:30.560 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.561 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738689090455103232,"ephemeral":false}]'
2025-02-04 17:11:30.565 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.565 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738689090455103232,"ephemeral":false}]'
2025-02-04 17:11:30.568 DEBUG [tests.relay.test_publish] Running test with content topic Cyrillic characters
2025-02-04 17:11:30.569 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:30.573 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:30.574 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:30.674 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.674 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.677 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738689090569036544,"ephemeral":false}]'
2025-02-04 17:11:30.679 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.679 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738689090569036544,"ephemeral":false}]'
2025-02-04 17:11:30.683 DEBUG [tests.relay.test_publish] Running test with content topic Base64 encoded string
2025-02-04 17:11:30.683 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Base64==dGVzdA==", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:30.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:30.688 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:30.788 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.789 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738689090683451904,"ephemeral":false}]'
2025-02-04 17:11:30.793 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.795 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738689090683451904,"ephemeral":false}]'
2025-02-04 17:11:30.797 DEBUG [tests.relay.test_publish] Running test with content topic Binary data
2025-02-04 17:11:30.797 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:30.802 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:30.802 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:30.903 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.903 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.906 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738689090797330944,"ephemeral":false}]'
2025-02-04 17:11:30.908 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:30.908 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:30.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738689090797330944,"ephemeral":false}]'
2025-02-04 17:11:30.911 DEBUG [tests.relay.test_publish] Running test with content topic Special characters with whitespace
2025-02-04 17:11:30.912 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:30.918 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:30.918 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:31.018 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.019 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.021 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738689090912225536,"ephemeral":false}]'
2025-02-04 17:11:31.023 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.023 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738689090912225536,"ephemeral":false}]'
2025-02-04 17:11:31.027 DEBUG [tests.relay.test_publish] Running test with content topic Boolean false as a string
2025-02-04 17:11:31.027 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "False", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:31.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:31.032 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:31.133 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.133 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.136 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"False","version":0,"timestamp":1738689091027341312,"ephemeral":false}]'
2025-02-04 17:11:31.138 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.138 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"False","version":0,"timestamp":1738689091027341312,"ephemeral":false}]'
2025-02-04 17:11:31.141 DEBUG [tests.relay.test_publish] Running test with content topic A float number
2025-02-04 17:11:31.142 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "3.1415926535", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:31.147 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:31.147 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:31.247 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.248 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.251 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"3.1415926535","version":0,"timestamp":1738689091142125824,"ephemeral":false}]'
2025-02-04 17:11:31.252 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.252 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"3.1415926535","version":0,"timestamp":1738689091142125824,"ephemeral":false}]'
2025-02-04 17:11:31.256 DEBUG [tests.relay.test_publish] Running test with content topic A list
2025-02-04 17:11:31.257 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:31.262 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:31.262 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:31.362 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.363 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738689091257117952,"ephemeral":false}]'
2025-02-04 17:11:31.367 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.367 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.369 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738689091257117952,"ephemeral":false}]'
2025-02-04 17:11:31.371 DEBUG [tests.relay.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-04 17:11:31.371 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "0xDEADBEEF", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:31.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:31.378 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:31.478 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.478 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738689091371315200,"ephemeral":false}]'
2025-02-04 17:11:31.482 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.483 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.485 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738689091371315200,"ephemeral":false}]'
2025-02-04 17:11:31.486 DEBUG [tests.relay.test_publish] Running test with content topic Email format
2025-02-04 17:11:31.487 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "user@example.com", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:31.491 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:31.491 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:31.591 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.592 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.595 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"user@example.com","version":0,"timestamp":1738689091486873088,"ephemeral":false}]'
2025-02-04 17:11:31.596 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.596 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"user@example.com","version":0,"timestamp":1738689091486873088,"ephemeral":false}]'
2025-02-04 17:11:31.600 DEBUG [tests.relay.test_publish] Running test with content topic URL format
2025-02-04 17:11:31.600 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "http://example.com", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:31.604 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:31.605 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:31.705 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.706 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.708 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"http://example.com","version":0,"timestamp":1738689091600344064,"ephemeral":false}]'
2025-02-04 17:11:31.710 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.710 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"http://example.com","version":0,"timestamp":1738689091600344064,"ephemeral":false}]'
2025-02-04 17:11:31.714 DEBUG [tests.relay.test_publish] Running test with content topic Date and time in ISO format
2025-02-04 17:11:31.714 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:31.718 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:31.719 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:31.819 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.819 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738689091714422272,"ephemeral":false}]'
2025-02-04 17:11:31.823 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.823 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.826 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738689091714422272,"ephemeral":false}]'
2025-02-04 17:11:31.827 DEBUG [tests.relay.test_publish] Running test with content topic String with escaped quotes
2025-02-04 17:11:31.827 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:31.832 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:31.832 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:31.933 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.933 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738689091827632128,"ephemeral":false}]'
2025-02-04 17:11:31.937 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:31.937 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:31.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738689091827632128,"ephemeral":false}]'
2025-02-04 17:11:31.941 DEBUG [tests.relay.test_publish] Running test with content topic A regular expression
2025-02-04 17:11:31.941 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:31.946 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:31.946 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:32.046 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.047 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.050 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738689091941527552,"ephemeral":false}]'
2025-02-04 17:11:32.051 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.051 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738689091941527552,"ephemeral":false}]'
2025-02-04 17:11:32.055 DEBUG [tests.relay.test_publish] Running test with content topic A very long string
2025-02-04 17:11:32.055 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:32.060 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:32.060 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:32.161 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.161 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738689092055352832,"ephemeral":false}]'
2025-02-04 17:11:32.165 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.165 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.168 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738689092055352832,"ephemeral":false}]'
2025-02-04 17:11:32.169 DEBUG [tests.relay.test_publish] Running test with content topic A JSON string
2025-02-04 17:11:32.169 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:32.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:32.175 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:32.275 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.276 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738689092169778944,"ephemeral":false}]'
2025-02-04 17:11:32.280 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.281 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738689092169778944,"ephemeral":false}]'
2025-02-04 17:11:32.285 DEBUG [tests.relay.test_publish] Running test with content topic A Unix path
2025-02-04 17:11:32.285 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/usr/local/bin", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:32.290 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:32.290 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:32.391 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.391 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/usr/local/bin","version":0,"timestamp":1738689092285450496,"ephemeral":false}]'
2025-02-04 17:11:32.395 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.395 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.398 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/usr/local/bin","version":0,"timestamp":1738689092285450496,"ephemeral":false}]'
2025-02-04 17:11:32.399 DEBUG [tests.relay.test_publish] Running test with content topic A Windows path
2025-02-04 17:11:32.399 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "C:\\Windows\\System32", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:32.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:32.404 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:32.505 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.505 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738689092399516160,"ephemeral":false}]'
2025-02-04 17:11:32.509 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.509 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.512 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738689092399516160,"ephemeral":false}]'
2025-02-04 17:11:32.513 DEBUG [tests.relay.test_publish] Running test with content topic An SQL query
2025-02-04 17:11:32.513 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:32.518 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:32.519 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:32.619 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.619 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738689092513663744,"ephemeral":false}]'
2025-02-04 17:11:32.623 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.624 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.626 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738689092513663744,"ephemeral":false}]'
2025-02-04 17:11:32.627 DEBUG [tests.relay.test_publish] Running test with content topic JavaScript code snippet
2025-02-04 17:11:32.628 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:32.632 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:32.633 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:32.733 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.733 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738689092627886592,"ephemeral":false}]'
2025-02-04 17:11:32.738 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.738 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.740 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738689092627886592,"ephemeral":false}]'
2025-02-04 17:11:32.741 DEBUG [tests.relay.test_publish] Running test with content topic A CSS snippet
2025-02-04 17:11:32.742 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "body { background-color: #fff; }", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:32.746 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:32.746 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:32.847 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.847 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.850 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738689092742056192,"ephemeral":false}]'
2025-02-04 17:11:32.851 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.851 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.854 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738689092742056192,"ephemeral":false}]'
2025-02-04 17:11:32.855 DEBUG [tests.relay.test_publish] Running test with content topic A Python one-liner
2025-02-04 17:11:32.855 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "print('Hello World')", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:32.860 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:32.860 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:32.960 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.961 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.964 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738689092855526656,"ephemeral":false}]'
2025-02-04 17:11:32.965 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:32.965 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:32.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738689092855526656,"ephemeral":false}]'
2025-02-04 17:11:32.969 DEBUG [tests.relay.test_publish] Running test with content topic An IP address
2025-02-04 17:11:32.969 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "192.168.1.1", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:32.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:32.974 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:33.075 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.078 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"192.168.1.1","version":0,"timestamp":1738689092969404160,"ephemeral":false}]'
2025-02-04 17:11:33.080 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.080 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"192.168.1.1","version":0,"timestamp":1738689092969404160,"ephemeral":false}]'
2025-02-04 17:11:33.083 DEBUG [tests.relay.test_publish] Running test with content topic A domain name
2025-02-04 17:11:33.084 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "www.example.com", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:33.088 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:33.090 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:33.190 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.191 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.194 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"www.example.com","version":0,"timestamp":1738689093084201728,"ephemeral":false}]'
2025-02-04 17:11:33.195 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.195 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"www.example.com","version":0,"timestamp":1738689093084201728,"ephemeral":false}]'
2025-02-04 17:11:33.199 DEBUG [tests.relay.test_publish] Running test with content topic A user agent string
2025-02-04 17:11:33.200 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:33.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:33.204 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:33.304 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.305 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738689093199858432,"ephemeral":false}]'
2025-02-04 17:11:33.309 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.309 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738689093199858432,"ephemeral":false}]'
2025-02-04 17:11:33.312 DEBUG [tests.relay.test_publish] Running test with content topic A credit card number
2025-02-04 17:11:33.313 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "1234-5678-9012-3456", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:33.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:33.318 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:33.418 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.418 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.421 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738689093313192192,"ephemeral":false}]'
2025-02-04 17:11:33.422 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.422 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.425 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738689093313192192,"ephemeral":false}]'
2025-02-04 17:11:33.426 DEBUG [tests.relay.test_publish] Running test with content topic A phone number
2025-02-04 17:11:33.426 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "+1234567890", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:33.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:33.432 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:33.533 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.533 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.536 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"+1234567890","version":0,"timestamp":1738689093426809344,"ephemeral":false}]'
2025-02-04 17:11:33.537 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.537 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.540 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"+1234567890","version":0,"timestamp":1738689093426809344,"ephemeral":false}]'
2025-02-04 17:11:33.541 DEBUG [tests.relay.test_publish] Running test with content topic A UUID
2025-02-04 17:11:33.541 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:33.546 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:33.546 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:33.646 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.647 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.650 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738689093541753856,"ephemeral":false}]'
2025-02-04 17:11:33.651 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.651 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738689093541753856,"ephemeral":false}]'
2025-02-04 17:11:33.655 DEBUG [tests.relay.test_publish] Running test with content topic A hashtag
2025-02-04 17:11:33.655 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "#helloWorld", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:33.661 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:33.661 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:33.761 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.761 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.764 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"#helloWorld","version":0,"timestamp":1738689093655780608,"ephemeral":false}]'
2025-02-04 17:11:33.766 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.766 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.768 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"#helloWorld","version":0,"timestamp":1738689093655780608,"ephemeral":false}]'
2025-02-04 17:11:33.769 DEBUG [tests.relay.test_publish] Running test with content topic A Twitter handle
2025-02-04 17:11:33.770 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "@username", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:33.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:33.774 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:33.875 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.876 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.879 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"@username","version":0,"timestamp":1738689093769954560,"ephemeral":false}]'
2025-02-04 17:11:33.880 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.880 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"@username","version":0,"timestamp":1738689093769954560,"ephemeral":false}]'
2025-02-04 17:11:33.884 DEBUG [tests.relay.test_publish] Running test with content topic A password
2025-02-04 17:11:33.884 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "P@ssw0rd!", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:33.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:33.890 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:33.990 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.991 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.994 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738689093884471808,"ephemeral":false}]'
2025-02-04 17:11:33.995 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:33.995 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:33.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738689093884471808,"ephemeral":false}]'
2025-02-04 17:11:33.999 DEBUG [tests.relay.test_publish] Running test with content topic A date in common format
2025-02-04 17:11:34.000 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "01/11/2023", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:34.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:34.005 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:34.105 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:34.105 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:34.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"01/11/2023","version":0,"timestamp":1738689094000035072,"ephemeral":false}]'
2025-02-04 17:11:34.110 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:34.110 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:34.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"01/11/2023","version":0,"timestamp":1738689094000035072,"ephemeral":false}]'
2025-02-04 17:11:34.113 DEBUG [tests.relay.test_publish] Running test with content topic A time string
2025-02-04 17:11:34.114 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "12:00:00", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:34.118 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:34.119 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:34.219 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:34.219 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:34.222 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"12:00:00","version":0,"timestamp":1738689094114109696,"ephemeral":false}]'
2025-02-04 17:11:34.223 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:34.224 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:34.226 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"12:00:00","version":0,"timestamp":1738689094114109696,"ephemeral":false}]'
2025-02-04 17:11:34.227 DEBUG [tests.relay.test_publish] Running test with content topic A mathematical equation
2025-02-04 17:11:34.228 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "E = mc^2", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:34.234 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:34.234 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:34.335 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:34.335 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:34.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"E = mc^2","version":0,"timestamp":1738689094228153088,"ephemeral":false}]'
2025-02-04 17:11:34.339 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:34.339 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:34.342 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"E = mc^2","version":0,"timestamp":1738689094228153088,"ephemeral":false}]'
2025-02-04 17:11:34.346 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-04 17:11:34.347 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-04 17:11:34.347 DEBUG [src.node.waku_node] Stopping container with id 1efbfa5d1807
2025-02-04 17:11:35.433 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:11:35.433 DEBUG [src.node.waku_node] Stopping container with id 1610b2664e29
2025-02-04 17:11:36.246 ERROR [src.node.docker_mananger] Max retries reached for container 1efbfa5d1807. Exiting log stream.
2025-02-04 17:11:36.447 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:11:36.448 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-04 17:11:36.463 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:11:36.475 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
