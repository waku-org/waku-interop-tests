2025-02-04 17:10:59.695 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-04 17:10:59.696 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics_one_by_one with id: 2025-02-04_17-10-59__f5722866-45fe-4191-bec1-af4226e323f6
2025-02-04 17:10:59.696 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-04 17:10:59.696 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-04 17:10:59.696 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-04 17:10:59.704 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:10:59.704 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-04_17-10-59__f5722866-45fe-4191-bec1-af4226e323f6__wakuorg_nwaku:latest.log
2025-02-04 17:10:59.704 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:10:59.705 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:10:59.706 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:10:59.706 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.127.2
2025-02-04 17:10:59.706 DEBUG [src.node.docker_mananger] Generated ports ['44557', '44558', '44559', '44560', '44561']
2025-02-04 17:10:59.706 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:10:59.707 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:10:59.707 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:10:59.707 DEBUG [src.node.docker_mananger] docker run -i -t -p 44557:44557 -p 44558:44558 -p 44559:44559 -p 44560:44560 -p 44561:44561 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44559 --rest-port=44557 --tcp-port=44558 --discv5-udp-port=44560 --rest-address=0.0.0.0 --nat=extip:172.18.127.2 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=27fb6cde44fde0e4bafe0ddaedccd517f15ac4a203aef2bffdd501ffeb1571c6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44561 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-04 17:10:59.929 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.127.2 waku c5b49985c11658aa1bc326c3c4acd59626c7af102845aa3ca36f45e19b6828b6
2025-02-04 17:10:59.975 DEBUG [src.node.docker_mananger] Container started with ID c5b49985c116. Setting up logs at ./log/docker/node1_2025-02-04_17-10-59__f5722866-45fe-4191-bec1-af4226e323f6__wakuorg_nwaku:latest.log
2025-02-04 17:10:59.977 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44557
2025-02-04 17:10:59.977 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:11:00.497 ERROR [src.node.docker_mananger] Max retries reached for container 59e064f2bb3a. Exiting log stream.
2025-02-04 17:11:00.978 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:00.981 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:11:00.981 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:11:00.981 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:00.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.2/tcp/44558/p2p/16Uiu2HAmQVgmoVoJpLbRJC11ykKsfU8hiKW7J1qBdCfK6KbmtcQH","/ip4/172.18.127.2/tcp/44559/ws/p2p/16Uiu2HAmQVgmoVoJpLbRJC11ykKsfU8hiKW7J1qBdCfK6KbmtcQH"],"enrUri":"enr:-L24QGm1MwRR7SqeGsYdst8R57Qim8zmGLf5G3qtRMoydzJBIgJDE4xKOCPpuXGR8vBAOouz3pl8F_dWMYdZXpk_jOUCgmlkgnY0gmlwhKwSfwKKbXVsdGlhZGRyc5YACASsEn8CBq4OAAoErBJ_AgauD90DgnJzhQACAQAAiXNlY3AyNTZrMaEDr-okGzW_wULW2_pfPbjs0A8CieOGPQQ50Uz2pSacxCqDdGNwgq4Og3VkcIKuEIV3YWt1MgU"}'
2025-02-04 17:11:00.983 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:11:00.993 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:11:00.993 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-04_17-10-59__f5722866-45fe-4191-bec1-af4226e323f6__wakuorg_nwaku:latest.log
2025-02-04 17:11:00.993 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:11:00.993 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:11:00.995 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:11:00.995 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.27.56
2025-02-04 17:11:00.995 DEBUG [src.node.docker_mananger] Generated ports ['46259', '46260', '46261', '46262', '46263']
2025-02-04 17:11:00.995 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:11:00.995 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:11:00.995 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:11:00.996 DEBUG [src.node.docker_mananger] docker run -i -t -p 46259:46259 -p 46260:46260 -p 46261:46261 -p 46262:46262 -p 46263:46263 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46261 --rest-port=46259 --tcp-port=46260 --discv5-udp-port=46262 --rest-address=0.0.0.0 --nat=extip:172.18.27.56 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=020aadf132ac18e2cd83544a6a4d1bfdef96d3464dddccaa012fa54113d0e4fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46263 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGm1MwRR7SqeGsYdst8R57Qim8zmGLf5G3qtRMoydzJBIgJDE4xKOCPpuXGR8vBAOouz3pl8F_dWMYdZXpk_jOUCgmlkgnY0gmlwhKwSfwKKbXVsdGlhZGRyc5YACASsEn8CBq4OAAoErBJ_AgauD90DgnJzhQACAQAAiXNlY3AyNTZrMaEDr-okGzW_wULW2_pfPbjs0A8CieOGPQQ50Uz2pSacxCqDdGNwgq4Og3VkcIKuEIV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-04 17:11:01.217 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.27.56 waku 0b66e208cfdf84cf22e6c90967843e49f4f6b9677d32bf9fd4f2ae83faff297c
2025-02-04 17:11:01.265 DEBUG [src.node.docker_mananger] Container started with ID 0b66e208cfdf. Setting up logs at ./log/docker/node2_2025-02-04_17-10-59__f5722866-45fe-4191-bec1-af4226e323f6__wakuorg_nwaku:latest.log
2025-02-04 17:11:01.265 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 46259
2025-02-04 17:11:01.266 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:11:02.267 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46259/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.277 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:11:02.278 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:11:02.279 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46259/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.27.56/tcp/46260/p2p/16Uiu2HAm5j7P54MHNt1vvYbbPq8L5BmgSePVcn2w2xs357JYLi3N","/ip4/172.18.27.56/tcp/46261/ws/p2p/16Uiu2HAm5j7P54MHNt1vvYbbPq8L5BmgSePVcn2w2xs357JYLi3N"],"enrUri":"enr:-L24QPxt-CJI1STqvMCKbWNuG4tccaUgxl_skbLEsp_7wCxNE5Fw2BuWqRXlYbzXc53c16rLhikQEb292qTqYqQmL-ECgmlkgnY0gmlwhKwSGziKbXVsdGlhZGRyc5YACASsEhs4BrS0AAoErBIbOAa0td0DgnJzhQACAQAAiXNlY3AyNTZrMaECmQx24qBo-jS5h_pBzrGNFbTGC2C6GCc9CvqCzF9Z-lWDdGNwgrS0g3VkcIK0toV3YWt1MgE"}'
2025-02-04 17:11:02.285 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:11:02.286 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46259/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.127.2/tcp/44558/p2p/16Uiu2HAmQVgmoVoJpLbRJC11ykKsfU8hiKW7J1qBdCfK6KbmtcQH"]'
2025-02-04 17:11:02.290 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:02.290 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-04 17:11:02.299 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:02.301 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46259/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-04 17:11:02.319 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:02.323 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:02.332 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:02.332 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:02.433 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:02.433 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.436 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738689062321980416,"ephemeral":false}]'
2025-02-04 17:11:02.439 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:02.439 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46259/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738689062321980416,"ephemeral":false}]'
2025-02-04 17:11:02.443 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:02.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:02.449 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:02.549 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:02.549 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738689062443206400,"ephemeral":false}]'
2025-02-04 17:11:02.553 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:02.554 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46259/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1738689062443206400,"ephemeral":false}]'
2025-02-04 17:11:02.558 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:02.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:02.563 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:02.664 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:02.664 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.667 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738689062558428672,"ephemeral":false}]'
2025-02-04 17:11:02.669 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:02.669 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46259/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1738689062558428672,"ephemeral":false}]'
2025-02-04 17:11:02.673 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:02.678 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:02.679 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:02.779 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:02.780 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.782 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738689062673329920,"ephemeral":false}]'
2025-02-04 17:11:02.784 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:02.784 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46259/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1738689062673329920,"ephemeral":false}]'
2025-02-04 17:11:02.788 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:02.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:02.794 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:02.894 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:02.895 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.897 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738689062788477696,"ephemeral":false}]'
2025-02-04 17:11:02.899 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:02.899 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46259/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:02.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1738689062788477696,"ephemeral":false}]'
2025-02-04 17:11:02.903 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:02.908 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:02.908 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:03.008 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.009 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.012 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738689062903282176,"ephemeral":false}]'
2025-02-04 17:11:03.013 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.013 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46259/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.016 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1738689062903282176,"ephemeral":false}]'
2025-02-04 17:11:03.017 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:03.022 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.023 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:03.124 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.124 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.127 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738689063017593344,"ephemeral":false}]'
2025-02-04 17:11:03.128 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.129 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46259/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1738689063017593344,"ephemeral":false}]'
2025-02-04 17:11:03.133 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:03.137 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.138 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:03.238 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.238 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738689063132882688,"ephemeral":false}]'
2025-02-04 17:11:03.243 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.243 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46259/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1738689063132882688,"ephemeral":false}]'
2025-02-04 17:11:03.247 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44557/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-04 17:11:03.252 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.253 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:46259/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-04 17:11:03.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.258 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44557/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-04 17:11:03.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.264 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:46259/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-04 17:11:03.269 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.269 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44557/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-04 17:11:03.274 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.275 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:46259/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-04 17:11:03.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.280 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44557/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-04 17:11:03.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.286 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:46259/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-04 17:11:03.290 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.290 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44557/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-04 17:11:03.296 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.297 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:46259/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-04 17:11:03.300 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.301 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44557/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-04 17:11:03.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.307 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:46259/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-04 17:11:03.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.312 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44557/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-04 17:11:03.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.317 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:46259/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-04 17:11:03.322 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.322 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44557/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-04 17:11:03.327 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.328 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:46259/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-04 17:11:03.334 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.335 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:03.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.339 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:03.439 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.442 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44557/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-04 17:11:03.444 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:03.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.447 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:03.547 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.548 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.551 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44557/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-04 17:11:03.552 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:03.555 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.555 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:03.656 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.656 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.659 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-04 17:11:03.661 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:03.663 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.663 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:03.764 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.764 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.767 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44557/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-04 17:11:03.768 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:03.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.771 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:03.872 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.872 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.875 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44557/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-04 17:11:03.876 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:03.879 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.879 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:03.979 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:03.979 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:03.982 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-04 17:11:03.984 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:03.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:03.986 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:04.087 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:04.087 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:04.090 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-04 17:11:04.091 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44557/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:11:04.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:11:04.094 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:11:04.194 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:11:04.195 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:11:04.197 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44557/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-04 17:11:04.200 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-04 17:11:04.201 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-04 17:11:04.201 DEBUG [src.node.waku_node] Stopping container with id c5b49985c116
2025-02-04 17:11:05.463 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:11:05.463 DEBUG [src.node.waku_node] Stopping container with id 0b66e208cfdf
2025-02-04 17:11:06.313 ERROR [src.node.docker_mananger] Max retries reached for container c5b49985c116. Exiting log stream.
2025-02-04 17:11:06.961 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:11:06.962 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-04 17:11:06.987 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:11:06.998 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
