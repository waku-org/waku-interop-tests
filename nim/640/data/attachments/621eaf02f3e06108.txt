2025-02-04 17:08:37.048 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-04 17:08:37.049 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-04_17-08-37__38c92c78-ff42-40b1-8bb8-6c9623616fbe
2025-02-04 17:08:37.049 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-04 17:08:37.049 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-04 17:08:37.056 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:08:37.056 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-04_17-08-37__38c92c78-ff42-40b1-8bb8-6c9623616fbe__wakuorg_nwaku:latest.log
2025-02-04 17:08:37.056 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:08:37.056 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:08:37.057 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:08:37.058 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.113.95
2025-02-04 17:08:37.058 DEBUG [src.node.docker_mananger] Generated ports ['48416', '48417', '48418', '48419', '48420']
2025-02-04 17:08:37.058 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:08:37.058 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:08:37.058 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:08:37.058 DEBUG [src.node.docker_mananger] docker run -i -t -p 48416:48416 -p 48417:48417 -p 48418:48418 -p 48419:48419 -p 48420:48420 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48418 --rest-port=48416 --tcp-port=48417 --discv5-udp-port=48419 --rest-address=0.0.0.0 --nat=extip:172.18.113.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aee14f7ff5ff2dcf5dc1526c5075f6e6ecb00effeaba48baa9f97142a26a228e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48420 --metrics-logging=true --lightpush=true --relay=true
2025-02-04 17:08:37.284 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.113.95 waku fc9d0a55c470e5f11cb332b5c06665c2831b9d31d6a76e3facf820d084254de9
2025-02-04 17:08:37.330 DEBUG [src.node.docker_mananger] Container started with ID fc9d0a55c470. Setting up logs at ./log/docker/receiving_node1_2025-02-04_17-08-37__38c92c78-ff42-40b1-8bb8-6c9623616fbe__wakuorg_nwaku:latest.log
2025-02-04 17:08:37.330 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 48416
2025-02-04 17:08:37.331 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:08:37.848 ERROR [src.node.docker_mananger] Max retries reached for container c05b0314c9c2. Exiting log stream.
2025-02-04 17:08:38.332 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:38.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:08:38.335 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:08:38.335 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:38.337 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.113.95/tcp/48417/p2p/16Uiu2HAkxDkp1DSHkduNAJoKVpHKGxQvHDP8yRUsRJRt5ww5ESzb","/ip4/172.18.113.95/tcp/48418/ws/p2p/16Uiu2HAkxDkp1DSHkduNAJoKVpHKGxQvHDP8yRUsRJRt5ww5ESzb"],"enrUri":"enr:-L24QF3YCZC4052tfsLEb3jYjNyQY2reFg53wxhZgu5CobquYNbabJyb_ZPFkLUEHYDrkEDAe6RhjqNCIUuMr0SSp2QCgmlkgnY0gmlwhKwScV-KbXVsdGlhZGRyc5YACASsEnFfBr0hAAoErBJxXwa9It0DgnJzhQADAQAAiXNlY3AyNTZrMaECKYWNwrt7zJa29-WORE6vaUGsWEy-t44rnP3KPp0X8BiDdGNwgr0hg3VkcIK9I4V3YWt1Mgk"}'
2025-02-04 17:08:38.338 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:08:38.344 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:08:38.344 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-04_17-08-37__38c92c78-ff42-40b1-8bb8-6c9623616fbe__wakuorg_nwaku:latest.log
2025-02-04 17:08:38.344 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:08:38.344 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:08:38.346 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:08:38.346 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.190.141
2025-02-04 17:08:38.346 DEBUG [src.node.docker_mananger] Generated ports ['54097', '54098', '54099', '54100', '54101']
2025-02-04 17:08:38.346 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:08:38.346 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:08:38.347 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:08:38.347 DEBUG [src.node.docker_mananger] docker run -i -t -p 54097:54097 -p 54098:54098 -p 54099:54099 -p 54100:54100 -p 54101:54101 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54099 --rest-port=54097 --tcp-port=54098 --discv5-udp-port=54100 --rest-address=0.0.0.0 --nat=extip:172.18.190.141 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c9eb235a912012a57104eaa2b4224a50fb50fe49b66bdcf3f4ceb6bc6d07db29 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54101 --metrics-logging=true --lightpush=false --relay=true
2025-02-04 17:08:38.573 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.190.141 waku e277da4a736bc884f5614baa684c55bfc2fc7f80a2959d49e8ad60dc02b155b6
2025-02-04 17:08:38.625 DEBUG [src.node.docker_mananger] Container started with ID e277da4a736b. Setting up logs at ./log/docker/receiving_node2_2025-02-04_17-08-37__38c92c78-ff42-40b1-8bb8-6c9623616fbe__wakuorg_nwaku:latest.log
2025-02-04 17:08:38.626 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54097
2025-02-04 17:08:38.626 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:08:39.627 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:39.630 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:08:39.630 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:08:39.630 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:39.632 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.141/tcp/54098/p2p/16Uiu2HAmQJyCQY3cN6Yx6EcC1bp9HhFmjxJcKCuZVVc9cELBGejj","/ip4/172.18.190.141/tcp/54099/ws/p2p/16Uiu2HAmQJyCQY3cN6Yx6EcC1bp9HhFmjxJcKCuZVVc9cELBGejj"],"enrUri":"enr:-L24QPIc2txtsoFDF2wWIeWEgjA9myhD6lZ7C6X5eQmapEggAPyXFK3Sh0CvRBCfFUT5sc4IVsbbzty-toAcuAc31jwCgmlkgnY0gmlwhKwSvo2KbXVsdGlhZGRyc5YACASsEr6NBtNSAAoErBK-jQbTU90DgnJzhQADAQAAiXNlY3AyNTZrMaEDrStSs5LH69wPI7s0aXuWzh40ovChWw7oEsFLCsDi3HqDdGNwgtNSg3VkcILTVIV3YWt1MgE"}'
2025-02-04 17:08:39.632 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:08:39.633 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54097/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.95/tcp/48417/p2p/16Uiu2HAkxDkp1DSHkduNAJoKVpHKGxQvHDP8yRUsRJRt5ww5ESzb"]'
2025-02-04 17:08:39.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:39.681 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:08:39.681 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-04_17-08-37__38c92c78-ff42-40b1-8bb8-6c9623616fbe__wakuorg_nwaku:latest.log
2025-02-04 17:08:39.681 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:08:39.682 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:08:39.683 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:08:39.683 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.241.121
2025-02-04 17:08:39.683 DEBUG [src.node.docker_mananger] Generated ports ['60685', '60686', '60687', '60688', '60689']
2025-02-04 17:08:39.684 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:08:39.684 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:08:39.684 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:08:39.684 DEBUG [src.node.docker_mananger] docker run -i -t -p 60685:60685 -p 60686:60686 -p 60687:60687 -p 60688:60688 -p 60689:60689 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60687 --rest-port=60685 --tcp-port=60686 --discv5-udp-port=60688 --rest-address=0.0.0.0 --nat=extip:172.18.241.121 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e4de83d76cbfdb21cc7ffff413964529f4626af4a7b9e579c6e3db9e37f4fc26 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60689 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QF3YCZC4052tfsLEb3jYjNyQY2reFg53wxhZgu5CobquYNbabJyb_ZPFkLUEHYDrkEDAe6RhjqNCIUuMr0SSp2QCgmlkgnY0gmlwhKwScV-KbXVsdGlhZGRyc5YACASsEnFfBr0hAAoErBJxXwa9It0DgnJzhQADAQAAiXNlY3AyNTZrMaECKYWNwrt7zJa29-WORE6vaUGsWEy-t44rnP3KPp0X8BiDdGNwgr0hg3VkcIK9I4V3YWt1Mgk --lightpushnode=/ip4/172.18.113.95/tcp/48417/p2p/16Uiu2HAkxDkp1DSHkduNAJoKVpHKGxQvHDP8yRUsRJRt5ww5ESzb --lightpush=true --relay=false
2025-02-04 17:08:39.929 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.241.121 waku 060d275be5d5375c7352f1c793bac2dee1569e7cf5df0507aefd68e26f960c7e
2025-02-04 17:08:39.974 DEBUG [src.node.docker_mananger] Container started with ID 060d275be5d5. Setting up logs at ./log/docker/lightpush_node1_2025-02-04_17-08-37__38c92c78-ff42-40b1-8bb8-6c9623616fbe__wakuorg_nwaku:latest.log
2025-02-04 17:08:39.975 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60685
2025-02-04 17:08:39.975 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:08:40.975 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60685/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:40.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:08:40.979 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:08:40.979 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60685/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:40.981 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.121/tcp/60686/p2p/16Uiu2HAkxxvUvNTjbvLnCsbxcKZ4DFcyWAq61HXPhp8HaFchnbQW","/ip4/172.18.241.121/tcp/60687/ws/p2p/16Uiu2HAkxxvUvNTjbvLnCsbxcKZ4DFcyWAq61HXPhp8HaFchnbQW"],"enrUri":"enr:-L24QGx5QqkxFIBZvQk8xa_bylVe6blEIbhSYnPG7DnFJRoifYpWOIbCMaxq_PBSQHXGuqkyQh8SeY0JSe71v09Sjl0CgmlkgnY0gmlwhKwS8XmKbXVsdGlhZGRyc5YACASsEvF5Bu0OAAoErBLxeQbtD90DgnJzhQADAQAAiXNlY3AyNTZrMaECNJR2qw_9ffY2f7XqhhO9P-th6lUolS9vRvMXBeiXEIODdGNwgu0Og3VkcILtEIV3YWt1Mgg"}'
2025-02-04 17:08:40.981 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:08:40.981 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.95/tcp/48417/p2p/16Uiu2HAkxDkp1DSHkduNAJoKVpHKGxQvHDP8yRUsRJRt5ww5ESzb"]'
2025-02-04 17:08:41.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.024 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.190.141/tcp/54098/p2p/16Uiu2HAmQJyCQY3cN6Yx6EcC1bp9HhFmjxJcKCuZVVc9cELBGejj"]'
2025-02-04 17:08:41.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.055 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48416/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-04 17:08:41.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.060 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54097/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-04 17:08:41.065 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.069 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-04 17:08:41.069 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:41.070 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1738688921069640704}}'
2025-02-04 17:08:41.083 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.083 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:41.183 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.184 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.186 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1738688921069640704,"ephemeral":false}]'
2025-02-04 17:08:41.188 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.188 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1738688921069640704,"ephemeral":false}]'
2025-02-04 17:08:41.191 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-04 17:08:41.192 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:41.192 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1738688921192067328}}'
2025-02-04 17:08:41.200 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.202 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:41.302 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.303 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.305 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1738688921192067328,"ephemeral":false}]'
2025-02-04 17:08:41.306 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.306 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.309 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1738688921192067328,"ephemeral":false}]'
2025-02-04 17:08:41.310 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-04 17:08:41.311 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:41.311 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1738688921310877696}}'
2025-02-04 17:08:41.320 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.321 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:41.421 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.421 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.424 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738688921310877696,"ephemeral":false}]'
2025-02-04 17:08:41.426 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.426 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.428 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738688921310877696,"ephemeral":false}]'
2025-02-04 17:08:41.429 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-04 17:08:41.430 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:41.430 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1738688921430140416}}'
2025-02-04 17:08:41.440 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.440 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:41.541 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.541 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.543 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738688921430140416,"ephemeral":false}]'
2025-02-04 17:08:41.546 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.546 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738688921430140416,"ephemeral":false}]'
2025-02-04 17:08:41.550 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-04 17:08:41.550 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:41.551 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1738688921550636544}}'
2025-02-04 17:08:41.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.561 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:41.661 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.662 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.664 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738688921550636544,"ephemeral":false}]'
2025-02-04 17:08:41.666 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.666 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.668 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738688921550636544,"ephemeral":false}]'
2025-02-04 17:08:41.670 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-04 17:08:41.670 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:41.670 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1738688921670301440}}'
2025-02-04 17:08:41.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.680 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:41.780 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.781 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738688921670301440,"ephemeral":false}]'
2025-02-04 17:08:41.785 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.785 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738688921670301440,"ephemeral":false}]'
2025-02-04 17:08:41.789 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-04 17:08:41.789 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:41.789 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1738688921789313280}}'
2025-02-04 17:08:41.799 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.800 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:41.900 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.900 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.903 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738688921789313280,"ephemeral":false}]'
2025-02-04 17:08:41.905 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:41.905 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:41.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738688921789313280,"ephemeral":false}]'
2025-02-04 17:08:41.908 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-04 17:08:41.909 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:41.909 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1738688921909064192}}'
2025-02-04 17:08:41.919 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:41.919 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:42.020 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.020 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.023 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738688921909064192,"ephemeral":false}]'
2025-02-04 17:08:42.024 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.025 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738688921909064192,"ephemeral":false}]'
2025-02-04 17:08:42.028 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-04 17:08:42.029 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:42.029 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1738688922029175296}}'
2025-02-04 17:08:42.041 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:42.041 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:42.142 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.142 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738688922029175296,"ephemeral":false}]'
2025-02-04 17:08:42.146 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.146 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738688922029175296,"ephemeral":false}]'
2025-02-04 17:08:42.150 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-04 17:08:42.150 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:42.150 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1738688922150260992}}'
2025-02-04 17:08:42.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:42.162 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:42.263 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.263 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738688922150260992,"ephemeral":false}]'
2025-02-04 17:08:42.268 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.269 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738688922150260992,"ephemeral":false}]'
2025-02-04 17:08:42.272 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-04 17:08:42.273 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:42.273 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1738688922273062144}}'
2025-02-04 17:08:42.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:42.284 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:42.384 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.384 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.387 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738688922273062144,"ephemeral":false}]'
2025-02-04 17:08:42.388 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.388 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.391 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738688922273062144,"ephemeral":false}]'
2025-02-04 17:08:42.392 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-04 17:08:42.392 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:42.393 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1738688922392729088}}'
2025-02-04 17:08:42.402 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:42.403 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:42.503 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.503 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1738688922392729088,"ephemeral":false}]'
2025-02-04 17:08:42.507 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.507 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.509 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1738688922392729088,"ephemeral":false}]'
2025-02-04 17:08:42.511 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-04 17:08:42.511 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:42.511 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1738688922511468032}}'
2025-02-04 17:08:42.522 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:42.522 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:42.622 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.623 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.625 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1738688922511468032,"ephemeral":false}]'
2025-02-04 17:08:42.627 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.627 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1738688922511468032,"ephemeral":false}]'
2025-02-04 17:08:42.630 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-04 17:08:42.630 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:42.631 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1738688922630783744}}'
2025-02-04 17:08:42.641 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:42.642 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:42.742 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.742 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738688922630783744,"ephemeral":false}]'
2025-02-04 17:08:42.746 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.746 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.749 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738688922630783744,"ephemeral":false}]'
2025-02-04 17:08:42.750 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-04 17:08:42.751 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:42.751 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1738688922750856704}}'
2025-02-04 17:08:42.761 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:42.761 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:42.862 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.862 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.865 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738688922750856704,"ephemeral":false}]'
2025-02-04 17:08:42.866 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.866 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.869 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738688922750856704,"ephemeral":false}]'
2025-02-04 17:08:42.870 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-04 17:08:42.871 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:42.871 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1738688922870923776}}'
2025-02-04 17:08:42.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:42.881 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:42.982 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.982 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1738688922870923776,"ephemeral":false}]'
2025-02-04 17:08:42.987 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:42.987 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:42.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1738688922870923776,"ephemeral":false}]'
2025-02-04 17:08:42.990 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-04 17:08:42.991 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:42.991 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1738688922990983168}}'
2025-02-04 17:08:43.000 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:43.001 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:43.101 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.102 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.104 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1738688922990983168,"ephemeral":false}]'
2025-02-04 17:08:43.106 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.106 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1738688922990983168,"ephemeral":false}]'
2025-02-04 17:08:43.110 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-04 17:08:43.110 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:43.110 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1738688923110332160}}'
2025-02-04 17:08:43.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:43.120 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:43.221 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.221 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738688923110332160,"ephemeral":false}]'
2025-02-04 17:08:43.226 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.226 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.229 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738688923110332160,"ephemeral":false}]'
2025-02-04 17:08:43.230 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-04 17:08:43.231 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:43.231 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1738688923231102464}}'
2025-02-04 17:08:43.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:43.241 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:43.341 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.341 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738688923231102464,"ephemeral":false}]'
2025-02-04 17:08:43.346 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.346 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738688923231102464,"ephemeral":false}]'
2025-02-04 17:08:43.350 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-04 17:08:43.350 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:43.350 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1738688923350271232}}'
2025-02-04 17:08:43.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:43.360 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:43.461 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.462 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738688923350271232,"ephemeral":false}]'
2025-02-04 17:08:43.466 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.466 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738688923350271232,"ephemeral":false}]'
2025-02-04 17:08:43.470 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-04 17:08:43.470 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:43.470 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1738688923470258944}}'
2025-02-04 17:08:43.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:43.482 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:43.583 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.583 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.586 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738688923470258944,"ephemeral":false}]'
2025-02-04 17:08:43.587 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.587 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.590 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738688923470258944,"ephemeral":false}]'
2025-02-04 17:08:43.591 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-04 17:08:43.592 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:43.592 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1738688923592179456}}'
2025-02-04 17:08:43.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:43.603 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:43.703 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.703 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738688923592179456,"ephemeral":false}]'
2025-02-04 17:08:43.708 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.708 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738688923592179456,"ephemeral":false}]'
2025-02-04 17:08:43.712 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-04 17:08:43.712 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:43.712 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1738688923712397056}}'
2025-02-04 17:08:43.722 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:43.723 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:43.823 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.823 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.826 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1738688923712397056,"ephemeral":false}]'
2025-02-04 17:08:43.827 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.828 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.830 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1738688923712397056,"ephemeral":false}]'
2025-02-04 17:08:43.831 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-04 17:08:43.832 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:43.832 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1738688923831925504}}'
2025-02-04 17:08:43.843 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:43.843 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:43.943 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.943 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.946 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738688923831925504,"ephemeral":false}]'
2025-02-04 17:08:43.948 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:43.948 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:43.950 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738688923831925504,"ephemeral":false}]'
2025-02-04 17:08:43.952 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-04 17:08:43.952 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:43.952 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1738688923952313088}}'
2025-02-04 17:08:43.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:43.964 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:44.064 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.064 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.067 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738688923952313088,"ephemeral":false}]'
2025-02-04 17:08:44.069 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.069 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.072 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738688923952313088,"ephemeral":false}]'
2025-02-04 17:08:44.074 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-04 17:08:44.074 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:44.074 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1738688924074532096}}'
2025-02-04 17:08:44.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:44.086 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:44.186 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.186 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.189 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738688924074532096,"ephemeral":false}]'
2025-02-04 17:08:44.190 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.190 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.192 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738688924074532096,"ephemeral":false}]'
2025-02-04 17:08:44.194 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-04 17:08:44.194 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:44.195 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1738688924194693376}}'
2025-02-04 17:08:44.207 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:44.208 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:44.308 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.308 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738688924194693376,"ephemeral":false}]'
2025-02-04 17:08:44.312 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.313 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.315 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738688924194693376,"ephemeral":false}]'
2025-02-04 17:08:44.317 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-04 17:08:44.318 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:44.318 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1738688924318127360}}'
2025-02-04 17:08:44.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:44.330 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:44.430 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.430 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.433 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738688924318127360,"ephemeral":false}]'
2025-02-04 17:08:44.434 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.435 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738688924318127360,"ephemeral":false}]'
2025-02-04 17:08:44.438 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-04 17:08:44.439 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:44.439 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1738688924439083008}}'
2025-02-04 17:08:44.449 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:44.449 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:44.550 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.550 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1738688924439083008,"ephemeral":false}]'
2025-02-04 17:08:44.554 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.554 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1738688924439083008,"ephemeral":false}]'
2025-02-04 17:08:44.558 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-04 17:08:44.558 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:44.558 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1738688924558306048}}'
2025-02-04 17:08:44.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:44.568 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:44.669 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.669 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1738688924558306048,"ephemeral":false}]'
2025-02-04 17:08:44.673 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.673 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.675 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1738688924558306048,"ephemeral":false}]'
2025-02-04 17:08:44.676 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-04 17:08:44.677 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:44.677 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1738688924677141760}}'
2025-02-04 17:08:44.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:44.686 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:44.787 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.787 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738688924677141760,"ephemeral":false}]'
2025-02-04 17:08:44.791 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.791 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738688924677141760,"ephemeral":false}]'
2025-02-04 17:08:44.794 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-04 17:08:44.795 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:44.795 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1738688924794963200}}'
2025-02-04 17:08:44.809 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:44.810 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:44.910 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738688924794963200,"ephemeral":false}]'
2025-02-04 17:08:44.915 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:44.915 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:44.917 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738688924794963200,"ephemeral":false}]'
2025-02-04 17:08:44.918 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-04 17:08:44.919 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:44.919 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1738688924919229696}}'
2025-02-04 17:08:44.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:44.930 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:45.030 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.030 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1738688924919229696,"ephemeral":false}]'
2025-02-04 17:08:45.035 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.035 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.037 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1738688924919229696,"ephemeral":false}]'
2025-02-04 17:08:45.038 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-04 17:08:45.039 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:45.039 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1738688925039104768}}'
2025-02-04 17:08:45.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:45.050 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:45.150 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.150 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.153 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738688925039104768,"ephemeral":false}]'
2025-02-04 17:08:45.154 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.154 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738688925039104768,"ephemeral":false}]'
2025-02-04 17:08:45.158 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-04 17:08:45.158 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:45.158 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1738688925158456320}}'
2025-02-04 17:08:45.168 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:45.168 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:45.269 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.269 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1738688925158456320,"ephemeral":false}]'
2025-02-04 17:08:45.273 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.273 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.275 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1738688925158456320,"ephemeral":false}]'
2025-02-04 17:08:45.277 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-04 17:08:45.277 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:45.277 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1738688925277419520}}'
2025-02-04 17:08:45.287 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:45.287 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:45.388 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.388 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.391 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1738688925277419520,"ephemeral":false}]'
2025-02-04 17:08:45.392 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.393 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.395 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1738688925277419520,"ephemeral":false}]'
2025-02-04 17:08:45.396 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-04 17:08:45.397 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:45.397 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1738688925396898304}}'
2025-02-04 17:08:45.406 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:45.407 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:45.507 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.507 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.510 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738688925396898304,"ephemeral":false}]'
2025-02-04 17:08:45.511 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.511 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738688925396898304,"ephemeral":false}]'
2025-02-04 17:08:45.515 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-04 17:08:45.516 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:45.516 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1738688925515909120}}'
2025-02-04 17:08:45.525 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:45.526 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:45.627 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.627 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.630 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1738688925515909120,"ephemeral":false}]'
2025-02-04 17:08:45.631 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.631 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.633 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1738688925515909120,"ephemeral":false}]'
2025-02-04 17:08:45.635 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-04 17:08:45.635 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:45.635 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1738688925635253504}}'
2025-02-04 17:08:45.644 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:45.645 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:45.745 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.745 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.748 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1738688925635253504,"ephemeral":false}]'
2025-02-04 17:08:45.749 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.749 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.751 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1738688925635253504,"ephemeral":false}]'
2025-02-04 17:08:45.753 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-04 17:08:45.753 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:08:45.754 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60685/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1738688925753635840}}'
2025-02-04 17:08:45.764 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:08:45.764 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:08:45.864 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.865 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48416/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.867 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1738688925753635840,"ephemeral":false}]'
2025-02-04 17:08:45.869 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:08:45.869 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54097/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:08:45.871 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1738688925753635840,"ephemeral":false}]'
2025-02-04 17:08:45.874 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-04 17:08:45.875 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-04 17:08:45.875 DEBUG [src.node.waku_node] Stopping container with id fc9d0a55c470
2025-02-04 17:08:46.567 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:08:46.568 DEBUG [src.node.waku_node] Stopping container with id e277da4a736b
2025-02-04 17:08:47.381 ERROR [src.node.docker_mananger] Max retries reached for container fc9d0a55c470. Exiting log stream.
2025-02-04 17:08:47.619 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:08:47.619 DEBUG [src.node.waku_node] Stopping container with id 060d275be5d5
2025-02-04 17:08:48.434 ERROR [src.node.docker_mananger] Max retries reached for container e277da4a736b. Exiting log stream.
2025-02-04 17:08:48.936 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:08:48.940 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-04 17:08:48.962 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:08:48.976 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:08:48.994 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
