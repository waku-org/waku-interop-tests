2025-02-04 17:12:43.685 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-04 17:12:43.685 DEBUG [tests.conftest] Running test: test_multiple_content_topics_same_shard[content_topic_list1] with id: 2025-02-04_17-12-43__8d2fcbab-b04b-43e2-b54b-7e301c725d01
2025-02-04 17:12:43.686 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-04 17:12:43.686 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-04 17:12:43.686 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-04 17:12:43.693 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:12:43.693 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-04_17-12-43__8d2fcbab-b04b-43e2-b54b-7e301c725d01__wakuorg_nwaku:latest.log
2025-02-04 17:12:43.694 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:12:43.694 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:12:43.695 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:12:43.695 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.103.223
2025-02-04 17:12:43.695 DEBUG [src.node.docker_mananger] Generated ports ['55905', '55906', '55907', '55908', '55909']
2025-02-04 17:12:43.695 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:12:43.695 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:12:43.696 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:12:43.696 DEBUG [src.node.docker_mananger] docker run -i -t -p 55905:55905 -p 55906:55906 -p 55907:55907 -p 55908:55908 -p 55909:55909 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55907 --rest-port=55905 --tcp-port=55906 --discv5-udp-port=55908 --rest-address=0.0.0.0 --nat=extip:172.18.103.223 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ad380beeae55ef7be9df7eb36b43ec2736cdc7c4a11c8ad801aaaeff162e067e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55909 --metrics-logging=true --relay=true --filter=true --content-topic=/newsService/2.0/alerts/yaml --content-topic=/newsService/2.0/highlights/xml --content-topic=/newsService/3.0/daily/protobuf --content-topic=/newsService/3.0/alerts/xml --content-topic=/newsService/3.0/updates/protobuf --content-topic=/newsService/3.0/reviews/xml --content-topic=/newsService/4.0/alerts/yaml --content-topic=/newsService/4.0/updates/yaml
2025-02-04 17:12:43.924 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.103.223 waku 29541320b4861943898788a6232eecdf31e6e08552137e6f988ea5bba2740770
2025-02-04 17:12:43.978 DEBUG [src.node.docker_mananger] Container started with ID 29541320b486. Setting up logs at ./log/docker/node1_2025-02-04_17-12-43__8d2fcbab-b04b-43e2-b54b-7e301c725d01__wakuorg_nwaku:latest.log
2025-02-04 17:12:43.978 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 55905
2025-02-04 17:12:43.980 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:12:44.477 ERROR [src.node.docker_mananger] Max retries reached for container 784db97a380b. Exiting log stream.
2025-02-04 17:12:44.980 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55905/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:44.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:12:44.983 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:12:44.983 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55905/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:44.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.223/tcp/55906/p2p/16Uiu2HAkxRS6bLpTZx8XCZungBXwcp5mqe2CdntoG2NGCU7gqEz8","/ip4/172.18.103.223/tcp/55907/ws/p2p/16Uiu2HAkxRS6bLpTZx8XCZungBXwcp5mqe2CdntoG2NGCU7gqEz8"],"enrUri":"enr:-L24QK3jXlrRv_ZrIE1ij-zr9F96F4BprRotrIX_2bQ-d4PdQ4OBtPW-TVrlsuHXFhXMBcNZtasIY-qQ2SE-1qlXyG4CgmlkgnY0gmlwhKwSZ9-KbXVsdGlhZGRyc5YACASsEmffBtpiAAoErBJn3wbaY90DgnJzhQACAQAAiXNlY3AyNTZrMaECLINdDSmjakh0TlqXael1tDqTPwPdvzS8Yl8o_KbjB7WDdGNwgtpig3VkcILaZIV3YWt1MgU"}'
2025-02-04 17:12:44.986 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:12:44.992 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:12:44.992 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-04_17-12-43__8d2fcbab-b04b-43e2-b54b-7e301c725d01__wakuorg_nwaku:latest.log
2025-02-04 17:12:44.992 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:12:44.993 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:12:44.994 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:12:44.994 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.103.173
2025-02-04 17:12:44.994 DEBUG [src.node.docker_mananger] Generated ports ['6231', '6232', '6233', '6234', '6235']
2025-02-04 17:12:44.994 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:12:44.995 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:12:44.995 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:12:44.995 DEBUG [src.node.docker_mananger] docker run -i -t -p 6231:6231 -p 6232:6232 -p 6233:6233 -p 6234:6234 -p 6235:6235 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6233 --rest-port=6231 --tcp-port=6232 --discv5-udp-port=6234 --rest-address=0.0.0.0 --nat=extip:172.18.103.173 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=7c3de73b6bbdda63413f55c16cda0b93d18bca21dddcb0a3eeb3c631ac159adc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6235 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QK3jXlrRv_ZrIE1ij-zr9F96F4BprRotrIX_2bQ-d4PdQ4OBtPW-TVrlsuHXFhXMBcNZtasIY-qQ2SE-1qlXyG4CgmlkgnY0gmlwhKwSZ9-KbXVsdGlhZGRyc5YACASsEmffBtpiAAoErBJn3wbaY90DgnJzhQACAQAAiXNlY3AyNTZrMaECLINdDSmjakh0TlqXael1tDqTPwPdvzS8Yl8o_KbjB7WDdGNwgtpig3VkcILaZIV3YWt1MgU --content-topic=/newsService/2.0/alerts/yaml --content-topic=/newsService/2.0/highlights/xml --content-topic=/newsService/3.0/daily/protobuf --content-topic=/newsService/3.0/alerts/xml --content-topic=/newsService/3.0/updates/protobuf --content-topic=/newsService/3.0/reviews/xml --content-topic=/newsService/4.0/alerts/yaml --content-topic=/newsService/4.0/updates/yaml
2025-02-04 17:12:45.224 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.103.173 waku 43d716eda08c599627f4c6eb04562bfdc3efbb862fc93b81ea0b6cad88c0e2d5
2025-02-04 17:12:45.269 DEBUG [src.node.docker_mananger] Container started with ID 43d716eda08c. Setting up logs at ./log/docker/node2_2025-02-04_17-12-43__8d2fcbab-b04b-43e2-b54b-7e301c725d01__wakuorg_nwaku:latest.log
2025-02-04 17:12:45.269 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 6231
2025-02-04 17:12:45.270 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:12:46.270 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6231/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.276 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:12:46.276 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:12:46.277 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6231/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.287 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.173/tcp/6232/p2p/16Uiu2HAm3VEdq9B6YmHBSqLo9nyYqJHsoJFqmn9gH6v7e4pC23kt","/ip4/172.18.103.173/tcp/6233/ws/p2p/16Uiu2HAm3VEdq9B6YmHBSqLo9nyYqJHsoJFqmn9gH6v7e4pC23kt"],"enrUri":"enr:-L24QAWtG49PXCRTLxhUWHvGRYcq0aiOx4uLHVMkTfZOh6ipBorx6_BM-ZEh1-bZx9OYx3CaKdMkRrSRfsopZC7_SEMCgmlkgnY0gmlwhKwSZ62KbXVsdGlhZGRyc5YACASsEmetBhhYAAoErBJnrQYYWd0DgnJzhQACAQAAiXNlY3AyNTZrMaECd8cpcWeRkBtrGo0gBaZCQBU3TCv_PK3WPS8k-Acx6bGDdGNwghhYg3VkcIIYWoV3YWt1MgE"}'
2025-02-04 17:12:46.288 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:12:46.290 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6231/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.103.223/tcp/55906/p2p/16Uiu2HAkxRS6bLpTZx8XCZungBXwcp5mqe2CdntoG2NGCU7gqEz8"]'
2025-02-04 17:12:46.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:12:46.296 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55905/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/alerts/yaml", "/newsService/2.0/highlights/xml", "/newsService/3.0/daily/protobuf", "/newsService/3.0/alerts/xml", "/newsService/3.0/updates/protobuf", "/newsService/3.0/reviews/xml", "/newsService/4.0/alerts/yaml", "/newsService/4.0/updates/yaml"]'
2025-02-04 17:12:46.298 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:12:46.298 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6231/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/alerts/yaml", "/newsService/2.0/highlights/xml", "/newsService/3.0/daily/protobuf", "/newsService/3.0/alerts/xml", "/newsService/3.0/updates/protobuf", "/newsService/3.0/reviews/xml", "/newsService/4.0/alerts/yaml", "/newsService/4.0/updates/yaml"]'
2025-02-04 17:12:46.301 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:12:46.301 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55905/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:12:46.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:12:46.307 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:12:46.407 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.408 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55905/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.410 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/yaml","version":0,"timestamp":1738689166301645568,"ephemeral":false}]'
2025-02-04 17:12:46.413 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.413 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6231/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.415 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/yaml","version":0,"timestamp":1738689166301645568,"ephemeral":false}]'
2025-02-04 17:12:46.416 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55905/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/xml", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:12:46.421 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:12:46.421 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:12:46.522 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.523 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55905/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.525 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/xml","version":0,"timestamp":1738689166416699904,"ephemeral":false}]'
2025-02-04 17:12:46.527 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.527 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6231/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/xml","version":0,"timestamp":1738689166416699904,"ephemeral":false}]'
2025-02-04 17:12:46.531 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55905/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/daily/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:12:46.535 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:12:46.536 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:12:46.636 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.636 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55905/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fdaily%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.639 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/daily/protobuf","version":0,"timestamp":1738689166530915328,"ephemeral":false}]'
2025-02-04 17:12:46.640 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.640 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6231/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fdaily%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.642 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/daily/protobuf","version":0,"timestamp":1738689166530915328,"ephemeral":false}]'
2025-02-04 17:12:46.644 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55905/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:12:46.648 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:12:46.649 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:12:46.750 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.750 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55905/relay/v1/auto/messages/%2FnewsService%2F3.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.753 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/alerts/xml","version":0,"timestamp":1738689166644150016,"ephemeral":false}]'
2025-02-04 17:12:46.754 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.754 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6231/relay/v1/auto/messages/%2FnewsService%2F3.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/alerts/xml","version":0,"timestamp":1738689166644150016,"ephemeral":false}]'
2025-02-04 17:12:46.758 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55905/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/updates/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:12:46.763 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:12:46.763 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:12:46.863 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.864 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55905/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fupdates%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.866 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/updates/protobuf","version":0,"timestamp":1738689166758459392,"ephemeral":false}]'
2025-02-04 17:12:46.868 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.868 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6231/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fupdates%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/updates/protobuf","version":0,"timestamp":1738689166758459392,"ephemeral":false}]'
2025-02-04 17:12:46.872 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55905/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/reviews/xml", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:12:46.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:12:46.878 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:12:46.978 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.979 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55905/relay/v1/auto/messages/%2FnewsService%2F3.0%2Freviews%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.981 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/reviews/xml","version":0,"timestamp":1738689166872401664,"ephemeral":false}]'
2025-02-04 17:12:46.982 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:46.983 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6231/relay/v1/auto/messages/%2FnewsService%2F3.0%2Freviews%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:46.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/reviews/xml","version":0,"timestamp":1738689166872401664,"ephemeral":false}]'
2025-02-04 17:12:46.986 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55905/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/4.0/alerts/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:12:46.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:12:46.991 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:12:47.092 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:47.092 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55905/relay/v1/auto/messages/%2FnewsService%2F4.0%2Falerts%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:47.095 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/4.0/alerts/yaml","version":0,"timestamp":1738689166986780928,"ephemeral":false}]'
2025-02-04 17:12:47.096 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:47.096 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6231/relay/v1/auto/messages/%2FnewsService%2F4.0%2Falerts%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:47.098 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/4.0/alerts/yaml","version":0,"timestamp":1738689166986780928,"ephemeral":false}]'
2025-02-04 17:12:47.100 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55905/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/4.0/updates/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:12:47.105 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:12:47.106 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:12:47.206 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:47.206 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55905/relay/v1/auto/messages/%2FnewsService%2F4.0%2Fupdates%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:47.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/4.0/updates/yaml","version":0,"timestamp":1738689167100561920,"ephemeral":false}]'
2025-02-04 17:12:47.210 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-04 17:12:47.211 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6231/relay/v1/auto/messages/%2FnewsService%2F4.0%2Fupdates%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:12:47.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/4.0/updates/yaml","version":0,"timestamp":1738689167100561920,"ephemeral":false}]'
2025-02-04 17:12:47.215 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-04 17:12:47.216 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-04 17:12:47.217 DEBUG [src.node.waku_node] Stopping container with id 29541320b486
2025-02-04 17:12:48.464 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:12:48.464 DEBUG [src.node.waku_node] Stopping container with id 43d716eda08c
2025-02-04 17:12:49.276 ERROR [src.node.docker_mananger] Max retries reached for container 29541320b486. Exiting log stream.
2025-02-04 17:12:49.918 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:12:49.920 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-04 17:12:49.927 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:12:49.933 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
