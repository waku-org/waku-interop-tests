2025-02-04 17:13:02.026 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-04 17:13:02.026 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_no_pubsub_topic with id: 2025-02-04_17-13-02__0beb1ac1-53d6-4074-b6fc-2c0eb87fada8
2025-02-04 17:13:02.026 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-04 17:13:02.027 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-04 17:13:02.027 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-04 17:13:02.034 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:13:02.034 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-04_17-13-02__0beb1ac1-53d6-4074-b6fc-2c0eb87fada8__wakuorg_nwaku:latest.log
2025-02-04 17:13:02.034 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:13:02.034 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:13:02.035 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:13:02.036 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.227.102
2025-02-04 17:13:02.036 DEBUG [src.node.docker_mananger] Generated ports ['33393', '33394', '33395', '33396', '33397']
2025-02-04 17:13:02.036 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:13:02.036 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:13:02.036 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:13:02.036 DEBUG [src.node.docker_mananger] docker run -i -t -p 33393:33393 -p 33394:33394 -p 33395:33395 -p 33396:33396 -p 33397:33397 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33395 --rest-port=33393 --tcp-port=33394 --discv5-udp-port=33396 --rest-address=0.0.0.0 --nat=extip:172.18.227.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d23c026b874c4cfa0b49dd89d5705dd52ef6abb7fadb158da8bc4fc5edd017f4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33397 --metrics-logging=true --relay=true --filter=true
2025-02-04 17:13:02.258 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.227.102 waku 76b66cd30bfd04929d6cf4b961ee5350619c0df13df4a71091a492c7a4ed28e9
2025-02-04 17:13:02.314 DEBUG [src.node.docker_mananger] Container started with ID 76b66cd30bfd. Setting up logs at ./log/docker/node1_2025-02-04_17-13-02__0beb1ac1-53d6-4074-b6fc-2c0eb87fada8__wakuorg_nwaku:latest.log
2025-02-04 17:13:02.315 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 33393
2025-02-04 17:13:02.315 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:13:02.830 ERROR [src.node.docker_mananger] Max retries reached for container c2258a5cd70e. Exiting log stream.
2025-02-04 17:13:03.316 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33393/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:13:03.319 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:13:03.319 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:13:03.319 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33393/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:13:03.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.227.102/tcp/33394/p2p/16Uiu2HAm1PVzKprndX5bMeFNjFVYXhxTWowHa3PeCcV7uyXav76B","/ip4/172.18.227.102/tcp/33395/ws/p2p/16Uiu2HAm1PVzKprndX5bMeFNjFVYXhxTWowHa3PeCcV7uyXav76B"],"enrUri":"enr:-L24QHeb3oyAYAAORRVbv-Wakqi4rYw9WfTGEHwtTRDNTG6bKzosip-cyvfCp-fHCmBDeZw2wwKoKirO52I3nPJNShwCgmlkgnY0gmlwhKwS42aKbXVsdGlhZGRyc5YACASsEuNmBoJyAAoErBLjZgaCc90DgnJzhQADAQAAiXNlY3AyNTZrMaECWJepzD0E3UDRX8RxHmf-8CcDfkQKoj0ASoPZ2YX_BByDdGNwgoJyg3VkcIKCdIV3YWt1MgU"}'
2025-02-04 17:13:03.321 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:13:03.322 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-04 17:13:03.328 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:13:03.328 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-04_17-13-02__0beb1ac1-53d6-4074-b6fc-2c0eb87fada8__wakuorg_nwaku:latest.log
2025-02-04 17:13:03.328 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:13:03.328 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:13:03.329 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:13:03.329 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.242.207
2025-02-04 17:13:03.330 DEBUG [src.node.docker_mananger] Generated ports ['63472', '63473', '63474', '63475', '63476']
2025-02-04 17:13:03.330 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:13:03.330 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:13:03.330 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:13:03.330 DEBUG [src.node.docker_mananger] docker run -i -t -p 63472:63472 -p 63473:63473 -p 63474:63474 -p 63475:63475 -p 63476:63476 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63474 --rest-port=63472 --tcp-port=63473 --discv5-udp-port=63475 --rest-address=0.0.0.0 --nat=extip:172.18.242.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9cccabdac6b8af6c4ad38b8cbfdc0ff1aece8ffc68e833fc3459a92672ca1eb6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63476 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHeb3oyAYAAORRVbv-Wakqi4rYw9WfTGEHwtTRDNTG6bKzosip-cyvfCp-fHCmBDeZw2wwKoKirO52I3nPJNShwCgmlkgnY0gmlwhKwS42aKbXVsdGlhZGRyc5YACASsEuNmBoJyAAoErBLjZgaCc90DgnJzhQADAQAAiXNlY3AyNTZrMaECWJepzD0E3UDRX8RxHmf-8CcDfkQKoj0ASoPZ2YX_BByDdGNwgoJyg3VkcIKCdIV3YWt1MgU --filternode=/ip4/172.18.227.102/tcp/33394/p2p/16Uiu2HAm1PVzKprndX5bMeFNjFVYXhxTWowHa3PeCcV7uyXav76B
2025-02-04 17:13:03.547 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.242.207 waku 57a5842fbfc11509a8b0e71bc3fed5a6c52e5d629a3b5f25273a8d2631b2bafc
2025-02-04 17:13:03.592 DEBUG [src.node.docker_mananger] Container started with ID 57a5842fbfc1. Setting up logs at ./log/docker/node2_2025-02-04_17-13-02__0beb1ac1-53d6-4074-b6fc-2c0eb87fada8__wakuorg_nwaku:latest.log
2025-02-04 17:13:03.592 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63472
2025-02-04 17:13:03.593 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:13:04.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63472/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:13:04.597 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:13:04.597 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:13:04.597 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63472/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:13:04.599 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.207/tcp/63473/p2p/16Uiu2HAkwHFbv7BNzNVM6oET6YUMt2FfxWagPJmszcmfoDiJveK1","/ip4/172.18.242.207/tcp/63474/ws/p2p/16Uiu2HAkwHFbv7BNzNVM6oET6YUMt2FfxWagPJmszcmfoDiJveK1"],"enrUri":"enr:-L24QMflbup_xIdXlUcbZH3o96T1ou10WraoGZBU2GvPE2h6Ji_K3VfrnKoDSDS_FcDpC_BLXolWdWYJ1ThpnDktRJcCgmlkgnY0gmlwhKwS8s-KbXVsdGlhZGRyc5YACASsEvLPBvfxAAoErBLyzwb38t0DgnJzhQADAQAAiXNlY3AyNTZrMaECG48p_BGD1mTmbVGpgpqZVFo9o3kmTGUzjmO1CSjiSUCDdGNwgvfxg3VkcIL384V3YWt1MgA"}'
2025-02-04 17:13:04.599 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:13:04.600 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63472/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.227.102/tcp/33394/p2p/16Uiu2HAm1PVzKprndX5bMeFNjFVYXhxTWowHa3PeCcV7uyXav76B"]'
2025-02-04 17:13:04.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:13:04.638 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-04 17:13:04.639 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33393/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-04 17:13:04.657 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:13:04.658 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63472/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "822fc2da-ad9a-4b3c-80ec-bc9755844dbc", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-04 17:13:04.669 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"822fc2da-ad9a-4b3c-80ec-bc9755844dbc","statusDesc":"OK"}'
2025-02-04 17:13:04.670 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:63472/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto"}'
2025-02-04 17:13:04.673 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63472/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
2025-02-04 17:13:04.675 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-04 17:13:04.676 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-04 17:13:04.676 DEBUG [src.node.waku_node] Stopping container with id 76b66cd30bfd
2025-02-04 17:13:05.786 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:13:05.787 DEBUG [src.node.waku_node] Stopping container with id 57a5842fbfc1
2025-02-04 17:13:06.598 ERROR [src.node.docker_mananger] Max retries reached for container 76b66cd30bfd. Exiting log stream.
2025-02-04 17:13:07.295 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:13:07.296 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-04 17:13:07.300 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:13:07.304 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
