2025-02-04 17:10:26.128 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-04 17:10:26.128 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_empty_pubsub_topic_list with id: 2025-02-04_17-10-26__c6579ee5-57ec-4a47-9a90-6ffc41276355
2025-02-04 17:10:26.129 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-04 17:10:26.129 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-04 17:10:26.129 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-04 17:10:26.136 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:10:26.136 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-04_17-10-26__c6579ee5-57ec-4a47-9a90-6ffc41276355__wakuorg_nwaku:latest.log
2025-02-04 17:10:26.136 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:10:26.136 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:10:26.137 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:10:26.138 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.140.211
2025-02-04 17:10:26.138 DEBUG [src.node.docker_mananger] Generated ports ['64394', '64395', '64396', '64397', '64398']
2025-02-04 17:10:26.138 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:10:26.138 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:10:26.138 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:10:26.138 DEBUG [src.node.docker_mananger] docker run -i -t -p 64394:64394 -p 64395:64395 -p 64396:64396 -p 64397:64397 -p 64398:64398 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64396 --rest-port=64394 --tcp-port=64395 --discv5-udp-port=64397 --rest-address=0.0.0.0 --nat=extip:172.18.140.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7fbce52d1e53e1620c2ae65a2cbf439dbbad4cac847f7da143adedec5c5a9143 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64398 --metrics-logging=true --relay=true
2025-02-04 17:10:26.370 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.140.211 waku b0e06b29b3e884c801596b02c33a61c428849ef25393c0ba3e3635fc886a3e8b
2025-02-04 17:10:26.419 DEBUG [src.node.docker_mananger] Container started with ID b0e06b29b3e8. Setting up logs at ./log/docker/node1_2025-02-04_17-10-26__c6579ee5-57ec-4a47-9a90-6ffc41276355__wakuorg_nwaku:latest.log
2025-02-04 17:10:26.419 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64394
2025-02-04 17:10:26.419 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:10:26.936 ERROR [src.node.docker_mananger] Max retries reached for container 17c7b329e470. Exiting log stream.
2025-02-04 17:10:27.420 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64394/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:10:27.423 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:10:27.423 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:10:27.423 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64394/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:10:27.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.140.211/tcp/64395/p2p/16Uiu2HAmPCzPG1rvsHCGPFr2mxaJThtYMj3HivoqRkasxcgrGDDH","/ip4/172.18.140.211/tcp/64396/ws/p2p/16Uiu2HAmPCzPG1rvsHCGPFr2mxaJThtYMj3HivoqRkasxcgrGDDH"],"enrUri":"enr:-L24QAPgdr714SvIKUXoVn2Byx0rA6HKL7Xwo-6ePmFaIPKdNCF49UmsLn8Tht2-Q0hBmCNsbAmBwdVnFtF9wpcVLF8CgmlkgnY0gmlwhKwSjNOKbXVsdGlhZGRyc5YACASsEozTBvuLAAoErBKM0wb7jN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnMd-WaOyCIlUr_NI5LZT2Bq554YLoVKhN1iCZ4gGaICDdGNwgvuLg3VkcIL7jYV3YWt1MgE"}'
2025-02-04 17:10:27.426 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:10:27.432 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:10:27.432 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-04_17-10-26__c6579ee5-57ec-4a47-9a90-6ffc41276355__wakuorg_nwaku:latest.log
2025-02-04 17:10:27.433 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:10:27.433 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:10:27.434 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:10:27.434 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.37.166
2025-02-04 17:10:27.434 DEBUG [src.node.docker_mananger] Generated ports ['36968', '36969', '36970', '36971', '36972']
2025-02-04 17:10:27.435 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:10:27.435 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:10:27.435 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:10:27.435 DEBUG [src.node.docker_mananger] docker run -i -t -p 36968:36968 -p 36969:36969 -p 36970:36970 -p 36971:36971 -p 36972:36972 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36970 --rest-port=36968 --tcp-port=36969 --discv5-udp-port=36971 --rest-address=0.0.0.0 --nat=extip:172.18.37.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d7b5c0ab4d6feb1c6eabea98b76cdcc1805b8b8cc95f5cb23cbafebaa7ed1d8a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36972 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAPgdr714SvIKUXoVn2Byx0rA6HKL7Xwo-6ePmFaIPKdNCF49UmsLn8Tht2-Q0hBmCNsbAmBwdVnFtF9wpcVLF8CgmlkgnY0gmlwhKwSjNOKbXVsdGlhZGRyc5YACASsEozTBvuLAAoErBKM0wb7jN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnMd-WaOyCIlUr_NI5LZT2Bq554YLoVKhN1iCZ4gGaICDdGNwgvuLg3VkcIL7jYV3YWt1MgE
2025-02-04 17:10:27.669 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.37.166 waku ead5c3c2ec55febdfed40fa201a38eaa9318aafef9d46b3d72779dac7ce2bea4
2025-02-04 17:10:27.719 DEBUG [src.node.docker_mananger] Container started with ID ead5c3c2ec55. Setting up logs at ./log/docker/node2_2025-02-04_17-10-26__c6579ee5-57ec-4a47-9a90-6ffc41276355__wakuorg_nwaku:latest.log
2025-02-04 17:10:27.720 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 36968
2025-02-04 17:10:27.720 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:10:28.721 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36968/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:10:28.728 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:10:28.729 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:10:28.729 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36968/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:10:28.734 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.166/tcp/36969/p2p/16Uiu2HAmC57B8yPVkjakUxgBnjW2ma8NeKvqoYn9ARxxtzQRrEbQ","/ip4/172.18.37.166/tcp/36970/ws/p2p/16Uiu2HAmC57B8yPVkjakUxgBnjW2ma8NeKvqoYn9ARxxtzQRrEbQ"],"enrUri":"enr:-L24QF8dLR5hxAeuuaMtFouBEpXNJuIhMLFSkLQAsJgbdFdrXpPxpvJt2QMe19pj-C4amFvRQw7mZRRU8agMaYwkqPACgmlkgnY0gmlwhKwSJaaKbXVsdGlhZGRyc5YACASsEiWmBpBpAAoErBIlpgaQat0DgnJzhQADAQAAiXNlY3AyNTZrMaEC91H4MfOzHRTrzMaSvyGiHYM0rlEQNvDyqpNO8HnsD-eDdGNwgpBpg3VkcIKQa4V3YWt1MgE"}'
2025-02-04 17:10:28.735 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:10:28.735 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36968/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.140.211/tcp/64395/p2p/16Uiu2HAmPCzPG1rvsHCGPFr2mxaJThtYMj3HivoqRkasxcgrGDDH"]'
2025-02-04 17:10:28.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:10:28.739 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64394/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-04 17:10:28.741 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:10:28.741 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36968/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-04 17:10:28.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:10:28.745 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-04 17:10:28.746 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-04 17:10:28.746 DEBUG [src.node.waku_node] Stopping container with id b0e06b29b3e8
2025-02-04 17:10:29.923 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:10:29.923 DEBUG [src.node.waku_node] Stopping container with id ead5c3c2ec55
2025-02-04 17:10:30.737 ERROR [src.node.docker_mananger] Max retries reached for container b0e06b29b3e8. Exiting log stream.
2025-02-04 17:10:31.332 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:10:31.333 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-04 17:10:31.338 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:10:31.343 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
