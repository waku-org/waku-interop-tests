[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_zero_end_time with id: 2024-10-27_13-42-57__31b42bb4-ad28-4fe3-8442-fe91ed87260e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-27_13-42-57__31b42bb4-ad28-4fe3-8442-fe91ed87260e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.3.5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49852', '49853', '49854', '49855', '49856']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49852:49852 -p 49853:49853 -p 49854:49854 -p 49855:49855 -p 49856:49856 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49854 --rest-port=49852 --tcp-port=49853 --discv5-udp-port=49855 --rest-address=0.0.0.0 --nat=extip:172.18.3.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f41f34aac876fc34ac8aecdc970fde36775ceacd5e7d9823eabec17b7af0a1df --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49856 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.3.5 waku 3cde762309d712680dbd0186aad1c6656b0eb90ae53857bb89eeec75011227dc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3cde762309d7. Setting up logs at ./log/docker/publishing_node1_2024-10-27_13-42-57__31b42bb4-ad28-4fe3-8442-fe91ed87260e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 49852
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a4fe539c8440. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49852/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49852/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.5/tcp/49853/p2p/16Uiu2HAm6BzHgPW6NuRAsmqRqNExUpbDfbGM5ZADUsaMpqjmSG1V","/ip4/172.18.3.5/tcp/49854/ws/p2p/16Uiu2HAm6BzHgPW6NuRAsmqRqNExUpbDfbGM5ZADUsaMpqjmSG1V"],"enrUri":"enr:-LO4QGLfSB4K5S4tbGqgsQ57DtGIUYvDpgpLxdO0brv1kIl_EOObea6kO9A5g9d6kWM_D44OySF4dAabskVB5wKZDvUBgmlkgnY0gmlwhKwSAwWKbXVsdGlhZGRyc4wACgSsEgMFBsK-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKf7yBQB3XIFWL4SbU1GwRm2bGDPamGUEDdY3rgMmEloIN0Y3CCwr2DdWRwgsK_hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-27_13-42-57__31b42bb4-ad28-4fe3-8442-fe91ed87260e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.228.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35244', '35245', '35246', '35247', '35248']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35244:35244 -p 35245:35245 -p 35246:35246 -p 35247:35247 -p 35248:35248 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35246 --rest-port=35244 --tcp-port=35245 --discv5-udp-port=35247 --rest-address=0.0.0.0 --nat=extip:172.18.228.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3c69d15be2ff679c3a1bbfd80bb8af2e07c9b763c61ccefc5de9c13a4cdff4c6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35248 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QGLfSB4K5S4tbGqgsQ57DtGIUYvDpgpLxdO0brv1kIl_EOObea6kO9A5g9d6kWM_D44OySF4dAabskVB5wKZDvUBgmlkgnY0gmlwhKwSAwWKbXVsdGlhZGRyc4wACgSsEgMFBsK-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKf7yBQB3XIFWL4SbU1GwRm2bGDPamGUEDdY3rgMmEloIN0Y3CCwr2DdWRwgsK_hXdha3UyAw --storenode=/ip4/172.18.3.5/tcp/49853/p2p/16Uiu2HAm6BzHgPW6NuRAsmqRqNExUpbDfbGM5ZADUsaMpqjmSG1V --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.228.68 waku 49854f0f4ab5c4ed9cff8b8a8049888634a425cadd3bf5e162fb5657437b3178
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 49854f0f4ab5. Setting up logs at ./log/docker/store_node1_2024-10-27_13-42-57__31b42bb4-ad28-4fe3-8442-fe91ed87260e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35244
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35244/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35244/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.68/tcp/35245/p2p/16Uiu2HAm2NoLb87GntCyVtWRKuzBMq4cbb14iFeQauPmusJPFTh3","/ip4/172.18.228.68/tcp/35246/ws/p2p/16Uiu2HAm2NoLb87GntCyVtWRKuzBMq4cbb14iFeQauPmusJPFTh3"],"enrUri":"enr:-LO4QBYx9WG_ij0scTkDiUL30Y8w4xqmA6j7vPAyopSpF5oVLxMSuzoaaCeApZVWo9b3mbhAFdSgOz1Q1yhL7XzqrVkBgmlkgnY0gmlwhKwS5ESKbXVsdGlhZGRyc4wACgSsEuREBomu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJnRWLqgZEXYH8rMBM0E01LetZd63CDcnjeLyQwdv3GaoN0Y3CCia2DdWRwgomvhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35244/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.5/tcp/49853/p2p/16Uiu2HAm6BzHgPW6NuRAsmqRqNExUpbDfbGM5ZADUsaMpqjmSG1V"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49852/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35244/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49852/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49852/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49852/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49852/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49852/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49852/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:248 inquering stored messages with end time 0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49852/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ngEEWns/wylizlZY4NTlY/uY4+RWAZ+zEbfpSGAK7Sk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036586964684032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"r0Q2F549ESTECDVAW+dxGfsWCfCygrFjy1i4PDIMrHk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036588964692224,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"dJ1bRB+wbzEZz7yUebegRANA9LXx1ja6UwpSHG9BHxY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036589864695040,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"mme3X1pd99fegpb1wU+6n45kGhoPNzbQmfhFTLNF4tk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036590064698880,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"tfEqThT+hYVLGNsPpV+atYsUcHtLBeg+NLhfwERzsYc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036591964701952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"XXK1MmbznW6qmZKTIqHbXXJmjv1rGlwIyosNYL+RZjU=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036599964705024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:251 number of messages stored for  end time = 0 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35244/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ngEEWns/wylizlZY4NTlY/uY4+RWAZ+zEbfpSGAK7Sk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036586964684032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"r0Q2F549ESTECDVAW+dxGfsWCfCygrFjy1i4PDIMrHk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036588964692224,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"dJ1bRB+wbzEZz7yUebegRANA9LXx1ja6UwpSHG9BHxY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036589864695040,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"mme3X1pd99fegpb1wU+6n45kGhoPNzbQmfhFTLNF4tk=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036590064698880,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"tfEqThT+hYVLGNsPpV+atYsUcHtLBeg+NLhfwERzsYc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036591964701952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"XXK1MmbznW6qmZKTIqHbXXJmjv1rGlwIyosNYL+RZjU=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730036599964705024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:251 number of messages stored for  end time = 0 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3cde762309d7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 49854f0f4ab5
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3cde762309d7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.