INF 2024-05-07 06:43:32.679+00:00 Running nwaku node                         topics="wakunode main" tid=1 file=wakunode2.nim:122 version=v0.27.0-rc.0-44-g38f8b0
INF 2024-05-07 06:43:32.679+00:00 Configuration: Enabled protocols           topics="wakunode main" tid=1 file=wakunode2.nim:30 relay=false rlnRelay=false store=true filter=false lightpush=false peerExchange=true
INF 2024-05-07 06:43:32.679+00:00 Configuration. Network                     topics="wakunode main" tid=1 file=wakunode2.nim:38 cluster=0 maxPeers=none(int)
INF 2024-05-07 06:43:32.679+00:00 Configuration. Shards                      topics="wakunode main" tid=1 file=wakunode2.nim:41 shard=/waku/2/default-waku/proto
INF 2024-05-07 06:43:32.680+00:00 Configuration. Bootstrap nodes             topics="wakunode main" tid=1 file=wakunode2.nim:44 node=enr:-LO4QKaA2JSfpEfHUfpE00iiRwPfZHjzZHU_SPkVkaz8dkO8NQ4T0crsXoxq-jZYBSkEKdREhBlY50qMySuBDoq5S_cBgmlkgnY0gmlwhKwS5YuKbXVsdGlhZGRyc4wACgSsEuWLBmAp3QOCcnOFAAABAACJc2VjcDI1NmsxoQITW1e4SfTvYk_hv0Z5ZHzBz2_rATPQ7NnhnrdbxFuefYN0Y3CCYCiDdWRwgmAqhXdha3UyAQ
NTC 2024-05-07 06:43:32.680+00:00 REST service started                       tid=1 file=server.nim:189 address=0.0.0.0:7928
INF 2024-05-07 06:43:32.680+00:00 Starting REST HTTP server                  tid=1 file=builder.nim:109 url=http://0.0.0.0:7928/
DBG 2024-05-07 06:43:32.680+00:00 Retrieve dynamic bootstrap nodes           topics="wakunode main" tid=1 file=waku.nim:84
DBG 2024-05-07 06:43:32.680+00:00 No method for retrieving dynamic bootstrap nodes specified. topics="waku dnsdisc" tid=1 file=waku_dnsdisc.nim:131
DBG 2024-05-07 06:43:32.680+00:00 Setting up storage                         tid=1 file=node_factory.nim:414
DBG 2024-05-07 06:43:32.680+00:00 Initializing node                          tid=1 file=node_factory.nim:423
TRC 2024-05-07 06:43:32.680+00:00 registering protocols                      topics="libp2p multistream" tid=1 file=multistream.nim:238 protos="@[\"/ipfs/id/1.0.0\"]"
TRC 2024-05-07 06:43:32.681+00:00 registering protocols                      topics="libp2p multistream" tid=1 file=multistream.nim:238 protos="@[\"/libp2p/autonat/1.0.0\"]"
TRC 2024-05-07 06:43:32.681+00:00 registering protocols                      topics="libp2p multistream" tid=1 file=multistream.nim:238 protos="@[\"/libp2p/circuit/relay/0.2.0/hop\", \"/libp2p/circuit/relay/0.1.0\"]"
TRC 2024-05-07 06:43:32.681+00:00 no peer storage found                      tid=1 file=peer_manager.nim:521
INF 2024-05-07 06:43:32.681+00:00 Initializing networking                    tid=1 file=waku_node.nim:153 addrs="@[/ip4/172.18.231.147/tcp/7929, /ip4/172.18.231.147/tcp/7930/ws]"
DBG 2024-05-07 06:43:32.681+00:00 Mounting protocols                         tid=1 file=node_factory.nim:429
INF 2024-05-07 06:43:32.681+00:00 Created WakuMetadata protocol              topics="waku node" tid=1 file=protocol.nim:120 clusterId=0 shards={0}
TRC 2024-05-07 06:43:32.681+00:00 registering protocols                      topics="libp2p multistream" tid=1 file=multistream.nim:238 protos="@[\"/vac/waku/metadata/1.0.0\"]"
INF 2024-05-07 06:43:32.681+00:00 mounting sharding                          topics="waku node" tid=1 file=waku_node.nim:218 clusterId=0 shardCount=1
INF 2024-05-07 06:43:32.681+00:00 mounting libp2p ping protocol              topics="waku node" tid=1 file=waku_node.nim:1110
TRC 2024-05-07 06:43:32.681+00:00 registering protocols                      topics="libp2p multistream" tid=1 file=multistream.nim:238 protos="@[\"/ipfs/ping/1.0.0\"]"
DBG 2024-05-07 06:43:32.683+00:00 sqlite database page stats                 tid=1 file=builder.nim:66 pageSize=4096 pages=1 freePages=0
DBG 2024-05-07 06:43:32.683+00:00 starting message store's sqlite database migration topics="waku archive migration" tid=1 file=migrations.nim:61
INF 2024-05-07 06:43:32.683+00:00 Not considered schema version 7            topics="waku archive migration" tid=1 file=migrations.nim:49
INF 2024-05-07 06:43:32.683+00:00 database schema is outdated                topics="sqlite" tid=1 file=db_sqlite.nim:451 userVersion=0 targetVersion=8
DBG 2024-05-07 06:43:32.684+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="CREATE TABLE IF NOT EXISTS  Message(\n        id BLOB PRIMARY KEY,\n        timestamp INTEGER NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.685+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="CREATE TABLE IF NOT EXISTS  Message(\n        id BLOB PRIMARY KEY,\n        timestamp INTEGER NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.685+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="CREATE TABLE IF NOT EXISTS Message_backup (\n        id BLOB PRIMARY KEY,\n        timestamp INTEGER NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.686+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="CREATE TABLE IF NOT EXISTS Message_backup (\n        id BLOB PRIMARY KEY,\n        timestamp INTEGER NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.686+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="INSERT INTO Message_backup SELECT id, timestamp, contentTopic, pubsubTopic, payload, version FROM Message;"
DBG 2024-05-07 06:43:32.686+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="INSERT INTO Message_backup SELECT id, timestamp, contentTopic, pubsubTopic, payload, version FROM Message;"
DBG 2024-05-07 06:43:32.686+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="DROP TABLE Message;"
DBG 2024-05-07 06:43:32.687+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="DROP TABLE Message;"
DBG 2024-05-07 06:43:32.687+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="CREATE TABLE IF NOT EXISTS Message(\n        id BLOB PRIMARY KEY,\n        receiverTimestamp REAL NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL,\n        senderTimestamp REAL NOT NULL\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.688+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="CREATE TABLE IF NOT EXISTS Message(\n        id BLOB PRIMARY KEY,\n        receiverTimestamp REAL NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL,\n        senderTimestamp REAL NOT NULL\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.688+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="INSERT INTO Message (id, receiverTimestamp, contentTopic, pubsubTopic, payload, version, senderTimestamp)\n    SELECT id, timestamp, contentTopic, pubsubTopic, payload, version, 0\n    FROM Message_backup;"
DBG 2024-05-07 06:43:32.688+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="INSERT INTO Message (id, receiverTimestamp, contentTopic, pubsubTopic, payload, version, senderTimestamp)\n    SELECT id, timestamp, contentTopic, pubsubTopic, payload, version, 0\n    FROM Message_backup;"
DBG 2024-05-07 06:43:32.688+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="DROP TABLE Message_backup;"
DBG 2024-05-07 06:43:32.689+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="DROP TABLE Message_backup;"
DBG 2024-05-07 06:43:32.689+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="CREATE TABLE IF NOT EXISTS Message_backup (\n        id BLOB PRIMARY KEY,\n        receiverTimestamp REAL NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL,\n        senderTimestamp REAL NOT NULL\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.690+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="CREATE TABLE IF NOT EXISTS Message_backup (\n        id BLOB PRIMARY KEY,\n        receiverTimestamp REAL NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL,\n        senderTimestamp REAL NOT NULL\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.690+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="INSERT INTO Message_backup SELECT id, receiverTimestamp, contentTopic, pubsubTopic, payload, version, senderTimestamp FROM Message;"
DBG 2024-05-07 06:43:32.690+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="INSERT INTO Message_backup SELECT id, receiverTimestamp, contentTopic, pubsubTopic, payload, version, senderTimestamp FROM Message;"
DBG 2024-05-07 06:43:32.690+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="DROP TABLE Message;"
DBG 2024-05-07 06:43:32.691+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="DROP TABLE Message;"
DBG 2024-05-07 06:43:32.691+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="CREATE TABLE IF NOT EXISTS Message(\n        id BLOB PRIMARY KEY,\n        receiverTimestamp INTEGER NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL,\n        senderTimestamp INTEGER NOT NULL\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.692+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="CREATE TABLE IF NOT EXISTS Message(\n        id BLOB PRIMARY KEY,\n        receiverTimestamp INTEGER NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL,\n        senderTimestamp INTEGER NOT NULL\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.692+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="INSERT INTO Message (id, receiverTimestamp, contentTopic, pubsubTopic, payload, version, senderTimestamp)\n    SELECT id, CAST(receiverTimestamp*1000000000 AS INTEGER), contentTopic, pubsubTopic, payload, version, CAST(senderTimestamp*1000000000 AS INTEGER)\n    FROM Message_backup;"
DBG 2024-05-07 06:43:32.692+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="INSERT INTO Message (id, receiverTimestamp, contentTopic, pubsubTopic, payload, version, senderTimestamp)\n    SELECT id, CAST(receiverTimestamp*1000000000 AS INTEGER), contentTopic, pubsubTopic, payload, version, CAST(senderTimestamp*1000000000 AS INTEGER)\n    FROM Message_backup;"
DBG 2024-05-07 06:43:32.692+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="DROP TABLE Message_backup;"
DBG 2024-05-07 06:43:32.694+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="DROP TABLE Message_backup;"
DBG 2024-05-07 06:43:32.694+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="ALTER TABLE Message RENAME TO Message_backup;"
DBG 2024-05-07 06:43:32.695+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="ALTER TABLE Message RENAME TO Message_backup;"
DBG 2024-05-07 06:43:32.695+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="CREATE TABLE IF NOT EXISTS Message(\n        id BLOB,\n        receiverTimestamp INTEGER NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL,\n        senderTimestamp INTEGER NOT NULL,\n        CONSTRAINT messageIndex PRIMARY KEY (senderTimestamp, id, pubsubTopic)\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.696+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="CREATE TABLE IF NOT EXISTS Message(\n        id BLOB,\n        receiverTimestamp INTEGER NOT NULL,\n        contentTopic BLOB NOT NULL,\n        pubsubTopic BLOB NOT NULL,\n        payload BLOB,\n        version INTEGER NOT NULL,\n        senderTimestamp INTEGER NOT NULL,\n        CONSTRAINT messageIndex PRIMARY KEY (senderTimestamp, id, pubsubTopic)\n    ) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.696+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="INSERT INTO Message\n    SELECT *\n    FROM Message_backup;"
DBG 2024-05-07 06:43:32.696+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="INSERT INTO Message\n    SELECT *\n    FROM Message_backup;"
DBG 2024-05-07 06:43:32.696+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="DROP TABLE Message_backup;"
DBG 2024-05-07 06:43:32.697+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="DROP TABLE Message_backup;"
DBG 2024-05-07 06:43:32.697+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="CREATE INDEX IF NOT EXISTS i_msg ON Message (contentTopic, pubsubTopic, senderTimestamp, id);"
DBG 2024-05-07 06:43:32.697+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="CREATE INDEX IF NOT EXISTS i_msg ON Message (contentTopic, pubsubTopic, senderTimestamp, id);"
DBG 2024-05-07 06:43:32.698+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="ALTER TABLE message RENAME COLUMN receiverTimestamp TO storedAt;"
DBG 2024-05-07 06:43:32.699+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="ALTER TABLE message RENAME COLUMN receiverTimestamp TO storedAt;"
DBG 2024-05-07 06:43:32.699+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="DROP INDEX IF EXISTS i_msg;"
DBG 2024-05-07 06:43:32.700+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="DROP INDEX IF EXISTS i_msg;"
DBG 2024-05-07 06:43:32.700+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="CREATE INDEX IF NOT EXISTS i_query ON message (contentTopic, pubsubTopic, storedAt, id);"
DBG 2024-05-07 06:43:32.700+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="CREATE INDEX IF NOT EXISTS i_query ON message (contentTopic, pubsubTopic, storedAt, id);"
DBG 2024-05-07 06:43:32.700+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="DROP INDEX IF EXISTS i_rt;"
DBG 2024-05-07 06:43:32.700+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="DROP INDEX IF EXISTS i_rt;"
DBG 2024-05-07 06:43:32.700+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="CREATE INDEX IF NOT EXISTS i_ts ON message (storedAt);"
DBG 2024-05-07 06:43:32.701+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="CREATE INDEX IF NOT EXISTS i_ts ON message (storedAt);"
DBG 2024-05-07 06:43:32.701+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="ALTER TABLE message RENAME TO message_backup;"
DBG 2024-05-07 06:43:32.703+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="ALTER TABLE message RENAME TO message_backup;"
DBG 2024-05-07 06:43:32.703+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="CREATE TABLE IF NOT EXISTS message(\n  pubsubTopic BLOB NOT NULL,\n  contentTopic BLOB NOT NULL,\n  payload BLOB,\n  version INTEGER NOT NULL,\n  timestamp INTEGER NOT NULL,\n  id BLOB,\n  storedAt INTEGER NOT NULL,\n  CONSTRAINT messageIndex PRIMARY KEY (storedAt, id, pubsubTopic)\n) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.703+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="CREATE TABLE IF NOT EXISTS message(\n  pubsubTopic BLOB NOT NULL,\n  contentTopic BLOB NOT NULL,\n  payload BLOB,\n  version INTEGER NOT NULL,\n  timestamp INTEGER NOT NULL,\n  id BLOB,\n  storedAt INTEGER NOT NULL,\n  CONSTRAINT messageIndex PRIMARY KEY (storedAt, id, pubsubTopic)\n) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.703+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="INSERT OR IGNORE INTO message(pubsubTopic, contentTopic, payload, version, timestamp, id, storedAt)\n  SELECT pubsubTopic, contentTopic, payload, version, senderTimestamp, id, storedAt\n  FROM message_backup;"
DBG 2024-05-07 06:43:32.703+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="INSERT OR IGNORE INTO message(pubsubTopic, contentTopic, payload, version, timestamp, id, storedAt)\n  SELECT pubsubTopic, contentTopic, payload, version, senderTimestamp, id, storedAt\n  FROM message_backup;"
DBG 2024-05-07 06:43:32.703+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="DROP TABLE message_backup;"
DBG 2024-05-07 06:43:32.704+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="DROP TABLE message_backup;"
DBG 2024-05-07 06:43:32.704+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="ALTER TABLE message RENAME TO message_backup;"
DBG 2024-05-07 06:43:32.705+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="ALTER TABLE message RENAME TO message_backup;"
DBG 2024-05-07 06:43:32.705+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="CREATE TABLE IF NOT EXISTS message (\n  pubsubTopic BLOB NOT NULL,\n  contentTopic BLOB NOT NULL,\n  payload BLOB,\n  version INTEGER NOT NULL,\n  timestamp INTEGER NOT NULL,\n  id BLOB,\n  messageHash BLOB, -- Newly added, this will be populated with a counter value\n  storedAt INTEGER NOT NULL,\n  CONSTRAINT messageIndex PRIMARY KEY (messageHash)\n) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.706+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="CREATE TABLE IF NOT EXISTS message (\n  pubsubTopic BLOB NOT NULL,\n  contentTopic BLOB NOT NULL,\n  payload BLOB,\n  version INTEGER NOT NULL,\n  timestamp INTEGER NOT NULL,\n  id BLOB,\n  messageHash BLOB, -- Newly added, this will be populated with a counter value\n  storedAt INTEGER NOT NULL,\n  CONSTRAINT messageIndex PRIMARY KEY (messageHash)\n) WITHOUT ROWID;"
DBG 2024-05-07 06:43:32.706+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="INSERT INTO message(pubsubTopic, contentTopic, payload, version, timestamp, id, messageHash, storedAt)\nSELECT\n  mb.pubsubTopic,\n  mb.contentTopic,\n  mb.payload,\n  mb.version,\n  mb.timestamp,\n  mb.id,\n  randomblob(32), -- to populate 32-byte random blob\n  mb.storedAt\nFROM message_backup AS mb;"
DBG 2024-05-07 06:43:32.706+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="INSERT INTO message(pubsubTopic, contentTopic, payload, version, timestamp, id, messageHash, storedAt)\nSELECT\n  mb.pubsubTopic,\n  mb.contentTopic,\n  mb.payload,\n  mb.version,\n  mb.timestamp,\n  mb.id,\n  randomblob(32), -- to populate 32-byte random blob\n  mb.storedAt\nFROM message_backup AS mb;"
DBG 2024-05-07 06:43:32.706+00:00 executing migration statement              topics="sqlite" tid=1 file=db_sqlite.nim:473 statement="DROP TABLE message_backup;"
DBG 2024-05-07 06:43:32.709+00:00 migration statement executed succesfully   topics="sqlite" tid=1 file=db_sqlite.nim:481 statement="DROP TABLE message_backup;"
DBG 2024-05-07 06:43:32.710+00:00 database user_version updated              topics="sqlite" tid=1 file=db_sqlite.nim:486 userVersion=8
DBG 2024-05-07 06:43:32.710+00:00 finished message store's sqlite database migration topics="waku archive migration" tid=1 file=migrations.nim:76
DBG 2024-05-07 06:43:32.710+00:00 setting up sqlite waku archive driver      tid=1 file=builder.nim:80
/app/apps/wakunode2/wakunode2.nim(138) wakunode2
/app/waku/factory/waku.nim(95) init
/app/waku/factory/node_factory.nim(432) setupNode
/app/waku/factory/node_factory.nim(113) setupProtocols
/app/vendor/nim-chronos/chronos/internal/asyncfutures.nim(382) futureContinue
/app/waku/factory/node_factory.nim(231) setupProtocols
/app/waku/waku_archive/driver/builder.nim(24) new
/app/vendor/nim-chronos/chronos/internal/asyncfutures.nim(382) futureContinue
/app/waku/waku_archive/driver/builder.nim(81) new
/app/waku/waku_archive/driver/sqlite_driver/sqlite_driver.nim(53) new
/app/waku/waku_archive/driver/sqlite_driver/queries.nim(159) prepareInsertMessageStmt
/app/vendor/nim-results/results.nim(376) raiseResultDefect
[[reraised from:
/app/apps/wakunode2/wakunode2.nim(138) wakunode2
/app/waku/factory/waku.nim(95) init
/app/waku/factory/node_factory.nim(432) setupNode
/app/waku/factory/node_factory.nim(113) setupProtocols
/app/vendor/nim-chronos/chronos/internal/asyncfutures.nim(382) futureContinue
/app/waku/factory/node_factory.nim(231) setupProtocols
/app/waku/waku_archive/driver/builder.nim(24) new
/app/vendor/nim-chronos/chronos/internal/asyncfutures.nim(382) futureContinue
/app/waku/waku_archive/driver/builder.nim(125) new
]]
[[reraised from:
/app/apps/wakunode2/wakunode2.nim(138) wakunode2
/app/waku/factory/waku.nim(95) init
/app/waku/factory/node_factory.nim(432) setupNode
/app/waku/factory/node_factory.nim(113) setupProtocols
/app/vendor/nim-chronos/chronos/internal/asyncfutures.nim(382) futureContinue
/app/waku/factory/node_factory.nim(231) setupProtocols
/app/waku/waku_archive/driver/builder.nim(24) new
/app/vendor/nim-chronos/chronos/internal/asyncfutures.nim(382) futureContinue
/app/waku/waku_archive/driver/builder.nim(125) new
]]
[[reraised from:
/app/apps/wakunode2/wakunode2.nim(138) wakunode2
/app/waku/factory/waku.nim(95) init
/app/waku/factory/node_factory.nim(432) setupNode
/app/waku/factory/node_factory.nim(113) setupProtocols
/app/vendor/nim-chronos/chronos/internal/asyncfutures.nim(382) futureContinue
/app/waku/factory/node_factory.nim(334) setupProtocols
]]
[[reraised from:
/app/apps/wakunode2/wakunode2.nim(138) wakunode2
/app/waku/factory/waku.nim(95) init
/app/waku/factory/node_factory.nim(432) setupNode
/app/waku/factory/node_factory.nim(113) setupProtocols
/app/vendor/nim-chronos/chronos/internal/asyncfutures.nim(382) futureContinue
/app/waku/factory/node_factory.nim(334) setupProtocols
]]
Error: unhandled exception: this is a valid statement: SQL logic error [ResultDefect]
