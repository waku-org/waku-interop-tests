[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_pubsub_topic with id: 2024-09-10_04-18-50__c90ee94c-d99f-4c25-878b-5ce8158f7aad
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-10_04-18-50__c90ee94c-d99f-4c25-878b-5ce8158f7aad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.39.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['55593', '55594', '55595', '55596', '55597']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 55593:55593 -p 55594:55594 -p 55595:55595 -p 55596:55596 -p 55597:55597 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55595 --rest-port=55593 --tcp-port=55594 --discv5-udp-port=55596 --rest-address=0.0.0.0 --nat=extip:172.18.39.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0dc06b1edef49ec069e313bc6dc8ae52eb7ccd41e8dca31fdfe3a381cafe9ee7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55597 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.39.95 waku 7d7c8c798740201bcdc1b4f8f59792dcb3632a92e24167e280ae7429b7f127d5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7d7c8c798740. Setting up logs at ./log/docker/node1_2024-09-10_04-18-50__c90ee94c-d99f-4c25-878b-5ce8158f7aad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55593
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55593/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55593/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.39.95/tcp/55594/p2p/16Uiu2HAmE1C2J8rEgvD29HMm1sHWjuCDY7jQxcukte8tQUGEB3RS","/ip4/172.18.39.95/tcp/55595/ws/p2p/16Uiu2HAmE1C2J8rEgvD29HMm1sHWjuCDY7jQxcukte8tQUGEB3RS"],"enrUri":"enr:-LO4QH6zWsPjJjBT8nqzU05Wj8iOJ3oLJkBVAUyRP_D1XU9rJhxfSHwKUC7VBS64H-kA8pbR6nX32GCYQyRhooiERyIBgmlkgnY0gmlwhKwSJ1-KbXVsdGlhZGRyc4wACgSsEidfBtkr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMUCIBTZWnfoY6Pv2HxPQOOkNW0hJ5iLCPisBlaQ2Sy0YN0Y3CC2SqDdWRwgtkshXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-10_04-18-50__c90ee94c-d99f-4c25-878b-5ce8158f7aad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.202.156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['29948', '29949', '29950', '29951', '29952']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 29948:29948 -p 29949:29949 -p 29950:29950 -p 29951:29951 -p 29952:29952 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29950 --rest-port=29948 --tcp-port=29949 --discv5-udp-port=29951 --rest-address=0.0.0.0 --nat=extip:172.18.202.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ae57eca36f5d2a26b0af72d35fa666fffb99dc4f96d2aecee24a65d69d70dd93 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29952 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QH6zWsPjJjBT8nqzU05Wj8iOJ3oLJkBVAUyRP_D1XU9rJhxfSHwKUC7VBS64H-kA8pbR6nX32GCYQyRhooiERyIBgmlkgnY0gmlwhKwSJ1-KbXVsdGlhZGRyc4wACgSsEidfBtkr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMUCIBTZWnfoY6Pv2HxPQOOkNW0hJ5iLCPisBlaQ2Sy0YN0Y3CC2SqDdWRwgtkshXdha3UyBQ --filternode=/ip4/172.18.39.95/tcp/55594/p2p/16Uiu2HAmE1C2J8rEgvD29HMm1sHWjuCDY7jQxcukte8tQUGEB3RS
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.202.156 waku 7ed76d6f184457532b9f6d60457c30d4ac00399ae7d31138725321c3408a5ce9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7ed76d6f1844. Setting up logs at ./log/docker/node2_2024-09-10_04-18-50__c90ee94c-d99f-4c25-878b-5ce8158f7aad__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 29948
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29948/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29948/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.202.156/tcp/29949/p2p/16Uiu2HAm4V9KHZ5Zp94QdtqKERndjfpniymad2Y4JhNJDUJXnAQ5","/ip4/172.18.202.156/tcp/29950/ws/p2p/16Uiu2HAm4V9KHZ5Zp94QdtqKERndjfpniymad2Y4JhNJDUJXnAQ5"],"enrUri":"enr:-LO4QECNWm8P__TkZIg78VG_wMX88ryUhuxloitj3EpEK5VpAJl37PWoLzv3GQWprwW7t1EfRYaNBAmHYehmTMtPx80BgmlkgnY0gmlwhKwSypyKbXVsdGlhZGRyc4wACgSsEsqcBnT-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKGnNVx7oMprWP0uI6yO2CJaglYXBgBnKfOaBGTc3odxoN0Y3CCdP2DdWRwgnT_hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29948/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.39.95/tcp/55594/p2p/16Uiu2HAmE1C2J8rEgvD29HMm1sHWjuCDY7jQxcukte8tQUGEB3RS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55593/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29948/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "29cf3ede-6977-4747-b14c-c22dc3dbd7c8", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"29cf3ede-6977-4747-b14c-c22dc3dbd7c8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:29948/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29948/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7d7c8c798740
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7ed76d6f1844
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.