[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_extra_field with id: 2024-09-10_04-19-06__541c528c-8bac-41f4-bb6f-989d0098c46e
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-10_04-19-06__541c528c-8bac-41f4-bb6f-989d0098c46e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.154.219
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['41336', '41337', '41338', '41339', '41340']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 41336:41336 -p 41337:41337 -p 41338:41338 -p 41339:41339 -p 41340:41340 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41338 --rest-port=41336 --tcp-port=41337 --discv5-udp-port=41339 --rest-address=0.0.0.0 --nat=extip:172.18.154.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5bf4f6f31ced3bf8ce86ce6afdcb318baa10ac453d07ce678a5bd4dd6adb9d87 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41340 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.154.219 waku 60ce6d03bc6de4780144f1e14fbfa58adae76b070e9ccc3b9fba5d6883e8066d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 60ce6d03bc6d. Setting up logs at ./log/docker/node1_2024-09-10_04-19-06__541c528c-8bac-41f4-bb6f-989d0098c46e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 41336
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41336/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41336/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.219/tcp/41337/p2p/16Uiu2HAkwD8f49bMmRHGWGGEQJ5d1y3Tax4aoSxnyvzAsqoZEPsF","/ip4/172.18.154.219/tcp/41338/ws/p2p/16Uiu2HAkwD8f49bMmRHGWGGEQJ5d1y3Tax4aoSxnyvzAsqoZEPsF"],"enrUri":"enr:-LO4QBxEsd3lvMvHxtx5ZDnT0BwdLEUL7qBFO23KrdxvyhhQZ_4Cyjq0Nso5NVa-D2YSXthc_9Pv3yZGSAS9_uwMRpQBgmlkgnY0gmlwhKwSmtuKbXVsdGlhZGRyc4wACgSsEprbBqF63QOCcnOFAAMBAACJc2VjcDI1NmsxoQIagPyt57RWV7i13oZXnEbhnrjD2LxFplOWhocKY-uVQoN0Y3CCoXmDdWRwgqF7hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-10_04-19-06__541c528c-8bac-41f4-bb6f-989d0098c46e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.26.74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['9360', '9361', '9362', '9363', '9364']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 9360:9360 -p 9361:9361 -p 9362:9362 -p 9363:9363 -p 9364:9364 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9362 --rest-port=9360 --tcp-port=9361 --discv5-udp-port=9363 --rest-address=0.0.0.0 --nat=extip:172.18.26.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cbddfec6cbc0a2351ba80edeafc788efdfafcafa952a079bb379f7abeecd70fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9364 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBxEsd3lvMvHxtx5ZDnT0BwdLEUL7qBFO23KrdxvyhhQZ_4Cyjq0Nso5NVa-D2YSXthc_9Pv3yZGSAS9_uwMRpQBgmlkgnY0gmlwhKwSmtuKbXVsdGlhZGRyc4wACgSsEprbBqF63QOCcnOFAAMBAACJc2VjcDI1NmsxoQIagPyt57RWV7i13oZXnEbhnrjD2LxFplOWhocKY-uVQoN0Y3CCoXmDdWRwgqF7hXdha3UyBQ --filternode=/ip4/172.18.154.219/tcp/41337/p2p/16Uiu2HAkwD8f49bMmRHGWGGEQJ5d1y3Tax4aoSxnyvzAsqoZEPsF
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.26.74 waku a6c314e945ca97394c616643259cb57b52b59cb0960c22bceda9edc8b1eb0810
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a6c314e945ca. Setting up logs at ./log/docker/node2_2024-09-10_04-19-06__541c528c-8bac-41f4-bb6f-989d0098c46e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9360
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9360/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9360/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.26.74/tcp/9361/p2p/16Uiu2HAmJCtRbFLm7SPdk54zuAmjeETGbjxYheneUa8o1yD2KQgM","/ip4/172.18.26.74/tcp/9362/ws/p2p/16Uiu2HAmJCtRbFLm7SPdk54zuAmjeETGbjxYheneUa8o1yD2KQgM"],"enrUri":"enr:-LO4QChGkHa4un0xhGoh6e6jL0HagGNvHxelJ9Hn9fHxCGUdRnE1UibjuJM_1hcTjuf0X7_tbL1PqoSyLOd-ydG4IXoBgmlkgnY0gmlwhKwSGkqKbXVsdGlhZGRyc4wACgSsEhpKBiSS3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNSdlH1v0IJC1bNwS-vnqba5KGDOvLbpyg-ovovYDKshoN0Y3CCJJGDdWRwgiSThXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9360/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.219/tcp/41337/p2p/16Uiu2HAkwD8f49bMmRHGWGGEQJ5d1y3Tax4aoSxnyvzAsqoZEPsF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41336/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9360/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "69b4a874-3121-4d0c-a81a-3e8065a039d0", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"69b4a874-3121-4d0c-a81a-3e8065a039d0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:9360/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1", "extraField": "extraValue"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9360/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 60ce6d03bc6d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a6c314e945ca
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.