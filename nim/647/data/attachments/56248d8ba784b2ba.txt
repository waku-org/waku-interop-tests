2025-02-11 04:04:13.852 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:04:13.853 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics_one_by_one with id: 2025-02-11_04-04-13__8ad78eba-3822-4c11-90c3-f37477984ee9
2025-02-11 04:04:13.854 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:04:13.855 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 04:04:13.855 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 04:04:13.866 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:04:13.867 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_04-04-13__8ad78eba-3822-4c11-90c3-f37477984ee9__wakuorg_nwaku:latest.log
2025-02-11 04:04:13.867 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:04:13.868 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:04:13.871 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:04:13.872 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.73.209
2025-02-11 04:04:13.872 DEBUG [src.node.docker_mananger] Generated ports ['2533', '2534', '2535', '2536', '2537']
2025-02-11 04:04:13.873 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:04:13.873 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:04:13.873 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:04:13.873 DEBUG [src.node.docker_mananger] docker run -i -t -p 2533:2533 -p 2534:2534 -p 2535:2535 -p 2536:2536 -p 2537:2537 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2535 --rest-port=2533 --tcp-port=2534 --discv5-udp-port=2536 --rest-address=0.0.0.0 --nat=extip:172.18.73.209 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=c8d9b3db6c4fa699f4ba36bf1cdfc0dd9454f0da31b705cdc5c0fb27ec3534c2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2537 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-11 04:04:14.111 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.73.209 waku 191ce1f8561e8e81a1f7a3738ccdbf74e2a43fa2743f824fc965577a4c2ede2f
2025-02-11 04:04:14.156 DEBUG [src.node.docker_mananger] Container started with ID 191ce1f8561e. Setting up logs at ./log/docker/node1_2025-02-11_04-04-13__8ad78eba-3822-4c11-90c3-f37477984ee9__wakuorg_nwaku:latest.log
2025-02-11 04:04:14.158 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 2533
2025-02-11 04:04:14.158 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:04:14.684 ERROR [src.node.docker_mananger] Max retries reached for container 4c181a7f5446. Exiting log stream.
2025-02-11 04:04:15.158 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:15.161 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:15.162 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:15.162 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:15.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.209/tcp/2534/p2p/16Uiu2HAkzDk3HgrXTZH9w91W4rZ3Y6GhuD4jqpdBLH7rmUmHExBv","/ip4/172.18.73.209/tcp/2535/ws/p2p/16Uiu2HAkzDk3HgrXTZH9w91W4rZ3Y6GhuD4jqpdBLH7rmUmHExBv"],"enrUri":"enr:-L24QB2gNSDYmwV0mSx31M-unyKv7bCq7las1w9MSsQi_mgaJtE1AnJg7zghY3ZTwDCmjLotpqJ_SeytJ0fBo-CbH_YCgmlkgnY0gmlwhKwSSdGKbXVsdGlhZGRyc5YACASsEknRBgnmAAoErBJJ0QYJ590DgnJzhQACAQAAiXNlY3AyNTZrMaECRzwOTaIWLOCPq0JTzJxjKRjaoWPd10Y03fDzuagdrX2DdGNwggnmg3VkcIIJ6IV3YWt1MgU"}'
2025-02-11 04:04:15.164 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:15.171 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:04:15.171 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_04-04-13__8ad78eba-3822-4c11-90c3-f37477984ee9__wakuorg_nwaku:latest.log
2025-02-11 04:04:15.171 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:04:15.171 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:04:15.172 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:04:15.173 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.116.89
2025-02-11 04:04:15.173 DEBUG [src.node.docker_mananger] Generated ports ['62029', '62030', '62031', '62032', '62033']
2025-02-11 04:04:15.173 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:04:15.173 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:04:15.173 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:04:15.173 DEBUG [src.node.docker_mananger] docker run -i -t -p 62029:62029 -p 62030:62030 -p 62031:62031 -p 62032:62032 -p 62033:62033 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62031 --rest-port=62029 --tcp-port=62030 --discv5-udp-port=62032 --rest-address=0.0.0.0 --nat=extip:172.18.116.89 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ef46cbf3bdff1adbb4bd37cb45e75d8859eb4854b312ec35cd5cb248adb3ebc6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62033 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB2gNSDYmwV0mSx31M-unyKv7bCq7las1w9MSsQi_mgaJtE1AnJg7zghY3ZTwDCmjLotpqJ_SeytJ0fBo-CbH_YCgmlkgnY0gmlwhKwSSdGKbXVsdGlhZGRyc5YACASsEknRBgnmAAoErBJJ0QYJ590DgnJzhQACAQAAiXNlY3AyNTZrMaECRzwOTaIWLOCPq0JTzJxjKRjaoWPd10Y03fDzuagdrX2DdGNwggnmg3VkcIIJ6IV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-11 04:04:15.422 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.116.89 waku df8bea2330b0b3611aa242b9b35f8ca5ef3dae5ae858ab0ae7acb703a7766382
2025-02-11 04:04:15.472 DEBUG [src.node.docker_mananger] Container started with ID df8bea2330b0. Setting up logs at ./log/docker/node2_2025-02-11_04-04-13__8ad78eba-3822-4c11-90c3-f37477984ee9__wakuorg_nwaku:latest.log
2025-02-11 04:04:15.472 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 62029
2025-02-11 04:04:15.473 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:04:16.474 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62029/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:16.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:16.479 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:16.480 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62029/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:16.487 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.89/tcp/62030/p2p/16Uiu2HAm5S2bLbzpAieSwFQ6EDavkT7o6aAjG4fPkMHrjvUhnKxY","/ip4/172.18.116.89/tcp/62031/ws/p2p/16Uiu2HAm5S2bLbzpAieSwFQ6EDavkT7o6aAjG4fPkMHrjvUhnKxY"],"enrUri":"enr:-L24QLwdhi8eZVjXV09zZbmR1ttn1u17DGozDQlHMovj_FMLE4ZXB4ul8XAdIdkCZVLi0GhvrTI-vxpeoy2lHib-Y7sCgmlkgnY0gmlwhKwSdFmKbXVsdGlhZGRyc5YACASsEnRZBvJOAAoErBJ0WQbyT90DgnJzhQACAQAAiXNlY3AyNTZrMaEClKwtISbczRo9VdjbBdwe0Y-zBHsiaHC1oXqwxNfY4cWDdGNwgvJOg3VkcILyUIV3YWt1MgE"}'
2025-02-11 04:04:16.488 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:16.488 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62029/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.209/tcp/2534/p2p/16Uiu2HAkzDk3HgrXTZH9w91W4rZ3Y6GhuD4jqpdBLH7rmUmHExBv"]'
2025-02-11 04:04:16.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:16.493 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 04:04:16.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:16.508 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62029/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 04:04:16.527 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:16.529 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:16.538 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:16.539 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:16.640 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:16.640 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:16.643 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246656529485312,"ephemeral":false}]'
2025-02-11 04:04:16.646 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:16.646 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62029/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:16.648 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246656529485312,"ephemeral":false}]'
2025-02-11 04:04:16.650 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:16.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:16.656 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:16.756 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:16.756 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:16.759 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739246656650156800,"ephemeral":false}]'
2025-02-11 04:04:16.760 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:16.760 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62029/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:16.763 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739246656650156800,"ephemeral":false}]'
2025-02-11 04:04:16.764 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:16.770 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:16.770 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:16.870 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:16.871 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:16.873 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739246656764802816,"ephemeral":false}]'
2025-02-11 04:04:16.874 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:16.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62029/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:16.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739246656764802816,"ephemeral":false}]'
2025-02-11 04:04:16.878 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:16.883 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:16.883 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:16.983 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:16.983 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:16.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246656878610432,"ephemeral":false}]'
2025-02-11 04:04:16.987 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:16.987 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62029/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:16.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246656878610432,"ephemeral":false}]'
2025-02-11 04:04:16.991 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:16.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:16.995 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:17.096 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.096 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.098 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246656991292160,"ephemeral":false}]'
2025-02-11 04:04:17.100 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.100 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62029/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246656991292160,"ephemeral":false}]'
2025-02-11 04:04:17.104 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:17.109 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.109 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:17.210 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.210 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246657104273152,"ephemeral":false}]'
2025-02-11 04:04:17.214 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.214 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62029/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246657104273152,"ephemeral":false}]'
2025-02-11 04:04:17.218 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:17.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.223 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:17.323 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.324 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.326 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246657218200576,"ephemeral":false}]'
2025-02-11 04:04:17.328 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.328 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62029/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246657218200576,"ephemeral":false}]'
2025-02-11 04:04:17.331 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:17.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.337 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:17.437 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.437 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.439 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246657331746560,"ephemeral":false}]'
2025-02-11 04:04:17.441 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.441 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62029/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.443 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246657331746560,"ephemeral":false}]'
2025-02-11 04:04:17.444 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:2533/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-11 04:04:17.449 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.451 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:62029/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-11 04:04:17.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.455 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:2533/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-11 04:04:17.460 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.460 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:62029/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-11 04:04:17.465 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.465 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:2533/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-11 04:04:17.470 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.471 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:62029/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-11 04:04:17.474 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.475 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:2533/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-11 04:04:17.480 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.481 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:62029/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-11 04:04:17.485 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.485 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:2533/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-11 04:04:17.491 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.491 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:62029/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-11 04:04:17.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.496 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:2533/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-11 04:04:17.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.502 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:62029/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-11 04:04:17.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.506 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:2533/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-11 04:04:17.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.512 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:62029/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-11 04:04:17.516 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.517 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:2533/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-11 04:04:17.522 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.522 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:62029/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-11 04:04:17.528 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.529 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:17.532 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.532 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:17.633 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.633 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.635 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2533/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-11 04:04:17.637 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:17.639 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.640 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:17.740 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.740 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.743 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2533/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-11 04:04:17.744 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:17.747 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.747 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:17.848 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.848 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.851 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-11 04:04:17.852 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:17.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.855 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:17.955 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:17.956 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:17.958 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2533/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-11 04:04:17.960 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:17.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:17.962 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:18.063 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:18.063 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:18.065 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2533/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-11 04:04:18.067 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:18.069 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:18.069 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:18.170 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:18.170 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:18.172 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-11 04:04:18.174 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:18.177 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:18.177 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:18.277 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:18.277 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:18.279 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-11 04:04:18.281 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2533/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:18.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:18.283 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:18.384 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:18.384 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:18.387 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2533/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-11 04:04:18.389 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:04:18.390 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:04:18.390 DEBUG [src.node.waku_node] Stopping container with id 191ce1f8561e
2025-02-11 04:04:19.622 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:19.623 DEBUG [src.node.waku_node] Stopping container with id df8bea2330b0
2025-02-11 04:04:20.434 ERROR [src.node.docker_mananger] Max retries reached for container 191ce1f8561e. Exiting log stream.
2025-02-11 04:04:21.140 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:21.142 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:04:21.156 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:04:21.166 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
