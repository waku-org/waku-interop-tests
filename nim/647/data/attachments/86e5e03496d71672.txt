2025-02-11 04:07:31.407 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:07:31.407 DEBUG [tests.conftest] Running test: test_light_push_with_valid_timestamps with id: 2025-02-11_04-07-31__da6c170d-8cb8-4d22-9e27-168fd257024e
2025-02-11 04:07:31.408 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:07:31.408 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-11 04:07:31.414 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:07:31.414 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-11_04-07-31__da6c170d-8cb8-4d22-9e27-168fd257024e__wakuorg_nwaku:latest.log
2025-02-11 04:07:31.414 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:07:31.415 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:07:31.416 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:07:31.416 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.226.211
2025-02-11 04:07:31.416 DEBUG [src.node.docker_mananger] Generated ports ['11400', '11401', '11402', '11403', '11404']
2025-02-11 04:07:31.416 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:07:31.416 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:07:31.417 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:07:31.417 DEBUG [src.node.docker_mananger] docker run -i -t -p 11400:11400 -p 11401:11401 -p 11402:11402 -p 11403:11403 -p 11404:11404 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11402 --rest-port=11400 --tcp-port=11401 --discv5-udp-port=11403 --rest-address=0.0.0.0 --nat=extip:172.18.226.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=64d9b1eee8f8bb3cceceeb2d33bda5fcceed89dcb1d49fcba75526cefdb18419 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11404 --metrics-logging=true --lightpush=true --relay=true
2025-02-11 04:07:31.643 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.226.211 waku 43bbad47c5290e7f167967e5c1ddc7306fb288cc60f8ba4564730d67c3010fac
2025-02-11 04:07:31.697 DEBUG [src.node.docker_mananger] Container started with ID 43bbad47c529. Setting up logs at ./log/docker/receiving_node1_2025-02-11_04-07-31__da6c170d-8cb8-4d22-9e27-168fd257024e__wakuorg_nwaku:latest.log
2025-02-11 04:07:31.698 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 11400
2025-02-11 04:07:31.698 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:07:32.198 ERROR [src.node.docker_mananger] Max retries reached for container 686a3517b7b4. Exiting log stream.
2025-02-11 04:07:32.698 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11400/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:32.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:07:32.702 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:07:32.702 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11400/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:32.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.226.211/tcp/11401/p2p/16Uiu2HAmMiyahF58B2o5P5MZNQGoKPb2k7FtKGkwiqSv9NMQbo6E","/ip4/172.18.226.211/tcp/11402/ws/p2p/16Uiu2HAmMiyahF58B2o5P5MZNQGoKPb2k7FtKGkwiqSv9NMQbo6E"],"enrUri":"enr:-L24QPbrevEiAnSD0uFb-iQsZR4igbTBu4mMVe0Y8TVVxY5nVDRTCu0YOMz5e39C73eA7NdefZBDLxZVoKZ1hWhfnOYCgmlkgnY0gmlwhKwS4tOKbXVsdGlhZGRyc5YACASsEuLTBiyJAAoErBLi0wYsit0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhr6i3aVFFc2Gb0C28K04Jdm-ticDtU04efv-VYfeMieDdGNwgiyJg3VkcIIsi4V3YWt1Mgk"}'
2025-02-11 04:07:32.704 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:07:32.711 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:07:32.711 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-11_04-07-31__da6c170d-8cb8-4d22-9e27-168fd257024e__wakuorg_nwaku:latest.log
2025-02-11 04:07:32.711 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:07:32.711 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:07:32.713 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:07:32.713 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.44.86
2025-02-11 04:07:32.713 DEBUG [src.node.docker_mananger] Generated ports ['49520', '49521', '49522', '49523', '49524']
2025-02-11 04:07:32.713 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:07:32.713 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:07:32.713 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:07:32.713 DEBUG [src.node.docker_mananger] docker run -i -t -p 49520:49520 -p 49521:49521 -p 49522:49522 -p 49523:49523 -p 49524:49524 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49522 --rest-port=49520 --tcp-port=49521 --discv5-udp-port=49523 --rest-address=0.0.0.0 --nat=extip:172.18.44.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da2c42bafceeec67da2e14ccdacb0e9febe1ceacadfaf1ea71e1abffb0e5f916 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49524 --metrics-logging=true --lightpush=false --relay=true
2025-02-11 04:07:32.936 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.44.86 waku a59782c3b52cf616043c58c34c49f4244cfb26952ca3562e6547fb4822a3d1cc
2025-02-11 04:07:32.982 DEBUG [src.node.docker_mananger] Container started with ID a59782c3b52c. Setting up logs at ./log/docker/receiving_node2_2025-02-11_04-07-31__da6c170d-8cb8-4d22-9e27-168fd257024e__wakuorg_nwaku:latest.log
2025-02-11 04:07:32.983 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 49520
2025-02-11 04:07:32.983 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:07:33.983 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49520/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:33.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:07:33.986 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:07:33.986 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49520/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:33.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.44.86/tcp/49521/p2p/16Uiu2HAm4tg7D14h3jqRuUnz7K5Khc6HeCv33rqJN6zq3sGFWW6d","/ip4/172.18.44.86/tcp/49522/ws/p2p/16Uiu2HAm4tg7D14h3jqRuUnz7K5Khc6HeCv33rqJN6zq3sGFWW6d"],"enrUri":"enr:-L24QKEcxaW_lxO7dEWHuYchbDX8vONz1vJ5d5N0AAJuNzGZSgouzKZS_YKZm3aKpvMCRfY6a7kFpjP1duVMdDIwS9ICgmlkgnY0gmlwhKwSLFaKbXVsdGlhZGRyc5YACASsEixWBsFxAAoErBIsVgbBct0DgnJzhQADAQAAiXNlY3AyNTZrMaECjKQCO5J1xyoGaSjkiPbTUtoHdMQN5dZg5DsAZ651Y6KDdGNwgsFxg3VkcILBc4V3YWt1MgE"}'
2025-02-11 04:07:33.989 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:07:33.989 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49520/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.226.211/tcp/11401/p2p/16Uiu2HAmMiyahF58B2o5P5MZNQGoKPb2k7FtKGkwiqSv9NMQbo6E"]'
2025-02-11 04:07:34.028 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:34.037 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:07:34.037 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-11_04-07-31__da6c170d-8cb8-4d22-9e27-168fd257024e__wakuorg_nwaku:latest.log
2025-02-11 04:07:34.037 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:07:34.037 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:07:34.039 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:07:34.039 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.160.110
2025-02-11 04:07:34.039 DEBUG [src.node.docker_mananger] Generated ports ['24727', '24728', '24729', '24730', '24731']
2025-02-11 04:07:34.039 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:07:34.039 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:07:34.039 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:07:34.040 DEBUG [src.node.docker_mananger] docker run -i -t -p 24727:24727 -p 24728:24728 -p 24729:24729 -p 24730:24730 -p 24731:24731 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24729 --rest-port=24727 --tcp-port=24728 --discv5-udp-port=24730 --rest-address=0.0.0.0 --nat=extip:172.18.160.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2dc0fdaddaacc26e63e601552daf970fa797c8d6480bad9b71184e77dfd04f43 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24731 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPbrevEiAnSD0uFb-iQsZR4igbTBu4mMVe0Y8TVVxY5nVDRTCu0YOMz5e39C73eA7NdefZBDLxZVoKZ1hWhfnOYCgmlkgnY0gmlwhKwS4tOKbXVsdGlhZGRyc5YACASsEuLTBiyJAAoErBLi0wYsit0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhr6i3aVFFc2Gb0C28K04Jdm-ticDtU04efv-VYfeMieDdGNwgiyJg3VkcIIsi4V3YWt1Mgk --lightpushnode=/ip4/172.18.226.211/tcp/11401/p2p/16Uiu2HAmMiyahF58B2o5P5MZNQGoKPb2k7FtKGkwiqSv9NMQbo6E --lightpush=true --relay=false
2025-02-11 04:07:34.275 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.160.110 waku 2ea8144e62ed0a76cf682ef33bac472cb54e38b7c1d11afcceb1d00b9f30abb9
2025-02-11 04:07:34.319 DEBUG [src.node.docker_mananger] Container started with ID 2ea8144e62ed. Setting up logs at ./log/docker/lightpush_node1_2025-02-11_04-07-31__da6c170d-8cb8-4d22-9e27-168fd257024e__wakuorg_nwaku:latest.log
2025-02-11 04:07:34.320 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 24727
2025-02-11 04:07:34.320 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:07:35.320 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24727/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:35.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:07:35.323 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:07:35.324 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24727/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:35.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.110/tcp/24728/p2p/16Uiu2HAm2gsh21B2eGbxUASfGeHXrn8ceARwpJva3uzPZxUsFGPK","/ip4/172.18.160.110/tcp/24729/ws/p2p/16Uiu2HAm2gsh21B2eGbxUASfGeHXrn8ceARwpJva3uzPZxUsFGPK"],"enrUri":"enr:-L24QPaywIi0oLbUNjTQog-6GXblse3bNQJ4bmuLI9ZcD7_hVNaQDbpCVRgcZIyd3DPkh_RZjadfeqVHcgxeinxTOQoCgmlkgnY0gmlwhKwSoG6KbXVsdGlhZGRyc5YACASsEqBuBmCYAAoErBKgbgZgmd0DgnJzhQADAQAAiXNlY3AyNTZrMaECa-bDFFcxExDKaNrG-x-zdrTamjLuEZV6AuRo-At0BRqDdGNwgmCYg3VkcIJgmoV3YWt1Mgg"}'
2025-02-11 04:07:35.326 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:07:35.326 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24727/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.226.211/tcp/11401/p2p/16Uiu2HAmMiyahF58B2o5P5MZNQGoKPb2k7FtKGkwiqSv9NMQbo6E"]'
2025-02-11 04:07:35.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:35.366 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24727/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.44.86/tcp/49521/p2p/16Uiu2HAm4tg7D14h3jqRuUnz7K5Khc6HeCv33rqJN6zq3sGFWW6d"]'
2025-02-11 04:07:35.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:35.392 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11400/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:07:35.400 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:35.404 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49520/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:07:35.409 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:35.412 DEBUG [tests.light_push.test_publish] Running test with timestamp Now
2025-02-11 04:07:35.415 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:07:35.415 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24727/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246534595770880}}'
2025-02-11 04:07:35.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:35.426 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:07:35.528 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:35.528 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:35.531 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246534595770880,"ephemeral":false}]'
2025-02-11 04:07:35.532 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:35.532 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:35.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246534595770880,"ephemeral":false}]'
2025-02-11 04:07:35.535 DEBUG [tests.light_push.test_publish] Running test with timestamp Far future
2025-02-11 04:07:35.536 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:07:35.536 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24727/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 2054606534595757056}}'
2025-02-11 04:07:35.545 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:35.545 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:07:35.646 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:35.646 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:35.649 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2054606534595757056,"ephemeral":false}]'
2025-02-11 04:07:35.650 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:35.651 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:35.653 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2054606534595757056,"ephemeral":false}]'
2025-02-11 04:07:35.654 DEBUG [tests.light_push.test_publish] Running test with timestamp Recent past
2025-02-11 04:07:35.654 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:07:35.655 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24727/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739242934595757056}}'
2025-02-11 04:07:35.664 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:35.665 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:07:35.765 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:35.765 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:35.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739242934595757056,"ephemeral":false}]'
2025-02-11 04:07:35.769 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:35.769 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:35.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739242934595757056,"ephemeral":false}]'
2025-02-11 04:07:35.772 DEBUG [tests.light_push.test_publish] Running test with timestamp Near future
2025-02-11 04:07:35.773 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:07:35.773 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24727/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739250134595757056}}'
2025-02-11 04:07:35.782 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:35.783 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:07:35.883 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:35.883 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:35.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739250134595757056,"ephemeral":false}]'
2025-02-11 04:07:35.887 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:35.887 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:35.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739250134595757056,"ephemeral":false}]'
2025-02-11 04:07:35.890 DEBUG [tests.light_push.test_publish] Running test with timestamp Positive number
2025-02-11 04:07:35.891 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:07:35.891 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24727/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1}}'
2025-02-11 04:07:35.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:35.901 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:07:36.002 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:36.002 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:36.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-11 04:07:36.006 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:36.006 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:36.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-11 04:07:36.009 DEBUG [tests.light_push.test_publish] Running test with timestamp Negative number
2025-02-11 04:07:36.010 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:07:36.010 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24727/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": -1}}'
2025-02-11 04:07:36.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:36.019 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:07:36.119 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:36.120 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:36.122 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-11 04:07:36.123 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:36.124 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:36.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-11 04:07:36.127 DEBUG [tests.light_push.test_publish] Running test with timestamp DST change
2025-02-11 04:07:36.127 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:07:36.128 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24727/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1583632800000000000}}'
2025-02-11 04:07:36.138 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:07:36.138 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:07:36.238 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:36.238 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:36.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-11 04:07:36.242 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:07:36.242 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:07:36.244 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-11 04:07:36.247 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:07:36.248 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:07:36.248 DEBUG [src.node.waku_node] Stopping container with id 43bbad47c529
2025-02-11 04:07:37.198 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:07:37.199 DEBUG [src.node.waku_node] Stopping container with id a59782c3b52c
2025-02-11 04:07:38.010 ERROR [src.node.docker_mananger] Max retries reached for container 43bbad47c529. Exiting log stream.
2025-02-11 04:07:38.697 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:07:38.697 DEBUG [src.node.waku_node] Stopping container with id 2ea8144e62ed
2025-02-11 04:07:39.507 ERROR [src.node.docker_mananger] Max retries reached for container a59782c3b52c. Exiting log stream.
2025-02-11 04:07:40.200 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:07:40.201 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:07:40.210 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:07:40.218 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:07:40.225 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
