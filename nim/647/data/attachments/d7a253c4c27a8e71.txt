2025-02-11 04:08:52.877 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:08:52.877 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2025-02-11_04-08-52__d694b655-5be2-4524-833a-c4ec1abaf9a6
2025-02-11 04:08:52.878 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:08:52.878 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 04:08:52.878 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 04:08:52.885 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:08:52.885 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_04-08-52__d694b655-5be2-4524-833a-c4ec1abaf9a6__wakuorg_nwaku:latest.log
2025-02-11 04:08:52.885 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:08:52.885 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:08:52.887 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:08:52.887 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.217.131
2025-02-11 04:08:52.887 DEBUG [src.node.docker_mananger] Generated ports ['50131', '50132', '50133', '50134', '50135']
2025-02-11 04:08:52.887 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:08:52.887 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:08:52.887 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:08:52.888 DEBUG [src.node.docker_mananger] docker run -i -t -p 50131:50131 -p 50132:50132 -p 50133:50133 -p 50134:50134 -p 50135:50135 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50133 --rest-port=50131 --tcp-port=50132 --discv5-udp-port=50134 --rest-address=0.0.0.0 --nat=extip:172.18.217.131 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=4ca6cf7e256c73ddd6a2d70aba6ec7dfbfbb5a54667de05eb6f7a93ff80ff9c6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50135 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 04:08:53.117 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.217.131 waku 41b4bc9f51ff2d927c73ce9a70355f259d4151396fdff325cbb67820252a1a8c
2025-02-11 04:08:53.166 DEBUG [src.node.docker_mananger] Container started with ID 41b4bc9f51ff. Setting up logs at ./log/docker/node1_2025-02-11_04-08-52__d694b655-5be2-4524-833a-c4ec1abaf9a6__wakuorg_nwaku:latest.log
2025-02-11 04:08:53.167 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 50131
2025-02-11 04:08:53.167 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:08:53.682 ERROR [src.node.docker_mananger] Max retries reached for container 89fdb8576de5. Exiting log stream.
2025-02-11 04:08:54.168 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:54.171 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:08:54.171 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:08:54.171 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:54.173 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.131/tcp/50132/p2p/16Uiu2HAmGsGuAZUBnvBiamLJPNkgyWPUARdFLh3K91KdVw3mcyr2","/ip4/172.18.217.131/tcp/50133/ws/p2p/16Uiu2HAmGsGuAZUBnvBiamLJPNkgyWPUARdFLh3K91KdVw3mcyr2"],"enrUri":"enr:-Mu4QARIIu3jcHtF2kW1r_sD9xZQzwG2X0hVTeF9qFZQvrQnJdFa0F1pPV1fb12TaTDzaQJi58nPymhIq9GuX0BT5n4CgmlkgnY0gmlwhKwS2YOKbXVsdGlhZGRyc5YACASsEtmDBsPUAAoErBLZgwbD1d0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQM-lG4aJiQUj9Uz3cwZ3J8V2vQ3-H4OTaRkgMrPEzBX84N0Y3CCw9SDdWRwgsPWhXdha3UyBQ"}'
2025-02-11 04:08:54.173 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:08:54.180 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:08:54.180 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_04-08-52__d694b655-5be2-4524-833a-c4ec1abaf9a6__wakuorg_nwaku:latest.log
2025-02-11 04:08:54.180 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:08:54.180 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:08:54.181 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:08:54.181 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.187.22
2025-02-11 04:08:54.182 DEBUG [src.node.docker_mananger] Generated ports ['10019', '10020', '10021', '10022', '10023']
2025-02-11 04:08:54.182 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:08:54.182 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:08:54.182 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:08:54.182 DEBUG [src.node.docker_mananger] docker run -i -t -p 10019:10019 -p 10020:10020 -p 10021:10021 -p 10022:10022 -p 10023:10023 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10021 --rest-port=10019 --tcp-port=10020 --discv5-udp-port=10022 --rest-address=0.0.0.0 --nat=extip:172.18.187.22 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=60b5faf91511da2ef7fe129ba2e40d1d76eebd9d7e31feb27fe8b8eb933a3e9d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10023 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QARIIu3jcHtF2kW1r_sD9xZQzwG2X0hVTeF9qFZQvrQnJdFa0F1pPV1fb12TaTDzaQJi58nPymhIq9GuX0BT5n4CgmlkgnY0gmlwhKwS2YOKbXVsdGlhZGRyc5YACASsEtmDBsPUAAoErBLZgwbD1d0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQM-lG4aJiQUj9Uz3cwZ3J8V2vQ3-H4OTaRkgMrPEzBX84N0Y3CCw9SDdWRwgsPWhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 04:08:54.403 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.187.22 waku 68c6375c829e1a8f6e628efbf624b8115cd4b43aa6394c80e454f06cb4bfb935
2025-02-11 04:08:54.453 DEBUG [src.node.docker_mananger] Container started with ID 68c6375c829e. Setting up logs at ./log/docker/node2_2025-02-11_04-08-52__d694b655-5be2-4524-833a-c4ec1abaf9a6__wakuorg_nwaku:latest.log
2025-02-11 04:08:54.453 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 10019
2025-02-11 04:08:54.453 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:08:55.454 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:55.475 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:08:55.475 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:08:55.475 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:55.496 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.22/tcp/10020/p2p/16Uiu2HAmSzgTWcEgGeweVNtjSLdofnyZGtajbFLbCcsMfF4ZrnAX","/ip4/172.18.187.22/tcp/10021/ws/p2p/16Uiu2HAmSzgTWcEgGeweVNtjSLdofnyZGtajbFLbCcsMfF4ZrnAX"],"enrUri":"enr:-Mu4QFuPm_Y2ak_c00EXR6HWJAtsezUeGeRYn0nem1ZKKlOOJpT34ps5ODfjfbT529J2da6OUtm78O4eY7hbK7YKgfUCgmlkgnY0gmlwhKwSuxaKbXVsdGlhZGRyc5YACASsErsWBickAAoErBK7FgYnJd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQPVDwB0FjRx8VqgRDbTsmLhbpuXdlHPkpc2eVdw0PjohIN0Y3CCJySDdWRwgicmhXdha3UyAQ"}'
2025-02-11 04:08:55.497 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:08:55.498 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10019/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.217.131/tcp/50132/p2p/16Uiu2HAmGsGuAZUBnvBiamLJPNkgyWPUARdFLh3K91KdVw3mcyr2"]'
2025-02-11 04:08:55.505 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:55.506 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 04:08:55.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:55.509 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10019/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 04:08:55.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:55.511 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:55.516 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:55.517 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:55.617 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:55.617 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:55.619 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246935511723264,"ephemeral":false}]'
2025-02-11 04:08:55.621 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:55.621 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:55.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246935511723264,"ephemeral":false}]'
2025-02-11 04:08:55.625 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:55.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:55.630 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:55.731 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:55.731 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:55.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246935624980992,"ephemeral":false}]'
2025-02-11 04:08:55.734 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:55.735 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:55.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246935624980992,"ephemeral":false}]'
2025-02-11 04:08:55.739 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:55.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:55.744 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:55.844 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:55.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:55.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246935738900480,"ephemeral":false}]'
2025-02-11 04:08:55.848 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:55.848 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:55.850 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246935738900480,"ephemeral":false}]'
2025-02-11 04:08:55.852 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:55.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:55.856 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:55.957 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:55.957 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:55.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246935852131072,"ephemeral":false}]'
2025-02-11 04:08:55.961 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:55.961 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:55.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246935852131072,"ephemeral":false}]'
2025-02-11 04:08:55.965 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:55.969 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:55.970 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:56.071 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.071 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.073 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246935965085952,"ephemeral":false}]'
2025-02-11 04:08:56.075 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246935965085952,"ephemeral":false}]'
2025-02-11 04:08:56.079 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:56.084 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:56.084 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:56.184 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.185 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936079064576,"ephemeral":false}]'
2025-02-11 04:08:56.188 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.189 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.191 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936079064576,"ephemeral":false}]'
2025-02-11 04:08:56.192 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:56.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:56.198 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:56.298 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.298 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.301 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936192614656,"ephemeral":false}]'
2025-02-11 04:08:56.302 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.302 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.304 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936192614656,"ephemeral":false}]'
2025-02-11 04:08:56.306 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:56.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:56.311 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:56.411 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.412 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.414 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936306010880,"ephemeral":false}]'
2025-02-11 04:08:56.415 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.415 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.418 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936306010880,"ephemeral":false}]'
2025-02-11 04:08:56.420 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:50131/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-11 04:08:56.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:56.431 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:10019/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-11 04:08:56.436 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:56.437 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:56.440 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-11 04:08:56.442 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:56.444 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-11 04:08:56.445 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:56.447 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-11 04:08:56.449 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:56.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:56.454 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:56.554 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.554 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936449015808,"ephemeral":false}]'
2025-02-11 04:08:56.558 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.558 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936449015808,"ephemeral":false}]'
2025-02-11 04:08:56.562 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:56.566 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:56.567 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:56.667 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.667 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936561971200,"ephemeral":false}]'
2025-02-11 04:08:56.671 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.671 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936561971200,"ephemeral":false}]'
2025-02-11 04:08:56.675 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:56.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:56.680 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:56.780 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.781 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936675247616,"ephemeral":false}]'
2025-02-11 04:08:56.785 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.785 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936675247616,"ephemeral":false}]'
2025-02-11 04:08:56.789 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:56.794 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:56.794 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:56.895 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.895 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.897 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936789067776,"ephemeral":false}]'
2025-02-11 04:08:56.899 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:56.899 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:56.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936789067776,"ephemeral":false}]'
2025-02-11 04:08:56.903 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:56.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:56.908 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:08:57.008 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:57.008 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50131/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:57.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936903008256,"ephemeral":false}]'
2025-02-11 04:08:57.012 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:08:57.012 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:57.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246936903008256,"ephemeral":false}]'
2025-02-11 04:08:57.017 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:08:57.018 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:08:57.018 DEBUG [src.node.waku_node] Stopping container with id 41b4bc9f51ff
2025-02-11 04:08:57.668 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:08:57.669 DEBUG [src.node.waku_node] Stopping container with id 68c6375c829e
2025-02-11 04:08:58.480 ERROR [src.node.docker_mananger] Max retries reached for container 41b4bc9f51ff. Exiting log stream.
2025-02-11 04:08:59.178 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:08:59.179 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:08:59.191 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:08:59.201 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
