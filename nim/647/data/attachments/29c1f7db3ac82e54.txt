2025-02-11 04:05:05.578 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:05:05.579 DEBUG [tests.conftest] Running test: test_publish_with_valid_timestamps with id: 2025-02-11_04-05-05__602cb3a4-cb4d-40c3-bc4e-2a29062309e0
2025-02-11 04:05:05.579 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:05:05.579 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 04:05:05.579 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-11 04:05:05.585 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:05:05.585 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_04-05-05__602cb3a4-cb4d-40c3-bc4e-2a29062309e0__wakuorg_nwaku:latest.log
2025-02-11 04:05:05.586 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:05:05.586 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:05:05.587 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:05:05.587 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.157.232
2025-02-11 04:05:05.587 DEBUG [src.node.docker_mananger] Generated ports ['17253', '17254', '17255', '17256', '17257']
2025-02-11 04:05:05.587 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:05:05.587 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:05:05.588 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:05:05.588 DEBUG [src.node.docker_mananger] docker run -i -t -p 17253:17253 -p 17254:17254 -p 17255:17255 -p 17256:17256 -p 17257:17257 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17255 --rest-port=17253 --tcp-port=17254 --discv5-udp-port=17256 --rest-address=0.0.0.0 --nat=extip:172.18.157.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d04cb83eb8946f273a3fbda008a41eddddc4694acb5af0a40caaaff4890dec7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17257 --metrics-logging=true --relay=true
2025-02-11 04:05:05.822 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.157.232 waku d965744155498e723241d4766974239a6e4db91bb8ed0df2b7c93b7a0c92b660
2025-02-11 04:05:05.873 DEBUG [src.node.docker_mananger] Container started with ID d96574415549. Setting up logs at ./log/docker/node1_2025-02-11_04-05-05__602cb3a4-cb4d-40c3-bc4e-2a29062309e0__wakuorg_nwaku:latest.log
2025-02-11 04:05:05.874 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17253
2025-02-11 04:05:05.874 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:05:06.313 ERROR [src.node.docker_mananger] Max retries reached for container 07be6694e784. Exiting log stream.
2025-02-11 04:05:06.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17253/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:06.878 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:05:06.878 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:05:06.878 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17253/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:06.880 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.157.232/tcp/17254/p2p/16Uiu2HAmGc8fCm9d9UMaJeq6wQ7sjUBjHrh1KPdT3VoCcm2JFZ4V","/ip4/172.18.157.232/tcp/17255/ws/p2p/16Uiu2HAmGc8fCm9d9UMaJeq6wQ7sjUBjHrh1KPdT3VoCcm2JFZ4V"],"enrUri":"enr:-L24QBrY42QQtYjxTRPvGq5gmUMaskH1QrMHJDnGBvexTbV_CWsZB8N3BbvPXsAQ6RZ84wUQhwGQlmLtjP3tt8xq_WACgmlkgnY0gmlwhKwSneiKbXVsdGlhZGRyc5YACASsEp3oBkNmAAoErBKd6AZDZ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDOrNmbx3hxHMpNaR62ayKtEpelXxJn2gUw5GK3CeboKqDdGNwgkNmg3VkcIJDaIV3YWt1MgE"}'
2025-02-11 04:05:06.880 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:05:06.886 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:05:06.887 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_04-05-05__602cb3a4-cb4d-40c3-bc4e-2a29062309e0__wakuorg_nwaku:latest.log
2025-02-11 04:05:06.887 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:05:06.887 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:05:06.888 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:05:06.888 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.100.125
2025-02-11 04:05:06.888 DEBUG [src.node.docker_mananger] Generated ports ['8805', '8806', '8807', '8808', '8809']
2025-02-11 04:05:06.889 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:05:06.889 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:05:06.889 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:05:06.889 DEBUG [src.node.docker_mananger] docker run -i -t -p 8805:8805 -p 8806:8806 -p 8807:8807 -p 8808:8808 -p 8809:8809 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8807 --rest-port=8805 --tcp-port=8806 --discv5-udp-port=8808 --rest-address=0.0.0.0 --nat=extip:172.18.100.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4baf7c839b982df2ac2117c4a316d8fdcf53a6ae50387da11948b9c7bfdebffd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8809 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBrY42QQtYjxTRPvGq5gmUMaskH1QrMHJDnGBvexTbV_CWsZB8N3BbvPXsAQ6RZ84wUQhwGQlmLtjP3tt8xq_WACgmlkgnY0gmlwhKwSneiKbXVsdGlhZGRyc5YACASsEp3oBkNmAAoErBKd6AZDZ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDOrNmbx3hxHMpNaR62ayKtEpelXxJn2gUw5GK3CeboKqDdGNwgkNmg3VkcIJDaIV3YWt1MgE
2025-02-11 04:05:07.127 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.100.125 waku 0a1df862664fa573d09b1d356339c7e280edebb33342e7ac164ee5609fbadd76
2025-02-11 04:05:07.174 DEBUG [src.node.docker_mananger] Container started with ID 0a1df862664f. Setting up logs at ./log/docker/node2_2025-02-11_04-05-05__602cb3a4-cb4d-40c3-bc4e-2a29062309e0__wakuorg_nwaku:latest.log
2025-02-11 04:05:07.174 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 8805
2025-02-11 04:05:07.174 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:05:08.175 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8805/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.185 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:05:08.185 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:05:08.185 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8805/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.100.125/tcp/8806/p2p/16Uiu2HAm7iY7VH7KZKDG3EwcaFHcKabcrQRzsSWBXHUa1eF1H2U7","/ip4/172.18.100.125/tcp/8807/ws/p2p/16Uiu2HAm7iY7VH7KZKDG3EwcaFHcKabcrQRzsSWBXHUa1eF1H2U7"],"enrUri":"enr:-L24QHHeRhQmDttt5JBQELPi48UKGYSzAqNrgITgVuXNc6lbR2tOO_2k-_HTkO-EqQnOyqn0aI3OpKPgU57D5EqPDeICgmlkgnY0gmlwhKwSZH2KbXVsdGlhZGRyc5YACASsEmR9BiJmAAoErBJkfQYiZ90DgnJzhQADAQAAiXNlY3AyNTZrMaECtp44o_Yf-7SbxGNbq2Hb6HG86lOd4uw0KzW_notIusiDdGNwgiJmg3VkcIIiaIV3YWt1MgE"}'
2025-02-11 04:05:08.191 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:05:08.191 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8805/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.157.232/tcp/17254/p2p/16Uiu2HAmGc8fCm9d9UMaJeq6wQ7sjUBjHrh1KPdT3VoCcm2JFZ4V"]'
2025-02-11 04:05:08.195 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:08.196 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-11 04:05:08.196 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17253/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 04:05:08.199 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:08.200 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:8805/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 04:05:08.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:08.207 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:08.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:08.213 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:08.313 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.314 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246708207233536,"ephemeral":false}]'
2025-02-11 04:05:08.318 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.318 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.320 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246708207233536,"ephemeral":false}]'
2025-02-11 04:05:08.321 INFO [src.steps.relay] WARM UP successful!!
2025-02-11 04:05:08.322 DEBUG [tests.relay.test_publish] Running test with timestamp Now
2025-02-11 04:05:08.322 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:08.327 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:08.327 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:08.427 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.428 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246541302336768,"ephemeral":false}]'
2025-02-11 04:05:08.431 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.431 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246541302336768,"ephemeral":false}]'
2025-02-11 04:05:08.435 DEBUG [tests.relay.test_publish] Running test with timestamp Far future
2025-02-11 04:05:08.435 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:08.440 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:08.441 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:08.541 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.542 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.544 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054606541302323968,"ephemeral":false}]'
2025-02-11 04:05:08.545 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.545 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054606541302323968,"ephemeral":false}]'
2025-02-11 04:05:08.549 DEBUG [tests.relay.test_publish] Running test with timestamp Recent past
2025-02-11 04:05:08.549 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:08.555 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:08.555 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:08.655 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.656 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.658 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739242941302323968,"ephemeral":false}]'
2025-02-11 04:05:08.660 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.660 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.662 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739242941302323968,"ephemeral":false}]'
2025-02-11 04:05:08.663 DEBUG [tests.relay.test_publish] Running test with timestamp Near future
2025-02-11 04:05:08.663 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:08.668 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:08.668 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:08.769 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.769 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739250141302323968,"ephemeral":false}]'
2025-02-11 04:05:08.773 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.773 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739250141302323968,"ephemeral":false}]'
2025-02-11 04:05:08.777 DEBUG [tests.relay.test_publish] Running test with timestamp Positive number
2025-02-11 04:05:08.777 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:08.781 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:08.781 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:08.882 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.882 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.884 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-11 04:05:08.886 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.886 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.888 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-11 04:05:08.890 DEBUG [tests.relay.test_publish] Running test with timestamp Negative number
2025-02-11 04:05:08.890 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:08.895 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:08.896 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:08.996 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:08.997 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:08.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-11 04:05:09.001 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:09.001 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:09.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-11 04:05:09.004 DEBUG [tests.relay.test_publish] Running test with timestamp DST change
2025-02-11 04:05:09.004 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:09.009 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:09.010 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:09.110 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:09.110 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17253/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:09.113 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-11 04:05:09.114 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:09.115 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:8805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:09.117 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-11 04:05:09.120 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:05:09.121 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:05:09.121 DEBUG [src.node.waku_node] Stopping container with id d96574415549
2025-02-11 04:05:10.338 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:05:10.339 DEBUG [src.node.waku_node] Stopping container with id 0a1df862664f
2025-02-11 04:05:11.151 ERROR [src.node.docker_mananger] Max retries reached for container d96574415549. Exiting log stream.
2025-02-11 04:05:11.739 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:05:11.740 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:05:11.746 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:05:11.753 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
