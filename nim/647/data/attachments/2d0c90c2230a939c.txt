2025-02-11 04:04:02.257 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:04:02.257 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_from_some_pubsub_topics with id: 2025-02-11_04-04-02__f0064ac3-c6c8-4d32-b0e8-eaf14be61888
2025-02-11 04:04:02.258 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:04:02.258 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 04:04:02.258 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-11 04:04:02.264 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:04:02.264 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_04-04-02__f0064ac3-c6c8-4d32-b0e8-eaf14be61888__wakuorg_nwaku:latest.log
2025-02-11 04:04:02.265 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:04:02.265 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:04:02.266 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:04:02.266 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.8.47
2025-02-11 04:04:02.266 DEBUG [src.node.docker_mananger] Generated ports ['30260', '30261', '30262', '30263', '30264']
2025-02-11 04:04:02.266 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:04:02.266 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:04:02.267 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:04:02.267 DEBUG [src.node.docker_mananger] docker run -i -t -p 30260:30260 -p 30261:30261 -p 30262:30262 -p 30263:30263 -p 30264:30264 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30262 --rest-port=30260 --tcp-port=30261 --discv5-udp-port=30263 --rest-address=0.0.0.0 --nat=extip:172.18.8.47 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acf0e5afb8d5fa7ecb8ab22fef0c23e3f42d946dfc09de87eeaa5445ea2c47e9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30264 --metrics-logging=true --relay=true
2025-02-11 04:04:02.493 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.8.47 waku 126d66108673507a872a25842a7c42d82fb05cbdcb5dd66a874c24922b905d69
2025-02-11 04:04:02.548 DEBUG [src.node.docker_mananger] Container started with ID 126d66108673. Setting up logs at ./log/docker/node1_2025-02-11_04-04-02__f0064ac3-c6c8-4d32-b0e8-eaf14be61888__wakuorg_nwaku:latest.log
2025-02-11 04:04:02.549 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 30260
2025-02-11 04:04:02.550 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:04:03.058 ERROR [src.node.docker_mananger] Max retries reached for container 4b79fb65aa8d. Exiting log stream.
2025-02-11 04:04:03.550 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30260/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:03.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:03.553 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:03.553 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30260/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:03.555 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.8.47/tcp/30261/p2p/16Uiu2HAm2UtJi2ksREapPZujR6Gw5jY4gvYTCHChLKGQekrMtELj","/ip4/172.18.8.47/tcp/30262/ws/p2p/16Uiu2HAm2UtJi2ksREapPZujR6Gw5jY4gvYTCHChLKGQekrMtELj"],"enrUri":"enr:-L24QESIni8wW-HoIrFO2TFvYM7GxAYHdq_n0p3RwzeX2o-aWB_dKdQFiQwDXo42MU0KweaYm0qv8HQt5uEv8Xbd2jQCgmlkgnY0gmlwhKwSCC-KbXVsdGlhZGRyc5YACASsEggvBnY1AAoErBIILwZ2Nt0DgnJzhQADAQAAiXNlY3AyNTZrMaECaNR889AgfYmP6WY2wZQyLiO73IN0p1pRGBloqfbdXGSDdGNwgnY1g3VkcIJ2N4V3YWt1MgE"}'
2025-02-11 04:04:03.556 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:03.562 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:04:03.562 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_04-04-02__f0064ac3-c6c8-4d32-b0e8-eaf14be61888__wakuorg_nwaku:latest.log
2025-02-11 04:04:03.562 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:04:03.562 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:04:03.563 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:04:03.564 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.93.238
2025-02-11 04:04:03.564 DEBUG [src.node.docker_mananger] Generated ports ['5072', '5073', '5074', '5075', '5076']
2025-02-11 04:04:03.564 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:04:03.564 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:04:03.564 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:04:03.564 DEBUG [src.node.docker_mananger] docker run -i -t -p 5072:5072 -p 5073:5073 -p 5074:5074 -p 5075:5075 -p 5076:5076 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5074 --rest-port=5072 --tcp-port=5073 --discv5-udp-port=5075 --rest-address=0.0.0.0 --nat=extip:172.18.93.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b4f1f9dec4fdeb3cf2cc8a5a0bdc4a9f2e64ce49aed5e570499717b6c502d4ba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5076 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QESIni8wW-HoIrFO2TFvYM7GxAYHdq_n0p3RwzeX2o-aWB_dKdQFiQwDXo42MU0KweaYm0qv8HQt5uEv8Xbd2jQCgmlkgnY0gmlwhKwSCC-KbXVsdGlhZGRyc5YACASsEggvBnY1AAoErBIILwZ2Nt0DgnJzhQADAQAAiXNlY3AyNTZrMaECaNR889AgfYmP6WY2wZQyLiO73IN0p1pRGBloqfbdXGSDdGNwgnY1g3VkcIJ2N4V3YWt1MgE
2025-02-11 04:04:03.792 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.93.238 waku 6cb2805bfdd4f511cd99f64c2d21065116d8335742c28af23ebc784e6ee43f5e
2025-02-11 04:04:03.841 DEBUG [src.node.docker_mananger] Container started with ID 6cb2805bfdd4. Setting up logs at ./log/docker/node2_2025-02-11_04-04-02__f0064ac3-c6c8-4d32-b0e8-eaf14be61888__wakuorg_nwaku:latest.log
2025-02-11 04:04:03.841 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5072
2025-02-11 04:04:03.841 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:04:04.842 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5072/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:04.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:04.854 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:04.854 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5072/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:04.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.93.238/tcp/5073/p2p/16Uiu2HAmVcFRitdjDUYgpfBA6TYpgNjWbpsqnf7vH7yFJuFQkubx","/ip4/172.18.93.238/tcp/5074/ws/p2p/16Uiu2HAmVcFRitdjDUYgpfBA6TYpgNjWbpsqnf7vH7yFJuFQkubx"],"enrUri":"enr:-L24QO_FBeMN465GJhdw7cv3mKDwfATigK6hcP5d1d8VtzP5T9pbXDRIMMxmNvszjp1lKUW3jEX-Kz5uWLotRFy0szUCgmlkgnY0gmlwhKwSXe6KbXVsdGlhZGRyc5YACASsEl3uBhPRAAoErBJd7gYT0t0DgnJzhQADAQAAiXNlY3AyNTZrMaED--L7d_eSMIBfOhAhsiIha6Tr7KtF7aAVv4648fBYMKODdGNwghPRg3VkcIIT04V3YWt1MgE"}'
2025-02-11 04:04:04.857 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:04.857 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5072/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.8.47/tcp/30261/p2p/16Uiu2HAm2UtJi2ksREapPZujR6Gw5jY4gvYTCHChLKGQekrMtELj"]'
2025-02-11 04:04:04.860 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:04.861 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30260/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 04:04:04.868 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:04.868 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5072/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 04:04:04.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:04.883 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:04.890 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:04.891 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:04.991 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:04.991 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:04.994 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246644882970624,"ephemeral":false}]'
2025-02-11 04:04:04.995 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:04.995 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:04.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246644882970624,"ephemeral":false}]'
2025-02-11 04:04:04.999 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:05.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:05.004 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:05.105 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.105 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246644999537920,"ephemeral":false}]'
2025-02-11 04:04:05.109 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246644999537920,"ephemeral":false}]'
2025-02-11 04:04:05.112 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:05.116 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:05.117 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:05.218 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.218 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.220 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246645112648192,"ephemeral":false}]'
2025-02-11 04:04:05.221 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.222 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246645112648192,"ephemeral":false}]'
2025-02-11 04:04:05.225 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:05.230 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:05.230 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:05.331 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.331 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.333 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246645225633792,"ephemeral":false}]'
2025-02-11 04:04:05.334 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.334 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246645225633792,"ephemeral":false}]'
2025-02-11 04:04:05.338 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:05.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:05.343 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:05.444 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.444 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246645338357248,"ephemeral":false}]'
2025-02-11 04:04:05.447 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.448 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246645338357248,"ephemeral":false}]'
2025-02-11 04:04:05.451 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:30260/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-11 04:04:05.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:05.460 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:5072/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-11 04:04:05.467 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:05.468 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:05.471 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/0'
2025-02-11 04:04:05.472 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:05.474 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/1'
2025-02-11 04:04:05.474 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:05.477 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/9'
2025-02-11 04:04:05.477 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:05.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:05.481 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:05.582 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.582 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246645477601024,"ephemeral":false}]'
2025-02-11 04:04:05.585 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.586 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246645477601024,"ephemeral":false}]'
2025-02-11 04:04:05.589 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:05.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:05.594 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:05.695 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.695 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30260/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.697 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246645589400832,"ephemeral":false}]'
2025-02-11 04:04:05.698 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:05.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:05.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739246645589400832,"ephemeral":false}]'
2025-02-11 04:04:05.703 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:04:05.704 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:04:05.704 DEBUG [src.node.waku_node] Stopping container with id 126d66108673
2025-02-11 04:04:07.018 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:07.019 DEBUG [src.node.waku_node] Stopping container with id 6cb2805bfdd4
2025-02-11 04:04:07.849 ERROR [src.node.docker_mananger] Max retries reached for container 126d66108673. Exiting log stream.
2025-02-11 04:04:08.533 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:08.533 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:04:08.548 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:04:08.555 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
